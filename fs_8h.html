<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: fs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('fs_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">fs.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &quot;<a class="el" href="qtypes_8h_source.html">qtypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qdefs_8h_source.html">qdefs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="zone_8h_source.html">zone.h</a>&quot;</code><br />
</div>
<p><a href="fs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvfs__t.html">vfs_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgamedir__t.html">gamedir_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfssearch__t.html">fssearch_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a28d7415b6e8333c22d3d5d842543669d" id="r_a28d7415b6e8333c22d3d5d842543669d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>&#160;&#160;&#160;17</td></tr>
<tr class="separator:a28d7415b6e8333c22d3d5d842543669d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9550d878584be17086e5780df0073cf" id="r_ab9550d878584be17086e5780df0073cf"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ab9550d878584be17086e5780df0073cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90005d60fdef35368e321d49ac2c865c" id="r_a90005d60fdef35368e321d49ac2c865c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a90005d60fdef35368e321d49ac2c865c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58576c47f72a4aac28e8f0dd21afcd6e" id="r_a58576c47f72a4aac28e8f0dd21afcd6e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a58576c47f72a4aac28e8f0dd21afcd6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5bcbce6d6c29888adf596671d6acd44b" id="r_a5bcbce6d6c29888adf596671d6acd44b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">typedef</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a></td></tr>
<tr class="separator:a5bcbce6d6c29888adf596671d6acd44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a1dc08a4266ddc3ae693ba4586a25a3a4" id="r_a1dc08a4266ddc3ae693ba4586a25a3a4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4">addgamedirs_t</a> { <a class="el" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a965a231b8b7c6438ce94ae96e6ea9dd7">GAMEDIRS_ALLGOOD</a> = -1
, <a class="el" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3">GAMEDIRS_FAILURE</a> = 0
, <a class="el" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a29a533d7e75d9eca8c035ab0931f8e43">GAMEDIRS_SUCCESS</a> = 1
 }</td></tr>
<tr class="separator:a1dc08a4266ddc3ae693ba4586a25a3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a87fce57e0194dccb6e05b7bd04150d33" id="r_a87fce57e0194dccb6e05b7bd04150d33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a87fce57e0194dccb6e05b7bd04150d33">FS_AddPack</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keep_plain_dirs</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> dlcache)</td></tr>
<tr class="separator:a87fce57e0194dccb6e05b7bd04150d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe52b4bf57293de544b7813828bb05ce" id="r_abe52b4bf57293de544b7813828bb05ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#abe52b4bf57293de544b7813828bb05ce">FS_WhichPack</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename)</td></tr>
<tr class="separator:abe52b4bf57293de544b7813828bb05ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6a6a671fddee50dbb3b0b1ec5d07ad" id="r_acf6a6a671fddee50dbb3b0b1ec5d07ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#acf6a6a671fddee50dbb3b0b1ec5d07ad">FS_CreatePath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path)</td></tr>
<tr class="separator:acf6a6a671fddee50dbb3b0b1ec5d07ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c54d78cc27ab3f3e244ab3b17ba4da9" id="r_a2c54d78cc27ab3f3e244ab3b17ba4da9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a2c54d78cc27ab3f3e244ab3b17ba4da9">FS_SysOpenFD</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>)</td></tr>
<tr class="separator:a2c54d78cc27ab3f3e244ab3b17ba4da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5098aecad23c311750ae649088f2d96d" id="r_a5098aecad23c311750ae649088f2d96d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>)</td></tr>
<tr class="separator:a5098aecad23c311750ae649088f2d96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7757c6165ecaee803fba8e3d1db3e2e9" id="r_a7757c6165ecaee803fba8e3d1db3e2e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>)</td></tr>
<tr class="separator:a7757c6165ecaee803fba8e3d1db3e2e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146922363508573499a2391fd3e0bf1f" id="r_a146922363508573499a2391fd3e0bf1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a146922363508573499a2391fd3e0bf1f">FS_OpenVirtualFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>)</td></tr>
<tr class="separator:a146922363508573499a2391fd3e0bf1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b01aad1753468c0a03bd4a87f513a2" id="r_af3b01aad1753468c0a03bd4a87f513a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#af3b01aad1753468c0a03bd4a87f513a2">FS_FileFromData</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>)</td></tr>
<tr class="separator:af3b01aad1753468c0a03bd4a87f513a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf26e98f08b7bbcc5645486294ebb5c" id="r_abcf26e98f08b7bbcc5645486294ebb5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:abcf26e98f08b7bbcc5645486294ebb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab478ae89e52cbb0ffb24cd20cccec60a" id="r_ab478ae89e52cbb0ffb24cd20cccec60a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ab478ae89e52cbb0ffb24cd20cccec60a">FS_RemoveOnClose</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:ab478ae89e52cbb0ffb24cd20cccec60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef891979f8e7a5158ab1ade82cd733f" id="r_a2ef891979f8e7a5158ab1ade82cd733f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>)</td></tr>
<tr class="separator:a2ef891979f8e7a5158ab1ade82cd733f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06be02d84167befd9817197abb0c2100" id="r_a06be02d84167befd9817197abb0c2100"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a06be02d84167befd9817197abb0c2100">FS_Read</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> buffersize)</td></tr>
<tr class="separator:a06be02d84167befd9817197abb0c2100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e3a888c966ea1276ad5dab8d731414" id="r_ae1e3a888c966ea1276ad5dab8d731414"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ae1e3a888c966ea1276ad5dab8d731414">FS_Print</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *msg)</td></tr>
<tr class="separator:ae1e3a888c966ea1276ad5dab8d731414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142af2d0b06056e0a5a31c0475e01e31" id="r_a142af2d0b06056e0a5a31c0475e01e31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a142af2d0b06056e0a5a31c0475e01e31">FS_Printf</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>,...) <a class="el" href="qdefs_8h.html#a659eb0ff16985038fdb81a4bfea17c19">DP_FUNC_PRINTF</a>(2)</td></tr>
<tr class="separator:a142af2d0b06056e0a5a31c0475e01e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66af7e39cdce25212e2aae7bfccc9029" id="r_a66af7e39cdce25212e2aae7bfccc9029"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a66af7e39cdce25212e2aae7bfccc9029">FS_VPrintf</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ap</a>)</td></tr>
<tr class="separator:a66af7e39cdce25212e2aae7bfccc9029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91bcbc8a4a5686b9824afeeb671b2a0" id="r_ad91bcbc8a4a5686b9824afeeb671b2a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ad91bcbc8a4a5686b9824afeeb671b2a0">FS_Getc</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:ad91bcbc8a4a5686b9824afeeb671b2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9546d12cbb0b991063c9d8c3c05a4272" id="r_a9546d12cbb0b991063c9d8c3c05a4272"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a9546d12cbb0b991063c9d8c3c05a4272">FS_UnGetc</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> c)</td></tr>
<tr class="separator:a9546d12cbb0b991063c9d8c3c05a4272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a695442a3ff4506082973bc053c1ec983" id="r_a695442a3ff4506082973bc053c1ec983"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a695442a3ff4506082973bc053c1ec983">FS_Seek</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="el" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">whence</a>)</td></tr>
<tr class="separator:a695442a3ff4506082973bc053c1ec983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c66a9e0422a0b350194c2fe7a0015a" id="r_a64c66a9e0422a0b350194c2fe7a0015a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a64c66a9e0422a0b350194c2fe7a0015a">FS_Tell</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:a64c66a9e0422a0b350194c2fe7a0015a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97defca4a096159d4e5f51bc33b7c86" id="r_ab97defca4a096159d4e5f51bc33b7c86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ab97defca4a096159d4e5f51bc33b7c86">FS_FileSize</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:ab97defca4a096159d4e5f51bc33b7c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f2a03ca613c2c6c4c98beaa253928b" id="r_a68f2a03ca613c2c6c4c98beaa253928b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:a68f2a03ca613c2c6c4c98beaa253928b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763b2c4798fd52f16e15b61b8d94f05d" id="r_a763b2c4798fd52f16e15b61b8d94f05d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a763b2c4798fd52f16e15b61b8d94f05d">FS_FileWithoutPath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *in)</td></tr>
<tr class="separator:a763b2c4798fd52f16e15b61b8d94f05d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ffae625c1150af52b17342c57425ac" id="r_a03ffae625c1150af52b17342c57425ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *in)</td></tr>
<tr class="separator:a03ffae625c1150af52b17342c57425ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0629b94b2f8803b95c72571ac6f1558" id="r_ae0629b94b2f8803b95c72571ac6f1558"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isgamedir</a>)</td></tr>
<tr class="separator:ae0629b94b2f8803b95c72571ac6f1558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0bdcd3ddc4eeae13ee7b56380c81b09" id="r_ab0bdcd3ddc4eeae13ee7b56380c81b09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ab0bdcd3ddc4eeae13ee7b56380c81b09">FS_SanitizePath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path)</td></tr>
<tr class="separator:ab0bdcd3ddc4eeae13ee7b56380c81b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360bff9bae9632be880e851386abfa23" id="r_a360bff9bae9632be880e851386abfa23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *gamedir)</td></tr>
<tr class="separator:a360bff9bae9632be880e851386abfa23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04911405f3c548289708edf1c9e3ba36" id="r_a04911405f3c548289708edf1c9e3ba36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4">addgamedirs_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a04911405f3c548289708edf1c9e3ba36">FS_SetGameDirs</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> numgamedirs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *gamedirs[], <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failmissing</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a>)</td></tr>
<tr class="separator:a04911405f3c548289708edf1c9e3ba36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3806b59d4546d489eb52bbbd45ae23b2" id="r_a3806b59d4546d489eb52bbbd45ae23b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a3806b59d4546d489eb52bbbd45ae23b2">FS_ChangeGameDirs</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> numgamedirs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *gamedirs[], <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failmissing</a>)</td></tr>
<tr class="separator:a3806b59d4546d489eb52bbbd45ae23b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb796ba35bc293b2cf0fef7e4b14f65c" id="r_afb796ba35bc293b2cf0fef7e4b14f65c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#afb796ba35bc293b2cf0fef7e4b14f65c">FS_IsRegisteredQuakePack</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>)</td></tr>
<tr class="separator:afb796ba35bc293b2cf0fef7e4b14f65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71e74126e75683b2eaf9587faae31ac" id="r_ad71e74126e75683b2eaf9587faae31ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ad71e74126e75683b2eaf9587faae31ac">FS_CRCFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</td></tr>
<tr class="separator:ad71e74126e75683b2eaf9587faae31ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5791a275b4f7a76d747179bc571694" id="r_a7b5791a275b4f7a76d747179bc571694"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a7b5791a275b4f7a76d747179bc571694">FS_UnloadPacks_dlcache</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a7b5791a275b4f7a76d747179bc571694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2790033183896d4ab46de75305b40786" id="r_a2790033183896d4ab46de75305b40786"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a2790033183896d4ab46de75305b40786">FS_Rescan</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a2790033183896d4ab46de75305b40786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637b96ed07f8e70398c51a8bc3ce4fb9" id="r_a637b96ed07f8e70398c51a8bc3ce4fb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfssearch__t.html">fssearch_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caseinsensitive</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>)</td></tr>
<tr class="separator:a637b96ed07f8e70398c51a8bc3ce4fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507c1fe37a20105eb2c08896f0d399a1" id="r_a507c1fe37a20105eb2c08896f0d399a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a507c1fe37a20105eb2c08896f0d399a1">FS_FreeSearch</a> (<a class="el" href="structfssearch__t.html">fssearch_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</td></tr>
<tr class="separator:a507c1fe37a20105eb2c08896f0d399a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b9b5ad3cc14f77ae63016505163128" id="r_a46b9b5ad3cc14f77ae63016505163128"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="structmempool__t.html">mempool_t</a> *pool, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</td></tr>
<tr class="separator:a46b9b5ad3cc14f77ae63016505163128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd82baa9c0e3ab7dc26282cb0eaae9e" id="r_aadd82baa9c0e3ab7dc26282cb0eaae9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#aadd82baa9c0e3ab7dc26282cb0eaae9e">FS_SysLoadFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="structmempool__t.html">mempool_t</a> *pool, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</td></tr>
<tr class="separator:aadd82baa9c0e3ab7dc26282cb0eaae9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae34d06bd66fbed0ee1a72a3ad726af11" id="r_ae34d06bd66fbed0ee1a72a3ad726af11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ae34d06bd66fbed0ee1a72a3ad726af11">FS_WriteFileInBlocks</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *len, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</td></tr>
<tr class="separator:ae34d06bd66fbed0ee1a72a3ad726af11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2eae59234c2478341fea0a380e99ac" id="r_a2a2eae59234c2478341fea0a380e99ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a2a2eae59234c2478341fea0a380e99ac">FS_WriteFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> len)</td></tr>
<tr class="separator:a2a2eae59234c2478341fea0a380e99ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd7ebcbb75f140d76ab37664280555f" id="r_a9fd7ebcbb75f140d76ab37664280555f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *in, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_out</a>)</td></tr>
<tr class="separator:a9fd7ebcbb75f140d76ab37664280555f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e1e4de914927db015a75a5a2817a8f" id="r_a37e1e4de914927db015a75a5a2817a8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a37e1e4de914927db015a75a5a2817a8f">FS_DefaultExtension</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *extension, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_path</a>)</td></tr>
<tr class="separator:a37e1e4de914927db015a75a5a2817a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0e1a268dfbcc16a3271a7c66938f82" id="r_a7b0e1a268dfbcc16a3271a7c66938f82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a7b0e1a268dfbcc16a3271a7c66938f82">FS_FileType</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename)</td></tr>
<tr class="memdesc:a7b0e1a268dfbcc16a3271a7c66938f82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a file in the packages and in the filesystem.  <br /></td></tr>
<tr class="separator:a7b0e1a268dfbcc16a3271a7c66938f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa860048622559fae329322e400f8856f" id="r_aa860048622559fae329322e400f8856f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#aa860048622559fae329322e400f8856f">FS_SysFileType</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename)</td></tr>
<tr class="memdesc:aa860048622559fae329322e400f8856f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a file in the filesystem only.  <br /></td></tr>
<tr class="separator:aa860048622559fae329322e400f8856f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5bb7ead56ab2c98c5b66a71e6141127" id="r_ae5bb7ead56ab2c98c5b66a71e6141127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ae5bb7ead56ab2c98c5b66a71e6141127">FS_FileExists</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename)</td></tr>
<tr class="memdesc:ae5bb7ead56ab2c98c5b66a71e6141127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a file in the packages and in the filesystem Returns its canonical name (same case as used in the pack) if found, else NULL.  <br /></td></tr>
<tr class="separator:ae5bb7ead56ab2c98c5b66a71e6141127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4073e77fbe03a9dc9f40e2961605853c" id="r_a4073e77fbe03a9dc9f40e2961605853c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a4073e77fbe03a9dc9f40e2961605853c">FS_SysFileExists</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename)</td></tr>
<tr class="memdesc:a4073e77fbe03a9dc9f40e2961605853c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a file in the filesystem only.  <br /></td></tr>
<tr class="separator:a4073e77fbe03a9dc9f40e2961605853c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11557aacb9bd4fa63cc90ad3c18fc4e" id="r_ac11557aacb9bd4fa63cc90ad3c18fc4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ac11557aacb9bd4fa63cc90ad3c18fc4e">FS_Deflate</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">deflated_size</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="el" href="structmempool__t.html">mempool_t</a> *mempool)</td></tr>
<tr class="separator:ac11557aacb9bd4fa63cc90ad3c18fc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1425cd964a12f97b4a1d494a44914386" id="r_a1425cd964a12f97b4a1d494a44914386"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a1425cd964a12f97b4a1d494a44914386">FS_Inflate</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inflated_size</a>, <a class="el" href="structmempool__t.html">mempool_t</a> *mempool)</td></tr>
<tr class="separator:a1425cd964a12f97b4a1d494a44914386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a5a0231cecf4daa90f3b827df5b254" id="r_a41a5a0231cecf4daa90f3b827df5b254"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a41a5a0231cecf4daa90f3b827df5b254">FS_HasZlib</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a41a5a0231cecf4daa90f3b827df5b254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af53d64801628f507322f59d4db9d8250" id="r_af53d64801628f507322f59d4db9d8250"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#af53d64801628f507322f59d4db9d8250">FS_Init_SelfPack</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:af53d64801628f507322f59d4db9d8250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67c972ffc834d1ee6a3aa38b101ba89" id="r_aa67c972ffc834d1ee6a3aa38b101ba89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#aa67c972ffc834d1ee6a3aa38b101ba89">FS_Init</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:aa67c972ffc834d1ee6a3aa38b101ba89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebce4845c7c6f83b3241ae1c3d6c61a" id="r_abebce4845c7c6f83b3241ae1c3d6c61a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#abebce4845c7c6f83b3241ae1c3d6c61a">FS_Shutdown</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:abebce4845c7c6f83b3241ae1c3d6c61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e09586378b419ef33b79a36b4067c4c" id="r_a6e09586378b419ef33b79a36b4067c4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a6e09586378b419ef33b79a36b4067c4c">FS_Init_Commands</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a6e09586378b419ef33b79a36b4067c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0a0d4940920cae5cd03989225834c4bb" id="r_a0a0d4940920cae5cd03989225834c4bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a> [<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td></tr>
<tr class="separator:a0a0d4940920cae5cd03989225834c4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad14136292432bbbe329d4ab28ea04b37" id="r_ad14136292432bbbe329d4ab28ea04b37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a> [<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td></tr>
<tr class="separator:ad14136292432bbbe329d4ab28ea04b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffc20194b866aa9ea07bed3f2c5a30d" id="r_afffc20194b866aa9ea07bed3f2c5a30d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a> [<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td></tr>
<tr class="separator:afffc20194b866aa9ea07bed3f2c5a30d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda51408d01fe25b934e4fd7b21a9698" id="r_adda51408d01fe25b934e4fd7b21a9698"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a></td></tr>
<tr class="separator:adda51408d01fe25b934e4fd7b21a9698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae37afe19022713da1c41aaf8e74b8a" id="r_a1ae37afe19022713da1c41aaf8e74b8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a> [<a class="el" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>][<a class="el" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>]</td></tr>
<tr class="separator:a1ae37afe19022713da1c41aaf8e74b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0173e463d50a2da05a01efcb48670b" id="r_acb0173e463d50a2da05a01efcb48670b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a></td></tr>
<tr class="separator:acb0173e463d50a2da05a01efcb48670b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1273a0774bd79c98e6a9d707e363142e" id="r_a1273a0774bd79c98e6a9d707e363142e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgamedir__t.html">gamedir_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a></td></tr>
<tr class="separator:a1273a0774bd79c98e6a9d707e363142e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9bba4c2e6cdbfcaea842f33320e6467" id="r_ad9bba4c2e6cdbfcaea842f33320e6467"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a></td></tr>
<tr class="separator:ad9bba4c2e6cdbfcaea842f33320e6467"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a58576c47f72a4aac28e8f0dd21afcd6e" name="a58576c47f72a4aac28e8f0dd21afcd6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58576c47f72a4aac28e8f0dd21afcd6e">&#9670;&#160;</a></span>FS_FILETYPE_DIRECTORY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FS_FILETYPE_DIRECTORY&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8h_source.html#l00139">139</a> of file <a class="el" href="fs_8h_source.html">fs.h</a>.</p>

</div>
</div>
<a id="a90005d60fdef35368e321d49ac2c865c" name="a90005d60fdef35368e321d49ac2c865c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90005d60fdef35368e321d49ac2c865c">&#9670;&#160;</a></span>FS_FILETYPE_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FS_FILETYPE_FILE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8h_source.html#l00138">138</a> of file <a class="el" href="fs_8h_source.html">fs.h</a>.</p>

</div>
</div>
<a id="ab9550d878584be17086e5780df0073cf" name="ab9550d878584be17086e5780df0073cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9550d878584be17086e5780df0073cf">&#9670;&#160;</a></span>FS_FILETYPE_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FS_FILETYPE_NONE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8h_source.html#l00137">137</a> of file <a class="el" href="fs_8h_source.html">fs.h</a>.</p>

</div>
</div>
<a id="a28d7415b6e8333c22d3d5d842543669d" name="a28d7415b6e8333c22d3d5d842543669d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28d7415b6e8333c22d3d5d842543669d">&#9670;&#160;</a></span>MAX_GAMEDIRS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> MAX_GAMEDIRS&#160;&#160;&#160;17</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8h_source.html#l00046">46</a> of file <a class="el" href="fs_8h_source.html">fs.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a5bcbce6d6c29888adf596671d6acd44b" name="a5bcbce6d6c29888adf596671d6acd44b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bcbce6d6c29888adf596671d6acd44b">&#9670;&#160;</a></span>fs_offset_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">typedef</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">int64_t</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8h_source.html#l00037">37</a> of file <a class="el" href="fs_8h_source.html">fs.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a1dc08a4266ddc3ae693ba4586a25a3a4" name="a1dc08a4266ddc3ae693ba4586a25a3a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dc08a4266ddc3ae693ba4586a25a3a4">&#9670;&#160;</a></span>addgamedirs_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">enum</a> <a class="el" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4">addgamedirs_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1dc08a4266ddc3ae693ba4586a25a3a4a965a231b8b7c6438ce94ae96e6ea9dd7" name="a1dc08a4266ddc3ae693ba4586a25a3a4a965a231b8b7c6438ce94ae96e6ea9dd7"></a>GAMEDIRS_ALLGOOD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3" name="a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3"></a>GAMEDIRS_FAILURE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1dc08a4266ddc3ae693ba4586a25a3a4a29a533d7e75d9eca8c035ab0931f8e43" name="a1dc08a4266ddc3ae693ba4586a25a3a4a29a533d7e75d9eca8c035ab0931f8e43"></a>GAMEDIRS_SUCCESS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="fs_8h_source.html#l00102">102</a> of file <a class="el" href="fs_8h_source.html">fs.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  102</span>                           {</div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a965a231b8b7c6438ce94ae96e6ea9dd7">GAMEDIRS_ALLGOOD</a> = -1,</div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3">GAMEDIRS_FAILURE</a> = 0,</div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a29a533d7e75d9eca8c035ab0931f8e43">GAMEDIRS_SUCCESS</a> = 1</div>
<div class="line"><span class="lineno">  106</span>} <a class="code hl_enumeration" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4">addgamedirs_t</a>;</div>
<div class="ttc" id="afs_8h_html_a1dc08a4266ddc3ae693ba4586a25a3a4"><div class="ttname"><a href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4">addgamedirs_t</a></div><div class="ttdeci">addgamedirs_t</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00102">fs.h:102</a></div></div>
<div class="ttc" id="afs_8h_html_a1dc08a4266ddc3ae693ba4586a25a3a4a29a533d7e75d9eca8c035ab0931f8e43"><div class="ttname"><a href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a29a533d7e75d9eca8c035ab0931f8e43">GAMEDIRS_SUCCESS</a></div><div class="ttdeci">@ GAMEDIRS_SUCCESS</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00106">fs.h:105</a></div></div>
<div class="ttc" id="afs_8h_html_a1dc08a4266ddc3ae693ba4586a25a3a4a965a231b8b7c6438ce94ae96e6ea9dd7"><div class="ttname"><a href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a965a231b8b7c6438ce94ae96e6ea9dd7">GAMEDIRS_ALLGOOD</a></div><div class="ttdeci">@ GAMEDIRS_ALLGOOD</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00103">fs.h:103</a></div></div>
<div class="ttc" id="afs_8h_html_a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3"><div class="ttname"><a href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3">GAMEDIRS_FAILURE</a></div><div class="ttdeci">@ GAMEDIRS_FAILURE</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00104">fs.h:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a87fce57e0194dccb6e05b7bd04150d33" name="a87fce57e0194dccb6e05b7bd04150d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87fce57e0194dccb6e05b7bd04150d33">&#9670;&#160;</a></span>FS_AddPack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_AddPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pakfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> *&#160;</td>
          <td class="paramname"><em>already_loaded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>keep_plain_dirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>dlcache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the given pack to the search path and searches for it in the game path. The pack type is autodetected by the file extension.</p>
<p>Returns true if the file was successfully added to the search path or if it was already included.</p>
<p>If keep_plain_dirs is set, the pack will be added AFTER the first sequence of plain directories. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01316">1316</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1317</span>{</div>
<div class="line"><span class="lineno"> 1318</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 1319</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>;</div>
<div class="line"><span class="lineno"> 1320</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1321</span> </div>
<div class="line"><span class="lineno"> 1322</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>)</div>
<div class="line"><span class="lineno"> 1323</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>    <span class="comment">// then find the real name...</span></div>
<div class="line"><span class="lineno"> 1326</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1327</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack)</div>
<div class="line"><span class="lineno"> 1328</span>    {</div>
<div class="line"><span class="lineno"> 1329</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;could not find pak \&quot;%s\&quot;\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1330</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1331</span>    }</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ae96b4f7b0ae6f10f156e53344ce289aa">FS_AddPack_Fullpath</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keep_plain_dirs</a>, dlcache);</div>
<div class="line"><span class="lineno"> 1336</span>}</div>
<div class="ttc" id="acommon_8c_html_ae36050083f45e395189fee6aa45fbb0c"><div class="ttname"><a href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a></div><div class="ttdeci">int dpsnprintf(char *buffer, size_t buffersize, const char *format,...)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00997">common.c:997</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="afs_8c_html_a31ca66034633d9f05e8c7199d4494f53"><div class="ttname"><a href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a></div><div class="ttdeci">static searchpath_t * FS_FindFile(const char *name, int *index, const char **canonicalname, qbool quiet)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02686">fs.c:2686</a></div></div>
<div class="ttc" id="afs_8c_html_ae96b4f7b0ae6f10f156e53344ce289aa"><div class="ttname"><a href="fs_8c.html#ae96b4f7b0ae6f10f156e53344ce289aa">FS_AddPack_Fullpath</a></div><div class="ttdeci">static qbool FS_AddPack_Fullpath(const char *pakfile, const char *shortname, qbool *already_loaded, qbool keep_plain_dirs, qbool dlcache)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01201">fs.c:1201</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a1d63847eb5a8c046655fe8ba8a3ff85b"><div class="ttname"><a href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a></div><div class="ttdeci">#define MAX_OSPATH</div><div class="ttdoc">max length of a filesystem pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00175">qdefs.h:175</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="astructsearchpath__t_html"><div class="ttname"><a href="structsearchpath__t.html">searchpath_t</a></div><div class="ttdoc">Search paths for files (including packages)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00393">fs.c:394</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, and <a class="el" href="libcurl_8c_source.html#l00521">Curl_EndDownload()</a>.</p>

</div>
</div>
<a id="a3806b59d4546d489eb52bbbd45ae23b2" name="a3806b59d4546d489eb52bbbd45ae23b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3806b59d4546d489eb52bbbd45ae23b2">&#9670;&#160;</a></span>FS_ChangeGameDirs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_ChangeGameDirs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>numgamedirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>gamedirs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>failmissing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01726">1726</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1727</span>{</div>
<div class="line"><span class="lineno"> 1728</span>    <a class="code hl_enumeration" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4">addgamedirs_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addresult</a> = <a class="code hl_function" href="com__game_8c.html#abfa94d7aab926adc052b1581505c7882">COM_ChangeGameTypeForGameDirs</a>(numgamedirs, gamedirs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failmissing</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1729</span> </div>
<div class="line"><span class="lineno"> 1730</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addresult</a> == <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a965a231b8b7c6438ce94ae96e6ea9dd7">GAMEDIRS_ALLGOOD</a>)</div>
<div class="line"><span class="lineno"> 1731</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// already using this set of gamedirs, do nothing</span></div>
<div class="line"><span class="lineno"> 1732</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addresult</a> == <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3">GAMEDIRS_FAILURE</a>)</div>
<div class="line"><span class="lineno"> 1733</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1734</span> </div>
<div class="line"><span class="lineno"> 1735</span>    <a class="code hl_function" href="host_8c.html#ab875d82ae7b85a4f3fd57d12983f1f72">Host_SaveConfig</a>(<a class="code hl_define" href="quakedef_8h.html#ae99ca2d2731dcecf9670d172003c467c">CONFIGFILENAME</a>);</div>
<div class="line"><span class="lineno"> 1736</span> </div>
<div class="line"><span class="lineno"> 1737</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">demoplayback</a>)</div>
<div class="line"><span class="lineno"> 1738</span>        <a class="code hl_function" href="cl__main_8c.html#ac60fa6234ccc6c540d448a7608d36d8a">CL_Disconnect</a>();</div>
<div class="line"><span class="lineno"> 1739</span>    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a63d6279dcddd073e17a9ed918562c406">demonum</a> = 0; <span class="comment">// make sure startdemos will work if the mod uses it</span></div>
<div class="line"><span class="lineno"> 1740</span> </div>
<div class="line"><span class="lineno"> 1741</span>    <span class="comment">// unload all sounds so they will be reloaded from the new files as needed</span></div>
<div class="line"><span class="lineno"> 1742</span>    <a class="code hl_function" href="snd__main_8c.html#acbe4c2fdbb825740a471b2c2614b4e5f">S_UnloadAllSounds_f</a>(<a class="code hl_variable" href="cmd_8c.html#aa617fb9e2fe1edc8bd6ce0fafccd3626">cmd_local</a>);</div>
<div class="line"><span class="lineno"> 1743</span> </div>
<div class="line"><span class="lineno"> 1744</span>    <span class="comment">// reinitialize filesystem to detect the new paks</span></div>
<div class="line"><span class="lineno"> 1745</span>    <a class="code hl_function" href="fs_8c.html#a2790033183896d4ab46de75305b40786">FS_Rescan</a>();</div>
<div class="line"><span class="lineno"> 1746</span> </div>
<div class="line"><span class="lineno"> 1747</span>    <span class="comment">// reload assets after the config is executed</span></div>
<div class="line"><span class="lineno"> 1748</span>    <a class="code hl_function" href="cmd_8c.html#a3f0dd749a96e838a2cfe8cc89ed78b36">Cbuf_InsertText</a>(<a class="code hl_variable" href="cmd_8c.html#aa617fb9e2fe1edc8bd6ce0fafccd3626">cmd_local</a>, <span class="stringliteral">&quot;\nloadconfig\nr_restart\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1749</span> </div>
<div class="line"><span class="lineno"> 1750</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1751</span>}</div>
<div class="ttc" id="acl__main_8c_html_ab4b4e0f12a72d330ee0869bdf1b372cd"><div class="ttname"><a href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a></div><div class="ttdeci">client_static_t cls</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00116">cl_main.c:116</a></div></div>
<div class="ttc" id="acl__main_8c_html_ac60fa6234ccc6c540d448a7608d36d8a"><div class="ttname"><a href="cl__main_8c.html#ac60fa6234ccc6c540d448a7608d36d8a">CL_Disconnect</a></div><div class="ttdeci">void CL_Disconnect(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00478">cl_main.c:478</a></div></div>
<div class="ttc" id="acmd_8c_html_a3f0dd749a96e838a2cfe8cc89ed78b36"><div class="ttname"><a href="cmd_8c.html#a3f0dd749a96e838a2cfe8cc89ed78b36">Cbuf_InsertText</a></div><div class="ttdeci">void Cbuf_InsertText(cmd_state_t *cmd, const char *text)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l00292">cmd.c:292</a></div></div>
<div class="ttc" id="acmd_8c_html_aa617fb9e2fe1edc8bd6ce0fafccd3626"><div class="ttname"><a href="cmd_8c.html#aa617fb9e2fe1edc8bd6ce0fafccd3626">cmd_local</a></div><div class="ttdeci">cmd_state_t * cmd_local</div><div class="ttdoc">command interpreter for local commands injected by SVQC, CSQC, MQC, server or client engine code uses...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l00025">cmd.c:25</a></div></div>
<div class="ttc" id="acom__game_8c_html_abfa94d7aab926adc052b1581505c7882"><div class="ttname"><a href="com__game_8c.html#abfa94d7aab926adc052b1581505c7882">COM_ChangeGameTypeForGameDirs</a></div><div class="ttdeci">int COM_ChangeGameTypeForGameDirs(unsigned numgamedirs, const char *gamedirs[], qbool failmissing, qbool init)</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00121">com_game.c:121</a></div></div>
<div class="ttc" id="afs_8c_html_a2790033183896d4ab46de75305b40786"><div class="ttname"><a href="fs_8c.html#a2790033183896d4ab46de75305b40786">FS_Rescan</a></div><div class="ttdeci">void FS_Rescan(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01545">fs.c:1545</a></div></div>
<div class="ttc" id="ahost_8c_html_ab875d82ae7b85a4f3fd57d12983f1f72"><div class="ttname"><a href="host_8c.html#ab875d82ae7b85a4f3fd57d12983f1f72">Host_SaveConfig</a></div><div class="ttdeci">void Host_SaveConfig(const char *file)</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00194">host.c:194</a></div></div>
<div class="ttc" id="aquakedef_8h_html_ae99ca2d2731dcecf9670d172003c467c"><div class="ttname"><a href="quakedef_8h.html#ae99ca2d2731dcecf9670d172003c467c">CONFIGFILENAME</a></div><div class="ttdeci">#define CONFIGFILENAME</div><div class="ttdef"><b>Definition</b> <a href="quakedef_8h_source.html#l00029">quakedef.h:29</a></div></div>
<div class="ttc" id="asnd__main_8c_html_acbe4c2fdbb825740a471b2c2614b4e5f"><div class="ttname"><a href="snd__main_8c.html#acbe4c2fdbb825740a471b2c2614b4e5f">S_UnloadAllSounds_f</a></div><div class="ttdeci">void S_UnloadAllSounds_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="snd__main_8c_source.html#l00867">snd_main.c:867</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a10140c26db835d333d65d68b530a6ddb"><div class="ttname"><a href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">client_static_t::demoplayback</a></div><div class="ttdeci">qbool demoplayback</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00588">client.h:588</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a63d6279dcddd073e17a9ed918562c406"><div class="ttname"><a href="structclient__static__t.html#a63d6279dcddd073e17a9ed918562c406">client_static_t::demonum</a></div><div class="ttdeci">int demonum</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00577">client.h:577</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="fs_8c_source.html#l01758">FS_GameDir_f()</a>, and <a class="el" href="menu_8c_source.html#l04588">ModList_Enable()</a>.</p>

</div>
</div>
<a id="a360bff9bae9632be880e851386abfa23" name="a360bff9bae9632be880e851386abfa23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360bff9bae9632be880e851386abfa23">&#9670;&#160;</a></span>FS_CheckGameDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_CheckGameDir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>gamedir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01831">1831</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1832</span>{</div>
<div class="line"><span class="lineno"> 1833</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 1834</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[8192];</div>
<div class="line"><span class="lineno"> 1835</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1836</span> </div>
<div class="line"><span class="lineno"> 1837</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a>(gamedir, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1838</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1839</span> </div>
<div class="line"><span class="lineno"> 1840</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>, gamedir), <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>));</div>
<div class="line"><span class="lineno"> 1841</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 1842</span>    {</div>
<div class="line"><span class="lineno"> 1843</span>        <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 1844</span>        {</div>
<div class="line"><span class="lineno"> 1845</span>            <span class="comment">// get description from basedir</span></div>
<div class="line"><span class="lineno"> 1846</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, gamedir), <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>));</div>
<div class="line"><span class="lineno"> 1847</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 1848</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 1849</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1850</span>        }</div>
<div class="line"><span class="lineno"> 1851</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 1852</span>    }</div>
<div class="line"><span class="lineno"> 1853</span> </div>
<div class="line"><span class="lineno"> 1854</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, gamedir), <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>));</div>
<div class="line"><span class="lineno"> 1855</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 1856</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 1857</span> </div>
<div class="line"><span class="lineno"> 1858</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a>;</div>
<div class="line"><span class="lineno"> 1859</span>}</div>
<div class="ttc" id="acommon_8c_html_a4a8220fa88226bf9cf39b12a051a20d7"><div class="ttname"><a href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a></div><div class="ttdeci">char * va(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00972">common.c:972</a></div></div>
<div class="ttc" id="afs_8c_html_a6dd81e13d3ce687a1321e09713158682"><div class="ttname"><a href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a></div><div class="ttdeci">static const char * FS_SysCheckGameDir(const char *gamedir, char *buf, size_t buflength)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01793">fs.c:1793</a></div></div>
<div class="ttc" id="afs_8c_html_acb0173e463d50a2da05a01efcb48670b"><div class="ttname"><a href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a></div><div class="ttdeci">const char *const fs_checkgamedir_missing</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00432">fs.c:432</a></div></div>
<div class="ttc" id="afs_8c_html_ad14136292432bbbe329d4ab28ea04b37"><div class="ttname"><a href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a></div><div class="ttdeci">char fs_basedir[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00438">fs.c:438</a></div></div>
<div class="ttc" id="afs_8c_html_ae0629b94b2f8803b95c72571ac6f1558"><div class="ttname"><a href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a></div><div class="ttdeci">int FS_CheckNastyPath(const char *path, qbool isgamedir)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02614">fs.c:2614</a></div></div>
<div class="ttc" id="afs_8c_html_afffc20194b866aa9ea07bed3f2c5a30d"><div class="ttname"><a href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a></div><div class="ttdeci">char fs_userdir[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00436">fs.c:436</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac0759919bfcf4c7222738ba583673a9e"><div class="ttname"><a href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei const GLchar * buf</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a339672ff94e6199019102f50d317c3d7"><div class="ttname"><a href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a></div><div class="ttdeci">return ret</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00297">shader_glsl.h:297</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01861">FS_ListGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01640">FS_SetGameDirs()</a>, and <a class="el" href="menu_8c_source.html#l04539">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="ae0629b94b2f8803b95c72571ac6f1558" name="ae0629b94b2f8803b95c72571ac6f1558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0629b94b2f8803b95c72571ac6f1558">&#9670;&#160;</a></span>FS_CheckNastyPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_CheckNastyPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>isgamedir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02614">2614</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2615</span>{</div>
<div class="line"><span class="lineno"> 2616</span>    <span class="comment">// all: never allow an empty path, as for gamedir it would access the parent directory and a non-gamedir path it is just useless</span></div>
<div class="line"><span class="lineno"> 2617</span>    <span class="keywordflow">if</span> (!path[0])</div>
<div class="line"><span class="lineno"> 2618</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 2619</span> </div>
<div class="line"><span class="lineno"> 2620</span>    <span class="comment">// Windows: don&#39;t allow \ in filenames (windows-only), period.</span></div>
<div class="line"><span class="lineno"> 2621</span>    <span class="comment">// (on Windows \ is a directory separator, but / is also supported)</span></div>
<div class="line"><span class="lineno"> 2622</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;\\&quot;</span>))</div>
<div class="line"><span class="lineno"> 2623</span>        <span class="keywordflow">return</span> 1; <span class="comment">// non-portable</span></div>
<div class="line"><span class="lineno"> 2624</span> </div>
<div class="line"><span class="lineno"> 2625</span>    <span class="comment">// Mac: don&#39;t allow Mac-only filenames - : is a directory separator</span></div>
<div class="line"><span class="lineno"> 2626</span>    <span class="comment">// instead of /, but we rely on / working already, so there&#39;s no reason to</span></div>
<div class="line"><span class="lineno"> 2627</span>    <span class="comment">// support a Mac-only path</span></div>
<div class="line"><span class="lineno"> 2628</span>    <span class="comment">// Amiga and Windows: : tries to go to root of drive</span></div>
<div class="line"><span class="lineno"> 2629</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;:&quot;</span>))</div>
<div class="line"><span class="lineno"> 2630</span>        <span class="keywordflow">return</span> 1; <span class="comment">// non-portable attempt to go to root of drive</span></div>
<div class="line"><span class="lineno"> 2631</span> </div>
<div class="line"><span class="lineno"> 2632</span>    <span class="comment">// Amiga: // is parent directory</span></div>
<div class="line"><span class="lineno"> 2633</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;//&quot;</span>))</div>
<div class="line"><span class="lineno"> 2634</span>        <span class="keywordflow">return</span> 1; <span class="comment">// non-portable attempt to go to parent directory</span></div>
<div class="line"><span class="lineno"> 2635</span> </div>
<div class="line"><span class="lineno"> 2636</span>    <span class="comment">// all: don&#39;t allow going to parent directory (../ or /../)</span></div>
<div class="line"><span class="lineno"> 2637</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;..&quot;</span>))</div>
<div class="line"><span class="lineno"> 2638</span>        <span class="keywordflow">return</span> 2; <span class="comment">// attempt to go outside the game directory</span></div>
<div class="line"><span class="lineno"> 2639</span> </div>
<div class="line"><span class="lineno"> 2640</span>    <span class="comment">// Windows and UNIXes: don&#39;t allow absolute paths</span></div>
<div class="line"><span class="lineno"> 2641</span>    <span class="keywordflow">if</span> (path[0] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 2642</span>        <span class="keywordflow">return</span> 2; <span class="comment">// attempt to go outside the game directory</span></div>
<div class="line"><span class="lineno"> 2643</span> </div>
<div class="line"><span class="lineno"> 2644</span>    <span class="comment">// all: don&#39;t allow . character immediately before a slash, this catches all imaginable cases of ./, ../, .../, etc</span></div>
<div class="line"><span class="lineno"> 2645</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;./&quot;</span>))</div>
<div class="line"><span class="lineno"> 2646</span>        <span class="keywordflow">return</span> 2; <span class="comment">// possible attempt to go outside the game directory</span></div>
<div class="line"><span class="lineno"> 2647</span> </div>
<div class="line"><span class="lineno"> 2648</span>    <span class="comment">// all: forbid trailing slash on gamedir</span></div>
<div class="line"><span class="lineno"> 2649</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isgamedir</a> &amp;&amp; path[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(path)-1] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 2650</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 2651</span> </div>
<div class="line"><span class="lineno"> 2652</span>    <span class="comment">// all: forbid leading dot on any filename for any reason</span></div>
<div class="line"><span class="lineno"> 2653</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;/.&quot;</span>))</div>
<div class="line"><span class="lineno"> 2654</span>        <span class="keywordflow">return</span> 2; <span class="comment">// attempt to go outside the game directory</span></div>
<div class="line"><span class="lineno"> 2655</span> </div>
<div class="line"><span class="lineno"> 2656</span>    <span class="comment">// after all these checks we&#39;re pretty sure it&#39;s a / separated filename</span></div>
<div class="line"><span class="lineno"> 2657</span>    <span class="comment">// and won&#39;t do much if any harm</span></div>
<div class="line"><span class="lineno"> 2658</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2659</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01517">CL_DownloadBegin_f()</a>, <a class="el" href="fs_8c_source.html#l01831">FS_CheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l02782">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l02897">FS_OpenRealFile()</a>, <a class="el" href="fs_8c_source.html#l02924">FS_OpenVirtualFile()</a>, <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l03082">VM_loadfromfile()</a>.</p>

</div>
</div>
<a id="abcf26e98f08b7bbcc5645486294ebb5c" name="abcf26e98f08b7bbcc5645486294ebb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf26e98f08b7bbcc5645486294ebb5c">&#9670;&#160;</a></span>FS_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02966">2966</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2967</span>{</div>
<div class="line"><span class="lineno"> 2968</span>    <span class="keywordflow">if</span>(file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>)</div>
<div class="line"><span class="lineno"> 2969</span>    {</div>
<div class="line"><span class="lineno"> 2970</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(file);</div>
<div class="line"><span class="lineno"> 2971</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2972</span>    }</div>
<div class="line"><span class="lineno"> 2973</span> </div>
<div class="line"><span class="lineno"> 2974</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a> (file-&gt;handle))</div>
<div class="line"><span class="lineno"> 2975</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 2976</span> </div>
<div class="line"><span class="lineno"> 2977</span>    <span class="keywordflow">if</span> (file-&gt;filename)</div>
<div class="line"><span class="lineno"> 2978</span>    {</div>
<div class="line"><span class="lineno"> 2979</span>        <span class="keywordflow">if</span> (file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#af21a4ea898d2553316d98abbcf68bc67">QFILE_FLAG_REMOVE</a>)</div>
<div class="line"><span class="lineno"> 2980</span>        {</div>
<div class="line"><span class="lineno"> 2981</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remove</a>(file-&gt;filename) == -1)</div>
<div class="line"><span class="lineno"> 2982</span>            {</div>
<div class="line"><span class="lineno"> 2983</span>                <span class="comment">// No need to report this. If removing a just</span></div>
<div class="line"><span class="lineno"> 2984</span>                <span class="comment">// written file failed, this most likely means</span></div>
<div class="line"><span class="lineno"> 2985</span>                <span class="comment">// someone else deleted it first - which we</span></div>
<div class="line"><span class="lineno"> 2986</span>                <span class="comment">// like.</span></div>
<div class="line"><span class="lineno"> 2987</span>            }</div>
<div class="line"><span class="lineno"> 2988</span>        }</div>
<div class="line"><span class="lineno"> 2989</span> </div>
<div class="line"><span class="lineno"> 2990</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>((<span class="keywordtype">void</span> *) file-&gt;filename);</div>
<div class="line"><span class="lineno"> 2991</span>    }</div>
<div class="line"><span class="lineno"> 2992</span> </div>
<div class="line"><span class="lineno"> 2993</span>    <span class="keywordflow">if</span> (file-&gt;ztk)</div>
<div class="line"><span class="lineno"> 2994</span>    {</div>
<div class="line"><span class="lineno"> 2995</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateEnd</a> (&amp;file-&gt;ztk-&gt;zstream);</div>
<div class="line"><span class="lineno"> 2996</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (file-&gt;ztk);</div>
<div class="line"><span class="lineno"> 2997</span>    }</div>
<div class="line"><span class="lineno"> 2998</span> </div>
<div class="line"><span class="lineno"> 2999</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (file);</div>
<div class="line"><span class="lineno"> 3000</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3001</span>}</div>
<div class="ttc" id="afs_8c_html_a6a7c99ee654a553e7613885f1446b06d"><div class="ttname"><a href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a></div><div class="ttdeci">#define FILEDESC_CLOSE</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00105">fs.c:105</a></div></div>
<div class="ttc" id="afs_8c_html_af21a4ea898d2553316d98abbcf68bc67"><div class="ttname"><a href="fs_8c.html#af21a4ea898d2553316d98abbcf68bc67">QFILE_FLAG_REMOVE</a></div><div class="ttdeci">#define QFILE_FLAG_REMOVE</div><div class="ttdoc">real file will be removed on close</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00294">fs.c:294</a></div></div>
<div class="ttc" id="afs_8c_html_af22de493a428075817e6040fca62767e"><div class="ttname"><a href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a></div><div class="ttdeci">#define QFILE_FLAG_DATA</div><div class="ttdoc">file is actually already loaded data</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00292">fs.c:292</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00137">CL_CutDemo()</a>, <a class="el" href="cl__main_8c_source.html#l02308">CL_Locs_Save_f()</a>, <a class="el" href="cl__demo_8c_source.html#l00307">CL_Stop_f()</a>, <a class="el" href="cl__demo_8c_source.html#l00081">CL_StopPlayback()</a>, <a class="el" href="console_8c_source.html#l00806">Con_ConDump_f()</a>, <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, <a class="el" href="libcurl_8c_source.html#l00521">Curl_EndDownload()</a>, <a class="el" href="fs_8c_source.html#l03499">FS_LoadAndCloseQFile()</a>, <a class="el" href="fs_8c_source.html#l02782">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l01793">FS_SysCheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l03565">FS_WriteFileInBlocks()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="host_8c_source.html#l00194">Host_SaveConfig()</a>, <a class="el" href="host_8c_source.html#l00353">Host_UnlockSession()</a>, <a class="el" href="dpvsimpledecode_8c_source.html#l00071">hz_bitstream_read_close()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00167">jam_close()</a>, <a class="el" href="jpeg_8c_source.html#l00818">JPEG_SaveImage_preflipped()</a>, <a class="el" href="keys_8c_source.html#l00050">Key_History_Init()</a>, <a class="el" href="keys_8c_source.html#l00093">Key_History_Shutdown()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00222">libavw_close()</a>, <a class="el" href="console_8c_source.html#l00525">Log_Close()</a>, <a class="el" href="console_8c_source.html#l00659">Log_Printf()</a>, <a class="el" href="menu_8c_source.html#l00843">M_ScanSaves()</a>, <a class="el" href="image__png_8c_source.html#l00477">PNG_SaveImage_preflipped()</a>, <a class="el" href="prvm__edict_8c_source.html#l02005">PRVM_Prog_Load()</a>, <a class="el" href="cl__parse_8c_source.html#l00540">QW_CL_CheckOrDownloadFile()</a>, <a class="el" href="gl__rmain_8c_source.html#l01419">R_GLSL_DumpShader_f()</a>, <a class="el" href="cap__avi_8c_source.html#l00407">SCR_CaptureVideo_Avi_EndVideo()</a>, <a class="el" href="cap__ogg_8c_source.html#l00715">SCR_CaptureVideo_Ogg_EndVideo()</a>, <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>, <a class="el" href="sv__main_8c_source.html#l01008">SV_DropClient()</a>, <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>, <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>, <a class="el" href="sv__demo_8c_source.html#l00055">SV_StopDemoRecording()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04318">VM_buf_loadfile()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01963">VM_fclose()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01863">VM_Files_CloseAll()</a>, <a class="el" href="wad_8c_source.html#l00165">W_LoadTextureWadFile()</a>, and <a class="el" href="wad_8c_source.html#l00087">W_UnloadAll()</a>.</p>

</div>
</div>
<a id="ad71e74126e75683b2eaf9587faae31ac" name="ad71e74126e75683b2eaf9587faae31ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71e74126e75683b2eaf9587faae31ac">&#9670;&#160;</a></span>FS_CRCFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_CRCFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *&#160;</td>
          <td class="paramname"><em>filesizepointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04153">4153</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4154</span>{</div>
<div class="line"><span class="lineno"> 4155</span>    <span class="keywordtype">int</span> crc = -1;</div>
<div class="line"><span class="lineno"> 4156</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>;</div>
<div class="line"><span class="lineno"> 4157</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> filesize;</div>
<div class="line"><span class="lineno"> 4158</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</div>
<div class="line"><span class="lineno"> 4159</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a> = 0;</div>
<div class="line"><span class="lineno"> 4160</span>    <span class="keywordflow">if</span> (!filename || !*filename)</div>
<div class="line"><span class="lineno"> 4161</span>        <span class="keywordflow">return</span> crc;</div>
<div class="line"><span class="lineno"> 4162</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a> = <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(filename, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, &amp;filesize);</div>
<div class="line"><span class="lineno"> 4163</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>)</div>
<div class="line"><span class="lineno"> 4164</span>    {</div>
<div class="line"><span class="lineno"> 4165</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</div>
<div class="line"><span class="lineno"> 4166</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a> = filesize;</div>
<div class="line"><span class="lineno"> 4167</span>        crc = <a class="code hl_function" href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>, filesize);</div>
<div class="line"><span class="lineno"> 4168</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>);</div>
<div class="line"><span class="lineno"> 4169</span>    }</div>
<div class="line"><span class="lineno"> 4170</span>    <span class="keywordflow">return</span> crc;</div>
<div class="line"><span class="lineno"> 4171</span>}</div>
<div class="ttc" id="acom__crc16_8c_html_aa9ba811c20537ebd01898928be2de439"><div class="ttname"><a href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a></div><div class="ttdeci">unsigned short CRC_Block(const unsigned char *data, size_t size)</div><div class="ttdef"><b>Definition</b> <a href="com__crc16_8c_source.html#l00075">com_crc16.c:75</a></div></div>
<div class="ttc" id="afs_8c_html_a46b9b5ad3cc14f77ae63016505163128"><div class="ttname"><a href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a></div><div class="ttdeci">unsigned char * FS_LoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03536">fs.c:3536</a></div></div>
<div class="ttc" id="afs_8h_html_a5bcbce6d6c29888adf596671d6acd44b"><div class="ttname"><a href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a></div><div class="ttdeci">int64_t fs_offset_t</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00037">fs.h:37</a></div></div>
<div class="ttc" id="azone_8c_html_ac742acee1395c22ccf6d2370d465f844"><div class="ttname"><a href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a></div><div class="ttdeci">mempool_t * tempmempool</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00794">zone.c:794</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01088">CL_BeginDownloads()</a>, <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, and <a class="el" href="cl__parse_8c_source.html#l00585">QW_CL_RequestNextDownload()</a>.</p>

</div>
</div>
<a id="acf6a6a671fddee50dbb3b0b1ec5d07ad" name="acf6a6a671fddee50dbb3b0b1ec5d07ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6a6a671fddee50dbb3b0b1ec5d07ad">&#9670;&#160;</a></span>FS_CreatePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_CreatePath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01035">1035</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1036</span>{</div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keywordtype">char</span> *ofs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">save</a>;</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordflow">for</span> (ofs = path+1 ; *ofs ; ofs++)</div>
<div class="line"><span class="lineno"> 1040</span>    {</div>
<div class="line"><span class="lineno"> 1041</span>        <span class="keywordflow">if</span> (*ofs == <span class="charliteral">&#39;/&#39;</span> || *ofs == <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><span class="lineno"> 1042</span>        {</div>
<div class="line"><span class="lineno"> 1043</span>            <span class="comment">// create the directory</span></div>
<div class="line"><span class="lineno"> 1044</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">save</a> = *ofs;</div>
<div class="line"><span class="lineno"> 1045</span>            *ofs = 0;</div>
<div class="line"><span class="lineno"> 1046</span>            <a class="code hl_function" href="fs_8c.html#a402f23710e6092bb3ee899cd0bc38c93">FS_mkdir</a> (path);</div>
<div class="line"><span class="lineno"> 1047</span>            *ofs = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">save</a>;</div>
<div class="line"><span class="lineno"> 1048</span>        }</div>
<div class="line"><span class="lineno"> 1049</span>    }</div>
<div class="line"><span class="lineno"> 1050</span>}</div>
<div class="ttc" id="afs_8c_html_a402f23710e6092bb3ee899cd0bc38c93"><div class="ttname"><a href="fs_8c.html#a402f23710e6092bb3ee899cd0bc38c93">FS_mkdir</a></div><div class="ttdeci">static void FS_mkdir(const char *path)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01006">fs.c:1006</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="fs_8c_source.html#l02897">FS_OpenRealFile()</a>, and <a class="el" href="host_8c_source.html#l00327">Host_LockSession()</a>.</p>

</div>
</div>
<a id="a37e1e4de914927db015a75a5a2817a8f" name="a37e1e4de914927db015a75a5a2817a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37e1e4de914927db015a75a5a2817a8f">&#9670;&#160;</a></span>FS_DefaultExtension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_DefaultExtension </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03637">3637</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3638</span>{</div>
<div class="line"><span class="lineno"> 3639</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *src;</div>
<div class="line"><span class="lineno"> 3640</span> </div>
<div class="line"><span class="lineno"> 3641</span>    <span class="comment">// if path doesn&#39;t have a .EXT, append extension</span></div>
<div class="line"><span class="lineno"> 3642</span>    <span class="comment">// (extension should include the .)</span></div>
<div class="line"><span class="lineno"> 3643</span>    src = path + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(path);</div>
<div class="line"><span class="lineno"> 3644</span> </div>
<div class="line"><span class="lineno"> 3645</span>    <span class="keywordflow">while</span> (*src != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; src != path)</div>
<div class="line"><span class="lineno"> 3646</span>    {</div>
<div class="line"><span class="lineno"> 3647</span>        <span class="keywordflow">if</span> (*src == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno"> 3648</span>            <span class="keywordflow">return</span>;                 <span class="comment">// it has an extension</span></div>
<div class="line"><span class="lineno"> 3649</span>        src--;</div>
<div class="line"><span class="lineno"> 3650</span>    }</div>
<div class="line"><span class="lineno"> 3651</span> </div>
<div class="line"><span class="lineno"> 3652</span>    <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a> (path, extension, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_path</a>);</div>
<div class="line"><span class="lineno"> 3653</span>}</div>
<div class="ttc" id="acommon_8h_html_a48b55a981b8eb9cbcf455b613f62e6b3"><div class="ttname"><a href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a></div><div class="ttdeci">#define dp_strlcat(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00304">common.h:304</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00413">CL_PlayDemo()</a>, <a class="el" href="cl__demo_8c_source.html#l00346">CL_Record_f()</a>, <a class="el" href="gl__textures_8c_source.html#l01569">R_LoadTextureDDSFile()</a>, <a class="el" href="sv__save_8c_source.html#l00245">SV_Loadgame_f()</a>, <a class="el" href="sv__save_8c_source.html#l00208">SV_Savegame_f()</a>, and <a class="el" href="sv__demo_8c_source.html#l00006">SV_StartDemoRecording()</a>.</p>

</div>
</div>
<a id="ac11557aacb9bd4fa63cc90ad3c18fc4e" name="ac11557aacb9bd4fa63cc90ad3c18fc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11557aacb9bd4fa63cc90ad3c18fc4e">&#9670;&#160;</a></span>FS_Deflate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_Deflate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *&#160;</td>
          <td class="paramname"><em>deflated_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>mempool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04173">4173</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4174</span>{</div>
<div class="line"><span class="lineno"> 4175</span>    <a class="code hl_struct" href="structz__stream.html">z_stream</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>;</div>
<div class="line"><span class="lineno"> 4176</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4177</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>;</div>
<div class="line"><span class="lineno"> 4178</span> </div>
<div class="line"><span class="lineno"> 4179</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">deflated_size</a> = 0;</div>
<div class="line"><span class="lineno"> 4180</span><span class="preprocessor">#ifndef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno"> 4181</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a>)</div>
<div class="line"><span class="lineno"> 4182</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4183</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4184</span> </div>
<div class="line"><span class="lineno"> 4185</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>));</div>
<div class="line"><span class="lineno"> 4186</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.zalloc = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4187</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.zfree = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4188</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.opaque = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4189</span> </div>
<div class="line"><span class="lineno"> 4190</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 4191</span>        <a class="code hl_variable" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a> = <a class="code hl_define" href="fs_8c.html#af5387baee05124298e431ebe6fe96b17">Z_DEFAULT_COMPRESSION</a>;</div>
<div class="line"><span class="lineno"> 4192</span> </div>
<div class="line"><span class="lineno"> 4193</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="fs_8c.html#aafe06a729bbb4d02cdfca0c5a1343898">qz_deflateInit2</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, <a class="code hl_variable" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="code hl_define" href="fs_8c.html#a27a96226f3dc88e4743131c632adf32f">Z_DEFLATED</a>, -<a class="code hl_define" href="fs_8c.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a>, <a class="code hl_define" href="fs_8c.html#ae0f56a36e3dd5b9931904489655bbddb">Z_MEMLEVEL_DEFAULT</a>, <a class="code hl_define" href="fs_8c.html#a2bfe22ed89d3553335d18a4c3cab67af">Z_BINARY</a>) != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno"> 4194</span>    {</div>
<div class="line"><span class="lineno"> 4195</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: deflate init error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4196</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4197</span>    }</div>
<div class="line"><span class="lineno"> 4198</span> </div>
<div class="line"><span class="lineno"> 4199</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.next_in = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><span class="lineno"> 4200</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_in = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 4201</span> </div>
<div class="line"><span class="lineno"> 4202</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><span class="lineno"> 4203</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>)</div>
<div class="line"><span class="lineno"> 4204</span>    {</div>
<div class="line"><span class="lineno"> 4205</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: not enough memory in tempmempool!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4206</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>);</div>
<div class="line"><span class="lineno"> 4207</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4208</span>    }</div>
<div class="line"><span class="lineno"> 4209</span> </div>
<div class="line"><span class="lineno"> 4210</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.next_out = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>;</div>
<div class="line"><span class="lineno"> 4211</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_out = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 4212</span> </div>
<div class="line"><span class="lineno"> 4213</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflate</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, <a class="code hl_define" href="fs_8c.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>) != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno"> 4214</span>    {</div>
<div class="line"><span class="lineno"> 4215</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: deflate failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4216</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>);</div>
<div class="line"><span class="lineno"> 4217</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4218</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4219</span>    }</div>
<div class="line"><span class="lineno"> 4220</span> </div>
<div class="line"><span class="lineno"> 4221</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>) != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno"> 4222</span>    {</div>
<div class="line"><span class="lineno"> 4223</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: deflateEnd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4224</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4225</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4226</span>    }</div>
<div class="line"><span class="lineno"> 4227</span> </div>
<div class="line"><span class="lineno"> 4228</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_out &gt;= <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>)</div>
<div class="line"><span class="lineno"> 4229</span>    {</div>
<div class="line"><span class="lineno"> 4230</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: deflate is useless on this data!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4231</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4232</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4233</span>    }</div>
<div class="line"><span class="lineno"> 4234</span> </div>
<div class="line"><span class="lineno"> 4235</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(mempool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_out);</div>
<div class="line"><span class="lineno"> 4236</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>)</div>
<div class="line"><span class="lineno"> 4237</span>    {</div>
<div class="line"><span class="lineno"> 4238</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: not enough memory in target mempool!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4239</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4240</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4241</span>    }</div>
<div class="line"><span class="lineno"> 4242</span> </div>
<div class="line"><span class="lineno"> 4243</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">deflated_size</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_out;</div>
<div class="line"><span class="lineno"> 4244</span> </div>
<div class="line"><span class="lineno"> 4245</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_out);</div>
<div class="line"><span class="lineno"> 4246</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4247</span> </div>
<div class="line"><span class="lineno"> 4248</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4249</span>}</div>
<div class="ttc" id="afs_8c_html_a27a96226f3dc88e4743131c632adf32f"><div class="ttname"><a href="fs_8c.html#a27a96226f3dc88e4743131c632adf32f">Z_DEFLATED</a></div><div class="ttdeci">#define Z_DEFLATED</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00236">fs.c:236</a></div></div>
<div class="ttc" id="afs_8c_html_a2bfe22ed89d3553335d18a4c3cab67af"><div class="ttname"><a href="fs_8c.html#a2bfe22ed89d3553335d18a4c3cab67af">Z_BINARY</a></div><div class="ttdeci">#define Z_BINARY</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00235">fs.c:235</a></div></div>
<div class="ttc" id="afs_8c_html_a6293ae0302d8c803fa5100fc55f4f071"><div class="ttname"><a href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a></div><div class="ttdeci">static dllhandle_t zlib_dll</div><div class="ttdoc">Handle for Zlib DLL.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00501">fs.c:501</a></div></div>
<div class="ttc" id="afs_8c_html_a7d94a4a852228a899864a0053162e7a8"><div class="ttname"><a href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a></div><div class="ttdeci">#define Z_STREAM_END</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00228">fs.c:228</a></div></div>
<div class="ttc" id="afs_8c_html_a876a626ba14eb12eea4bbf6823b6ca50"><div class="ttname"><a href="fs_8c.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a></div><div class="ttdeci">#define Z_FINISH</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00244">fs.c:244</a></div></div>
<div class="ttc" id="afs_8c_html_a8cb802b6a11e926478dc6547c514c65c"><div class="ttname"><a href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a></div><div class="ttdeci">#define Z_OK</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00227">fs.c:227</a></div></div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="afs_8c_html_aac6e8d3b3465804e2be1198b2a2a3143"><div class="ttname"><a href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a></div><div class="ttdeci">static int level</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00475">fs.c:475</a></div></div>
<div class="ttc" id="afs_8c_html_aafe06a729bbb4d02cdfca0c5a1343898"><div class="ttname"><a href="fs_8c.html#aafe06a729bbb4d02cdfca0c5a1343898">qz_deflateInit2</a></div><div class="ttdeci">#define qz_deflateInit2(strm, level, method, windowBits, memLevel, strategy)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00482">fs.c:482</a></div></div>
<div class="ttc" id="afs_8c_html_abd2f406ac1f9c49236376115d78ccb5b"><div class="ttname"><a href="fs_8c.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a></div><div class="ttdeci">#define MAX_WBITS</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00226">fs.c:226</a></div></div>
<div class="ttc" id="afs_8c_html_ad15afa2776b41b2f4d8582dd152bd736"><div class="ttname"><a href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a></div><div class="ttdeci">#define Z_NULL</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00239">fs.c:239</a></div></div>
<div class="ttc" id="afs_8c_html_ae0f56a36e3dd5b9931904489655bbddb"><div class="ttname"><a href="fs_8c.html#ae0f56a36e3dd5b9931904489655bbddb">Z_MEMLEVEL_DEFAULT</a></div><div class="ttdeci">#define Z_MEMLEVEL_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00237">fs.c:237</a></div></div>
<div class="ttc" id="afs_8c_html_af5387baee05124298e431ebe6fe96b17"><div class="ttname"><a href="fs_8c.html#af5387baee05124298e431ebe6fe96b17">Z_DEFAULT_COMPRESSION</a></div><div class="ttdeci">#define Z_DEFAULT_COMPRESSION</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00240">fs.c:240</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0208b298f4c65e680a58434efb699fe8"><div class="ttname"><a href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a></div><div class="ttdeci">GLuint GLuint GLintptr GLsizeiptr size</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="aglquake_8h_html_a820662f5b80a48256e2503352e9f51b9"><div class="ttname"><a href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a></div><div class="ttdeci">GLsizeiptr const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00638">glquake.h:638</a></div></div>
<div class="ttc" id="astructz__stream_html"><div class="ttname"><a href="structz__stream.html">z_stream</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00263">fs.c:264</a></div></div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__main_8c_source.html#l01701">SV_Prepare_CSQC()</a>.</p>

</div>
</div>
<a id="ae5bb7ead56ab2c98c5b66a71e6141127" name="ae5bb7ead56ab2c98c5b66a71e6141127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5bb7ead56ab2c98c5b66a71e6141127">&#9670;&#160;</a></span>FS_FileExists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_FileExists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a file in the packages and in the filesystem Returns its canonical name (same case as used in the pack) if found, else NULL. </p>
<p>If the file is found outside a pak, this will be the same pointer as passed in. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03689">3689</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3690</span>{</div>
<div class="line"><span class="lineno"> 3691</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>;</div>
<div class="line"><span class="lineno"> 3692</span> </div>
<div class="line"><span class="lineno"> 3693</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a>(filename, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>, <span class="keyword">true</span>) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a> : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3694</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cd__shared_8c_source.html#l00119">CDAudio_Play_byName()</a>, <a class="el" href="cl__parse_8c_source.html#l01088">CL_BeginDownloads()</a>, <a class="el" href="cl__parse_8c_source.html#l00479">CL_SetupWorldModel()</a>, <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, <a class="el" href="libcurl_8c_source.html#l01425">Curl_Curl_f()</a>, <a class="el" href="ft2_8c_source.html#l00521">Font_LoadFont()</a>, <a class="el" href="fs_8c_source.html#l01545">FS_Rescan()</a>, <a class="el" href="host_8c_source.html#l00229">Host_AddConfigText()</a>, <a class="el" href="image_8c_source.html#l01043">loadimagepixelsbgra()</a>, <a class="el" href="menu_8c_source.html#l00355">M_Menu_Main_f()</a>, <a class="el" href="menu_8c_source.html#l05451">MR_SetRouting()</a>, <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>, and <a class="el" href="sv__main_8c_source.html#l01800">SV_SpawnServer()</a>.</p>

</div>
</div>
<a id="a03ffae625c1150af52b17342c57425ac" name="a03ffae625c1150af52b17342c57425ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ffae625c1150af52b17342c57425ac">&#9670;&#160;</a></span>FS_FileExtension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_FileExtension </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01410">1410</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1411</span>{</div>
<div class="line"><span class="lineno"> 1412</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a>;</div>
<div class="line"><span class="lineno"> 1413</span> </div>
<div class="line"><span class="lineno"> 1414</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno"> 1415</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1416</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1417</span> </div>
<div class="line"><span class="lineno"> 1418</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 1419</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;\\&#39;</span>);</div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>)</div>
<div class="line"><span class="lineno"> 1421</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>;</div>
<div class="line"><span class="lineno"> 1422</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 1423</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>)</div>
<div class="line"><span class="lineno"> 1424</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>;</div>
<div class="line"><span class="lineno"> 1425</span> </div>
<div class="line"><span class="lineno"> 1426</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>))</div>
<div class="line"><span class="lineno"> 1427</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> + 1;</div>
<div class="line"><span class="lineno"> 1430</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__video_8c_source.html#l00613">CL_PlayVideo_f()</a>, <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="fs_8c_source.html#l01347">FS_AddGameDirectory()</a>, <a class="el" href="fs_8c_source.html#l01201">FS_AddPack_Fullpath()</a>, <a class="el" href="image_8c_source.html#l00913">Image_StripImageExtension()</a>, <a class="el" href="model__shared_8c_source.html#l00406">Mod_LoadModel()</a>, <a class="el" href="cl__screen_8c_source.html#l00908">SCR_ScreenShot_f()</a>, and <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>.</p>

</div>
</div>
<a id="af3b01aad1753468c0a03bd4a87f513a2" name="af3b01aad1753468c0a03bd4a87f513a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b01aad1753468c0a03bd4a87f513a2">&#9670;&#160;</a></span>FS_FileFromData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_FileFromData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02947">2947</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2948</span>{</div>
<div class="line"><span class="lineno"> 2949</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a>* file;</div>
<div class="line"><span class="lineno"> 2950</span>    file = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (*file));</div>
<div class="line"><span class="lineno"> 2951</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a> (file, 0, <span class="keyword">sizeof</span> (*file));</div>
<div class="line"><span class="lineno"> 2952</span>    file-&gt;flags = <a class="code hl_define" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>;</div>
<div class="line"><span class="lineno"> 2953</span>    file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 2954</span>    file-&gt;real_length = <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 2955</span>    file-&gt;data = <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><span class="lineno"> 2956</span>    <span class="keywordflow">return</span> file;</div>
<div class="line"><span class="lineno"> 2957</span>}</div>
<div class="ttc" id="afs_8c_html_acaa25479f01cbf5214475a82a0e44cb9"><div class="ttname"><a href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a></div><div class="ttdeci">mempool_t * fs_mempool</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00428">fs.c:428</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>.</p>

</div>
</div>
<a id="ab97defca4a096159d4e5f51bc33b7c86" name="ab97defca4a096159d4e5f51bc33b7c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97defca4a096159d4e5f51bc33b7c86">&#9670;&#160;</a></span>FS_FileSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> FS_FileSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03470">3470</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3471</span>{</div>
<div class="line"><span class="lineno"> 3472</span>    <span class="keywordflow">return</span> file-&gt;real_length;</div>
<div class="line"><span class="lineno"> 3473</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__video__libavw_8c_source.html#l00246">LibAvW_FS_SeekSize()</a>, <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>, and <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>.</p>

</div>
</div>
<a id="a7b0e1a268dfbcc16a3271a7c66938f82" name="a7b0e1a268dfbcc16a3271a7c66938f82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0e1a268dfbcc16a3271a7c66938f82">&#9670;&#160;</a></span>FS_FileType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_FileType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a file in the packages and in the filesystem. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03663">3663</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3664</span>{</div>
<div class="line"><span class="lineno"> 3665</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 3666</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3667</span> </div>
<div class="line"><span class="lineno"> 3668</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a> (filename, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3669</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</div>
<div class="line"><span class="lineno"> 3670</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 3671</span> </div>
<div class="line"><span class="lineno"> 3672</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;vpack)</div>
<div class="line"><span class="lineno"> 3673</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a>; <span class="comment">// TODO can&#39;t check directories in paks yet, maybe later</span></div>
<div class="line"><span class="lineno"> 3674</span> </div>
<div class="line"><span class="lineno"> 3675</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename, filename);</div>
<div class="line"><span class="lineno"> 3676</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ad85ade8d917e7785a8c88a2db2d026bf">FS_SysFileType</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>);</div>
<div class="line"><span class="lineno"> 3677</span>}</div>
<div class="ttc" id="afs_8c_html_ad85ade8d917e7785a8c88a2db2d026bf"><div class="ttname"><a href="fs_8c.html#ad85ade8d917e7785a8c88a2db2d026bf">FS_SysFileType</a></div><div class="ttdeci">int FS_SysFileType(const char *path)</div><div class="ttdoc">Look for a file in the filesystem only.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03704">fs.c:3704</a></div></div>
<div class="ttc" id="afs_8h_html_a90005d60fdef35368e321d49ac2c865c"><div class="ttname"><a href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a></div><div class="ttdeci">#define FS_FILETYPE_FILE</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00138">fs.h:138</a></div></div>
<div class="ttc" id="afs_8h_html_ab9550d878584be17086e5780df0073cf"><div class="ttname"><a href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a></div><div class="ttdeci">#define FS_FILETYPE_NONE</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00137">fs.h:137</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l02738">Con_CompleteCommandLine()</a>.</p>

</div>
</div>
<a id="a763b2c4798fd52f16e15b61b8d94f05d" name="a763b2c4798fd52f16e15b61b8d94f05d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763b2c4798fd52f16e15b61b8d94f05d">&#9670;&#160;</a></span>FS_FileWithoutPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_FileWithoutPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01438">1438</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1439</span>{</div>
<div class="line"><span class="lineno"> 1440</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>;</div>
<div class="line"><span class="lineno"> 1441</span> </div>
<div class="line"><span class="lineno"> 1442</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 1443</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;\\&#39;</span>);</div>
<div class="line"><span class="lineno"> 1444</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>)</div>
<div class="line"><span class="lineno"> 1445</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>;</div>
<div class="line"><span class="lineno"> 1446</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 1447</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>)</div>
<div class="line"><span class="lineno"> 1448</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>;</div>
<div class="line"><span class="lineno"> 1449</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> + 1 : in;</div>
<div class="line"><span class="lineno"> 1450</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="com__game_8c_source.html#l00094">COM_InitGameType()</a>, and <a class="el" href="fs_8c_source.html#l04107">FS_IsRegisteredQuakePack()</a>.</p>

</div>
</div>
<a id="a507c1fe37a20105eb2c08896f0d399a1" name="a507c1fe37a20105eb2c08896f0d399a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507c1fe37a20105eb2c08896f0d399a1">&#9670;&#160;</a></span>FS_FreeSearch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_FreeSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfssearch__t.html">fssearch_t</a> *&#160;</td>
          <td class="paramname"><em>search</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03958">3958</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3959</span>{</div>
<div class="line"><span class="lineno"> 3960</span>    <a class="code hl_define" href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>);</div>
<div class="line"><span class="lineno"> 3961</span>}</div>
<div class="ttc" id="azone_8h_html_abbce8ea44a12486a6b59f31f02bab5ee"><div class="ttname"><a href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a></div><div class="ttdeci">#define Z_Free(data)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00164">zone.h:164</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cmd_8c_source.html#l00667">Cmd_Exec_f()</a>, <a class="el" href="console_8c_source.html#l02738">Con_CompleteCommandLine()</a>, <a class="el" href="fs_8c_source.html#l03964">FS_ListDirectory()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="image_8c_source.html#l01376">Image_FixTransparentPixels_f()</a>, <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03207">VM_search_end()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l03142">VM_Search_Reset()</a>.</p>

</div>
</div>
<a id="ad91bcbc8a4a5686b9824afeeb671b2a0" name="ad91bcbc8a4a5686b9824afeeb671b2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91bcbc8a4a5686b9824afeeb671b2a0">&#9670;&#160;</a></span>FS_Getc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Getc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03319">3319</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3320</span>{</div>
<div class="line"><span class="lineno"> 3321</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c;</div>
<div class="line"><span class="lineno"> 3322</span> </div>
<div class="line"><span class="lineno"> 3323</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a> (file, &amp;c, 1) != 1)</div>
<div class="line"><span class="lineno"> 3324</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 3325</span> </div>
<div class="line"><span class="lineno"> 3326</span>    <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno"> 3327</span>}</div>
<div class="ttc" id="afs_8c_html_a06be02d84167befd9817197abb0c2100"><div class="ttname"><a href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a></div><div class="ttdeci">fs_offset_t FS_Read(qfile_t *file, void *buffer, size_t buffersize)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03062">fs.c:3062</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00413">CL_PlayDemo()</a>, <a class="el" href="keys_8c_source.html#l00050">Key_History_Init()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04318">VM_buf_loadfile()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l01996">VM_fgets()</a>.</p>

</div>
</div>
<a id="a41a5a0231cecf4daa90f3b827df5b254" name="a41a5a0231cecf4daa90f3b827df5b254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41a5a0231cecf4daa90f3b827df5b254">&#9670;&#160;</a></span>FS_HasZlib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_HasZlib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00614">614</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  615</span>{</div>
<div class="line"><span class="lineno">  616</span><span class="preprocessor">#ifdef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  618</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  619</span>    <a class="code hl_function" href="fs_8c.html#a88402d87eb304d652f6d3edd1dbb62bc">PK3_OpenLibrary</a>(); <span class="comment">// to be safe</span></div>
<div class="line"><span class="lineno">  620</span>    <span class="keywordflow">return</span> (<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a> != 0);</div>
<div class="line"><span class="lineno">  621</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  622</span>}</div>
<div class="ttc" id="afs_8c_html_a88402d87eb304d652f6d3edd1dbb62bc"><div class="ttname"><a href="fs_8c.html#a88402d87eb304d652f6d3edd1dbb62bc">PK3_OpenLibrary</a></div><div class="ttdeci">static qbool PK3_OpenLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00575">fs.c:575</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01088">CL_BeginDownloads()</a>.</p>

</div>
</div>
<a id="a1425cd964a12f97b4a1d494a44914386" name="a1425cd964a12f97b4a1d494a44914386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1425cd964a12f97b4a1d494a44914386">&#9670;&#160;</a></span>FS_Inflate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_Inflate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *&#160;</td>
          <td class="paramname"><em>inflated_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>mempool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04268">4268</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4269</span>{</div>
<div class="line"><span class="lineno"> 4270</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 4271</span>    <a class="code hl_struct" href="structz__stream.html">z_stream</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>;</div>
<div class="line"><span class="lineno"> 4272</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4273</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>[2048];</div>
<div class="line"><span class="lineno"> 4274</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a>;</div>
<div class="line"><span class="lineno"> 4275</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>;</div>
<div class="line"><span class="lineno"> 4276</span> </div>
<div class="line"><span class="lineno"> 4277</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inflated_size</a> = 0;</div>
<div class="line"><span class="lineno"> 4278</span><span class="preprocessor">#ifndef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno"> 4279</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a>)</div>
<div class="line"><span class="lineno"> 4280</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4281</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4282</span> </div>
<div class="line"><span class="lineno"> 4283</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>));</div>
<div class="line"><span class="lineno"> 4284</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>));</div>
<div class="line"><span class="lineno"> 4285</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.maxsize = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4286</span> </div>
<div class="line"><span class="lineno"> 4287</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>));</div>
<div class="line"><span class="lineno"> 4288</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.zalloc = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4289</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.zfree = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4290</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.opaque = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4291</span> </div>
<div class="line"><span class="lineno"> 4292</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="fs_8c.html#aeac24933ccc3405abb3156f57b89eb1e">qz_inflateInit2</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, -<a class="code hl_define" href="fs_8c.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a>) != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno"> 4293</span>    {</div>
<div class="line"><span class="lineno"> 4294</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Inflate: inflate init error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4295</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data);</div>
<div class="line"><span class="lineno"> 4296</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4297</span>    }</div>
<div class="line"><span class="lineno"> 4298</span> </div>
<div class="line"><span class="lineno"> 4299</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.next_in = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><span class="lineno"> 4300</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_in = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 4301</span> </div>
<div class="line"><span class="lineno"> 4302</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 4303</span>    {</div>
<div class="line"><span class="lineno"> 4304</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.next_out = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>;</div>
<div class="line"><span class="lineno"> 4305</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_out = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4306</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, <a class="code hl_define" href="fs_8c.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div>
<div class="line"><span class="lineno"> 4307</span>        <span class="comment">// it either returns Z_OK on progress, Z_STREAM_END on end</span></div>
<div class="line"><span class="lineno"> 4308</span>        <span class="comment">// or an error code</span></div>
<div class="line"><span class="lineno"> 4309</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 4310</span>        {</div>
<div class="line"><span class="lineno"> 4311</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>:</div>
<div class="line"><span class="lineno"> 4312</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>:</div>
<div class="line"><span class="lineno"> 4313</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4314</span> </div>
<div class="line"><span class="lineno"> 4315</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>:</div>
<div class="line"><span class="lineno"> 4316</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: stream error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4317</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4318</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a>:</div>
<div class="line"><span class="lineno"> 4319</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: data error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4320</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4321</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>:</div>
<div class="line"><span class="lineno"> 4322</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: mem error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4323</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4324</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>:</div>
<div class="line"><span class="lineno"> 4325</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: buf error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4326</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4327</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4328</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: unknown error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4329</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4330</span> </div>
<div class="line"><span class="lineno"> 4331</span>        }</div>
<div class="line"><span class="lineno"> 4332</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno"> 4333</span>        {</div>
<div class="line"><span class="lineno"> 4334</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Error after inflating %u bytes\n&quot;</span>, (<span class="keywordtype">unsigned</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_in);</div>
<div class="line"><span class="lineno"> 4335</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data);</div>
<div class="line"><span class="lineno"> 4336</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>);</div>
<div class="line"><span class="lineno"> 4337</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4338</span>        }</div>
<div class="line"><span class="lineno"> 4339</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>) - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_out;</div>
<div class="line"><span class="lineno"> 4340</span>        <a class="code hl_function" href="fs_8c.html#ab6f98b51d453f0acae6cc8b5804c0952">AssertBufsize</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>, <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>)));</div>
<div class="line"><span class="lineno"> 4341</span>        <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a>);</div>
<div class="line"><span class="lineno"> 4342</span>    } <span class="keywordflow">while</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>);</div>
<div class="line"><span class="lineno"> 4343</span> </div>
<div class="line"><span class="lineno"> 4344</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>);</div>
<div class="line"><span class="lineno"> 4345</span> </div>
<div class="line"><span class="lineno"> 4346</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(mempool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.cursize);</div>
<div class="line"><span class="lineno"> 4347</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>)</div>
<div class="line"><span class="lineno"> 4348</span>    {</div>
<div class="line"><span class="lineno"> 4349</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Inflate: not enough memory in target mempool!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4350</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data);</div>
<div class="line"><span class="lineno"> 4351</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4352</span>    }</div>
<div class="line"><span class="lineno"> 4353</span> </div>
<div class="line"><span class="lineno"> 4354</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.cursize);</div>
<div class="line"><span class="lineno"> 4355</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data);</div>
<div class="line"><span class="lineno"> 4356</span> </div>
<div class="line"><span class="lineno"> 4357</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inflated_size</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.cursize;</div>
<div class="line"><span class="lineno"> 4358</span> </div>
<div class="line"><span class="lineno"> 4359</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4360</span>}</div>
<div class="ttc" id="acommon_8c_html_add6a3bc72776ec150afac55558c52a3c"><div class="ttname"><a href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a></div><div class="ttdeci">void SZ_Write(sizebuf_t *buf, const unsigned char *data, int length)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00072">common.c:72</a></div></div>
<div class="ttc" id="aconsole_8c_html_a1cf9711475097b11dc41f743254ec77e"><div class="ttname"><a href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a></div><div class="ttdeci">void Con_Print(const char *msg)</div><div class="ttdoc">Prints to all appropriate console targets, and adds timestamps.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01450">console.c:1450</a></div></div>
<div class="ttc" id="afs_8c_html_a425e2f0664e1b1f75bf2bffab88d353d"><div class="ttname"><a href="fs_8c.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a></div><div class="ttdeci">#define Z_BUF_ERROR</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00232">fs.c:232</a></div></div>
<div class="ttc" id="afs_8c_html_a9eda83d428a71752d148f38b5dbe04f2"><div class="ttname"><a href="fs_8c.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a></div><div class="ttdeci">#define Z_DATA_ERROR</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00230">fs.c:230</a></div></div>
<div class="ttc" id="afs_8c_html_aad97cde83a9a4bb77f5c3b03bb68e483"><div class="ttname"><a href="fs_8c.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a></div><div class="ttdeci">#define Z_STREAM_ERROR</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00229">fs.c:229</a></div></div>
<div class="ttc" id="afs_8c_html_ab6f98b51d453f0acae6cc8b5804c0952"><div class="ttname"><a href="fs_8c.html#ab6f98b51d453f0acae6cc8b5804c0952">AssertBufsize</a></div><div class="ttdeci">static void AssertBufsize(sizebuf_t *buf, int length)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04251">fs.c:4251</a></div></div>
<div class="ttc" id="afs_8c_html_ac3b62e37b9922d9496014515acd6083a"><div class="ttname"><a href="fs_8c.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a></div><div class="ttdeci">#define Z_NO_FLUSH</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00241">fs.c:241</a></div></div>
<div class="ttc" id="afs_8c_html_ae2be6be871e377c6e2c25a7296ce320c"><div class="ttname"><a href="fs_8c.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a></div><div class="ttdeci">#define Z_MEM_ERROR</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00231">fs.c:231</a></div></div>
<div class="ttc" id="afs_8c_html_aeac24933ccc3405abb3156f57b89eb1e"><div class="ttname"><a href="fs_8c.html#aeac24933ccc3405abb3156f57b89eb1e">qz_inflateInit2</a></div><div class="ttdeci">#define qz_inflateInit2(strm, windowBits)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00480">fs.c:480</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="astructsizebuf__t_html"><div class="ttname"><a href="structsizebuf__t.html">sizebuf_t</a></div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00048">common.h:49</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>.</p>

</div>
</div>
<a id="aa67c972ffc834d1ee6a3aa38b101ba89" name="aa67c972ffc834d1ee6a3aa38b101ba89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67c972ffc834d1ee6a3aa38b101ba89">&#9670;&#160;</a></span>FS_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02336">2336</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2337</span>{</div>
<div class="line"><span class="lineno"> 2338</span>    <a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a> = <a class="code hl_define" href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a>(<span class="stringliteral">&quot;file management&quot;</span>, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2339</span> </div>
<div class="line"><span class="lineno"> 2340</span>    <a class="code hl_function" href="fs_8c.html#a6e09586378b419ef33b79a36b4067c4c">FS_Init_Commands</a>();</div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span>    <a class="code hl_function" href="fs_8c.html#a88402d87eb304d652f6d3edd1dbb62bc">PK3_OpenLibrary</a> ();</div>
<div class="line"><span class="lineno"> 2343</span> </div>
<div class="line"><span class="lineno"> 2344</span>    <span class="comment">// initialize the self-pack (must be before COM_InitGameType as it may add command line options)</span></div>
<div class="line"><span class="lineno"> 2345</span>    <a class="code hl_function" href="fs_8c.html#af53d64801628f507322f59d4db9d8250">FS_Init_SelfPack</a>();</div>
<div class="line"><span class="lineno"> 2346</span> </div>
<div class="line"><span class="lineno"> 2347</span>    <span class="comment">// detect gamemode from commandline options or executable name</span></div>
<div class="line"><span class="lineno"> 2348</span>    <a class="code hl_function" href="com__game_8c.html#a55e06b8bf6b11f981623c64312ae0fa9">COM_InitGameType</a>();</div>
<div class="line"><span class="lineno"> 2349</span> </div>
<div class="line"><span class="lineno"> 2350</span>    <a class="code hl_function" href="fs_8c.html#a6ddf0a9358c7bf73d9fc069e937252b8">FS_Init_Dir</a>();</div>
<div class="line"><span class="lineno"> 2351</span>}</div>
<div class="ttc" id="acom__game_8c_html_a55e06b8bf6b11f981623c64312ae0fa9"><div class="ttname"><a href="com__game_8c.html#a55e06b8bf6b11f981623c64312ae0fa9">COM_InitGameType</a></div><div class="ttdeci">void COM_InitGameType(void)</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00094">com_game.c:94</a></div></div>
<div class="ttc" id="afs_8c_html_a6ddf0a9358c7bf73d9fc069e937252b8"><div class="ttname"><a href="fs_8c.html#a6ddf0a9358c7bf73d9fc069e937252b8">FS_Init_Dir</a></div><div class="ttdeci">static void FS_Init_Dir(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02139">fs.c:2139</a></div></div>
<div class="ttc" id="afs_8c_html_a6e09586378b419ef33b79a36b4067c4c"><div class="ttname"><a href="fs_8c.html#a6e09586378b419ef33b79a36b4067c4c">FS_Init_Commands</a></div><div class="ttdeci">void FS_Init_Commands(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02124">fs.c:2124</a></div></div>
<div class="ttc" id="afs_8c_html_af53d64801628f507322f59d4db9d8250"><div class="ttname"><a href="fs_8c.html#af53d64801628f507322f59d4db9d8250">FS_Init_SelfPack</a></div><div class="ttdeci">void FS_Init_SelfPack(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02293">fs.c:2293</a></div></div>
<div class="ttc" id="azone_8h_html_a7da6ffdd01b3d31cb7c89e68fad87d0d"><div class="ttname"><a href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a></div><div class="ttdeci">#define Mem_AllocPool(name, flags, parent)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00104">zone.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="host_8c_source.html#l00374">Host_Init()</a>.</p>

</div>
</div>
<a id="a6e09586378b419ef33b79a36b4067c4c" name="a6e09586378b419ef33b79a36b4067c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e09586378b419ef33b79a36b4067c4c">&#9670;&#160;</a></span>FS_Init_Commands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Init_Commands </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02124">2124</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2125</span>{</div>
<div class="line"><span class="lineno"> 2126</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a>);</div>
<div class="line"><span class="lineno"> 2127</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="fs_8c.html#ad3dada3504d3aa866f170ac2874ef4b9">fs_empty_files_in_pack_mark_deletions</a>);</div>
<div class="line"><span class="lineno"> 2128</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="fs_8c.html#ac14f7e0927785f091bb31a880847c29d">fs_unload_dlcache</a>);</div>
<div class="line"><span class="lineno"> 2129</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="fs_8c.html#a96cafb428e3f2059aa9fb50cd1cad67b">cvar_fs_gamedir</a>);</div>
<div class="line"><span class="lineno"> 2130</span> </div>
<div class="line"><span class="lineno"> 2131</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;gamedir&quot;</span>, <a class="code hl_function" href="fs_8c.html#ab3e38d157816c670cd42cc78c17b4577">FS_GameDir_f</a>, <span class="stringliteral">&quot;changes active gamedir list, can take multiple arguments which shouldn&#39;t include the base directory, the last gamedir is the \&quot;primary\&quot; and files will be saved there (example usage: gamedir ctf id1)&quot;</span>);</div>
<div class="line"><span class="lineno"> 2132</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;fs_rescan&quot;</span>, <a class="code hl_function" href="fs_8c.html#a8d640c9bc35832e159e445d31c987e1e">FS_Rescan_f</a>, <span class="stringliteral">&quot;rescans filesystem for new pack archives and any other changes&quot;</span>);</div>
<div class="line"><span class="lineno"> 2133</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_function" href="fs_8c.html#af894b5591c7482a151cbba1737656233">FS_Path_f</a>, <span class="stringliteral">&quot;print searchpath (game directories and archives)&quot;</span>);</div>
<div class="line"><span class="lineno"> 2134</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;dir&quot;</span>, <a class="code hl_function" href="fs_8c.html#a3bc2df3b337d2d1608146cfea5ec729a">FS_Dir_f</a>, <span class="stringliteral">&quot;list files in searchpath matching an * filename pattern, one per line&quot;</span>);</div>
<div class="line"><span class="lineno"> 2135</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;ls&quot;</span>, <a class="code hl_function" href="fs_8c.html#a3cf77729e431c214a621ca3acdce5f59">FS_Ls_f</a>, <span class="stringliteral">&quot;list files in searchpath matching an * filename pattern, multiple per line&quot;</span>);</div>
<div class="line"><span class="lineno"> 2136</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;which&quot;</span>, <a class="code hl_function" href="fs_8c.html#ace56a73ea7abcc1eff8e265286da7a87">FS_Which_f</a>, <span class="stringliteral">&quot;accepts a file name as argument and reports where the file is taken from&quot;</span>);</div>
<div class="line"><span class="lineno"> 2137</span>}</div>
<div class="ttc" id="acmd_8c_html_a86fa905462db75436af48f27298204e5"><div class="ttname"><a href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a></div><div class="ttdeci">void Cmd_AddCommand(unsigned flags, const char *cmd_name, xcommand_t function, const char *description)</div><div class="ttdoc">called by the init functions of other parts of the program to register commands and functions to call...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01643">cmd.c:1643</a></div></div>
<div class="ttc" id="acmd_8h_html_a28392de86e1ad57dd3fa7870a23367f2"><div class="ttname"><a href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a></div><div class="ttdeci">#define CF_SHARED</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00067">cmd.h:67</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="afs_8c_html_a3bc2df3b337d2d1608146cfea5ec729a"><div class="ttname"><a href="fs_8c.html#a3bc2df3b337d2d1608146cfea5ec729a">FS_Dir_f</a></div><div class="ttdeci">void FS_Dir_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04048">fs.c:4048</a></div></div>
<div class="ttc" id="afs_8c_html_a3cf77729e431c214a621ca3acdce5f59"><div class="ttname"><a href="fs_8c.html#a3cf77729e431c214a621ca3acdce5f59">FS_Ls_f</a></div><div class="ttdeci">void FS_Ls_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04053">fs.c:4053</a></div></div>
<div class="ttc" id="afs_8c_html_a8d640c9bc35832e159e445d31c987e1e"><div class="ttname"><a href="fs_8c.html#a8d640c9bc35832e159e445d31c987e1e">FS_Rescan_f</a></div><div class="ttdeci">static void FS_Rescan_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01630">fs.c:1630</a></div></div>
<div class="ttc" id="afs_8c_html_a96cafb428e3f2059aa9fb50cd1cad67b"><div class="ttname"><a href="fs_8c.html#a96cafb428e3f2059aa9fb50cd1cad67b">cvar_fs_gamedir</a></div><div class="ttdeci">cvar_t cvar_fs_gamedir</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00452">fs.c:452</a></div></div>
<div class="ttc" id="afs_8c_html_ab3e38d157816c670cd42cc78c17b4577"><div class="ttname"><a href="fs_8c.html#ab3e38d157816c670cd42cc78c17b4577">FS_GameDir_f</a></div><div class="ttdeci">static void FS_GameDir_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01758">fs.c:1758</a></div></div>
<div class="ttc" id="afs_8c_html_ac14f7e0927785f091bb31a880847c29d"><div class="ttname"><a href="fs_8c.html#ac14f7e0927785f091bb31a880847c29d">fs_unload_dlcache</a></div><div class="ttdeci">cvar_t fs_unload_dlcache</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00451">fs.c:451</a></div></div>
<div class="ttc" id="afs_8c_html_ace56a73ea7abcc1eff8e265286da7a87"><div class="ttname"><a href="fs_8c.html#ace56a73ea7abcc1eff8e265286da7a87">FS_Which_f</a></div><div class="ttdeci">void FS_Which_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04058">fs.c:4058</a></div></div>
<div class="ttc" id="afs_8c_html_ad3dada3504d3aa866f170ac2874ef4b9"><div class="ttname"><a href="fs_8c.html#ad3dada3504d3aa866f170ac2874ef4b9">fs_empty_files_in_pack_mark_deletions</a></div><div class="ttdeci">cvar_t fs_empty_files_in_pack_mark_deletions</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00450">fs.c:450</a></div></div>
<div class="ttc" id="afs_8c_html_aebd7e09884a0b610f5ade286f7702166"><div class="ttname"><a href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a></div><div class="ttdeci">cvar_t scr_screenshot_name</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00449">fs.c:449</a></div></div>
<div class="ttc" id="afs_8c_html_af894b5591c7482a151cbba1737656233"><div class="ttname"><a href="fs_8c.html#af894b5591c7482a151cbba1737656233">FS_Path_f</a></div><div class="ttdeci">static void FS_Path_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01059">fs.c:1059</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02336">FS_Init()</a>.</p>

</div>
</div>
<a id="af53d64801628f507322f59d4db9d8250" name="af53d64801628f507322f59d4db9d8250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af53d64801628f507322f59d4db9d8250">&#9670;&#160;</a></span>FS_Init_SelfPack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Init_SelfPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02293">2293</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2294</span>{</div>
<div class="line"><span class="lineno"> 2295</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno"> 2296</span> </div>
<div class="line"><span class="lineno"> 2297</span>    <span class="comment">// Load darkplaces.opt from the FS.</span></div>
<div class="line"><span class="lineno"> 2298</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-noopt&quot;</span>))</div>
<div class="line"><span class="lineno"> 2299</span>    {</div>
<div class="line"><span class="lineno"> 2300</span>        <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = (<span class="keywordtype">char</span> *) <a class="code hl_function" href="fs_8c.html#aadd82baa9c0e3ab7dc26282cb0eaae9e">FS_SysLoadFile</a>(<span class="stringliteral">&quot;darkplaces.opt&quot;</span>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2301</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><span class="lineno"> 2302</span>        {</div>
<div class="line"><span class="lineno"> 2303</span>            <a class="code hl_function" href="fs_8c.html#a0ec3d1b324c9c77f9f86c66a1ab40a4d">COM_InsertFlags</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 2304</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 2305</span>        }</div>
<div class="line"><span class="lineno"> 2306</span>    }</div>
<div class="line"><span class="lineno"> 2307</span> </div>
<div class="line"><span class="lineno"> 2308</span><span class="preprocessor">#ifndef USE_RWOPS</span></div>
<div class="line"><span class="lineno"> 2309</span>    <span class="comment">// Provide the SelfPack.</span></div>
<div class="line"><span class="lineno"> 2310</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-noselfpack&quot;</span>) &amp;&amp; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a7469c65cc97f8ca4c74430b9d42b93a1">selffd</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 2311</span>    {</div>
<div class="line"><span class="lineno"> 2312</span>        <a class="code hl_variable" href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a> = <a class="code hl_function" href="fs_8c.html#a3dcf5b9349e0ac75ba5a4098f5269fb3">FS_LoadPackPK3FromFD</a>(<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[0], <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a7469c65cc97f8ca4c74430b9d42b93a1">selffd</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2313</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a>)</div>
<div class="line"><span class="lineno"> 2314</span>        {</div>
<div class="line"><span class="lineno"> 2315</span>            <a class="code hl_function" href="fs_8c.html#a764b9be01a515113f590f26417b3bdc1">FS_AddSelfPack</a>();</div>
<div class="line"><span class="lineno"> 2316</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-noopt&quot;</span>))</div>
<div class="line"><span class="lineno"> 2317</span>            {</div>
<div class="line"><span class="lineno"> 2318</span>                <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = (<span class="keywordtype">char</span> *) <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<span class="stringliteral">&quot;darkplaces.opt&quot;</span>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2319</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><span class="lineno"> 2320</span>                {</div>
<div class="line"><span class="lineno"> 2321</span>                    <a class="code hl_function" href="fs_8c.html#a0ec3d1b324c9c77f9f86c66a1ab40a4d">COM_InsertFlags</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 2322</span>                    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 2323</span>                }</div>
<div class="line"><span class="lineno"> 2324</span>            }</div>
<div class="line"><span class="lineno"> 2325</span>        }</div>
<div class="line"><span class="lineno"> 2326</span>    }</div>
<div class="line"><span class="lineno"> 2327</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2328</span>}</div>
<div class="ttc" id="afs_8c_html_a0ec3d1b324c9c77f9f86c66a1ab40a4d"><div class="ttname"><a href="fs_8c.html#a0ec3d1b324c9c77f9f86c66a1ab40a4d">COM_InsertFlags</a></div><div class="ttdeci">static void COM_InsertFlags(const char *buf)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01918">fs.c:1918</a></div></div>
<div class="ttc" id="afs_8c_html_a3dcf5b9349e0ac75ba5a4098f5269fb3"><div class="ttname"><a href="fs_8c.html#a3dcf5b9349e0ac75ba5a4098f5269fb3">FS_LoadPackPK3FromFD</a></div><div class="ttdeci">static pack_t * FS_LoadPackPK3FromFD(const char *packfile, filedesc_t packhandle, qbool silent)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00830">fs.c:830</a></div></div>
<div class="ttc" id="afs_8c_html_a764b9be01a515113f590f26417b3bdc1"><div class="ttname"><a href="fs_8c.html#a764b9be01a515113f590f26417b3bdc1">FS_AddSelfPack</a></div><div class="ttdeci">static void FS_AddSelfPack(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01526">fs.c:1526</a></div></div>
<div class="ttc" id="afs_8c_html_aadd82baa9c0e3ab7dc26282cb0eaae9e"><div class="ttname"><a href="fs_8c.html#aadd82baa9c0e3ab7dc26282cb0eaae9e">FS_SysLoadFile</a></div><div class="ttdeci">unsigned char * FS_SysLoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03551">fs.c:3551</a></div></div>
<div class="ttc" id="afs_8c_html_ac5556a951783a7a5154a770f880b27ef"><div class="ttname"><a href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a></div><div class="ttdeci">static pack_t * fs_selfpack</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00439">fs.c:439</a></div></div>
<div class="ttc" id="astructsys__t_html_a7469c65cc97f8ca4c74430b9d42b93a1"><div class="ttname"><a href="structsys__t.html#a7469c65cc97f8ca4c74430b9d42b93a1">sys_t::selffd</a></div><div class="ttdeci">int selffd</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00144">sys.h:144</a></div></div>
<div class="ttc" id="astructsys__t_html_a8ac88df433bcd8ffc0fbb42cf2cd5602"><div class="ttname"><a href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">sys_t::argv</a></div><div class="ttdeci">const char ** argv</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00143">sys.h:143</a></div></div>
<div class="ttc" id="asys_8h_html_ae590414a212a3043d2158012d0c93985"><div class="ttname"><a href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a></div><div class="ttdeci">sys_t sys</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00042">sys_shared.c:42</a></div></div>
<div class="ttc" id="asys_8h_html_ae9b9461780a044853793708c49317b28"><div class="ttname"><a href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a></div><div class="ttdeci">int Sys_CheckParm(const char *parm)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00318">sys_shared.c:318</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02336">FS_Init()</a>.</p>

</div>
</div>
<a id="afb796ba35bc293b2cf0fef7e4b14f65c" name="afb796ba35bc293b2cf0fef7e4b14f65c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb796ba35bc293b2cf0fef7e4b14f65c">&#9670;&#160;</a></span>FS_IsRegisteredQuakePack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_IsRegisteredQuakePack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04107">4107</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4108</span>{</div>
<div class="line"><span class="lineno"> 4109</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 4110</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>;</div>
<div class="line"><span class="lineno"> 4111</span> </div>
<div class="line"><span class="lineno"> 4112</span>    <span class="comment">// search through the path, one element at a time</span></div>
<div class="line"><span class="lineno"> 4113</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>)</div>
<div class="line"><span class="lineno"> 4114</span>    {</div>
<div class="line"><span class="lineno"> 4115</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;vpack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="fs_8c.html#a763b2c4798fd52f16e15b61b8d94f05d">FS_FileWithoutPath</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename), <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>))</div>
<div class="line"><span class="lineno"> 4116</span>            <span class="comment">// TODO do we want to support vpacks in here too?</span></div>
<div class="line"><span class="lineno"> 4117</span>        {</div>
<div class="line"><span class="lineno"> 4118</span>            <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a>) (<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str1</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str2</a>);</div>
<div class="line"><span class="lineno"> 4119</span>            <span class="keywordtype">int</span> left, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>;</div>
<div class="line"><span class="lineno"> 4120</span> </div>
<div class="line"><span class="lineno"> 4121</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack;</div>
<div class="line"><span class="lineno"> 4122</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;<a class="code hl_variable" href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">ignorecase</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>;</div>
<div class="line"><span class="lineno"> 4123</span> </div>
<div class="line"><span class="lineno"> 4124</span>            <span class="comment">// Look for the file (binary search)</span></div>
<div class="line"><span class="lineno"> 4125</span>            left = 0;</div>
<div class="line"><span class="lineno"> 4126</span>            <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;numfiles - 1;</div>
<div class="line"><span class="lineno"> 4127</span>            <span class="keywordflow">while</span> (left &lt;= <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>)</div>
<div class="line"><span class="lineno"> 4128</span>            {</div>
<div class="line"><span class="lineno"> 4129</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>;</div>
<div class="line"><span class="lineno"> 4130</span> </div>
<div class="line"><span class="lineno"> 4131</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> = (left + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>) / 2;</div>
<div class="line"><span class="lineno"> 4132</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;files[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>].name, <span class="stringliteral">&quot;gfx/pop.lmp&quot;</span>);</div>
<div class="line"><span class="lineno"> 4133</span> </div>
<div class="line"><span class="lineno"> 4134</span>                <span class="comment">// Found it</span></div>
<div class="line"><span class="lineno"> 4135</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>)</div>
<div class="line"><span class="lineno"> 4136</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4137</span> </div>
<div class="line"><span class="lineno"> 4138</span>                <span class="comment">// If we&#39;re too far in the list</span></div>
<div class="line"><span class="lineno"> 4139</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 4140</span>                    <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> - 1;</div>
<div class="line"><span class="lineno"> 4141</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4142</span>                    left = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> + 1;</div>
<div class="line"><span class="lineno"> 4143</span>            }</div>
<div class="line"><span class="lineno"> 4144</span> </div>
<div class="line"><span class="lineno"> 4145</span>            <span class="comment">// we found the requested pack but it is not registered quake</span></div>
<div class="line"><span class="lineno"> 4146</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4147</span>        }</div>
<div class="line"><span class="lineno"> 4148</span>    }</div>
<div class="line"><span class="lineno"> 4149</span> </div>
<div class="line"><span class="lineno"> 4150</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4151</span>}</div>
<div class="ttc" id="afs_8c_html_a708b7c81b06465508d84fee7e40aa257"><div class="ttname"><a href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a></div><div class="ttdeci">searchpath_t * fs_searchpaths</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00431">fs.c:431</a></div></div>
<div class="ttc" id="afs_8c_html_a763b2c4798fd52f16e15b61b8d94f05d"><div class="ttname"><a href="fs_8c.html#a763b2c4798fd52f16e15b61b8d94f05d">FS_FileWithoutPath</a></div><div class="ttdeci">const char * FS_FileWithoutPath(const char *in)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01438">fs.c:1438</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac615821e7cf9469189648617cb1275be"><div class="ttname"><a href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00600">glquake.h:600</a></div></div>
<div class="ttc" id="astructpack__t_html"><div class="ttname"><a href="structpack__t.html">pack_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00379">fs.c:380</a></div></div>
<div class="ttc" id="astructpack__t_html_a5b563db5e503f99e79551e95e6a43f05"><div class="ttname"><a href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">pack_t::ignorecase</a></div><div class="ttdeci">qbool ignorecase</div><div class="ttdoc">PK3 ignores case.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00384">fs.c:384</a></div></div>
<div class="ttc" id="astructsearchpath__t_html_a628ca8e964d0cae9ae487a94de235235"><div class="ttname"><a href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">searchpath_t::next</a></div><div class="ttdeci">struct searchpath_s * next</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00398">fs.c:398</a></div></div>
<div class="ttc" id="asv__user_8c_html_aa462954db5cc506fabe811dc11b3e1a4"><div class="ttname"><a href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a></div><div class="ttdeci">static vec3_t right</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00305">sv_user.c:305</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>.</p>

</div>
</div>
<a id="a46b9b5ad3cc14f77ae63016505163128" name="a46b9b5ad3cc14f77ae63016505163128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b9b5ad3cc14f77ae63016505163128">&#9670;&#160;</a></span>FS_LoadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_LoadFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *&#160;</td>
          <td class="paramname"><em>filesizepointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03536">3536</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3537</span>{</div>
<div class="line"><span class="lineno"> 3538</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file = <a class="code hl_function" href="fs_8c.html#a146922363508573499a2391fd3e0bf1f">FS_OpenVirtualFile</a>(path, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>);</div>
<div class="line"><span class="lineno"> 3539</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ae4817b66640bf04c9a0c27887e7199e5">FS_LoadAndCloseQFile</a>(file, path, pool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>);</div>
<div class="line"><span class="lineno"> 3540</span>}</div>
<div class="ttc" id="afs_8c_html_a146922363508573499a2391fd3e0bf1f"><div class="ttname"><a href="fs_8c.html#a146922363508573499a2391fd3e0bf1f">FS_OpenVirtualFile</a></div><div class="ttdeci">qfile_t * FS_OpenVirtualFile(const char *filepath, qbool quiet)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02924">fs.c:2924</a></div></div>
<div class="ttc" id="afs_8c_html_ae4817b66640bf04c9a0c27887e7199e5"><div class="ttname"><a href="fs_8c.html#ae4817b66640bf04c9a0c27887e7199e5">FS_LoadAndCloseQFile</a></div><div class="ttdeci">static unsigned char * FS_LoadAndCloseQFile(qfile_t *file, const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03499">fs.c:3499</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00137">CL_CutDemo()</a>, <a class="el" href="cl__parse_8c_source.html#l03052">CL_IPLog_Load()</a>, <a class="el" href="cl__main_8c_source.html#l02381">CL_Locs_Reload_f()</a>, <a class="el" href="cl__particles_8c_source.html#l00538">CL_Particles_LoadEffectInfo()</a>, <a class="el" href="cl__particles_8c_source.html#l01839">CL_ReadPointFile_f()</a>, <a class="el" href="csprogs_8c_source.html#l00980">CL_VM_Init()</a>, <a class="el" href="cmd_8c_source.html#l00516">Cmd_Exec()</a>, <a class="el" href="libcurl_8c_source.html#l01702">Curl_FindPackURL()</a>, <a class="el" href="libcurl_8c_source.html#l00487">decode_image()</a>, <a class="el" href="ft2_8c_source.html#l00269">fontfilecache_LoadFile()</a>, <a class="el" href="fs_8c_source.html#l04153">FS_CRCFile()</a>, <a class="el" href="fs_8c_source.html#l02293">FS_Init_SelfPack()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="gl__rmain_8c_source.html#l03194">gl_main_newmap()</a>, <a class="el" href="image_8c_source.html#l01196">Image_GetStockPicSize()</a>, <a class="el" href="gl__draw_8c_source.html#l00329">LoadFont()</a>, <a class="el" href="image_8c_source.html#l01043">loadimagepixelsbgra()</a>, <a class="el" href="cl__video_8c_source.html#l00128">LoadSubtitles()</a>, <a class="el" href="menu_8c_source.html#l01332">M_Setup_Draw()</a>, <a class="el" href="model__shared_8c_source.html#l00406">Mod_LoadModel()</a>, <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>, <a class="el" href="model__shared_8c_source.html#l02705">Mod_LoadSkinFiles()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l02111">Mod_Q1BSP_LoadLighting()</a>, <a class="el" href="model__brush_8c_source.html#l03284">Mod_Q1BSP_LoadMapBrushes()</a>, <a class="el" href="model__brush_8c_source.html#l04373">Mod_Q2BSP_LoadTexinfo()</a>, <a class="el" href="snd__ogg_8c_source.html#l00598">OGG_LoadVorbisFile()</a>, <a class="el" href="palette_8c_source.html#l00265">Palette_Load()</a>, <a class="el" href="palette_8c_source.html#l00197">Palette_LoadQ2Colormap()</a>, <a class="el" href="palette_8c_source.html#l00084">Palette_SetupSpecialPalettes()</a>, <a class="el" href="prvm__edict_8c_source.html#l01949">PRVM_LoadLNO()</a>, <a class="el" href="prvm__edict_8c_source.html#l01781">PRVM_PO_Load()</a>, <a class="el" href="prvm__edict_8c_source.html#l02005">PRVM_Prog_Load()</a>, <a class="el" href="cl__particles_8c_source.html#l02297">R_InitParticleTexture()</a>, <a class="el" href="gl__rmain_8c_source.html#l06550">R_LoadQWSkin()</a>, <a class="el" href="gl__textures_8c_source.html#l01569">R_LoadTextureDDSFile()</a>, <a class="el" href="r__shadow_8c_source.html#l05000">R_Shadow_LoadLightsFile()</a>, <a class="el" href="r__shadow_8c_source.html#l04842">R_Shadow_LoadWorldLights()</a>, <a class="el" href="r__shadow_8c_source.html#l05051">R_Shadow_LoadWorldLightsFromMap_LightArghliteTyrlite()</a>, <a class="el" href="snd__wav_8c_source.html#l00268">S_LoadWavFile()</a>, <a class="el" href="gl__rmain_8c_source.html#l01006">ShaderModeInfo_GetShaderText()</a>, <a class="el" href="sv__save_8c_source.html#l00245">SV_Loadgame_f()</a>, <a class="el" href="sv__main_8c_source.html#l01511">SV_ParticleEffectIndex()</a>, <a class="el" href="sv__main_8c_source.html#l01701">SV_Prepare_CSQC()</a>, <a class="el" href="sv__main_8c_source.html#l01800">SV_SpawnServer()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03082">VM_loadfromfile()</a>, <a class="el" href="wad_8c_source.html#l00114">W_GetLumpName()</a>, and <a class="el" href="snd__xmp_8c_source.html#l00596">XMP_LoadModFile()</a>.</p>

</div>
</div>
<a id="a7757c6165ecaee803fba8e3d1db3e2e9" name="a7757c6165ecaee803fba8e3d1db3e2e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7757c6165ecaee803fba8e3d1db3e2e9">&#9670;&#160;</a></span>FS_OpenRealFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_OpenRealFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02897">2897</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2898</span>{</div>
<div class="line"><span class="lineno"> 2899</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a> [<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 2900</span> </div>
<div class="line"><span class="lineno"> 2901</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 2902</span>    {</div>
<div class="line"><span class="lineno"> 2903</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_OpenRealFile(\&quot;%s\&quot;, \&quot;%s\&quot;, %s): nasty filename rejected\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><span class="lineno"> 2904</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2905</span>    }</div>
<div class="line"><span class="lineno"> 2906</span> </div>
<div class="line"><span class="lineno"> 2907</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a>), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code hl_variable" href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>); <span class="comment">// this is never a vpack</span></div>
<div class="line"><span class="lineno"> 2908</span> </div>
<div class="line"><span class="lineno"> 2909</span>    <span class="comment">// If the file is opened in &quot;write&quot;, &quot;append&quot;, or &quot;read/write&quot; mode,</span></div>
<div class="line"><span class="lineno"> 2910</span>    <span class="comment">// create directories up to the file.</span></div>
<div class="line"><span class="lineno"> 2911</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[0] == <span class="charliteral">&#39;w&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[0] == <span class="charliteral">&#39;a&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a> (<a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <span class="charliteral">&#39;+&#39;</span>))</div>
<div class="line"><span class="lineno"> 2912</span>        <a class="code hl_function" href="fs_8c.html#acf6a6a671fddee50dbb3b0b1ec5d07ad">FS_CreatePath</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a>);</div>
<div class="line"><span class="lineno"> 2913</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2914</span>}</div>
<div class="ttc" id="afs_8c_html_a0a0d4940920cae5cd03989225834c4bb"><div class="ttname"><a href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a></div><div class="ttdeci">char fs_gamedir[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00437">fs.c:437</a></div></div>
<div class="ttc" id="afs_8c_html_a5098aecad23c311750ae649088f2d96d"><div class="ttname"><a href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a></div><div class="ttdeci">qfile_t * FS_SysOpen(const char *filepath, const char *mode, qbool nonblocking)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02480">fs.c:2480</a></div></div>
<div class="ttc" id="afs_8c_html_acf6a6a671fddee50dbb3b0b1ec5d07ad"><div class="ttname"><a href="fs_8c.html#acf6a6a671fddee50dbb3b0b1ec5d07ad">FS_CreatePath</a></div><div class="ttdeci">void FS_CreatePath(char *path)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01035">fs.c:1035</a></div></div>
<div class="ttc" id="aglquake_8h_html_a26a9807262dc858feb31c318b02fc072"><div class="ttname"><a href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a></div><div class="ttdeci">GLenum mode</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00717">glquake.h:717</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l00683">CheckPendingDownloads()</a>, <a class="el" href="cl__demo_8c_source.html#l00137">CL_CutDemo()</a>, <a class="el" href="cl__main_8c_source.html#l02308">CL_Locs_Save_f()</a>, <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="cl__demo_8c_source.html#l00346">CL_Record_f()</a>, <a class="el" href="console_8c_source.html#l00806">Con_ConDump_f()</a>, <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, <a class="el" href="libcurl_8c_source.html#l00521">Curl_EndDownload()</a>, <a class="el" href="fs_8c_source.html#l03565">FS_WriteFileInBlocks()</a>, <a class="el" href="host_8c_source.html#l00194">Host_SaveConfig()</a>, <a class="el" href="jpeg_8c_source.html#l00818">JPEG_SaveImage_preflipped()</a>, <a class="el" href="keys_8c_source.html#l00050">Key_History_Init()</a>, <a class="el" href="keys_8c_source.html#l00093">Key_History_Shutdown()</a>, <a class="el" href="console_8c_source.html#l00507">Log_Open()</a>, <a class="el" href="console_8c_source.html#l00659">Log_Printf()</a>, <a class="el" href="menu_8c_source.html#l00843">M_ScanSaves()</a>, <a class="el" href="image__png_8c_source.html#l00477">PNG_SaveImage_preflipped()</a>, <a class="el" href="prvm__edict_8c_source.html#l02005">PRVM_Prog_Load()</a>, <a class="el" href="gl__rmain_8c_source.html#l01419">R_GLSL_DumpShader_f()</a>, <a class="el" href="cap__avi_8c_source.html#l00498">SCR_CaptureVideo_Avi_BeginVideo()</a>, <a class="el" href="cap__ogg_8c_source.html#l00921">SCR_CaptureVideo_Ogg_BeginVideo()</a>, <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>, <a class="el" href="sv__demo_8c_source.html#l00006">SV_StartDemoRecording()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l01899">VM_fopen()</a>.</p>

</div>
</div>
<a id="a146922363508573499a2391fd3e0bf1f" name="a146922363508573499a2391fd3e0bf1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146922363508573499a2391fd3e0bf1f">&#9670;&#160;</a></span>FS_OpenVirtualFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_OpenVirtualFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02924">2924</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2925</span>{</div>
<div class="line"><span class="lineno"> 2926</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *result = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2927</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 2928</span>    {</div>
<div class="line"><span class="lineno"> 2929</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_OpenVirtualFile(\&quot;%s\&quot;, %s): nasty filename rejected\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><span class="lineno"> 2930</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2931</span>    }</div>
<div class="line"><span class="lineno"> 2932</span> </div>
<div class="line"><span class="lineno"> 2933</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>) <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>);</div>
<div class="line"><span class="lineno"> 2934</span>    result = <a class="code hl_function" href="fs_8c.html#ac670ff3b3d77872cadae38060bc92853">FS_OpenReadFile</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <span class="keyword">false</span>, 16);</div>
<div class="line"><span class="lineno"> 2935</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>) <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>);</div>
<div class="line"><span class="lineno"> 2936</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2937</span>}</div>
<div class="ttc" id="afs_8c_html_aac2514245460033b5ce54558ee2fe4a4"><div class="ttname"><a href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a></div><div class="ttdeci">void * fs_mutex</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00429">fs.c:429</a></div></div>
<div class="ttc" id="afs_8c_html_ac670ff3b3d77872cadae38060bc92853"><div class="ttname"><a href="fs_8c.html#ac670ff3b3d77872cadae38060bc92853">FS_OpenReadFile</a></div><div class="ttdeci">static qfile_t * FS_OpenReadFile(const char *filename, qbool quiet, qbool nonblocking, int symlinkLevels)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02782">fs.c:2782</a></div></div>
<div class="ttc" id="athread_8h_html_a7f3f3ae74fd58a8277941afd6a271b43"><div class="ttname"><a href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a></div><div class="ttdeci">#define Thread_LockMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00017">thread.h:17</a></div></div>
<div class="ttc" id="athread_8h_html_ada4fef8706961af60f0404fdbfa50be7"><div class="ttname"><a href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a></div><div class="ttdeci">#define Thread_UnlockMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00018">thread.h:18</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00413">CL_PlayDemo()</a>, <a class="el" href="fs_8c_source.html#l03536">FS_LoadFile()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="dpvsimpledecode_8c_source.html#l00056">hz_bitstream_read_open()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00047">jam_open()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00252">LibAvW_OpenVideo()</a>, <a class="el" href="cl__parse_8c_source.html#l00540">QW_CL_CheckOrDownloadFile()</a>, <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04318">VM_buf_loadfile()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01899">VM_fopen()</a>, and <a class="el" href="wad_8c_source.html#l00165">W_LoadTextureWadFile()</a>.</p>

</div>
</div>
<a id="ae1e3a888c966ea1276ad5dab8d731414" name="ae1e3a888c966ea1276ad5dab8d731414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e3a888c966ea1276ad5dab8d731414">&#9670;&#160;</a></span>FS_Print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03257">3257</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3258</span>{</div>
<div class="line"><span class="lineno"> 3259</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code hl_function" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a> (file, msg, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a> (msg));</div>
<div class="line"><span class="lineno"> 3260</span>}</div>
<div class="ttc" id="afs_8c_html_a2ef891979f8e7a5158ab1ade82cd733f"><div class="ttname"><a href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a></div><div class="ttdeci">fs_offset_t FS_Write(qfile_t *file, const void *data, size_t datasize)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03015">fs.c:3015</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l00525">Log_Close()</a>, <a class="el" href="console_8c_source.html#l00588">Log_ConPrint()</a>, <a class="el" href="console_8c_source.html#l00507">Log_Open()</a>, <a class="el" href="prvm__edict_8c_source.html#l00737">PRVM_ED_Write()</a>, <a class="el" href="prvm__edict_8c_source.html#l00899">PRVM_ED_WriteGlobals()</a>, <a class="el" href="gl__rmain_8c_source.html#l01419">R_GLSL_DumpShader_f()</a>, and <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>.</p>

</div>
</div>
<a id="a142af2d0b06056e0a5a31c0475e01e31" name="a142af2d0b06056e0a5a31c0475e01e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a142af2d0b06056e0a5a31c0475e01e31">&#9670;&#160;</a></span>FS_Printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Printf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03269">3269</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3270</span>{</div>
<div class="line"><span class="lineno"> 3271</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 3272</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a> args;</div>
<div class="line"><span class="lineno"> 3273</span> </div>
<div class="line"><span class="lineno"> 3274</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_start</a> (args, <a class="code hl_variable" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>);</div>
<div class="line"><span class="lineno"> 3275</span>    result = <a class="code hl_function" href="fs_8c.html#a66af7e39cdce25212e2aae7bfccc9029">FS_VPrintf</a> (file, <a class="code hl_variable" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>, args);</div>
<div class="line"><span class="lineno"> 3276</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_end</a> (args);</div>
<div class="line"><span class="lineno"> 3277</span> </div>
<div class="line"><span class="lineno"> 3278</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3279</span>}</div>
<div class="ttc" id="afs_8c_html_a66af7e39cdce25212e2aae7bfccc9029"><div class="ttname"><a href="fs_8c.html#a66af7e39cdce25212e2aae7bfccc9029">FS_VPrintf</a></div><div class="ttdeci">int FS_VPrintf(qfile_t *file, const char *format, va_list ap)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03289">fs.c:3289</a></div></div>
<div class="ttc" id="aglquake_8h_html_a53da72788901530821f9326a25ae50f8"><div class="ttname"><a href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a></div><div class="ttdeci">GLint GLint GLint GLsizei GLsizei GLenum format</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00648">glquake.h:648</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00137">CL_CutDemo()</a>, <a class="el" href="cl__main_8c_source.html#l02308">CL_Locs_Save_f()</a>, <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="cl__demo_8c_source.html#l00346">CL_Record_f()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="cvar_8c_source.html#l00985">Cvar_WriteVariables()</a>, <a class="el" href="keys_8c_source.html#l00093">Key_History_Shutdown()</a>, <a class="el" href="keys_8c_source.html#l01681">Key_WriteBindings()</a>, <a class="el" href="prvm__edict_8c_source.html#l00737">PRVM_ED_Write()</a>, <a class="el" href="prvm__edict_8c_source.html#l00899">PRVM_ED_WriteGlobals()</a>, <a class="el" href="prvm__edict_8c_source.html#l02005">PRVM_Prog_Load()</a>, <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>, and <a class="el" href="sv__demo_8c_source.html#l00006">SV_StartDemoRecording()</a>.</p>

</div>
</div>
<a id="a68f2a03ca613c2c6c4c98beaa253928b" name="a68f2a03ca613c2c6c4c98beaa253928b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f2a03ca613c2c6c4c98beaa253928b">&#9670;&#160;</a></span>FS_Purge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Purge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03483">3483</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3484</span>{</div>
<div class="line"><span class="lineno"> 3485</span>    file-&gt;buff_len = 0;</div>
<div class="line"><span class="lineno"> 3486</span>    file-&gt;buff_ind = 0;</div>
<div class="line"><span class="lineno"> 3487</span>    file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 3488</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03062">FS_Read()</a>, <a class="el" href="fs_8c_source.html#l03355">FS_Seek()</a>, and <a class="el" href="fs_8c_source.html#l03015">FS_Write()</a>.</p>

</div>
</div>
<a id="a06be02d84167befd9817197abb0c2100" name="a06be02d84167befd9817197abb0c2100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06be02d84167befd9817197abb0c2100">&#9670;&#160;</a></span>FS_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> FS_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>buffersize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03062">3062</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3063</span>{</div>
<div class="line"><span class="lineno"> 3064</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, done;</div>
<div class="line"><span class="lineno"> 3065</span> </div>
<div class="line"><span class="lineno"> 3066</span>    <span class="keywordflow">if</span> (buffersize == 0 || !<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)</div>
<div class="line"><span class="lineno"> 3067</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3068</span> </div>
<div class="line"><span class="lineno"> 3069</span>    <span class="comment">// Get rid of the ungetc character</span></div>
<div class="line"><span class="lineno"> 3070</span>    <span class="keywordflow">if</span> (file-&gt;ungetc != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>)</div>
<div class="line"><span class="lineno"> 3071</span>    {</div>
<div class="line"><span class="lineno"> 3072</span>        ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[0] = file-&gt;ungetc;</div>
<div class="line"><span class="lineno"> 3073</span>        buffersize--;</div>
<div class="line"><span class="lineno"> 3074</span>        file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 3075</span>        done = 1;</div>
<div class="line"><span class="lineno"> 3076</span>    }</div>
<div class="line"><span class="lineno"> 3077</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3078</span>        done = 0;</div>
<div class="line"><span class="lineno"> 3079</span> </div>
<div class="line"><span class="lineno"> 3080</span>    <span class="keywordflow">if</span>(file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>)</div>
<div class="line"><span class="lineno"> 3081</span>    {</div>
<div class="line"><span class="lineno"> 3082</span>        <span class="keywordtype">size_t</span> left = file-&gt;real_length - file-&gt;position;</div>
<div class="line"><span class="lineno"> 3083</span>        <span class="keywordflow">if</span>(buffersize &gt; left)</div>
<div class="line"><span class="lineno"> 3084</span>            buffersize = left;</div>
<div class="line"><span class="lineno"> 3085</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, file-&gt;data + file-&gt;position, buffersize);</div>
<div class="line"><span class="lineno"> 3086</span>        file-&gt;position += buffersize;</div>
<div class="line"><span class="lineno"> 3087</span>        <span class="keywordflow">return</span> buffersize;</div>
<div class="line"><span class="lineno"> 3088</span>    }</div>
<div class="line"><span class="lineno"> 3089</span> </div>
<div class="line"><span class="lineno"> 3090</span>    <span class="comment">// First, we copy as many bytes as we can from &quot;buff&quot;</span></div>
<div class="line"><span class="lineno"> 3091</span>    <span class="keywordflow">if</span> (file-&gt;buff_ind &lt; file-&gt;buff_len)</div>
<div class="line"><span class="lineno"> 3092</span>    {</div>
<div class="line"><span class="lineno"> 3093</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = file-&gt;buff_len - file-&gt;buff_ind;</div>
<div class="line"><span class="lineno"> 3094</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = ((<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize &gt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>) ? <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> : (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3095</span>        done += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3096</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, &amp;file-&gt;buff[file-&gt;buff_ind], <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3097</span>        file-&gt;buff_ind += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3098</span> </div>
<div class="line"><span class="lineno"> 3099</span>        buffersize -= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3100</span>        <span class="keywordflow">if</span> (buffersize == 0)</div>
<div class="line"><span class="lineno"> 3101</span>            <span class="keywordflow">return</span> done;</div>
<div class="line"><span class="lineno"> 3102</span>    }</div>
<div class="line"><span class="lineno"> 3103</span> </div>
<div class="line"><span class="lineno"> 3104</span>    <span class="comment">// NOTE: at this point, the read buffer is always empty</span></div>
<div class="line"><span class="lineno"> 3105</span> </div>
<div class="line"><span class="lineno"> 3106</span>    <span class="comment">// If the file isn&#39;t compressed</span></div>
<div class="line"><span class="lineno"> 3107</span>    <span class="keywordflow">if</span> (! (file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#a077f9f22119c315af3d69441ba971f71">QFILE_FLAG_DEFLATED</a>))</div>
<div class="line"><span class="lineno"> 3108</span>    {</div>
<div class="line"><span class="lineno"> 3109</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3110</span> </div>
<div class="line"><span class="lineno"> 3111</span>        <span class="comment">// We must take care to not read after the end of the file</span></div>
<div class="line"><span class="lineno"> 3112</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = file-&gt;real_length - file-&gt;position;</div>
<div class="line"><span class="lineno"> 3113</span> </div>
<div class="line"><span class="lineno"> 3114</span>        <span class="comment">// If we have a lot of data to get, put them directly into &quot;buffer&quot;</span></div>
<div class="line"><span class="lineno"> 3115</span>        <span class="keywordflow">if</span> (buffersize &gt; <span class="keyword">sizeof</span> (file-&gt;buff) / 2)</div>
<div class="line"><span class="lineno"> 3116</span>        {</div>
<div class="line"><span class="lineno"> 3117</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize)</div>
<div class="line"><span class="lineno"> 3118</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3119</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset + file-&gt;position, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 3120</span>            {</div>
<div class="line"><span class="lineno"> 3121</span>                <span class="comment">// Seek failed. When reading from a pipe, and</span></div>
<div class="line"><span class="lineno"> 3122</span>                <span class="comment">// the caller never called FS_Seek, this still</span></div>
<div class="line"><span class="lineno"> 3123</span>                <span class="comment">// works fine.  So no reporting this error.</span></div>
<div class="line"><span class="lineno"> 3124</span>            }</div>
<div class="line"><span class="lineno"> 3125</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a> = <a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (file-&gt;handle, &amp;((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[done], <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3126</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 3127</span>            {</div>
<div class="line"><span class="lineno"> 3128</span>                done += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3129</span>                file-&gt;position += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3130</span> </div>
<div class="line"><span class="lineno"> 3131</span>                <span class="comment">// Purge cached data</span></div>
<div class="line"><span class="lineno"> 3132</span>                <a class="code hl_function" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (file);</div>
<div class="line"><span class="lineno"> 3133</span>            }</div>
<div class="line"><span class="lineno"> 3134</span>        }</div>
<div class="line"><span class="lineno"> 3135</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3136</span>        {</div>
<div class="line"><span class="lineno"> 3137</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (file-&gt;buff))</div>
<div class="line"><span class="lineno"> 3138</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (file-&gt;buff);</div>
<div class="line"><span class="lineno"> 3139</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset + file-&gt;position, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 3140</span>            {</div>
<div class="line"><span class="lineno"> 3141</span>                <span class="comment">// Seek failed. When reading from a pipe, and</span></div>
<div class="line"><span class="lineno"> 3142</span>                <span class="comment">// the caller never called FS_Seek, this still</span></div>
<div class="line"><span class="lineno"> 3143</span>                <span class="comment">// works fine.  So no reporting this error.</span></div>
<div class="line"><span class="lineno"> 3144</span>            }</div>
<div class="line"><span class="lineno"> 3145</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a> = <a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (file-&gt;handle, file-&gt;buff, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3146</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 3147</span>            {</div>
<div class="line"><span class="lineno"> 3148</span>                file-&gt;buff_len = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3149</span>                file-&gt;position += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3150</span> </div>
<div class="line"><span class="lineno"> 3151</span>                <span class="comment">// Copy the requested data in &quot;buffer&quot; (as much as we can)</span></div>
<div class="line"><span class="lineno"> 3152</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize &gt; file-&gt;buff_len ? file-&gt;buff_len : (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3153</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (&amp;((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[done], file-&gt;buff, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3154</span>                file-&gt;buff_ind = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3155</span>                done += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3156</span>            }</div>
<div class="line"><span class="lineno"> 3157</span>        }</div>
<div class="line"><span class="lineno"> 3158</span> </div>
<div class="line"><span class="lineno"> 3159</span>        <span class="keywordflow">return</span> done;</div>
<div class="line"><span class="lineno"> 3160</span>    }</div>
<div class="line"><span class="lineno"> 3161</span> </div>
<div class="line"><span class="lineno"> 3162</span>    <span class="comment">// If the file is compressed, it&#39;s more complicated...</span></div>
<div class="line"><span class="lineno"> 3163</span>    <span class="comment">// We cycle through a few operations until we have read enough data</span></div>
<div class="line"><span class="lineno"> 3164</span>    <span class="keywordflow">while</span> (buffersize &gt; 0)</div>
<div class="line"><span class="lineno"> 3165</span>    {</div>
<div class="line"><span class="lineno"> 3166</span>        <a class="code hl_struct" href="structztoolkit__t.html">ztoolkit_t</a> *ztk = file-&gt;ztk;</div>
<div class="line"><span class="lineno"> 3167</span>        <span class="keywordtype">int</span> error;</div>
<div class="line"><span class="lineno"> 3168</span> </div>
<div class="line"><span class="lineno"> 3169</span>        <span class="comment">// NOTE: at this point, the read buffer is always empty</span></div>
<div class="line"><span class="lineno"> 3170</span> </div>
<div class="line"><span class="lineno"> 3171</span>        <span class="comment">// If &quot;input&quot; is also empty, we need to refill it</span></div>
<div class="line"><span class="lineno"> 3172</span>        <span class="keywordflow">if</span> (ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> == ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a>)</div>
<div class="line"><span class="lineno"> 3173</span>        {</div>
<div class="line"><span class="lineno"> 3174</span>            <span class="comment">// If we are at the end of the file</span></div>
<div class="line"><span class="lineno"> 3175</span>            <span class="keywordflow">if</span> (file-&gt;position == file-&gt;real_length)</div>
<div class="line"><span class="lineno"> 3176</span>                <span class="keywordflow">return</span> done;</div>
<div class="line"><span class="lineno"> 3177</span> </div>
<div class="line"><span class="lineno"> 3178</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)(ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a221e70188cc5fdeb2a998ee06187faa8">comp_length</a> - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">in_position</a>);</div>
<div class="line"><span class="lineno"> 3179</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>))</div>
<div class="line"><span class="lineno"> 3180</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>);</div>
<div class="line"><span class="lineno"> 3181</span>            <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset + (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">in_position</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>);</div>
<div class="line"><span class="lineno"> 3182</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (file-&gt;handle, ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>) != <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 3183</span>            {</div>
<div class="line"><span class="lineno"> 3184</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_Read: unexpected end of file\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3185</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3186</span>            }</div>
<div class="line"><span class="lineno"> 3187</span> </div>
<div class="line"><span class="lineno"> 3188</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> = 0;</div>
<div class="line"><span class="lineno"> 3189</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3190</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">in_position</a> += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3191</span>        }</div>
<div class="line"><span class="lineno"> 3192</span> </div>
<div class="line"><span class="lineno"> 3193</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#ab58d6596041c08f46454b8394f8e6b7f">next_in</a> = &amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>[ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a>];</div>
<div class="line"><span class="lineno"> 3194</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a>);</div>
<div class="line"><span class="lineno"> 3195</span> </div>
<div class="line"><span class="lineno"> 3196</span>        <span class="comment">// Now that we are sure we have compressed data available, we need to determine</span></div>
<div class="line"><span class="lineno"> 3197</span>        <span class="comment">// if it&#39;s better to inflate it in &quot;file-&gt;buff&quot; or directly in &quot;buffer&quot;</span></div>
<div class="line"><span class="lineno"> 3198</span> </div>
<div class="line"><span class="lineno"> 3199</span>        <span class="comment">// Inflate the data in &quot;file-&gt;buff&quot;</span></div>
<div class="line"><span class="lineno"> 3200</span>        <span class="keywordflow">if</span> (buffersize &lt; <span class="keyword">sizeof</span> (file-&gt;buff) / 2)</div>
<div class="line"><span class="lineno"> 3201</span>        {</div>
<div class="line"><span class="lineno"> 3202</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a90b935509c7822fc0d5954daa29639de">next_out</a> = file-&gt;buff;</div>
<div class="line"><span class="lineno"> 3203</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a> = <span class="keyword">sizeof</span> (file-&gt;buff);</div>
<div class="line"><span class="lineno"> 3204</span>            error = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a> (&amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>, <a class="code hl_define" href="fs_8c.html#aa32ca175522e0ef314f4dc0b0196bada">Z_SYNC_FLUSH</a>);</div>
<div class="line"><span class="lineno"> 3205</span>            <span class="keywordflow">if</span> (error != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; error != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno"> 3206</span>            {</div>
<div class="line"><span class="lineno"> 3207</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_Read: Can&#39;t inflate file\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3208</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3209</span>            }</div>
<div class="line"><span class="lineno"> 3210</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> = ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a>;</div>
<div class="line"><span class="lineno"> 3211</span> </div>
<div class="line"><span class="lineno"> 3212</span>            file-&gt;buff_len = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (file-&gt;buff) - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a>;</div>
<div class="line"><span class="lineno"> 3213</span>            file-&gt;position += file-&gt;buff_len;</div>
<div class="line"><span class="lineno"> 3214</span> </div>
<div class="line"><span class="lineno"> 3215</span>            <span class="comment">// Copy the requested data in &quot;buffer&quot; (as much as we can)</span></div>
<div class="line"><span class="lineno"> 3216</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize &gt; file-&gt;buff_len ? file-&gt;buff_len : (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3217</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (&amp;((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[done], file-&gt;buff, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3218</span>            file-&gt;buff_ind = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3219</span>        }</div>
<div class="line"><span class="lineno"> 3220</span> </div>
<div class="line"><span class="lineno"> 3221</span>        <span class="comment">// Else, we inflate directly in &quot;buffer&quot;</span></div>
<div class="line"><span class="lineno"> 3222</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3223</span>        {</div>
<div class="line"><span class="lineno"> 3224</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a90b935509c7822fc0d5954daa29639de">next_out</a> = &amp;((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[done];</div>
<div class="line"><span class="lineno"> 3225</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3226</span>            error = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a> (&amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>, <a class="code hl_define" href="fs_8c.html#aa32ca175522e0ef314f4dc0b0196bada">Z_SYNC_FLUSH</a>);</div>
<div class="line"><span class="lineno"> 3227</span>            <span class="keywordflow">if</span> (error != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; error != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno"> 3228</span>            {</div>
<div class="line"><span class="lineno"> 3229</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_Read: Can&#39;t inflate file\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3230</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3231</span>            }</div>
<div class="line"><span class="lineno"> 3232</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> = ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a>;</div>
<div class="line"><span class="lineno"> 3233</span> </div>
<div class="line"><span class="lineno"> 3234</span>            <span class="comment">// How much data did it inflate?</span></div>
<div class="line"><span class="lineno"> 3235</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)(buffersize - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a>);</div>
<div class="line"><span class="lineno"> 3236</span>            file-&gt;position += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3237</span> </div>
<div class="line"><span class="lineno"> 3238</span>            <span class="comment">// Purge cached data</span></div>
<div class="line"><span class="lineno"> 3239</span>            <a class="code hl_function" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (file);</div>
<div class="line"><span class="lineno"> 3240</span>        }</div>
<div class="line"><span class="lineno"> 3241</span> </div>
<div class="line"><span class="lineno"> 3242</span>        done += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3243</span>        buffersize -= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3244</span>    }</div>
<div class="line"><span class="lineno"> 3245</span> </div>
<div class="line"><span class="lineno"> 3246</span>    <span class="keywordflow">return</span> done;</div>
<div class="line"><span class="lineno"> 3247</span>}</div>
<div class="ttc" id="afs_8c_html_a077f9f22119c315af3d69441ba971f71"><div class="ttname"><a href="fs_8c.html#a077f9f22119c315af3d69441ba971f71">QFILE_FLAG_DEFLATED</a></div><div class="ttdeci">#define QFILE_FLAG_DEFLATED</div><div class="ttdoc">file is compressed using the deflate algorithm (PK3 only)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00290">fs.c:290</a></div></div>
<div class="ttc" id="afs_8c_html_a5be675f7c96c5b5b6af64d38f328f3f3"><div class="ttname"><a href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a></div><div class="ttdeci">#define FILEDESC_READ</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00103">fs.c:103</a></div></div>
<div class="ttc" id="afs_8c_html_a68f2a03ca613c2c6c4c98beaa253928b"><div class="ttname"><a href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a></div><div class="ttdeci">void FS_Purge(qfile_t *file)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03483">fs.c:3483</a></div></div>
<div class="ttc" id="afs_8c_html_aa32ca175522e0ef314f4dc0b0196bada"><div class="ttname"><a href="fs_8c.html#aa32ca175522e0ef314f4dc0b0196bada">Z_SYNC_FLUSH</a></div><div class="ttdeci">#define Z_SYNC_FLUSH</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00225">fs.c:225</a></div></div>
<div class="ttc" id="afs_8c_html_ad449c345b747297192b11c6cd4695f3c"><div class="ttname"><a href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a></div><div class="ttdeci">#define FILEDESC_SEEK</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00106">fs.c:106</a></div></div>
<div class="ttc" id="aglquake_8h_html_a39774db434725e51f4ad4c04150ed6a1"><div class="ttname"><a href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00629">glquake.h:629</a></div></div>
<div class="ttc" id="aglquake_8h_html_a51af0e2e7aa22f9dc0c188ee8baa7a11"><div class="ttname"><a href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a></div><div class="ttdeci">GLenum GLenum GLsizei count</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="astructz__stream_html_a120aee70bf78ea7add192af3bb79e0c3"><div class="ttname"><a href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">z_stream::avail_in</a></div><div class="ttdeci">unsigned int avail_in</div><div class="ttdoc">number of bytes available at next_in</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00266">fs.c:266</a></div></div>
<div class="ttc" id="astructz__stream_html_a90b935509c7822fc0d5954daa29639de"><div class="ttname"><a href="structz__stream.html#a90b935509c7822fc0d5954daa29639de">z_stream::next_out</a></div><div class="ttdeci">unsigned char * next_out</div><div class="ttdoc">next output byte should be put there</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00269">fs.c:269</a></div></div>
<div class="ttc" id="astructz__stream_html_aa1e0139bcc68702ced838bfd51f6a9ea"><div class="ttname"><a href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">z_stream::avail_out</a></div><div class="ttdeci">unsigned int avail_out</div><div class="ttdoc">remaining free space at next_out</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00270">fs.c:270</a></div></div>
<div class="ttc" id="astructz__stream_html_ab58d6596041c08f46454b8394f8e6b7f"><div class="ttname"><a href="structz__stream.html#ab58d6596041c08f46454b8394f8e6b7f">z_stream::next_in</a></div><div class="ttdeci">unsigned char * next_in</div><div class="ttdoc">next input byte</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00265">fs.c:265</a></div></div>
<div class="ttc" id="astructztoolkit__t_html"><div class="ttname"><a href="structztoolkit__t.html">ztoolkit_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00297">fs.c:298</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a0a55756c457d806c4b08110dd9dbe278"><div class="ttname"><a href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">ztoolkit_t::in_ind</a></div><div class="ttdeci">size_t in_ind</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00301">fs.c:301</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a221e70188cc5fdeb2a998ee06187faa8"><div class="ttname"><a href="structztoolkit__t.html#a221e70188cc5fdeb2a998ee06187faa8">ztoolkit_t::comp_length</a></div><div class="ttdeci">size_t comp_length</div><div class="ttdoc">length of the compressed file</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00300">fs.c:300</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a4bd3e4d318d3f4a606af7afc30196735"><div class="ttname"><a href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">ztoolkit_t::in_position</a></div><div class="ttdeci">size_t in_position</div><div class="ttdoc">position in the compressed file</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00302">fs.c:302</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a86ba5bc9090e0c1718e931d96dc14751"><div class="ttname"><a href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">ztoolkit_t::input</a></div><div class="ttdeci">unsigned char input[FILE_BUFF_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00303">fs.c:303</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a8fe891ea75ce1170ae2cff851adbd0fc"><div class="ttname"><a href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">ztoolkit_t::in_len</a></div><div class="ttdeci">size_t in_len</div><div class="ttdoc">input buffer current index and length</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00301">fs.c:301</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_adad2b634ea365b5288abd975d5a4719e"><div class="ttname"><a href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">ztoolkit_t::zstream</a></div><div class="ttdeci">z_stream zstream</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00299">fs.c:299</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00187">CL_ReadDemoMessage()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, <a class="el" href="fs_8c_source.html#l03319">FS_Getc()</a>, <a class="el" href="fs_8c_source.html#l03499">FS_LoadAndCloseQFile()</a>, <a class="el" href="fs_8c_source.html#l02782">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l03355">FS_Seek()</a>, <a class="el" href="fs_8c_source.html#l01793">FS_SysCheckGameDir()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="dpvsimpledecode_8c_source.html#l00109">hz_bitstream_read_blocks_read()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00047">jam_open()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00290">jam_video()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00238">LibAvW_FS_Read()</a>, <a class="el" href="menu_8c_source.html#l00843">M_ScanSaves()</a>, <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>, <a class="el" href="sv__send_8c_source.html#l01425">SV_SendClientDatagram()</a>, <a class="el" href="wad_8c_source.html#l00277">W_GetTextureBGRA()</a>, and <a class="el" href="wad_8c_source.html#l00165">W_LoadTextureWadFile()</a>.</p>

</div>
</div>
<a id="ab478ae89e52cbb0ffb24cd20cccec60a" name="ab478ae89e52cbb0ffb24cd20cccec60a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab478ae89e52cbb0ffb24cd20cccec60a">&#9670;&#160;</a></span>FS_RemoveOnClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_RemoveOnClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03003">3003</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3004</span>{</div>
<div class="line"><span class="lineno"> 3005</span>    file-&gt;flags |= <a class="code hl_define" href="fs_8c.html#af21a4ea898d2553316d98abbcf68bc67">QFILE_FLAG_REMOVE</a>;</div>
<div class="line"><span class="lineno"> 3006</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00307">CL_Stop_f()</a>, and <a class="el" href="sv__demo_8c_source.html#l00055">SV_StopDemoRecording()</a>.</p>

</div>
</div>
<a id="a2790033183896d4ab46de75305b40786" name="a2790033183896d4ab46de75305b40786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2790033183896d4ab46de75305b40786">&#9670;&#160;</a></span>FS_Rescan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Rescan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01545">1545</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1546</span>{</div>
<div class="line"><span class="lineno"> 1547</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1548</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><span class="lineno"> 1549</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1550</span> </div>
<div class="line"><span class="lineno"> 1551</span>    <a class="code hl_function" href="fs_8c.html#ae2dc0c72e3d74aa1c95f95bd639f91bf">FS_ListGameDirs</a>();</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>    <a class="code hl_function" href="fs_8c.html#a03c0f05d0f065c9fe6fc4adc8d1888d3">FS_ClearSearchPath</a>();</div>
<div class="line"><span class="lineno"> 1554</span> </div>
<div class="line"><span class="lineno"> 1555</span>    <span class="comment">// update the com_modname (used for server info)</span></div>
<div class="line"><span class="lineno"> 1556</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a> &amp;&amp; <a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>[0])</div>
<div class="line"><span class="lineno"> 1557</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>));</div>
<div class="line"><span class="lineno"> 1558</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1559</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>));</div>
<div class="line"><span class="lineno"> 1560</span> </div>
<div class="line"><span class="lineno"> 1561</span>    <span class="comment">// -game &lt;gamedir&gt;</span></div>
<div class="line"><span class="lineno"> 1562</span>    <span class="comment">// Adds basedir/gamedir as an override game</span></div>
<div class="line"><span class="lineno"> 1563</span>    <span class="comment">// LadyHavoc: now supports multiple -game directories</span></div>
<div class="line"><span class="lineno"> 1564</span>    <span class="comment">// set the com_modname (reported in server info)</span></div>
<div class="line"><span class="lineno"> 1565</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a> = 0;</div>
<div class="line"><span class="lineno"> 1566</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1567</span>    {</div>
<div class="line"><span class="lineno"> 1568</span>        <a class="code hl_function" href="fs_8c.html#a438d0ec88c56efc185a3a268345cba81">FS_AddGameHierarchy</a> (<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1569</span>        <span class="comment">// update the com_modname (used server info)</span></div>
<div class="line"><span class="lineno"> 1570</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span> (<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>));</div>
<div class="line"><span class="lineno"> 1571</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1572</span>            <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot; %s&quot;</span>, <a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>));</div>
<div class="line"><span class="lineno"> 1573</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1574</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>, <a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>));</div>
<div class="line"><span class="lineno"> 1575</span>    }</div>
<div class="line"><span class="lineno"> 1576</span>    <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a>(&amp;<a class="code hl_variable" href="fs_8c.html#a96cafb428e3f2059aa9fb50cd1cad67b">cvar_fs_gamedir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>); <span class="comment">// so QC or console code can query it</span></div>
<div class="line"><span class="lineno"> 1577</span> </div>
<div class="line"><span class="lineno"> 1578</span>    <span class="comment">// add back the selfpack as new first item</span></div>
<div class="line"><span class="lineno"> 1579</span>    <a class="code hl_function" href="fs_8c.html#a764b9be01a515113f590f26417b3bdc1">FS_AddSelfPack</a>();</div>
<div class="line"><span class="lineno"> 1580</span> </div>
<div class="line"><span class="lineno"> 1581</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 1582</span>    {</div>
<div class="line"><span class="lineno"> 1583</span>        <span class="comment">// set the default screenshot name to either the mod name or the</span></div>
<div class="line"><span class="lineno"> 1584</span>        <span class="comment">// gamemode screenshot name</span></div>
<div class="line"><span class="lineno"> 1585</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>))</div>
<div class="line"><span class="lineno"> 1586</span>            <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a> (&amp;<a class="code hl_variable" href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a>, <a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>);</div>
<div class="line"><span class="lineno"> 1587</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1588</span>            <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a> (&amp;<a class="code hl_variable" href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a>, <a class="code hl_variable" href="com__game_8c.html#a4813864bbf79371511394a4c73c235a5">gamescreenshotname</a>);</div>
<div class="line"><span class="lineno"> 1589</span>    }</div>
<div class="line"><span class="lineno"> 1590</span> </div>
<div class="line"><span class="lineno"> 1591</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-modname&quot;</span>)) &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> - 1)</div>
<div class="line"><span class="lineno"> 1592</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>));</div>
<div class="line"><span class="lineno"> 1593</span> </div>
<div class="line"><span class="lineno"> 1594</span>    <span class="comment">// If &quot;-condebug&quot; is in the command line, remove the previous log file</span></div>
<div class="line"><span class="lineno"> 1595</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a> (<span class="stringliteral">&quot;-condebug&quot;</span>) != 0)</div>
<div class="line"><span class="lineno"> 1596</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unlink</a> (<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s/qconsole.log&quot;</span>, <a class="code hl_variable" href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a>));</div>
<div class="line"><span class="lineno"> 1597</span> </div>
<div class="line"><span class="lineno"> 1598</span>    <span class="comment">// look for the pop.lmp file and set registered to true if it is found</span></div>
<div class="line"><span class="lineno"> 1599</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#ae5bb7ead56ab2c98c5b66a71e6141127">FS_FileExists</a>(<span class="stringliteral">&quot;gfx/pop.lmp&quot;</span>))</div>
<div class="line"><span class="lineno"> 1600</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="common_8c.html#ab005434d05d90be9b79565d72f11914b">registered</a>, 1);</div>
<div class="line"><span class="lineno"> 1601</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a>)</div>
<div class="line"><span class="lineno"> 1602</span>    {</div>
<div class="line"><span class="lineno"> 1603</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eaba17db6051a6fccbe2aafad46448a05a">GAME_NORMAL</a>:</div>
<div class="line"><span class="lineno"> 1604</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eafb03510ab6d06acefb4ac20cb9ae0c7e">GAME_HIPNOTIC</a>:</div>
<div class="line"><span class="lineno"> 1605</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea224f41434f3e5708b1fd8a4c60d2c2bb">GAME_ROGUE</a>:</div>
<div class="line"><span class="lineno"> 1606</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="common_8c.html#ab005434d05d90be9b79565d72f11914b">registered</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1607</span>        {</div>
<div class="line"><span class="lineno"> 1608</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a> &gt; 1)</div>
<div class="line"><span class="lineno"> 1609</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing shareware version, with modification.\nwarning: most mods require full quake data.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1610</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1611</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing shareware version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1612</span>        }</div>
<div class="line"><span class="lineno"> 1613</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1614</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing registered version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1615</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1616</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea36a31f57016e09de6fa9e76950073dcc">GAME_STEELSTORM</a>:</div>
<div class="line"><span class="lineno"> 1617</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#ab005434d05d90be9b79565d72f11914b">registered</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1618</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing registered version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1619</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1620</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing shareware version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1621</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1622</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1623</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1624</span>    }</div>
<div class="line"><span class="lineno"> 1625</span> </div>
<div class="line"><span class="lineno"> 1626</span>    <span class="comment">// unload all wads so that future queries will return the new data</span></div>
<div class="line"><span class="lineno"> 1627</span>    <a class="code hl_function" href="wad_8c.html#ad551f91d4ae55d1207fdc66706876bc7">W_UnloadAll</a>();</div>
<div class="line"><span class="lineno"> 1628</span>}</div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a></div><div class="ttdeci">@ ca_dedicated</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00531">client.h:531</a></div></div>
<div class="ttc" id="acom__game_8c_html_a089b42925916fc1698399220e989dc47"><div class="ttname"><a href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a></div><div class="ttdeci">char com_modname[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00033">com_game.c:33</a></div></div>
<div class="ttc" id="acom__game_8c_html_a4813864bbf79371511394a4c73c235a5"><div class="ttname"><a href="com__game_8c.html#a4813864bbf79371511394a4c73c235a5">gamescreenshotname</a></div><div class="ttdeci">const char * gamescreenshotname</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00031">com_game.c:31</a></div></div>
<div class="ttc" id="acom__game_8c_html_a542f48e6700410ee45161841384b2460"><div class="ttname"><a href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a></div><div class="ttdeci">const char * gamedirname2</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00030">com_game.c:30</a></div></div>
<div class="ttc" id="acom__game_8c_html_a8261ff184d55a220fafab13efd735946"><div class="ttname"><a href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a></div><div class="ttdeci">gamemode_t gamemode</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00026">com_game.c:26</a></div></div>
<div class="ttc" id="acom__game_8c_html_a878b664b9eda93cab29b459501d96938"><div class="ttname"><a href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a></div><div class="ttdeci">const char * gamedirname1</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00029">com_game.c:29</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825ea224f41434f3e5708b1fd8a4c60d2c2bb"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea224f41434f3e5708b1fd8a4c60d2c2bb">GAME_ROGUE</a></div><div class="ttdeci">@ GAME_ROGUE</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00030">com_game.h:30</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825ea36a31f57016e09de6fa9e76950073dcc"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea36a31f57016e09de6fa9e76950073dcc">GAME_STEELSTORM</a></div><div class="ttdeci">@ GAME_STEELSTORM</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00053">com_game.h:53</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825eaba17db6051a6fccbe2aafad46448a05a"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eaba17db6051a6fccbe2aafad46448a05a">GAME_NORMAL</a></div><div class="ttdeci">@ GAME_NORMAL</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00028">com_game.h:28</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825eafb03510ab6d06acefb4ac20cb9ae0c7e"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eafb03510ab6d06acefb4ac20cb9ae0c7e">GAME_HIPNOTIC</a></div><div class="ttdeci">@ GAME_HIPNOTIC</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00029">com_game.h:29</a></div></div>
<div class="ttc" id="acommon_8c_html_ab005434d05d90be9b79565d72f11914b"><div class="ttname"><a href="common_8c.html#ab005434d05d90be9b79565d72f11914b">registered</a></div><div class="ttdeci">cvar_t registered</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00032">common.c:32</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00303">common.h:303</a></div></div>
<div class="ttc" id="acvar_8c_html_a65b55ce35a5bd18e379065651d5d6e15"><div class="ttname"><a href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a></div><div class="ttdeci">void Cvar_SetValueQuick(cvar_t *var, float value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00473">cvar.c:473</a></div></div>
<div class="ttc" id="acvar_8c_html_a6f37a084abf4715928f1a004181866f8"><div class="ttname"><a href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a></div><div class="ttdeci">void Cvar_SetQuick(cvar_t *var, const char *value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00436">cvar.c:436</a></div></div>
<div class="ttc" id="afs_8c_html_a03c0f05d0f065c9fe6fc4adc8d1888d3"><div class="ttname"><a href="fs_8c.html#a03c0f05d0f065c9fe6fc4adc8d1888d3">FS_ClearSearchPath</a></div><div class="ttdeci">static void FS_ClearSearchPath(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01458">fs.c:1458</a></div></div>
<div class="ttc" id="afs_8c_html_a1ae37afe19022713da1c41aaf8e74b8a"><div class="ttname"><a href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a></div><div class="ttdeci">char fs_gamedirs[MAX_GAMEDIRS][MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00443">fs.c:443</a></div></div>
<div class="ttc" id="afs_8c_html_a438d0ec88c56efc185a3a268345cba81"><div class="ttname"><a href="fs_8c.html#a438d0ec88c56efc185a3a268345cba81">FS_AddGameHierarchy</a></div><div class="ttdeci">static void FS_AddGameHierarchy(const char *dir)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01394">fs.c:1394</a></div></div>
<div class="ttc" id="afs_8c_html_adda51408d01fe25b934e4fd7b21a9698"><div class="ttname"><a href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a></div><div class="ttdeci">int fs_numgamedirs</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00442">fs.c:442</a></div></div>
<div class="ttc" id="afs_8c_html_ae2dc0c72e3d74aa1c95f95bd639f91bf"><div class="ttname"><a href="fs_8c.html#ae2dc0c72e3d74aa1c95f95bd639f91bf">FS_ListGameDirs</a></div><div class="ttdeci">static void FS_ListGameDirs(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01861">fs.c:1861</a></div></div>
<div class="ttc" id="afs_8c_html_ae5bb7ead56ab2c98c5b66a71e6141127"><div class="ttname"><a href="fs_8c.html#ae5bb7ead56ab2c98c5b66a71e6141127">FS_FileExists</a></div><div class="ttdeci">const char * FS_FileExists(const char *filename)</div><div class="ttdoc">Look for a file in the packages and in the filesystem Returns its canonical name (same case as used i...</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03689">fs.c:3689</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a119f8457078d7390fb45ea0838adb806"><div class="ttname"><a href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a></div><div class="ttdeci">#define MAX_INPUTLINE</div><div class="ttdoc">maximum size of console commandline, QuakeC strings, and many other text processing buffers</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00094">qdefs.h:94</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a6722e47d64e69141af5cdf392fcf95eb"><div class="ttname"><a href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">client_static_t::state</a></div><div class="ttdeci">cactive_t state</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00569">client.h:569</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
<div class="ttc" id="astructsys__t_html_a4fa71494699d7e84d29a1fd218ec3421"><div class="ttname"><a href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">sys_t::argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00142">sys.h:142</a></div></div>
<div class="ttc" id="awad_8c_html_ad551f91d4ae55d1207fdc66706876bc7"><div class="ttname"><a href="wad_8c.html#ad551f91d4ae55d1207fdc66706876bc7">W_UnloadAll</a></div><div class="ttdeci">void W_UnloadAll(void)</div><div class="ttdef"><b>Definition</b> <a href="wad_8c_source.html#l00087">wad.c:87</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="fs_8c_source.html#l01726">FS_ChangeGameDirs()</a>, <a class="el" href="fs_8c_source.html#l02139">FS_Init_Dir()</a>, and <a class="el" href="fs_8c_source.html#l01630">FS_Rescan_f()</a>.</p>

</div>
</div>
<a id="ab0bdcd3ddc4eeae13ee7b56380c81b09" name="ab0bdcd3ddc4eeae13ee7b56380c81b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0bdcd3ddc4eeae13ee7b56380c81b09">&#9670;&#160;</a></span>FS_SanitizePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_SanitizePath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02669">2669</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2670</span>{</div>
<div class="line"><span class="lineno"> 2671</span>    <span class="keywordflow">for</span> (; *path; path++)</div>
<div class="line"><span class="lineno"> 2672</span>        <span class="keywordflow">if</span> (*path == <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><span class="lineno"> 2673</span>            *path = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><span class="lineno"> 2674</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="image_8c_source.html#l01043">loadimagepixelsbgra()</a>.</p>

</div>
</div>
<a id="a637b96ed07f8e70398c51a8bc3ce4fb9" name="a637b96ed07f8e70398c51a8bc3ce4fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a637b96ed07f8e70398c51a8bc3ce4fb9">&#9670;&#160;</a></span>FS_Search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfssearch__t.html">fssearch_t</a> * FS_Search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>caseinsensitive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>packfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03751">3751</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3752</span>{</div>
<div class="line"><span class="lineno"> 3753</span>    <a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 3754</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>;</div>
<div class="line"><span class="lineno"> 3755</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>;</div>
<div class="line"><span class="lineno"> 3756</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a>, numfiles, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>;</div>
<div class="line"><span class="lineno"> 3757</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>;</div>
<div class="line"><span class="lineno"> 3758</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlist</a>;</div>
<div class="line"><span class="lineno"> 3759</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>;</div>
<div class="line"><span class="lineno"> 3760</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *start, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>;</div>
<div class="line"><span class="lineno"> 3761</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a>;</div>
<div class="line"><span class="lineno"> 3762</span> </div>
<div class="line"><span class="lineno"> 3763</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;.&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;:&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;/&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;\\&#39;</span>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3764</span>        ;</div>
<div class="line"><span class="lineno"> 3765</span> </div>
<div class="line"><span class="lineno"> 3766</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 3767</span>    {</div>
<div class="line"><span class="lineno"> 3768</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Don&#39;t use punctuation at the beginning of a search pattern!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3769</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3770</span>    }</div>
<div class="line"><span class="lineno"> 3771</span> </div>
<div class="line"><span class="lineno"> 3772</span>    <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>);</div>
<div class="line"><span class="lineno"> 3773</span>    <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlist</a>);</div>
<div class="line"><span class="lineno"> 3774</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3775</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 3776</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="charliteral">&#39;\\&#39;</span>);</div>
<div class="line"><span class="lineno"> 3777</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 3778</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>);</div>
<div class="line"><span class="lineno"> 3779</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>);</div>
<div class="line"><span class="lineno"> 3780</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> ? (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> + 1 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>) : 0;</div>
<div class="line"><span class="lineno"> 3781</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a> + 1);</div>
<div class="line"><span class="lineno"> 3782</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a>)</div>
<div class="line"><span class="lineno"> 3783</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a>);</div>
<div class="line"><span class="lineno"> 3784</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a>] = 0;</div>
<div class="line"><span class="lineno"> 3785</span> </div>
<div class="line"><span class="lineno"> 3786</span>    <span class="comment">// search through the path, one element at a time</span></div>
<div class="line"><span class="lineno"> 3787</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>)</div>
<div class="line"><span class="lineno"> 3788</span>    {</div>
<div class="line"><span class="lineno"> 3789</span>        <span class="comment">// is the element a pak file?</span></div>
<div class="line"><span class="lineno"> 3790</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;pack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;pack-&gt;vpack)</div>
<div class="line"><span class="lineno"> 3791</span>        {</div>
<div class="line"><span class="lineno"> 3792</span>            <span class="comment">// look through all the pak file elements</span></div>
<div class="line"><span class="lineno"> 3793</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;pack;</div>
<div class="line"><span class="lineno"> 3794</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>)</div>
<div class="line"><span class="lineno"> 3795</span>            {</div>
<div class="line"><span class="lineno"> 3796</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;shortname))</div>
<div class="line"><span class="lineno"> 3797</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3798</span>            }</div>
<div class="line"><span class="lineno"> 3799</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;numfiles;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3800</span>            {</div>
<div class="line"><span class="lineno"> 3801</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3802</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;files[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].name, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>));</div>
<div class="line"><span class="lineno"> 3803</span>                <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>[0])</div>
<div class="line"><span class="lineno"> 3804</span>                {</div>
<div class="line"><span class="lineno"> 3805</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="filematch_8c.html#a59a2069617e6cf22696e42cb203918d2">matchpattern</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, (<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3806</span>                    {</div>
<div class="line"><span class="lineno"> 3807</span>                        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3808</span>                            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>))</div>
<div class="line"><span class="lineno"> 3809</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3810</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings)</div>
<div class="line"><span class="lineno"> 3811</span>                        {</div>
<div class="line"><span class="lineno"> 3812</span>                            <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><span class="lineno"> 3813</span>                            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3814</span>                                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SearchPackFile: %s : %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><span class="lineno"> 3815</span>                        }</div>
<div class="line"><span class="lineno"> 3816</span>                    }</div>
<div class="line"><span class="lineno"> 3817</span>                    <span class="comment">// strip off one path element at a time until empty</span></div>
<div class="line"><span class="lineno"> 3818</span>                    <span class="comment">// this way directories are added to the listing if they match the pattern</span></div>
<div class="line"><span class="lineno"> 3819</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 3820</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <span class="charliteral">&#39;\\&#39;</span>);</div>
<div class="line"><span class="lineno"> 3821</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 3822</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>;</div>
<div class="line"><span class="lineno"> 3823</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>)</div>
<div class="line"><span class="lineno"> 3824</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>;</div>
<div class="line"><span class="lineno"> 3825</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>)</div>
<div class="line"><span class="lineno"> 3826</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>;</div>
<div class="line"><span class="lineno"> 3827</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>)</div>
<div class="line"><span class="lineno"> 3828</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>;</div>
<div class="line"><span class="lineno"> 3829</span>                    *((<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>) = 0;</div>
<div class="line"><span class="lineno"> 3830</span>                }</div>
<div class="line"><span class="lineno"> 3831</span>            }</div>
<div class="line"><span class="lineno"> 3832</span>        }</div>
<div class="line"><span class="lineno"> 3833</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3834</span>        {</div>
<div class="line"><span class="lineno"> 3835</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>)</div>
<div class="line"><span class="lineno"> 3836</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3837</span> </div>
<div class="line"><span class="lineno"> 3838</span>            start = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>;</div>
<div class="line"><span class="lineno"> 3839</span> </div>
<div class="line"><span class="lineno"> 3840</span>            <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>);</div>
<div class="line"><span class="lineno"> 3841</span>            <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>);</div>
<div class="line"><span class="lineno"> 3842</span>            <span class="comment">// add a first entry to the set</span></div>
<div class="line"><span class="lineno"> 3843</span>            <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3844</span>            <span class="comment">// iterate through pattern&#39;s path</span></div>
<div class="line"><span class="lineno"> 3845</span>            <span class="keywordflow">while</span> (*start)</div>
<div class="line"><span class="lineno"> 3846</span>            {</div>
<div class="line"><span class="lineno"> 3847</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a>;</div>
<div class="line"><span class="lineno"> 3848</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpath</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3849</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3850</span> </div>
<div class="line"><span class="lineno"> 3851</span>                <span class="comment">// find the next wildcard</span></div>
<div class="line"><span class="lineno"> 3852</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(start, <span class="charliteral">&#39;?&#39;</span>);</div>
<div class="line"><span class="lineno"> 3853</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(start, <span class="charliteral">&#39;*&#39;</span>);</div>
<div class="line"><span class="lineno"> 3854</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a> &amp;&amp; (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a>))</div>
<div class="line"><span class="lineno"> 3855</span>                {</div>
<div class="line"><span class="lineno"> 3856</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a>;</div>
<div class="line"><span class="lineno"> 3857</span>                }</div>
<div class="line"><span class="lineno"> 3858</span> </div>
<div class="line"><span class="lineno"> 3859</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a>)</div>
<div class="line"><span class="lineno"> 3860</span>                {</div>
<div class="line"><span class="lineno"> 3861</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a>, <span class="charliteral">&#39;/&#39;</span> );</div>
<div class="line"><span class="lineno"> 3862</span>                }</div>
<div class="line"><span class="lineno"> 3863</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3864</span>                {</div>
<div class="line"><span class="lineno"> 3865</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3866</span>                }</div>
<div class="line"><span class="lineno"> 3867</span> </div>
<div class="line"><span class="lineno"> 3868</span>                <span class="keywordflow">if</span>( !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> ) {</div>
<div class="line"><span class="lineno"> 3869</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> = start + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>( start );</div>
<div class="line"><span class="lineno"> 3870</span>                }</div>
<div class="line"><span class="lineno"> 3871</span> </div>
<div class="line"><span class="lineno"> 3872</span>                <span class="comment">// prevseparator points past the &#39;/&#39; right before the wildcard and nextseparator at the one following it (or at the end of the string)</span></div>
<div class="line"><span class="lineno"> 3873</span>                <span class="comment">// copy everything up except nextseperator</span></div>
<div class="line"><span class="lineno"> 3874</span>                <a class="code hl_function" href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>);</div>
<div class="line"><span class="lineno"> 3875</span>                <span class="comment">// find the last &#39;/&#39; before the wildcard</span></div>
<div class="line"><span class="lineno"> 3876</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>, <span class="charliteral">&#39;/&#39;</span> );</div>
<div class="line"><span class="lineno"> 3877</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a>)</div>
<div class="line"><span class="lineno"> 3878</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>;</div>
<div class="line"><span class="lineno"> 3879</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3880</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a>++;</div>
<div class="line"><span class="lineno"> 3881</span>                <span class="comment">// copy everything from start to the previous including the &#39;/&#39; (before the wildcard)</span></div>
<div class="line"><span class="lineno"> 3882</span>                <span class="comment">// everything up to start is already included in the path of matchedSet&#39;s entries</span></div>
<div class="line"><span class="lineno"> 3883</span>                <a class="code hl_function" href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpath</a>), start, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>) - (start - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>));</div>
<div class="line"><span class="lineno"> 3884</span> </div>
<div class="line"><span class="lineno"> 3885</span>                <span class="comment">// for each entry in matchedSet try to open the subdirectories specified in subpath</span></div>
<div class="line"><span class="lineno"> 3886</span>                <span class="keywordflow">for</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> = 0 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>.numstrings ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>++ ) {</div>
<div class="line"><span class="lineno"> 3887</span>                    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3888</span>                    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>.strings[ <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> ], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>) );</div>
<div class="line"><span class="lineno"> 3889</span>                    <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>) );</div>
<div class="line"><span class="lineno"> 3890</span>                    <a class="code hl_function" href="filematch_8c.html#aa59d9bf858a98da656f509fe40678be6">listdirectory</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a> );</div>
<div class="line"><span class="lineno"> 3891</span>                }</div>
<div class="line"><span class="lineno"> 3892</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> == 0 ) {</div>
<div class="line"><span class="lineno"> 3893</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3894</span>                }</div>
<div class="line"><span class="lineno"> 3895</span>                <span class="comment">// reset the current result set</span></div>
<div class="line"><span class="lineno"> 3896</span>                <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a> );</div>
<div class="line"><span class="lineno"> 3897</span>                <span class="comment">// match against the pattern</span></div>
<div class="line"><span class="lineno"> 3898</span>                <span class="keywordflow">for</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> = 0 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>.numstrings ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>++ ) {</div>
<div class="line"><span class="lineno"> 3899</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direntry</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>.strings[ <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> ];</div>
<div class="line"><span class="lineno"> 3900</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="filematch_8c.html#a59a2069617e6cf22696e42cb203918d2">matchpattern</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direntry</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>, <span class="keyword">true</span>)) {</div>
<div class="line"><span class="lineno"> 3901</span>                        <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direntry</a> );</div>
<div class="line"><span class="lineno"> 3902</span>                    }</div>
<div class="line"><span class="lineno"> 3903</span>                }</div>
<div class="line"><span class="lineno"> 3904</span>                <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a> );</div>
<div class="line"><span class="lineno"> 3905</span> </div>
<div class="line"><span class="lineno"> 3906</span>                start = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a>;</div>
<div class="line"><span class="lineno"> 3907</span>            }</div>
<div class="line"><span class="lineno"> 3908</span> </div>
<div class="line"><span class="lineno"> 3909</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3910</span>            {</div>
<div class="line"><span class="lineno"> 3911</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>];</div>
<div class="line"><span class="lineno"> 3912</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="filematch_8c.html#a59a2069617e6cf22696e42cb203918d2">matchpattern</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a>, (<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3913</span>                {</div>
<div class="line"><span class="lineno"> 3914</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3915</span>                        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a>))</div>
<div class="line"><span class="lineno"> 3916</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3917</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings)</div>
<div class="line"><span class="lineno"> 3918</span>                    {</div>
<div class="line"><span class="lineno"> 3919</span>                        <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a>);</div>
<div class="line"><span class="lineno"> 3920</span>                        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3921</span>                            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SearchDirFile: %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a>);</div>
<div class="line"><span class="lineno"> 3922</span>                    }</div>
<div class="line"><span class="lineno"> 3923</span>                }</div>
<div class="line"><span class="lineno"> 3924</span>            }</div>
<div class="line"><span class="lineno"> 3925</span>            <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a> );</div>
<div class="line"><span class="lineno"> 3926</span>        }</div>
<div class="line"><span class="lineno"> 3927</span>    }</div>
<div class="line"><span class="lineno"> 3928</span> </div>
<div class="line"><span class="lineno"> 3929</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings)</div>
<div class="line"><span class="lineno"> 3930</span>    {</div>
<div class="line"><span class="lineno"> 3931</span>        <a class="code hl_function" href="filematch_8c.html#a3462b7b4d7253c46111da15a55b31906">stringlistsort</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3932</span>        numfiles = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;</div>
<div class="line"><span class="lineno"> 3933</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> = 0;</div>
<div class="line"><span class="lineno"> 3934</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3935</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> += (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>]) + 1;</div>
<div class="line"><span class="lineno"> 3936</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = (<a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a> *)<a class="code hl_define" href="zone_8h.html#a35deb8ef816a08fb1bc8feac8db020c5">Z_Malloc</a>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a>) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> + numfiles * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div>
<div class="line"><span class="lineno"> 3937</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames = (<span class="keywordtype">char</span> **)((<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> + <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a>));</div>
<div class="line"><span class="lineno"> 3938</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenamesbuffer = (<span class="keywordtype">char</span> *)((<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> + <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a>) + numfiles * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div>
<div class="line"><span class="lineno"> 3939</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;numfilenames = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)numfiles;</div>
<div class="line"><span class="lineno"> 3940</span>        numfiles = 0;</div>
<div class="line"><span class="lineno"> 3941</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> = 0;</div>
<div class="line"><span class="lineno"> 3942</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3943</span>        {</div>
<div class="line"><span class="lineno"> 3944</span>            <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textlen</a>;</div>
<div class="line"><span class="lineno"> 3945</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[numfiles] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenamesbuffer + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a>;</div>
<div class="line"><span class="lineno"> 3946</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textlen</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>]) + 1;</div>
<div class="line"><span class="lineno"> 3947</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[numfiles], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textlen</a>);</div>
<div class="line"><span class="lineno"> 3948</span>            numfiles++;</div>
<div class="line"><span class="lineno"> 3949</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textlen</a>;</div>
<div class="line"><span class="lineno"> 3950</span>        }</div>
<div class="line"><span class="lineno"> 3951</span>    }</div>
<div class="line"><span class="lineno"> 3952</span>    <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>);</div>
<div class="line"><span class="lineno"> 3953</span> </div>
<div class="line"><span class="lineno"> 3954</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a>);</div>
<div class="line"><span class="lineno"> 3955</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 3956</span>}</div>
<div class="ttc" id="acommon_8c_html_a21e343fdc83c4695c7d0af3be8756795"><div class="ttname"><a href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a></div><div class="ttdeci">char * dp_ustr2stp(char *dst, size_t dsize, const char *src, size_t slen)</div><div class="ttdoc">Copies a measured byte sequence (unterminated string) to a null-terminated string.</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l01373">common.c:1373</a></div></div>
<div class="ttc" id="afilematch_8c_html_a01e600ee2a0c86b043bcf414084bc3d9"><div class="ttname"><a href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a></div><div class="ttdeci">void stringlistfreecontents(stringlist_t *list)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00087">filematch.c:87</a></div></div>
<div class="ttc" id="afilematch_8c_html_a2b0cdef5c25791847049fed8d04fa73d"><div class="ttname"><a href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a></div><div class="ttdeci">void stringlistinit(stringlist_t *list)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00082">filematch.c:82</a></div></div>
<div class="ttc" id="afilematch_8c_html_a3462b7b4d7253c46111da15a55b31906"><div class="ttname"><a href="filematch_8c.html#a3462b7b4d7253c46111da15a55b31906">stringlistsort</a></div><div class="ttdeci">void stringlistsort(stringlist_t *list, qbool uniq)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00129">filematch.c:129</a></div></div>
<div class="ttc" id="afilematch_8c_html_a59a2069617e6cf22696e42cb203918d2"><div class="ttname"><a href="filematch_8c.html#a59a2069617e6cf22696e42cb203918d2">matchpattern</a></div><div class="ttdeci">int matchpattern(const char *in, const char *pattern, int caseinsensitive)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00016">filematch.c:16</a></div></div>
<div class="ttc" id="afilematch_8c_html_a60d201c2a2bdcc851078bf6999fe0075"><div class="ttname"><a href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a></div><div class="ttdeci">void stringlistappend(stringlist_t *list, const char *text)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00103">filematch.c:103</a></div></div>
<div class="ttc" id="afilematch_8c_html_aa59d9bf858a98da656f509fe40678be6"><div class="ttname"><a href="filematch_8c.html#aa59d9bf858a98da656f509fe40678be6">listdirectory</a></div><div class="ttdeci">void listdirectory(stringlist_t *list, const char *basepath, const char *path)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00198">filematch.c:198</a></div></div>
<div class="ttc" id="ahost_8c_html_a67a57130da6bf0ad0eb133c0b8bc7642"><div class="ttname"><a href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a></div><div class="ttdeci">cvar_t developer_loading</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00052">host.c:52</a></div></div>
<div class="ttc" id="astructfssearch__t_html"><div class="ttname"><a href="structfssearch__t.html">fssearch_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00114">fs.h:115</a></div></div>
<div class="ttc" id="astructstringlist__t_html"><div class="ttname"><a href="structstringlist__t.html">stringlist_t</a></div><div class="ttdef"><b>Definition</b> <a href="filematch_8h_source.html#l00026">filematch.h:27</a></div></div>
<div class="ttc" id="azone_8h_html_a35deb8ef816a08fb1bc8feac8db020c5"><div class="ttname"><a href="zone_8h.html#a35deb8ef816a08fb1bc8feac8db020c5">Z_Malloc</a></div><div class="ttdeci">#define Z_Malloc(size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00161">zone.h:161</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cmd_8c_source.html#l00667">Cmd_Exec_f()</a>, <a class="el" href="console_8c_source.html#l02738">Con_CompleteCommandLine()</a>, <a class="el" href="fs_8c_source.html#l03964">FS_ListDirectory()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="image_8c_source.html#l01376">Image_FixTransparentPixels_f()</a>, <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l03161">VM_search_begin()</a>.</p>

</div>
</div>
<a id="a695442a3ff4506082973bc053c1ec983" name="a695442a3ff4506082973bc053c1ec983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695442a3ff4506082973bc053c1ec983">&#9670;&#160;</a></span>FS_Seek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>whence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03355">3355</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3356</span>{</div>
<div class="line"><span class="lineno"> 3357</span>    <a class="code hl_struct" href="structztoolkit__t.html">ztoolkit_t</a> *ztk;</div>
<div class="line"><span class="lineno"> 3358</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>;</div>
<div class="line"><span class="lineno"> 3359</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> buffersize;</div>
<div class="line"><span class="lineno"> 3360</span> </div>
<div class="line"><span class="lineno"> 3361</span>    <span class="comment">// Compute the file offset</span></div>
<div class="line"><span class="lineno"> 3362</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">whence</a>)</div>
<div class="line"><span class="lineno"> 3363</span>    {</div>
<div class="line"><span class="lineno"> 3364</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_CUR</a>:</div>
<div class="line"><span class="lineno"> 3365</span>            <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> += file-&gt;position - file-&gt;buff_len + file-&gt;buff_ind;</div>
<div class="line"><span class="lineno"> 3366</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3367</span> </div>
<div class="line"><span class="lineno"> 3368</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>:</div>
<div class="line"><span class="lineno"> 3369</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3370</span> </div>
<div class="line"><span class="lineno"> 3371</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_END</a>:</div>
<div class="line"><span class="lineno"> 3372</span>            <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> += file-&gt;real_length;</div>
<div class="line"><span class="lineno"> 3373</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3374</span> </div>
<div class="line"><span class="lineno"> 3375</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3376</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3377</span>    }</div>
<div class="line"><span class="lineno"> 3378</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt; 0 || offset &gt;</a> file-&gt;real_length)</div>
<div class="line"><span class="lineno"> 3379</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3380</span> </div>
<div class="line"><span class="lineno"> 3381</span>    <span class="keywordflow">if</span>(file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>)</div>
<div class="line"><span class="lineno"> 3382</span>    {</div>
<div class="line"><span class="lineno"> 3383</span>        file-&gt;position = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>;</div>
<div class="line"><span class="lineno"> 3384</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3385</span>    }</div>
<div class="line"><span class="lineno"> 3386</span> </div>
<div class="line"><span class="lineno"> 3387</span>    <span class="comment">// If we have the data in our read buffer, we don&#39;t need to actually seek</span></div>
<div class="line"><span class="lineno"> 3388</span>    <span class="keywordflow">if</span> (file-&gt;position - file-&gt;buff_len &lt;= <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt;= file-&gt;</a><a class="code hl_variable" href="shader__glsl_8h.html#a5d20310f0fe31d45c02075ac5460ed35">position</a>)</div>
<div class="line"><span class="lineno"> 3389</span>    {</div>
<div class="line"><span class="lineno"> 3390</span>        file-&gt;buff_ind = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> + file-&gt;buff_len - file-&gt;position;</div>
<div class="line"><span class="lineno"> 3391</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3392</span>    }</div>
<div class="line"><span class="lineno"> 3393</span> </div>
<div class="line"><span class="lineno"> 3394</span>    <span class="comment">// Purge cached data</span></div>
<div class="line"><span class="lineno"> 3395</span>    <a class="code hl_function" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (file);</div>
<div class="line"><span class="lineno"> 3396</span> </div>
<div class="line"><span class="lineno"> 3397</span>    <span class="comment">// Unpacked or uncompressed files can seek directly</span></div>
<div class="line"><span class="lineno"> 3398</span>    <span class="keywordflow">if</span> (! (file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#a077f9f22119c315af3d69441ba971f71">QFILE_FLAG_DEFLATED</a>))</div>
<div class="line"><span class="lineno"> 3399</span>    {</div>
<div class="line"><span class="lineno"> 3400</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset + <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 3401</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3402</span>        file-&gt;position = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>;</div>
<div class="line"><span class="lineno"> 3403</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3404</span>    }</div>
<div class="line"><span class="lineno"> 3405</span> </div>
<div class="line"><span class="lineno"> 3406</span>    <span class="comment">// Seeking in compressed files is more a hack than anything else,</span></div>
<div class="line"><span class="lineno"> 3407</span>    <span class="comment">// but we need to support it, so here we go.</span></div>
<div class="line"><span class="lineno"> 3408</span>    ztk = file-&gt;ztk;</div>
<div class="line"><span class="lineno"> 3409</span> </div>
<div class="line"><span class="lineno"> 3410</span>    <span class="comment">// If we have to go back in the file, we need to restart from the beginning</span></div>
<div class="line"><span class="lineno"> 3411</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt;= file-&gt;</a><a class="code hl_variable" href="shader__glsl_8h.html#a5d20310f0fe31d45c02075ac5460ed35">position</a>)</div>
<div class="line"><span class="lineno"> 3412</span>    {</div>
<div class="line"><span class="lineno"> 3413</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> = 0;</div>
<div class="line"><span class="lineno"> 3414</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> = 0;</div>
<div class="line"><span class="lineno"> 3415</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">in_position</a> = 0;</div>
<div class="line"><span class="lineno"> 3416</span>        file-&gt;position = 0;</div>
<div class="line"><span class="lineno"> 3417</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 3418</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;IMPOSSIBLE: couldn&#39;t seek in already opened pk3 file.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3419</span> </div>
<div class="line"><span class="lineno"> 3420</span>        <span class="comment">// Reset the Zlib stream</span></div>
<div class="line"><span class="lineno"> 3421</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#ab58d6596041c08f46454b8394f8e6b7f">next_in</a> = ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>;</div>
<div class="line"><span class="lineno"> 3422</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a> = 0;</div>
<div class="line"><span class="lineno"> 3423</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateReset</a> (&amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>);</div>
<div class="line"><span class="lineno"> 3424</span>    }</div>
<div class="line"><span class="lineno"> 3425</span> </div>
<div class="line"><span class="lineno"> 3426</span>    <span class="comment">// We need a big buffer to force inflating into it directly</span></div>
<div class="line"><span class="lineno"> 3427</span>    buffersize = 2 * <span class="keyword">sizeof</span> (file-&gt;buff);</div>
<div class="line"><span class="lineno"> 3428</span>    <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, buffersize);</div>
<div class="line"><span class="lineno"> 3429</span> </div>
<div class="line"><span class="lineno"> 3430</span>    <span class="comment">// Skip all data until we reach the requested offset</span></div>
<div class="line"><span class="lineno"> 3431</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> &gt; (file-&gt;position - file-&gt;buff_len + file-&gt;buff_ind))</div>
<div class="line"><span class="lineno"> 3432</span>    {</div>
<div class="line"><span class="lineno"> 3433</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> - (file-&gt;position - file-&gt;buff_len + file-&gt;buff_ind);</div>
<div class="line"><span class="lineno"> 3434</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, len;</div>
<div class="line"><span class="lineno"> 3435</span> </div>
<div class="line"><span class="lineno"> 3436</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> &gt; buffersize) ? buffersize : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>;</div>
<div class="line"><span class="lineno"> 3437</span>        len = <a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a> (file, <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3438</span>        <span class="keywordflow">if</span> (len != <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 3439</span>        {</div>
<div class="line"><span class="lineno"> 3440</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno"> 3441</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3442</span>        }</div>
<div class="line"><span class="lineno"> 3443</span>    }</div>
<div class="line"><span class="lineno"> 3444</span> </div>
<div class="line"><span class="lineno"> 3445</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno"> 3446</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3447</span>}</div>
<div class="ttc" id="aglquake_8h_html_a9d8e5095d0454547c650ff9bde64f8e6"><div class="ttname"><a href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a></div><div class="ttdeci">GLuint GLuint GLintptr offset</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a5d20310f0fe31d45c02075ac5460ed35"><div class="ttname"><a href="shader__glsl_8h.html#a5d20310f0fe31d45c02075ac5460ed35">position</a></div><div class="ttdeci">return position</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00170">shader_glsl.h:170</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l00683">CheckPendingDownloads()</a>, <a class="el" href="cl__demo_8c_source.html#l00187">CL_ReadDemoMessage()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00242">LibAvW_FS_Seek()</a>, <a class="el" href="cap__avi_8c_source.html#l00498">SCR_CaptureVideo_Avi_BeginVideo()</a>, <a class="el" href="cap__avi_8c_source.html#l00407">SCR_CaptureVideo_Avi_EndVideo()</a>, <a class="el" href="cap__avi_8c_source.html#l00272">SCR_CaptureVideo_RIFF_Finish()</a>, <a class="el" href="cap__avi_8c_source.html#l00203">SCR_CaptureVideo_RIFF_MakeIxChunk()</a>, <a class="el" href="cap__avi_8c_source.html#l00132">SCR_CaptureVideo_RIFF_Pop()</a>, <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>, <a class="el" href="wad_8c_source.html#l00277">W_GetTextureBGRA()</a>, and <a class="el" href="wad_8c_source.html#l00165">W_LoadTextureWadFile()</a>.</p>

</div>
</div>
<a id="a04911405f3c548289708edf1c9e3ba36" name="a04911405f3c548289708edf1c9e3ba36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04911405f3c548289708edf1c9e3ba36">&#9670;&#160;</a></span>FS_SetGameDirs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4">addgamedirs_t</a> FS_SetGameDirs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>numgamedirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>gamedirs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>failmissing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>abortonfail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01640">1640</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1641</span>{</div>
<div class="line"><span class="lineno"> 1642</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 1643</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 1644</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a> + 2];</div>
<div class="line"><span class="lineno"> 1645</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>;</div>
<div class="line"><span class="lineno"> 1646</span> </div>
<div class="line"><span class="lineno"> 1647</span>    <span class="comment">// prepend the game-specific gamedirs (the primary and search order can be overriden)</span></div>
<div class="line"><span class="lineno"> 1648</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[0] = <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>;</div>
<div class="line"><span class="lineno"> 1649</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a> = 1;</div>
<div class="line"><span class="lineno"> 1650</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a> &amp;&amp; <a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>[0])</div>
<div class="line"><span class="lineno"> 1651</span>    {</div>
<div class="line"><span class="lineno"> 1652</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[1] = <a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>;</div>
<div class="line"><span class="lineno"> 1653</span>        ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>;</div>
<div class="line"><span class="lineno"> 1654</span>    }</div>
<div class="line"><span class="lineno"> 1655</span> </div>
<div class="line"><span class="lineno"> 1656</span>    <span class="comment">// check the game-specific gamedirs</span></div>
<div class="line"><span class="lineno"> 1657</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1658</span>    {</div>
<div class="line"><span class="lineno"> 1659</span>        p = <a class="code hl_function" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1660</span>        <span class="keywordflow">if</span>(!p)</div>
<div class="line"><span class="lineno"> 1661</span>            <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;BUG: nasty gamedir name \&quot;%s\&quot; in gamemode_info&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1662</span>        <span class="keywordflow">if</span>(p == <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failmissing</a>)</div>
<div class="line"><span class="lineno"> 1663</span>        {</div>
<div class="line"><span class="lineno"> 1664</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a> ? <a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> : <a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Base gamedir \&quot;%s\&quot; empty or not found!\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1665</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a>)</div>
<div class="line"><span class="lineno"> 1666</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3">GAMEDIRS_FAILURE</a>; <span class="comment">// missing gamedirs</span></div>
<div class="line"><span class="lineno"> 1667</span>        }</div>
<div class="line"><span class="lineno"> 1668</span>    }</div>
<div class="line"><span class="lineno"> 1669</span> </div>
<div class="line"><span class="lineno"> 1670</span>    <span class="comment">// copy and check the user-specified gamedirs</span></div>
<div class="line"><span class="lineno"> 1671</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numgamedirs &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a> &lt; <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[0]); ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1672</span>    {</div>
<div class="line"><span class="lineno"> 1673</span>        <span class="comment">// remove any previously-added duplicate (last one wins)</span></div>
<div class="line"><span class="lineno"> 1674</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>)</div>
<div class="line"><span class="lineno"> 1675</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>], gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><span class="lineno"> 1676</span>            {</div>
<div class="line"><span class="lineno"> 1677</span>                --<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>;</div>
<div class="line"><span class="lineno"> 1678</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)</div>
<div class="line"><span class="lineno"> 1679</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> + 1];</div>
<div class="line"><span class="lineno"> 1680</span>            }</div>
<div class="line"><span class="lineno"> 1681</span> </div>
<div class="line"><span class="lineno"> 1682</span>        <span class="comment">// if string is nasty, reject it</span></div>
<div class="line"><span class="lineno"> 1683</span>        p = <a class="code hl_function" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a>(gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1684</span>        <span class="keywordflow">if</span>(!p)</div>
<div class="line"><span class="lineno"> 1685</span>        {</div>
<div class="line"><span class="lineno"> 1686</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a> ? <a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> : <a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Nasty gamedir name \&quot;%s\&quot; rejected\n&quot;</span>, gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1687</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a>)</div>
<div class="line"><span class="lineno"> 1688</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3">GAMEDIRS_FAILURE</a>; <span class="comment">// nasty gamedirs</span></div>
<div class="line"><span class="lineno"> 1689</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1690</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1691</span>        }</div>
<div class="line"><span class="lineno"> 1692</span>        <span class="keywordflow">if</span>(p == <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failmissing</a>)</div>
<div class="line"><span class="lineno"> 1693</span>        {</div>
<div class="line"><span class="lineno"> 1694</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a> ? <a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> : <a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Gamedir \&quot;%s\&quot; empty or not found!\n&quot;</span>, gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1695</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a>)</div>
<div class="line"><span class="lineno"> 1696</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3">GAMEDIRS_FAILURE</a>; <span class="comment">// missing gamedirs</span></div>
<div class="line"><span class="lineno"> 1697</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1698</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1699</span>        }</div>
<div class="line"><span class="lineno"> 1700</span> </div>
<div class="line"><span class="lineno"> 1701</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>++] = gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 1702</span>    }</div>
<div class="line"><span class="lineno"> 1703</span> </div>
<div class="line"><span class="lineno"> 1704</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>)</div>
<div class="line"><span class="lineno"> 1705</span>    {</div>
<div class="line"><span class="lineno"> 1706</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1707</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><span class="lineno"> 1708</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1709</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>)</div>
<div class="line"><span class="lineno"> 1710</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a965a231b8b7c6438ce94ae96e6ea9dd7">GAMEDIRS_ALLGOOD</a>; <span class="comment">// already using this set of gamedirs, do nothing</span></div>
<div class="line"><span class="lineno"> 1711</span>    }</div>
<div class="line"><span class="lineno"> 1712</span> </div>
<div class="line"><span class="lineno"> 1713</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a> &gt; <a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>)</div>
<div class="line"><span class="lineno"> 1714</span>    {</div>
<div class="line"><span class="lineno"> 1715</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a> ? <a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> : <a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;That is too many gamedirs (%i &gt; %i)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a>, <a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>);</div>
<div class="line"><span class="lineno"> 1716</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">abortonfail</a>)</div>
<div class="line"><span class="lineno"> 1717</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4acd169c268bfa5b1f6cb54cdd33d843e3">GAMEDIRS_FAILURE</a>; <span class="comment">// too many gamedirs</span></div>
<div class="line"><span class="lineno"> 1718</span>    }</div>
<div class="line"><span class="lineno"> 1719</span> </div>
<div class="line"><span class="lineno"> 1720</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numgamedirs_ok</a> &amp;&amp; <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a> &lt; <a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1721</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a>++], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirs_ok</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[0]));</div>
<div class="line"><span class="lineno"> 1722</span> </div>
<div class="line"><span class="lineno"> 1723</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="fs_8h.html#a1dc08a4266ddc3ae693ba4586a25a3a4a29a533d7e75d9eca8c035ab0931f8e43">GAMEDIRS_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1724</span>}</div>
<div class="ttc" id="aconsole_8h_html_a27b052ed2a962d8ec1b9e922d0813058"><div class="ttname"><a href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a></div><div class="ttdeci">#define CON_WARN</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00096">console.h:96</a></div></div>
<div class="ttc" id="aconsole_8h_html_ae151ed35a905aff75d5f5dc32cd965bb"><div class="ttname"><a href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a></div><div class="ttdeci">#define CON_ERROR</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00097">console.h:97</a></div></div>
<div class="ttc" id="afs_8c_html_a360bff9bae9632be880e851386abfa23"><div class="ttname"><a href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a></div><div class="ttdeci">const char * FS_CheckGameDir(const char *gamedir)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01831">fs.c:1831</a></div></div>
<div class="ttc" id="afs_8h_html_a28d7415b6e8333c22d3d5d842543669d"><div class="ttname"><a href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a></div><div class="ttdeci">#define MAX_GAMEDIRS</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00046">fs.h:46</a></div></div>
<div class="ttc" id="asys_8h_html_a373bafd608adfe542c636ccfdfb2368e"><div class="ttname"><a href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a></div><div class="ttdeci">void Sys_Error(const char *error,...) DP_FUNC_PRINTF(1) DP_FUNC_NORETURN</div><div class="ttdoc">Causes the entire program to exit ASAP.</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00706">sys_shared.c:706</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="com__game_8c_source.html#l00121">COM_ChangeGameTypeForGameDirs()</a>.</p>

</div>
</div>
<a id="abebce4845c7c6f83b3241ae1c3d6c61a" name="abebce4845c7c6f83b3241ae1c3d6c61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abebce4845c7c6f83b3241ae1c3d6c61a">&#9670;&#160;</a></span>FS_Shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02358">2358</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2359</span>{</div>
<div class="line"><span class="lineno"> 2360</span>    <span class="comment">// close all pack files and such</span></div>
<div class="line"><span class="lineno"> 2361</span>    <span class="comment">// (hopefully there aren&#39;t any other open files, but they&#39;ll be cleaned up</span></div>
<div class="line"><span class="lineno"> 2362</span>    <span class="comment">//  by the OS anyway)</span></div>
<div class="line"><span class="lineno"> 2363</span>    <a class="code hl_function" href="fs_8c.html#a03c0f05d0f065c9fe6fc4adc8d1888d3">FS_ClearSearchPath</a>();</div>
<div class="line"><span class="lineno"> 2364</span>    <a class="code hl_define" href="zone_8h.html#a07374e605d328a588d2d738a56608ead">Mem_FreePool</a> (&amp;<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>);</div>
<div class="line"><span class="lineno"> 2365</span>    <a class="code hl_function" href="fs_8c.html#adc7a3cddbb7cb32d9e9299720d12b5f3">PK3_CloseLibrary</a> ();</div>
<div class="line"><span class="lineno"> 2366</span> </div>
<div class="line"><span class="lineno"> 2367</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno"> 2368</span>    <a class="code hl_function" href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shfolder_dll</a>);</div>
<div class="line"><span class="lineno"> 2369</span>    <a class="code hl_function" href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shell32_dll</a>);</div>
<div class="line"><span class="lineno"> 2370</span>    <a class="code hl_function" href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ole32_dll</a>);</div>
<div class="line"><span class="lineno"> 2371</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2372</span> </div>
<div class="line"><span class="lineno"> 2373</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>)</div>
<div class="line"><span class="lineno"> 2374</span>        <a class="code hl_define" href="thread_8h.html#a269bbcbf27698a4ab30bede7c4feefa3">Thread_DestroyMutex</a>(<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>);</div>
<div class="line"><span class="lineno"> 2375</span>}</div>
<div class="ttc" id="afs_8c_html_adc7a3cddbb7cb32d9e9299720d12b5f3"><div class="ttname"><a href="fs_8c.html#adc7a3cddbb7cb32d9e9299720d12b5f3">PK3_CloseLibrary</a></div><div class="ttdeci">static void PK3_CloseLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00560">fs.c:560</a></div></div>
<div class="ttc" id="asys_8h_html_ae1bd207c941d95e0bd80aae8dab178f2"><div class="ttname"><a href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a></div><div class="ttdeci">void Sys_FreeLibrary(dllhandle_t *handle)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00242">sys_shared.c:242</a></div></div>
<div class="ttc" id="athread_8h_html_a269bbcbf27698a4ab30bede7c4feefa3"><div class="ttname"><a href="thread_8h.html#a269bbcbf27698a4ab30bede7c4feefa3">Thread_DestroyMutex</a></div><div class="ttdeci">#define Thread_DestroyMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00016">thread.h:16</a></div></div>
<div class="ttc" id="azone_8h_html_a07374e605d328a588d2d738a56608ead"><div class="ttname"><a href="zone_8h.html#a07374e605d328a588d2d738a56608ead">Mem_FreePool</a></div><div class="ttdeci">#define Mem_FreePool(pool)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00105">zone.h:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fd7ebcbb75f140d76ab37664280555f" name="a9fd7ebcbb75f140d76ab37664280555f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fd7ebcbb75f140d76ab37664280555f">&#9670;&#160;</a></span>FS_StripExtension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_StripExtension </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03607">3607</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3608</span>{</div>
<div class="line"><span class="lineno"> 3609</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3610</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a>;</div>
<div class="line"><span class="lineno"> 3611</span> </div>
<div class="line"><span class="lineno"> 3612</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_out</a> == 0)</div>
<div class="line"><span class="lineno"> 3613</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3614</span> </div>
<div class="line"><span class="lineno"> 3615</span>    <span class="keywordflow">while</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> = *in) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_out</a> &gt; 1)</div>
<div class="line"><span class="lineno"> 3616</span>    {</div>
<div class="line"><span class="lineno"> 3617</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno"> 3618</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 3619</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> == <span class="charliteral">&#39;/&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> == <span class="charliteral">&#39;\\&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno"> 3620</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3621</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a>;</div>
<div class="line"><span class="lineno"> 3622</span>        in++;</div>
<div class="line"><span class="lineno"> 3623</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_out</a>--;</div>
<div class="line"><span class="lineno"> 3624</span>    }</div>
<div class="line"><span class="lineno"> 3625</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>)</div>
<div class="line"><span class="lineno"> 3626</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = 0;</div>
<div class="line"><span class="lineno"> 3627</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3628</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = 0;</div>
<div class="line"><span class="lineno"> 3629</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="cl__parse_8c_source.html#l00479">CL_SetupWorldModel()</a>, <a class="el" href="com__game_8c_source.html#l00094">COM_InitGameType()</a>, <a class="el" href="dpvsimpledecode_8c_source.html#l00356">dpvsimpledecode_open()</a>, <a class="el" href="image_8c_source.html#l00913">Image_StripImageExtension()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00047">jam_open()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00252">LibAvW_OpenVideo()</a>, <a class="el" href="model__shared_8c_source.html#l03318">Mod_Decompile_f()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l02111">Mod_Q1BSP_LoadLighting()</a>, <a class="el" href="model__brush_8c_source.html#l03284">Mod_Q1BSP_LoadMapBrushes()</a>, <a class="el" href="model__brush_8c_source.html#l01649">Mod_Q1BSP_LoadTextures()</a>, <a class="el" href="model__brush_8c_source.html#l05516">Mod_Q3BSP_LoadLightmaps()</a>, <a class="el" href="prvm__edict_8c_source.html#l01949">PRVM_LoadLNO()</a>, <a class="el" href="gl__textures_8c_source.html#l01569">R_LoadTextureDDSFile()</a>, and <a class="el" href="sv__main_8c_source.html#l01800">SV_SpawnServer()</a>.</p>

</div>
</div>
<a id="a4073e77fbe03a9dc9f40e2961605853c" name="a4073e77fbe03a9dc9f40e2961605853c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4073e77fbe03a9dc9f40e2961605853c">&#9670;&#160;</a></span>FS_SysFileExists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_SysFileExists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a file in the filesystem only. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03739">3739</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3740</span>{</div>
<div class="line"><span class="lineno"> 3741</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ad85ade8d917e7785a8c88a2db2d026bf">FS_SysFileType</a> (path) != <a class="code hl_define" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 3742</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02686">FS_FindFile()</a>, <a class="el" href="cl__screen_8c_source.html#l00908">SCR_ScreenShot_f()</a>, and <a class="el" href="sys__shared_8c_source.html#l00755">Sys_FindInPATH()</a>.</p>

</div>
</div>
<a id="aa860048622559fae329322e400f8856f" name="aa860048622559fae329322e400f8856f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa860048622559fae329322e400f8856f">&#9670;&#160;</a></span>FS_SysFileType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_SysFileType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a file in the filesystem only. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03704">3704</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3705</span>{</div>
<div class="line"><span class="lineno"> 3706</span><span class="preprocessor">#if WIN32</span></div>
<div class="line"><span class="lineno"> 3707</span><span class="comment">// Sajt - some older sdks are missing this define</span></div>
<div class="line"><span class="lineno"> 3708</span><span class="preprocessor"># ifndef INVALID_FILE_ATTRIBUTES</span></div>
<div class="line"><span class="lineno"> 3709</span><span class="preprocessor">#  define INVALID_FILE_ATTRIBUTES ((DWORD)-1)</span></div>
<div class="line"><span class="lineno"> 3710</span><span class="preprocessor"># endif</span></div>
<div class="line"><span class="lineno"> 3711</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WSTRBUF</a>] = {0};</div>
<div class="line"><span class="lineno"> 3712</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DWORD</a> result;</div>
<div class="line"><span class="lineno"> 3713</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widen</a>(path, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>);</div>
<div class="line"><span class="lineno"> 3714</span>    result = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">GetFileAttributesW</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>);</div>
<div class="line"><span class="lineno"> 3715</span> </div>
<div class="line"><span class="lineno"> 3716</span>    <span class="keywordflow">if</span>(result == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">INVALID_FILE_ATTRIBUTES</a>)</div>
<div class="line"><span class="lineno"> 3717</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 3718</span> </div>
<div class="line"><span class="lineno"> 3719</span>    <span class="keywordflow">if</span>(result &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">FILE_ATTRIBUTE_DIRECTORY</a>)</div>
<div class="line"><span class="lineno"> 3720</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a>;</div>
<div class="line"><span class="lineno"> 3721</span> </div>
<div class="line"><span class="lineno"> 3722</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a>;</div>
<div class="line"><span class="lineno"> 3723</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 3724</span>    <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stat</a> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno"> 3725</span> </div>
<div class="line"><span class="lineno"> 3726</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stat</a> (path,&amp;<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>) == -1)</div>
<div class="line"><span class="lineno"> 3727</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 3728</span> </div>
<div class="line"><span class="lineno"> 3729</span><span class="preprocessor">#ifndef S_ISDIR</span></div>
<div class="line"><span class="lineno"> 3730</span><span class="preprocessor">#define S_ISDIR(a) (((a) &amp; S_IFMT) == S_IFDIR)</span></div>
<div class="line"><span class="lineno"> 3731</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3732</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="fs_8c.html#a38bc4750afca9cbad53914064bda7b21">S_ISDIR</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>.st_mode))</div>
<div class="line"><span class="lineno"> 3733</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a>;</div>
<div class="line"><span class="lineno"> 3734</span> </div>
<div class="line"><span class="lineno"> 3735</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a>;</div>
<div class="line"><span class="lineno"> 3736</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3737</span>}</div>
<div class="ttc" id="afs_8c_html_a38bc4750afca9cbad53914064bda7b21"><div class="ttname"><a href="fs_8c.html#a38bc4750afca9cbad53914064bda7b21">S_ISDIR</a></div><div class="ttdeci">#define S_ISDIR(a)</div></div>
<div class="ttc" id="afs_8h_html_a58576c47f72a4aac28e8f0dd21afcd6e"><div class="ttname"><a href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a></div><div class="ttdeci">#define FS_FILETYPE_DIRECTORY</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00139">fs.h:139</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03663">FS_FileType()</a>, and <a class="el" href="fs_8c_source.html#l03739">FS_SysFileExists()</a>.</p>

</div>
</div>
<a id="aadd82baa9c0e3ab7dc26282cb0eaae9e" name="aadd82baa9c0e3ab7dc26282cb0eaae9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd82baa9c0e3ab7dc26282cb0eaae9e">&#9670;&#160;</a></span>FS_SysLoadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_SysLoadFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *&#160;</td>
          <td class="paramname"><em>filesizepointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03551">3551</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3552</span>{</div>
<div class="line"><span class="lineno"> 3553</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file = <a class="code hl_function" href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a>(path, <span class="stringliteral">&quot;rb&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3554</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ae4817b66640bf04c9a0c27887e7199e5">FS_LoadAndCloseQFile</a>(file, path, pool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>);</div>
<div class="line"><span class="lineno"> 3555</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02293">FS_Init_SelfPack()</a>, and <a class="el" href="filematch_8c_source.html#l00198">listdirectory()</a>.</p>

</div>
</div>
<a id="a5098aecad23c311750ae649088f2d96d" name="a5098aecad23c311750ae649088f2d96d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5098aecad23c311750ae649088f2d96d">&#9670;&#160;</a></span>FS_SysOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_SysOpen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>nonblocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02480">2480</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2481</span>{</div>
<div class="line"><span class="lineno"> 2482</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a>* file;</div>
<div class="line"><span class="lineno"> 2483</span> </div>
<div class="line"><span class="lineno"> 2484</span>    file = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (*file));</div>
<div class="line"><span class="lineno"> 2485</span>    file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 2486</span>    file-&gt;handle = <a class="code hl_function" href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>);</div>
<div class="line"><span class="lineno"> 2487</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="fs_8c.html#a63366b4f54083982ae222f9f6130d157">FILEDESC_ISVALID</a>(file-&gt;handle))</div>
<div class="line"><span class="lineno"> 2488</span>    {</div>
<div class="line"><span class="lineno"> 2489</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (file);</div>
<div class="line"><span class="lineno"> 2490</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2491</span>    }</div>
<div class="line"><span class="lineno"> 2492</span> </div>
<div class="line"><span class="lineno"> 2493</span>    file-&gt;filename = <a class="code hl_define" href="zone_8h.html#a7971beb752868216b6887b77086ce57b">Mem_strdup</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>);</div>
<div class="line"><span class="lineno"> 2494</span> </div>
<div class="line"><span class="lineno"> 2495</span>    file-&gt;real_length = <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_END</a>);</div>
<div class="line"><span class="lineno"> 2496</span> </div>
<div class="line"><span class="lineno"> 2497</span>    <span class="comment">// For files opened in append mode, we start at the end of the file</span></div>
<div class="line"><span class="lineno"> 2498</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[0] == <span class="charliteral">&#39;a&#39;</span>)</div>
<div class="line"><span class="lineno"> 2499</span>        file-&gt;position = file-&gt;real_length;</div>
<div class="line"><span class="lineno"> 2500</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2501</span>        <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>);</div>
<div class="line"><span class="lineno"> 2502</span> </div>
<div class="line"><span class="lineno"> 2503</span>    <span class="keywordflow">return</span> file;</div>
<div class="line"><span class="lineno"> 2504</span>}</div>
<div class="ttc" id="afs_8c_html_a63366b4f54083982ae222f9f6130d157"><div class="ttname"><a href="fs_8c.html#a63366b4f54083982ae222f9f6130d157">FILEDESC_ISVALID</a></div><div class="ttdeci">#define FILEDESC_ISVALID(fd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00102">fs.c:102</a></div></div>
<div class="ttc" id="afs_8c_html_a996ef8c18fe9359c3a51368020559f32"><div class="ttname"><a href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a></div><div class="ttdeci">static filedesc_t FS_SysOpenFiledesc(const char *filepath, const char *mode, qbool nonblocking)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02377">fs.c:2377</a></div></div>
<div class="ttc" id="azone_8h_html_a7971beb752868216b6887b77086ce57b"><div class="ttname"><a href="zone_8h.html#a7971beb752868216b6887b77086ce57b">Mem_strdup</a></div><div class="ttdeci">#define Mem_strdup(pool, s)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00097">zone.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="fs_8c_source.html#l02782">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l02897">FS_OpenRealFile()</a>, <a class="el" href="fs_8c_source.html#l01793">FS_SysCheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l03551">FS_SysLoadFile()</a>, and <a class="el" href="host_8c_source.html#l00327">Host_LockSession()</a>.</p>

</div>
</div>
<a id="a2c54d78cc27ab3f3e244ab3b17ba4da9" name="a2c54d78cc27ab3f3e244ab3b17ba4da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c54d78cc27ab3f3e244ab3b17ba4da9">&#9670;&#160;</a></span>FS_SysOpenFD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_SysOpenFD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>nonblocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02464">2464</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2465</span>{</div>
<div class="line"><span class="lineno"> 2466</span><span class="preprocessor">#ifdef USE_RWOPS</span></div>
<div class="line"><span class="lineno"> 2467</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2468</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2469</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>);</div>
<div class="line"><span class="lineno"> 2470</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2471</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sys__shared_8c_source.html#l00808">Sys_ProvideSelfFD()</a>.</p>

</div>
</div>
<a id="a64c66a9e0422a0b350194c2fe7a0015a" name="a64c66a9e0422a0b350194c2fe7a0015a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c66a9e0422a0b350194c2fe7a0015a">&#9670;&#160;</a></span>FS_Tell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> FS_Tell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03457">3457</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3458</span>{</div>
<div class="line"><span class="lineno"> 3459</span>    <span class="keywordflow">return</span> file-&gt;position - file-&gt;buff_len + file-&gt;buff_ind;</div>
<div class="line"><span class="lineno"> 3460</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l00683">CheckPendingDownloads()</a>, <a class="el" href="cap__avi_8c_source.html#l00187">SCR_CaptureVideo_RIFF_IndexEntry()</a>, and <a class="el" href="sv__send_8c_source.html#l01425">SV_SendClientDatagram()</a>.</p>

</div>
</div>
<a id="a9546d12cbb0b991063c9d8c3c05a4272" name="a9546d12cbb0b991063c9d8c3c05a4272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9546d12cbb0b991063c9d8c3c05a4272">&#9670;&#160;</a></span>FS_UnGetc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_UnGetc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03337">3337</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3338</span>{</div>
<div class="line"><span class="lineno"> 3339</span>    <span class="comment">// If there&#39;s already a character waiting to be read</span></div>
<div class="line"><span class="lineno"> 3340</span>    <span class="keywordflow">if</span> (file-&gt;ungetc != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>)</div>
<div class="line"><span class="lineno"> 3341</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 3342</span> </div>
<div class="line"><span class="lineno"> 3343</span>    file-&gt;ungetc = c;</div>
<div class="line"><span class="lineno"> 3344</span>    <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno"> 3345</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="prvm__cmds_8c_source.html#l04318">VM_buf_loadfile()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l01996">VM_fgets()</a>.</p>

</div>
</div>
<a id="a7b5791a275b4f7a76d747179bc571694" name="a7b5791a275b4f7a76d747179bc571694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b5791a275b4f7a76d747179bc571694">&#9670;&#160;</a></span>FS_UnloadPacks_dlcache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_UnloadPacks_dlcache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01492">1492</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1493</span>{</div>
<div class="line"><span class="lineno"> 1494</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchprev</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchnext</a>;</div>
<div class="line"><span class="lineno"> 1495</span> </div>
<div class="line"><span class="lineno"> 1496</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="fs_8c.html#ac14f7e0927785f091bb31a880847c29d">fs_unload_dlcache</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1497</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1498</span> </div>
<div class="line"><span class="lineno"> 1499</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</div>
<div class="line"><span class="lineno"> 1500</span>    {</div>
<div class="line"><span class="lineno"> 1501</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchnext</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>;</div>
<div class="line"><span class="lineno"> 1502</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;dlcache)</div>
<div class="line"><span class="lineno"> 1503</span>        {</div>
<div class="line"><span class="lineno"> 1504</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Unloading pack: %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;shortname);</div>
<div class="line"><span class="lineno"> 1505</span> </div>
<div class="line"><span class="lineno"> 1506</span>            <span class="comment">// remove it from the search path list</span></div>
<div class="line"><span class="lineno"> 1507</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> == <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>)</div>
<div class="line"><span class="lineno"> 1508</span>                <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>;</div>
<div class="line"><span class="lineno"> 1509</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1510</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchprev</a>-&gt;next = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;next;</div>
<div class="line"><span class="lineno"> 1511</span> </div>
<div class="line"><span class="lineno"> 1512</span>            <span class="comment">// close the file</span></div>
<div class="line"><span class="lineno"> 1513</span>            <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;handle);</div>
<div class="line"><span class="lineno"> 1514</span>            <span class="comment">// free any memory associated with it</span></div>
<div class="line"><span class="lineno"> 1515</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;files)</div>
<div class="line"><span class="lineno"> 1516</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;files);</div>
<div class="line"><span class="lineno"> 1517</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack);</div>
<div class="line"><span class="lineno"> 1518</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>);</div>
<div class="line"><span class="lineno"> 1519</span>        }</div>
<div class="line"><span class="lineno"> 1520</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1521</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchprev</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1522</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchnext</a>;</div>
<div class="line"><span class="lineno"> 1523</span>    }</div>
<div class="line"><span class="lineno"> 1524</span>}</div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l00370">CL_DisconnectEx()</a>, and <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>.</p>

</div>
</div>
<a id="a66af7e39cdce25212e2aae7bfccc9029" name="a66af7e39cdce25212e2aae7bfccc9029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66af7e39cdce25212e2aae7bfccc9029">&#9670;&#160;</a></span>FS_VPrintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_VPrintf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a>&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03289">3289</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3290</span>{</div>
<div class="line"><span class="lineno"> 3291</span>    <span class="keywordtype">int</span> len;</div>
<div class="line"><span class="lineno"> 3292</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a> = <a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>;</div>
<div class="line"><span class="lineno"> 3293</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>;</div>
<div class="line"><span class="lineno"> 3294</span> </div>
<div class="line"><span class="lineno"> 3295</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno"> 3296</span>    {</div>
<div class="line"><span class="lineno"> 3297</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a>);</div>
<div class="line"><span class="lineno"> 3298</span>        len = <a class="code hl_function" href="common_8c.html#a17e9040af1baa7e1a61a6a47f776eca5">dpvsnprintf</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a>, <a class="code hl_variable" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ap</a>);</div>
<div class="line"><span class="lineno"> 3299</span>        <span class="keywordflow">if</span> (len &gt;= 0 &amp;&amp; len &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a>)</div>
<div class="line"><span class="lineno"> 3300</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3301</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>);</div>
<div class="line"><span class="lineno"> 3302</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a> *= 2;</div>
<div class="line"><span class="lineno"> 3303</span>    }</div>
<div class="line"><span class="lineno"> 3304</span> </div>
<div class="line"><span class="lineno"> 3305</span>    len = <a class="code hl_define" href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a> (file-&gt;handle, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>, len);</div>
<div class="line"><span class="lineno"> 3306</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>);</div>
<div class="line"><span class="lineno"> 3307</span> </div>
<div class="line"><span class="lineno"> 3308</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno"> 3309</span>}</div>
<div class="ttc" id="acommon_8c_html_a17e9040af1baa7e1a61a6a47f776eca5"><div class="ttname"><a href="common_8c.html#a17e9040af1baa7e1a61a6a47f776eca5">dpvsnprintf</a></div><div class="ttdeci">int dpvsnprintf(char *buffer, size_t buffersize, const char *format, va_list args)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l01010">common.c:1010</a></div></div>
<div class="ttc" id="afs_8c_html_a27e1e1b02dbbe51f51576d46c8a4ba8d"><div class="ttname"><a href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a></div><div class="ttdeci">#define FILEDESC_WRITE</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00104">fs.c:104</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03269">FS_Printf()</a>, and <a class="el" href="console_8c_source.html#l00659">Log_Printf()</a>.</p>

</div>
</div>
<a id="abe52b4bf57293de544b7813828bb05ce" name="abe52b4bf57293de544b7813828bb05ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe52b4bf57293de544b7813828bb05ce">&#9670;&#160;</a></span>FS_WhichPack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_WhichPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04086">4086</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4087</span>{</div>
<div class="line"><span class="lineno"> 4088</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>;</div>
<div class="line"><span class="lineno"> 4089</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a> = <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a>(filename, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 4090</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;pack)</div>
<div class="line"><span class="lineno"> 4091</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;pack-&gt;shortname;</div>
<div class="line"><span class="lineno"> 4092</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>)</div>
<div class="line"><span class="lineno"> 4093</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 4094</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4095</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4096</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l01818">Curl_SendRequirement()</a>, <a class="el" href="sv__main_8c_source.html#l01198">SV_Download_f()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l05364">VM_whichpack()</a>.</p>

</div>
</div>
<a id="a2ef891979f8e7a5158ab1ade82cd733f" name="a2ef891979f8e7a5158ab1ade82cd733f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef891979f8e7a5158ab1ade82cd733f">&#9670;&#160;</a></span>FS_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> FS_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>datasize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03015">3015</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3016</span>{</div>
<div class="line"><span class="lineno"> 3017</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a> = 0;</div>
<div class="line"><span class="lineno"> 3018</span> </div>
<div class="line"><span class="lineno"> 3019</span>    <span class="comment">// If necessary, seek to the exact file position we&#39;re supposed to be</span></div>
<div class="line"><span class="lineno"> 3020</span>    <span class="keywordflow">if</span> (file-&gt;buff_ind != file-&gt;buff_len)</div>
<div class="line"><span class="lineno"> 3021</span>    {</div>
<div class="line"><span class="lineno"> 3022</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;buff_ind - file-&gt;buff_len, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_CUR</a>) == -1)</div>
<div class="line"><span class="lineno"> 3023</span>        {</div>
<div class="line"><span class="lineno"> 3024</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;WARNING: could not seek in %s.\n&quot;</span>, file-&gt;filename);</div>
<div class="line"><span class="lineno"> 3025</span>        }</div>
<div class="line"><span class="lineno"> 3026</span>    }</div>
<div class="line"><span class="lineno"> 3027</span> </div>
<div class="line"><span class="lineno"> 3028</span>    <span class="comment">// Purge cached data</span></div>
<div class="line"><span class="lineno"> 3029</span>    <a class="code hl_function" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (file);</div>
<div class="line"><span class="lineno"> 3030</span> </div>
<div class="line"><span class="lineno"> 3031</span>    <span class="comment">// Write the buffer and update the position</span></div>
<div class="line"><span class="lineno"> 3032</span>    <span class="comment">// LadyHavoc: to hush a warning about passing size_t to an unsigned int parameter on Win64 we do this as multiple writes if the size would be too big for an integer (we never write that big in one go, but it&#39;s a theory)</span></div>
<div class="line"><span class="lineno"> 3033</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a> &lt; (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>)</div>
<div class="line"><span class="lineno"> 3034</span>    {</div>
<div class="line"><span class="lineno"> 3035</span>        <span class="comment">// figure out how much to write in one chunk</span></div>
<div class="line"><span class="lineno"> 3036</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxchunk</a> = 1&lt;&lt;30; <span class="comment">// 1 GiB</span></div>
<div class="line"><span class="lineno"> 3037</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chunk</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>((<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxchunk</a>);</div>
<div class="line"><span class="lineno"> 3038</span>        <span class="keywordtype">int</span> result = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a> (file-&gt;handle, (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chunk</a>);</div>
<div class="line"><span class="lineno"> 3039</span>        <span class="comment">// if at least some was written, add it to our accumulator</span></div>
<div class="line"><span class="lineno"> 3040</span>        <span class="keywordflow">if</span> (result &gt; 0)</div>
<div class="line"><span class="lineno"> 3041</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a> += result;</div>
<div class="line"><span class="lineno"> 3042</span>        <span class="comment">// if the result is not what we expected, consider the write to be incomplete</span></div>
<div class="line"><span class="lineno"> 3043</span>        <span class="keywordflow">if</span> (result != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chunk</a>)</div>
<div class="line"><span class="lineno"> 3044</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3045</span>    }</div>
<div class="line"><span class="lineno"> 3046</span>    file-&gt;position = <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_CUR</a>);</div>
<div class="line"><span class="lineno"> 3047</span>    <span class="keywordflow">if</span> (file-&gt;real_length &lt; file-&gt;position)</div>
<div class="line"><span class="lineno"> 3048</span>        file-&gt;real_length = file-&gt;position;</div>
<div class="line"><span class="lineno"> 3049</span> </div>
<div class="line"><span class="lineno"> 3050</span>    <span class="comment">// note that this will never be less than 0 even if the write failed</span></div>
<div class="line"><span class="lineno"> 3051</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a>;</div>
<div class="line"><span class="lineno"> 3052</span>}</div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00160">CL_PasteDemo()</a>, <a class="el" href="cl__demo_8c_source.html#l00110">CL_WriteDemoMessage()</a>, <a class="el" href="console_8c_source.html#l00806">Con_ConDump_f()</a>, <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="libcurl_8c_source.html#l00416">CURL_fwrite()</a>, <a class="el" href="fs_8c_source.html#l03257">FS_Print()</a>, <a class="el" href="fs_8c_source.html#l03565">FS_WriteFileInBlocks()</a>, <a class="el" href="jpeg_8c_source.html#l00733">JPEG_EmptyOutputBuffer()</a>, <a class="el" href="jpeg_8c_source.html#l00745">JPEG_TermDestination()</a>, <a class="el" href="console_8c_source.html#l00546">Log_Start()</a>, <a class="el" href="image__png_8c_source.html#l00275">PNG_fWriteData()</a>, <a class="el" href="cap__ogg_8c_source.html#l00921">SCR_CaptureVideo_Ogg_BeginVideo()</a>, <a class="el" href="cap__ogg_8c_source.html#l00715">SCR_CaptureVideo_Ogg_EndVideo()</a>, <a class="el" href="cap__ogg_8c_source.html#l00697">SCR_CaptureVideo_Ogg_FlushInterleaving()</a>, <a class="el" href="cap__ogg_8c_source.html#l00639">SCR_CaptureVideo_Ogg_Interleave()</a>, <a class="el" href="cap__avi_8c_source.html#l00042">SCR_CaptureVideo_RIFF_Flush()</a>, <a class="el" href="cap__avi_8c_source.html#l00055">SCR_CaptureVideo_RIFF_FlushNoIncrease()</a>, <a class="el" href="cap__avi_8c_source.html#l00132">SCR_CaptureVideo_RIFF_Pop()</a>, <a class="el" href="cap__avi_8c_source.html#l00067">SCR_CaptureVideo_RIFF_WriteBytes()</a>, <a class="el" href="sv__demo_8c_source.html#l00032">SV_WriteDemoMessage()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04401">VM_buf_writefile()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l02049">VM_fputs()</a>.</p>

</div>
</div>
<a id="a2a2eae59234c2478341fea0a380e99ac" name="a2a2eae59234c2478341fea0a380e99ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2eae59234c2478341fea0a380e99ac">&#9670;&#160;</a></span>FS_WriteFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_WriteFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03588">3588</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3589</span>{</div>
<div class="line"><span class="lineno"> 3590</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ae34d06bd66fbed0ee1a72a3ad726af11">FS_WriteFileInBlocks</a>(filename, &amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, &amp;len, 1);</div>
<div class="line"><span class="lineno"> 3591</span>}</div>
<div class="ttc" id="afs_8c_html_ae34d06bd66fbed0ee1a72a3ad726af11"><div class="ttname"><a href="fs_8c.html#ae34d06bd66fbed0ee1a72a3ad726af11">FS_WriteFileInBlocks</a></div><div class="ttdeci">qbool FS_WriteFileInBlocks(const char *filename, const void *const *data, const fs_offset_t *len, size_t count)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03565">fs.c:3565</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="image_8c_source.html#l01436">Image_WriteTGABGRA()</a>, <a class="el" href="model__shared_8c_source.html#l03318">Mod_Decompile_f()</a>, <a class="el" href="model__shared_8c_source.html#l03033">Mod_Decompile_OBJ()</a>, <a class="el" href="model__shared_8c_source.html#l03154">Mod_Decompile_SMD()</a>, <a class="el" href="cl__parse_8c_source.html#l00756">QW_CL_ParseDownload()</a>, <a class="el" href="gl__textures_8c_source.html#l01431">R_SaveTextureDDSFile()</a>, <a class="el" href="r__shadow_8c_source.html#l04945">R_Shadow_SaveWorldLights()</a>, and <a class="el" href="sv__main_8c_source.html#l00715">SV_SaveEntFile_f()</a>.</p>

</div>
</div>
<a id="ae34d06bd66fbed0ee1a72a3ad726af11" name="ae34d06bd66fbed0ee1a72a3ad726af11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae34d06bd66fbed0ee1a72a3ad726af11">&#9670;&#160;</a></span>FS_WriteFileInBlocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_WriteFileInBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03565">3565</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3566</span>{</div>
<div class="line"><span class="lineno"> 3567</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file;</div>
<div class="line"><span class="lineno"> 3568</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3569</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lentotal</a>;</div>
<div class="line"><span class="lineno"> 3570</span> </div>
<div class="line"><span class="lineno"> 3571</span>    file = <a class="code hl_function" href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a>(filename, <span class="stringliteral">&quot;wb&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3572</span>    <span class="keywordflow">if</span> (!file)</div>
<div class="line"><span class="lineno"> 3573</span>    {</div>
<div class="line"><span class="lineno"> 3574</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_WriteFile: failed on %s\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 3575</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3576</span>    }</div>
<div class="line"><span class="lineno"> 3577</span> </div>
<div class="line"><span class="lineno"> 3578</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lentotal</a> = 0;</div>
<div class="line"><span class="lineno"> 3579</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 3580</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lentotal</a> += len[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3581</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;FS_WriteFile: %s (%u bytes)\n&quot;</span>, filename, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lentotal</a>);</div>
<div class="line"><span class="lineno"> 3582</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 3583</span>        <a class="code hl_function" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a> (file, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], len[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 3584</span>    <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a> (file);</div>
<div class="line"><span class="lineno"> 3585</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3586</span>}</div>
<div class="ttc" id="afs_8c_html_a7757c6165ecaee803fba8e3d1db3e2e9"><div class="ttname"><a href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a></div><div class="ttdeci">qfile_t * FS_OpenRealFile(const char *filepath, const char *mode, qbool quiet)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02897">fs.c:2897</a></div></div>
<div class="ttc" id="afs_8c_html_abcf26e98f08b7bbcc5645486294ebb5c"><div class="ttname"><a href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a></div><div class="ttdeci">int FS_Close(qfile_t *file)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02966">fs.c:2966</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03588">FS_WriteFile()</a>, and <a class="el" href="image_8c_source.html#l01412">Image_WriteTGABGR_preflipped()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1273a0774bd79c98e6a9d707e363142e" name="a1273a0774bd79c98e6a9d707e363142e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1273a0774bd79c98e6a9d707e363142e">&#9670;&#160;</a></span>fs_all_gamedirs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgamedir__t.html">gamedir_t</a>* fs_all_gamedirs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00446">446</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01861">FS_ListGameDirs()</a>, and <a class="el" href="mvm__cmds_8c_source.html#l00210">VM_M_getgamedirinfo()</a>.</p>

</div>
</div>
<a id="ad9bba4c2e6cdbfcaea842f33320e6467" name="ad9bba4c2e6cdbfcaea842f33320e6467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9bba4c2e6cdbfcaea842f33320e6467">&#9670;&#160;</a></span>fs_all_gamedirs_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> fs_all_gamedirs_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00447">447</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01861">FS_ListGameDirs()</a>, and <a class="el" href="mvm__cmds_8c_source.html#l00210">VM_M_getgamedirinfo()</a>.</p>

</div>
</div>
<a id="ad14136292432bbbe329d4ab28ea04b37" name="ad14136292432bbbe329d4ab28ea04b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad14136292432bbbe329d4ab28ea04b37">&#9670;&#160;</a></span>fs_basedir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> fs_basedir[<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00438">438</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="fs_8c_source.html#l01394">FS_AddGameHierarchy()</a>, <a class="el" href="fs_8c_source.html#l01831">FS_CheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l01953">FS_ChooseUserDir()</a>, <a class="el" href="fs_8c_source.html#l02139">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l01861">FS_ListGameDirs()</a>, <a class="el" href="host_8c_source.html#l00327">Host_LockSession()</a>, and <a class="el" href="menu_8c_source.html#l04539">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="acb0173e463d50a2da05a01efcb48670b" name="acb0173e463d50a2da05a01efcb48670b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb0173e463d50a2da05a01efcb48670b">&#9670;&#160;</a></span>fs_checkgamedir_missing</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>* <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> fs_checkgamedir_missing</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00432">432</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01831">FS_CheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l01861">FS_ListGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01640">FS_SetGameDirs()</a>, and <a class="el" href="menu_8c_source.html#l04539">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="a0a0d4940920cae5cd03989225834c4bb" name="a0a0d4940920cae5cd03989225834c4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0d4940920cae5cd03989225834c4bb">&#9670;&#160;</a></span>fs_gamedir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> fs_gamedir[<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00437">437</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01347">FS_AddGameDirectory()</a>, <a class="el" href="fs_8c_source.html#l02139">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l02897">FS_OpenRealFile()</a>, <a class="el" href="fs_8c_source.html#l01545">FS_Rescan()</a>, and <a class="el" href="cl__screen_8c_source.html#l00908">SCR_ScreenShot_f()</a>.</p>

</div>
</div>
<a id="a1ae37afe19022713da1c41aaf8e74b8a" name="a1ae37afe19022713da1c41aaf8e74b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ae37afe19022713da1c41aaf8e74b8a">&#9670;&#160;</a></span>fs_gamedirs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> fs_gamedirs[<a class="el" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>][<a class="el" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00443">443</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="com__game_8c_source.html#l00121">COM_ChangeGameTypeForGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01758">FS_GameDir_f()</a>, <a class="el" href="fs_8c_source.html#l01545">FS_Rescan()</a>, <a class="el" href="fs_8c_source.html#l01640">FS_SetGameDirs()</a>, and <a class="el" href="menu_8c_source.html#l04539">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="adda51408d01fe25b934e4fd7b21a9698" name="adda51408d01fe25b934e4fd7b21a9698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda51408d01fe25b934e4fd7b21a9698">&#9670;&#160;</a></span>fs_numgamedirs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> fs_numgamedirs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00442">442</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="com__game_8c_source.html#l00121">COM_ChangeGameTypeForGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01758">FS_GameDir_f()</a>, <a class="el" href="fs_8c_source.html#l01545">FS_Rescan()</a>, <a class="el" href="fs_8c_source.html#l01640">FS_SetGameDirs()</a>, and <a class="el" href="menu_8c_source.html#l04539">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="afffc20194b866aa9ea07bed3f2c5a30d" name="afffc20194b866aa9ea07bed3f2c5a30d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afffc20194b866aa9ea07bed3f2c5a30d">&#9670;&#160;</a></span>fs_userdir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> fs_userdir[<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00436">436</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="fs_8c_source.html#l01394">FS_AddGameHierarchy()</a>, <a class="el" href="fs_8c_source.html#l01831">FS_CheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l02139">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l01861">FS_ListGameDirs()</a>, and <a class="el" href="host_8c_source.html#l00327">Host_LockSession()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="fs_8h.html">fs.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
