<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: cl_particles.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('cl__particles_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">cl_particles.c</div></div>
</div><!--header-->
<div class="contents">
<a href="cl__particles_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">Copyright (C) 1996-1997 Id Software, Inc.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"></span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">This program is free software; you can redistribute it and/or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">modify it under the terms of the GNU General Public License</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">as published by the Free Software Foundation; either version 2</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">of the License, or (at your option) any later version.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"></span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"></span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">See the GNU General Public License for more details.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"></span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">along with this program; if not, write to the Free Software</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment"></span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">*/</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="quakedef_8h.html">quakedef.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="cl__collision_8h.html">cl_collision.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="image_8h.html">image.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="r__shadow_8h.html">r_shadow.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">// must match ptype_t values</span></div>
<div class="foldopen" id="foldopen00028" data-start="{" data-end="};">
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a42ed4f788e9a1fedee04ca881c9476fc">   28</a></span><a class="code hl_struct" href="structparticletype__t.html">particletype_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a42ed4f788e9a1fedee04ca881c9476fc">particletype</a>[<a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2fcd22dc631ef4fd96eece5d901f54b2">pt_total</a>] =</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>{</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a721c8fa013b982ddaaf2c67a449d7d73">PBLEND_INVALID</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537aeb6ea2f20258bdabc56cf6cc9b074a60">PARTICLE_INVALID</a>, <span class="keyword">false</span>}, <span class="comment">//pt_dead (should never happen)</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, <span class="keyword">false</span>}, <span class="comment">//pt_alphastatic</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, <span class="keyword">false</span>}, <span class="comment">//pt_static</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>, <span class="keyword">false</span>}, <span class="comment">//pt_spark</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>, <span class="keyword">false</span>}, <span class="comment">//pt_beam</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>, <span class="keyword">false</span>}, <span class="comment">//pt_rain</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537acc85bfbc8695f63d7f46a696ab728de6">PARTICLE_ORIENTED_DOUBLESIDED</a>, <span class="keyword">false</span>}, <span class="comment">//pt_raindecal</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, <span class="keyword">false</span>}, <span class="comment">//pt_snow</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, <span class="keyword">false</span>}, <span class="comment">//pt_bubble</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, <span class="keyword">false</span>}, <span class="comment">//pt_blood</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, <span class="keyword">false</span>}, <span class="comment">//pt_smoke</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537acc85bfbc8695f63d7f46a696ab728de6">PARTICLE_ORIENTED_DOUBLESIDED</a>, <span class="keyword">false</span>}, <span class="comment">//pt_decal</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    {<a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, <span class="keyword">false</span>}, <span class="comment">//pt_entityparticle</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>};</div>
</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a0bb10fca47b19015f9dbf8e019eb08bd">   45</a></span><span class="preprocessor">#define PARTICLEEFFECT_UNDERWATER 1</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a5f2ecf2e52bea0e7f6fc7ab749e063c1">   46</a></span><span class="preprocessor">#define PARTICLEEFFECT_NOTUNDERWATER 2</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#adab65b80bb7a26dafdc494fe2cbf0115">   47</a></span><span class="preprocessor">#define PARTICLEEFFECT_FORCENEAREST 4</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a5ec0af4271168c6de4f85b02e09ad990">   48</a></span><span class="preprocessor">#define PARTICLEEFFECT_DEFINED 2147483648U</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="foldopen" id="foldopen00050" data-start="{" data-end="};">
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html">   50</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particleeffectinfo_s</a></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>{</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a3f874dc382cf1d6ac0c6c91fc4267ff0">   52</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a3f874dc382cf1d6ac0c6c91fc4267ff0">effectnameindex</a>; <span class="comment">// which effect this belongs to</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="comment">// PARTICLEEFFECT_* bits</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">   54</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="comment">// blood effects may spawn very few particles, so proper fraction-overflow</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="comment">// handling is very important, this variable keeps track of the fraction</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a6992d63794d88fa623c20462b9ab2213">   57</a></span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a6992d63794d88fa623c20462b9ab2213">particleaccumulator</a>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="comment">// the math is: countabsolute + requestedcount * countmultiplier * quality</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="comment">// absolute number of particles to spawn, often used for decals</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="comment">// (unaffected by quality and requestedcount)</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#af8bb1b2875e788b74e19f052eb930fab">   61</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#af8bb1b2875e788b74e19f052eb930fab">countabsolute</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="comment">// multiplier for the number of particles CL_ParticleEffect was told to</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="comment">// spawn, most effects do not really have a count and hence use 1, so</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="comment">// this is often the actual count to spawn, not merely a multiplier</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a4993c48e65444b5ac4508d54d0fb6599">   65</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a4993c48e65444b5ac4508d54d0fb6599">countmultiplier</a>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="comment">// if &gt; 0 this causes the particle to spawn in an evenly spaced line from</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// originmins to originmaxs (causing them to describe a trail, not a box)</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a8d22c205834444b138c19c7c4fcfa01e">   68</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a8d22c205834444b138c19c7c4fcfa01e">trailspacing</a>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="comment">// type of particle to spawn (defines some aspects of behavior)</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">   70</a></span>    <a class="code hl_enumeration" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911">ptype_t</a> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a>;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment">// blending mode used on this particle type</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">   72</a></span>    <a class="code hl_enumeration" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462">pblend_t</a> <a class="code hl_variable" href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">blendmode</a>;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="comment">// orientation of this particle type (BILLBOARD, SPARK, BEAM, etc)</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">   74</a></span>    <a class="code hl_enumeration" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537">porientation_t</a> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="comment">// range of colors to choose from in hex RRGGBB (like HTML color tags),</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// randomly interpolated at spawn</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">   77</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[2];</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="comment">// a random texture is chosen in this range (note the second value is one</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// past the last choosable, so for example 8,16 chooses any from 8 up and</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="comment">// including 15)</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="comment">// if start and end of the range are the same, no randomization is done</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">   82</a></span>    <span class="keywordtype">int</span> tex[2];</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="comment">// range of size values randomly chosen when spawning, plus size increase over time</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">   84</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>[3];</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">// range of alpha values randomly chosen when spawning, plus alpha fade</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">   86</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>[3];</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="comment">// how long the particle should live (note it is also removed if alpha drops to 0)</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#aff7f5fa611902ba2ee7755a4e2d995f0">   88</a></span>    <span class="keywordtype">float</span> time[2];</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="comment">// how much gravity affects this particle (negative makes it fly up!)</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#ae8bd46aaef107dc177c23aabcf0e0509">   90</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#ae8bd46aaef107dc177c23aabcf0e0509">gravity</a>;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="comment">// how much bounce the particle has when it hits a surface</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="comment">// if negative the particle is removed on impact</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a12ba8b64d353c490d5bcb3099c3d2aa0">   93</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a12ba8b64d353c490d5bcb3099c3d2aa0">bounce</a>;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// if in air this friction is applied</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="comment">// if negative the particle accelerates</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a51097b90c9adf1646a4dbedf6d94db38">   96</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a51097b90c9adf1646a4dbedf6d94db38">airfriction</a>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// if in liquid (water/slime/lava) this friction is applied</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// if negative the particle accelerates</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a5f75b128cc05f39a45cdebeb4187f329">   99</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a5f75b128cc05f39a45cdebeb4187f329">liquidfriction</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="comment">// these offsets are added to the values given to particleeffect(), and</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="comment">// then an ellipsoid-shaped jitter is added as defined by these</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// (they are the 3 radii)</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a7d2b7f3bc288d67895abd9451d9a3610">  103</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a7d2b7f3bc288d67895abd9451d9a3610">stretchfactor</a>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// stretch velocity factor (used for sparks)</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#af009ed433f91d215bb71d0241fa3085f">  105</a></span>    <span class="keywordtype">float</span> originoffset[3];</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">  106</a></span>    <span class="keywordtype">float</span> relativeoriginoffset[3];</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a823789423657ccc9e09ad22342b599b7">  107</a></span>    <span class="keywordtype">float</span> velocityoffset[3];</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a7be668ed56be91f3954b9a682e1a3ed8">  108</a></span>    <span class="keywordtype">float</span> relativevelocityoffset[3];</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#aa93a89cff4ac71aba3757a881964f8a5">  109</a></span>    <span class="keywordtype">float</span> originjitter[3];</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a66af5c2081cda94d29f9faf9b819530e">  110</a></span>    <span class="keywordtype">float</span> velocityjitter[3];</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a88f8360c36fdd921e8e409cc50a922b5">  111</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a88f8360c36fdd921e8e409cc50a922b5">velocitymultiplier</a>;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">// an effect can also spawn a dlight</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a80327eef64b07ddb18a8b1bb84cea281">  113</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a80327eef64b07ddb18a8b1bb84cea281">lightradiusstart</a>;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a849293a9b6a2032edd4cbc277e6a6404">  114</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a849293a9b6a2032edd4cbc277e6a6404">lightradiusfade</a>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a08f5b9f37affe5878fc1eb4e8b108a55">  115</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a08f5b9f37affe5878fc1eb4e8b108a55">lighttime</a>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">  116</a></span>    <span class="keywordtype">float</span> lightcolor[3];</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a6afed7121363599eff8271b8656db94d">  117</a></span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="structparticleeffectinfo__t.html#a6afed7121363599eff8271b8656db94d">lightshadow</a>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#ab587c095ebcf57b6e00f2bc6cafd375e">  118</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structparticleeffectinfo__t.html#ab587c095ebcf57b6e00f2bc6cafd375e">lightcubemapnum</a>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#ac57e13aef82de822ad865a0bc67df668">  119</a></span>    <span class="keywordtype">float</span> lightcorona[2];</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">  120</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> staincolor[2]; <span class="comment">// note: 0x808080 = neutral (particle&#39;s own color), these are modding factors for the particle&#39;s original color!</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">  121</a></span>    <span class="keywordtype">int</span> staintex[2];</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">  122</a></span>    <span class="keywordtype">float</span> stainalpha[2];</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">  123</a></span>    <span class="keywordtype">float</span> stainsize[2];</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="comment">// other parameters</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="structparticleeffectinfo__t.html#a2b4a796c8c5af5c36d003625a7fe1426">  125</a></span>    <span class="keywordtype">float</span> rotate[4]; <span class="comment">// min/max base angle, min/max rotation over time</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>}</div>
</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><a class="code hl_struct" href="structparticleeffectinfo__t.html">particleeffectinfo_t</a>;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">  129</a></span><span class="keywordtype">char</span> <a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[<a class="code hl_define" href="qdefs_8h.html#ae9d5be258ba2175e6b2ad6e10da264f7">MAX_PARTICLEEFFECTNAME</a>][64];</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ae2e6d866cc78d79d44b157b344dd554c">  131</a></span><span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#ae2e6d866cc78d79d44b157b344dd554c">numparticleeffectinfo</a>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">  132</a></span><a class="code hl_struct" href="structparticleeffectinfo__t.html">particleeffectinfo_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">particleeffectinfo</a>[<a class="code hl_define" href="qdefs_8h.html#a9ca7ae0a34d2a1044b3fe3f0d63113c3">MAX_PARTICLEEFFECTINFO</a>];</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">  134</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[256];</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment">/*</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment">    0x000000,0x0f0f0f,0x1f1f1f,0x2f2f2f,0x3f3f3f,0x4b4b4b,0x5b5b5b,0x6b6b6b, // 0-7</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="comment">    0x7b7b7b,0x8b8b8b,0x9b9b9b,0xababab,0xbbbbbb,0xcbcbcb,0xdbdbdb,0xebebeb, // 8-15</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="comment">    0x0f0b07,0x170f0b,0x1f170b,0x271b0f,0x2f2313,0x372b17,0x3f2f17,0x4b371b, // 16-23</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment">    0x533b1b,0x5b431f,0x634b1f,0x6b531f,0x73571f,0x7b5f23,0x836723,0x8f6f23, // 24-31</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="comment">    0x0b0b0f,0x13131b,0x1b1b27,0x272733,0x2f2f3f,0x37374b,0x3f3f57,0x474767, // 32-39</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="comment">    0x4f4f73,0x5b5b7f,0x63638b,0x6b6b97,0x7373a3,0x7b7baf,0x8383bb,0x8b8bcb, // 40-47</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="comment">    0x000000,0x070700,0x0b0b00,0x131300,0x1b1b00,0x232300,0x2b2b07,0x2f2f07, // 48-55</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="comment">    0x373707,0x3f3f07,0x474707,0x4b4b0b,0x53530b,0x5b5b0b,0x63630b,0x6b6b0f, // 56-63</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><span class="comment">    0x070000,0x0f0000,0x170000,0x1f0000,0x270000,0x2f0000,0x370000,0x3f0000, // 64-71</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="comment">    0x470000,0x4f0000,0x570000,0x5f0000,0x670000,0x6f0000,0x770000,0x7f0000, // 72-79</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="comment">    0x131300,0x1b1b00,0x232300,0x2f2b00,0x372f00,0x433700,0x4b3b07,0x574307, // 80-87</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment">    0x5f4707,0x6b4b0b,0x77530f,0x835713,0x8b5b13,0x975f1b,0xa3631f,0xaf6723, // 88-95</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">    0x231307,0x2f170b,0x3b1f0f,0x4b2313,0x572b17,0x632f1f,0x733723,0x7f3b2b, // 96-103</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment">    0x8f4333,0x9f4f33,0xaf632f,0xbf772f,0xcf8f2b,0xdfab27,0xefcb1f,0xfff31b, // 104-111</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="comment">    0x0b0700,0x1b1300,0x2b230f,0x372b13,0x47331b,0x533723,0x633f2b,0x6f4733, // 112-119</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment">    0x7f533f,0x8b5f47,0x9b6b53,0xa77b5f,0xb7876b,0xc3937b,0xd3a38b,0xe3b397, // 120-127</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">    0xab8ba3,0x9f7f97,0x937387,0x8b677b,0x7f5b6f,0x775363,0x6b4b57,0x5f3f4b, // 128-135</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">    0x573743,0x4b2f37,0x43272f,0x371f23,0x2b171b,0x231313,0x170b0b,0x0f0707, // 136-143</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">    0xbb739f,0xaf6b8f,0xa35f83,0x975777,0x8b4f6b,0x7f4b5f,0x734353,0x6b3b4b, // 144-151</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment">    0x5f333f,0x532b37,0x47232b,0x3b1f23,0x2f171b,0x231313,0x170b0b,0x0f0707, // 152-159</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment">    0xdbc3bb,0xcbb3a7,0xbfa39b,0xaf978b,0xa3877b,0x977b6f,0x876f5f,0x7b6353, // 160-167</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="comment">    0x6b5747,0x5f4b3b,0x533f33,0x433327,0x372b1f,0x271f17,0x1b130f,0x0f0b07, // 168-175</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="comment">    0x6f837b,0x677b6f,0x5f7367,0x576b5f,0x4f6357,0x475b4f,0x3f5347,0x374b3f, // 176-183</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="comment">    0x2f4337,0x2b3b2f,0x233327,0x1f2b1f,0x172317,0x0f1b13,0x0b130b,0x070b07, // 184-191</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="comment">    0xfff31b,0xefdf17,0xdbcb13,0xcbb70f,0xbba70f,0xab970b,0x9b8307,0x8b7307, // 192-199</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment">    0x7b6307,0x6b5300,0x5b4700,0x4b3700,0x3b2b00,0x2b1f00,0x1b0f00,0x0b0700, // 200-207</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">    0x0000ff,0x0b0bef,0x1313df,0x1b1bcf,0x2323bf,0x2b2baf,0x2f2f9f,0x2f2f8f, // 208-215</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment">    0x2f2f7f,0x2f2f6f,0x2f2f5f,0x2b2b4f,0x23233f,0x1b1b2f,0x13131f,0x0b0b0f, // 216-223</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment">    0x2b0000,0x3b0000,0x4b0700,0x5f0700,0x6f0f00,0x7f1707,0x931f07,0xa3270b, // 224-231</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="comment">    0xb7330f,0xc34b1b,0xcf632b,0xdb7f3b,0xe3974f,0xe7ab5f,0xefbf77,0xf7d38b, // 232-239</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="comment">    0xa77b3b,0xb79b37,0xc7c337,0xe7e357,0x7fbfff,0xabe7ff,0xd7ffff,0x670000, // 240-247</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="comment">    0x8b0000,0xb30000,0xd70000,0xff0000,0xfff393,0xfff7c7,0xffffff,0x9f5b53  // 248-255</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="comment">*/</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a2840792247461e58e93656953d42d57c">  170</a></span><span class="keywordtype">int</span>     <a class="code hl_variable" href="cl__particles_8c.html#a2840792247461e58e93656953d42d57c">ramp1</a>[8] = {0x6f, 0x6d, 0x6b, 0x69, 0x67, 0x65, 0x63, 0x61};</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a9d939a8b53f3f6d214c16e8bc7442e5a">  171</a></span><span class="keywordtype">int</span>     <a class="code hl_variable" href="cl__particles_8c.html#a9d939a8b53f3f6d214c16e8bc7442e5a">ramp2</a>[8] = {0x6f, 0x6e, 0x6d, 0x6c, 0x6b, 0x6a, 0x68, 0x66};</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a8d63f2a26568b6252957c4ce7682d245">  172</a></span><span class="keywordtype">int</span>     <a class="code hl_variable" href="cl__particles_8c.html#a8d63f2a26568b6252957c4ce7682d245">ramp3</a>[8] = {0x6d, 0x6b, 6, 5, 4, 3};</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="comment">//static int explosparkramp[8] = {0x4b0700, 0x6f0f00, 0x931f07, 0xb7330f, 0xcf632b, 0xe3974f, 0xffe7b5, 0xffffff};</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment">// particletexture_t is a rectangle in the particlefonttexture</span></div>
<div class="foldopen" id="foldopen00177" data-start="{" data-end="};">
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno"><a class="line" href="structparticletexture__t.html">  177</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexture_s</a></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>{</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">  179</a></span>    <a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a>;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno"><a class="line" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">  180</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>, t1, s2, t2;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>}</div>
</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><a class="code hl_struct" href="structparticletexture__t.html">particletexture_t</a>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#aa22accfd82fe33f5e39f253655bec108">  184</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="cl__particles_8c.html#aa22accfd82fe33f5e39f253655bec108">particletexturepool</a>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a443cd658f97c248199581e746dfbbaa2">  185</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="cl__particles_8c.html#a443cd658f97c248199581e746dfbbaa2">particlefonttexture</a>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">  186</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structparticletexture__t.html">particletexture_t</a> <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_define" href="qdefs_8h.html#a760ffd4b2527d8441e9210d5ec7f6e88">MAX_PARTICLETEXTURES</a>];</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">  187</a></span><a class="code hl_struct" href="structskinframe__t.html">skinframe_t</a> *<a class="code hl_variable" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="comment">// texture numbers in particle font</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">  190</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[8] = {0, 1, 2, 3, 4, 5, 6, 7};</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">  191</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[8] = {8, 9, 10, 11, 12, 13, 14, 15};</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a8bd3eddeb4e3aa4a5f15a477b8f4acd9">  192</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#a8bd3eddeb4e3aa4a5f15a477b8f4acd9">tex_blooddecal</a>[8] = {16, 17, 18, 19, 20, 21, 22, 23};</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a9a75d40a03ce7cbc8030371cd8f8cbe0">  193</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#a9a75d40a03ce7cbc8030371cd8f8cbe0">tex_bloodparticle</a>[8] = {24, 25, 26, 27, 28, 29, 30, 31};</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a9b8723c8c1e5da8afda8a0cf176c2bae">  194</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#a9b8723c8c1e5da8afda8a0cf176c2bae">tex_rainsplash</a> = 32;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">  195</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a> = 63;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a4f9f6ffcf2fbb15f8842bcc7e3f34bcd">  196</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#a4f9f6ffcf2fbb15f8842bcc7e3f34bcd">tex_bubble</a> = 62;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ad3db8107eb79d98a2af00bdf6af81d1b">  197</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#ad3db8107eb79d98a2af00bdf6af81d1b">tex_raindrop</a> = 61;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">  198</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a> = 60;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="foldopen" id="foldopen00200" data-start="{" data-end="};">
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a206e2f917471a002ac4a4c3016da3cfc">  200</a></span><a class="code hl_struct" href="structparticleeffectinfo__t.html">particleeffectinfo_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a206e2f917471a002ac4a4c3016da3cfc">baselineparticleeffectinfo</a> =</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>{</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    0, <span class="comment">//int effectnameindex; // which effect this belongs to</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="comment">// PARTICLEEFFECT_* bits</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    0, <span class="comment">//int flags;</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="comment">// blood effects may spawn very few particles, so proper fraction-overflow</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="comment">// handling is very important, this variable keeps track of the fraction</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    0.0, <span class="comment">//double particleaccumulator;</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="comment">// the math is: countabsolute + requestedcount * countmultiplier * quality</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="comment">// absolute number of particles to spawn, often used for decals</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="comment">// (unaffected by quality and requestedcount)</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    0.0f, <span class="comment">//float countabsolute;</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="comment">// multiplier for the number of particles CL_ParticleEffect was told to</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="comment">// spawn, most effects do not really have a count and hence use 1, so</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="comment">// this is often the actual count to spawn, not merely a multiplier</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    0.0f, <span class="comment">//float countmultiplier;</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="comment">// if &gt; 0 this causes the particle to spawn in an evenly spaced line from</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="comment">// originmins to originmaxs (causing them to describe a trail, not a box)</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    0.0f, <span class="comment">//float trailspacing;</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="comment">// type of particle to spawn (defines some aspects of behavior)</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <span class="comment">//ptype_t particletype;</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="comment">// blending mode used on this particle type</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <span class="comment">//pblend_t blendmode;</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="comment">// orientation of this particle type (BILLBOARD, SPARK, BEAM, etc)</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, <span class="comment">//porientation_t orientation;</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="comment">// range of colors to choose from in hex RRGGBB (like HTML color tags),</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="comment">// randomly interpolated at spawn</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    {0xFFFFFF, 0xFFFFFF}, <span class="comment">//unsigned int color[2];</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// a random texture is chosen in this range (note the second value is one</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="comment">// past the last choosable, so for example 8,16 chooses any from 8 up and</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="comment">// including 15)</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="comment">// if start and end of the range are the same, no randomization is done</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    {63, 63 <span class="comment">/* tex_particle */</span>}, <span class="comment">//int tex[2];</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="comment">// range of size values randomly chosen when spawning, plus size increase over time</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    {1, 1, 0.0f}, <span class="comment">//float size[3];</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="comment">// range of alpha values randomly chosen when spawning, plus alpha fade</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    {0.0f, 256.0f, 256.0f}, <span class="comment">//float alpha[3];</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="comment">// how long the particle should live (note it is also removed if alpha drops to 0)</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    {16777216.0f, 16777216.0f}, <span class="comment">//float time[2];</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="comment">// how much gravity affects this particle (negative makes it fly up!)</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    0.0f, <span class="comment">//float gravity;</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="comment">// how much bounce the particle has when it hits a surface</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="comment">// if negative the particle is removed on impact</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    0.0f, <span class="comment">//float bounce;</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="comment">// if in air this friction is applied</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="comment">// if negative the particle accelerates</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    0.0f, <span class="comment">//float airfriction;</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="comment">// if in liquid (water/slime/lava) this friction is applied</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    <span class="comment">// if negative the particle accelerates</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    0.0f, <span class="comment">//float liquidfriction;</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="comment">// these offsets are added to the values given to particleeffect(), and</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <span class="comment">// then an ellipsoid-shaped jitter is added as defined by these</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="comment">// (they are the 3 radii)</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    1.0f, <span class="comment">//float stretchfactor;</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="comment">// stretch velocity factor (used for sparks)</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    {0.0f, 0.0f, 0.0f}, <span class="comment">//float originoffset[3];</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    {0.0f, 0.0f, 0.0f}, <span class="comment">//float relativeoriginoffset[3];</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    {0.0f, 0.0f, 0.0f}, <span class="comment">//float velocityoffset[3];</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    {0.0f, 0.0f, 0.0f}, <span class="comment">//float relativevelocityoffset[3];</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    {0.0f, 0.0f, 0.0f}, <span class="comment">//float originjitter[3];</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    {0.0f, 0.0f, 0.0f}, <span class="comment">//float velocityjitter[3];</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    0.0f, <span class="comment">//float velocitymultiplier;</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="comment">// an effect can also spawn a dlight</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    0.0f, <span class="comment">//float lightradiusstart;</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    0.0f, <span class="comment">//float lightradiusfade;</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    16777216.0f, <span class="comment">//float lighttime;</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    {1.0f, 1.0f, 1.0f}, <span class="comment">//float lightcolor[3];</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="keyword">true</span>, <span class="comment">//qbool lightshadow;</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    0, <span class="comment">//int lightcubemapnum;</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    {1.0f, 0.25f}, <span class="comment">//float lightcorona[2];</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    {(<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)-1, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)-1}, <span class="comment">//unsigned int staincolor[2]; // note: 0x808080 = neutral (particle&#39;s own color), these are modding factors for the particle&#39;s original color!</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    {-1, -1}, <span class="comment">//int staintex[2];</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    {1.0f, 1.0f}, <span class="comment">//float stainalpha[2];</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    {2.0f, 2.0f}, <span class="comment">//float stainsize[2];</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="comment">// other parameters</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    {0.0f, 360.0f, 0.0f, 0.0f}, <span class="comment">//float rotate[4]; // min/max base angle, min/max rotation over time</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>};</div>
</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">  278</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables particle effects&quot;</span>};</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">  279</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_quality&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;multiplies number of particles&quot;</span>};</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a8cbbb124cddc70c3d6a7a02a64cfe5ea">  280</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a8cbbb124cddc70c3d6a7a02a64cfe5ea">cl_particles_alpha</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_alpha&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;multiplies opacity of particles&quot;</span>};</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#aa9058d8d4143330f4e29f77fe68856e3">  281</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#aa9058d8d4143330f4e29f77fe68856e3">cl_particles_size</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_size&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;multiplies particle size&quot;</span>};</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">  282</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_quake&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;makes particle effects look mostly like the ones in Quake&quot;</span>};</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a71ea864419a4c6f7c9bfe2c052e66bc0">  283</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a71ea864419a4c6f7c9bfe2c052e66bc0">cl_particles_blood</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_blood&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables blood effects&quot;</span>};</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">  284</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_blood_alpha&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;opacity of blood, does not affect decals&quot;</span>};</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a17357c1b91df0434b8bb04c9b40c26e0">  285</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a17357c1b91df0434b8bb04c9b40c26e0">cl_particles_blood_decal_alpha</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_blood_decal_alpha&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;opacity of blood decal&quot;</span>};</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a974ffa6f78d7b4f691c6d1a5ee282bbf">  286</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a974ffa6f78d7b4f691c6d1a5ee282bbf">cl_particles_blood_decal_scalemin</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_blood_decal_scalemin&quot;</span>, <span class="stringliteral">&quot;1.5&quot;</span>, <span class="stringliteral">&quot;minimal random scale of decal&quot;</span>};</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a953ec697f96f4c0c360bcc0a6f283ceb">  287</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a953ec697f96f4c0c360bcc0a6f283ceb">cl_particles_blood_decal_scalemax</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_blood_decal_scalemax&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>, <span class="stringliteral">&quot;maximal random scale of decal&quot;</span>};</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a0f9b7dc0f4f694f8aa0ec8956d1e5269">  288</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a0f9b7dc0f4f694f8aa0ec8956d1e5269">cl_particles_blood_bloodhack</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_blood_bloodhack&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;make certain quake particle() calls create blood effects instead&quot;</span>};</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">  289</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_bulletimpacts&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables bulletimpact effects&quot;</span>};</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a1d69e03549cee4b9c93f7ad4e010316a">  290</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a1d69e03549cee4b9c93f7ad4e010316a">cl_particles_explosions_sparks</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_explosions_sparks&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables sparks from explosions&quot;</span>};</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a632e148cdb17217f52dca376deb64cde">  291</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a632e148cdb17217f52dca376deb64cde">cl_particles_explosions_shell</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_explosions_shell&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;enables polygonal shell from explosions&quot;</span>};</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a83262a4d573d41e73ec6b01ec60c56e8">  292</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a83262a4d573d41e73ec6b01ec60c56e8">cl_particles_rain</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_rain&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables rain effects&quot;</span>};</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a4c9ac7818ebd81603fa50c90f07e9f7c">  293</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a4c9ac7818ebd81603fa50c90f07e9f7c">cl_particles_snow</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_snow&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables snow effects&quot;</span>};</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">  294</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_smoke&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables smoke (used by multiple effects)&quot;</span>};</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a603f0ea8a650bc4de8e9db613517497c">  295</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a603f0ea8a650bc4de8e9db613517497c">cl_particles_smoke_alpha</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_smoke_alpha&quot;</span>, <span class="stringliteral">&quot;0.5&quot;</span>, <span class="stringliteral">&quot;smoke brightness&quot;</span>};</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a897da50b8a6e1204614ccc92e7eea1a9">  296</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a897da50b8a6e1204614ccc92e7eea1a9">cl_particles_smoke_alphafade</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_smoke_alphafade&quot;</span>, <span class="stringliteral">&quot;0.55&quot;</span>, <span class="stringliteral">&quot;brightness fade per second&quot;</span>};</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a30a311c23609ab922f2a8a64748f2b23">  297</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a30a311c23609ab922f2a8a64748f2b23">cl_particles_sparks</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_sparks&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables sparks (used by multiple effects)&quot;</span>};</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#aff9b4bbfeabdbb5c6535d56219a74acd">  298</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#aff9b4bbfeabdbb5c6535d56219a74acd">cl_particles_bubbles</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_bubbles&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables bubbles (used by multiple effects)&quot;</span>};</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a0c2b4bf6f2ce893e391067426fb2af39">  299</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a0c2b4bf6f2ce893e391067426fb2af39">cl_particles_visculling</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_visculling&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;perform a costly check if each particle is visible before drawing&quot;</span>};</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a9667beb77f4b7f14afb309d066c015bb">  300</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a9667beb77f4b7f14afb309d066c015bb">cl_particles_collisions</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_particles_collisions&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;allow costly collision detection on particles (sparks that bounce, particles not going through walls, blood hitting surfaces, etc)&quot;</span>};</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a701be3cd2aadea892eeb449051b65b14">  301</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a701be3cd2aadea892eeb449051b65b14">cl_particles_forcetraileffects</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;cl_particles_forcetraileffects&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;force trails to be displayed even if a non-trail draw primitive was used (debug/compat feature)&quot;</span>};</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">  302</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">cl_decals</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables decals (bullet holes, blood, etc)&quot;</span>};</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ae2befbc2b8c61982c21d6c4e0a5de840">  303</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#ae2befbc2b8c61982c21d6c4e0a5de840">cl_decals_time</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals_time&quot;</span>, <span class="stringliteral">&quot;20&quot;</span>, <span class="stringliteral">&quot;how long before decals start to fade away&quot;</span>};</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ac6b043c4bd646f46881474952abc49dd">  304</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#ac6b043c4bd646f46881474952abc49dd">cl_decals_fadetime</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals_fadetime&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;how long decals take to fade away&quot;</span>};</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#afb0047bbe764de7613514c483e498150">  305</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#afb0047bbe764de7613514c483e498150">cl_decals_newsystem_intensitymultiplier</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals_newsystem_intensitymultiplier&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>, <span class="stringliteral">&quot;boosts intensity of decals (because the distance fade can make them hard to see otherwise)&quot;</span>};</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a64d596558a59154f148ab2d80a995679">  306</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a64d596558a59154f148ab2d80a995679">cl_decals_newsystem_immediatebloodstain</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals_newsystem_immediatebloodstain&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>, <span class="stringliteral">&quot;0: no on-spawn blood stains; 1: on-spawn blood stains for pt_blood; 2: always use on-spawn blood stains&quot;</span>};</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a388f5f0a40d4c55e3f00aba1064eaa70">  307</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a388f5f0a40d4c55e3f00aba1064eaa70">cl_decals_newsystem_bloodsmears</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals_newsystem_bloodsmears&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enable use of particle velocity as decal projection direction rather than surface normal&quot;</span>};</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ab3fff586bfa3f4c8f241950f9360544f">  308</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#ab3fff586bfa3f4c8f241950f9360544f">cl_decals_models</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals_models&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;enables decals on animated models&quot;</span>};</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ac2fdf19e8e21ea865f3b5fa06859def2">  309</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#ac2fdf19e8e21ea865f3b5fa06859def2">cl_decals_bias</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals_bias&quot;</span>, <span class="stringliteral">&quot;0.125&quot;</span>, <span class="stringliteral">&quot;distance to bias decals from surface to prevent depth fighting&quot;</span>};</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#afedd3283f5e4c78e7bd9f2236e74c137">  310</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#afedd3283f5e4c78e7bd9f2236e74c137">cl_decals_max</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_decals_max&quot;</span>, <span class="stringliteral">&quot;4096&quot;</span>, <span class="stringliteral">&quot;maximum number of decals allowed to exist in the world at once&quot;</span>};</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="foldopen" id="foldopen00313" data-start="{" data-end="}">
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#acb72ba9b63a0f7a51cea2412211034b3">  313</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#acb72ba9b63a0f7a51cea2412211034b3">CL_Particles_ParseEffectInfo</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textstart</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textend</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename)</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>{</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">arrayindex</a>;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="keywordtype">int</span> argc;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <a class="code hl_struct" href="structparticleeffectinfo__t.html">particleeffectinfo_t</a> *info = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *text = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textstart</a>;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keywordtype">char</span> argv[16][1024];</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a> = 1;;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>++)</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        argc = 0;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">arrayindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">arrayindex</a> &lt; 16;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">arrayindex</a>++)</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">arrayindex</a>][0] = 0;</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;text, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;\n&quot;</span>))</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            <span class="keywordflow">if</span> (argc &lt; 16)</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(argv[argc], <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(argv[argc]));</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                argc++;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <span class="keywordflow">if</span> (argc &lt; 1)</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="preprocessor">#define checkparms(n) if (argc != (n)) {Con_Printf(&quot;%s:%i: error while parsing: %s given %i parameters, should be %i parameters\n&quot;, filename, linenumber, argv[0], argc, (n));break;}</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="preprocessor">#define readints(array, n) checkparms(n+1);for (arrayindex = 0;arrayindex &lt; argc - 1;arrayindex++) array[arrayindex] = strtol(argv[1+arrayindex], NULL, 0)</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="preprocessor">#define readfloats(array, n) checkparms(n+1);for (arrayindex = 0;arrayindex &lt; argc - 1;arrayindex++) array[arrayindex] = atof(argv[1+arrayindex])</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span><span class="preprocessor">#define readint(var) checkparms(2);var = strtol(argv[1], NULL, 0)</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="preprocessor">#define readfloat(var) checkparms(2);var = atof(argv[1])</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span><span class="preprocessor">#define readbool(var) checkparms(2);var = strtol(argv[1], NULL, 0) != 0</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;effect&quot;</span>))</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>            <span class="keywordtype">int</span> effectnameindex;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            <a class="code hl_define" href="cl__particles_8c.html#a12de8f42ac45747ad137721d2fc1a8b9">checkparms</a>(2);</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ae2e6d866cc78d79d44b157b344dd554c">numparticleeffectinfo</a> &gt;= <a class="code hl_define" href="qdefs_8h.html#a9ca7ae0a34d2a1044b3fe3f0d63113c3">MAX_PARTICLEEFFECTINFO</a>)</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            {</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s:%i: too many effects!\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>);</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            }</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            <span class="keywordflow">for</span> (effectnameindex = 1;effectnameindex &lt; <a class="code hl_define" href="qdefs_8h.html#ae9d5be258ba2175e6b2ad6e10da264f7">MAX_PARTICLEEFFECTNAME</a>;effectnameindex++)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[effectnameindex][0])</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[effectnameindex], argv[1]))</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[effectnameindex], argv[1], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[effectnameindex]));</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                }</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            }</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>            <span class="comment">// if we run out of names, abort</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>            <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_define" href="qdefs_8h.html#ae9d5be258ba2175e6b2ad6e10da264f7">MAX_PARTICLEEFFECTNAME</a>)</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>            {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s:%i: too many effects!\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>);</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>            <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__particles_8c.html#ae2e6d866cc78d79d44b157b344dd554c">numparticleeffectinfo</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>                info = <a class="code hl_variable" href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">particleeffectinfo</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>                <span class="keywordflow">if</span>(!(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a> &amp; <a class="code hl_define" href="cl__particles_8c.html#a5ec0af4271168c6de4f85b02e09ad990">PARTICLEEFFECT_DEFINED</a>))</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                    <span class="keywordflow">if</span>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a3f874dc382cf1d6ac0c6c91fc4267ff0">effectnameindex</a> == effectnameindex)</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            }</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__particles_8c.html#ae2e6d866cc78d79d44b157b344dd554c">numparticleeffectinfo</a>)</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            info = <a class="code hl_variable" href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">particleeffectinfo</a> + <a class="code hl_variable" href="cl__particles_8c.html#ae2e6d866cc78d79d44b157b344dd554c">numparticleeffectinfo</a>++;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>            <span class="comment">// copy entire info from baseline, then fix up the nameindex</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>            *info = <a class="code hl_variable" href="cl__particles_8c.html#a206e2f917471a002ac4a4c3016da3cfc">baselineparticleeffectinfo</a>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a3f874dc382cf1d6ac0c6c91fc4267ff0">effectnameindex</a> = effectnameindex;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        }</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>        {</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s:%i: command %s encountered before effect\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>, argv[0]);</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a> |= <a class="code hl_define" href="cl__particles_8c.html#a5ec0af4271168c6de4f85b02e09ad990">PARTICLEEFFECT_DEFINED</a>;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;countabsolute&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#af8bb1b2875e788b74e19f052eb930fab">countabsolute</a>);}</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;count&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a4993c48e65444b5ac4508d54d0fb6599">countmultiplier</a>);}</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;type&quot;</span>))</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>            <a class="code hl_define" href="cl__particles_8c.html#a12de8f42ac45747ad137721d2fc1a8b9">checkparms</a>(2);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;alphastatic&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;static&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;spark&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e">pt_spark</a>;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;beam&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a93fb2113abaab3759e9e09cd69e2fdac">pt_beam</a>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;rain&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799">pt_rain</a>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;raindecal&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ab2b777e7809322b06cfb43ec6624965a">pt_raindecal</a>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;snow&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412">pt_snow</a>;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;bubble&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8055054252829be9b925dc66c603e0c4">pt_bubble</a>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;blood&quot;</span>)) {info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>;info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae8bd46aaef107dc177c23aabcf0e0509">gravity</a> = 1;}</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;smoke&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;decal&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911afa9cac57bf3888984131735ec5d16e7b">pt_decal</a>;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;entityparticle&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911acc387488f76b18b6d7f75d0123d409ec">pt_entityparticle</a>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            <span class="keywordflow">else</span> <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s:%i: unrecognized particle type %s\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>, argv[1]);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>            info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">blendmode</a> = <a class="code hl_variable" href="cl__particles_8c.html#a42ed4f788e9a1fedee04ca881c9476fc">particletype</a>[info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a>].<a class="code hl_variable" href="structparticletype__t.html#af8bedd7dec1cd969a36e15822a5b66fe">blendmode</a>;</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>            info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a> = <a class="code hl_variable" href="cl__particles_8c.html#a42ed4f788e9a1fedee04ca881c9476fc">particletype</a>[info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a>].<a class="code hl_variable" href="structparticletype__t.html#a4470ecbaff80b2e0ddff259160e38960">orientation</a>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        }</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;blend&quot;</span>))</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        {</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>            <a class="code hl_define" href="cl__particles_8c.html#a12de8f42ac45747ad137721d2fc1a8b9">checkparms</a>(2);</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;alpha&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">blendmode</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;add&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">blendmode</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;invmod&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">blendmode</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>;</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            <span class="keywordflow">else</span> <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s:%i: unrecognized blendmode %s\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>, argv[1]);</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;orientation&quot;</span>))</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>        {</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>            <a class="code hl_define" href="cl__particles_8c.html#a12de8f42ac45747ad137721d2fc1a8b9">checkparms</a>(2);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;billboard&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;spark&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;oriented&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537acc85bfbc8695f63d7f46a696ab728de6">PARTICLE_ORIENTED_DOUBLESIDED</a>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[1], <span class="stringliteral">&quot;beam&quot;</span>)) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a> = <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>            <span class="keywordflow">else</span> <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s:%i: unrecognized orientation %s\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>, argv[1]);</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;color&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a0cc2a8470947657c318d07aa7972fce4">readints</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">color</a>, 2);}</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;tex&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a0cc2a8470947657c318d07aa7972fce4">readints</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>, 2);}</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;size&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>, 2);}</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;sizeincrease&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[2]);}</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;alpha&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>, 3);}</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;time&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aff7f5fa611902ba2ee7755a4e2d995f0">time</a>, 2);}</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;gravity&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae8bd46aaef107dc177c23aabcf0e0509">gravity</a>);}</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;bounce&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a12ba8b64d353c490d5bcb3099c3d2aa0">bounce</a>);}</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;airfriction&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a51097b90c9adf1646a4dbedf6d94db38">airfriction</a>);}</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;liquidfriction&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a5f75b128cc05f39a45cdebeb4187f329">liquidfriction</a>);}</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;originoffset&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#af009ed433f91d215bb71d0241fa3085f">originoffset</a>, 3);}</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;relativeoriginoffset&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>, 3);}</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;velocityoffset&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a823789423657ccc9e09ad22342b599b7">velocityoffset</a>, 3);}</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;relativevelocityoffset&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a7be668ed56be91f3954b9a682e1a3ed8">relativevelocityoffset</a>, 3);}</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;originjitter&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa93a89cff4ac71aba3757a881964f8a5">originjitter</a>, 3);}</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;velocityjitter&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a66af5c2081cda94d29f9faf9b819530e">velocityjitter</a>, 3);}</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;velocitymultiplier&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a88f8360c36fdd921e8e409cc50a922b5">velocitymultiplier</a>);}</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;lightradius&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a80327eef64b07ddb18a8b1bb84cea281">lightradiusstart</a>);}</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;lightradiusfade&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a849293a9b6a2032edd4cbc277e6a6404">lightradiusfade</a>);}</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;lighttime&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a08f5b9f37affe5878fc1eb4e8b108a55">lighttime</a>);}</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;lightcolor&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">lightcolor</a>, 3);}</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;lightshadow&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a6e6bc7d716df06ef1456a54bcccbd9fa">readbool</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a6afed7121363599eff8271b8656db94d">lightshadow</a>);}</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;lightcubemapnum&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a17065fd3b95f6664abc853dfcfe055fb">readint</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab587c095ebcf57b6e00f2bc6cafd375e">lightcubemapnum</a>);}</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;lightcorona&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a0cc2a8470947657c318d07aa7972fce4">readints</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac57e13aef82de822ad865a0bc67df668">lightcorona</a>, 2);}</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;underwater&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a12de8f42ac45747ad137721d2fc1a8b9">checkparms</a>(1);info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a> |= <a class="code hl_define" href="cl__particles_8c.html#a0bb10fca47b19015f9dbf8e019eb08bd">PARTICLEEFFECT_UNDERWATER</a>;}</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;notunderwater&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a12de8f42ac45747ad137721d2fc1a8b9">checkparms</a>(1);info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a> |= <a class="code hl_define" href="cl__particles_8c.html#a5f2ecf2e52bea0e7f6fc7ab749e063c1">PARTICLEEFFECT_NOTUNDERWATER</a>;}</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;trailspacing&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a8d22c205834444b138c19c7c4fcfa01e">trailspacing</a>);<span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a8d22c205834444b138c19c7c4fcfa01e">trailspacing</a> &gt; 0) info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a4993c48e65444b5ac4508d54d0fb6599">countmultiplier</a> = 1.0f / info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a8d22c205834444b138c19c7c4fcfa01e">trailspacing</a>;}</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;stretchfactor&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a7d2b7f3bc288d67895abd9451d9a3610">stretchfactor</a>);}</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;staincolor&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a0cc2a8470947657c318d07aa7972fce4">readints</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">staincolor</a>, 2);}</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;stainalpha&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">stainalpha</a>, 2);}</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;stainsize&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">stainsize</a>, 2);}</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;staintex&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a0cc2a8470947657c318d07aa7972fce4">readints</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">staintex</a>, 2);}</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;stainless&quot;</span>)) {info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">staintex</a>[0] = -2; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">staincolor</a>[0] = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)-1; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">staincolor</a>[1] = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)-1; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">stainalpha</a>[0] = 1; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">stainalpha</a>[1] = 1; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">stainsize</a>[0] = 2; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">stainsize</a>[1] = 2; }</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;rotate&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a2b4a796c8c5af5c36d003625a7fe1426">rotate</a>, 4);}</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;forcenearest&quot;</span>)) {<a class="code hl_define" href="cl__particles_8c.html#a12de8f42ac45747ad137721d2fc1a8b9">checkparms</a>(1);info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a> |= <a class="code hl_define" href="cl__particles_8c.html#adab65b80bb7a26dafdc494fe2cbf0115">PARTICLEEFFECT_FORCENEAREST</a>;}</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s:%i: skipping unknown command %s\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>, argv[0]);</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="preprocessor">#undef checkparms</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="preprocessor">#undef readints</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span><span class="preprocessor">#undef readfloats</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="preprocessor">#undef readint</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="preprocessor">#undef readfloat</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>}</div>
</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span> </div>
<div class="foldopen" id="foldopen00480" data-start="{" data-end="}">
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a464a2be6b9d12bf376957737b6de9e4b">  480</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="cl__particles_8c.html#a464a2be6b9d12bf376957737b6de9e4b">CL_ParticleEffectIndexForName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>)</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>{</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="qdefs_8h.html#ae9d5be258ba2175e6b2ad6e10da264f7">MAX_PARTICLEEFFECTNAME</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>))</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>}</div>
</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="foldopen" id="foldopen00489" data-start="{" data-end="}">
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a0f3cc59dbeea8225973afb4876e67de4">  489</a></span><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="cl__particles_8c.html#a0f3cc59dbeea8225973afb4876e67de4">CL_ParticleEffectNameForIndex</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>{</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">i &lt; 1 || i &gt;</a>= <a class="code hl_define" href="qdefs_8h.html#ae9d5be258ba2175e6b2ad6e10da264f7">MAX_PARTICLEEFFECTNAME</a>)</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>}</div>
</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span><span class="comment">// MUST match effectnameindex_t in client.h</span></div>
<div class="foldopen" id="foldopen00497" data-start="{" data-end="};">
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a9acdb104dcc99fe6dfcea002082c3fbf">  497</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="cl__particles_8c.html#a9acdb104dcc99fe6dfcea002082c3fbf">standardeffectnames</a>[<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40add69d9387d74c67c855fdd231294b1ef">EFFECT_TOTAL</a>] =</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>{</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <span class="stringliteral">&quot;TE_GUNSHOT&quot;</span>,</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="stringliteral">&quot;TE_GUNSHOTQUAD&quot;</span>,</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="stringliteral">&quot;TE_SPIKE&quot;</span>,</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="stringliteral">&quot;TE_SPIKEQUAD&quot;</span>,</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="stringliteral">&quot;TE_SUPERSPIKE&quot;</span>,</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="stringliteral">&quot;TE_SUPERSPIKEQUAD&quot;</span>,</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <span class="stringliteral">&quot;TE_WIZSPIKE&quot;</span>,</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    <span class="stringliteral">&quot;TE_KNIGHTSPIKE&quot;</span>,</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <span class="stringliteral">&quot;TE_EXPLOSION&quot;</span>,</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="stringliteral">&quot;TE_EXPLOSIONQUAD&quot;</span>,</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="stringliteral">&quot;TE_TAREXPLOSION&quot;</span>,</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="stringliteral">&quot;TE_TELEPORT&quot;</span>,</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <span class="stringliteral">&quot;TE_LAVASPLASH&quot;</span>,</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="stringliteral">&quot;TE_SMALLFLASH&quot;</span>,</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="stringliteral">&quot;TE_FLAMEJET&quot;</span>,</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <span class="stringliteral">&quot;EF_FLAME&quot;</span>,</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="stringliteral">&quot;TE_BLOOD&quot;</span>,</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="stringliteral">&quot;TE_SPARK&quot;</span>,</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="stringliteral">&quot;TE_PLASMABURN&quot;</span>,</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="stringliteral">&quot;TE_TEI_G3&quot;</span>,</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    <span class="stringliteral">&quot;TE_TEI_SMOKE&quot;</span>,</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="stringliteral">&quot;TE_TEI_BIGEXPLOSION&quot;</span>,</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <span class="stringliteral">&quot;TE_TEI_PLASMAHIT&quot;</span>,</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="stringliteral">&quot;EF_STARDUST&quot;</span>,</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <span class="stringliteral">&quot;TR_ROCKET&quot;</span>,</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <span class="stringliteral">&quot;TR_GRENADE&quot;</span>,</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="stringliteral">&quot;TR_BLOOD&quot;</span>,</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="stringliteral">&quot;TR_WIZSPIKE&quot;</span>,</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="stringliteral">&quot;TR_SLIGHTBLOOD&quot;</span>,</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="stringliteral">&quot;TR_KNIGHTSPIKE&quot;</span>,</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <span class="stringliteral">&quot;TR_VORESPIKE&quot;</span>,</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="stringliteral">&quot;TR_NEHAHRASMOKE&quot;</span>,</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="stringliteral">&quot;TR_NEXUIZPLASMA&quot;</span>,</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="stringliteral">&quot;TR_GLOWTRAIL&quot;</span>,</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <span class="stringliteral">&quot;SVC_PARTICLE&quot;</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>};</div>
</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span> </div>
<div class="foldopen" id="foldopen00537" data-start="{" data-end="}">
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a99c1009d6cbe23cfc1c5f7ea7fa5e8a2">  537</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a99c1009d6cbe23cfc1c5f7ea7fa5e8a2">CL_Particles_LoadEffectInfo</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">customfile</a>)</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>{</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepass</a>;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> filesize;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <span class="keywordtype">char</span> filename[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    <a class="code hl_variable" href="cl__particles_8c.html#ae2e6d866cc78d79d44b157b344dd554c">numparticleeffectinfo</a> = 0;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">particleeffectinfo</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">particleeffectinfo</a>));</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>));</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40add69d9387d74c67c855fdd231294b1ef">EFFECT_TOTAL</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="cl__particles_8c.html#a9acdb104dcc99fe6dfcea002082c3fbf">standardeffectnames</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]));</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepass</a> = 0;;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepass</a>++)</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    {</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepass</a> == 0)</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        {</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">customfile</a>)</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">customfile</a>, <span class="keyword">sizeof</span>(filename));</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(filename, <span class="stringliteral">&quot;effectinfo.txt&quot;</span>, <span class="keyword">sizeof</span>(filename));</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        }</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepass</a> == 1)</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a87c385ec63b2659ee06a8f61f9a93e45">worldbasename</a>[0] || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">customfile</a>)</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(filename, <span class="keyword">sizeof</span>(filename), <span class="stringliteral">&quot;%s_effectinfo.txt&quot;</span>, <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#af57ffbd05e98d81d460b2c1b18f46149">worldnamenoextension</a>);</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        }</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a> = <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(filename, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, &amp;filesize);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>)</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        <a class="code hl_function" href="cl__particles_8c.html#acb72ba9b63a0f7a51cea2412211034b3">CL_Particles_ParseEffectInfo</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a> + filesize, filename);</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>);</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    }</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>}</div>
</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="foldopen" id="foldopen00574" data-start="{" data-end="}">
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#af38b8249bcb4ac570de6f2de42d16c20">  574</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#af38b8249bcb4ac570de6f2de42d16c20">CL_Particles_LoadEffectInfo_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>{</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <a class="code hl_function" href="cl__particles_8c.html#a99c1009d6cbe23cfc1c5f7ea7fa5e8a2">CL_Particles_LoadEffectInfo</a>(<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &gt; 1 ? <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1) : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>}</div>
</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="comment">/*</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span><span class="comment">===============</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span><span class="comment">CL_InitParticles</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span><span class="comment">===============</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span><span class="comment">*/</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a0c8d93ac766d080cf6ef07bbc2cbd433">CL_ReadPointFile_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd);</div>
<div class="foldopen" id="foldopen00585" data-start="{" data-end="}">
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a2a7d399f6cf966d1f48088bebad11d45">  585</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a2a7d399f6cf966d1f48088bebad11d45">CL_Particles_Init</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>{</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;pointfile&quot;</span>, <a class="code hl_function" href="cl__particles_8c.html#a0c8d93ac766d080cf6ef07bbc2cbd433">CL_ReadPointFile_f</a>, <span class="stringliteral">&quot;display point file produced by qbsp when a leak was detected in the map (a line leading through the leak hole, to an entity inside the level)&quot;</span>);</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;cl_particles_reloadeffects&quot;</span>, <a class="code hl_function" href="cl__particles_8c.html#af38b8249bcb4ac570de6f2de42d16c20">CL_Particles_LoadEffectInfo_f</a>, <span class="stringliteral">&quot;reloads effectinfo.txt and maps/levelname_effectinfo.txt (where levelname is the current map) if parameter is given, loads from custom file (no levelname_effectinfo are loaded in this case)&quot;</span>);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span> </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>);</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a8cbbb124cddc70c3d6a7a02a64cfe5ea">cl_particles_alpha</a>);</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#aa9058d8d4143330f4e29f77fe68856e3">cl_particles_size</a>);</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>);</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a71ea864419a4c6f7c9bfe2c052e66bc0">cl_particles_blood</a>);</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a>);</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a17357c1b91df0434b8bb04c9b40c26e0">cl_particles_blood_decal_alpha</a>);</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a974ffa6f78d7b4f691c6d1a5ee282bbf">cl_particles_blood_decal_scalemin</a>);</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a953ec697f96f4c0c360bcc0a6f283ceb">cl_particles_blood_decal_scalemax</a>);</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a0f9b7dc0f4f694f8aa0ec8956d1e5269">cl_particles_blood_bloodhack</a>);</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a1d69e03549cee4b9c93f7ad4e010316a">cl_particles_explosions_sparks</a>);</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a632e148cdb17217f52dca376deb64cde">cl_particles_explosions_shell</a>);</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a>);</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a83262a4d573d41e73ec6b01ec60c56e8">cl_particles_rain</a>);</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a4c9ac7818ebd81603fa50c90f07e9f7c">cl_particles_snow</a>);</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>);</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a603f0ea8a650bc4de8e9db613517497c">cl_particles_smoke_alpha</a>);</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a897da50b8a6e1204614ccc92e7eea1a9">cl_particles_smoke_alphafade</a>);</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a30a311c23609ab922f2a8a64748f2b23">cl_particles_sparks</a>);</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#aff9b4bbfeabdbb5c6535d56219a74acd">cl_particles_bubbles</a>);</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a0c2b4bf6f2ce893e391067426fb2af39">cl_particles_visculling</a>);</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a9667beb77f4b7f14afb309d066c015bb">cl_particles_collisions</a>);</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a701be3cd2aadea892eeb449051b65b14">cl_particles_forcetraileffects</a>);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">cl_decals</a>);</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#ae2befbc2b8c61982c21d6c4e0a5de840">cl_decals_time</a>);</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#ac6b043c4bd646f46881474952abc49dd">cl_decals_fadetime</a>);</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#afb0047bbe764de7613514c483e498150">cl_decals_newsystem_intensitymultiplier</a>);</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a64d596558a59154f148ab2d80a995679">cl_decals_newsystem_immediatebloodstain</a>);</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#a388f5f0a40d4c55e3f00aba1064eaa70">cl_decals_newsystem_bloodsmears</a>);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#ab3fff586bfa3f4c8f241950f9360544f">cl_decals_models</a>);</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#ac2fdf19e8e21ea865f3b5fa06859def2">cl_decals_bias</a>);</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="cl__particles_8c.html#afedd3283f5e4c78e7bd9f2236e74c137">cl_decals_max</a>);</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>}</div>
</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span> </div>
<div class="foldopen" id="foldopen00625" data-start="{" data-end="}">
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a61d204299a4db9c0a0239f9e4b473c8c">  625</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a61d204299a4db9c0a0239f9e4b473c8c">CL_Particles_Shutdown</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>{</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>}</div>
</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a758794662c823b251decedee12b2467d">CL_SpawnDecalParticleForSurface</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, <span class="keywordtype">int</span> color1, <span class="keywordtype">int</span> color2, <span class="keywordtype">int</span> texnum, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxdist</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <span class="keywordtype">int</span> texnum, <span class="keywordtype">int</span> color1, <span class="keywordtype">int</span> color2);</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span><span class="comment">// list of all 26 parameters:</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span><span class="comment">// ptype - any of the pt_ enum values (pt_static, pt_blood, etc), see ptype_t near the top of this file</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span><span class="comment">// pcolor1,pcolor2 - minimum and maximum ranges of color, randomly interpolated to decide particle color</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span><span class="comment">// ptex - any of the tex_ values such as tex_smoke[rand()&amp;7] or tex_particle</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span><span class="comment">// psize - size of particle (or thickness for PARTICLE_SPARK and PARTICLE_*BEAM)</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span><span class="comment">// palpha - opacity of particle as 0-255 (can be more than 255)</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span><span class="comment">// palphafade - rate of fade per second (so 256 would mean a 256 alpha particle would fade to nothing in 1 second)</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span><span class="comment">// ptime - how long the particle can live (note it is also removed if alpha drops to nothing)</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span><span class="comment">// pgravity - how much effect gravity has on the particle (0-1)</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="comment">// pbounce - how much bounce the particle has when it hits a surface (0-1), -1 makes a blood splat when it hits a surface, 0 does not even check for collisions</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span><span class="comment">// px,py,pz - starting origin of particle</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span><span class="comment">// pvx,pvy,pvz - starting velocity of particle</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span><span class="comment">// pfriction - how much the particle slows down per second (0-1 typically, can slowdown faster than 1)</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span><span class="comment">// blendmode - one of the PBLEND_ values</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span><span class="comment">// orientation - one of the PARTICLE_ values</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span><span class="comment">// staincolor1, staincolor2: minimum and maximum ranges of stain color, randomly interpolated to decide stain color (-1 to use none)</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span><span class="comment">// staintex: any of the tex_ values such as tex_smoke[rand()&amp;7] or tex_particle (-1 to use none)</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span><span class="comment">// stainalpha: opacity of the stain as factor for alpha</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><span class="comment">// stainsize: size of the stain as factor for palpha</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><span class="comment">// angle: base rotation of the particle geometry around its center normal</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span><span class="comment">// spin: rotation speed of the particle geometry around its center normal</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span> </div>
<div class="foldopen" id="foldopen00659" data-start="{" data-end="}">
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">  659</a></span><a class="code hl_struct" href="structparticle__t.html">particle_t</a> *<a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> sortorigin,</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ptypeindex</a>,</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor1</a>,</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor2</a>,</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ptex</a>,</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">psize</a>,</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">psizeincrease</a>,</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palpha</a>,</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palphafade</a>,</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pgravity</a>,</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pbounce</a>,</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a>,</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a>,</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pz</a>,</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvx</a>,</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvy</a>,</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvz</a>,</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pairfriction</a>,</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pliquidfriction</a>,</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <span class="keywordtype">float</span> originjitter,</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <span class="keywordtype">float</span> velocityjitter,</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pqualityreduction</a>,</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="keywordtype">float</span> lifetime,</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <span class="keywordtype">float</span> stretch,</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <a class="code hl_enumeration" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462">pblend_t</a> blendmode,</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <a class="code hl_enumeration" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537">porientation_t</a> orientation,</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    <span class="keywordtype">int</span> staincolor1,</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <span class="keywordtype">int</span> staincolor2,</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="keywordtype">int</span> staintex,</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="keywordtype">float</span> stainalpha,</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <span class="keywordtype">float</span> stainsize,</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <span class="keywordtype">float</span> angle,</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    <span class="keywordtype">float</span> spin,</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>[4])</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>{</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <a class="code hl_struct" href="structparticle__t.html">particle_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>;</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <span class="keywordflow">for</span> (;<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a> &lt; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">max_particles</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a>[<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a>].<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a>;<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a>++);</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a> &gt;= <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">max_particles</a>)</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="keywordflow">if</span> (!lifetime)</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        lifetime = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palpha</a> / <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palphafade</a>);</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a> = &amp;<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a>[<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a>++];</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a> &lt; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a>)</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a> = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a>;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>, 0, <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>));</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(sortorigin, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;sortorigin);</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;typeindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ptypeindex</a>;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;blendmode = blendmode;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    <span class="keywordflow">if</span>(orientation == <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a> || orientation == <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537ac899b70e86b99ce399702f26a5aa2587">PARTICLE_VBEAM</a>)</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    {</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        <a class="code hl_struct" href="structparticletexture__t.html">particletexture_t</a> *tex = &amp;<a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ptex</a>];</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        <span class="keywordflow">if</span>(tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a> == 0 &amp;&amp; tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a> == 1) <span class="comment">// full height of texture?</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;orientation = <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537ac899b70e86b99ce399702f26a5aa2587">PARTICLE_VBEAM</a>;</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;orientation = <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    }</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;orientation = orientation;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0.5, 256.5);</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> = 256 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[0] = ((((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor1</a> &gt;&gt; 16) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor2</a> &gt;&gt; 16) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[1] = ((((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor1</a> &gt;&gt;  8) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor2</a> &gt;&gt;  8) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[2] = ((((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor1</a> &gt;&gt;  0) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor2</a> &gt;&gt;  0) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    {</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[0] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[0]) * 255.0f + 0.5f);</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[1] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[1]) * 255.0f + 0.5f);</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[2] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[2]) * 255.0f + 0.5f);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    }</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alpha = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palpha</a>;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alphafade = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palphafade</a>;</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staintexnum = staintex;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    <span class="keywordflow">if</span>(staincolor1 &gt;= 0 &amp;&amp; staincolor2 &gt;= 0)</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    {</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0.5, 256.5);</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> = 256 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>;</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keywordflow">if</span>(blendmode == <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>)</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = ((((staincolor1 &gt;&gt; 16) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((staincolor2 &gt;&gt; 16) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) * (255 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[0])) / 0x8000; <span class="comment">// staincolor 0x808080 keeps color invariant</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = ((((staincolor1 &gt;&gt;  8) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((staincolor2 &gt;&gt;  8) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) * (255 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[1])) / 0x8000;</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = ((((staincolor1 &gt;&gt;  0) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((staincolor2 &gt;&gt;  0) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) * (255 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[2])) / 0x8000;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        }</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        {</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = ((((staincolor1 &gt;&gt; 16) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((staincolor2 &gt;&gt; 16) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[0]) / 0x8000; <span class="comment">// staincolor 0x808080 keeps color invariant</span></div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = ((((staincolor1 &gt;&gt;  8) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((staincolor2 &gt;&gt;  8) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[1]) / 0x8000;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = ((((staincolor1 &gt;&gt;  0) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((staincolor2 &gt;&gt;  0) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[2]) / 0x8000;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>        }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> &gt; 0xFF) <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = 0xFF;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> &gt; 0xFF) <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = 0xFF;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &gt; 0xFF) <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = 0xFF;</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    }</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    {</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[0]; <span class="comment">// -1 is shorthand for stain = particle color</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[1];</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[2];</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    }</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staincolor[0] = <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>;</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staincolor[1] = <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staincolor[2] = <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;stainalpha = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palpha</a> * stainalpha;</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;stainsize = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">psize</a> * stainsize;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>)</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    {</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        <span class="keywordflow">if</span>(blendmode != <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>) <span class="comment">// invmod is immune to tinting</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>        {</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[0] *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>[0];</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[1] *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>[1];</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[2] *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>[2];</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alpha *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>[3];</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alphafade *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>[3];</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;stainalpha *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>[3];</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    }</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;texnum = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ptex</a>;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;size = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">psize</a>;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;sizeincrease = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">psizeincrease</a>;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;gravity = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pgravity</a>;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;bounce = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pbounce</a>;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;stretch = stretch;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <a class="code hl_define" href="mathlib_8h.html#a24ec9096b042003debd06be7e6425ff3">VectorRandom</a>(<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>);</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org[0] = <a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a> + originjitter * <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0];</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a> + originjitter * <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1];</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pz</a> + originjitter * <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2];</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;vel[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvx</a> + velocityjitter * <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0];</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;vel[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvy</a> + velocityjitter * <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1];</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;vel[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvz</a> + velocityjitter * <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2];</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;time2 = 0;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;airfriction = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pairfriction</a>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;liquidfriction = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pliquidfriction</a>;</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;die = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> + lifetime;</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;delayedspawn = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a>;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span><span class="comment">//  part-&gt;delayedcollisions = 0;</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;qualityreduction = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pqualityreduction</a>;</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;angle = angle;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;spin = spin;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    <span class="comment">// if it is rain or snow, trace ahead and shut off collisions until an actual collision event needs to occur to improve performance</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;typeindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799">pt_rain</a>)</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        <a class="code hl_struct" href="structparticle__t.html">particle_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a>;</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endvec</a>;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>        <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        <span class="comment">// turn raindrop into simple spark and create delayedspawn splash effect</span></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;typeindex = <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e">pt_spark</a>;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;bounce = 0;</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org, lifetime, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;vel, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endvec</a>);</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        trace = <a class="code hl_function" href="cl__collision_8c.html#a3844376c9cc74935d902373d216acc75">CL_TraceLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endvec</a>, <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>, 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;die = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> + lifetime * trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a>;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a> = <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endvec</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ab2b777e7809322b06cfb43ec6624965a">pt_raindecal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor2</a>, <a class="code hl_variable" href="cl__particles_8c.html#a9b8723c8c1e5da8afda8a0cf176c2bae">tex_rainsplash</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;size, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;size * 20, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alpha, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alpha / 0.4, 0, 0, trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>[0] + trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[0], trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>[1] + trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[1], trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>[2] + trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2], trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[0], trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[1], trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2], 0, 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pqualityreduction</a>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537acc85bfbc8695f63d7f46a696ab728de6">PARTICLE_ORIENTED_DOUBLESIDED</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a>)</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        {</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a>-&gt;delayedspawn = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;die;</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a>-&gt;die += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;die - <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a>;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>() &amp; 7;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 10;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>            {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a> = <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endvec</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e">pt_spark</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcolor2</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 0.25f, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alpha * 2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alpha * 4, 1, 0.1, trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>[0] + trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[0], trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>[1] + trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[1], trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>[2] + trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2], trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[0] * 16, trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[1] * 16, trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2] * 16 + <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a6872d1327283739a220a4021cbd066c7">movevars_gravity</a> * 0.04, 0, 0, 0, 32, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pqualityreduction</a>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a>)</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a>-&gt;delayedspawn = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;die;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part2</a>-&gt;die += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;die - <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a>;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>                }</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>            }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        }</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    }</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;bounce != 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;gravity == 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;typeindex != <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412">pt_snow</a>)</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        <span class="keywordtype">float</span> lifetime = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alpha / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alphafade ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alphafade : 1);</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endvec</a>;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org, lifetime, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;vel, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endvec</a>);</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>        trace = <a class="code hl_function" href="cl__collision_8c.html#a3844376c9cc74935d902373d216acc75">CL_TraceLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endvec</a>, <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;delayedcollisions = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> + lifetime * trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> - 0.1;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span> </div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>}</div>
</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span> </div>
<div class="foldopen" id="foldopen00845" data-start="{" data-end="}">
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a28138d0f32ea01a7405c575eb0a2591f">  845</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a28138d0f32ea01a7405c575eb0a2591f">CL_ImmediateBloodStain</a>(<a class="code hl_struct" href="structparticle__t.html">particle_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>)</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>{</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    <span class="keywordtype">int</span> staintex;</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span> </div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    <span class="comment">// blood creates a splash at spawn, not just at impact, this makes monsters bloody where they are shot</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staintexnum &gt;= 0 &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">cl_decals</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    {</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;vel, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>);</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>);</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        staintex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staintexnum;</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>        <a class="code hl_function" href="gl__rmain_8c.html#ac25f08cb533aea271af588c2ad704025">R_DecalSystem_SplatEntities</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, 1-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staincolor[0]*(1.0f/255.0f), 1-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staincolor[1]*(1.0f/255.0f), 1-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;staincolor[2]*(1.0f/255.0f), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;stainalpha*(1.0f/255.0f), <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[staintex].<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[staintex].<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[staintex].<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[staintex].<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;stainsize);</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    }</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span> </div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="comment">// blood creates a splash at spawn, not just at impact, this makes monsters bloody where they are shot</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;typeindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">cl_decals</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    {</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;vel, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>);</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>);</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        staintex = <a class="code hl_variable" href="cl__particles_8c.html#a8bd3eddeb4e3aa4a5f15a477b8f4acd9">tex_blooddecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7];</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        <a class="code hl_function" href="gl__rmain_8c.html#ac25f08cb533aea271af588c2ad704025">R_DecalSystem_SplatEntities</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;org, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[0]*(1.0f/255.0f), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[1]*(1.0f/255.0f), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;color[2]*(1.0f/255.0f), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;alpha*(1.0f/255.0f), <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[staintex].<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[staintex].<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[staintex].<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[staintex].<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>-&gt;size * 2);</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    }</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>}</div>
</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="foldopen" id="foldopen00869" data-start="{" data-end="}">
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a758794662c823b251decedee12b2467d">  869</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a758794662c823b251decedee12b2467d">CL_SpawnDecalParticleForSurface</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, <span class="keywordtype">int</span> color1, <span class="keywordtype">int</span> color2, <span class="keywordtype">int</span> texnum, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>)</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>{</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <a class="code hl_struct" href="structentity__render__t.html">entity_render_t</a> *ent = &amp;<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a8965100f2f1c821696a185f0b2fbc7d1">entities</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>].<a class="code hl_variable" href="structentity__t.html#af108a2a8b9134b2f76164ac1e9633e7b">render</a>;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[3];</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">cl_decals</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    <span class="keywordflow">if</span> (!ent-&gt;<a class="code hl_variable" href="structentity__render__t.html#a43a692d209d202112754c3db33f8382e">allowdecals</a>)</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span> </div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0.5, 256.5);</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> = 256 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[0] = ((((color1 &gt;&gt; 16) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((color2 &gt;&gt; 16) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[1] = ((((color1 &gt;&gt;  8) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((color2 &gt;&gt;  8) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[2] = ((((color1 &gt;&gt;  0) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l1</a> + ((color2 &gt;&gt;  0) &amp; 0xFF) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l2</a>) &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span> </div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        <a class="code hl_function" href="gl__rmain_8c.html#ac25f08cb533aea271af588c2ad704025">R_DecalSystem_SplatEntities</a>(org, <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, <a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[0]), <a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[1]), <a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[2]), <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>*(1.0f/255.0f), <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[texnum].s1, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[texnum].t1, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[texnum].s2, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[texnum].t2, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        <a class="code hl_function" href="gl__rmain_8c.html#ac25f08cb533aea271af588c2ad704025">R_DecalSystem_SplatEntities</a>(org, <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[0]*(1.0f/255.0f), <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[1]*(1.0f/255.0f), <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[2]*(1.0f/255.0f), <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>*(1.0f/255.0f), <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[texnum].s1, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[texnum].t1, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[texnum].s2, <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[texnum].t2, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>}</div>
</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span> </div>
<div class="foldopen" id="foldopen00891" data-start="{" data-end="}">
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">  891</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxdist</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <span class="keywordtype">int</span> texnum, <span class="keywordtype">int</span> color1, <span class="keywordtype">int</span> color2)</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>{</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfrac</a>;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestorg</a>;</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestnormal</a>;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">besthitent</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfrac</a> = 10;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 32;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    {</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        <a class="code hl_define" href="mathlib_8h.html#a24ec9096b042003debd06be7e6425ff3">VectorRandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>);</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxdist</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        trace = <a class="code hl_function" href="cl__collision_8c.html#a3844376c9cc74935d902373d216acc75">CL_TraceLine</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>, <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a0a2fa78587a49f238efd2b5067e66361">SUPERCONTENTS_SKY</a>, 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        <span class="comment">// take the closest trace result that doesn&#39;t end up hitting a NOMARKS</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        <span class="comment">// surface (sky for example)</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfrac</a> &gt; trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> &amp;&amp; !(trace.<a class="code hl_variable" href="structtrace__t.html#a3de5026fb5e0e13c11701ab40ad0db13">hitq3surfaceflags</a> &amp; <a class="code hl_define" href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a>))</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        {</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfrac</a> = trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a>;</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">besthitent</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>;</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestorg</a>);</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestnormal</a>);</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>        }</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    }</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfrac</a> &lt; 1)</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>        <a class="code hl_function" href="cl__particles_8c.html#a758794662c823b251decedee12b2467d">CL_SpawnDecalParticleForSurface</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">besthitent</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestorg</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestnormal</a>, color1, color2, texnum, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>}</div>
</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span> </div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span><span class="comment">// generates a cubemap name with prefix flags based on info flags (for now only `!`)</span></div>
<div class="foldopen" id="foldopen00921" data-start="{" data-end="}">
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a1d8f7a8c247f8f3643bab06fcffd5cf4">  921</a></span><span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="cl__particles_8c.html#a1d8f7a8c247f8f3643bab06fcffd5cf4">LightCubemapNumToName</a>(<span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vasize</a>, <span class="keywordtype">int</span> lightcubemapnum, <span class="keywordtype">int</span> flags)</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>{</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    <span class="keywordflow">if</span> (lightcubemapnum &lt;= 0)</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    <span class="comment">// `!` is prepended if the cubemap must be nearest-filtered</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="cl__particles_8c.html#adab65b80bb7a26dafdc494fe2cbf0115">PARTICLEEFFECT_FORCENEAREST</a>)</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vasize</a>, <span class="stringliteral">&quot;!cubemaps/%i&quot;</span>, lightcubemapnum);</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vasize</a>, <span class="stringliteral">&quot;cubemaps/%i&quot;</span>, lightcubemapnum);</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>}</div>
</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span> </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sparkcount</a>);</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smokecount</a>);</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<span class="keywordtype">int</span> effectnameindex, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_struct" href="structentity__t.html">entity_t</a> *ent, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>[4], <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmaxs</a>[4], <span class="keywordtype">float</span> fade, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="foldopen" id="foldopen00934" data-start="{" data-end="}">
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ab5f65e2ec980dbdac6a713c1cd7fc2e4">  934</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#ab5f65e2ec980dbdac6a713c1cd7fc2e4">CL_ParticleEffect_Fallback</a>(<span class="keywordtype">int</span> effectnameindex, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_struct" href="structentity__t.html">entity_t</a> *ent, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>)</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>{</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> center;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>;</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <a class="code hl_struct" href="structparticle__t.html">particle_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>;</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span> </div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, 0.5, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, center);</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    <a class="code hl_function" href="matrixlib_8c.html#a5bd9dc17773c5e84269f7a32f56251a1">Matrix4x4_CreateTranslate</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, center[0], center[1], center[2]);</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>)</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    {</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>        {</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>            <span class="comment">// bloodhack checks if this effect&#39;s color matches regular or lightning blood and if so spawns a blood effect instead</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> == 1024)</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>                <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a33344fc407ff6bbadc7861c85382510a">EFFECT_TE_EXPLOSION</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a0f9b7dc0f4f694f8aa0ec8956d1e5269">cl_particles_blood_bloodhack</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a> == 73 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a> == 225))</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>                <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a7a9bd625220de1e391ced2c581042cc3">EFFECT_TE_BLOOD</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> / 2.0f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>            {</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> *= <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>                <span class="keywordflow">for</span> (;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; 0;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>--)</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>                {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a> &amp; ~7) + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7)];</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5, 0, 255, 0, 0.15, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 0, 0, 8, 3, <span class="keyword">true</span>, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0.1, 0.4), 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                }</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            }</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>        }</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    }</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a0314d56401f76a2bf50b13e2847f4577">EFFECT_TE_WIZSPIKE</a>)</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>        <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 30*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 20, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a7871716eb05365ef7f7ac04fc946254f">EFFECT_TE_KNIGHTSPIKE</a>)</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>        <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 20*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 226, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40af73ae025f219289b8f1bd33ee435e484">EFFECT_TE_SPIKE</a>)</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    {</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>        {</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>            {</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>                    <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 10*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>            }</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>            {</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>                <a class="code hl_function" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 4*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>                <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 15*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x808080,0x808080, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 3, 0, 256, 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>            }</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>        }</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>        <span class="comment">// bullet hole</span></div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(center, 16, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>        <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(center, 6, 3, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    }</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a2ad547f1bc9327f42bba34936d91fe8f">EFFECT_TE_SPIKEQUAD</a>)</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    {</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>        {</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>            {</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>                    <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 10*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>            }</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>            {</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>                <a class="code hl_function" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 4*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>                <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 15*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x808080,0x808080, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 3, 0, 256, 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>            }</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>        }</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        <span class="comment">// bullet hole</span></div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(center, 16, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(center, 6, 3, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 100, 0.15f, 0.15f, 1.5f, 500, 0.2, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 1, 0, 0, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    }</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aa6bddf2eb01aeddbaa8e409eee5df54e">EFFECT_TE_SUPERSPIKE</a>)</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>    {</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>        {</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>            {</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>                    <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 20*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>            }</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>            {</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                <a class="code hl_function" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 8*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 30*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x808080,0x808080, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 3, 0, 256, 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>            }</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>        }</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        <span class="comment">// bullet hole</span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>        <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(center, 16, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>        <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(center, 6, 3, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>    }</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a29a85e691bc6f0895fc47e47a5065825">EFFECT_TE_SUPERSPIKEQUAD</a>)</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>    {</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>        {</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>            {</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>                    <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 20*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>            }</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>            {</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>                <a class="code hl_function" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 8*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>                <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 30*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x808080,0x808080, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 3, 0, 256, 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>            }</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>        }</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>        <span class="comment">// bullet hole</span></div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>        <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(center, 16, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>        <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(center, 6, 3, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 100, 0.15f, 0.15f, 1.5f, 500, 0.2, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 1, 0, 0, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>    }</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a7a9bd625220de1e391ced2c581042cc3">EFFECT_TE_BLOOD</a>)</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    {</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a71ea864419a4c6f7c9bfe2c052e66bc0">cl_particles_blood</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>            <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 2*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 73, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>        {</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>            <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bloodaccumulator</a> = 0;</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>            <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">immediatebloodstain</a> = (<a class="code hl_variable" href="cl__particles_8c.html#a64d596558a59154f148ab2d80a995679">cl_decals_newsystem_immediatebloodstain</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt;= 1);</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>            <span class="comment">//CL_NewParticle(center, pt_alphastatic, 0x4f0000,0x7f0000, tex_particle, 2.5, 0, 256, 256, 0, 0, lhrandom(originmins[0], originmaxs[0]), lhrandom(originmins[1], originmaxs[1]), lhrandom(originmins[2], originmaxs[2]), 0, 0, 0, 1, 4, 0, 0, true, 0, 1, PBLEND_ALPHA, PARTICLE_BILLBOARD, NULL);</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bloodaccumulator</a> += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * 0.333 * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>            <span class="keywordflow">for</span> (;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bloodaccumulator</a> &gt; 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bloodaccumulator</a>--)</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>            {</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a> = <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>, 0xFFFFFF, 0xFFFFFF, <a class="code hl_variable" href="cl__particles_8c.html#a9a75d40a03ce7cbc8030371cd8f8cbe0">tex_bloodparticle</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 8, 0, <a class="code hl_variable" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * 768, <a class="code hl_variable" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * 384, 1, -1, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 1, 4, 0, 64, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">immediatebloodstain</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>)</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>                {</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">immediatebloodstain</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>                    <a class="code hl_function" href="cl__particles_8c.html#a28138d0f32ea01a7405c575eb0a2591f">CL_ImmediateBloodStain</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>);</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>                }</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            }</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>        }</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    }</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a2adf138162620c2ae824984c53e585b6">EFFECT_TE_SPARK</a>)</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>        <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a46aadcb46bf5ef9403efb591a2889795">EFFECT_TE_PLASMABURN</a>)</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>    {</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>        <span class="comment">// plasma scorch mark</span></div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>        <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(center, 40, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>        <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(center, 6, 6, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 200, 1, 1, 1, 1000, 0.2, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 1, 0, 0, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    }</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a3bb16bf687087a4b3b6b754a30f07735">EFFECT_TE_GUNSHOT</a>)</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    {</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>        {</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>                <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 20*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>            {</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>                <a class="code hl_function" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 4*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>                <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 20*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x808080,0x808080, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 3, 0, 256, 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>            }</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>        }</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>        <span class="comment">// bullet hole</span></div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(center, 16, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(center, 6, 3, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    }</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a306e6e1f116b1ad43d2fb11f14f46a88">EFFECT_TE_GUNSHOTQUAD</a>)</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    {</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>        {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>                <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, 20*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>            {</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>                <a class="code hl_function" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 4*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>                <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, 20*<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x808080,0x808080, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 3, 0, 256, 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            }</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        }</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>        <span class="comment">// bullet hole</span></div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>        <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(center, 16, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>        <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(center, 6, 3, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 100, 0.15f, 0.15f, 1.5f, 500, 0.2, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 1, 0, 0, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>    }</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a33344fc407ff6bbadc7861c85382510a">EFFECT_TE_EXPLOSION</a>)</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>    {</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>        <a class="code hl_function" href="cl__particles_8c.html#a81554b0a87175c4d2023705190f523b7">CL_ParticleExplosion</a>(center);</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 350, 4.0f, 2.0f, 0.50f, 700, 0.5, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 0.25, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    }</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a30fb34a455fc8754df54b3ca518ac2cb">EFFECT_TE_EXPLOSIONQUAD</a>)</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>    {</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>        <a class="code hl_function" href="cl__particles_8c.html#a81554b0a87175c4d2023705190f523b7">CL_ParticleExplosion</a>(center);</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 350, 2.5f, 2.0f, 4.0f, 700, 0.5, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 0.25, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    }</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a489a4d61f33ab35f0b3d0b0a578e1035">EFFECT_TE_TAREXPLOSION</a>)</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>    {</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>        {</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 1024 * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>            {</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 1)</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[66], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[71], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, center[0], center[1], center[2], 0, 0, 0, -4, -4, 16, 256, <span class="keyword">true</span>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>() &amp; 1) ? 1.4 : 1.0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[150], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[155], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, center[0], center[1], center[2], 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(-256, 256), 0, 0, 16, 0, <span class="keyword">true</span>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>() &amp; 1) ? 1.4 : 1.0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>            }</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>        }</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>            <a class="code hl_function" href="cl__particles_8c.html#a81554b0a87175c4d2023705190f523b7">CL_ParticleExplosion</a>(center);</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 600, 1.6f, 0.8f, 2.0f, 1200, 0.5, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 0.25, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>    }</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a75f9a2bd0ed42dfbf5c48cfb03ca6776">EFFECT_TE_SMALLFLASH</a>)</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 200, 2, 2, 2, 1000, 0.2, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 0.25, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a1d8d678aa135493eda1a202ac14ee9f4">EFFECT_TE_FLAMEJET</a>)</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    {</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> *= <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>-- &gt; 0)</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>, 0x6f0f00, 0xe3974f, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 4, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(64, 128), 384, -1, 1.1, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 1, 4, 0, 128, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    }</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a5e56ae1843e1a28e52912df37ac1fbe9">EFFECT_TE_LAVASPLASH</a>)</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>    {</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>, vel;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, org;</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span> </div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a> = 8 / <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = -128;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 128;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>)</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        {</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = -128;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 128;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>)</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>            {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>);</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>);</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2] = 256;</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>                org[0] = center[0] + <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0];</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>                org[1] = center[1] + <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1];</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>                org[2] = center[2] + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, 64);</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>                vel = <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(50, 120) / <a class="code hl_define" href="mathlib_8h.html#a56e5c6bf818028304d48fb1b9ca6f53a">VectorLength</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>); <span class="comment">// normalize and scale</span></div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[224], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[231], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0.05, 0, org[0], org[1], org[2], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0] * vel, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1] * vel, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2] * vel, 0, 0, 0, 0, <span class="keyword">true</span>, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(2, 2.62), 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>            }</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        }</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    }</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a6cdded205669bb8f01cb4b277fac9f44">EFFECT_TE_TELEPORT</a>)</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    {</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>, vel;</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span> </div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a> = 4 / <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a> = 8 / <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = -16;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>)</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>        {</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = -16;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 16;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>)</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>            {</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = -24;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 32;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>)</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>                {</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>                    <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*8, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*8, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>*8);</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                    <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>);</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>                    vel = <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(50, 113);</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[7], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[14], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, center[0] + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>), center[1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>), center[2] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>), <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0] * vel, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1] * vel, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2] * vel, 0, 0, 0, 0, <span class="keyword">true</span>, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0.2, 0.34), 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[7], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[14], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a> * <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(37, 63), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a> * 187, 0, 0, center[0] + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>), center[1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>), center[2] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inc</a>), <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0] * vel, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1] * vel, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2] * vel, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>                }</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>            }</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        }</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0xffffff, 0xffffff, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 30, 0, 256, 512, 0, 0, center[0], center[1], center[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">false</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 200, 2.0f, 2.0f, 2.0f, 400, 99.0f, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 1, 0, 0, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>    }</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aab269faf64053619738520641ed75fd8">EFFECT_TE_TEI_G3</a>)</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a93fb2113abaab3759e9e09cd69e2fdac">pt_beam</a>, 0xFFFFFF, 0xFFFFFF, <a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>, 8, 0, 256, 256, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2], 0, 0, 0, 0, <span class="keyword">false</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a0d62d1d98c6ba42a946f9546f4e95ee5">EFFECT_TE_TEI_SMOKE</a>)</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>    {</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        {</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> *= 0.25f * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>            <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>-- &gt; 0)</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>, 0x202020, 0x404040, <a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 5, 0, 255, 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 0, 0, 1.5f, 6.0f, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>        }</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    }</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aedbe24abb3dc57f97ac5b13844604da6">EFFECT_TE_TEI_BIGEXPLOSION</a>)</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>    {</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>        <a class="code hl_function" href="cl__particles_8c.html#a81554b0a87175c4d2023705190f523b7">CL_ParticleExplosion</a>(center);</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 500, 2.5f, 2.0f, 1.0f, 500, 9999, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 0.5, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    }</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a94ab4410731c85d281455474e6d34336">EFFECT_TE_TEI_PLASMAHIT</a>)</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    {</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(center, 40, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(center, 6, 8, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = 0;<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> += 4.0f / <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>, 0x202020, 0x404040, <a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 5, 0, 255, 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 0, 0, 20, 155, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a30a311c23609ab922f2a8a64748f2b23">cl_particles_sparks</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = 0;<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> += 1.0f / <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e">pt_spark</a>, 0x2030FF, 0x80C0FF, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 2.0f, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(64, 255), 512, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 0, 0, 0, 465, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 500, 0.6f, 1.2f, 2.0f, 2000, 9999, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 0.25, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>    }</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a5ce83621d3712574c87213f56cec7c35">EFFECT_EF_FLAME</a>)</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>    {</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>)</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = 0;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> *= 300 * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>-- &gt; 0)</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>, 0x6f0f00, 0xe3974f, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 4, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(64, 128), 384, -1, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 1, 4, 16, 128, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 200, 2.0f, 1.5f, 0.5f, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 0.25, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    }</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a17d49fccaeebe238de7cab2f8f8da7e3">EFFECT_EF_STARDUST</a>)</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    {</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>)</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = 0;</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> *= 200 * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>-- &gt; 0)</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x903010, 0xFFD030, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 4, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(64, 128), 128, 1, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 0.2, 0.8, 16, 128, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmatrix</a>, 200, 1.0f, 0.7f, 0.3f, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, -1, <span class="keyword">true</span>, 1, 0.25, 0.25, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    }</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[effectnameindex], <span class="stringliteral">&quot;TR_&quot;</span>, 3))</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    {</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, pos;</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>        <span class="keywordtype">float</span> len, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qd</a>;</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smoke</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blood</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bubbles</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnedcount</a>;</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span> </div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a> &amp;&amp; <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a70c98b67362e4471a15cebd4ff411449">MAX_DLIGHTS</a>)</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>        {</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>            <a class="code hl_typedef" href="qtypes_8h.html#aa69f191c29d82fe1bfd8327cab6ef7b6">vec4_t</a> light;</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>            <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(light, 0, 0, 0, 0);</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span> </div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>            <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a36bd5118499254a4f3a3f3a7893be704">EFFECT_TR_ROCKET</a>)</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>                <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(light, 3.0f, 1.5f, 0.5f, 200);</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a45ce79bdd30de77aab030542913e8b37">EFFECT_TR_VORESPIKE</a>)</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>            {</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eada1a9ea8f4831f74773821ce29276730">GAME_PRYDON</a> &amp;&amp; !<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>                    <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(light, 0.3f, 0.6f, 1.2f, 100);</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>                    <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(light, 1.2f, 0.5f, 1.0f, 200);</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>            }</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aa3cce44561930ad47e229ab046ad07b9">EFFECT_TR_NEXUIZPLASMA</a>)</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>                <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(light, 0.75f, 1.5f, 3.0f, 200);</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>            <span class="keywordflow">if</span> (light[3])</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>            {</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>                <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traillightmatrix</a>;</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>                <a class="code hl_function" href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traillightmatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2], 0, 0, 0, light[3]);</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>                <a class="code hl_function" href="r__shadow_8c.html#a808b4850191116867f66c1e6fb2ced6a">R_RTLight_Update</a>(&amp;<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#ae7fe6da979d07418652cc0e9002cc674">templights</a>[<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a>], <span class="keyword">false</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traillightmatrix</a>, light, -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>, 1, 0.25, 0, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>                <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#aec6438e3812387c92681237d33bfe46f">lights</a>[<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a>] = &amp;<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#ae7fe6da979d07418652cc0e9002cc674">templights</a>[<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a>];<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a>++;</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>            }</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>        }</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span> </div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>)</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span> </div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0] &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1] &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2])</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span> </div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>        <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>);</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>        len = <a class="code hl_function" href="mathlib_8c.html#aa0f8c2537c1cf8bd8c418b1a9a854de5">VectorNormalizeLength</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>);</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span> </div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>        <span class="keywordflow">if</span> (ent)</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>        {</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = -ent-&gt;<a class="code hl_variable" href="structentity__t.html#a569e946354a3bc2c73c5510a54d13f25">persistent</a>.<a class="code hl_variable" href="structentity__persistent__t.html#a0b45f3d232b460b9859ffaf8c0bf205b">trail_time</a>;</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>            ent-&gt;<a class="code hl_variable" href="structentity__t.html#a569e946354a3bc2c73c5510a54d13f25">persistent</a>.<a class="code hl_variable" href="structentity__persistent__t.html#a0b45f3d232b460b9859ffaf8c0bf205b">trail_time</a> += len;</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>            <span class="keywordflow">if</span> (ent-&gt;<a class="code hl_variable" href="structentity__t.html#a569e946354a3bc2c73c5510a54d13f25">persistent</a>.<a class="code hl_variable" href="structentity__persistent__t.html#a0b45f3d232b460b9859ffaf8c0bf205b">trail_time</a> &lt; 0.01f)</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span> </div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>            <span class="comment">// if we skip out, leave it reset</span></div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>            ent-&gt;<a class="code hl_variable" href="structentity__t.html#a569e946354a3bc2c73c5510a54d13f25">persistent</a>.<a class="code hl_variable" href="structentity__persistent__t.html#a0b45f3d232b460b9859ffaf8c0bf205b">trail_time</a> = 0.0f;</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>        }</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 0;</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span> </div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>        <span class="comment">// advance into this frame to reach the first puff location</span></div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, pos);</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>        len -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a>;</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span> </div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smoke</a> = <a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blood</a> = <a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a71ea864419a4c6f7c9bfe2c052e66bc0">cl_particles_blood</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bubbles</a> = <a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#aff9b4bbfeabdbb5c6535d56219a74acd">cl_particles_bubbles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; (<a class="code hl_define" href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a>(pos) &amp; (<a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a> | <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>));</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qd</a> = 1.0f / <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnedcount</a> = 0;</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span> </div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>        <span class="keywordflow">while</span> (len &gt;= 0 &amp;&amp; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnedcount</a> &lt;= 16384)</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>        {</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 3;</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blood</a>)</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>            {</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>                <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a4b6415a9d9622d8193069af0e7145454">EFFECT_TR_BLOOD</a>)</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>                {</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>                    {</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[67 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;3)];</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0.25, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 3, 0, <span class="keyword">true</span>, 2, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>                    }</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>                    {</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 16;</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>, 0xFFFFFF, 0xFFFFFF, <a class="code hl_variable" href="cl__particles_8c.html#a9a75d40a03ce7cbc8030371cd8f8cbe0">tex_bloodparticle</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 8, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qd</a> * <a class="code hl_variable" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * 768.0f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qd</a> * <a class="code hl_variable" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * 384.0f, 1, -1, pos[0], pos[1], pos[2], <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 1, 4, 0, 64, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>                    }</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>                }</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a2535530a7b7d374409212a5afce9251c">EFFECT_TR_SLIGHTBLOOD</a>)</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>                {</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>                    {</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 6;</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[67 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;3)];</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0.25, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 3, 0, <span class="keyword">true</span>, 2, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>                    }</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>                    {</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 32;</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>, 0xFFFFFF, 0xFFFFFF, <a class="code hl_variable" href="cl__particles_8c.html#a9a75d40a03ce7cbc8030371cd8f8cbe0">tex_bloodparticle</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 8, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qd</a> * <a class="code hl_variable" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * 768.0f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qd</a> * <a class="code hl_variable" href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * 384.0f, 1, -1, pos[0], pos[1], pos[2], <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 1, 4, 0, 64, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>                    }</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>                }</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>            }</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smoke</a>)</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>            {</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>                <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a36bd5118499254a4f3a3f3a7893be704">EFFECT_TR_ROCKET</a>)</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>                {</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>                    {</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;3;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="cl__particles_8c.html#a8d63f2a26568b6252957c4ce7682d245">ramp3</a>[<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>]];</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, -0.10, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 3, 0, <span class="keyword">true</span>, 0.1372549*(6-<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>), 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                    }</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                    {</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>, 0x303030, 0x606060, <a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 3, 0, <a class="code hl_variable" href="cl__particles_8c.html#a603f0ea8a650bc4de8e9db613517497c">cl_particles_smoke_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>*62, <a class="code hl_variable" href="cl__particles_8c.html#a897da50b8a6e1204614ccc92e7eea1a9">cl_particles_smoke_alphafade</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>*62, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x801010, 0xFFA020, <a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 3, 0, <a class="code hl_variable" href="cl__particles_8c.html#a603f0ea8a650bc4de8e9db613517497c">cl_particles_smoke_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>*288, <a class="code hl_variable" href="cl__particles_8c.html#a897da50b8a6e1204614ccc92e7eea1a9">cl_particles_smoke_alphafade</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>*1400, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 20, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>                    }</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>                }</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a45cff674786234bbe3c2980c792825ab">EFFECT_TR_GRENADE</a>)</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                {</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>                    {</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = 2 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()%4);</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="cl__particles_8c.html#a8d63f2a26568b6252957c4ce7682d245">ramp3</a>[<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>]];</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, -0.15, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 3, 0, <span class="keyword">true</span>, 0.1372549*(6-<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>), 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>                    }</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>                    {</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>, 0x303030, 0x606060, <a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 3, 0, <a class="code hl_variable" href="cl__particles_8c.html#a603f0ea8a650bc4de8e9db613517497c">cl_particles_smoke_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>*50, <a class="code hl_variable" href="cl__particles_8c.html#a897da50b8a6e1204614ccc92e7eea1a9">cl_particles_smoke_alphafade</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>*75, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>                    }</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>                }</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a2d2549d57ca68df1c9a95f8cbdd7dd0f">EFFECT_TR_WIZSPIKE</a>)</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>                {</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>                    {</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 6;</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[52 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7)];</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, pos[0], pos[1], pos[2], 30*<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], 30*-<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0.5, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, pos[0], pos[1], pos[2], 30*-<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], 30*<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0.5, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>                    }</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea9ff29eb530ba096bbefc70d68e4c5cda">GAME_GOODVSBAD2</a>)</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>                    {</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 6;</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x00002E, 0x000030, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 6, 0, 128, 384, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>                    }</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>                    {</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[20 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7)];</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 2, 0, 64, 192, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>                    }</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>                }</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40abff81304d32ba70adf3c1baa2f37172a">EFFECT_TR_KNIGHTSPIKE</a>)</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>                {</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>                    {</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 6;</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[230 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7)];</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, pos[0], pos[1], pos[2], 30*<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], 30*-<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0.5, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, pos[0], pos[1], pos[2], 30*-<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], 30*<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0.5, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>                    }</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>                    {</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[226 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7)];</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 2, 0, 64, 192, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>                    }</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>                }</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a45ce79bdd30de77aab030542913e8b37">EFFECT_TR_VORESPIKE</a>)</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>                {</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>                    {</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[152 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;3)];</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 8, 0, <span class="keyword">true</span>, 0.3, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>                    }</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea9ff29eb530ba096bbefc70d68e4c5cda">GAME_GOODVSBAD2</a>)</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>                    {</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 6;</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[0 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;255)], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[0 + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;255)], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 6, 0, 255, 384, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>                    }</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eada1a9ea8f4831f74773821ce29276730">GAME_PRYDON</a>)</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>                    {</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 6;</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x103040, 0x204050, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 6, 0, 64, 192, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>                    }</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>                        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x502030, 0x502030, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 3, 0, 64, 192, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>                }</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a368b36c6ef0867809473507c4cedfd9c">EFFECT_TR_NEHAHRASMOKE</a>)</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>                {</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 7;</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, 0x303030, 0x606060, <a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 7, 0, 64, 320, 0, 0, pos[0], pos[1], pos[2], 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(4, 12), 0, 0, 0, 4, <span class="keyword">false</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>                }</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aa3cce44561930ad47e229ab046ad07b9">EFFECT_TR_NEXUIZPLASMA</a>)</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>                {</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> = 4;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>, 0x283880, 0x283880, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 4, 0, 255, 1024, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 16, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>                }</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a071948fdb2a0d7157be6290cf837aa79">EFFECT_TR_GLOWTRAIL</a>)</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 5, 0, 128, 320, 0, 0, pos[0], pos[1], pos[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>            }</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bubbles</a>)</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>            {</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>                <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a36bd5118499254a4f3a3f3a7893be704">EFFECT_TR_ROCKET</a>)</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8055054252829be9b925dc66c603e0c4">pt_bubble</a>, 0x404040, 0x808080, <a class="code hl_variable" href="cl__particles_8c.html#a4f9f6ffcf2fbb15f8842bcc7e3f34bcd">tex_bubble</a>, 2, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(128, 512), 512, -0.25, 1.5, pos[0], pos[1], pos[2], 0, 0, 0, 0.0625, 0.25, 0, 16, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effectnameindex == <a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a45cff674786234bbe3c2980c792825ab">EFFECT_TR_GRENADE</a>)</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8055054252829be9b925dc66c603e0c4">pt_bubble</a>, 0x404040, 0x808080, <a class="code hl_variable" href="cl__particles_8c.html#a4f9f6ffcf2fbb15f8842bcc7e3f34bcd">tex_bubble</a>, 2, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(128, 512), 512, -0.25, 1.5, pos[0], pos[1], pos[2], 0, 0, 0, 0.0625, 0.25, 0, 16, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>            }</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>            <span class="comment">// advance to next time and position</span></div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a> *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qd</a>;</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>            len -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a>;</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a> (pos, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dec</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, pos);</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>        }</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>        <span class="keywordflow">if</span> (ent)</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>            ent-&gt;<a class="code hl_variable" href="structentity__t.html#a569e946354a3bc2c73c5510a54d13f25">persistent</a>.<a class="code hl_variable" href="structentity__persistent__t.html#a0b45f3d232b460b9859ffaf8c0bf205b">trail_time</a> = len;</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>    }</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;CL_ParticleEffect_Fallback: no fallback found for effect %s\n&quot;</span>, <a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[effectnameindex]);</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>}</div>
</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span> </div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span><span class="comment">// this is also called on point effects with spawndlight = true and</span></div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span><span class="comment">// spawnparticles = true</span></div>
<div class="foldopen" id="foldopen01462" data-start="{" data-end="}">
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d"> 1462</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(<span class="keywordtype">int</span> effectnameindex, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_struct" href="structentity__t.html">entity_t</a> *ent, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>[4], <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmaxs</a>[4], <span class="keywordtype">float</span> fade, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>)</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>{</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">found</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">effectnameindex &lt; 1 || effectnameindex &gt;</a>= <a class="code hl_define" href="qdefs_8h.html#ae9d5be258ba2175e6b2ad6e10da264f7">MAX_PARTICLEEFFECTNAME</a> || !<a class="code hl_variable" href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a>[effectnameindex][0])</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    {</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Unknown effect number %i received from server\n&quot;</span>, effectnameindex);</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>        <span class="keywordflow">return</span>; <span class="comment">// no such effect</span></div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>    }</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">particleeffectinfo</a>[0].<a class="code hl_variable" href="structparticleeffectinfo__t.html#a3f874dc382cf1d6ac0c6c91fc4267ff0">effectnameindex</a>)</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    {</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">effectinfoindex</a>;</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        <span class="keywordtype">int</span> supercontents;</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>        <span class="keywordtype">int</span> tex, staintex;</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>        <a class="code hl_struct" href="structparticleeffectinfo__t.html">particleeffectinfo_t</a> *info;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> center;</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traildir</a>;</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>;</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>;</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> angles;</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> velocity;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>;</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>;</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>        <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traillen</a>;</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>        <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailstep</a>;</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>        <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="snd__mix_8c.html#acc952dc59e78d20fbc6a338b8ab2416f">underwater</a>;</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>        <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">immediatebloodstain</a>;</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>        <a class="code hl_struct" href="structparticle__t.html">particle_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>;</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[4], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>[4], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintlerp</a>;</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>        <span class="comment">// note this runs multiple effects with the same name, each one spawns only one kind of particle, so some effects need more than one</span></div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>        <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, 0.5, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, center);</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>        supercontents = <a class="code hl_define" href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a>(center);</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>        <a class="code hl_variable" href="snd__mix_8c.html#acc952dc59e78d20fbc6a338b8ab2416f">underwater</a> = (supercontents &amp; (<a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a> | <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>)) != 0;</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>        <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traildir</a>);</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traillen</a> = <a class="code hl_define" href="mathlib_8h.html#a56e5c6bf818028304d48fb1b9ca6f53a">VectorLength</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traildir</a>);</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traildir</a>);</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>)</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        {</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>            <a class="code hl_define" href="mathlib_8h.html#a9e3eab0e06468024db75638d749ba016">Vector4Lerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>, 0.5, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>);</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        }</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>        {</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>            <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>, 1, 1, 1, 1);</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>        }</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">effectinfoindex</a> = 0, info = <a class="code hl_variable" href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">particleeffectinfo</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">effectinfoindex</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a9ca7ae0a34d2a1044b3fe3f0d63113c3">MAX_PARTICLEEFFECTINFO</a> &amp;&amp; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a3f874dc382cf1d6ac0c6c91fc4267ff0">effectnameindex</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">effectinfoindex</a>++, info++)</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>        {</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>            <span class="keywordflow">if</span> ((info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a3f874dc382cf1d6ac0c6c91fc4267ff0">effectnameindex</a> == effectnameindex) &amp;&amp; (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a> &amp; <a class="code hl_define" href="cl__particles_8c.html#a5ec0af4271168c6de4f85b02e09ad990">PARTICLEEFFECT_DEFINED</a>))</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>            {</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>                <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">definedastrail</a> = info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a8d22c205834444b138c19c7c4fcfa01e">trailspacing</a> &gt; 0;</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span> </div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>                <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>;</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a701be3cd2aadea892eeb449051b65b14">cl_particles_forcetraileffects</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">definedastrail</a>;</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span> </div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">found</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>                <span class="keywordflow">if</span> ((info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a> &amp; <a class="code hl_define" href="cl__particles_8c.html#a0bb10fca47b19015f9dbf8e019eb08bd">PARTICLEEFFECT_UNDERWATER</a>) &amp;&amp; !<a class="code hl_variable" href="snd__mix_8c.html#acc952dc59e78d20fbc6a338b8ab2416f">underwater</a>)</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>                <span class="keywordflow">if</span> ((info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a> &amp; <a class="code hl_define" href="cl__particles_8c.html#a5f2ecf2e52bea0e7f6fc7ab749e063c1">PARTICLEEFFECT_NOTUNDERWATER</a>) &amp;&amp; <a class="code hl_variable" href="snd__mix_8c.html#acc952dc59e78d20fbc6a338b8ab2416f">underwater</a>)</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span> </div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>                <span class="comment">// spawn a dlight if requested</span></div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>                <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a80327eef64b07ddb18a8b1bb84cea281">lightradiusstart</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>)</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>                {</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>                    <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempmatrix</a>;</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a>)</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>                        <a class="code hl_function" href="matrixlib_8c.html#a5bd9dc17773c5e84269f7a32f56251a1">Matrix4x4_CreateTranslate</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempmatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]);</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>                        <a class="code hl_function" href="matrixlib_8c.html#a5bd9dc17773c5e84269f7a32f56251a1">Matrix4x4_CreateTranslate</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempmatrix</a>, center[0], center[1], center[2]);</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>                    <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a08f5b9f37affe5878fc1eb4e8b108a55">lighttime</a> &gt; 0 &amp;&amp; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a849293a9b6a2032edd4cbc277e6a6404">lightradiusfade</a> &gt; 0)</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>                    {</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>                        <span class="comment">// light flash (explosion, etc)</span></div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>                        <span class="comment">// called when effect starts</span></div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>                        <a class="code hl_function" href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempmatrix</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a80327eef64b07ddb18a8b1bb84cea281">lightradiusstart</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">lightcolor</a>[0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[3], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">lightcolor</a>[1]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[1]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[3], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">lightcolor</a>[2]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[2]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[3], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a849293a9b6a2032edd4cbc277e6a6404">lightradiusfade</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a08f5b9f37affe5878fc1eb4e8b108a55">lighttime</a>, <a class="code hl_function" href="cl__particles_8c.html#a1d8f7a8c247f8f3643bab06fcffd5cf4">LightCubemapNumToName</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab587c095ebcf57b6e00f2bc6cafd375e">lightcubemapnum</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a>), -1, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a6afed7121363599eff8271b8656db94d">lightshadow</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac57e13aef82de822ad865a0bc67df668">lightcorona</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac57e13aef82de822ad865a0bc67df668">lightcorona</a>[1], 0, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>                    }</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a70c98b67362e4471a15cebd4ff411449">MAX_DLIGHTS</a>)</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>                    {</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>                        <span class="comment">// glowing entity</span></div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>                        <span class="comment">// called by CL_LinkNetworkEntity</span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>                        <a class="code hl_function" href="matrixlib_8c.html#af65cf0cf8374d8107db25a439fbd2d94">Matrix4x4_Scale</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempmatrix</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a80327eef64b07ddb18a8b1bb84cea281">lightradiusstart</a>, 1);</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[0] = info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">lightcolor</a>[0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[3];</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[1] = info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">lightcolor</a>[1]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[1]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[3];</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[2] = info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">lightcolor</a>[2]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[2]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[3];</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>                        <a class="code hl_function" href="r__shadow_8c.html#a808b4850191116867f66c1e6fb2ced6a">R_RTLight_Update</a>(&amp;<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#ae7fe6da979d07418652cc0e9002cc674">templights</a>[<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a>], <span class="keyword">false</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempmatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>, -1, <a class="code hl_function" href="cl__particles_8c.html#a1d8f7a8c247f8f3643bab06fcffd5cf4">LightCubemapNumToName</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab587c095ebcf57b6e00f2bc6cafd375e">lightcubemapnum</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">flags</a>), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a6afed7121363599eff8271b8656db94d">lightshadow</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac57e13aef82de822ad865a0bc67df668">lightcorona</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac57e13aef82de822ad865a0bc67df668">lightcorona</a>[1], 0, 1, 1, <a class="code hl_define" href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a> | <a class="code hl_define" href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a>);</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>                        <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#aec6438e3812387c92681237d33bfe46f">lights</a>[<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a>] = &amp;<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#ae7fe6da979d07418652cc0e9002cc674">templights</a>[<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a>];<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">numlights</a>++;</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>                    }</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>                }</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span> </div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>)</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span> </div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>                <span class="comment">// spawn particles</span></div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>                tex = info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[0];</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>                <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[1] &gt; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[0])</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>                {</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>                    tex = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[1]);</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>                    tex = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(tex, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[1] - 1);</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>                }</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>                <span class="keywordflow">if</span>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">staintex</a>[0] &lt; 0)</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>                    staintex = info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">staintex</a>[0];</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>                {</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>                    staintex = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">staintex</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">staintex</a>[1]);</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>                    staintex = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(staintex, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">staintex</a>[1] - 1);</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>                }</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>                <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911afa9cac57bf3888984131735ec5d16e7b">pt_decal</a>)</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>                {</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>                    <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, 0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, velocity);</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>                    <a class="code hl_function" href="mathlib_8c.html#a50e17db42d20e147704148d0a03032bf">AnglesFromVectors</a>(angles, velocity, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>                    <a class="code hl_function" href="mathlib_8c.html#abcfd2eb08af2296b6ea28caf16717a09">AngleVectors</a>(angles, <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>                    <a class="code hl_define" href="mathlib_8h.html#a162e6aa9729332fbb112ac5f0d73a269">VectorMAMAMAM</a>(1.0f, center, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[0], <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[1], <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[2], <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>);</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span> </div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>                    <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa93a89cff4ac71aba3757a881964f8a5">originjitter</a>[0], <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>[1])*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a>[3], tex, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">color</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">color</a>[1]);</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>                }</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>)</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>                {</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a>)</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span> </div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>                    <a class="code hl_function" href="mathlib_8c.html#a50e17db42d20e147704148d0a03032bf">AnglesFromVectors</a>(angles, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traildir</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>                    <a class="code hl_function" href="mathlib_8c.html#abcfd2eb08af2296b6ea28caf16717a09">AngleVectors</a>(angles, <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>                    <a class="code hl_define" href="mathlib_8h.html#ae1750e92bc66a810d950430fc42d925b">VectorMAMAM</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[0], <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[1], <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[2], <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>);</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span> </div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">color</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">color</a>[1], tex, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[1]), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[2], <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>[1]), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>[2], 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2], 0, 0, 0, 0, <span class="keyword">false</span>, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aff7f5fa611902ba2ee7755a4e2d995f0">time</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aff7f5fa611902ba2ee7755a4e2d995f0">time</a>[1]), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a7d2b7f3bc288d67895abd9451d9a3610">stretchfactor</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">blendmode</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">staincolor</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">staincolor</a>[1], staintex, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">stainalpha</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">stainalpha</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">stainsize</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">stainsize</a>[1]), 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avgtint</a> : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>                }</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>                {</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>                    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cnt</a>;</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>                    <span class="keywordflow">switch</span> (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a>)</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>                    {</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>: <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">continue</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e">pt_spark</a>: <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a30a311c23609ab922f2a8a64748f2b23">cl_particles_sparks</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">continue</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8055054252829be9b925dc66c603e0c4">pt_bubble</a>: <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#aff9b4bbfeabdbb5c6535d56219a74acd">cl_particles_bubbles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">continue</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>: <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a71ea864419a4c6f7c9bfe2c052e66bc0">cl_particles_blood</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">continue</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799">pt_rain</a>: <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a83262a4d573d41e73ec6b01ec60c56e8">cl_particles_rain</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">continue</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412">pt_snow</a>: <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a4c9ac7818ebd81603fa50c90f07e9f7c">cl_particles_snow</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">continue</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>                    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>                    }</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span> </div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cnt</a> = info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#af8bb1b2875e788b74e19f052eb930fab">countabsolute</a>;</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cnt</a> += (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a> * info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a4993c48e65444b5ac4508d54d0fb6599">countmultiplier</a>) * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>                    <span class="comment">// if drawastrail is not set, we will</span></div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>                    <span class="comment">// use the regular cnt-based random</span></div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>                    <span class="comment">// particle spawning at the center; so</span></div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>                    <span class="comment">// do NOT apply trailspacing then!</span></div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">definedastrail</a>)</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cnt</a> += (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traillen</a> / info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a8d22c205834444b138c19c7c4fcfa01e">trailspacing</a>) * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cnt</a> *= fade;</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cnt</a> == 0)</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>                        <span class="keywordflow">continue</span>;  <span class="comment">// nothing to draw</span></div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>                    info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a6992d63794d88fa623c20462b9ab2213">particleaccumulator</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cnt</a>;</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span> </div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">definedastrail</a>)</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">immediatebloodstain</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">immediatebloodstain</a> =</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>                            ((<a class="code hl_variable" href="cl__particles_8c.html#a64d596558a59154f148ab2d80a995679">cl_decals_newsystem_immediatebloodstain</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt;= 1) &amp;&amp; (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>))</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>                            ||</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>                            ((<a class="code hl_variable" href="cl__particles_8c.html#a64d596558a59154f148ab2d80a995679">cl_decals_newsystem_immediatebloodstain</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt;= 2) &amp;&amp; staintex);</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span> </div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a>)</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>                    {</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>                        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>);</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailstep</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traillen</a> / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cnt</a>;</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>                    }</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>                    {</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>                        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(center, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>);</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailstep</a> = 0;</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>                    }</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span> </div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailstep</a> == 0)</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>                    {</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>                        <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, 0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, velocity);</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>                        <a class="code hl_function" href="mathlib_8c.html#a50e17db42d20e147704148d0a03032bf">AnglesFromVectors</a>(angles, velocity, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>                    }</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>                        <a class="code hl_function" href="mathlib_8c.html#a50e17db42d20e147704148d0a03032bf">AnglesFromVectors</a>(angles, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traildir</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span> </div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>                    <a class="code hl_function" href="mathlib_8c.html#abcfd2eb08af2296b6ea28caf16717a09">AngleVectors</a>(angles, <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>                    <a class="code hl_define" href="mathlib_8h.html#a162e6aa9729332fbb112ac5f0d73a269">VectorMAMAMAM</a>(1.0f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[0], <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[1], <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">relativeoriginoffset</a>[2], <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>);</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>                    <a class="code hl_define" href="mathlib_8h.html#ae1750e92bc66a810d950430fc42d925b">VectorMAMAM</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a7be668ed56be91f3954b9a682e1a3ed8">relativevelocityoffset</a>[0], <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a7be668ed56be91f3954b9a682e1a3ed8">relativevelocityoffset</a>[1], <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a7be668ed56be91f3954b9a682e1a3ed8">relativevelocityoffset</a>[2], <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>, velocity);</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>                    info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a6992d63794d88fa623c20462b9ab2213">particleaccumulator</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a6992d63794d88fa623c20462b9ab2213">particleaccumulator</a>, 16384);</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>                    <span class="keywordflow">for</span> (;info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a6992d63794d88fa623c20462b9ab2213">particleaccumulator</a> &gt;= 1;info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a6992d63794d88fa623c20462b9ab2213">particleaccumulator</a>--)</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>                    {</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>                        <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[1] &gt; info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[0])</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>                        {</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>                            tex = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[1]);</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>                            tex = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(tex, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">tex</a>[1] - 1);</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>                        }</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>                        <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawastrail</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">definedastrail</a>))</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>                        {</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]);</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]);</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]);</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>                        }</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>)</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>                        {</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintlerp</a> = <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, 1);</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>                            <a class="code hl_define" href="mathlib_8h.html#a9e3eab0e06468024db75638d749ba016">Vector4Lerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintlerp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a>);</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>                        }</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>                        <a class="code hl_define" href="mathlib_8h.html#a24ec9096b042003debd06be7e6425ff3">VectorRandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>);</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a> = <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particletype</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">color</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">color</a>[1], tex, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[1]), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">size</a>[2], <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>[1]), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">alpha</a>[2], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#ae8bd46aaef107dc177c23aabcf0e0509">gravity</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a12ba8b64d353c490d5bcb3099c3d2aa0">bounce</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[0] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#af009ed433f91d215bb71d0241fa3085f">originoffset</a>[0] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa93a89cff4ac71aba3757a881964f8a5">originjitter</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[1] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#af009ed433f91d215bb71d0241fa3085f">originoffset</a>[1] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa93a89cff4ac71aba3757a881964f8a5">originjitter</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>[2] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#af009ed433f91d215bb71d0241fa3085f">originoffset</a>[2] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa93a89cff4ac71aba3757a881964f8a5">originjitter</a>[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[2], <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]) * info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a88f8360c36fdd921e8e409cc50a922b5">velocitymultiplier</a> + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a823789423657ccc9e09ad22342b599b7">velocityoffset</a>[0] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a66af5c2081cda94d29f9faf9b819530e">velocityjitter</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[0] + velocity[0], <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]) * info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a88f8360c36fdd921e8e409cc50a922b5">velocitymultiplier</a> + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a823789423657ccc9e09ad22342b599b7">velocityoffset</a>[1] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a66af5c2081cda94d29f9faf9b819530e">velocityjitter</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[1] + velocity[1], <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]) * info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a88f8360c36fdd921e8e409cc50a922b5">velocitymultiplier</a> + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a823789423657ccc9e09ad22342b599b7">velocityoffset</a>[2] + info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a66af5c2081cda94d29f9faf9b819530e">velocityjitter</a>[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rvec</a>[2] + velocity[2], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a51097b90c9adf1646a4dbedf6d94db38">airfriction</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a5f75b128cc05f39a45cdebeb4187f329">liquidfriction</a>, 0, 0, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#af8bb1b2875e788b74e19f052eb930fab">countabsolute</a> &lt;= 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aff7f5fa611902ba2ee7755a4e2d995f0">time</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aff7f5fa611902ba2ee7755a4e2d995f0">time</a>[1]), info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a7d2b7f3bc288d67895abd9451d9a3610">stretchfactor</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">blendmode</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">orientation</a>, info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">staincolor</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">staincolor</a>[1], staintex, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">stainalpha</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">stainalpha</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">stainsize</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">stainsize</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a2b4a796c8c5af5c36d003625a7fe1426">rotate</a>[0], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a2b4a796c8c5af5c36d003625a7fe1426">rotate</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a2b4a796c8c5af5c36d003625a7fe1426">rotate</a>[2], info-&gt;<a class="code hl_variable" href="structparticleeffectinfo__t.html#a2b4a796c8c5af5c36d003625a7fe1426">rotate</a>[3]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tint</a> : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">immediatebloodstain</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>)</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>                        {</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">immediatebloodstain</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>                            <a class="code hl_function" href="cl__particles_8c.html#a28138d0f32ea01a7405c575eb0a2591f">CL_ImmediateBloodStain</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">part</a>);</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>                        }</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailstep</a>)</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>                            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailstep</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traildir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trailpos</a>);</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>                    }</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>                }</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>            }</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>        }</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>    }</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">found</a>)</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>        <a class="code hl_function" href="cl__particles_8c.html#ab5f65e2ec980dbdac6a713c1cd7fc2e4">CL_ParticleEffect_Fallback</a>(effectnameindex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wanttrail</a>);</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>}</div>
</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span> </div>
<div class="foldopen" id="foldopen01683" data-start="{" data-end="}">
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a1118bc3a4040530d1ef0f43ad4e61ff0"> 1683</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a1118bc3a4040530d1ef0f43ad4e61ff0">CL_ParticleTrail</a>(<span class="keywordtype">int</span> effectnameindex, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_struct" href="structentity__t.html">entity_t</a> *ent, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>[4], <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmaxs</a>[4], <span class="keywordtype">float</span> fade)</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>{</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>    <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(effectnameindex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmaxs</a>, fade, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>}</div>
</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span> </div>
<div class="foldopen" id="foldopen01688" data-start="{" data-end="}">
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a8dac8a7bb2e62c2ddd6712c7e242ae7f"> 1688</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a8dac8a7bb2e62c2ddd6712c7e242ae7f">CL_ParticleBox</a>(<span class="keywordtype">int</span> effectnameindex, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_struct" href="structentity__t.html">entity_t</a> *ent, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>[4], <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmaxs</a>[4], <span class="keywordtype">float</span> fade)</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>{</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>    <a class="code hl_function" href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a>(effectnameindex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawndlight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spawnparticles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tintmaxs</a>, fade, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>}</div>
</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span> </div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span><span class="comment">// note: this one ONLY does boxes!</span></div>
<div class="foldopen" id="foldopen01694" data-start="{" data-end="}">
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a16fed15808e5743d5e8c36915eb80452"> 1694</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a16fed15808e5743d5e8c36915eb80452">CL_ParticleEffect</a>(<span class="keywordtype">int</span> effectnameindex, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <a class="code hl_struct" href="structentity__t.html">entity_t</a> *ent, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>)</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>{</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>    <a class="code hl_function" href="cl__particles_8c.html#a8dac8a7bb2e62c2ddd6712c7e242ae7f">CL_ParticleBox</a>(effectnameindex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pcount</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palettecolor</a>, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1);</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>}</div>
</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span> </div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span><span class="comment">/*</span></div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span><span class="comment">===============</span></div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span><span class="comment">CL_EntityParticles</span></div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span><span class="comment">===============</span></div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01704" data-start="{" data-end="}">
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#aa2fda4bead2985d6564131ed415b1fcd"> 1704</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#aa2fda4bead2985d6564131ed415b1fcd">CL_EntityParticles</a> (<span class="keyword">const</span> <a class="code hl_struct" href="structentity__t.html">entity_t</a> *ent)</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>{</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> pitch, yaw, dist = 64, beamlength = 16;</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    <span class="keyword">static</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avelocities</a>[<a class="code hl_define" href="mathlib_8h.html#ab0cc0535afa5fe9b893d7864c03b2305">NUMVERTEXNORMALS</a>];</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> &lt;= <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a0ca3495498339be31b8b2bc65d5ffbf3">oldtime</a>) <span class="keywordflow">return</span>; <span class="comment">// don&#39;t spawn new entity particles while paused</span></div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span> </div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <a class="code hl_function" href="matrixlib_8c.html#afa5873e4026ae22dd9e6aa9177930ef0">Matrix4x4_OriginFromMatrix</a>(&amp;ent-&gt;<a class="code hl_variable" href="structentity__t.html#af108a2a8b9134b2f76164ac1e9633e7b">render</a>.<a class="code hl_variable" href="structentity__render__t.html#a35e44e80da95a4aad81a3fcec2aa3fab">matrix</a>, org);</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span> </div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avelocities</a>[0][0])</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="mathlib_8h.html#ab0cc0535afa5fe9b893d7864c03b2305">NUMVERTEXNORMALS</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avelocities</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, 2.55);</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span> </div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="mathlib_8h.html#ab0cc0535afa5fe9b893d7864c03b2305">NUMVERTEXNORMALS</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>    {</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>        yaw = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avelocities</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>        pitch = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">avelocities</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1];</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = org[0] + <a class="code hl_variable" href="mathlib_8c.html#a767938da864dbc4d3170bf470f5fcdba">m_bytenormals</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] * dist + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cos</a>(pitch)*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cos</a>(yaw)) * beamlength;</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = org[1] + <a class="code hl_variable" href="mathlib_8c.html#a767938da864dbc4d3170bf470f5fcdba">m_bytenormals</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] * dist + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cos</a>(pitch)*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sin</a>(yaw)) * beamlength;</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = org[2] + <a class="code hl_variable" href="mathlib_8c.html#a767938da864dbc4d3170bf470f5fcdba">m_bytenormals</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] * dist + (-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sin</a>(pitch)) * beamlength;</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911acc387488f76b18b6d7f75d0123d409ec">pt_entityparticle</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[0x6f], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[0x6f], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1, 0, 255, 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    }</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>}</div>
</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span> </div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span> </div>
<div class="foldopen" id="foldopen01732" data-start="{" data-end="}">
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a0c8d93ac766d080cf6ef07bbc2cbd433"> 1732</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a0c8d93ac766d080cf6ef07bbc2cbd433">CL_ReadPointFile_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>{</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>    <span class="keywordtype">double</span> org[3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leakorg</a>[3];</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>;</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, c, s;</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfile</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a>, *t, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tchar</a>;</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span> </div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a8ab19b0b9d4e96dc0220d846226e4283">worldmodel</a>)</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span> </div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="stringliteral">&quot;%s.pts&quot;</span>, <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#af57ffbd05e98d81d460b2c1b18f46149">worldnamenoextension</a>);</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfile</a> = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfile</a>)</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>    {</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Could not open %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>    }</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span> </div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Reading %s...\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leakorg</a>);</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>    c = 0;</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>    s = 0;</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfile</a>;</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <span class="keywordflow">while</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a>)</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>    {</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>        <span class="keywordflow">while</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a> == <span class="charliteral">&#39;\n&#39;</span> || *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a> == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a>++;</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>        <span class="keywordflow">if</span> (!*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a>)</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>        t = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a>;</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>        <span class="keywordflow">while</span> (*t &amp;&amp; *t != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; *t != <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>            t++;</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tchar</a> = *t;</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>        *t = 0;</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span><span class="preprocessor">#if _MSC_VER &gt;= 1400</span></div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span><span class="preprocessor">#define sscanf sscanf_s</span></div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sscanf</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a>,<span class="stringliteral">&quot;%lf %lf %lf&quot;</span>, &amp;org[0], &amp;org[1], &amp;org[2]);</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>);</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        *t = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tchar</a>;</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfilepos</a> = t;</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> != 3)</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        <span class="keywordflow">if</span> (c == 0)</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leakorg</a>);</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>        c++;</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span> </div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a> &lt; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">max_particles</a> - 3)</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>        {</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>            s++;</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[(-c)&amp;15], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[(-c)&amp;15], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 2, 0, 255, 0, 0, 0, org[0], org[1], org[2], 0, 0, 0, 0, 0, 0, 0, <span class="keyword">true</span>, 1&lt;&lt;30, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        }</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>    }</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointfile</a>);</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leakorg</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>);</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%i points read (%i particles spawned)\nLeak at %f %f %f\n&quot;</span>, c, s, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leakorg</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leakorg</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leakorg</a>[2]);</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span> </div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>    <span class="keywordflow">if</span> (c == 0)</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    {</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>    }</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span> </div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a93fb2113abaab3759e9e09cd69e2fdac">pt_beam</a>, 0xFF0000, 0xFF0000, <a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>, 64, 0, 255, 0, 0, 0, org[0] - 4096, org[1], org[2], org[0] + 4096, org[1], org[2], 0, 0, 0, 0, <span class="keyword">false</span>, 1&lt;&lt;30, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a93fb2113abaab3759e9e09cd69e2fdac">pt_beam</a>, 0x00FF00, 0x00FF00, <a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>, 64, 0, 255, 0, 0, 0, org[0], org[1] - 4096, org[2], org[0], org[1] + 4096, org[2], 0, 0, 0, 0, <span class="keyword">false</span>, 1&lt;&lt;30, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a93fb2113abaab3759e9e09cd69e2fdac">pt_beam</a>, 0x0000FF, 0x0000FF, <a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>, 64, 0, 255, 0, 0, 0, org[0], org[1], org[2] - 4096, org[0], org[1], org[2] + 4096, 0, 0, 0, 0, <span class="keyword">false</span>, 1&lt;&lt;30, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>}</div>
</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span> </div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span><span class="comment">/*</span></div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span><span class="comment">===============</span></div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span><span class="comment">CL_ParseParticleEffect</span></div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span><span class="comment"></span> </div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span><span class="comment">Parse an effect out of the server message</span></div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span><span class="comment">===============</span></div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01807" data-start="{" data-end="}">
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a9e8c4d6c6de33e7868a7ea10cf153272"> 1807</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a9e8c4d6c6de33e7868a7ea10cf153272">CL_ParseParticleEffect</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>{</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>;</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">msgcount</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>;</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span> </div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    <a class="code hl_function" href="com__msg_8c.html#a223e14655e300422dbc0bb1d5640199d">MSG_ReadVector</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, org, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a>);</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;3 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="common_8h.html#a1995eda38dd0e56614c0b8e66bfd9417">MSG_ReadChar</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>) * (1.0 / 16.0);</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">msgcount</a> = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span> </div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">msgcount</a> == 255)</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = 1024;</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">msgcount</a>;</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span> </div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>    <a class="code hl_function" href="cl__particles_8c.html#a16fed15808e5743d5e8c36915eb80452">CL_ParticleEffect</a>(<a class="code hl_enumvalue" href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, org, org, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>);</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>}</div>
</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span> </div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span><span class="comment">/*</span></div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span><span class="comment">===============</span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span><span class="comment">CL_ParticleExplosion</span></div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span><span class="comment"></span> </div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span><span class="comment">===============</span></div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01832" data-start="{" data-end="}">
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a81554b0a87175c4d2023705190f523b7"> 1832</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a81554b0a87175c4d2023705190f523b7">CL_ParticleExplosion</a> (<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org)</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>{</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>    <span class="comment">//vec3_t v;</span></div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>    <span class="comment">//vec3_t v2;</span></div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>    <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(org, 96, 40, 40, 40, 64, 88, 88, 88, 64);</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>    <a class="code hl_function" href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a>(org, 40, 48, 255, <a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 0xFFFFFF, 0xFFFFFF);</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span> </div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>    {</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 1024;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>        {</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>;</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;3;</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 1)</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>            {</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="cl__particles_8c.html#a2840792247461e58e93656953d42d57c">ramp1</a>[<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>]];</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, org[0], org[1], org[2], 0, 0, 0, -4, -4, 16, 256, <span class="keyword">true</span>, 0.1006 * (8 - <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>), 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>            }</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>            {</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="cl__particles_8c.html#a9d939a8b53f3f6d214c16e8bc7442e5a">ramp2</a>[<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>]];</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.5f, 0, 255, 0, 0, 0, org[0], org[1], org[2], 0, 0, 0, 1, 1, 16, 256, <span class="keyword">true</span>, 0.0669 * (8 - <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>), 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>            }</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>        }</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>    }</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>    {</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a>(org);</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; (<a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a> | <a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a>))</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>        {</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#aff9b4bbfeabdbb5c6535d56219a74acd">cl_particles_bubbles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 128 * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8055054252829be9b925dc66c603e0c4">pt_bubble</a>, 0x404040, 0x808080, <a class="code hl_variable" href="cl__particles_8c.html#a4f9f6ffcf2fbb15f8842bcc7e3f34bcd">tex_bubble</a>, 2, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(128, 255), 128, -0.125, 1.5, org[0], org[1], org[2], 0, 0, 0, 0.0625, 0.25, 16, 96, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>        }</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>        {</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a30a311c23609ab922f2a8a64748f2b23">cl_particles_sparks</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a1d69e03549cee4b9c93f7ad4e010316a">cl_particles_explosions_sparks</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>            {</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 512 * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>                {</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>                    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>;</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>                    <span class="keywordflow">do</span></div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>                    {</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>                        <a class="code hl_define" href="mathlib_8h.html#a24ec9096b042003debd06be7e6425ff3">VectorRandom</a>(<a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>);</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>                        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(org, 128, <a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>);</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>                        trace = <a class="code hl_function" href="cl__collision_8c.html#a3844376c9cc74935d902373d216acc75">CL_TraceLine</a>(org, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>, 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>                    }</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>                    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++ &lt; 16 &amp;&amp; trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> &lt; 0.1f);</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>                    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, org, <a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>);</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>                    <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>, 2.0f, <a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>);</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>                    <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e">pt_spark</a>, 0x903010, 0xFFD030, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1.0f, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0, 255), 512, 0, 0, org[0], org[1], org[2], <a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>[0], <a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>[1], <a class="code hl_variable" href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a>[2], 0, 0, 0, 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>                }</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>            }</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        }</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    }</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span> </div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a632e148cdb17217f52dca376deb64cde">cl_particles_explosions_shell</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>        <a class="code hl_function" href="r__explosion_8c.html#abe5bb29212d008f49727a314fc42ddbf">R_NewExplosion</a>(org);</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>}</div>
</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span> </div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span><span class="comment">/*</span></div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span><span class="comment">===============</span></div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span><span class="comment">CL_ParticleExplosion2</span></div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span><span class="comment"></span> </div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span><span class="comment">===============</span></div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01901" data-start="{" data-end="}">
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a5a97191b914e0b08acd7ada551bc35df"> 1901</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a5a97191b914e0b08acd7ada551bc35df">CL_ParticleExplosion2</a> (<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorStart</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorLength</a>)</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>{</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span> </div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 512 * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>    {</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorStart</a> + (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorLength</a>)];</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1, 0, 255, 0, 0, 0, org[0], org[1], org[2], 0, 0, 0, -4, -4, 16, 256, <span class="keyword">true</span>, 0.3, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(0.5, 1.5), 0, 255, 512, 0, 0, org[0], org[1], org[2], 0, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(1.5, 3), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(1.5, 3), 8, 192, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>    }</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>}</div>
</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span> </div>
<div class="foldopen" id="foldopen01916" data-start="{" data-end="}">
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe"> 1916</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sparkcount</a>)</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>{</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> center;</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>    <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, 0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, center);</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a30a311c23609ab922f2a8a64748f2b23">cl_particles_sparks</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>    {</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sparkcount</a> *= <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sparkcount</a>-- &gt; 0)</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e">pt_spark</a>, <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[0x68], <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[0x6f], <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 0.5f, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(64, 255), 512, 1, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]) + <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a6872d1327283739a220a4021cbd066c7">movevars_gravity</a> * 0.1f, 0, 0, 0, 64, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>    }</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>}</div>
</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span> </div>
<div class="foldopen" id="foldopen01928" data-start="{" data-end="}">
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64"> 1928</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smokecount</a>)</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>{</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> center;</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>    <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>, 0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>, center);</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>    {</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smokecount</a> *= <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smokecount</a>-- &gt; 0)</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>            <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a>, 0x101010, 0x101010, <a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], 2, 2, 255, 256, 0, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originmaxs</a>[2]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">velocitymaxs</a>[2]), 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smokecount</a> &gt; 0 ? 16 : 0, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>    }</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>}</div>
</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span> </div>
<div class="foldopen" id="foldopen01940" data-start="{" data-end="}">
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a7226c06acdc174bc9840630665cb9ad3"> 1940</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a7226c06acdc174bc9840630665cb9ad3">CL_ParticleCube</a> (<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorbase</a>, <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> gravity, <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">randomvel</a>)</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>{</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> center;</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>    <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(0.5f, mins, 0.5f, maxs, center);</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span> </div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>--)</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    {</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorbase</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;3)];</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>        <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(center, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 2, 0, 255, 128, gravity, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(mins[0], maxs[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(mins[1], maxs[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(mins[2], maxs[2]), <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2], 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">randomvel</a>, <span class="keyword">true</span>, 0, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>    }</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>}</div>
</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span> </div>
<div class="foldopen" id="foldopen01955" data-start="{" data-end="}">
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a380653fd37230225f6e52c2355bd69b3"> 1955</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a380653fd37230225f6e52c2355bd69b3">CL_ParticleRain</a> (<span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs, <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorbase</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>)</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>{</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minz</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxz</a>, lifetime = 30;</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org;</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2] &lt; 0) <span class="comment">// falling</span></div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>    {</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minz</a> = maxs[2] + <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2] * 0.1;</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxz</a> = maxs[2];</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a8ab19b0b9d4e96dc0220d846226e4283">worldmodel</a>)</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>            lifetime = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxz</a> - <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a8ab19b0b9d4e96dc0220d846226e4283">worldmodel</a>-&gt;normalmins[2]) / <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(1, -<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2]);</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>    }</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>    <span class="keywordflow">else</span> <span class="comment">// rising??</span></div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    {</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minz</a> = mins[2];</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxz</a> = maxs[2] + <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2] * 0.1;</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a8ab19b0b9d4e96dc0220d846226e4283">worldmodel</a>)</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>            lifetime = (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a8ab19b0b9d4e96dc0220d846226e4283">worldmodel</a>-&gt;normalmaxs[2] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minz</a>) / <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(1, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2]);</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>    }</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span> </div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <a class="code hl_variable" href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span> </div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>)</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>    {</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a83262a4d573d41e73ec6b01ec60c56e8">cl_particles_rain</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> *= 4; <span class="comment">// ick, this should be in the mod or maps?</span></div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span> </div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>--)</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>        {</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorbase</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;3)];</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>            <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(org, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(mins[0], maxs[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(mins[1], maxs[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minz</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxz</a>));</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea9ff29eb530ba096bbefc70d68e4c5cda">GAME_GOODVSBAD2</a>)</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799">pt_rain</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 20, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(32, 64), 0, 0, -1, org[0], org[1], org[2], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2], 0, 0, 0, 0, <span class="keyword">true</span>, lifetime, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799">pt_rain</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 0.5, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(32, 64), 0, 0, -1, org[0], org[1], org[2], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2], 0, 0, 0, 0, <span class="keyword">true</span>, lifetime, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>        }</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#a4c9ac7818ebd81603fa50c90f07e9f7c">cl_particles_snow</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>--)</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>        {</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colorbase</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;3)];</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>            <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(org, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(mins[0], maxs[0]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(mins[1], maxs[1]), <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minz</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxz</a>));</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea9ff29eb530ba096bbefc70d68e4c5cda">GAME_GOODVSBAD2</a>)</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412">pt_snow</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 20, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(64, 128), 0, 0, -1, org[0], org[1], org[2], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2], 0, 0, 0, 0, <span class="keyword">true</span>, lifetime, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>                <a class="code hl_function" href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a>(org, <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412">pt_snow</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, 1, 0, <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(64, 128), 0, 0, -1, org[0], org[1], org[2], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[0], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[1], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[2], 0, 0, 0, 0, <span class="keyword">true</span>, lifetime, 1, <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>, <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>, -1, -1, -1, 1, 1, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>        }</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;CL_ParticleRain: unknown type %i (0 = rain, 1 = snow)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>);</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    }</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>}</div>
</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span> </div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a602b3811977306bd6043b699f53b1d82"> 2011</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a602b3811977306bd6043b699f53b1d82">r_drawparticles</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_drawparticles&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables drawing of particles&quot;</span>};</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a22d481913baeb97ca5b5ce03102a3645"> 2012</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a22d481913baeb97ca5b5ce03102a3645">r_drawparticles_drawdistance</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_drawparticles_drawdistance&quot;</span>, <span class="stringliteral">&quot;2000&quot;</span>, <span class="stringliteral">&quot;particles further than drawdistance*size will not be drawn&quot;</span>};</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a1f022d8cf752f39eb8fa9ef9c96a9aaa"> 2013</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a1f022d8cf752f39eb8fa9ef9c96a9aaa">r_drawparticles_nearclip_min</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_drawparticles_nearclip_min&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;particles closer than drawnearclip_min will not be drawn&quot;</span>};</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#acaf243bcb519fe87953a7a1effa00d7f"> 2014</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#acaf243bcb519fe87953a7a1effa00d7f">r_drawparticles_nearclip_max</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_drawparticles_nearclip_max&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;particles closer than drawnearclip_min will be faded&quot;</span>};</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a26cc78718a14d72c477a9e312bf85cd7"> 2015</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a26cc78718a14d72c477a9e312bf85cd7">r_drawdecals</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_drawdecals&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables drawing of decals&quot;</span>};</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a54dbdac1b4f41af0ce64eeca81338701"> 2016</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__particles_8c.html#a54dbdac1b4f41af0ce64eeca81338701">r_drawdecals_drawdistance</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_drawdecals_drawdistance&quot;</span>, <span class="stringliteral">&quot;500&quot;</span>, <span class="stringliteral">&quot;decals further than drawdistance*size will not be drawn&quot;</span>};</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span> </div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34"> 2018</a></span><span class="preprocessor">#define PARTICLETEXTURESIZE 64</span></div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546"> 2019</a></span><span class="preprocessor">#define PARTICLEFONTSIZE (PARTICLETEXTURESIZE*8)</span></div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span> </div>
<div class="foldopen" id="foldopen02021" data-start="{" data-end="}">
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a1a56e46384e9ee374ffcc9777039df89"> 2021</a></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_function" href="cl__particles_8c.html#a1a56e46384e9ee374ffcc9777039df89">shadebubble</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>, <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> light)</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>{</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dz</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a>;</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>;</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dz</a> = 1 - (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>);</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dz</a> &gt; 0) <span class="comment">// it does hit the sphere</span></div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>    {</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = 0;</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>        <span class="comment">// back side</span></div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>;<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>;<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dz</a>;</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>);</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, light);</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> &gt; 0.5) <span class="comment">// interior reflection</span></div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> += ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> *  2) - 1);</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> &lt; -0.5) <span class="comment">// exterior reflection</span></div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> += ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> * -2) - 1);</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>        <span class="comment">// front side</span></div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>;<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>;<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>[2] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dz</a>;</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>);</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, light);</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> &gt; 0.5) <span class="comment">// interior reflection</span></div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> += ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> *  2) - 1);</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> &lt; -0.5) <span class="comment">// exterior reflection</span></div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> += ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> * -2) - 1);</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> *= 128;</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> += 16; <span class="comment">// just to give it a haze so you can see the outline</span></div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, 255);</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>        <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>    }</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>}</div>
</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span> </div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a346c8065a23c16bc92bebff34c7a24d4"> 2054</a></span><span class="keywordtype">int</span> <a class="code hl_variable" href="cl__particles_8c.html#ae13c6dfa055e254548cf6bb83f74dc0d">particlefontwidth</a>, <a class="code hl_variable" href="cl__particles_8c.html#a5a55cba7c7eae42513f70090eb4123a5">particlefontheight</a>, <a class="code hl_variable" href="cl__particles_8c.html#a987db824b42226918af10206dfc7dd2a">particlefontcellwidth</a>, <a class="code hl_variable" href="cl__particles_8c.html#a346c8065a23c16bc92bebff34c7a24d4">particlefontcellheight</a>, <a class="code hl_variable" href="cl__particles_8c.html#a33b9ef19cbf971c0d7e76c1614d38c18">particlefontrows</a>, <a class="code hl_variable" href="cl__particles_8c.html#a93a43cb5af549134997cb38925077973">particlefontcols</a>;</div>
<div class="foldopen" id="foldopen02055" data-start="{" data-end="}">
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a5445d89dc558e21b58f6a1a8a879134c"> 2055</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a5445d89dc558e21b58f6a1a8a879134c">CL_Particle_PixelCoordsForTexnum</a>(<span class="keywordtype">int</span> texnum, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>)</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>{</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a> = (texnum % <a class="code hl_variable" href="cl__particles_8c.html#a93a43cb5af549134997cb38925077973">particlefontcols</a>) * <a class="code hl_variable" href="cl__particles_8c.html#a987db824b42226918af10206dfc7dd2a">particlefontcellwidth</a>;</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a> = ((texnum / <a class="code hl_variable" href="cl__particles_8c.html#a93a43cb5af549134997cb38925077973">particlefontcols</a>) % <a class="code hl_variable" href="cl__particles_8c.html#a33b9ef19cbf971c0d7e76c1614d38c18">particlefontrows</a>) * <a class="code hl_variable" href="cl__particles_8c.html#a346c8065a23c16bc92bebff34c7a24d4">particlefontcellheight</a>;</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>    *<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = <a class="code hl_variable" href="cl__particles_8c.html#a987db824b42226918af10206dfc7dd2a">particlefontcellwidth</a>;</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    *<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> = <a class="code hl_variable" href="cl__particles_8c.html#a346c8065a23c16bc92bebff34c7a24d4">particlefontcellheight</a>;</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>}</div>
</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span> </div>
<div class="foldopen" id="foldopen02063" data-start="{" data-end="}">
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568"> 2063</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<span class="keywordtype">int</span> texnum, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>)</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>{</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>;</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>    <a class="code hl_function" href="cl__particles_8c.html#a5445d89dc558e21b58f6a1a8a879134c">CL_Particle_PixelCoordsForTexnum</a>(texnum, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, &amp;h);</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> != <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a> || h != <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>)</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>        <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;invalid particle texture size for autogenerating&quot;</span>);</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a> + ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a> + <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>) * <a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a>) * 4, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> * <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a> * 4, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a> * 4);</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>}</div>
</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span> </div>
<div class="foldopen" id="foldopen02073" data-start="{" data-end="}">
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ae9ff7c79c02366c4675c52cb2f8262a0"> 2073</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#ae9ff7c79c02366c4675c52cb2f8262a0">particletextureblotch</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keywordtype">float</span> radius, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>)</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>{</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>;</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, iradius;</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>;</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cx</a> = (<a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(radius + 1, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a> - 2 - radius) + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(radius + 1, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a> - 2 - radius)) * 0.5f;</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cy</a> = (<a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(radius + 1, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a> - 2 - radius) + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(radius + 1, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a> - 2 - radius)) * 0.5f;</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>    iradius = 1.0f / radius;</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>    <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> *= (1.0f / 255.0f);</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>    {</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>        {</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> = (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cx</a>);</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cy</a>);</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = (1.0f - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>) * iradius) * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> &gt; 0)</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>            {</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> &gt; 1)</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>                    <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = 1;</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> * <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a> + <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>) * 4;</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>[0] += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> * (<a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>  - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>[0]));</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>[1] += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> * (<a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>[1]));</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>[2] += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>   - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>[2]));</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>            }</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>        }</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>    }</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>}</div>
</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span> </div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletextureclamp</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minr</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ming</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minb</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxr</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxg</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxb</a>)</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>{</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 4)</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>    {</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minb</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxb</a>);</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ming</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxg</a>);</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minr</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxr</a>);</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>    }</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>}</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span> </div>
<div class="foldopen" id="foldopen02115" data-start="{" data-end="}">
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a461b70fa819de548d47be3e02bb21649"> 2115</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a461b70fa819de548d47be3e02bb21649">particletextureinvert</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>{</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 4)</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>    {</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[0] = 255 - <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[0];</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[1] = 255 - <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[1];</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[2] = 255 - <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[2];</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>    }</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>}</div>
</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span> </div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span><span class="comment">// Those loops are in a separate function to work around an optimization bug in Mac OS X&#39;s GCC</span></div>
<div class="foldopen" id="foldopen02127" data-start="{" data-end="}">
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a08ace096b3b024433cc9e527697cfdd9"> 2127</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a08ace096b3b024433cc9e527697cfdd9">R_InitBloodTextures</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>)</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>{</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, m;</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a> = <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*4;</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span> </div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>    <span class="comment">// blood particles</span></div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>    {</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 24;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>            <a class="code hl_function" href="cl__particles_8c.html#ae9ff7c79c02366c4675c52cb2f8262a0">particletextureblotch</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>/16, 96, 0, 0, 160);</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>        <span class="comment">//particletextureclamp(data, 32, 32, 32, 255, 255, 255);</span></div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>        <a class="code hl_function" href="cl__particles_8c.html#a461b70fa819de548d47be3e02bb21649">particletextureinvert</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>        <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<a class="code hl_variable" href="cl__particles_8c.html#a9a75d40a03ce7cbc8030371cd8f8cbe0">tex_bloodparticle</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>    }</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span> </div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>    <span class="comment">// blood decals</span></div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>    {</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>        m = 8;</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 10;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, m - 1);<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; m;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>                <a class="code hl_function" href="cl__particles_8c.html#ae9ff7c79c02366c4675c52cb2f8262a0">particletextureblotch</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, (<span class="keywordtype">float</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>/64.0f, 96, 0, 0, 320 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 8);</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>        <span class="comment">//particletextureclamp(data, 32, 32, 32, 255, 255, 255);</span></div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>        <a class="code hl_function" href="cl__particles_8c.html#a461b70fa819de548d47be3e02bb21649">particletextureinvert</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>        <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<a class="code hl_variable" href="cl__particles_8c.html#a8bd3eddeb4e3aa4a5f15a477b8f4acd9">tex_blooddecal</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>    }</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span> </div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>}</div>
</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span> </div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span><span class="comment">//uncomment this to make engine save out particle font to a tga file when run</span></div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span><span class="comment">//#define DUMPPARTICLEFONT</span></div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span> </div>
<div class="foldopen" id="foldopen02163" data-start="{" data-end="}">
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a86d4df11099036697c1df522abf30bca"> 2163</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a86d4df11099036697c1df522abf30bca">R_InitParticleTexture</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>{</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, m;</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h;</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, s1, t1, s2, t2;</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> light;</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> filesize;</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>    <span class="keywordtype">char</span> texturename[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>    <a class="code hl_struct" href="structskinframe__t.html">skinframe_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sf</a>;</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span> </div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>    <span class="comment">// a note: decals need to modulate (multiply) the background color to</span></div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>    <span class="comment">// properly darken it (stain), and they need to be able to alpha fade,</span></div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>    <span class="comment">// this is a very difficult challenge because it means fading to white</span></div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>    <span class="comment">// (no change to background) rather than black (darkening everything</span></div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>    <span class="comment">// behind the whole decal polygon), and to accomplish this the texture is</span></div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>    <span class="comment">// inverted (dark red blood on white background becomes brilliant cyan</span></div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>    <span class="comment">// and white on black background) so we can alpha fade it to black, then</span></div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>    <span class="comment">// we invert it again during the blendfunc to make it work...</span></div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span> </div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span><span class="preprocessor">#ifndef DUMPPARTICLEFONT</span></div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>    <a class="code hl_variable" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a> = <a class="code hl_function" href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a>(<span class="stringliteral">&quot;particles/particlefont.tga&quot;</span>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a>)</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>    {</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>        <a class="code hl_variable" href="cl__particles_8c.html#a443cd658f97c248199581e746dfbbaa2">particlefonttexture</a> = <a class="code hl_variable" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a>-&gt;<a class="code hl_variable" href="structskinframe__t.html#a2eee54d56a22b66559bdea45d6415881">base</a>;</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>        <span class="comment">// TODO maybe allow custom grid size?</span></div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>        <a class="code hl_variable" href="cl__particles_8c.html#ae13c6dfa055e254548cf6bb83f74dc0d">particlefontwidth</a> = <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a>;</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>        <a class="code hl_variable" href="cl__particles_8c.html#a5a55cba7c7eae42513f70090eb4123a5">particlefontheight</a> = <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a>;</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>        <a class="code hl_variable" href="cl__particles_8c.html#a987db824b42226918af10206dfc7dd2a">particlefontcellwidth</a> = <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a> / 8;</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>        <a class="code hl_variable" href="cl__particles_8c.html#a346c8065a23c16bc92bebff34c7a24d4">particlefontcellheight</a> = <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a> / 8;</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>        <a class="code hl_variable" href="cl__particles_8c.html#a93a43cb5af549134997cb38925077973">particlefontcols</a> = 8;</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>        <a class="code hl_variable" href="cl__particles_8c.html#a33b9ef19cbf971c0d7e76c1614d38c18">particlefontrows</a> = 8;</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>    }</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>    {</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>*<a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>*4);</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a> = <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*4;</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *noise1 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*2*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*2);</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *noise2 = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*2*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*2);</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span> </div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>        <a class="code hl_variable" href="cl__particles_8c.html#ae13c6dfa055e254548cf6bb83f74dc0d">particlefontwidth</a> = <a class="code hl_variable" href="cl__particles_8c.html#a5a55cba7c7eae42513f70090eb4123a5">particlefontheight</a> = <a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>;</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>        <a class="code hl_variable" href="cl__particles_8c.html#a987db824b42226918af10206dfc7dd2a">particlefontcellwidth</a> = <a class="code hl_variable" href="cl__particles_8c.html#a346c8065a23c16bc92bebff34c7a24d4">particlefontcellheight</a> = <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>        <a class="code hl_variable" href="cl__particles_8c.html#a93a43cb5af549134997cb38925077973">particlefontcols</a> = 8;</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>        <a class="code hl_variable" href="cl__particles_8c.html#a33b9ef19cbf971c0d7e76c1614d38c18">particlefontrows</a> = 8;</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span> </div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>, 255, <a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>*<a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>*4);</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span> </div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>        <span class="comment">// smoke</span></div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>        {</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>            <span class="keywordflow">do</span></div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>            {</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>                <a class="code hl_function" href="fractalnoise_8c.html#a20fb401408532bc09be0c97b0f7c17e0">fractalnoise</a>(noise1, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*2, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>/8);</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>                <a class="code hl_function" href="fractalnoise_8c.html#a20fb401408532bc09be0c97b0f7c17e0">fractalnoise</a>(noise2, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*2, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>/4);</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>                m = 0;</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>                {</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>                    {</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> = (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = (noise2[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*2+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>] - 128) * 3 + 192;</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> &gt; 0)</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> * (1-(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>)));</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> * noise1[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*2+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>]) &gt;&gt; 7;</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>, 255);</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>                        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[(<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>)*4+3] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>;</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                        <span class="keywordflow">if</span> (m &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>)</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>                            m = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>;</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>                    }</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>                }</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>            }</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>            <span class="keywordflow">while</span> (m &lt; 224);</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>            <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<a class="code hl_variable" href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>        }</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span> </div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>        <span class="comment">// rain splash</span></div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>        {</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>            {</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> = (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = 255.0f * (1.0 - 4.0f * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(10.0f - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>)));</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[(<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>)*4+3] = (<span class="keywordtype">int</span>) (<a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0.0f, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, 255.0f));</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>            }</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>        }</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>        <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<a class="code hl_variable" href="cl__particles_8c.html#a9b8723c8c1e5da8afda8a0cf176c2bae">tex_rainsplash</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span> </div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>        <span class="comment">// normal particle</span></div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>        {</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>            {</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> = (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(256 * (1 - (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>)));</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>, 255);</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[(<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>)*4+3] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>;</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>            }</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>        }</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>        <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<a class="code hl_variable" href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span> </div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        <span class="comment">// rain</span></div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>        light[0] = 1;light[1] = 1;light[2] = 1;</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(light);</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>        {</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>            <span class="comment">// stretch upper half of bubble by +50% and shrink lower half by -50%</span></div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>            <span class="comment">// (this gives an elongated teardrop shape)</span></div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> &gt; 0.5f)</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> - 0.5f) * 2.0f;</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> - 0.5f) / 1.5f;</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>            {</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> = (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>                <span class="comment">// shrink bubble width to half</span></div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> *= 2.0f;</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[(<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>)*4+3] = <a class="code hl_function" href="cl__particles_8c.html#a1a56e46384e9ee374ffcc9777039df89">shadebubble</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>, light);</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>            }</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>        }</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>        <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<a class="code hl_variable" href="cl__particles_8c.html#ad3db8107eb79d98a2af00bdf6af81d1b">tex_raindrop</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span> </div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>        <span class="comment">// bubble</span></div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>        light[0] = 1;light[1] = 1;light[2] = 1;</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(light);</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>        {</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>            {</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> = (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - 0.5f*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>) / (<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>*0.5f-1);</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[(<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>)*4+3] = <a class="code hl_function" href="cl__particles_8c.html#a1a56e46384e9ee374ffcc9777039df89">shadebubble</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a>, light);</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>            }</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>        }</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>        <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<a class="code hl_variable" href="cl__particles_8c.html#a4f9f6ffcf2fbb15f8842bcc7e3f34bcd">tex_bubble</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span> </div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>        <span class="comment">// Blood particles and blood decals</span></div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>        <a class="code hl_function" href="cl__particles_8c.html#a08ace096b3b024433cc9e527697cfdd9">R_InitBloodTextures</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span> </div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>        <span class="comment">// bullet decals</span></div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>        {</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>);</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 12;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>                <a class="code hl_function" href="cl__particles_8c.html#ae9ff7c79c02366c4675c52cb2f8262a0">particletextureblotch</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>/16, 0, 0, 0, 128);</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>                <a class="code hl_function" href="cl__particles_8c.html#ae9ff7c79c02366c4675c52cb2f8262a0">particletextureblotch</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_define" href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a>/2, 0, 0, 0, 160);</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>            <span class="comment">//particletextureclamp(data, 64, 64, 64, 255, 255, 255);</span></div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>            <a class="code hl_function" href="cl__particles_8c.html#a461b70fa819de548d47be3e02bb21649">particletextureinvert</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>            <a class="code hl_function" href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a>(<a class="code hl_variable" href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>        }</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span> </div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span><span class="preprocessor">#ifdef DUMPPARTICLEFONT</span></div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>        <a class="code hl_function" href="image_8c.html#ab44ad0eba0b665ae7af8b13c9513cc71">Image_WriteTGABGRA</a> (<span class="stringliteral">&quot;particles/particlefont.tga&quot;</span>, <a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>, <a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span> </div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>        <a class="code hl_variable" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a> = <a class="code hl_function" href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a>(<span class="stringliteral">&quot;particlefont&quot;</span>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>, <a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>, <a class="code hl_define" href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a>, 0, 0, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>        <a class="code hl_variable" href="cl__particles_8c.html#a443cd658f97c248199581e746dfbbaa2">particlefonttexture</a> = <a class="code hl_variable" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a>-&gt;<a class="code hl_variable" href="structskinframe__t.html#a2eee54d56a22b66559bdea45d6415881">base</a>;</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span> </div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">particletexturedata</a>);</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(noise1);</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(noise2);</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>    }</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a760ffd4b2527d8441e9210d5ec7f6e88">MAX_PARTICLETEXTURES</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>    {</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>        <a class="code hl_function" href="cl__particles_8c.html#a5445d89dc558e21b58f6a1a8a879134c">CL_Particle_PixelCoordsForTexnum</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, &amp;h);</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>        <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a> = <a class="code hl_variable" href="cl__particles_8c.html#a443cd658f97c248199581e746dfbbaa2">particlefonttexture</a>;</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>        <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a> + 1) / (<span class="keywordtype">float</span>)<a class="code hl_variable" href="cl__particles_8c.html#ae13c6dfa055e254548cf6bb83f74dc0d">particlefontwidth</a>;</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>        <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a> + 1) / (<span class="keywordtype">float</span>)<a class="code hl_variable" href="cl__particles_8c.html#a5a55cba7c7eae42513f70090eb4123a5">particlefontheight</a>;</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>        <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basex</a> + <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> - 1) / (<span class="keywordtype">float</span>)<a class="code hl_variable" href="cl__particles_8c.html#ae13c6dfa055e254548cf6bb83f74dc0d">particlefontwidth</a>;</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>        <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basey</a> + h - 1) / (<span class="keywordtype">float</span>)<a class="code hl_variable" href="cl__particles_8c.html#a5a55cba7c7eae42513f70090eb4123a5">particlefontheight</a>;</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>    }</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span> </div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span><span class="preprocessor">#ifndef DUMPPARTICLEFONT</span></div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>    <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>].<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a> = <a class="code hl_function" href="image_8c.html#a07bb1b05dfd9812cf2de8af958f854c8">loadtextureimage</a>(<a class="code hl_variable" href="cl__particles_8c.html#aa22accfd82fe33f5e39f253655bec108">particletexturepool</a>, <span class="stringliteral">&quot;particles/nexbeam.tga&quot;</span>, <span class="keyword">false</span>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>, <span class="keyword">true</span>, <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>);</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>].<a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>)</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>    {</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> noise3[64][64], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">data2</a>[64][16][4];</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>        <span class="comment">// nexbeam</span></div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>        <a class="code hl_function" href="fractalnoise_8c.html#a20fb401408532bc09be0c97b0f7c17e0">fractalnoise</a>(&amp;noise3[0][0], 64, 4);</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>        m = 0;</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; 64;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>        {</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dy</a> = (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - 0.5f*64) / (64*0.5f-1);</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; 16;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>            {</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a> = (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - 0.5f*16) / (16*0.5f-2);</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)((1 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dx</a>))) * noise3[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>][<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>]);</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">data2</a>[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>][<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>][0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">data2</a>[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>][<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>][1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">data2</a>[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>][<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>][2] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>) <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>, 255);</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">data2</a>[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>][<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>][3] = 255;</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>            }</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        }</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span> </div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span><span class="preprocessor">#ifdef DUMPPARTICLEFONT</span></div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>        <a class="code hl_function" href="image_8c.html#ab44ad0eba0b665ae7af8b13c9513cc71">Image_WriteTGABGRA</a> (<span class="stringliteral">&quot;particles/nexbeam.tga&quot;</span>, 64, 64, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">data2</a>[0][0][0]);</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>        <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>].<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a> = <a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_variable" href="cl__particles_8c.html#aa22accfd82fe33f5e39f253655bec108">particletexturepool</a>, <span class="stringliteral">&quot;nexbeam&quot;</span>, 16, 64, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">data2</a>[0][0][0], <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>, -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>    }</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>    <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>].<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a> = 0;</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>    <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>].<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a> = 0;</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>    <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>].<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a> = 1;</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>    <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a>].<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a> = 1;</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span> </div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>    <span class="comment">// now load an texcoord/texture override file</span></div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = (<span class="keywordtype">char</span> *) <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<span class="stringliteral">&quot;particles/particlefont.txt&quot;</span>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">false</span>, &amp;filesize);</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>    {</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufptr</a>;</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufptr</a> = <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>        <span class="keywordflow">for</span>(;;)</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>        {</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>            <span class="keywordflow">if</span>(!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufptr</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;\n&quot;</span>))</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>                <span class="keywordflow">continue</span>; <span class="comment">// empty line</span></div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>            <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span> </div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>            texturename[0] = 0;</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>            s1 = 0;</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>            t1 = 0;</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>            s2 = 1;</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>            t2 = 1;</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span> </div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufptr</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;\n&quot;</span>))</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>            {</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(texturename, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(texturename));</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>                s1 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufptr</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;\n&quot;</span>))</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>                {</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>                    texturename[0] = 0;</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>                    t1 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufptr</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;\n&quot;</span>))</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>                    {</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>                        s2 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufptr</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;\n&quot;</span>))</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>                        {</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>                            t2 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>                            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(texturename, <span class="stringliteral">&quot;particles/particlefont.tga&quot;</span>, <span class="keyword">sizeof</span>(texturename));</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>                            <span class="keywordflow">if</span> (<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufptr</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;\n&quot;</span>))</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>                                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(texturename, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(texturename));</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>                        }</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>                    }</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>                }</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>                    s1 = 0;</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>            }</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>            <span class="keywordflow">if</span> (!texturename[0])</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>            {</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;particles/particlefont.txt: syntax should be texnum x1 y1 x2 y2 texturename or texnum x1 y1 x2 y2 or texnum texturename\n&quot;</span>);</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>            }</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">i &lt; 0 || i &gt;</a>= <a class="code hl_define" href="qdefs_8h.html#a760ffd4b2527d8441e9210d5ec7f6e88">MAX_PARTICLETEXTURES</a>)</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>            {</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;particles/particlefont.txt: texnum %i outside valid range (0 to %i)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="qdefs_8h.html#a760ffd4b2527d8441e9210d5ec7f6e88">MAX_PARTICLETEXTURES</a>);</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>            }</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sf</a> = <a class="code hl_function" href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a>(texturename, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>, <span class="keyword">true</span>, <span class="keyword">true</span>); <span class="comment">// note: this loads as sRGB if sRGB is active!</span></div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>            <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sf</a>-&gt;base;</div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>            <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a> = s1;</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>            <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a> = t1;</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>            <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a> = s2;</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>            <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a> = t2;</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>        }</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>    }</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>}</div>
</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span> </div>
<div class="foldopen" id="foldopen02442" data-start="{" data-end="}">
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a15ad601cb79c76a8e4893d195ec0c214"> 2442</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a15ad601cb79c76a8e4893d195ec0c214">r_part_start</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>{</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>    <span class="comment">// generate particlepalette for convenience from the main one</span></div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 256;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>        <a class="code hl_variable" href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="palette_8c.html#a777164d2435e4855284eac24a69ffcb3">palette_rgb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] * 65536 + <a class="code hl_variable" href="palette_8c.html#a777164d2435e4855284eac24a69ffcb3">palette_rgb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] * 256 + <a class="code hl_variable" href="palette_8c.html#a777164d2435e4855284eac24a69ffcb3">palette_rgb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2];</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>    <a class="code hl_variable" href="cl__particles_8c.html#aa22accfd82fe33f5e39f253655bec108">particletexturepool</a> = <a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>();</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>    <a class="code hl_function" href="cl__particles_8c.html#a86d4df11099036697c1df522abf30bca">R_InitParticleTexture</a> ();</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>    <a class="code hl_function" href="cl__particles_8c.html#a99c1009d6cbe23cfc1c5f7ea7fa5e8a2">CL_Particles_LoadEffectInfo</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>}</div>
</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span> </div>
<div class="foldopen" id="foldopen02453" data-start="{" data-end="}">
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a9711cf50be5d4448287403ccb295d214"> 2453</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a9711cf50be5d4448287403ccb295d214">r_part_shutdown</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>{</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>    <a class="code hl_function" href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a>(&amp;<a class="code hl_variable" href="cl__particles_8c.html#aa22accfd82fe33f5e39f253655bec108">particletexturepool</a>);</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>}</div>
</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span> </div>
<div class="foldopen" id="foldopen02458" data-start="{" data-end="}">
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a3760406af324f09da9efb27242b43acc"> 2458</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a3760406af324f09da9efb27242b43acc">r_part_newmap</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>{</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a>)</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>        <a class="code hl_function" href="gl__rmain_8c.html#ac068333f6656190ddd5836765acdffe0">R_SkinFrame_MarkUsed</a>(<a class="code hl_variable" href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a>);</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>    <a class="code hl_function" href="cl__particles_8c.html#a99c1009d6cbe23cfc1c5f7ea7fa5e8a2">CL_Particles_LoadEffectInfo</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>}</div>
</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span> </div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b"> 2465</a></span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code hl_variable" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a>[<a class="code hl_define" href="meshqueue_8h.html#a1c091424b6c2973b0e9450c94e4dbf9f">MESHQUEUE_TRANSPARENT_BATCHSIZE</a>*6];</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a0c662d440b3dd203f47632c391691fda"> 2466</a></span><span class="keywordtype">float</span> <a class="code hl_variable" href="cl__particles_8c.html#a13e444f16130b8d3fcbf159a91112a6d">particle_vertex3f</a>[<a class="code hl_define" href="meshqueue_8h.html#a1c091424b6c2973b0e9450c94e4dbf9f">MESHQUEUE_TRANSPARENT_BATCHSIZE</a>*12], <a class="code hl_variable" href="cl__particles_8c.html#aaef934b24082412870f2cab0c83b1d5f">particle_texcoord2f</a>[<a class="code hl_define" href="meshqueue_8h.html#a1c091424b6c2973b0e9450c94e4dbf9f">MESHQUEUE_TRANSPARENT_BATCHSIZE</a>*8], <a class="code hl_variable" href="cl__particles_8c.html#a0c662d440b3dd203f47632c391691fda">particle_color4f</a>[<a class="code hl_define" href="meshqueue_8h.html#a1c091424b6c2973b0e9450c94e4dbf9f">MESHQUEUE_TRANSPARENT_BATCHSIZE</a>*16];</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span> </div>
<div class="foldopen" id="foldopen02468" data-start="{" data-end="}">
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#ad816e6488462a7c22a2fd86345f282f4"> 2468</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#ad816e6488462a7c22a2fd86345f282f4">R_Particles_Init</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>{</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="meshqueue_8h.html#a1c091424b6c2973b0e9450c94e4dbf9f">MESHQUEUE_TRANSPARENT_BATCHSIZE</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>    {</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>        <a class="code hl_variable" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*6+0] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*4+0;</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>        <a class="code hl_variable" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*6+1] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*4+1;</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>        <a class="code hl_variable" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*6+2] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*4+2;</div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>        <a class="code hl_variable" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*6+3] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*4+0;</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>        <a class="code hl_variable" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*6+4] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*4+2;</div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>        <a class="code hl_variable" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*6+5] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*4+3;</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>    }</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span> </div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__particles_8c.html#a602b3811977306bd6043b699f53b1d82">r_drawparticles</a>);</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__particles_8c.html#a22d481913baeb97ca5b5ce03102a3645">r_drawparticles_drawdistance</a>);</div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__particles_8c.html#a1f022d8cf752f39eb8fa9ef9c96a9aaa">r_drawparticles_nearclip_min</a>);</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__particles_8c.html#acaf243bcb519fe87953a7a1effa00d7f">r_drawparticles_nearclip_max</a>);</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__particles_8c.html#a26cc78718a14d72c477a9e312bf85cd7">r_drawdecals</a>);</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__particles_8c.html#a54dbdac1b4f41af0ce64eeca81338701">r_drawdecals_drawdistance</a>);</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>    <a class="code hl_function" href="r__modules_8c.html#a7f982eee49a26b26f015596ac96edea0">R_RegisterModule</a>(<span class="stringliteral">&quot;R_Particles&quot;</span>, <a class="code hl_function" href="cl__particles_8c.html#a15ad601cb79c76a8e4893d195ec0c214">r_part_start</a>, <a class="code hl_function" href="cl__particles_8c.html#a9711cf50be5d4448287403ccb295d214">r_part_shutdown</a>, <a class="code hl_function" href="cl__particles_8c.html#a3760406af324f09da9efb27242b43acc">r_part_newmap</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>}</div>
</div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span> </div>
<div class="foldopen" id="foldopen02490" data-start="{" data-end="}">
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a3ad88b530b417f5ded0137cb32f661b5"> 2490</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a3ad88b530b417f5ded0137cb32f661b5">R_DrawParticle_TransparentCallback</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structentity__render__t.html">entity_render_t</a> *ent, <span class="keyword">const</span> <a class="code hl_struct" href="structrtlight__t.html">rtlight_t</a> *rtlight, <span class="keywordtype">int</span> numsurfaces, <span class="keywordtype">int</span> *surfacelist)</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>{</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecvel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseright</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseup</a>;</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>;</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchcount</a>;</div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structparticle__t.html">particle_t</a> *p;</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>    <a class="code hl_enumeration" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462">pblend_t</a> blendmode;</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>    <a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>;</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>;</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>    <a class="code hl_struct" href="structparticletexture__t.html">particletexture_t</a> *tex;</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">up2</a>[3], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[3], <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[3], <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[3], fog, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ifog</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, len, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lenfactor</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span><span class="comment">//  float ambient[3], diffuse[3], diffusenormal[3];</span></div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palpha</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spintime</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinrad</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spincos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinsin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm4</a>;</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa69f191c29d82fe1bfd8327cab6ef7b6">vec4_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>;</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_end</a>;</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dofade</a>;</div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span> </div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>    <a class="code hl_function" href="gl__rmain_8c.html#ab91218d4fb985f2c4ffc9622a4e28fe2">RSurf_ActiveModelEntity</a>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#ae4dfd0ad65bd2cecac4d12f329e331ca">worldentity</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span> </div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>    <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a1e8124ff88085c5f0235fe55d7c874b5">colorscale</a> * (1.0 / 256.0f), <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a1e8124ff88085c5f0235fe55d7c874b5">colorscale</a> * (1.0 / 256.0f), <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a1e8124ff88085c5f0235fe55d7c874b5">colorscale</a> * (1.0 / 256.0f), <a class="code hl_variable" href="cl__particles_8c.html#a8cbbb124cddc70c3d6a7a02a64cfe5ea">cl_particles_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * (1.0 / 256.0f));</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span> </div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>    <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#acb0c53994baa529557477269d81d5507">stats</a>[<a class="code hl_enumvalue" href="r__stats_8h.html#ae611154931c203d788794752dda991f8aa04bb89b691dbdedd4519ce8db37af7f">r_stat_particles</a>] += numsurfaces;</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span><span class="comment">//  R_Mesh_ResetTextureState();</span></div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>    <a class="code hl_function" href="gl__backend_8c.html#a369132de82d4015a01e164c63255403f">GL_DepthMask</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>    <a class="code hl_function" href="gl__backend_8c.html#a736b5d13ba47fb7de5dafb73b3026e1a">GL_DepthRange</a>(0, 1);</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>    <a class="code hl_function" href="gl__backend_8c.html#a888e5667bc275712bc1407f459c9e67e">GL_PolygonOffset</a>(0, 0);</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>    <a class="code hl_function" href="gl__backend_8c.html#a712c082566b5939b265260c5cd929033">GL_DepthTest</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>    <a class="code hl_function" href="gl__backend_8c.html#a28f12ab6551743428797e62bf183ebde">GL_CullFace</a>(<a class="code hl_define" href="glquake_8h.html#a089a3736e5280b9c7cc50129e2659974">GL_NONE</a>);</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span> </div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spintime</a> = <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#ae8084373da2e6a507c6ec0c78b23d84c">time</a>;</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span> </div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_start</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a7231a4f45a0c95a676aefaae30a2cb61">origin</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#ae77b6ccbb4e40b1132239a12c91438f9">forward</a>) + <a class="code hl_variable" href="cl__particles_8c.html#a1f022d8cf752f39eb8fa9ef9c96a9aaa">r_drawparticles_nearclip_min</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_end</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a7231a4f45a0c95a676aefaae30a2cb61">origin</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#ae77b6ccbb4e40b1132239a12c91438f9">forward</a>) + <a class="code hl_variable" href="cl__particles_8c.html#acaf243bcb519fe87953a7a1effa00d7f">r_drawparticles_nearclip_max</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dofade</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_start</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_end</a>);</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span> </div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>    <span class="comment">// first generate all the vertices at once</span></div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> = <a class="code hl_variable" href="cl__particles_8c.html#a13e444f16130b8d3fcbf159a91112a6d">particle_vertex3f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a> = <a class="code hl_variable" href="cl__particles_8c.html#aaef934b24082412870f2cab0c83b1d5f">particle_texcoord2f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a> = <a class="code hl_variable" href="cl__particles_8c.html#a0c662d440b3dd203f47632c391691fda">particle_color4f</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a> &lt; numsurfaces;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> += 3*4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a> += 2*4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a> += 4*4)</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>    {</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>        p = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a> + surfacelist[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>];</div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span> </div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>        blendmode = (<a class="code hl_enumeration" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462">pblend_t</a>)p-&gt;<a class="code hl_variable" href="structparticle__t.html#ab369aab17b6ae3d56c365a78df299f26">blendmode</a>;</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palpha</a> = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a99b4c7bf204ed8a6ecd726dbbe1c6cde">alpha</a>;</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dofade</a> &amp;&amp; p-&gt;<a class="code hl_variable" href="structparticle__t.html#a688c4817a6f714e8952d1f3feeebe3ed">orientation</a> != <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537ac899b70e86b99ce399702f26a5aa2587">PARTICLE_VBEAM</a> &amp;&amp; p-&gt;<a class="code hl_variable" href="structparticle__t.html#a688c4817a6f714e8952d1f3feeebe3ed">orientation</a> != <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>)</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palpha</a> *= <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(1, (<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#ae77b6ccbb4e40b1132239a12c91438f9">forward</a>)  - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_start</a>) / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_end</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_start</a>));</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>        <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">palpha</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[3];</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>        <span class="comment">// ensure alpha multiplier saturates properly</span></div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> &gt; 1.0f)</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>            <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> = 1.0f;</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span> </div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>        <span class="keywordflow">switch</span> (blendmode)</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>        {</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a721c8fa013b982ddaaf2c67a449d7d73">PBLEND_INVALID</a>:</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>:</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>            <span class="comment">// additive and modulate can just fade out in fog (this is correct)</span></div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a388c2db5754f9a2415475a95b1b37c06">fogenabled</a>)</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>                <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> *= <a class="code hl_function" href="gl__rmain_8c.html#a2175af7dad549ab55f75da75268d6b74">RSurf_FogVertex</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>            <span class="comment">// collapse alpha into color for these blends (so that the particlefont does not need alpha on most textures)</span></div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>            <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> *= 1.0f / 256.0f;</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[0] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[1] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[2] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[2] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[3] = 0;</div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a>:</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>            <span class="comment">// additive and modulate can just fade out in fog (this is correct)</span></div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a388c2db5754f9a2415475a95b1b37c06">fogenabled</a>)</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>                <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> *= <a class="code hl_function" href="gl__rmain_8c.html#a2175af7dad549ab55f75da75268d6b74">RSurf_FogVertex</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>            <span class="comment">// collapse alpha into color for these blends (so that the particlefont does not need alpha on most textures)</span></div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[0] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[1] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[2] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[2] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[3] = 0;</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a>:</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[0];</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[1];</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[2] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[2];</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[3] = <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>            <span class="comment">// note: lighting is not cheap!</span></div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a42ed4f788e9a1fedee04ca881c9476fc">particletype</a>[p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a>].<a class="code hl_variable" href="structparticletype__t.html#a6092af63bb9310c69e8511b4c639950a">lighting</a>)</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>            {</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>                <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>[3], c[3], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>[3];</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>[0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0];</div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>[1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1];</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>[2] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2];</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>                <a class="code hl_function" href="r__shadow_8c.html#af9aa50577998ce10555d0ad5b39fb5e5">R_CompleteLightPoint</a>(<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, c, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecorg</a>, <a class="code hl_define" href="r__shadow_8h.html#a58b6c06882dc55d62d28fcf098e8ea9f">LP_LIGHTMAP</a> | <a class="code hl_define" href="r__shadow_8h.html#ae2a999ea230517becaea5dbe53b0b64e">LP_RTWORLD</a> | <a class="code hl_define" href="r__shadow_8h.html#a39a8894bad7a0da2edbbdfd1a8a0b281">LP_DYNLIGHT</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a4cb3e4b7d463102f104be9f3af762fc1">lightmapintensity</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a347a3f10e8de8e04904d0b8a70b38d87">ambientintensity</a>);</div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[0] * (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>[0] + 0.25f * c[0]);</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[1] * (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>[1] + 0.25f * c[1]);</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[2] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colormultiplier</a>[2] * (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>[2] + 0.25f * c[2]);</div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>            }</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span>            <span class="comment">// mix in the fog color</span></div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a388c2db5754f9a2415475a95b1b37c06">fogenabled</a>)</div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>            {</div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>                fog = <a class="code hl_function" href="gl__rmain_8c.html#a2175af7dad549ab55f75da75268d6b74">RSurf_FogVertex</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ifog</a> = 1 - fog;</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[0] * fog + <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a8bb1872767bde247618f49e897e53d17">fogcolor</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ifog</a>;</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[1] * fog + <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a8bb1872767bde247618f49e897e53d17">fogcolor</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ifog</a>;</div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>[2] * fog + <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a8bb1872767bde247618f49e897e53d17">fogcolor</a>[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ifog</a>;</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span>            }</div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>            <span class="comment">// for premultiplied alpha we have to apply the alpha to the color (after fog of course)</span></div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>            <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>);</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>        }</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>        <span class="comment">// copy the color into the other three vertices</span></div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>        <a class="code hl_define" href="mathlib_8h.html#a78434ca318d72a308cffdcd75346fcd5">Vector4Copy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a> + 4);</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>        <a class="code hl_define" href="mathlib_8h.html#a78434ca318d72a308cffdcd75346fcd5">Vector4Copy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a> + 8);</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span>        <a class="code hl_define" href="mathlib_8h.html#a78434ca318d72a308cffdcd75346fcd5">Vector4Copy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c4f</a> + 12);</div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span> </div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>        <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">size</a> * <a class="code hl_variable" href="cl__particles_8c.html#aa9058d8d4143330f4e29f77fe68856e3">cl_particles_size</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>        tex = &amp;<a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[p-&gt;<a class="code hl_variable" href="structparticle__t.html#a44998a7a38feea3023d681da5e265c35">texnum</a>];</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>        <span class="keywordflow">switch</span>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a688c4817a6f714e8952d1f3feeebe3ed">orientation</a>)</div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span>        {</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span><span class="comment">//      case PARTICLE_INVALID:</span></div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a>:</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>            <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#aedfc9813bc48c6f461df016ded4a4eb7">angle</a> + p-&gt;<a class="code hl_variable" href="structparticle__t.html#aeada1643f9765f82999769305a1ad6ad">spin</a>)</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>            {</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinrad</a> = (p-&gt;<a class="code hl_variable" href="structparticle__t.html#aedfc9813bc48c6f461df016ded4a4eb7">angle</a> + p-&gt;<a class="code hl_variable" href="structparticle__t.html#aeada1643f9765f82999769305a1ad6ad">spin</a> * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spintime</a> - p-&gt;<a class="code hl_variable" href="structparticle__t.html#ab8f5e16f4bd8c0893ea53a886131437f">delayedspawn</a>)) * (<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)(<a class="code hl_define" href="mathlib_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 180.0f);</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinsin</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sin</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinrad</a>) * <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spincos</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cos</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinrad</a>) * <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm1</a> = -p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spincos</a>;</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm2</a> = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinsin</a>;</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinsin</a>;</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm4</a> = -p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spincos</a>;</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>                <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm1</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a041fa47c00086279c394d038e469aaf2">left</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm2</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#ae1bd25ebdf975e2daba47f7367d8323b">up</a>, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>);</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>                <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm3</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a041fa47c00086279c394d038e469aaf2">left</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm4</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#ae1bd25ebdf975e2daba47f7367d8323b">up</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>            }</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>            {</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>                <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a041fa47c00086279c394d038e469aaf2">left</a>, -<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a>, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>);</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>                <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#ae1bd25ebdf975e2daba47f7367d8323b">up</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>            }</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span> </div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[0] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[0];</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[1] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[1];</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 2] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[2] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[2];</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 3] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[0] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[0];</div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 4] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[1] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[1];</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 5] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[2] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[2];</div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 6] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[0] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[0];</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 7] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[1] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[1];</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 8] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[2] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[2];</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 9] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[0] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[0];</div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[10] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[1] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[1];</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[11] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[2] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[2];</div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[0] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[1] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>;</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[2] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[3] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>;</div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[4] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[5] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>;</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[6] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[7] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>;</div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537acc85bfbc8695f63d7f46a696ab728de6">PARTICLE_ORIENTED_DOUBLESIDED</a>:</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecvel</a>[0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[0];</div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecvel</a>[1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[1];</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecvel</a>[2] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[2];</div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>            <a class="code hl_function" href="mathlib_8c.html#af501115cb0d76e3de0c0da6f479be984">VectorVectors</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vecvel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseright</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseup</a>);</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>            <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#aedfc9813bc48c6f461df016ded4a4eb7">angle</a> + p-&gt;<a class="code hl_variable" href="structparticle__t.html#aeada1643f9765f82999769305a1ad6ad">spin</a>)</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>            {</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinrad</a> = (p-&gt;<a class="code hl_variable" href="structparticle__t.html#aedfc9813bc48c6f461df016ded4a4eb7">angle</a> + p-&gt;<a class="code hl_variable" href="structparticle__t.html#aeada1643f9765f82999769305a1ad6ad">spin</a> * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spintime</a> - p-&gt;<a class="code hl_variable" href="structparticle__t.html#ab8f5e16f4bd8c0893ea53a886131437f">delayedspawn</a>)) * (<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)(<a class="code hl_define" href="mathlib_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / 180.0f);</div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinsin</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sin</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinrad</a>) * <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spincos</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cos</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinrad</a>) * <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm1</a> = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spincos</a>;</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm2</a> = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinsin</a>;</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinsin</a>;</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm4</a> = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spincos</a>;</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>                <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseright</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseup</a>, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>);</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>                <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseright</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spinm4</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseup</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>            }</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>            {</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>                <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseright</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a>, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>);</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>                <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseup</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>            }</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[0] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[0];</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[1] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[1];</div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 2] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[2] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[2];</div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 3] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[0] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[0];</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 4] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[1] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[1];</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 5] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2] - <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[2] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[2];</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 6] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[0] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[0];</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 7] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[1] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[1];</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 8] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[2] + <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[2];</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[ 9] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[0] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[0] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[0];</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[10] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[1] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[1] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[1];</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[11] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>[2] + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>[2] - <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>[2];</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[0] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[1] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>;</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[2] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[3] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>;</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[4] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[5] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>;</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[6] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[7] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>;</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>:</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span>            len = <a class="code hl_define" href="mathlib_8h.html#a56e5c6bf818028304d48fb1b9ca6f53a">VectorLength</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>);</div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>            <a class="code hl_define" href="mathlib_8h.html#a943e32397fc83ab601d2ab979817eedf">VectorNormalize2</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lenfactor</a> = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a> * 0.04 * len;</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lenfactor</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> * 0.5)</div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lenfactor</a> = <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> * 0.5;</div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lenfactor</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>);</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>,  <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lenfactor</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">up2</a>);</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>            <a class="code hl_function" href="gl__rmain_8c.html#aad9e16a2671ca2b12d410906a3802e52">R_CalcBeam_Vertex3f</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">up2</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[0] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[1] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>;</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[2] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[3] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>;</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[4] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[5] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>;</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[6] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[7] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>;</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537ac899b70e86b99ce399702f26a5aa2587">PARTICLE_VBEAM</a>:</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span>            <a class="code hl_function" href="gl__rmain_8c.html#aad9e16a2671ca2b12d410906a3802e52">R_CalcBeam_Vertex3f</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span>            <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>            <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>) * (1.0f / 64.0f) * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a>;</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>            <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>) * (1.0f / 64.0f) * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a>;</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[0] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[1] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0];</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[2] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[3] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0];</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[4] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">s1</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[5] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1];</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[6] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">s2</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[7] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1];</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a>:</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>            <a class="code hl_function" href="gl__rmain_8c.html#aad9e16a2671ca2b12d410906a3802e52">R_CalcBeam_Vertex3f</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>            <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>            <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>) * (1.0f / 64.0f) * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a>;</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>            <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>) * (1.0f / 64.0f) * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">stretch</a>;</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[0] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0];<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[1] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>;</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[2] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0];<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[3] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>;</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[4] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1];<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[5] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">t2</a>;</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[6] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1];<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t2f</a>[7] = tex-&gt;<a class="code hl_variable" href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">t1</a>;</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>        }</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__rmain_8c.html#aa4422c2187013f8268f0e38a0d37976f">r_showparticleedges</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>        {</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>            <a class="code hl_function" href="gl__rmain_8c.html#aab13ae86f8bb513594e7fac44efb702d">R_DebugLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> + 3);</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>            <a class="code hl_function" href="gl__rmain_8c.html#aab13ae86f8bb513594e7fac44efb702d">R_DebugLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> + 3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> + 6);</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>            <a class="code hl_function" href="gl__rmain_8c.html#aab13ae86f8bb513594e7fac44efb702d">R_DebugLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> + 6, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> + 9);</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>            <a class="code hl_function" href="gl__rmain_8c.html#aab13ae86f8bb513594e7fac44efb702d">R_DebugLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> + 9, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>);</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>        }</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>    }</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span> </div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>    <span class="comment">// now render batches of particles based on blendmode and texture</span></div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>    blendmode = <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a721c8fa013b982ddaaf2c67a449d7d73">PBLEND_INVALID</a>;</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>    <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchstart</a> = 0;</div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchcount</a> = 0;</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>    <a class="code hl_function" href="gl__backend_8c.html#add6233d245d2e22c748e7d0e03204acd">R_Mesh_PrepareVertices_Generic_Arrays</a>(numsurfaces * 4, <a class="code hl_variable" href="cl__particles_8c.html#a13e444f16130b8d3fcbf159a91112a6d">particle_vertex3f</a>, <a class="code hl_variable" href="cl__particles_8c.html#a0c662d440b3dd203f47632c391691fda">particle_color4f</a>, <a class="code hl_variable" href="cl__particles_8c.html#aaef934b24082412870f2cab0c83b1d5f">particle_texcoord2f</a>);</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a> &lt; numsurfaces;)</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>    {</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>        p = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a> + surfacelist[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>];</div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span> </div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> != <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[p-&gt;<a class="code hl_variable" href="structparticle__t.html#a44998a7a38feea3023d681da5e265c35">texnum</a>].<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a>)</div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span>        {</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>            <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> = <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[p-&gt;<a class="code hl_variable" href="structparticle__t.html#a44998a7a38feea3023d681da5e265c35">texnum</a>].<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a>;</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>            <a class="code hl_function" href="gl__rmain_8c.html#a3b19f216b86b3782f433c472b6d8bab6">R_SetupShader_Generic</a>(<a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span>        }</div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span> </div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>        <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#ab369aab17b6ae3d56c365a78df299f26">blendmode</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a>)</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>        {</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>            <span class="comment">// inverse modulate blend - group these</span></div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>            <a class="code hl_function" href="gl__backend_8c.html#aca3e3f9f03357db16ce588778b258020">GL_BlendFunc</a>(<a class="code hl_define" href="glquake_8h.html#a72086daeeb80e5eb5788f42a4eea050e">GL_ZERO</a>, <a class="code hl_define" href="glquake_8h.html#afae62364eab2dc69c95b17363ba687f4">GL_ONE_MINUS_SRC_COLOR</a>);</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>            <span class="comment">// iterate until we find a change in settings</span></div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchstart</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>++;</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>            <span class="keywordflow">for</span> (;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a> &lt; numsurfaces;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>++)</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>            {</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>                p = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a> + surfacelist[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>];</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>                <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#ab369aab17b6ae3d56c365a78df299f26">blendmode</a> != <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a> || <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> != <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[p-&gt;<a class="code hl_variable" href="structparticle__t.html#a44998a7a38feea3023d681da5e265c35">texnum</a>].<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a>)</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>            }</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>        }</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>        {</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>            <span class="comment">// additive or alpha blend - group these</span></div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>            <span class="comment">// (we can group these because we premultiplied the texture alpha)</span></div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>            <a class="code hl_function" href="gl__backend_8c.html#aca3e3f9f03357db16ce588778b258020">GL_BlendFunc</a>(<a class="code hl_define" href="glquake_8h.html#aa92fae02a274fe856dad3362144f84dd">GL_ONE</a>, <a class="code hl_define" href="glquake_8h.html#aa3926eb5e008f14829baa8d72435215f">GL_ONE_MINUS_SRC_ALPHA</a>);</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>            <span class="comment">// iterate until we find a change in settings</span></div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchstart</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>++;</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>            <span class="keywordflow">for</span> (;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a> &lt; numsurfaces;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>++)</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>            {</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>                p = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a> + surfacelist[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a>];</div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span>                <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#ab369aab17b6ae3d56c365a78df299f26">blendmode</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a> || <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> != <a class="code hl_variable" href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a>[p-&gt;<a class="code hl_variable" href="structparticle__t.html#a44998a7a38feea3023d681da5e265c35">texnum</a>].<a class="code hl_variable" href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">texture</a>)</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>            }</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>        }</div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span> </div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchcount</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacelistindex</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchstart</a>;</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>        <a class="code hl_function" href="gl__backend_8c.html#a5fd11a8a3e5cbb27690e870134b36675">R_Mesh_Draw</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchstart</a> * 4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchcount</a> * 4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchstart</a> * 2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">batchcount</a> * 2, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>    }</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>}</div>
</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span> </div>
<div class="foldopen" id="foldopen02773" data-start="{" data-end="}">
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"><a class="line" href="cl__particles_8c.html#a269fd33c76fb111560575c221c410954"> 2773</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__particles_8c.html#a269fd33c76fb111560575c221c410954">R_DrawParticles</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>{</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>;</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawparticles</a> = <a class="code hl_variable" href="cl__particles_8c.html#a602b3811977306bd6043b699f53b1d82">r_drawparticles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_start</a>;</div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>    <a class="code hl_struct" href="structparticle__t.html">particle_t</a> *p;</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>    <span class="keywordtype">float</span> gravity, frametime, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldorg</a>[3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>[3];</div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawdist2</a>;</div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>;</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">update</a>;</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span> </div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span>    frametime = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> - <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ac3bb45f5e574b587989b01d53a91e14a">particles_updatetime</a>, 1);</div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>    <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ac3bb45f5e574b587989b01d53a91e14a">particles_updatetime</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> - 1, <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ac3bb45f5e574b587989b01d53a91e14a">particles_updatetime</a> + frametime, <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> + 1);</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span> </div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>    <span class="comment">// LadyHavoc: early out conditions</span></div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a>)</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span> </div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_start</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a7231a4f45a0c95a676aefaae30a2cb61">origin</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#ae77b6ccbb4e40b1132239a12c91438f9">forward</a>) + <a class="code hl_variable" href="cl__particles_8c.html#a1f022d8cf752f39eb8fa9ef9c96a9aaa">r_drawparticles_nearclip_min</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>    gravity = frametime * <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a6872d1327283739a220a4021cbd066c7">movevars_gravity</a>;</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">update</a> = frametime &gt; 0;</div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawdist2</a> = <a class="code hl_variable" href="cl__particles_8c.html#a22d481913baeb97ca5b5ce03102a3645">r_drawparticles_drawdistance</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a4588b43854008784aac18ca28ee76c29">quality</a>;</div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawdist2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawdist2</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawdist2</a>;</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span> </div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, p = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, p++)</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>    {</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>        <span class="keywordflow">if</span> (!p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a>)</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>        {</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a> &gt; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>                <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>        }</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span> </div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">update</a>)</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>        {</div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>            <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#ab8f5e16f4bd8c0893ea53a886131437f">delayedspawn</a> &gt; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a>)</div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span> </div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>            p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">size</a> += p-&gt;<a class="code hl_variable" href="structparticle__t.html#aa22810b3f2b6decc399bd4dd651f3d17">sizeincrease</a> * frametime;</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>            p-&gt;<a class="code hl_variable" href="structparticle__t.html#a99b4c7bf204ed8a6ecd726dbbe1c6cde">alpha</a> -= p-&gt;<a class="code hl_variable" href="structparticle__t.html#a3ec6d540e0915fa06d7ba7ef3d4f9476">alphafade</a> * frametime;</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span> </div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>            <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a99b4c7bf204ed8a6ecd726dbbe1c6cde">alpha</a> &lt;= 0 || p-&gt;<a class="code hl_variable" href="structparticle__t.html#a52dd8e7fb8a42c0dc0911508672384ad">die</a> &lt;= <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a>)</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span> </div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>            <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a688c4817a6f714e8952d1f3feeebe3ed">orientation</a> != <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537ac899b70e86b99ce399702f26a5aa2587">PARTICLE_VBEAM</a> &amp;&amp; p-&gt;<a class="code hl_variable" href="structparticle__t.html#a688c4817a6f714e8952d1f3feeebe3ed">orientation</a> != <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a> &amp;&amp; frametime &gt; 0)</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>            {</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>                <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#aaa836b4de340fa69c1805ef5a547cc78">liquidfriction</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a9667beb77f4b7f14afb309d066c015bb">cl_particles_collisions</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; (<a class="code hl_define" href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>) &amp; <a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>))</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>                {</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>                    <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>)</div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span>                        p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">size</a> += frametime * 8;</div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>                        p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[2] -= p-&gt;<a class="code hl_variable" href="structparticle__t.html#a69962b0c145659013692a5eb42b8636f">gravity</a> * gravity;</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>                    <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = 1.0f - <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#aaa836b4de340fa69c1805ef5a547cc78">liquidfriction</a> * frametime, 1);</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span>                    <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>);</div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>                }</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span>                {</div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>                    p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[2] -= p-&gt;<a class="code hl_variable" href="structparticle__t.html#a69962b0c145659013692a5eb42b8636f">gravity</a> * gravity;</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>                    <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a64c0e61f03ef435ca74e2c5269f2ca14">airfriction</a>)</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>                    {</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = 1.0f - <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a64c0e61f03ef435ca74e2c5269f2ca14">airfriction</a> * frametime, 1);</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>                        <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>);</div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>                    }</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>                }</div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span> </div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldorg</a>);</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>                <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, frametime, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span><span class="comment">//              if (p-&gt;bounce &amp;&amp; cl.time &gt;= p-&gt;delayedcollisions)</span></div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>                <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a5dcbe72974adcf8c8752f79e990aee83">bounce</a> &amp;&amp; <a class="code hl_variable" href="cl__particles_8c.html#a9667beb77f4b7f14afb309d066c015bb">cl_particles_collisions</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#a56e5c6bf818028304d48fb1b9ca6f53a">VectorLength</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>))</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>                {</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>                    trace = <a class="code hl_function" href="cl__collision_8c.html#a3844376c9cc74935d902373d216acc75">CL_TraceLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldorg</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_define" href="world_8h.html#ac85dd5b7c1be8faf715803a4a921a313">MOVE_NORMAL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | ((p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799">pt_rain</a> || p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412">pt_snow</a>) ? <a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a> : 0), 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>                    <span class="comment">// if the trace started in or hit something of SUPERCONTENTS_NODROP</span></div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>                    <span class="comment">// or if the trace hit something flagged as NOIMPACT</span></div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>                    <span class="comment">// then remove the particle</span></div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>                    <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a3de5026fb5e0e13c11701ab40ad0db13">hitq3surfaceflags</a> &amp; <a class="code hl_define" href="model__q3bsp_8h.html#a7fb78b54cea0523f324ac2070a59420b">Q3SURFACEFLAG_NOIMPACT</a> || ((trace.<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a> | trace.<a class="code hl_variable" href="structtrace__t.html#ad9e1724e1bd447e3ab1ea29db3e73e46">hitsupercontents</a>) &amp; <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a>) || (trace.<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>))</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>                    <span class="comment">// react if the particle hit something</span></div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span>                    <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> &lt; 1)</div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>                    {</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>                        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span> </div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>                        <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#aa306a3b84a42c8c514723bf0c09b4c59">staintexnum</a> &gt;= 0)</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>                        {</div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>                            <span class="comment">// blood - splash on solid</span></div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>                            <span class="keywordflow">if</span> (!(trace.<a class="code hl_variable" href="structtrace__t.html#a3de5026fb5e0e13c11701ab40ad0db13">hitq3surfaceflags</a> &amp; <a class="code hl_define" href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a>))</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>                            {</div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>                                <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, 16,</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>                                    p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[0], p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[1], p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[2], (<span class="keywordtype">int</span>)(p-&gt;<a class="code hl_variable" href="structparticle__t.html#ac75dca861cd018a926cfadc69c01ace1">stainalpha</a> * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6e448691821b1388972c0c31fa3543e6">stainsize</a> * (1.0f / 160.0f)),</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>                                    p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[0], p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[1], p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[2], (<span class="keywordtype">int</span>)(p-&gt;<a class="code hl_variable" href="structparticle__t.html#ac75dca861cd018a926cfadc69c01ace1">stainalpha</a> * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6e448691821b1388972c0c31fa3543e6">stainsize</a> * (1.0f / 160.0f)));</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>                                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">cl_decals</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>                                {</div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>                                    <span class="comment">// create a decal for the blood splat</span></div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>                                    <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = 0xFFFFFF ^ (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[0]*65536+p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[1]*256+p-&gt;<a class="code hl_variable" href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">staincolor</a>[2]);</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>                                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a388f5f0a40d4c55e3f00aba1064eaa70">cl_decals_newsystem_bloodsmears</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>                                    {</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>                                        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>);</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>                                        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>);</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>                                    }</div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>                                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>                                        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>);</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>                                    <a class="code hl_function" href="cl__particles_8c.html#a758794662c823b251decedee12b2467d">CL_SpawnDecalParticleForSurface</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#aa306a3b84a42c8c514723bf0c09b4c59">staintexnum</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6e448691821b1388972c0c31fa3543e6">stainsize</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#ac75dca861cd018a926cfadc69c01ace1">stainalpha</a>); <span class="comment">// staincolor needs to be inverted for decals!</span></div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>                                }</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>                            }</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>                        }</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span> </div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>                        <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>)</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>                        {</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>                            <span class="comment">// blood - splash on solid</span></div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>                            <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a3de5026fb5e0e13c11701ab40ad0db13">hitq3surfaceflags</a> &amp; <a class="code hl_define" href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a>)</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>                                <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>                            <span class="keywordflow">if</span>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#aa306a3b84a42c8c514723bf0c09b4c59">staintexnum</a> == -1) <span class="comment">// staintex &lt; -1 means no stains at all</span></div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>                            {</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span>                                <a class="code hl_function" href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, 16, 64, 16, 16, (<span class="keywordtype">int</span>)(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a99b4c7bf204ed8a6ecd726dbbe1c6cde">alpha</a> * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">size</a> * (1.0f / 80.0f)), 64, 32, 32, (<span class="keywordtype">int</span>)(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a99b4c7bf204ed8a6ecd726dbbe1c6cde">alpha</a> * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">size</a> * (1.0f / 80.0f)));</div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>                                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">cl_decals</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>                                {</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>                                    <span class="comment">// create a decal for the blood splat</span></div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>                                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__particles_8c.html#a388f5f0a40d4c55e3f00aba1064eaa70">cl_decals_newsystem_bloodsmears</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>                                    {</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>                                        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>);</div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>                                        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>);</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>                                    }</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>                                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>                                        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>);</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>                                    <a class="code hl_function" href="cl__particles_8c.html#a758794662c823b251decedee12b2467d">CL_SpawnDecalParticleForSurface</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitent</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">decaldir</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[0] * 65536 + p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[1] * 256 + p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[2], p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[0] * 65536 + p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[1] * 256 + p-&gt;<a class="code hl_variable" href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">color</a>[2], <a class="code hl_variable" href="cl__particles_8c.html#a8bd3eddeb4e3aa4a5f15a477b8f4acd9">tex_blooddecal</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>()&amp;7], p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">size</a> * <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(<a class="code hl_variable" href="cl__particles_8c.html#a974ffa6f78d7b4f691c6d1a5ee282bbf">cl_particles_blood_decal_scalemin</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__particles_8c.html#a953ec697f96f4c0c360bcc0a6f283ceb">cl_particles_blood_decal_scalemax</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>), <a class="code hl_variable" href="cl__particles_8c.html#a17357c1b91df0434b8bb04c9b40c26e0">cl_particles_blood_decal_alpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * 768);</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>                                }</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>                            }</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>                            <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>                        }</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a5dcbe72974adcf8c8752f79e990aee83">bounce</a> &lt; 0)</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>                        {</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>                            <span class="comment">// bounce -1 means remove on impact</span></div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>                            <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span>                        }</div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>                        {</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>                            <span class="comment">// anything else - bounce off solid</span></div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>                            dist = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>) * -p-&gt;<a class="code hl_variable" href="structparticle__t.html#a5dcbe72974adcf8c8752f79e990aee83">bounce</a>;</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>                            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>, dist, trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>);</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>                        }</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>                    }</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span>                }</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span> </div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>) &lt; 0.03)</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>                {</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>                    <span class="keywordflow">if</span>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a688c4817a6f714e8952d1f3feeebe3ed">orientation</a> == <a class="code hl_enumvalue" href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a>) <span class="comment">// sparks are virtually invisible if very slow, so rather let them go off</span></div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>                    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>);</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>                }</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>            }</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span> </div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>            <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a> != <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a>)</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>            {</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>                <span class="keywordflow">switch</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a>)</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span>                {</div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911acc387488f76b18b6d7f75d0123d409ec">pt_entityparticle</a>:</div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>                    <span class="comment">// particle that removes itself after one rendered frame</span></div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>                    <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#adf9bdc66cb53f447784ef35aeece56f7">time2</a>)</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>                        p-&gt;<a class="code hl_variable" href="structparticle__t.html#adf9bdc66cb53f447784ef35aeece56f7">time2</a> = 1;</div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a>:</div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>                    <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_define" href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &amp; (<a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a> | <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a>))</div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8055054252829be9b925dc66c603e0c4">pt_bubble</a>:</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>                    <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_define" href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>                    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &amp; (<a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a> | <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>)))</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799">pt_rain</a>:</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>                    <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_define" href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &amp; (<a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>))</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412">pt_snow</a>:</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> &gt; p-&gt;<a class="code hl_variable" href="structparticle__t.html#adf9bdc66cb53f447784ef35aeece56f7">time2</a>)</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>                    {</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>                        <span class="comment">// snow flutter</span></div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>                        p-&gt;<a class="code hl_variable" href="structparticle__t.html#adf9bdc66cb53f447784ef35aeece56f7">time2</a> = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>() &amp; 3) * 0.1;</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>                        p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[0] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[0] * 0.9f + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(-32, 32);</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>                        p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[1] = p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">vel</a>[0] * 0.9f + <a class="code hl_define" href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a>(-32, 32);</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>                    }</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>                    <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_define" href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &amp; (<a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>))</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>;</div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>                }</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>            }</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>        }</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structparticle__t.html#ab8f5e16f4bd8c0893ea53a886131437f">delayedspawn</a> &gt; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a>)</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawparticles</a>)</div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span>        <span class="comment">// don&#39;t render particles too close to the view (they chew fillrate)</span></div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span>        <span class="comment">// also don&#39;t render particles behind the view (useless)</span></div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>        <span class="comment">// further checks to cull to the frustum would be too slow here</span></div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>        <span class="keywordflow">switch</span>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a>)</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>        {</div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a93fb2113abaab3759e9e09cd69e2fdac">pt_beam</a>:</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>            <span class="comment">// beams have no culling</span></div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>            <a class="code hl_function" href="meshqueue_8c.html#a407895e2984e8902bc64d8221e2e6e4d">R_MeshQueue_AddTransparent</a>(<a class="code hl_enumvalue" href="r__qshader_8h.html#a72d5e32663fb1b0c369079ca0be01f37a2a635f265dd33d939e6dcd1482147080">TRANSPARENTSORT_DISTANCE</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8b2e18ebe052a10887d9092b0df80f90">sortorigin</a>, <a class="code hl_function" href="cl__particles_8c.html#a3ad88b530b417f5ded0137cb32f661b5">R_DrawParticle_TransparentCallback</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__particles_8c.html#a0c2b4bf6f2ce893e391067426fb2af39">cl_particles_visculling</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a1fe645bfc26ff5aef11c6be3db359a11">viewcache</a>.<a class="code hl_variable" href="structr__refdef__viewcache__t.html#a83b0dfe23b86f68da5ee3884a29a27c0">world_novis</a>)</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#aa2dcfd41f0bab5977bed85951106fd29">worldmodel</a> &amp;&amp; <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#aa2dcfd41f0bab5977bed85951106fd29">worldmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">PointInLeaf</a>)</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>                    {</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>                        <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#aa2dcfd41f0bab5977bed85951106fd29">worldmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">PointInLeaf</a>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#aa2dcfd41f0bab5977bed85951106fd29">worldmodel</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>);</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>)</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>                            <span class="keywordflow">if</span>(!<a class="code hl_define" href="model__brush_8h.html#a6aaa281ecfff2614bfd32a87a353ad5f">CHECKPVSBIT</a>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a1fe645bfc26ff5aef11c6be3db359a11">viewcache</a>.<a class="code hl_variable" href="structr__refdef__viewcache__t.html#a754151ee2d2a944a5e428538cafa0d9e">world_pvsbits</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;clusterindex))</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>                    }</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>            <span class="comment">// anything else just has to be in front of the viewer and visible at this distance</span></div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a7b16684d5900ba97b0545874a31df5fb">useperspective</a> || (<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#ae77b6ccbb4e40b1132239a12c91438f9">forward</a>) &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">minparticledist_start</a> &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#a9a5748d2424dee5c44d5d358e1944125">VectorDistance2</a>(p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">org</a>, <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a7231a4f45a0c95a676aefaae30a2cb61">origin</a>) &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">drawdist2</a> * (p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">size</a> * p-&gt;<a class="code hl_variable" href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">size</a>)))</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>                <a class="code hl_function" href="meshqueue_8c.html#a407895e2984e8902bc64d8221e2e6e4d">R_MeshQueue_AddTransparent</a>(<a class="code hl_enumvalue" href="r__qshader_8h.html#a72d5e32663fb1b0c369079ca0be01f37a2a635f265dd33d939e6dcd1482147080">TRANSPARENTSORT_DISTANCE</a>, p-&gt;<a class="code hl_variable" href="structparticle__t.html#a8b2e18ebe052a10887d9092b0df80f90">sortorigin</a>, <a class="code hl_function" href="cl__particles_8c.html#a3ad88b530b417f5ded0137cb32f661b5">R_DrawParticle_TransparentCallback</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>        }</div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span> </div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">killparticle</a>:</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>        p-&gt;<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a> = 0;</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a> &gt; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>            <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">free_particle</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>    }</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span> </div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>    <span class="comment">// reduce cl.num_particles if possible</span></div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a>[<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a> - 1].<a class="code hl_variable" href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">typeindex</a> == 0)</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>        <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a>--;</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span> </div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a> == <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">max_particles</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">max_particles</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a43b318e80d2457f5ce3e00a6cf1543c8">MAX_PARTICLES</a>)</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>    {</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>        <a class="code hl_struct" href="structparticle__t.html">particle_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldparticles</a> = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a>;</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>        <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">max_particles</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">max_particles</a> * 2, <a class="code hl_define" href="qdefs_8h.html#a43b318e80d2457f5ce3e00a6cf1543c8">MAX_PARTICLES</a>);</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>        <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a> = (<a class="code hl_struct" href="structparticle__t.html">particle_t</a> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ad0529e185060d700b3690daa7c313d1f">levelmempool</a>, <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">max_particles</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structparticle__t.html">particle_t</a>));</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">particles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldparticles</a>, <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">num_particles</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structparticle__t.html">particle_t</a>));</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldparticles</a>);</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>    }</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>}</div>
</div>
<div class="ttc" id="abspfile_8h_html_a0a2fa78587a49f238efd2b5067e66361"><div class="ttname"><a href="bspfile_8h.html#a0a2fa78587a49f238efd2b5067e66361">SUPERCONTENTS_SKY</a></div><div class="ttdeci">#define SUPERCONTENTS_SKY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00200">bspfile.h:200</a></div></div>
<div class="ttc" id="abspfile_8h_html_a141cf05726f903843bc66d2365f56bd2"><div class="ttname"><a href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a></div><div class="ttdeci">#define SUPERCONTENTS_BODY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00201">bspfile.h:201</a></div></div>
<div class="ttc" id="abspfile_8h_html_a1c8c25328105edb0ce33da011b939a27"><div class="ttname"><a href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a></div><div class="ttdeci">#define SUPERCONTENTS_LAVA</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00199">bspfile.h:199</a></div></div>
<div class="ttc" id="abspfile_8h_html_a7528d0e1edabc785475a08a7890597ea"><div class="ttname"><a href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a></div><div class="ttdeci">#define SUPERCONTENTS_SLIME</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00198">bspfile.h:198</a></div></div>
<div class="ttc" id="abspfile_8h_html_a85f0acbb100ce4dc3c63037496d631d6"><div class="ttname"><a href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a></div><div class="ttdeci">#define SUPERCONTENTS_SOLID</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00196">bspfile.h:196</a></div></div>
<div class="ttc" id="abspfile_8h_html_a86cebf49778299337e696bf0abc2d046"><div class="ttname"><a href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a></div><div class="ttdeci">#define SUPERCONTENTS_LIQUIDSMASK</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00218">bspfile.h:218</a></div></div>
<div class="ttc" id="abspfile_8h_html_aeae4f676c7d0c05384e4608a2d4d3153"><div class="ttname"><a href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a></div><div class="ttdeci">#define SUPERCONTENTS_NODROP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00203">bspfile.h:203</a></div></div>
<div class="ttc" id="abspfile_8h_html_af59d298899c2ac56a21f94c327776551"><div class="ttname"><a href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a></div><div class="ttdeci">#define SUPERCONTENTS_WATER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00197">bspfile.h:197</a></div></div>
<div class="ttc" id="acl__collision_8c_html_a3844376c9cc74935d902373d216acc75"><div class="ttname"><a href="cl__collision_8c.html#a3844376c9cc74935d902373d216acc75">CL_TraceLine</a></div><div class="ttdeci">trace_t CL_TraceLine(const vec3_t start, const vec3_t end, int type, prvm_edict_t *passedict, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, float extend, qbool hitnetworkbrushmodels, qbool hitnetworkplayers, int *hitnetworkentity, qbool hitcsqcentities, qbool hitsurfaces)</div><div class="ttdef"><b>Definition</b> <a href="cl__collision_8c_source.html#l00427">cl_collision.c:427</a></div></div>
<div class="ttc" id="acl__collision_8h_html"><div class="ttname"><a href="cl__collision_8h.html">cl_collision.h</a></div></div>
<div class="ttc" id="acl__collision_8h_html_a580287095e0554075cfd9b1f414546bc"><div class="ttname"><a href="cl__collision_8h.html#a580287095e0554075cfd9b1f414546bc">CL_PointSuperContents</a></div><div class="ttdeci">#define CL_PointSuperContents(point)</div><div class="ttdef"><b>Definition</b> <a href="cl__collision_8h_source.html#l00017">cl_collision.h:17</a></div></div>
<div class="ttc" id="acl__main_8c_html_a7146da0ac71b5c324880f55a64c76f57"><div class="ttname"><a href="cl__main_8c.html#a7146da0ac71b5c324880f55a64c76f57">CL_AllocLightFlash</a></div><div class="ttdeci">void CL_AllocLightFlash(entity_render_t *ent, matrix4x4_t *matrix, float radius, float red, float green, float blue, float decay, float lifetime, char *cubemapname, int style, int shadowenable, vec_t corona, vec_t coronasizescale, vec_t ambientscale, vec_t diffusescale, vec_t specularscale, int flags)</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00854">cl_main.c:854</a></div></div>
<div class="ttc" id="acl__main_8c_html_aa07d17cda937753e8e976ea3c9c5c312"><div class="ttname"><a href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a></div><div class="ttdeci">client_state_t cl</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00115">cl_main.c:115</a></div></div>
<div class="ttc" id="acl__main_8c_html_ab4b4e0f12a72d330ee0869bdf1b372cd"><div class="ttname"><a href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a></div><div class="ttdeci">client_static_t cls</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00114">cl_main.c:114</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a074e3ab5002baacfed84aa7ddfd09bdb"><div class="ttname"><a href="cl__particles_8c.html#a074e3ab5002baacfed84aa7ddfd09bdb">particlepalette</a></div><div class="ttdeci">static int particlepalette[256]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00134">cl_particles.c:134</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a08ace096b3b024433cc9e527697cfdd9"><div class="ttname"><a href="cl__particles_8c.html#a08ace096b3b024433cc9e527697cfdd9">R_InitBloodTextures</a></div><div class="ttdeci">static void R_InitBloodTextures(unsigned char *particletexturedata)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02127">cl_particles.c:2127</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a0a11a32a65f77afb7182ff522077f43f"><div class="ttname"><a href="cl__particles_8c.html#a0a11a32a65f77afb7182ff522077f43f">particleeffectinfo</a></div><div class="ttdeci">particleeffectinfo_t particleeffectinfo[MAX_PARTICLEEFFECTINFO]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00132">cl_particles.c:132</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a0bb10fca47b19015f9dbf8e019eb08bd"><div class="ttname"><a href="cl__particles_8c.html#a0bb10fca47b19015f9dbf8e019eb08bd">PARTICLEEFFECT_UNDERWATER</a></div><div class="ttdeci">#define PARTICLEEFFECT_UNDERWATER</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00045">cl_particles.c:45</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a0c2b4bf6f2ce893e391067426fb2af39"><div class="ttname"><a href="cl__particles_8c.html#a0c2b4bf6f2ce893e391067426fb2af39">cl_particles_visculling</a></div><div class="ttdeci">cvar_t cl_particles_visculling</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00299">cl_particles.c:299</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a0c662d440b3dd203f47632c391691fda"><div class="ttname"><a href="cl__particles_8c.html#a0c662d440b3dd203f47632c391691fda">particle_color4f</a></div><div class="ttdeci">float particle_color4f[MESHQUEUE_TRANSPARENT_BATCHSIZE *16]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02466">cl_particles.c:2466</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a0c8d93ac766d080cf6ef07bbc2cbd433"><div class="ttname"><a href="cl__particles_8c.html#a0c8d93ac766d080cf6ef07bbc2cbd433">CL_ReadPointFile_f</a></div><div class="ttdeci">void CL_ReadPointFile_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01732">cl_particles.c:1732</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a0cc2a8470947657c318d07aa7972fce4"><div class="ttname"><a href="cl__particles_8c.html#a0cc2a8470947657c318d07aa7972fce4">readints</a></div><div class="ttdeci">#define readints(array, n)</div></div>
<div class="ttc" id="acl__particles_8c_html_a0f3cc59dbeea8225973afb4876e67de4"><div class="ttname"><a href="cl__particles_8c.html#a0f3cc59dbeea8225973afb4876e67de4">CL_ParticleEffectNameForIndex</a></div><div class="ttdeci">const char * CL_ParticleEffectNameForIndex(int i)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00489">cl_particles.c:489</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a0f9b7dc0f4f694f8aa0ec8956d1e5269"><div class="ttname"><a href="cl__particles_8c.html#a0f9b7dc0f4f694f8aa0ec8956d1e5269">cl_particles_blood_bloodhack</a></div><div class="ttdeci">cvar_t cl_particles_blood_bloodhack</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00288">cl_particles.c:288</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a1118bc3a4040530d1ef0f43ad4e61ff0"><div class="ttname"><a href="cl__particles_8c.html#a1118bc3a4040530d1ef0f43ad4e61ff0">CL_ParticleTrail</a></div><div class="ttdeci">void CL_ParticleTrail(int effectnameindex, float pcount, const vec3_t originmins, const vec3_t originmaxs, const vec3_t velocitymins, const vec3_t velocitymaxs, entity_t *ent, int palettecolor, qbool spawndlight, qbool spawnparticles, float tintmins[4], float tintmaxs[4], float fade)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01683">cl_particles.c:1683</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a12de8f42ac45747ad137721d2fc1a8b9"><div class="ttname"><a href="cl__particles_8c.html#a12de8f42ac45747ad137721d2fc1a8b9">checkparms</a></div><div class="ttdeci">#define checkparms(n)</div></div>
<div class="ttc" id="acl__particles_8c_html_a13e444f16130b8d3fcbf159a91112a6d"><div class="ttname"><a href="cl__particles_8c.html#a13e444f16130b8d3fcbf159a91112a6d">particle_vertex3f</a></div><div class="ttdeci">float particle_vertex3f[MESHQUEUE_TRANSPARENT_BATCHSIZE *12]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02466">cl_particles.c:2466</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a15ad601cb79c76a8e4893d195ec0c214"><div class="ttname"><a href="cl__particles_8c.html#a15ad601cb79c76a8e4893d195ec0c214">r_part_start</a></div><div class="ttdeci">static void r_part_start(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02442">cl_particles.c:2442</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a16fed15808e5743d5e8c36915eb80452"><div class="ttname"><a href="cl__particles_8c.html#a16fed15808e5743d5e8c36915eb80452">CL_ParticleEffect</a></div><div class="ttdeci">void CL_ParticleEffect(int effectnameindex, float pcount, const vec3_t originmins, const vec3_t originmaxs, const vec3_t velocitymins, const vec3_t velocitymaxs, entity_t *ent, int palettecolor)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01694">cl_particles.c:1694</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a17065fd3b95f6664abc853dfcfe055fb"><div class="ttname"><a href="cl__particles_8c.html#a17065fd3b95f6664abc853dfcfe055fb">readint</a></div><div class="ttdeci">#define readint(var)</div></div>
<div class="ttc" id="acl__particles_8c_html_a17357c1b91df0434b8bb04c9b40c26e0"><div class="ttname"><a href="cl__particles_8c.html#a17357c1b91df0434b8bb04c9b40c26e0">cl_particles_blood_decal_alpha</a></div><div class="ttdeci">cvar_t cl_particles_blood_decal_alpha</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00285">cl_particles.c:285</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a184c475c75758d6c027a244e337e7dbe"><div class="ttname"><a href="cl__particles_8c.html#a184c475c75758d6c027a244e337e7dbe">CL_NewParticle</a></div><div class="ttdeci">particle_t * CL_NewParticle(const vec3_t sortorigin, unsigned short ptypeindex, int pcolor1, int pcolor2, int ptex, float psize, float psizeincrease, float palpha, float palphafade, float pgravity, float pbounce, float px, float py, float pz, float pvx, float pvy, float pvz, float pairfriction, float pliquidfriction, float originjitter, float velocityjitter, qbool pqualityreduction, float lifetime, float stretch, pblend_t blendmode, porientation_t orientation, int staincolor1, int staincolor2, int staintex, float stainalpha, float stainsize, float angle, float spin, float tint[4])</div><div class="ttdoc">THis is a brief description.</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00659">cl_particles.c:659</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a1a56e46384e9ee374ffcc9777039df89"><div class="ttname"><a href="cl__particles_8c.html#a1a56e46384e9ee374ffcc9777039df89">shadebubble</a></div><div class="ttdeci">static unsigned char shadebubble(float dx, float dy, vec3_t light)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02021">cl_particles.c:2021</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a1d69e03549cee4b9c93f7ad4e010316a"><div class="ttname"><a href="cl__particles_8c.html#a1d69e03549cee4b9c93f7ad4e010316a">cl_particles_explosions_sparks</a></div><div class="ttdeci">cvar_t cl_particles_explosions_sparks</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00290">cl_particles.c:290</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a1d8f7a8c247f8f3643bab06fcffd5cf4"><div class="ttname"><a href="cl__particles_8c.html#a1d8f7a8c247f8f3643bab06fcffd5cf4">LightCubemapNumToName</a></div><div class="ttdeci">static char * LightCubemapNumToName(char *vabuf, size_t vasize, int lightcubemapnum, int flags)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00921">cl_particles.c:921</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a1f022d8cf752f39eb8fa9ef9c96a9aaa"><div class="ttname"><a href="cl__particles_8c.html#a1f022d8cf752f39eb8fa9ef9c96a9aaa">r_drawparticles_nearclip_min</a></div><div class="ttdeci">static cvar_t r_drawparticles_nearclip_min</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02013">cl_particles.c:2013</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a206e2f917471a002ac4a4c3016da3cfc"><div class="ttname"><a href="cl__particles_8c.html#a206e2f917471a002ac4a4c3016da3cfc">baselineparticleeffectinfo</a></div><div class="ttdeci">particleeffectinfo_t baselineparticleeffectinfo</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00200">cl_particles.c:200</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a22d481913baeb97ca5b5ce03102a3645"><div class="ttname"><a href="cl__particles_8c.html#a22d481913baeb97ca5b5ce03102a3645">r_drawparticles_drawdistance</a></div><div class="ttdeci">static cvar_t r_drawparticles_drawdistance</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02012">cl_particles.c:2012</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a269fd33c76fb111560575c221c410954"><div class="ttname"><a href="cl__particles_8c.html#a269fd33c76fb111560575c221c410954">R_DrawParticles</a></div><div class="ttdeci">void R_DrawParticles(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02773">cl_particles.c:2773</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a26cc78718a14d72c477a9e312bf85cd7"><div class="ttname"><a href="cl__particles_8c.html#a26cc78718a14d72c477a9e312bf85cd7">r_drawdecals</a></div><div class="ttdeci">cvar_t r_drawdecals</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02015">cl_particles.c:2015</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a28138d0f32ea01a7405c575eb0a2591f"><div class="ttname"><a href="cl__particles_8c.html#a28138d0f32ea01a7405c575eb0a2591f">CL_ImmediateBloodStain</a></div><div class="ttdeci">static void CL_ImmediateBloodStain(particle_t *part)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00845">cl_particles.c:845</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a2840792247461e58e93656953d42d57c"><div class="ttname"><a href="cl__particles_8c.html#a2840792247461e58e93656953d42d57c">ramp1</a></div><div class="ttdeci">int ramp1[8]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00170">cl_particles.c:170</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a2a060c1451c9d81f58c973fd9e5dec50"><div class="ttname"><a href="cl__particles_8c.html#a2a060c1451c9d81f58c973fd9e5dec50">cl_decals</a></div><div class="ttdeci">cvar_t cl_decals</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00302">cl_particles.c:302</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a2a45261a90922f4a86a8776a20e42b26"><div class="ttname"><a href="cl__particles_8c.html#a2a45261a90922f4a86a8776a20e42b26">decalskinframe</a></div><div class="ttdeci">skinframe_t * decalskinframe</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00187">cl_particles.c:187</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a2a7d399f6cf966d1f48088bebad11d45"><div class="ttname"><a href="cl__particles_8c.html#a2a7d399f6cf966d1f48088bebad11d45">CL_Particles_Init</a></div><div class="ttdeci">void CL_Particles_Init(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00585">cl_particles.c:585</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a2d155d61ed570b33f3bc4d23984ed0e5"><div class="ttname"><a href="cl__particles_8c.html#a2d155d61ed570b33f3bc4d23984ed0e5">cl_particles_blood_alpha</a></div><div class="ttdeci">cvar_t cl_particles_blood_alpha</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00284">cl_particles.c:284</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a304d94629d06b51a344607f908fb08fe"><div class="ttname"><a href="cl__particles_8c.html#a304d94629d06b51a344607f908fb08fe">CL_Sparks</a></div><div class="ttdeci">static void CL_Sparks(const vec3_t originmins, const vec3_t originmaxs, const vec3_t velocitymins, const vec3_t velocitymaxs, float sparkcount)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01916">cl_particles.c:1916</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a30a311c23609ab922f2a8a64748f2b23"><div class="ttname"><a href="cl__particles_8c.html#a30a311c23609ab922f2a8a64748f2b23">cl_particles_sparks</a></div><div class="ttdeci">cvar_t cl_particles_sparks</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00297">cl_particles.c:297</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a33b9ef19cbf971c0d7e76c1614d38c18"><div class="ttname"><a href="cl__particles_8c.html#a33b9ef19cbf971c0d7e76c1614d38c18">particlefontrows</a></div><div class="ttdeci">int particlefontrows</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02054">cl_particles.c:2054</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a346c8065a23c16bc92bebff34c7a24d4"><div class="ttname"><a href="cl__particles_8c.html#a346c8065a23c16bc92bebff34c7a24d4">particlefontcellheight</a></div><div class="ttdeci">int particlefontcellheight</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02054">cl_particles.c:2054</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a3760406af324f09da9efb27242b43acc"><div class="ttname"><a href="cl__particles_8c.html#a3760406af324f09da9efb27242b43acc">r_part_newmap</a></div><div class="ttdeci">static void r_part_newmap(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02458">cl_particles.c:2458</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a380653fd37230225f6e52c2355bd69b3"><div class="ttname"><a href="cl__particles_8c.html#a380653fd37230225f6e52c2355bd69b3">CL_ParticleRain</a></div><div class="ttdeci">void CL_ParticleRain(const vec3_t mins, const vec3_t maxs, const vec3_t dir, int count, int colorbase, int type)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01955">cl_particles.c:1955</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a388f5f0a40d4c55e3f00aba1064eaa70"><div class="ttname"><a href="cl__particles_8c.html#a388f5f0a40d4c55e3f00aba1064eaa70">cl_decals_newsystem_bloodsmears</a></div><div class="ttdeci">cvar_t cl_decals_newsystem_bloodsmears</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00307">cl_particles.c:307</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a3ad88b530b417f5ded0137cb32f661b5"><div class="ttname"><a href="cl__particles_8c.html#a3ad88b530b417f5ded0137cb32f661b5">R_DrawParticle_TransparentCallback</a></div><div class="ttdeci">static void R_DrawParticle_TransparentCallback(const entity_render_t *ent, const rtlight_t *rtlight, int numsurfaces, int *surfacelist)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02490">cl_particles.c:2490</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a42ed4f788e9a1fedee04ca881c9476fc"><div class="ttname"><a href="cl__particles_8c.html#a42ed4f788e9a1fedee04ca881c9476fc">particletype</a></div><div class="ttdeci">particletype_t particletype[pt_total]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00028">cl_particles.c:28</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a443cd658f97c248199581e746dfbbaa2"><div class="ttname"><a href="cl__particles_8c.html#a443cd658f97c248199581e746dfbbaa2">particlefonttexture</a></div><div class="ttdeci">static rtexture_t * particlefonttexture</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00185">cl_particles.c:185</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a4444cc4273ec36b3a8926c436b904e34"><div class="ttname"><a href="cl__particles_8c.html#a4444cc4273ec36b3a8926c436b904e34">PARTICLETEXTURESIZE</a></div><div class="ttdeci">#define PARTICLETEXTURESIZE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02018">cl_particles.c:2018</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a461b70fa819de548d47be3e02bb21649"><div class="ttname"><a href="cl__particles_8c.html#a461b70fa819de548d47be3e02bb21649">particletextureinvert</a></div><div class="ttdeci">static void particletextureinvert(unsigned char *data)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02115">cl_particles.c:2115</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a464a2be6b9d12bf376957737b6de9e4b"><div class="ttname"><a href="cl__particles_8c.html#a464a2be6b9d12bf376957737b6de9e4b">CL_ParticleEffectIndexForName</a></div><div class="ttdeci">int CL_ParticleEffectIndexForName(const char *name)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00480">cl_particles.c:480</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a4a032d3fa61c1cca11dcbe929d0c1cd1"><div class="ttname"><a href="cl__particles_8c.html#a4a032d3fa61c1cca11dcbe929d0c1cd1">cl_particles</a></div><div class="ttdeci">cvar_t cl_particles</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00278">cl_particles.c:278</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a4c9ac7818ebd81603fa50c90f07e9f7c"><div class="ttname"><a href="cl__particles_8c.html#a4c9ac7818ebd81603fa50c90f07e9f7c">cl_particles_snow</a></div><div class="ttdeci">cvar_t cl_particles_snow</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00293">cl_particles.c:293</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a4f9f6ffcf2fbb15f8842bcc7e3f34bcd"><div class="ttname"><a href="cl__particles_8c.html#a4f9f6ffcf2fbb15f8842bcc7e3f34bcd">tex_bubble</a></div><div class="ttdeci">static const int tex_bubble</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00196">cl_particles.c:196</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a52b206454e90a5db1eae5c0e73308d1b"><div class="ttname"><a href="cl__particles_8c.html#a52b206454e90a5db1eae5c0e73308d1b">readfloats</a></div><div class="ttdeci">#define readfloats(array, n)</div></div>
<div class="ttc" id="acl__particles_8c_html_a5445d89dc558e21b58f6a1a8a879134c"><div class="ttname"><a href="cl__particles_8c.html#a5445d89dc558e21b58f6a1a8a879134c">CL_Particle_PixelCoordsForTexnum</a></div><div class="ttdeci">static void CL_Particle_PixelCoordsForTexnum(int texnum, int *basex, int *basey, int *width, int *height)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02055">cl_particles.c:2055</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a54dbdac1b4f41af0ce64eeca81338701"><div class="ttname"><a href="cl__particles_8c.html#a54dbdac1b4f41af0ce64eeca81338701">r_drawdecals_drawdistance</a></div><div class="ttdeci">static cvar_t r_drawdecals_drawdistance</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02016">cl_particles.c:2016</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a5a55cba7c7eae42513f70090eb4123a5"><div class="ttname"><a href="cl__particles_8c.html#a5a55cba7c7eae42513f70090eb4123a5">particlefontheight</a></div><div class="ttdeci">int particlefontheight</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02054">cl_particles.c:2054</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a5a97191b914e0b08acd7ada551bc35df"><div class="ttname"><a href="cl__particles_8c.html#a5a97191b914e0b08acd7ada551bc35df">CL_ParticleExplosion2</a></div><div class="ttdeci">void CL_ParticleExplosion2(const vec3_t org, int colorStart, int colorLength)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01901">cl_particles.c:1901</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a5ec0af4271168c6de4f85b02e09ad990"><div class="ttname"><a href="cl__particles_8c.html#a5ec0af4271168c6de4f85b02e09ad990">PARTICLEEFFECT_DEFINED</a></div><div class="ttdeci">#define PARTICLEEFFECT_DEFINED</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00048">cl_particles.c:48</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a5f2ecf2e52bea0e7f6fc7ab749e063c1"><div class="ttname"><a href="cl__particles_8c.html#a5f2ecf2e52bea0e7f6fc7ab749e063c1">PARTICLEEFFECT_NOTUNDERWATER</a></div><div class="ttdeci">#define PARTICLEEFFECT_NOTUNDERWATER</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00046">cl_particles.c:46</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a602b3811977306bd6043b699f53b1d82"><div class="ttname"><a href="cl__particles_8c.html#a602b3811977306bd6043b699f53b1d82">r_drawparticles</a></div><div class="ttdeci">cvar_t r_drawparticles</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02011">cl_particles.c:2011</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a603f0ea8a650bc4de8e9db613517497c"><div class="ttname"><a href="cl__particles_8c.html#a603f0ea8a650bc4de8e9db613517497c">cl_particles_smoke_alpha</a></div><div class="ttdeci">cvar_t cl_particles_smoke_alpha</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00295">cl_particles.c:295</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a61d204299a4db9c0a0239f9e4b473c8c"><div class="ttname"><a href="cl__particles_8c.html#a61d204299a4db9c0a0239f9e4b473c8c">CL_Particles_Shutdown</a></div><div class="ttdeci">void CL_Particles_Shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00625">cl_particles.c:625</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a632e148cdb17217f52dca376deb64cde"><div class="ttname"><a href="cl__particles_8c.html#a632e148cdb17217f52dca376deb64cde">cl_particles_explosions_shell</a></div><div class="ttdeci">cvar_t cl_particles_explosions_shell</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00291">cl_particles.c:291</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a64d596558a59154f148ab2d80a995679"><div class="ttname"><a href="cl__particles_8c.html#a64d596558a59154f148ab2d80a995679">cl_decals_newsystem_immediatebloodstain</a></div><div class="ttdeci">cvar_t cl_decals_newsystem_immediatebloodstain</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00306">cl_particles.c:306</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a68a04bd2efcf05172776ed05fdfccfe9"><div class="ttname"><a href="cl__particles_8c.html#a68a04bd2efcf05172776ed05fdfccfe9">tex_bulletdecal</a></div><div class="ttdeci">static const int tex_bulletdecal[8]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00191">cl_particles.c:191</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a6c5558fc73a89c48c5f50639dc1e7fef"><div class="ttname"><a href="cl__particles_8c.html#a6c5558fc73a89c48c5f50639dc1e7fef">cl_particles_quake</a></div><div class="ttdeci">cvar_t cl_particles_quake</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00282">cl_particles.c:282</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a6e6bc7d716df06ef1456a54bcccbd9fa"><div class="ttname"><a href="cl__particles_8c.html#a6e6bc7d716df06ef1456a54bcccbd9fa">readbool</a></div><div class="ttdeci">#define readbool(var)</div></div>
<div class="ttc" id="acl__particles_8c_html_a701be3cd2aadea892eeb449051b65b14"><div class="ttname"><a href="cl__particles_8c.html#a701be3cd2aadea892eeb449051b65b14">cl_particles_forcetraileffects</a></div><div class="ttdeci">cvar_t cl_particles_forcetraileffects</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00301">cl_particles.c:301</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a71ea864419a4c6f7c9bfe2c052e66bc0"><div class="ttname"><a href="cl__particles_8c.html#a71ea864419a4c6f7c9bfe2c052e66bc0">cl_particles_blood</a></div><div class="ttdeci">cvar_t cl_particles_blood</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00283">cl_particles.c:283</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a7226c06acdc174bc9840630665cb9ad3"><div class="ttname"><a href="cl__particles_8c.html#a7226c06acdc174bc9840630665cb9ad3">CL_ParticleCube</a></div><div class="ttdeci">void CL_ParticleCube(const vec3_t mins, const vec3_t maxs, const vec3_t dir, int count, int colorbase, vec_t gravity, vec_t randomvel)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01940">cl_particles.c:1940</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a7244af22446a8057848ed45beb2ae546"><div class="ttname"><a href="cl__particles_8c.html#a7244af22446a8057848ed45beb2ae546">PARTICLEFONTSIZE</a></div><div class="ttdeci">#define PARTICLEFONTSIZE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02019">cl_particles.c:2019</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a758794662c823b251decedee12b2467d"><div class="ttname"><a href="cl__particles_8c.html#a758794662c823b251decedee12b2467d">CL_SpawnDecalParticleForSurface</a></div><div class="ttdeci">void CL_SpawnDecalParticleForSurface(int hitent, const vec3_t org, const vec3_t normal, int color1, int color2, int texnum, float size, float alpha)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00869">cl_particles.c:869</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a81554b0a87175c4d2023705190f523b7"><div class="ttname"><a href="cl__particles_8c.html#a81554b0a87175c4d2023705190f523b7">CL_ParticleExplosion</a></div><div class="ttdeci">void CL_ParticleExplosion(const vec3_t org)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01832">cl_particles.c:1832</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a83262a4d573d41e73ec6b01ec60c56e8"><div class="ttname"><a href="cl__particles_8c.html#a83262a4d573d41e73ec6b01ec60c56e8">cl_particles_rain</a></div><div class="ttdeci">cvar_t cl_particles_rain</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00292">cl_particles.c:292</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a86d4df11099036697c1df522abf30bca"><div class="ttname"><a href="cl__particles_8c.html#a86d4df11099036697c1df522abf30bca">R_InitParticleTexture</a></div><div class="ttdeci">static void R_InitParticleTexture(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02163">cl_particles.c:2163</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a897da50b8a6e1204614ccc92e7eea1a9"><div class="ttname"><a href="cl__particles_8c.html#a897da50b8a6e1204614ccc92e7eea1a9">cl_particles_smoke_alphafade</a></div><div class="ttdeci">cvar_t cl_particles_smoke_alphafade</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00296">cl_particles.c:296</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a8bb42b972d04b5559773dffbd77af883"><div class="ttname"><a href="cl__particles_8c.html#a8bb42b972d04b5559773dffbd77af883">particleeffectname</a></div><div class="ttdeci">char particleeffectname[MAX_PARTICLEEFFECTNAME][64]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00129">cl_particles.c:129</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a8bd3eddeb4e3aa4a5f15a477b8f4acd9"><div class="ttname"><a href="cl__particles_8c.html#a8bd3eddeb4e3aa4a5f15a477b8f4acd9">tex_blooddecal</a></div><div class="ttdeci">static const int tex_blooddecal[8]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00192">cl_particles.c:192</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a8cbbb124cddc70c3d6a7a02a64cfe5ea"><div class="ttname"><a href="cl__particles_8c.html#a8cbbb124cddc70c3d6a7a02a64cfe5ea">cl_particles_alpha</a></div><div class="ttdeci">cvar_t cl_particles_alpha</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00280">cl_particles.c:280</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a8d63f2a26568b6252957c4ce7682d245"><div class="ttname"><a href="cl__particles_8c.html#a8d63f2a26568b6252957c4ce7682d245">ramp3</a></div><div class="ttdeci">int ramp3[8]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00172">cl_particles.c:172</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a8dac8a7bb2e62c2ddd6712c7e242ae7f"><div class="ttname"><a href="cl__particles_8c.html#a8dac8a7bb2e62c2ddd6712c7e242ae7f">CL_ParticleBox</a></div><div class="ttdeci">void CL_ParticleBox(int effectnameindex, float pcount, const vec3_t originmins, const vec3_t originmaxs, const vec3_t velocitymins, const vec3_t velocitymaxs, entity_t *ent, int palettecolor, qbool spawndlight, qbool spawnparticles, float tintmins[4], float tintmaxs[4], float fade)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01688">cl_particles.c:1688</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a93a43cb5af549134997cb38925077973"><div class="ttname"><a href="cl__particles_8c.html#a93a43cb5af549134997cb38925077973">particlefontcols</a></div><div class="ttdeci">int particlefontcols</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02054">cl_particles.c:2054</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a953ec697f96f4c0c360bcc0a6f283ceb"><div class="ttname"><a href="cl__particles_8c.html#a953ec697f96f4c0c360bcc0a6f283ceb">cl_particles_blood_decal_scalemax</a></div><div class="ttdeci">cvar_t cl_particles_blood_decal_scalemax</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00287">cl_particles.c:287</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a9667beb77f4b7f14afb309d066c015bb"><div class="ttname"><a href="cl__particles_8c.html#a9667beb77f4b7f14afb309d066c015bb">cl_particles_collisions</a></div><div class="ttdeci">cvar_t cl_particles_collisions</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00300">cl_particles.c:300</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a9711cf50be5d4448287403ccb295d214"><div class="ttname"><a href="cl__particles_8c.html#a9711cf50be5d4448287403ccb295d214">r_part_shutdown</a></div><div class="ttdeci">static void r_part_shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02453">cl_particles.c:2453</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a974ffa6f78d7b4f691c6d1a5ee282bbf"><div class="ttname"><a href="cl__particles_8c.html#a974ffa6f78d7b4f691c6d1a5ee282bbf">cl_particles_blood_decal_scalemin</a></div><div class="ttdeci">cvar_t cl_particles_blood_decal_scalemin</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00286">cl_particles.c:286</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a987db824b42226918af10206dfc7dd2a"><div class="ttname"><a href="cl__particles_8c.html#a987db824b42226918af10206dfc7dd2a">particlefontcellwidth</a></div><div class="ttdeci">int particlefontcellwidth</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02054">cl_particles.c:2054</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a99c1009d6cbe23cfc1c5f7ea7fa5e8a2"><div class="ttname"><a href="cl__particles_8c.html#a99c1009d6cbe23cfc1c5f7ea7fa5e8a2">CL_Particles_LoadEffectInfo</a></div><div class="ttdeci">static void CL_Particles_LoadEffectInfo(const char *customfile)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00537">cl_particles.c:537</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a9a75d40a03ce7cbc8030371cd8f8cbe0"><div class="ttname"><a href="cl__particles_8c.html#a9a75d40a03ce7cbc8030371cd8f8cbe0">tex_bloodparticle</a></div><div class="ttdeci">static const int tex_bloodparticle[8]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00193">cl_particles.c:193</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a9acdb104dcc99fe6dfcea002082c3fbf"><div class="ttname"><a href="cl__particles_8c.html#a9acdb104dcc99fe6dfcea002082c3fbf">standardeffectnames</a></div><div class="ttdeci">static const char * standardeffectnames[EFFECT_TOTAL]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00497">cl_particles.c:497</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a9b8723c8c1e5da8afda8a0cf176c2bae"><div class="ttname"><a href="cl__particles_8c.html#a9b8723c8c1e5da8afda8a0cf176c2bae">tex_rainsplash</a></div><div class="ttdeci">static const int tex_rainsplash</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00194">cl_particles.c:194</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a9d939a8b53f3f6d214c16e8bc7442e5a"><div class="ttname"><a href="cl__particles_8c.html#a9d939a8b53f3f6d214c16e8bc7442e5a">ramp2</a></div><div class="ttdeci">int ramp2[8]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00171">cl_particles.c:171</a></div></div>
<div class="ttc" id="acl__particles_8c_html_a9e8c4d6c6de33e7868a7ea10cf153272"><div class="ttname"><a href="cl__particles_8c.html#a9e8c4d6c6de33e7868a7ea10cf153272">CL_ParseParticleEffect</a></div><div class="ttdeci">void CL_ParseParticleEffect(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01807">cl_particles.c:1807</a></div></div>
<div class="ttc" id="acl__particles_8c_html_aa22accfd82fe33f5e39f253655bec108"><div class="ttname"><a href="cl__particles_8c.html#aa22accfd82fe33f5e39f253655bec108">particletexturepool</a></div><div class="ttdeci">static rtexturepool_t * particletexturepool</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00184">cl_particles.c:184</a></div></div>
<div class="ttc" id="acl__particles_8c_html_aa2fda4bead2985d6564131ed415b1fcd"><div class="ttname"><a href="cl__particles_8c.html#aa2fda4bead2985d6564131ed415b1fcd">CL_EntityParticles</a></div><div class="ttdeci">void CL_EntityParticles(const entity_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01704">cl_particles.c:1704</a></div></div>
<div class="ttc" id="acl__particles_8c_html_aa9058d8d4143330f4e29f77fe68856e3"><div class="ttname"><a href="cl__particles_8c.html#aa9058d8d4143330f4e29f77fe68856e3">cl_particles_size</a></div><div class="ttdeci">cvar_t cl_particles_size</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00281">cl_particles.c:281</a></div></div>
<div class="ttc" id="acl__particles_8c_html_aaef934b24082412870f2cab0c83b1d5f"><div class="ttname"><a href="cl__particles_8c.html#aaef934b24082412870f2cab0c83b1d5f">particle_texcoord2f</a></div><div class="ttdeci">float particle_texcoord2f[MESHQUEUE_TRANSPARENT_BATCHSIZE *8]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02466">cl_particles.c:2466</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ab3fff586bfa3f4c8f241950f9360544f"><div class="ttname"><a href="cl__particles_8c.html#ab3fff586bfa3f4c8f241950f9360544f">cl_decals_models</a></div><div class="ttdeci">cvar_t cl_decals_models</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00308">cl_particles.c:308</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ab5f65e2ec980dbdac6a713c1cd7fc2e4"><div class="ttname"><a href="cl__particles_8c.html#ab5f65e2ec980dbdac6a713c1cd7fc2e4">CL_ParticleEffect_Fallback</a></div><div class="ttdeci">static void CL_ParticleEffect_Fallback(int effectnameindex, float count, const vec3_t originmins, const vec3_t originmaxs, const vec3_t velocitymins, const vec3_t velocitymaxs, entity_t *ent, int palettecolor, qbool spawndlight, qbool spawnparticles, qbool wanttrail)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00934">cl_particles.c:934</a></div></div>
<div class="ttc" id="acl__particles_8c_html_abc8678ad0df5efcdaeb09900d8e8356a"><div class="ttname"><a href="cl__particles_8c.html#abc8678ad0df5efcdaeb09900d8e8356a">readfloat</a></div><div class="ttdeci">#define readfloat(var)</div></div>
<div class="ttc" id="acl__particles_8c_html_abff2e4cd315b45eceef7fbbfb3c8571b"><div class="ttname"><a href="cl__particles_8c.html#abff2e4cd315b45eceef7fbbfb3c8571b">tex_particle</a></div><div class="ttdeci">static const int tex_particle</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00195">cl_particles.c:195</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ac04d54be468ef0ec2af59c64e07d804b"><div class="ttname"><a href="cl__particles_8c.html#ac04d54be468ef0ec2af59c64e07d804b">tex_smoke</a></div><div class="ttdeci">static const int tex_smoke[8]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00190">cl_particles.c:190</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ac2fdf19e8e21ea865f3b5fa06859def2"><div class="ttname"><a href="cl__particles_8c.html#ac2fdf19e8e21ea865f3b5fa06859def2">cl_decals_bias</a></div><div class="ttdeci">cvar_t cl_decals_bias</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00309">cl_particles.c:309</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ac6b043c4bd646f46881474952abc49dd"><div class="ttname"><a href="cl__particles_8c.html#ac6b043c4bd646f46881474952abc49dd">cl_decals_fadetime</a></div><div class="ttdeci">cvar_t cl_decals_fadetime</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00304">cl_particles.c:304</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ac8dd026d6d50ee2367dc566e7ccafaab"><div class="ttname"><a href="cl__particles_8c.html#ac8dd026d6d50ee2367dc566e7ccafaab">tex_beam</a></div><div class="ttdeci">static const int tex_beam</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00198">cl_particles.c:198</a></div></div>
<div class="ttc" id="acl__particles_8c_html_acaf243bcb519fe87953a7a1effa00d7f"><div class="ttname"><a href="cl__particles_8c.html#acaf243bcb519fe87953a7a1effa00d7f">r_drawparticles_nearclip_max</a></div><div class="ttdeci">static cvar_t r_drawparticles_nearclip_max</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02014">cl_particles.c:2014</a></div></div>
<div class="ttc" id="acl__particles_8c_html_acb72ba9b63a0f7a51cea2412211034b3"><div class="ttname"><a href="cl__particles_8c.html#acb72ba9b63a0f7a51cea2412211034b3">CL_Particles_ParseEffectInfo</a></div><div class="ttdeci">static void CL_Particles_ParseEffectInfo(const char *textstart, const char *textend, const char *filename)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00313">cl_particles.c:313</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ad3db8107eb79d98a2af00bdf6af81d1b"><div class="ttname"><a href="cl__particles_8c.html#ad3db8107eb79d98a2af00bdf6af81d1b">tex_raindrop</a></div><div class="ttdeci">static const int tex_raindrop</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00197">cl_particles.c:197</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ad3e0ee474c4eb71772a7977bd54f1938"><div class="ttname"><a href="cl__particles_8c.html#ad3e0ee474c4eb71772a7977bd54f1938">cl_particles_bulletimpacts</a></div><div class="ttdeci">cvar_t cl_particles_bulletimpacts</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00289">cl_particles.c:289</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ad816e6488462a7c22a2fd86345f282f4"><div class="ttname"><a href="cl__particles_8c.html#ad816e6488462a7c22a2fd86345f282f4">R_Particles_Init</a></div><div class="ttdeci">void R_Particles_Init(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02468">cl_particles.c:2468</a></div></div>
<div class="ttc" id="acl__particles_8c_html_adab65b80bb7a26dafdc494fe2cbf0115"><div class="ttname"><a href="cl__particles_8c.html#adab65b80bb7a26dafdc494fe2cbf0115">PARTICLEEFFECT_FORCENEAREST</a></div><div class="ttdeci">#define PARTICLEEFFECT_FORCENEAREST</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00047">cl_particles.c:47</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ae0994bb892492eac2205ea70192aea64"><div class="ttname"><a href="cl__particles_8c.html#ae0994bb892492eac2205ea70192aea64">CL_Smoke</a></div><div class="ttdeci">static void CL_Smoke(const vec3_t originmins, const vec3_t originmaxs, const vec3_t velocitymins, const vec3_t velocitymaxs, float smokecount)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01928">cl_particles.c:1928</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ae13c6dfa055e254548cf6bb83f74dc0d"><div class="ttname"><a href="cl__particles_8c.html#ae13c6dfa055e254548cf6bb83f74dc0d">particlefontwidth</a></div><div class="ttdeci">int particlefontwidth</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02054">cl_particles.c:2054</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ae2befbc2b8c61982c21d6c4e0a5de840"><div class="ttname"><a href="cl__particles_8c.html#ae2befbc2b8c61982c21d6c4e0a5de840">cl_decals_time</a></div><div class="ttdeci">cvar_t cl_decals_time</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00303">cl_particles.c:303</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ae2c0903010d1635da6fdc1d3f38eebab"><div class="ttname"><a href="cl__particles_8c.html#ae2c0903010d1635da6fdc1d3f38eebab">particletexture</a></div><div class="ttdeci">static particletexture_t particletexture[MAX_PARTICLETEXTURES]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00186">cl_particles.c:186</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ae2c79c8ac36f1cb8770ce25ec366f568"><div class="ttname"><a href="cl__particles_8c.html#ae2c79c8ac36f1cb8770ce25ec366f568">setuptex</a></div><div class="ttdeci">static void setuptex(int texnum, unsigned char *data, unsigned char *particletexturedata)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02063">cl_particles.c:2063</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ae2e6d866cc78d79d44b157b344dd554c"><div class="ttname"><a href="cl__particles_8c.html#ae2e6d866cc78d79d44b157b344dd554c">numparticleeffectinfo</a></div><div class="ttdeci">int numparticleeffectinfo</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00131">cl_particles.c:131</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ae8b8fb6c058f1eca7a1b8f71a146c2c9"><div class="ttname"><a href="cl__particles_8c.html#ae8b8fb6c058f1eca7a1b8f71a146c2c9">cl_particles_smoke</a></div><div class="ttdeci">cvar_t cl_particles_smoke</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00294">cl_particles.c:294</a></div></div>
<div class="ttc" id="acl__particles_8c_html_ae9ff7c79c02366c4675c52cb2f8262a0"><div class="ttname"><a href="cl__particles_8c.html#ae9ff7c79c02366c4675c52cb2f8262a0">particletextureblotch</a></div><div class="ttdeci">static void particletextureblotch(unsigned char *data, float radius, float red, float green, float blue, float alpha)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02073">cl_particles.c:2073</a></div></div>
<div class="ttc" id="acl__particles_8c_html_aeaf7d053a87f0e82d5671df040d58d4b"><div class="ttname"><a href="cl__particles_8c.html#aeaf7d053a87f0e82d5671df040d58d4b">particle_elements</a></div><div class="ttdeci">unsigned short particle_elements[MESHQUEUE_TRANSPARENT_BATCHSIZE *6]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l02465">cl_particles.c:2465</a></div></div>
<div class="ttc" id="acl__particles_8c_html_aeb89f27ab1f950264732f4994db65af2"><div class="ttname"><a href="cl__particles_8c.html#aeb89f27ab1f950264732f4994db65af2">cl_particles_quality</a></div><div class="ttdeci">cvar_t cl_particles_quality</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00279">cl_particles.c:279</a></div></div>
<div class="ttc" id="acl__particles_8c_html_af1c8954e5c471715dcd9484b7a3f3c1d"><div class="ttname"><a href="cl__particles_8c.html#af1c8954e5c471715dcd9484b7a3f3c1d">CL_NewParticlesFromEffectinfo</a></div><div class="ttdeci">static void CL_NewParticlesFromEffectinfo(int effectnameindex, float pcount, const vec3_t originmins, const vec3_t originmaxs, const vec3_t velocitymins, const vec3_t velocitymaxs, entity_t *ent, int palettecolor, qbool spawndlight, qbool spawnparticles, float tintmins[4], float tintmaxs[4], float fade, qbool wanttrail)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l01462">cl_particles.c:1462</a></div></div>
<div class="ttc" id="acl__particles_8c_html_af2aaaee82b054ffb2e46b9019a2ee7ac"><div class="ttname"><a href="cl__particles_8c.html#af2aaaee82b054ffb2e46b9019a2ee7ac">CL_SpawnDecalParticleForPoint</a></div><div class="ttdeci">void CL_SpawnDecalParticleForPoint(const vec3_t org, float maxdist, float size, float alpha, int texnum, int color1, int color2)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00891">cl_particles.c:891</a></div></div>
<div class="ttc" id="acl__particles_8c_html_af38b8249bcb4ac570de6f2de42d16c20"><div class="ttname"><a href="cl__particles_8c.html#af38b8249bcb4ac570de6f2de42d16c20">CL_Particles_LoadEffectInfo_f</a></div><div class="ttdeci">static void CL_Particles_LoadEffectInfo_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00574">cl_particles.c:574</a></div></div>
<div class="ttc" id="acl__particles_8c_html_afb0047bbe764de7613514c483e498150"><div class="ttname"><a href="cl__particles_8c.html#afb0047bbe764de7613514c483e498150">cl_decals_newsystem_intensitymultiplier</a></div><div class="ttdeci">cvar_t cl_decals_newsystem_intensitymultiplier</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00305">cl_particles.c:305</a></div></div>
<div class="ttc" id="acl__particles_8c_html_afedd3283f5e4c78e7bd9f2236e74c137"><div class="ttname"><a href="cl__particles_8c.html#afedd3283f5e4c78e7bd9f2236e74c137">cl_decals_max</a></div><div class="ttdeci">cvar_t cl_decals_max</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00310">cl_particles.c:310</a></div></div>
<div class="ttc" id="acl__particles_8c_html_aff9b4bbfeabdbb5c6535d56219a74acd"><div class="ttname"><a href="cl__particles_8c.html#aff9b4bbfeabdbb5c6535d56219a74acd">cl_particles_bubbles</a></div><div class="ttdeci">cvar_t cl_particles_bubbles</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00298">cl_particles.c:298</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a0314d56401f76a2bf50b13e2847f4577"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a0314d56401f76a2bf50b13e2847f4577">EFFECT_TE_WIZSPIKE</a></div><div class="ttdeci">@ EFFECT_TE_WIZSPIKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00121">cl_particles.h:121</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a071948fdb2a0d7157be6290cf837aa79"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a071948fdb2a0d7157be6290cf837aa79">EFFECT_TR_GLOWTRAIL</a></div><div class="ttdeci">@ EFFECT_TR_GLOWTRAIL</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00148">cl_particles.h:148</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a0d62d1d98c6ba42a946f9546f4e95ee5"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a0d62d1d98c6ba42a946f9546f4e95ee5">EFFECT_TE_TEI_SMOKE</a></div><div class="ttdeci">@ EFFECT_TE_TEI_SMOKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00135">cl_particles.h:135</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a17d49fccaeebe238de7cab2f8f8da7e3"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a17d49fccaeebe238de7cab2f8f8da7e3">EFFECT_EF_STARDUST</a></div><div class="ttdeci">@ EFFECT_EF_STARDUST</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00138">cl_particles.h:138</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a1d8d678aa135493eda1a202ac14ee9f4"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a1d8d678aa135493eda1a202ac14ee9f4">EFFECT_TE_FLAMEJET</a></div><div class="ttdeci">@ EFFECT_TE_FLAMEJET</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00129">cl_particles.h:129</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a2535530a7b7d374409212a5afce9251c"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a2535530a7b7d374409212a5afce9251c">EFFECT_TR_SLIGHTBLOOD</a></div><div class="ttdeci">@ EFFECT_TR_SLIGHTBLOOD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00143">cl_particles.h:143</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a29a85e691bc6f0895fc47e47a5065825"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a29a85e691bc6f0895fc47e47a5065825">EFFECT_TE_SUPERSPIKEQUAD</a></div><div class="ttdeci">@ EFFECT_TE_SUPERSPIKEQUAD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00120">cl_particles.h:120</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a2ad547f1bc9327f42bba34936d91fe8f"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a2ad547f1bc9327f42bba34936d91fe8f">EFFECT_TE_SPIKEQUAD</a></div><div class="ttdeci">@ EFFECT_TE_SPIKEQUAD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00118">cl_particles.h:118</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a2adf138162620c2ae824984c53e585b6"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a2adf138162620c2ae824984c53e585b6">EFFECT_TE_SPARK</a></div><div class="ttdeci">@ EFFECT_TE_SPARK</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00132">cl_particles.h:132</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a2d2549d57ca68df1c9a95f8cbdd7dd0f"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a2d2549d57ca68df1c9a95f8cbdd7dd0f">EFFECT_TR_WIZSPIKE</a></div><div class="ttdeci">@ EFFECT_TR_WIZSPIKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00142">cl_particles.h:142</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a306e6e1f116b1ad43d2fb11f14f46a88"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a306e6e1f116b1ad43d2fb11f14f46a88">EFFECT_TE_GUNSHOTQUAD</a></div><div class="ttdeci">@ EFFECT_TE_GUNSHOTQUAD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00116">cl_particles.h:116</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a30fb34a455fc8754df54b3ca518ac2cb"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a30fb34a455fc8754df54b3ca518ac2cb">EFFECT_TE_EXPLOSIONQUAD</a></div><div class="ttdeci">@ EFFECT_TE_EXPLOSIONQUAD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00124">cl_particles.h:124</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a33344fc407ff6bbadc7861c85382510a"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a33344fc407ff6bbadc7861c85382510a">EFFECT_TE_EXPLOSION</a></div><div class="ttdeci">@ EFFECT_TE_EXPLOSION</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00123">cl_particles.h:123</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a368b36c6ef0867809473507c4cedfd9c"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a368b36c6ef0867809473507c4cedfd9c">EFFECT_TR_NEHAHRASMOKE</a></div><div class="ttdeci">@ EFFECT_TR_NEHAHRASMOKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00146">cl_particles.h:146</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a36bd5118499254a4f3a3f3a7893be704"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a36bd5118499254a4f3a3f3a7893be704">EFFECT_TR_ROCKET</a></div><div class="ttdeci">@ EFFECT_TR_ROCKET</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00139">cl_particles.h:139</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a385fdf31649967f320013a5345bf88b7">EFFECT_SVC_PARTICLE</a></div><div class="ttdeci">@ EFFECT_SVC_PARTICLE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00149">cl_particles.h:149</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a3bb16bf687087a4b3b6b754a30f07735"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a3bb16bf687087a4b3b6b754a30f07735">EFFECT_TE_GUNSHOT</a></div><div class="ttdeci">@ EFFECT_TE_GUNSHOT</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00115">cl_particles.h:115</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a45ce79bdd30de77aab030542913e8b37"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a45ce79bdd30de77aab030542913e8b37">EFFECT_TR_VORESPIKE</a></div><div class="ttdeci">@ EFFECT_TR_VORESPIKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00145">cl_particles.h:145</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a45cff674786234bbe3c2980c792825ab"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a45cff674786234bbe3c2980c792825ab">EFFECT_TR_GRENADE</a></div><div class="ttdeci">@ EFFECT_TR_GRENADE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00140">cl_particles.h:140</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a46aadcb46bf5ef9403efb591a2889795"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a46aadcb46bf5ef9403efb591a2889795">EFFECT_TE_PLASMABURN</a></div><div class="ttdeci">@ EFFECT_TE_PLASMABURN</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00133">cl_particles.h:133</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a489a4d61f33ab35f0b3d0b0a578e1035"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a489a4d61f33ab35f0b3d0b0a578e1035">EFFECT_TE_TAREXPLOSION</a></div><div class="ttdeci">@ EFFECT_TE_TAREXPLOSION</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00125">cl_particles.h:125</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a4b6415a9d9622d8193069af0e7145454"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a4b6415a9d9622d8193069af0e7145454">EFFECT_TR_BLOOD</a></div><div class="ttdeci">@ EFFECT_TR_BLOOD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00141">cl_particles.h:141</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a5ce83621d3712574c87213f56cec7c35"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a5ce83621d3712574c87213f56cec7c35">EFFECT_EF_FLAME</a></div><div class="ttdeci">@ EFFECT_EF_FLAME</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00130">cl_particles.h:130</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a5e56ae1843e1a28e52912df37ac1fbe9"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a5e56ae1843e1a28e52912df37ac1fbe9">EFFECT_TE_LAVASPLASH</a></div><div class="ttdeci">@ EFFECT_TE_LAVASPLASH</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00127">cl_particles.h:127</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a6cdded205669bb8f01cb4b277fac9f44"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a6cdded205669bb8f01cb4b277fac9f44">EFFECT_TE_TELEPORT</a></div><div class="ttdeci">@ EFFECT_TE_TELEPORT</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00126">cl_particles.h:126</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a75f9a2bd0ed42dfbf5c48cfb03ca6776"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a75f9a2bd0ed42dfbf5c48cfb03ca6776">EFFECT_TE_SMALLFLASH</a></div><div class="ttdeci">@ EFFECT_TE_SMALLFLASH</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00128">cl_particles.h:128</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a7871716eb05365ef7f7ac04fc946254f"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a7871716eb05365ef7f7ac04fc946254f">EFFECT_TE_KNIGHTSPIKE</a></div><div class="ttdeci">@ EFFECT_TE_KNIGHTSPIKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00122">cl_particles.h:122</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a7a9bd625220de1e391ced2c581042cc3"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a7a9bd625220de1e391ced2c581042cc3">EFFECT_TE_BLOOD</a></div><div class="ttdeci">@ EFFECT_TE_BLOOD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00131">cl_particles.h:131</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40a94ab4410731c85d281455474e6d34336"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40a94ab4410731c85d281455474e6d34336">EFFECT_TE_TEI_PLASMAHIT</a></div><div class="ttdeci">@ EFFECT_TE_TEI_PLASMAHIT</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00137">cl_particles.h:137</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40aa3cce44561930ad47e229ab046ad07b9"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aa3cce44561930ad47e229ab046ad07b9">EFFECT_TR_NEXUIZPLASMA</a></div><div class="ttdeci">@ EFFECT_TR_NEXUIZPLASMA</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00147">cl_particles.h:147</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40aa6bddf2eb01aeddbaa8e409eee5df54e"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aa6bddf2eb01aeddbaa8e409eee5df54e">EFFECT_TE_SUPERSPIKE</a></div><div class="ttdeci">@ EFFECT_TE_SUPERSPIKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00119">cl_particles.h:119</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40aab269faf64053619738520641ed75fd8"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aab269faf64053619738520641ed75fd8">EFFECT_TE_TEI_G3</a></div><div class="ttdeci">@ EFFECT_TE_TEI_G3</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00134">cl_particles.h:134</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40abff81304d32ba70adf3c1baa2f37172a"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40abff81304d32ba70adf3c1baa2f37172a">EFFECT_TR_KNIGHTSPIKE</a></div><div class="ttdeci">@ EFFECT_TR_KNIGHTSPIKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00144">cl_particles.h:144</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40add69d9387d74c67c855fdd231294b1ef"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40add69d9387d74c67c855fdd231294b1ef">EFFECT_TOTAL</a></div><div class="ttdeci">@ EFFECT_TOTAL</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00151">cl_particles.h:150</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40aedbe24abb3dc57f97ac5b13844604da6"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40aedbe24abb3dc57f97ac5b13844604da6">EFFECT_TE_TEI_BIGEXPLOSION</a></div><div class="ttdeci">@ EFFECT_TE_TEI_BIGEXPLOSION</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00136">cl_particles.h:136</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a58af091cd24e3e7e7f7a1795344f9f40af73ae025f219289b8f1bd33ee435e484"><div class="ttname"><a href="cl__particles_8h.html#a58af091cd24e3e7e7f7a1795344f9f40af73ae025f219289b8f1bd33ee435e484">EFFECT_TE_SPIKE</a></div><div class="ttdeci">@ EFFECT_TE_SPIKE</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00117">cl_particles.h:117</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a5ad866b5147a9da9bd8b6f277aa2c462"><div class="ttname"><a href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462">pblend_t</a></div><div class="ttdeci">pblend_t</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00042">cl_particles.h:43</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea"><div class="ttname"><a href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a0555e20ec94043feee8345e2789452ea">PBLEND_ALPHA</a></div><div class="ttdeci">@ PBLEND_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00044">cl_particles.h:44</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59"><div class="ttname"><a href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a1296707edf7fb656d6360990a8fa3e59">PBLEND_ADD</a></div><div class="ttdeci">@ PBLEND_ADD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00045">cl_particles.h:45</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c"><div class="ttname"><a href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a482ed815050725029b95c1adf7ab9c2c">PBLEND_INVMOD</a></div><div class="ttdeci">@ PBLEND_INVMOD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00046">cl_particles.h:46</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a5ad866b5147a9da9bd8b6f277aa2c462a721c8fa013b982ddaaf2c67a449d7d73"><div class="ttname"><a href="cl__particles_8h.html#a5ad866b5147a9da9bd8b6f277aa2c462a721c8fa013b982ddaaf2c67a449d7d73">PBLEND_INVALID</a></div><div class="ttdeci">@ PBLEND_INVALID</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00048">cl_particles.h:47</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911">ptype_t</a></div><div class="ttdeci">ptype_t</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00059">cl_particles.h:60</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a1b69e11a072621a96b8ef7369747d412">pt_snow</a></div><div class="ttdeci">@ pt_snow</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2a629188ed17765db4da72d4b6ef966b">pt_blood</a></div><div class="ttdeci">@ pt_blood</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911a2fcd22dc631ef4fd96eece5d901f54b2"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a2fcd22dc631ef4fd96eece5d901f54b2">pt_total</a></div><div class="ttdeci">@ pt_total</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00062">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a52e091483fc275daeec82c920242855e">pt_spark</a></div><div class="ttdeci">@ pt_spark</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911a8055054252829be9b925dc66c603e0c4"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8055054252829be9b925dc66c603e0c4">pt_bubble</a></div><div class="ttdeci">@ pt_bubble</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a8bff8a025290bd8760dd972b0f21c005">pt_static</a></div><div class="ttdeci">@ pt_static</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911a93fb2113abaab3759e9e09cd69e2fdac"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a93fb2113abaab3759e9e09cd69e2fdac">pt_beam</a></div><div class="ttdeci">@ pt_beam</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911a9edeb3acfd1beec0cdc1c2a040ce5186">pt_alphastatic</a></div><div class="ttdeci">@ pt_alphastatic</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911ab2b777e7809322b06cfb43ec6624965a"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ab2b777e7809322b06cfb43ec6624965a">pt_raindecal</a></div><div class="ttdeci">@ pt_raindecal</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911acc387488f76b18b6d7f75d0123d409ec"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911acc387488f76b18b6d7f75d0123d409ec">pt_entityparticle</a></div><div class="ttdeci">@ pt_entityparticle</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ad5fe5875fd1cc5fa84650af494ad7799">pt_rain</a></div><div class="ttdeci">@ pt_rain</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911ae7cfd3b97ca8553866cd8d40ebb46b6f">pt_smoke</a></div><div class="ttdeci">@ pt_smoke</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_a723256dea8a6fd9c487829bc1ed6f911afa9cac57bf3888984131735ec5d16e7b"><div class="ttname"><a href="cl__particles_8h.html#a723256dea8a6fd9c487829bc1ed6f911afa9cac57bf3888984131735ec5d16e7b">pt_decal</a></div><div class="ttdeci">@ pt_decal</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00061">cl_particles.h:61</a></div></div>
<div class="ttc" id="acl__particles_8h_html_acf9a1a7e7086faa8d321530478a7b537"><div class="ttname"><a href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537">porientation_t</a></div><div class="ttdeci">porientation_t</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00031">cl_particles.h:32</a></div></div>
<div class="ttc" id="acl__particles_8h_html_acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20"><div class="ttname"><a href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a3d761d1a732f7d7de55e9f74db78df20">PARTICLE_SPARK</a></div><div class="ttdeci">@ PARTICLE_SPARK</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00034">cl_particles.h:34</a></div></div>
<div class="ttc" id="acl__particles_8h_html_acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128"><div class="ttname"><a href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a44d3195f75d95418e54b7adbb1277128">PARTICLE_HBEAM</a></div><div class="ttdeci">@ PARTICLE_HBEAM</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00037">cl_particles.h:37</a></div></div>
<div class="ttc" id="acl__particles_8h_html_acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd"><div class="ttname"><a href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537a9686d376dafdc0f6988abfb5acfa51cd">PARTICLE_BILLBOARD</a></div><div class="ttdeci">@ PARTICLE_BILLBOARD</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00033">cl_particles.h:33</a></div></div>
<div class="ttc" id="acl__particles_8h_html_acf9a1a7e7086faa8d321530478a7b537ac899b70e86b99ce399702f26a5aa2587"><div class="ttname"><a href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537ac899b70e86b99ce399702f26a5aa2587">PARTICLE_VBEAM</a></div><div class="ttdeci">@ PARTICLE_VBEAM</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00036">cl_particles.h:36</a></div></div>
<div class="ttc" id="acl__particles_8h_html_acf9a1a7e7086faa8d321530478a7b537acc85bfbc8695f63d7f46a696ab728de6"><div class="ttname"><a href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537acc85bfbc8695f63d7f46a696ab728de6">PARTICLE_ORIENTED_DOUBLESIDED</a></div><div class="ttdeci">@ PARTICLE_ORIENTED_DOUBLESIDED</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00035">cl_particles.h:35</a></div></div>
<div class="ttc" id="acl__particles_8h_html_acf9a1a7e7086faa8d321530478a7b537aeb6ea2f20258bdabc56cf6cc9b074a60"><div class="ttname"><a href="cl__particles_8h.html#acf9a1a7e7086faa8d321530478a7b537aeb6ea2f20258bdabc56cf6cc9b074a60">PARTICLE_INVALID</a></div><div class="ttdeci">@ PARTICLE_INVALID</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00039">cl_particles.h:38</a></div></div>
<div class="ttc" id="aclient_8h_html_a02b341fb62e7f8268a5f7f684ab0f2f2"><div class="ttname"><a href="client_8h.html#a02b341fb62e7f8268a5f7f684ab0f2f2">LIGHTFLAG_NORMALMODE</a></div><div class="ttdeci">#define LIGHTFLAG_NORMALMODE</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00034">client.h:34</a></div></div>
<div class="ttc" id="aclient_8h_html_a1b1a580519a269d1d752b2d643b80f6a"><div class="ttname"><a href="client_8h.html#a1b1a580519a269d1d752b2d643b80f6a">LIGHTFLAG_REALTIMEMODE</a></div><div class="ttdeci">#define LIGHTFLAG_REALTIMEMODE</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00035">client.h:35</a></div></div>
<div class="ttc" id="acmd_8c_html_a86fa905462db75436af48f27298204e5"><div class="ttname"><a href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a></div><div class="ttdeci">void Cmd_AddCommand(unsigned flags, const char *cmd_name, xcommand_t function, const char *description)</div><div class="ttdoc">called by the init functions of other parts of the program to register commands and functions to call...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01754">cmd.c:1754</a></div></div>
<div class="ttc" id="acmd_8h_html_ab070abb7f2ebb842c8e67bef4e317314"><div class="ttname"><a href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a></div><div class="ttdeci">static int Cmd_Argc(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00248">cmd.h:248</a></div></div>
<div class="ttc" id="acmd_8h_html_ab49017bdcb3104823452a9ed7597aaf5"><div class="ttname"><a href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a></div><div class="ttdeci">static const char * Cmd_Argv(cmd_state_t *cmd, int arg)</div><div class="ttdoc">Cmd_Argv(cmd, ) will return an empty string (not a NULL) if arg &gt; argc, so string operations are alwa...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00253">cmd.h:253</a></div></div>
<div class="ttc" id="acmd_8h_html_abba64dce6a45541317c5508aa83436e5"><div class="ttname"><a href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a></div><div class="ttdeci">#define CF_CLIENT</div><div class="ttdoc">cvar/command that only the client can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00048">cmd.h:48</a></div></div>
<div class="ttc" id="acmd_8h_html_aeeecb68995736ab90434173e64fd14e5"><div class="ttname"><a href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a></div><div class="ttdeci">#define CF_ARCHIVE</div><div class="ttdoc">cvar should have its set value saved to config.cfg and persist across sessions</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00053">cmd.h:53</a></div></div>
<div class="ttc" id="acollision_8c_html_ac0a2160fccec6a28f98e2df5e39d1f7c"><div class="ttname"><a href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a></div><div class="ttdeci">cvar_t collision_extendmovelength</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l00014">collision.c:14</a></div></div>
<div class="ttc" id="acom__game_8c_html_a8261ff184d55a220fafab13efd735946"><div class="ttname"><a href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a></div><div class="ttdeci">gamemode_t gamemode</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00026">com_game.c:26</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825ea9ff29eb530ba096bbefc70d68e4c5cda"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea9ff29eb530ba096bbefc70d68e4c5cda">GAME_GOODVSBAD2</a></div><div class="ttdeci">@ GAME_GOODVSBAD2</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00036">com_game.h:36</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825eada1a9ea8f4831f74773821ce29276730"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eada1a9ea8f4831f74773821ce29276730">GAME_PRYDON</a></div><div class="ttdeci">@ GAME_PRYDON</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00044">com_game.h:44</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a223e14655e300422dbc0bb1d5640199d"><div class="ttname"><a href="com__msg_8c.html#a223e14655e300422dbc0bb1d5640199d">MSG_ReadVector</a></div><div class="ttdeci">void MSG_ReadVector(sizebuf_t *sb, vec3_t v, protocolversion_t protocol)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00401">com_msg.c:401</a></div></div>
<div class="ttc" id="acommon_8c_html_a3eb222dff7f3bc0f6ce47f1e02df175e"><div class="ttname"><a href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a></div><div class="ttdeci">char com_token[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00039">common.c:39</a></div></div>
<div class="ttc" id="acommon_8c_html_a4a8220fa88226bf9cf39b12a051a20d7"><div class="ttname"><a href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a></div><div class="ttdeci">char * va(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00972">common.c:972</a></div></div>
<div class="ttc" id="acommon_8c_html_acc99aea15e3d929ef5cfac822ee7040d"><div class="ttname"><a href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a></div><div class="ttdeci">qbool COM_ParseToken_Simple(const char **datapointer, qbool returnnewline, qbool parsebackslash, qbool parsecomments)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00463">common.c:463</a></div></div>
<div class="ttc" id="acommon_8c_html_ae36050083f45e395189fee6aa45fbb0c"><div class="ttname"><a href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a></div><div class="ttdeci">int dpsnprintf(char *buffer, size_t buffersize, const char *format,...)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00997">common.c:997</a></div></div>
<div class="ttc" id="acommon_8h_html_a1995eda38dd0e56614c0b8e66bfd9417"><div class="ttname"><a href="common_8h.html#a1995eda38dd0e56614c0b8e66bfd9417">MSG_ReadChar</a></div><div class="ttdeci">#define MSG_ReadChar(sb)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00187">common.h:187</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00298">common.h:298</a></div></div>
<div class="ttc" id="acommon_8h_html_ae4d87498f0f9c299877ed57d9c47aede"><div class="ttname"><a href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a></div><div class="ttdeci">#define MSG_ReadByte(sb)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00188">common.h:188</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="afractalnoise_8c_html_a20fb401408532bc09be0c97b0f7c17e0"><div class="ttname"><a href="fractalnoise_8c.html#a20fb401408532bc09be0c97b0f7c17e0">fractalnoise</a></div><div class="ttdeci">void fractalnoise(unsigned char *noise, int size, int startgrid)</div><div class="ttdef"><b>Definition</b> <a href="fractalnoise_8c_source.html#l00004">fractalnoise.c:4</a></div></div>
<div class="ttc" id="afs_8c_html_a46b9b5ad3cc14f77ae63016505163128"><div class="ttname"><a href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a></div><div class="ttdeci">unsigned char * FS_LoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03525">fs.c:3525</a></div></div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="afs_8h_html_a5bcbce6d6c29888adf596671d6acd44b"><div class="ttname"><a href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a></div><div class="ttdeci">int64_t fs_offset_t</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00037">fs.h:37</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a28f12ab6551743428797e62bf183ebde"><div class="ttname"><a href="gl__backend_8c.html#a28f12ab6551743428797e62bf183ebde">GL_CullFace</a></div><div class="ttdeci">void GL_CullFace(int state)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01339">gl_backend.c:1339</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a369132de82d4015a01e164c63255403f"><div class="ttname"><a href="gl__backend_8c.html#a369132de82d4015a01e164c63255403f">GL_DepthMask</a></div><div class="ttdeci">void GL_DepthMask(int state)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01201">gl_backend.c:1201</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a5fd11a8a3e5cbb27690e870134b36675"><div class="ttname"><a href="gl__backend_8c.html#a5fd11a8a3e5cbb27690e870134b36675">R_Mesh_Draw</a></div><div class="ttdeci">void R_Mesh_Draw(int firstvertex, int numvertices, int firsttriangle, int numtriangles, const int *element3i, const r_meshbuffer_t *element3i_indexbuffer, int element3i_bufferoffset, const unsigned short *element3s, const r_meshbuffer_t *element3s_indexbuffer, int element3s_bufferoffset)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01666">gl_backend.c:1666</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a712c082566b5939b265260c5cd929033"><div class="ttname"><a href="gl__backend_8c.html#a712c082566b5939b265260c5cd929033">GL_DepthTest</a></div><div class="ttdeci">void GL_DepthTest(int state)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01217">gl_backend.c:1217</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a736b5d13ba47fb7de5dafb73b3026e1a"><div class="ttname"><a href="gl__backend_8c.html#a736b5d13ba47fb7de5dafb73b3026e1a">GL_DepthRange</a></div><div class="ttdeci">void GL_DepthRange(float nearfrac, float farfrac)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01256">gl_backend.c:1256</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a888e5667bc275712bc1407f459c9e67e"><div class="ttname"><a href="gl__backend_8c.html#a888e5667bc275712bc1407f459c9e67e">GL_PolygonOffset</a></div><div class="ttdeci">void GL_PolygonOffset(float planeoffset, float depthoffset)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01300">gl_backend.c:1300</a></div></div>
<div class="ttc" id="agl__backend_8c_html_aca3e3f9f03357db16ce588778b258020"><div class="ttname"><a href="gl__backend_8c.html#aca3e3f9f03357db16ce588778b258020">GL_BlendFunc</a></div><div class="ttdeci">void GL_BlendFunc(int blendfunc1, int blendfunc2)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01163">gl_backend.c:1163</a></div></div>
<div class="ttc" id="agl__backend_8c_html_add6233d245d2e22c748e7d0e03204acd"><div class="ttname"><a href="gl__backend_8c.html#add6233d245d2e22c748e7d0e03204acd">R_Mesh_PrepareVertices_Generic_Arrays</a></div><div class="ttdeci">void R_Mesh_PrepareVertices_Generic_Arrays(int numvertices, const float *vertex3f, const float *color4f, const float *texcoord2f)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l02137">gl_backend.c:2137</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a2175af7dad549ab55f75da75268d6b74"><div class="ttname"><a href="gl__rmain_8c.html#a2175af7dad549ab55f75da75268d6b74">RSurf_FogVertex</a></div><div class="ttdeci">float RSurf_FogVertex(const float *v)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l07360">gl_rmain.c:7360</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a3b19f216b86b3782f433c472b6d8bab6"><div class="ttname"><a href="gl__rmain_8c.html#a3b19f216b86b3782f433c472b6d8bab6">R_SetupShader_Generic</a></div><div class="ttdeci">void R_SetupShader_Generic(rtexture_t *t, qbool usegamma, qbool notrippy, qbool suppresstexalpha)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l01460">gl_rmain.c:1460</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a5960c03dbcd8d4f38b765ca7260aa838"><div class="ttname"><a href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadExternal(const char *name, int textureflags, qbool complain, qbool fallbacknotexture)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02313">gl_rmain.c:2313</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a6254a8f908da05ab79804175be40aec9"><div class="ttname"><a href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadInternalBGRA(const char *name, int textureflags, const unsigned char *skindata, int width, int height, int comparewidth, int compareheight, int comparecrc, qbool sRGB)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02545">gl_rmain.c:2545</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_aa4422c2187013f8268f0e38a0d37976f"><div class="ttname"><a href="gl__rmain_8c.html#aa4422c2187013f8268f0e38a0d37976f">r_showparticleedges</a></div><div class="ttdeci">cvar_t r_showparticleedges</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00094">gl_rmain.c:94</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_aab13ae86f8bb513594e7fac44efb702d"><div class="ttname"><a href="gl__rmain_8c.html#aab13ae86f8bb513594e7fac44efb702d">R_DebugLine</a></div><div class="ttdeci">void R_DebugLine(vec3_t start, vec3_t end)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l10171">gl_rmain.c:10171</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_aad9e16a2671ca2b12d410906a3802e52"><div class="ttname"><a href="gl__rmain_8c.html#aad9e16a2671ca2b12d410906a3802e52">R_CalcBeam_Vertex3f</a></div><div class="ttdeci">void R_CalcBeam_Vertex3f(float *vert, const float *org1, const float *org2, float width)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l06289">gl_rmain.c:6289</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ab91218d4fb985f2c4ffc9622a4e28fe2"><div class="ttname"><a href="gl__rmain_8c.html#ab91218d4fb985f2c4ffc9622a4e28fe2">RSurf_ActiveModelEntity</a></div><div class="ttdeci">void RSurf_ActiveModelEntity(const entity_render_t *ent, qbool wantnormals, qbool wanttangents, qbool prepass)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l06957">gl_rmain.c:6957</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ac068333f6656190ddd5836765acdffe0"><div class="ttname"><a href="gl__rmain_8c.html#ac068333f6656190ddd5836765acdffe0">R_SkinFrame_MarkUsed</a></div><div class="ttdeci">void R_SkinFrame_MarkUsed(skinframe_t *skinframe)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02175">gl_rmain.c:2175</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ac25f08cb533aea271af588c2ad704025"><div class="ttname"><a href="gl__rmain_8c.html#ac25f08cb533aea271af588c2ad704025">R_DecalSystem_SplatEntities</a></div><div class="ttdeci">void R_DecalSystem_SplatEntities(const vec3_t worldorigin, const vec3_t worldnormal, float r, float g, float b, float a, float s1, float t1, float s2, float t2, float worldsize)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l09549">gl_rmain.c:9549</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ae1fda69f1ff6edbb96f5d16b8db0d825"><div class="ttname"><a href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a></div><div class="ttdeci">r_refdef_t r_refdef</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00057">gl_rmain.c:57</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_adf826c017e9f2787081ee6644e1dc00c"><div class="ttname"><a href="gl__rsurf_8c.html#adf826c017e9f2787081ee6644e1dc00c">R_Stain</a></div><div class="ttdeci">void R_Stain(const vec3_t origin, float radius, int cr1, int cg1, int cb1, int ca1, int cr2, int cg2, int cb2, int ca2)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l00298">gl_rsurf.c:298</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a114f2477dc7b969704fce4025b2a4b1b"><div class="ttname"><a href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a></div><div class="ttdeci">void R_FreeTexturePool(rtexturepool_t **rtexturepool)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00403">gl_textures.c:403</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ab60a02391841e828427f5cc24cb5dd29"><div class="ttname"><a href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a></div><div class="ttdeci">rtexturepool_t * R_AllocTexturePool(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00389">gl_textures.c:389</a></div></div>
<div class="ttc" id="agl__textures_8c_html_afe6f33ec05da1bce9cd3a847610e7384"><div class="ttname"><a href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a></div><div class="ttdeci">rtexture_t * R_LoadTexture2D(rtexturepool_t *rtexturepool, const char *identifier, int width, int height, const unsigned char *data, textype_t textype, int flags, int miplevel, const unsigned int *palette)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01352">gl_textures.c:1352</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0208b298f4c65e680a58434efb699fe8"><div class="ttname"><a href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a></div><div class="ttdeci">GLuint GLuint GLintptr GLsizeiptr size</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0704dfe56dec926cb35f7bdc0834ecd0"><div class="ttname"><a href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a></div><div class="ttdeci">GLenum GLenum GLuint texture</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00612">glquake.h:612</a></div></div>
<div class="ttc" id="aglquake_8h_html_a089a3736e5280b9c7cc50129e2659974"><div class="ttname"><a href="glquake_8h.html#a089a3736e5280b9c7cc50129e2659974">GL_NONE</a></div><div class="ttdeci">#define GL_NONE</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00127">glquake.h:127</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0e843e6cb4b0547b3a2b414af3d53a53"><div class="ttname"><a href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a></div><div class="ttdeci">GLenum GLsizei width</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a136cce2f78c36b837ec3c8cf72c96aad"><div class="ttname"><a href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a></div><div class="ttdeci">GLenum GLsizei GLsizei height</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a1521c81f03b197c775902c4be8f467b8"><div class="ttname"><a href="glquake_8h.html#a1521c81f03b197c775902c4be8f467b8">v2</a></div><div class="ttdeci">GLfloat GLfloat GLfloat v2</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00746">glquake.h:746</a></div></div>
<div class="ttc" id="aglquake_8h_html_a161f4efd20c5f2bfc9a7c49c07be7ed7"><div class="ttname"><a href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a></div><div class="ttdeci">GLubyte GLubyte GLubyte GLubyte w</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00781">glquake.h:781</a></div></div>
<div class="ttc" id="aglquake_8h_html_a4d1613b1e415f5e41c4651a1793b277a"><div class="ttname"><a href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a></div><div class="ttdeci">const GLdouble * v</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00761">glquake.h:761</a></div></div>
<div class="ttc" id="aglquake_8h_html_a51af0e2e7aa22f9dc0c188ee8baa7a11"><div class="ttname"><a href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a></div><div class="ttdeci">GLenum GLenum GLsizei count</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="aglquake_8h_html_a563ae63395ca802a7c65b4f461fbf0d4"><div class="ttname"><a href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a></div><div class="ttdeci">GLint GLenum GLint GLint y</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a72086daeeb80e5eb5788f42a4eea050e"><div class="ttname"><a href="glquake_8h.html#a72086daeeb80e5eb5788f42a4eea050e">GL_ZERO</a></div><div class="ttdeci">#define GL_ZERO</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00073">glquake.h:73</a></div></div>
<div class="ttc" id="aglquake_8h_html_a75c9c896e11dc1eed9f9f1180b86d099"><div class="ttname"><a href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a820662f5b80a48256e2503352e9f51b9"><div class="ttname"><a href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a></div><div class="ttdeci">GLsizeiptr const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00638">glquake.h:638</a></div></div>
<div class="ttc" id="aglquake_8h_html_aa3926eb5e008f14829baa8d72435215f"><div class="ttname"><a href="glquake_8h.html#aa3926eb5e008f14829baa8d72435215f">GL_ONE_MINUS_SRC_ALPHA</a></div><div class="ttdeci">#define GL_ONE_MINUS_SRC_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00080">glquake.h:80</a></div></div>
<div class="ttc" id="aglquake_8h_html_aa92fae02a274fe856dad3362144f84dd"><div class="ttname"><a href="glquake_8h.html#aa92fae02a274fe856dad3362144f84dd">GL_ONE</a></div><div class="ttdeci">#define GL_ONE</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00074">glquake.h:74</a></div></div>
<div class="ttc" id="aglquake_8h_html_ab6746953c61ac9f4365a1c9a08b9427b"><div class="ttname"><a href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a></div><div class="ttdeci">GLclampf GLclampf blue</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00641">glquake.h:641</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac0759919bfcf4c7222738ba583673a9e"><div class="ttname"><a href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei const GLchar * buf</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac615821e7cf9469189648617cb1275be"><div class="ttname"><a href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00600">glquake.h:600</a></div></div>
<div class="ttc" id="aglquake_8h_html_adf0eeccd56a868827e37e4dacdfa7c32"><div class="ttname"><a href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a></div><div class="ttdeci">GLclampf GLclampf GLclampf alpha</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00641">glquake.h:641</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="aglquake_8h_html_afae62364eab2dc69c95b17363ba687f4"><div class="ttname"><a href="glquake_8h.html#afae62364eab2dc69c95b17363ba687f4">GL_ONE_MINUS_SRC_COLOR</a></div><div class="ttdeci">#define GL_ONE_MINUS_SRC_COLOR</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00076">glquake.h:76</a></div></div>
<div class="ttc" id="aglquake_8h_html_afb5c56b798cebf5e7c6188a241c8a47a"><div class="ttname"><a href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a></div><div class="ttdeci">GLclampf green</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00641">glquake.h:641</a></div></div>
<div class="ttc" id="aglquake_8h_html_affda859b376cb8300c60fa496eb99df0"><div class="ttname"><a href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a></div><div class="ttdeci">GLenum type</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="aimage_8c_html_a07bb1b05dfd9812cf2de8af958f854c8"><div class="ttname"><a href="image_8c.html#a07bb1b05dfd9812cf2de8af958f854c8">loadtextureimage</a></div><div class="ttdeci">rtexture_t * loadtextureimage(rtexturepool_t *pool, const char *filename, qbool complain, int flags, qbool allowFixtrans, qbool sRGB)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l01245">image.c:1245</a></div></div>
<div class="ttc" id="aimage_8c_html_a1e0e6a62a1d85a2fdf500d466ea7a33f"><div class="ttname"><a href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a></div><div class="ttdeci">int image_height</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00010">image.c:10</a></div></div>
<div class="ttc" id="aimage_8c_html_ab44ad0eba0b665ae7af8b13c9513cc71"><div class="ttname"><a href="image_8c.html#ab44ad0eba0b665ae7af8b13c9513cc71">Image_WriteTGABGRA</a></div><div class="ttdeci">qbool Image_WriteTGABGRA(const char *filename, int width, int height, const unsigned char *data)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l01436">image.c:1436</a></div></div>
<div class="ttc" id="aimage_8c_html_adcdf062bf62cd36e741bd190386f5fdb"><div class="ttname"><a href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a></div><div class="ttdeci">int image_width</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00009">image.c:9</a></div></div>
<div class="ttc" id="aimage_8h_html"><div class="ttname"><a href="image_8h.html">image.h</a></div></div>
<div class="ttc" id="aimage_8h_html_a2316f13de51459537db621e950f812e2"><div class="ttname"><a href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a></div><div class="ttdeci">#define Image_LinearFloatFromsRGB(c)</div><div class="ttdef"><b>Definition</b> <a href="image_8h_source.html#l00069">image.h:69</a></div></div>
<div class="ttc" id="amathlib_8c_html_a50e17db42d20e147704148d0a03032bf"><div class="ttname"><a href="mathlib_8c.html#a50e17db42d20e147704148d0a03032bf">AnglesFromVectors</a></div><div class="ttdeci">void AnglesFromVectors(vec3_t angles, const vec3_t forward, const vec3_t up, qbool flippitch)</div><div class="ttdoc">LadyHavoc: calculates pitch/yaw/roll angles from forward and up vectors.</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00650">mathlib.c:650</a></div></div>
<div class="ttc" id="amathlib_8c_html_a767938da864dbc4d3170bf470f5fcdba"><div class="ttname"><a href="mathlib_8c.html#a767938da864dbc4d3170bf470f5fcdba">m_bytenormals</a></div><div class="ttdeci">float m_bytenormals[NUMVERTEXNORMALS][3]</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00031">mathlib.c:31</a></div></div>
<div class="ttc" id="amathlib_8c_html_aa0f8c2537c1cf8bd8c418b1a9a854de5"><div class="ttname"><a href="mathlib_8c.html#aa0f8c2537c1cf8bd8c418b1a9a854de5">VectorNormalizeLength</a></div><div class="ttdeci">float VectorNormalizeLength(vec3_t v)</div><div class="ttdoc">returns vector length</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00763">mathlib.c:763</a></div></div>
<div class="ttc" id="amathlib_8c_html_abcfd2eb08af2296b6ea28caf16717a09"><div class="ttname"><a href="mathlib_8c.html#abcfd2eb08af2296b6ea28caf16717a09">AngleVectors</a></div><div class="ttdeci">void AngleVectors(const vec3_t angles, vec3_t forward, vec3_t right, vec3_t up)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00444">mathlib.c:444</a></div></div>
<div class="ttc" id="amathlib_8c_html_af501115cb0d76e3de0c0da6f479be984"><div class="ttname"><a href="mathlib_8c.html#af501115cb0d76e3de0c0da6f479be984">VectorVectors</a></div><div class="ttdeci">void VectorVectors(const vec3_t forward, vec3_t right, vec3_t up)</div><div class="ttdoc">LadyHavoc: like AngleVectors, but taking a forward vector instead of angles, useful!</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00199">mathlib.c:199</a></div></div>
<div class="ttc" id="amathlib_8h_html_a14557f9ae9e8f7db1736479bc3eccc4b"><div class="ttname"><a href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a></div><div class="ttdeci">#define Vector4Set(a, b, c, d, e)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00085">mathlib.h:85</a></div></div>
<div class="ttc" id="amathlib_8h_html_a162e6aa9729332fbb112ac5f0d73a269"><div class="ttname"><a href="mathlib_8h.html#a162e6aa9729332fbb112ac5f0d73a269">VectorMAMAMAM</a></div><div class="ttdeci">#define VectorMAMAMAM(scale1, b1, scale2, b2, scale3, b3, scale4, b4, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00117">mathlib.h:117</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24ec9096b042003debd06be7e6425ff3"><div class="ttname"><a href="mathlib_8h.html#a24ec9096b042003debd06be7e6425ff3">VectorRandom</a></div><div class="ttdeci">#define VectorRandom(v)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00118">mathlib.h:118</a></div></div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
<div class="ttc" id="amathlib_8h_html_a49b70428785f62ca69e1547c6ba09bb0"><div class="ttname"><a href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a></div><div class="ttdeci">#define VectorNormalize(v)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00103">mathlib.h:103</a></div></div>
<div class="ttc" id="amathlib_8h_html_a4d2bc0c336e3e2a9b13448341ab83c10"><div class="ttname"><a href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a></div><div class="ttdeci">#define VectorLerp(v1, lerp, v2, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00119">mathlib.h:119</a></div></div>
<div class="ttc" id="amathlib_8h_html_a547609f6e7dbcd2c93a0adf5430ef665"><div class="ttname"><a href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a></div><div class="ttdeci">#define VectorClear(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00096">mathlib.h:96</a></div></div>
<div class="ttc" id="amathlib_8h_html_a553641b2aac0b2a7c43f9f74f8333fd5"><div class="ttname"><a href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a></div><div class="ttdeci">#define bound(min, num, max)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00034">mathlib.h:34</a></div></div>
<div class="ttc" id="amathlib_8h_html_a56e5c6bf818028304d48fb1b9ca6f53a"><div class="ttname"><a href="mathlib_8h.html#a56e5c6bf818028304d48fb1b9ca6f53a">VectorLength</a></div><div class="ttdeci">#define VectorLength(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00108">mathlib.h:108</a></div></div>
<div class="ttc" id="amathlib_8h_html_a5ca7803713f21fb521c6a53cb30c1ba2"><div class="ttname"><a href="mathlib_8h.html#a5ca7803713f21fb521c6a53cb30c1ba2">lhrandom</a></div><div class="ttdeci">#define lhrandom(MIN, MAX)</div><div class="ttdoc">LadyHavoc: this function never returns exactly MIN or exactly MAX, because of a QuakeC bug in id1 whe...</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00048">mathlib.h:48</a></div></div>
<div class="ttc" id="amathlib_8h_html_a78434ca318d72a308cffdcd75346fcd5"><div class="ttname"><a href="mathlib_8h.html#a78434ca318d72a308cffdcd75346fcd5">Vector4Copy</a></div><div class="ttdeci">#define Vector4Copy(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00083">mathlib.h:83</a></div></div>
<div class="ttc" id="amathlib_8h_html_a87789aa9d422deb982e0e65c6104a032"><div class="ttname"><a href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a></div><div class="ttdeci">#define VectorLength2(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00109">mathlib.h:109</a></div></div>
<div class="ttc" id="amathlib_8h_html_a943e32397fc83ab601d2ab979817eedf"><div class="ttname"><a href="mathlib_8h.html#a943e32397fc83ab601d2ab979817eedf">VectorNormalize2</a></div><div class="ttdeci">#define VectorNormalize2(v, dest)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00104">mathlib.h:104</a></div></div>
<div class="ttc" id="amathlib_8h_html_a9a5748d2424dee5c44d5d358e1944125"><div class="ttname"><a href="mathlib_8h.html#a9a5748d2424dee5c44d5d358e1944125">VectorDistance2</a></div><div class="ttdeci">#define VectorDistance2(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00106">mathlib.h:106</a></div></div>
<div class="ttc" id="amathlib_8h_html_a9e3eab0e06468024db75638d749ba016"><div class="ttname"><a href="mathlib_8h.html#a9e3eab0e06468024db75638d749ba016">Vector4Lerp</a></div><div class="ttdeci">#define Vector4Lerp(v1, lerp, v2, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00092">mathlib.h:92</a></div></div>
<div class="ttc" id="amathlib_8h_html_aa81f0bf735070a2a0876095e289c0e9b"><div class="ttname"><a href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a></div><div class="ttdeci">#define VectorMAM(scale1, b1, scale2, b2, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00115">mathlib.h:115</a></div></div>
<div class="ttc" id="amathlib_8h_html_ab0cc0535afa5fe9b893d7864c03b2305"><div class="ttname"><a href="mathlib_8h.html#ab0cc0535afa5fe9b893d7864c03b2305">NUMVERTEXNORMALS</a></div><div class="ttdeci">#define NUMVERTEXNORMALS</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00224">mathlib.h:224</a></div></div>
<div class="ttc" id="amathlib_8h_html_ac892cc77f8b6dd3dd543d3f637d63bd1"><div class="ttname"><a href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a></div><div class="ttdeci">#define DotProduct(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00097">mathlib.h:97</a></div></div>
<div class="ttc" id="amathlib_8h_html_accb62c1cf8b53e0446be03f3d5899a68"><div class="ttname"><a href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a></div><div class="ttdeci">#define VectorCopy(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00100">mathlib.h:100</a></div></div>
<div class="ttc" id="amathlib_8h_html_ad3cbbdfa4ea0dddf1026ffc640644d79"><div class="ttname"><a href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a></div><div class="ttdeci">#define VectorSet(a, b, c, d)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00095">mathlib.h:95</a></div></div>
<div class="ttc" id="amathlib_8h_html_adb186b506beeecc27d7222f69e4496f5"><div class="ttname"><a href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a></div><div class="ttdeci">#define VectorSubtract(a, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00098">mathlib.h:98</a></div></div>
<div class="ttc" id="amathlib_8h_html_adbe75a286ee7ac6c3064ae518ab7d936"><div class="ttname"><a href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a></div><div class="ttdeci">#define VectorScale(in, scale, out)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00110">mathlib.h:110</a></div></div>
<div class="ttc" id="amathlib_8h_html_ae0ab782cffa212723ac17c32ab8f4332"><div class="ttname"><a href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a></div><div class="ttdeci">#define VectorMA(a, scale, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00113">mathlib.h:113</a></div></div>
<div class="ttc" id="amathlib_8h_html_ae1750e92bc66a810d950430fc42d925b"><div class="ttname"><a href="mathlib_8h.html#ae1750e92bc66a810d950430fc42d925b">VectorMAMAM</a></div><div class="ttdeci">#define VectorMAMAM(scale1, b1, scale2, b2, scale3, b3, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00116">mathlib.h:116</a></div></div>
<div class="ttc" id="amathlib_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="mathlib_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00028">mathlib.h:28</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_a5bd9dc17773c5e84269f7a32f56251a1"><div class="ttname"><a href="matrixlib_8c.html#a5bd9dc17773c5e84269f7a32f56251a1">Matrix4x4_CreateTranslate</a></div><div class="ttdeci">void Matrix4x4_CreateTranslate(matrix4x4_t *out, double x, double y, double z)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l00584">matrixlib.c:584</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_a80867fbbc3b77b40fb8349d1e694a2de"><div class="ttname"><a href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a></div><div class="ttdeci">void Matrix4x4_CreateFromQuakeEntity(matrix4x4_t *out, double x, double y, double z, double pitch, double yaw, double roll, double scale)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l00715">matrixlib.c:715</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_af65cf0cf8374d8107db25a439fbd2d94"><div class="ttname"><a href="matrixlib_8c.html#af65cf0cf8374d8107db25a439fbd2d94">Matrix4x4_Scale</a></div><div class="ttdeci">void Matrix4x4_Scale(matrix4x4_t *out, double rotatescale, double originscale)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l01837">matrixlib.c:1837</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_afa5873e4026ae22dd9e6aa9177930ef0"><div class="ttname"><a href="matrixlib_8c.html#afa5873e4026ae22dd9e6aa9177930ef0">Matrix4x4_OriginFromMatrix</a></div><div class="ttdeci">void Matrix4x4_OriginFromMatrix(const matrix4x4_t *in, float *out)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l01792">matrixlib.c:1792</a></div></div>
<div class="ttc" id="ameshqueue_8c_html_a407895e2984e8902bc64d8221e2e6e4d"><div class="ttname"><a href="meshqueue_8c.html#a407895e2984e8902bc64d8221e2e6e4d">R_MeshQueue_AddTransparent</a></div><div class="ttdeci">void R_MeshQueue_AddTransparent(dptransparentsortcategory_t category, const vec3_t center, void(*callback)(const entity_render_t *ent, const rtlight_t *rtlight, int numsurfaces, int *surfacelist), const entity_render_t *ent, int surfacenumber, const rtlight_t *rtlight)</div><div class="ttdef"><b>Definition</b> <a href="meshqueue_8c_source.html#l00033">meshqueue.c:33</a></div></div>
<div class="ttc" id="ameshqueue_8h_html_a1c091424b6c2973b0e9450c94e4dbf9f"><div class="ttname"><a href="meshqueue_8h.html#a1c091424b6c2973b0e9450c94e4dbf9f">MESHQUEUE_TRANSPARENT_BATCHSIZE</a></div><div class="ttdeci">#define MESHQUEUE_TRANSPARENT_BATCHSIZE</div><div class="ttdef"><b>Definition</b> <a href="meshqueue_8h_source.html#l00006">meshqueue.h:6</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a6aaa281ecfff2614bfd32a87a353ad5f"><div class="ttname"><a href="model__brush_8h.html#a6aaa281ecfff2614bfd32a87a353ad5f">CHECKPVSBIT</a></div><div class="ttdeci">#define CHECKPVSBIT(pvs, b)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00361">model_brush.h:361</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a4ed15d45309b14e9e9d4718657329275"><div class="ttname"><a href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a></div><div class="ttdeci">#define Q3SURFACEFLAG_NOMARKS</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00247">model_q3bsp.h:247</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a7fb78b54cea0523f324ac2070a59420b"><div class="ttname"><a href="model__q3bsp_8h.html#a7fb78b54cea0523f324ac2070a59420b">Q3SURFACEFLAG_NOIMPACT</a></div><div class="ttdeci">#define Q3SURFACEFLAG_NOIMPACT</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00246">model_q3bsp.h:246</a></div></div>
<div class="ttc" id="anetconn_8c_html_a41848781c27194b5e2a79654558cc2f5"><div class="ttname"><a href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a></div><div class="ttdeci">sizebuf_t cl_message</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00068">netconn.c:68</a></div></div>
<div class="ttc" id="apalette_8c_html_a777164d2435e4855284eac24a69ffcb3"><div class="ttname"><a href="palette_8c.html#a777164d2435e4855284eac24a69ffcb3">palette_rgb</a></div><div class="ttdeci">unsigned char palette_rgb[256][3]</div><div class="ttdef"><b>Definition</b> <a href="palette_8c_source.html#l00007">palette.c:7</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a43b318e80d2457f5ce3e00a6cf1543c8"><div class="ttname"><a href="qdefs_8h.html#a43b318e80d2457f5ce3e00a6cf1543c8">MAX_PARTICLES</a></div><div class="ttdeci">#define MAX_PARTICLES</div><div class="ttdoc">upper limit on cl.particles size</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00154">qdefs.h:154</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a70c98b67362e4471a15cebd4ff411449"><div class="ttname"><a href="qdefs_8h.html#a70c98b67362e4471a15cebd4ff411449">MAX_DLIGHTS</a></div><div class="ttdeci">#define MAX_DLIGHTS</div><div class="ttdoc">max number of dynamic lights (rocket flashes, etc) in scene at once</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00132">qdefs.h:132</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a760ffd4b2527d8441e9210d5ec7f6e88"><div class="ttname"><a href="qdefs_8h.html#a760ffd4b2527d8441e9210d5ec7f6e88">MAX_PARTICLETEXTURES</a></div><div class="ttdeci">#define MAX_PARTICLETEXTURES</div><div class="ttdoc">maximum number of unique particle textures in the particle font</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00137">qdefs.h:137</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a9ca7ae0a34d2a1044b3fe3f0d63113c3"><div class="ttname"><a href="qdefs_8h.html#a9ca7ae0a34d2a1044b3fe3f0d63113c3">MAX_PARTICLEEFFECTINFO</a></div><div class="ttdeci">#define MAX_PARTICLEEFFECTINFO</div><div class="ttdoc">maximum number of unique particle effects (each name may associate with several of these)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00136">qdefs.h:136</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abd4ae30fcfdcbbff51bbf3f4e6daeee7"><div class="ttname"><a href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a></div><div class="ttdeci">#define MAX_QPATH</div><div class="ttdoc">max length of a quake game pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00169">qdefs.h:169</a></div></div>
<div class="ttc" id="aqdefs_8h_html_ae9d5be258ba2175e6b2ad6e10da264f7"><div class="ttname"><a href="qdefs_8h.html#ae9d5be258ba2175e6b2ad6e10da264f7">MAX_PARTICLEEFFECTNAME</a></div><div class="ttdeci">#define MAX_PARTICLEEFFECTNAME</div><div class="ttdoc">maximum number of unique names of particle effects (for particleeffectnum)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00135">qdefs.h:135</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a34b8d82aced6931bd3a572041e59aa7d"><div class="ttname"><a href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a></div><div class="ttdeci">float vec_t</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00064">qtypes.h:64</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a5fab60d2366b4888d93d5814eb04c9e9"><div class="ttname"><a href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a></div><div class="ttdeci">vec_t vec3_t[3]</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00067">qtypes.h:67</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa69f191c29d82fe1bfd8327cab6ef7b6"><div class="ttname"><a href="qtypes_8h.html#aa69f191c29d82fe1bfd8327cab6ef7b6">vec4_t</a></div><div class="ttdeci">vec_t vec4_t[4]</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00068">qtypes.h:68</a></div></div>
<div class="ttc" id="aquakedef_8h_html"><div class="ttname"><a href="quakedef_8h.html">quakedef.h</a></div></div>
<div class="ttc" id="ar__explosion_8c_html_abe5bb29212d008f49727a314fc42ddbf"><div class="ttname"><a href="r__explosion_8c.html#abe5bb29212d008f49727a314fc42ddbf">R_NewExplosion</a></div><div class="ttdeci">void R_NewExplosion(const vec3_t org)</div><div class="ttdef"><b>Definition</b> <a href="r__explosion_8c_source.html#l00160">r_explosion.c:160</a></div></div>
<div class="ttc" id="ar__modules_8c_html_a7f982eee49a26b26f015596ac96edea0"><div class="ttname"><a href="r__modules_8c.html#a7f982eee49a26b26f015596ac96edea0">R_RegisterModule</a></div><div class="ttdeci">void R_RegisterModule(const char *name, void(*start)(void), void(*shutdown)(void), void(*newmap)(void), void(*devicelost)(void), void(*devicerestored)(void))</div><div class="ttdef"><b>Definition</b> <a href="r__modules_8c_source.html#l00025">r_modules.c:25</a></div></div>
<div class="ttc" id="ar__qshader_8h_html_a72d5e32663fb1b0c369079ca0be01f37a2a635f265dd33d939e6dcd1482147080"><div class="ttname"><a href="r__qshader_8h.html#a72d5e32663fb1b0c369079ca0be01f37a2a635f265dd33d939e6dcd1482147080">TRANSPARENTSORT_DISTANCE</a></div><div class="ttdeci">@ TRANSPARENTSORT_DISTANCE</div><div class="ttdef"><b>Definition</b> <a href="r__qshader_8h_source.html#l00194">r_qshader.h:194</a></div></div>
<div class="ttc" id="ar__shadow_8c_html_a808b4850191116867f66c1e6fb2ced6a"><div class="ttname"><a href="r__shadow_8c.html#a808b4850191116867f66c1e6fb2ced6a">R_RTLight_Update</a></div><div class="ttdeci">void R_RTLight_Update(rtlight_t *rtlight, int isstatic, matrix4x4_t *matrix, vec3_t color, int style, const char *cubemapname, int shadow, vec_t corona, vec_t coronasizescale, vec_t ambientscale, vec_t diffusescale, vec_t specularscale, int flags)</div><div class="ttdef"><b>Definition</b> <a href="r__shadow_8c_source.html#l02980">r_shadow.c:2980</a></div></div>
<div class="ttc" id="ar__shadow_8c_html_af9aa50577998ce10555d0ad5b39fb5e5"><div class="ttname"><a href="r__shadow_8c.html#af9aa50577998ce10555d0ad5b39fb5e5">R_CompleteLightPoint</a></div><div class="ttdeci">void R_CompleteLightPoint(float *ambient, float *diffuse, float *lightdir, const vec3_t p, const int flags, float lightmapintensity, float ambientintensity)</div><div class="ttdef"><b>Definition</b> <a href="r__shadow_8c_source.html#l06027">r_shadow.c:6027</a></div></div>
<div class="ttc" id="ar__shadow_8h_html"><div class="ttname"><a href="r__shadow_8h.html">r_shadow.h</a></div></div>
<div class="ttc" id="ar__shadow_8h_html_a39a8894bad7a0da2edbbdfd1a8a0b281"><div class="ttname"><a href="r__shadow_8h.html#a39a8894bad7a0da2edbbdfd1a8a0b281">LP_DYNLIGHT</a></div><div class="ttdeci">#define LP_DYNLIGHT</div><div class="ttdef"><b>Definition</b> <a href="r__shadow_8h_source.html#l00194">r_shadow.h:194</a></div></div>
<div class="ttc" id="ar__shadow_8h_html_a58b6c06882dc55d62d28fcf098e8ea9f"><div class="ttname"><a href="r__shadow_8h.html#a58b6c06882dc55d62d28fcf098e8ea9f">LP_LIGHTMAP</a></div><div class="ttdeci">#define LP_LIGHTMAP</div><div class="ttdef"><b>Definition</b> <a href="r__shadow_8h_source.html#l00192">r_shadow.h:192</a></div></div>
<div class="ttc" id="ar__shadow_8h_html_ae2a999ea230517becaea5dbe53b0b64e"><div class="ttname"><a href="r__shadow_8h.html#ae2a999ea230517becaea5dbe53b0b64e">LP_RTWORLD</a></div><div class="ttdeci">#define LP_RTWORLD</div><div class="ttdef"><b>Definition</b> <a href="r__shadow_8h_source.html#l00193">r_shadow.h:193</a></div></div>
<div class="ttc" id="ar__stats_8h_html_ae611154931c203d788794752dda991f8aa04bb89b691dbdedd4519ce8db37af7f"><div class="ttname"><a href="r__stats_8h.html#ae611154931c203d788794752dda991f8aa04bb89b691dbdedd4519ce8db37af7f">r_stat_particles</a></div><div class="ttdeci">@ r_stat_particles</div><div class="ttdef"><b>Definition</b> <a href="r__stats_8h_source.html#l00021">r_stats.h:21</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a0f332820a9902f49fad5dbd44b4cf1a9"><div class="ttname"><a href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a></div><div class="ttdeci">#define TEXF_RGBMULTIPLYBYALPHA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00013">r_textures.h:13</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7e88b1d25d2969b53f6e967801f991ca"><div class="ttname"><a href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a></div><div class="ttdeci">#define TEXF_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00009">r_textures.h:9</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7ebf18782aefc1f1ff9fc5cb169e2dbb"><div class="ttname"><a href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a></div><div class="ttdeci">#define TEXF_FORCELINEAR</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00019">r_textures.h:19</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a></div><div class="ttdeci">@ TEXTYPE_BGRA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00053">r_textures.h:53</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a008e65201d4481545ed89903a22f667a"><div class="ttname"><a href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a></div><div class="ttdeci">dp_FragColor r</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00375">shader_glsl.h:375</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a25f2e1fef7cecde0255a3dde64ab4979"><div class="ttname"><a href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a></div><div class="ttdeci">vec3 color</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00505">shader_glsl.h:505</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a2ab77c89eb79b49ccd22bb1b2ad48bf1"><div class="ttname"><a href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a></div><div class="ttdeci">precision highp float</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00045">shader_glsl.h:45</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a4ca269cf93df1b512b52174c1a256fe5"><div class="ttname"><a href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a></div><div class="ttdeci">vec2 dir</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00281">shader_glsl.h:281</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a5ec19189388a37fcddc7258e29a40335"><div class="ttname"><a href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a></div><div class="ttdeci">dp_FragColor g</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00385">shader_glsl.h:385</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a731feb93da8dc28ee53e37b43daabd06"><div class="ttname"><a href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a></div><div class="ttdeci">float f</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00586">shader_glsl.h:586</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a7f9900a7305f0a389e52eb9aef7b1f13"><div class="ttname"><a href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a></div><div class="ttdeci">vec3 normal</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00575">shader_glsl.h:575</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ac369ee41cd9c6dc18e09c3293e27cf81"><div class="ttname"><a href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a></div><div class="ttdeci">dp_FragColor b</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00386">shader_glsl.h:386</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ada7daae51ef1e670767c18b83ea78044"><div class="ttname"><a href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a></div><div class="ttdeci">ret a</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00296">shader_glsl.h:296</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_adfa1e01d266867c3c98e1651a56241af"><div class="ttname"><a href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a></div><div class="ttdeci">vec2 px</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00324">shader_glsl.h:324</a></div></div>
<div class="ttc" id="asnd__mix_8c_html_acc952dc59e78d20fbc6a338b8ab2416f"><div class="ttname"><a href="snd__mix_8c.html#acc952dc59e78d20fbc6a338b8ab2416f">underwater</a></div><div class="ttdeci">static struct @29 underwater</div></div>
<div class="ttc" id="astructclient__state__t_html_a0ca3495498339be31b8b2bc65d5ffbf3"><div class="ttname"><a href="structclient__state__t.html#a0ca3495498339be31b8b2bc65d5ffbf3">client_state_t::oldtime</a></div><div class="ttdeci">double oldtime</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00869">client.h:869</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a5a10e60d5646ba875381ef3be3a0d36a"><div class="ttname"><a href="structclient__state__t.html#a5a10e60d5646ba875381ef3be3a0d36a">client_state_t::particles</a></div><div class="ttdeci">particle_t * particles</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l01001">client.h:1001</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a6872d1327283739a220a4021cbd066c7"><div class="ttname"><a href="structclient__state__t.html#a6872d1327283739a220a4021cbd066c7">client_state_t::movevars_gravity</a></div><div class="ttdeci">float movevars_gravity</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l01060">client.h:1060</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a87c385ec63b2659ee06a8f61f9a93e45"><div class="ttname"><a href="structclient__state__t.html#a87c385ec63b2659ee06a8f61f9a93e45">client_state_t::worldbasename</a></div><div class="ttdeci">char worldbasename[MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00899">client.h:899</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a8965100f2f1c821696a185f0b2fbc7d1"><div class="ttname"><a href="structclient__state__t.html#a8965100f2f1c821696a185f0b2fbc7d1">client_state_t::entities</a></div><div class="ttdeci">entity_t * entities</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00992">client.h:992</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a8ab19b0b9d4e96dc0220d846226e4283"><div class="ttname"><a href="structclient__state__t.html#a8ab19b0b9d4e96dc0220d846226e4283">client_state_t::worldmodel</a></div><div class="ttdeci">struct model_s * worldmodel</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00935">client.h:935</a></div></div>
<div class="ttc" id="astructclient__state__t_html_aa6eb4c7c151e9581da50571a5bd03aa6"><div class="ttname"><a href="structclient__state__t.html#aa6eb4c7c151e9581da50571a5bd03aa6">client_state_t::free_particle</a></div><div class="ttdeci">int free_particle</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l01016">client.h:1016</a></div></div>
<div class="ttc" id="astructclient__state__t_html_aa8238e617b9ada59bdb1c6b0482144d9"><div class="ttname"><a href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">client_state_t::time</a></div><div class="ttdeci">double time</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00869">client.h:869</a></div></div>
<div class="ttc" id="astructclient__state__t_html_ab61d0dcc8911385b28ed957a1d4b2069"><div class="ttname"><a href="structclient__state__t.html#ab61d0dcc8911385b28ed957a1d4b2069">client_state_t::num_particles</a></div><div class="ttdeci">int num_particles</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l01010">client.h:1010</a></div></div>
<div class="ttc" id="astructclient__state__t_html_ac3bb45f5e574b587989b01d53a91e14a"><div class="ttname"><a href="structclient__state__t.html#ac3bb45f5e574b587989b01d53a91e14a">client_state_t::particles_updatetime</a></div><div class="ttdeci">double particles_updatetime</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l01014">client.h:1014</a></div></div>
<div class="ttc" id="astructclient__state__t_html_ad45dd7ea53135ca2724f3fe53276c207"><div class="ttname"><a href="structclient__state__t.html#ad45dd7ea53135ca2724f3fe53276c207">client_state_t::max_particles</a></div><div class="ttdeci">int max_particles</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00989">client.h:989</a></div></div>
<div class="ttc" id="astructclient__state__t_html_af57ffbd05e98d81d460b2c1b18f46149"><div class="ttname"><a href="structclient__state__t.html#af57ffbd05e98d81d460b2c1b18f46149">client_state_t::worldnamenoextension</a></div><div class="ttdeci">char worldnamenoextension[MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00901">client.h:901</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ad0529e185060d700b3690daa7c313d1f"><div class="ttname"><a href="structclient__static__t.html#ad0529e185060d700b3690daa7c313d1f">client_static_t::levelmempool</a></div><div class="ttdeci">mempool_t * levelmempool</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00572">client.h:572</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ae20af73b9f88637a026c94f94b474d97"><div class="ttname"><a href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">client_static_t::protocol</a></div><div class="ttdeci">protocolversion_t protocol</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00618">client.h:618</a></div></div>
<div class="ttc" id="astructcmd__state__t_html"><div class="ttname"><a href="structcmd__state__t.html">cmd_state_t</a></div><div class="ttdoc">command interpreter state - the tokenizing and execution of commands, as well as pointers to which cv...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00126">cmd.h:127</a></div></div>
<div class="ttc" id="astructcvar__t_html"><div class="ttname"><a href="structcvar__t.html">cvar_t</a></div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00065">cvar.h:66</a></div></div>
<div class="ttc" id="astructcvar__t_html_a305faa0167494135297f1b8e6216d469"><div class="ttname"><a href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">cvar_t::value</a></div><div class="ttdeci">float value</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00074">cvar.h:74</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
<div class="ttc" id="astructentity__persistent__t_html_a0b45f3d232b460b9859ffaf8c0bf205b"><div class="ttname"><a href="structentity__persistent__t.html#a0b45f3d232b460b9859ffaf8c0bf205b">entity_persistent_t::trail_time</a></div><div class="ttdeci">float trail_time</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00460">client.h:460</a></div></div>
<div class="ttc" id="astructentity__render__t_html"><div class="ttname"><a href="structentity__render__t.html">entity_render_t</a></div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00326">client.h:327</a></div></div>
<div class="ttc" id="astructentity__render__t_html_a35e44e80da95a4aad81a3fcec2aa3fab"><div class="ttname"><a href="structentity__render__t.html#a35e44e80da95a4aad81a3fcec2aa3fab">entity_render_t::matrix</a></div><div class="ttdeci">matrix4x4_t matrix</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00333">client.h:333</a></div></div>
<div class="ttc" id="astructentity__render__t_html_a43a692d209d202112754c3db33f8382e"><div class="ttname"><a href="structentity__render__t.html#a43a692d209d202112754c3db33f8382e">entity_render_t::allowdecals</a></div><div class="ttdeci">int allowdecals</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00438">client.h:438</a></div></div>
<div class="ttc" id="astructentity__t_html"><div class="ttname"><a href="structentity__t.html">entity_t</a></div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00465">client.h:466</a></div></div>
<div class="ttc" id="astructentity__t_html_a569e946354a3bc2c73c5510a54d13f25"><div class="ttname"><a href="structentity__t.html#a569e946354a3bc2c73c5510a54d13f25">entity_t::persistent</a></div><div class="ttdeci">entity_persistent_t persistent</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00475">client.h:475</a></div></div>
<div class="ttc" id="astructentity__t_html_af108a2a8b9134b2f76164ac1e9633e7b"><div class="ttname"><a href="structentity__t.html#af108a2a8b9134b2f76164ac1e9633e7b">entity_t::render</a></div><div class="ttdeci">entity_render_t render</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00478">client.h:478</a></div></div>
<div class="ttc" id="astructmatrix4x4__t_html"><div class="ttname"><a href="structmatrix4x4__t.html">matrix4x4_t</a></div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8h_source.html#l00009">matrixlib.h:10</a></div></div>
<div class="ttc" id="astructmleaf__t_html"><div class="ttname"><a href="structmleaf__t.html">mleaf_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00174">model_brush.h:175</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a653826cb8e0d7f13d61e3ee419c10616"><div class="ttname"><a href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">model_brush_t::PointInLeaf</a></div><div class="ttdeci">mleaf_t *(* PointInLeaf)(struct model_s *model, const vec3_t p)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00340">model_brush.h:340</a></div></div>
<div class="ttc" id="astructmodel__t_html_a04530a5055aa78902f674f53fa284a37"><div class="ttname"><a href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">model_t::brush</a></div><div class="ttdeci">model_brush_t brush</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00541">model_shared.h:541</a></div></div>
<div class="ttc" id="astructparticle__t_html"><div class="ttname"><a href="structparticle__t.html">particle_t</a></div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00065">cl_particles.h:66</a></div></div>
<div class="ttc" id="astructparticle__t_html_a052f75040f3e15d594915461c765a0ba"><div class="ttname"><a href="structparticle__t.html#a052f75040f3e15d594915461c765a0ba">particle_t::staincolor</a></div><div class="ttdeci">unsigned char staincolor[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00102">cl_particles.h:102</a></div></div>
<div class="ttc" id="astructparticle__t_html_a301164e5dfb4f4d4ae82c486943daabe"><div class="ttname"><a href="structparticle__t.html#a301164e5dfb4f4d4ae82c486943daabe">particle_t::typeindex</a></div><div class="ttdeci">unsigned char typeindex</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00098">cl_particles.h:98</a></div></div>
<div class="ttc" id="astructparticle__t_html_a3ec6d540e0915fa06d7ba7ef3d4f9476"><div class="ttname"><a href="structparticle__t.html#a3ec6d540e0915fa06d7ba7ef3d4f9476">particle_t::alphafade</a></div><div class="ttdeci">float alphafade</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00081">cl_particles.h:81</a></div></div>
<div class="ttc" id="astructparticle__t_html_a44998a7a38feea3023d681da5e265c35"><div class="ttname"><a href="structparticle__t.html#a44998a7a38feea3023d681da5e265c35">particle_t::texnum</a></div><div class="ttdeci">unsigned char texnum</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00101">cl_particles.h:101</a></div></div>
<div class="ttc" id="astructparticle__t_html_a487dff1a9862a459e33311a7c4679d02"><div class="ttname"><a href="structparticle__t.html#a487dff1a9862a459e33311a7c4679d02">particle_t::stretch</a></div><div class="ttdeci">float stretch</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00075">cl_particles.h:75</a></div></div>
<div class="ttc" id="astructparticle__t_html_a52dd8e7fb8a42c0dc0911508672384ad"><div class="ttname"><a href="structparticle__t.html#a52dd8e7fb8a42c0dc0911508672384ad">particle_t::die</a></div><div class="ttdeci">float die</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00089">cl_particles.h:89</a></div></div>
<div class="ttc" id="astructparticle__t_html_a5dcbe72974adcf8c8752f79e990aee83"><div class="ttname"><a href="structparticle__t.html#a5dcbe72974adcf8c8752f79e990aee83">particle_t::bounce</a></div><div class="ttdeci">float bounce</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00083">cl_particles.h:83</a></div></div>
<div class="ttc" id="astructparticle__t_html_a64c0e61f03ef435ca74e2c5269f2ca14"><div class="ttname"><a href="structparticle__t.html#a64c0e61f03ef435ca74e2c5269f2ca14">particle_t::airfriction</a></div><div class="ttdeci">float airfriction</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00085">cl_particles.h:85</a></div></div>
<div class="ttc" id="astructparticle__t_html_a688c4817a6f714e8952d1f3feeebe3ed"><div class="ttname"><a href="structparticle__t.html#a688c4817a6f714e8952d1f3feeebe3ed">particle_t::orientation</a></div><div class="ttdeci">unsigned char orientation</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00100">cl_particles.h:100</a></div></div>
<div class="ttc" id="astructparticle__t_html_a69962b0c145659013692a5eb42b8636f"><div class="ttname"><a href="structparticle__t.html#a69962b0c145659013692a5eb42b8636f">particle_t::gravity</a></div><div class="ttdeci">float gravity</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00084">cl_particles.h:84</a></div></div>
<div class="ttc" id="astructparticle__t_html_a6a32092d0c7313d279545ed9d4a329f3"><div class="ttname"><a href="structparticle__t.html#a6a32092d0c7313d279545ed9d4a329f3">particle_t::size</a></div><div class="ttdeci">float size</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00073">cl_particles.h:73</a></div></div>
<div class="ttc" id="astructparticle__t_html_a6e448691821b1388972c0c31fa3543e6"><div class="ttname"><a href="structparticle__t.html#a6e448691821b1388972c0c31fa3543e6">particle_t::stainsize</a></div><div class="ttdeci">float stainsize</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00078">cl_particles.h:78</a></div></div>
<div class="ttc" id="astructparticle__t_html_a8440f23692cd00c71cb0597159f170f7"><div class="ttname"><a href="structparticle__t.html#a8440f23692cd00c71cb0597159f170f7">particle_t::vel</a></div><div class="ttdeci">vec3_t vel</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00072">cl_particles.h:72</a></div></div>
<div class="ttc" id="astructparticle__t_html_a8b2e18ebe052a10887d9092b0df80f90"><div class="ttname"><a href="structparticle__t.html#a8b2e18ebe052a10887d9092b0df80f90">particle_t::sortorigin</a></div><div class="ttdeci">vec3_t sortorigin</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00070">cl_particles.h:70</a></div></div>
<div class="ttc" id="astructparticle__t_html_a8c0f05cfc040a0720ef65ac6f08f7b2c"><div class="ttname"><a href="structparticle__t.html#a8c0f05cfc040a0720ef65ac6f08f7b2c">particle_t::org</a></div><div class="ttdeci">vec3_t org</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00071">cl_particles.h:71</a></div></div>
<div class="ttc" id="astructparticle__t_html_a99b4c7bf204ed8a6ecd726dbbe1c6cde"><div class="ttname"><a href="structparticle__t.html#a99b4c7bf204ed8a6ecd726dbbe1c6cde">particle_t::alpha</a></div><div class="ttdeci">float alpha</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00074">cl_particles.h:74</a></div></div>
<div class="ttc" id="astructparticle__t_html_aa22810b3f2b6decc399bd4dd651f3d17"><div class="ttname"><a href="structparticle__t.html#aa22810b3f2b6decc399bd4dd651f3d17">particle_t::sizeincrease</a></div><div class="ttdeci">float sizeincrease</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00080">cl_particles.h:80</a></div></div>
<div class="ttc" id="astructparticle__t_html_aa306a3b84a42c8c514723bf0c09b4c59"><div class="ttname"><a href="structparticle__t.html#aa306a3b84a42c8c514723bf0c09b4c59">particle_t::staintexnum</a></div><div class="ttdeci">signed char staintexnum</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00103">cl_particles.h:103</a></div></div>
<div class="ttc" id="astructparticle__t_html_aaa836b4de340fa69c1805ef5a547cc78"><div class="ttname"><a href="structparticle__t.html#aaa836b4de340fa69c1805ef5a547cc78">particle_t::liquidfriction</a></div><div class="ttdeci">float liquidfriction</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00086">cl_particles.h:86</a></div></div>
<div class="ttc" id="astructparticle__t_html_ab369aab17b6ae3d56c365a78df299f26"><div class="ttname"><a href="structparticle__t.html#ab369aab17b6ae3d56c365a78df299f26">particle_t::blendmode</a></div><div class="ttdeci">unsigned char blendmode</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00099">cl_particles.h:99</a></div></div>
<div class="ttc" id="astructparticle__t_html_ab8f5e16f4bd8c0893ea53a886131437f"><div class="ttname"><a href="structparticle__t.html#ab8f5e16f4bd8c0893ea53a886131437f">particle_t::delayedspawn</a></div><div class="ttdeci">float delayedspawn</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00088">cl_particles.h:88</a></div></div>
<div class="ttc" id="astructparticle__t_html_abb61f634d71846a1e85dfcb7f5933546"><div class="ttname"><a href="structparticle__t.html#abb61f634d71846a1e85dfcb7f5933546">particle_t::color</a></div><div class="ttdeci">unsigned char color[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00096">cl_particles.h:96</a></div></div>
<div class="ttc" id="astructparticle__t_html_ac75dca861cd018a926cfadc69c01ace1"><div class="ttname"><a href="structparticle__t.html#ac75dca861cd018a926cfadc69c01ace1">particle_t::stainalpha</a></div><div class="ttdeci">float stainalpha</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00079">cl_particles.h:79</a></div></div>
<div class="ttc" id="astructparticle__t_html_adf9bdc66cb53f447784ef35aeece56f7"><div class="ttname"><a href="structparticle__t.html#adf9bdc66cb53f447784ef35aeece56f7">particle_t::time2</a></div><div class="ttdeci">float time2</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00082">cl_particles.h:82</a></div></div>
<div class="ttc" id="astructparticle__t_html_aeada1643f9765f82999769305a1ad6ad"><div class="ttname"><a href="structparticle__t.html#aeada1643f9765f82999769305a1ad6ad">particle_t::spin</a></div><div class="ttdeci">short spin</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00093">cl_particles.h:93</a></div></div>
<div class="ttc" id="astructparticle__t_html_aedfc9813bc48c6f461df016ded4a4eb7"><div class="ttname"><a href="structparticle__t.html#aedfc9813bc48c6f461df016ded4a4eb7">particle_t::angle</a></div><div class="ttdeci">short angle</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00092">cl_particles.h:92</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html"><div class="ttname"><a href="structparticleeffectinfo__t.html">particleeffectinfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00050">cl_particles.c:51</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a08f5b9f37affe5878fc1eb4e8b108a55"><div class="ttname"><a href="structparticleeffectinfo__t.html#a08f5b9f37affe5878fc1eb4e8b108a55">particleeffectinfo_t::lighttime</a></div><div class="ttdeci">float lighttime</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00115">cl_particles.c:115</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a12ba8b64d353c490d5bcb3099c3d2aa0"><div class="ttname"><a href="structparticleeffectinfo__t.html#a12ba8b64d353c490d5bcb3099c3d2aa0">particleeffectinfo_t::bounce</a></div><div class="ttdeci">float bounce</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00093">cl_particles.c:93</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a1ce30a8de1081bcc536959ae80737917"><div class="ttname"><a href="structparticleeffectinfo__t.html#a1ce30a8de1081bcc536959ae80737917">particleeffectinfo_t::orientation</a></div><div class="ttdeci">porientation_t orientation</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00074">cl_particles.c:74</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a1dbe02073861276494322d93eac9fc9c"><div class="ttname"><a href="structparticleeffectinfo__t.html#a1dbe02073861276494322d93eac9fc9c">particleeffectinfo_t::particletype</a></div><div class="ttdeci">ptype_t particletype</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00070">cl_particles.c:70</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a1dc4d36f6eb381089ac621afc1a867dc"><div class="ttname"><a href="structparticleeffectinfo__t.html#a1dc4d36f6eb381089ac621afc1a867dc">particleeffectinfo_t::relativeoriginoffset</a></div><div class="ttdeci">float relativeoriginoffset[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00106">cl_particles.c:106</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a20e8ff79e90d49085e01234288d3679a"><div class="ttname"><a href="structparticleeffectinfo__t.html#a20e8ff79e90d49085e01234288d3679a">particleeffectinfo_t::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00054">cl_particles.c:54</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a2b4a796c8c5af5c36d003625a7fe1426"><div class="ttname"><a href="structparticleeffectinfo__t.html#a2b4a796c8c5af5c36d003625a7fe1426">particleeffectinfo_t::rotate</a></div><div class="ttdeci">float rotate[4]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00125">cl_particles.c:125</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a36f494896646ca0ceba78c7e697755e4"><div class="ttname"><a href="structparticleeffectinfo__t.html#a36f494896646ca0ceba78c7e697755e4">particleeffectinfo_t::staincolor</a></div><div class="ttdeci">unsigned int staincolor[2]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00120">cl_particles.c:120</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a3f874dc382cf1d6ac0c6c91fc4267ff0"><div class="ttname"><a href="structparticleeffectinfo__t.html#a3f874dc382cf1d6ac0c6c91fc4267ff0">particleeffectinfo_t::effectnameindex</a></div><div class="ttdeci">int effectnameindex</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00052">cl_particles.c:52</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a4993c48e65444b5ac4508d54d0fb6599"><div class="ttname"><a href="structparticleeffectinfo__t.html#a4993c48e65444b5ac4508d54d0fb6599">particleeffectinfo_t::countmultiplier</a></div><div class="ttdeci">float countmultiplier</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00065">cl_particles.c:65</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a51097b90c9adf1646a4dbedf6d94db38"><div class="ttname"><a href="structparticleeffectinfo__t.html#a51097b90c9adf1646a4dbedf6d94db38">particleeffectinfo_t::airfriction</a></div><div class="ttdeci">float airfriction</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00096">cl_particles.c:96</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a5f75b128cc05f39a45cdebeb4187f329"><div class="ttname"><a href="structparticleeffectinfo__t.html#a5f75b128cc05f39a45cdebeb4187f329">particleeffectinfo_t::liquidfriction</a></div><div class="ttdeci">float liquidfriction</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00099">cl_particles.c:99</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a63b72e6457d3d64b444f55b18deedc5a"><div class="ttname"><a href="structparticleeffectinfo__t.html#a63b72e6457d3d64b444f55b18deedc5a">particleeffectinfo_t::alpha</a></div><div class="ttdeci">float alpha[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00086">cl_particles.c:86</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a66af5c2081cda94d29f9faf9b819530e"><div class="ttname"><a href="structparticleeffectinfo__t.html#a66af5c2081cda94d29f9faf9b819530e">particleeffectinfo_t::velocityjitter</a></div><div class="ttdeci">float velocityjitter[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00110">cl_particles.c:110</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a6992d63794d88fa623c20462b9ab2213"><div class="ttname"><a href="structparticleeffectinfo__t.html#a6992d63794d88fa623c20462b9ab2213">particleeffectinfo_t::particleaccumulator</a></div><div class="ttdeci">double particleaccumulator</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00057">cl_particles.c:57</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a6afed7121363599eff8271b8656db94d"><div class="ttname"><a href="structparticleeffectinfo__t.html#a6afed7121363599eff8271b8656db94d">particleeffectinfo_t::lightshadow</a></div><div class="ttdeci">qbool lightshadow</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00117">cl_particles.c:117</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a79d3c473f2556ca8047c2622fbadfc97"><div class="ttname"><a href="structparticleeffectinfo__t.html#a79d3c473f2556ca8047c2622fbadfc97">particleeffectinfo_t::stainsize</a></div><div class="ttdeci">float stainsize[2]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00123">cl_particles.c:123</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a7be668ed56be91f3954b9a682e1a3ed8"><div class="ttname"><a href="structparticleeffectinfo__t.html#a7be668ed56be91f3954b9a682e1a3ed8">particleeffectinfo_t::relativevelocityoffset</a></div><div class="ttdeci">float relativevelocityoffset[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00108">cl_particles.c:108</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a7d2b7f3bc288d67895abd9451d9a3610"><div class="ttname"><a href="structparticleeffectinfo__t.html#a7d2b7f3bc288d67895abd9451d9a3610">particleeffectinfo_t::stretchfactor</a></div><div class="ttdeci">float stretchfactor</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00103">cl_particles.c:103</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a80327eef64b07ddb18a8b1bb84cea281"><div class="ttname"><a href="structparticleeffectinfo__t.html#a80327eef64b07ddb18a8b1bb84cea281">particleeffectinfo_t::lightradiusstart</a></div><div class="ttdeci">float lightradiusstart</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00113">cl_particles.c:113</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a823789423657ccc9e09ad22342b599b7"><div class="ttname"><a href="structparticleeffectinfo__t.html#a823789423657ccc9e09ad22342b599b7">particleeffectinfo_t::velocityoffset</a></div><div class="ttdeci">float velocityoffset[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00107">cl_particles.c:107</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a849293a9b6a2032edd4cbc277e6a6404"><div class="ttname"><a href="structparticleeffectinfo__t.html#a849293a9b6a2032edd4cbc277e6a6404">particleeffectinfo_t::lightradiusfade</a></div><div class="ttdeci">float lightradiusfade</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00114">cl_particles.c:114</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a88f8360c36fdd921e8e409cc50a922b5"><div class="ttname"><a href="structparticleeffectinfo__t.html#a88f8360c36fdd921e8e409cc50a922b5">particleeffectinfo_t::velocitymultiplier</a></div><div class="ttdeci">float velocitymultiplier</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00111">cl_particles.c:111</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_a8d22c205834444b138c19c7c4fcfa01e"><div class="ttname"><a href="structparticleeffectinfo__t.html#a8d22c205834444b138c19c7c4fcfa01e">particleeffectinfo_t::trailspacing</a></div><div class="ttdeci">float trailspacing</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00068">cl_particles.c:68</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_aa52b0e186bdf6c20a4688ebb6560bf80"><div class="ttname"><a href="structparticleeffectinfo__t.html#aa52b0e186bdf6c20a4688ebb6560bf80">particleeffectinfo_t::stainalpha</a></div><div class="ttdeci">float stainalpha[2]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00122">cl_particles.c:122</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_aa93a89cff4ac71aba3757a881964f8a5"><div class="ttname"><a href="structparticleeffectinfo__t.html#aa93a89cff4ac71aba3757a881964f8a5">particleeffectinfo_t::originjitter</a></div><div class="ttdeci">float originjitter[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00109">cl_particles.c:109</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_aaa1ba2a27f0bd77ce380a3399892cb0b"><div class="ttname"><a href="structparticleeffectinfo__t.html#aaa1ba2a27f0bd77ce380a3399892cb0b">particleeffectinfo_t::lightcolor</a></div><div class="ttdeci">float lightcolor[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00116">cl_particles.c:116</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_ab1d0ce90e7fde436181c353075edf4c9"><div class="ttname"><a href="structparticleeffectinfo__t.html#ab1d0ce90e7fde436181c353075edf4c9">particleeffectinfo_t::tex</a></div><div class="ttdeci">int tex[2]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00082">cl_particles.c:82</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_ab587c095ebcf57b6e00f2bc6cafd375e"><div class="ttname"><a href="structparticleeffectinfo__t.html#ab587c095ebcf57b6e00f2bc6cafd375e">particleeffectinfo_t::lightcubemapnum</a></div><div class="ttdeci">int lightcubemapnum</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00118">cl_particles.c:118</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_ac21ee8894795927bd1052cac01bda810"><div class="ttname"><a href="structparticleeffectinfo__t.html#ac21ee8894795927bd1052cac01bda810">particleeffectinfo_t::size</a></div><div class="ttdeci">float size[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00084">cl_particles.c:84</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_ac57e13aef82de822ad865a0bc67df668"><div class="ttname"><a href="structparticleeffectinfo__t.html#ac57e13aef82de822ad865a0bc67df668">particleeffectinfo_t::lightcorona</a></div><div class="ttdeci">float lightcorona[2]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00119">cl_particles.c:119</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_ade7fe1171f27afbd07d8e5fd33581922"><div class="ttname"><a href="structparticleeffectinfo__t.html#ade7fe1171f27afbd07d8e5fd33581922">particleeffectinfo_t::staintex</a></div><div class="ttdeci">int staintex[2]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00121">cl_particles.c:121</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_ae11354bb7180215c6e81ceaa61c96765"><div class="ttname"><a href="structparticleeffectinfo__t.html#ae11354bb7180215c6e81ceaa61c96765">particleeffectinfo_t::color</a></div><div class="ttdeci">unsigned int color[2]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00077">cl_particles.c:77</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_ae8bd46aaef107dc177c23aabcf0e0509"><div class="ttname"><a href="structparticleeffectinfo__t.html#ae8bd46aaef107dc177c23aabcf0e0509">particleeffectinfo_t::gravity</a></div><div class="ttdeci">float gravity</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00090">cl_particles.c:90</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_af009ed433f91d215bb71d0241fa3085f"><div class="ttname"><a href="structparticleeffectinfo__t.html#af009ed433f91d215bb71d0241fa3085f">particleeffectinfo_t::originoffset</a></div><div class="ttdeci">float originoffset[3]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00105">cl_particles.c:105</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_af8bb1b2875e788b74e19f052eb930fab"><div class="ttname"><a href="structparticleeffectinfo__t.html#af8bb1b2875e788b74e19f052eb930fab">particleeffectinfo_t::countabsolute</a></div><div class="ttdeci">float countabsolute</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00061">cl_particles.c:61</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_afb9a222b038c6e67a3201778acc0a5c8"><div class="ttname"><a href="structparticleeffectinfo__t.html#afb9a222b038c6e67a3201778acc0a5c8">particleeffectinfo_t::blendmode</a></div><div class="ttdeci">pblend_t blendmode</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00072">cl_particles.c:72</a></div></div>
<div class="ttc" id="astructparticleeffectinfo__t_html_aff7f5fa611902ba2ee7755a4e2d995f0"><div class="ttname"><a href="structparticleeffectinfo__t.html#aff7f5fa611902ba2ee7755a4e2d995f0">particleeffectinfo_t::time</a></div><div class="ttdeci">float time[2]</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00088">cl_particles.c:88</a></div></div>
<div class="ttc" id="astructparticletexture__t_html"><div class="ttname"><a href="structparticletexture__t.html">particletexture_t</a></div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00177">cl_particles.c:178</a></div></div>
<div class="ttc" id="astructparticletexture__t_html_a2b68f1b2c29c4f6f078986edf558fbe1"><div class="ttname"><a href="structparticletexture__t.html#a2b68f1b2c29c4f6f078986edf558fbe1">particletexture_t::t2</a></div><div class="ttdeci">float t2</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00180">cl_particles.c:180</a></div></div>
<div class="ttc" id="astructparticletexture__t_html_a9184a254177779087c69d49e644af02b"><div class="ttname"><a href="structparticletexture__t.html#a9184a254177779087c69d49e644af02b">particletexture_t::t1</a></div><div class="ttdeci">float t1</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00180">cl_particles.c:180</a></div></div>
<div class="ttc" id="astructparticletexture__t_html_aaf358de31d4806b5913ff9300ad4f32a"><div class="ttname"><a href="structparticletexture__t.html#aaf358de31d4806b5913ff9300ad4f32a">particletexture_t::s2</a></div><div class="ttdeci">float s2</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00180">cl_particles.c:180</a></div></div>
<div class="ttc" id="astructparticletexture__t_html_adafed86abd95362fb0ffb737324a6589"><div class="ttname"><a href="structparticletexture__t.html#adafed86abd95362fb0ffb737324a6589">particletexture_t::s1</a></div><div class="ttdeci">float s1</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00180">cl_particles.c:180</a></div></div>
<div class="ttc" id="astructparticletexture__t_html_adda3f26284002dae5278e43250630c8c"><div class="ttname"><a href="structparticletexture__t.html#adda3f26284002dae5278e43250630c8c">particletexture_t::texture</a></div><div class="ttdeci">rtexture_t * texture</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8c_source.html#l00179">cl_particles.c:179</a></div></div>
<div class="ttc" id="astructparticletype__t_html"><div class="ttname"><a href="structparticletype__t.html">particletype_t</a></div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00051">cl_particles.h:52</a></div></div>
<div class="ttc" id="astructparticletype__t_html_a4470ecbaff80b2e0ddff259160e38960"><div class="ttname"><a href="structparticletype__t.html#a4470ecbaff80b2e0ddff259160e38960">particletype_t::orientation</a></div><div class="ttdeci">porientation_t orientation</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00054">cl_particles.h:54</a></div></div>
<div class="ttc" id="astructparticletype__t_html_a6092af63bb9310c69e8511b4c639950a"><div class="ttname"><a href="structparticletype__t.html#a6092af63bb9310c69e8511b4c639950a">particletype_t::lighting</a></div><div class="ttdeci">qbool lighting</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00055">cl_particles.h:55</a></div></div>
<div class="ttc" id="astructparticletype__t_html_af8bedd7dec1cd969a36e15822a5b66fe"><div class="ttname"><a href="structparticletype__t.html#af8bedd7dec1cd969a36e15822a5b66fe">particletype_t::blendmode</a></div><div class="ttdeci">pblend_t blendmode</div><div class="ttdef"><b>Definition</b> <a href="cl__particles_8h_source.html#l00053">cl_particles.h:53</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_a0d2e420f14635b0aff07275fa6b74d82"><div class="ttname"><a href="structr__refdef__scene__t.html#a0d2e420f14635b0aff07275fa6b74d82">r_refdef_scene_t::numlights</a></div><div class="ttdeci">int numlights</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00379">render.h:379</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_a347a3f10e8de8e04904d0b8a70b38d87"><div class="ttname"><a href="structr__refdef__scene__t.html#a347a3f10e8de8e04904d0b8a70b38d87">r_refdef_scene_t::ambientintensity</a></div><div class="ttdeci">float ambientintensity</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00389">render.h:389</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_a4cb3e4b7d463102f104be9f3af762fc1"><div class="ttname"><a href="structr__refdef__scene__t.html#a4cb3e4b7d463102f104be9f3af762fc1">r_refdef_scene_t::lightmapintensity</a></div><div class="ttdeci">float lightmapintensity</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00392">render.h:392</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_aa2dcfd41f0bab5977bed85951106fd29"><div class="ttname"><a href="structr__refdef__scene__t.html#aa2dcfd41f0bab5977bed85951106fd29">r_refdef_scene_t::worldmodel</a></div><div class="ttdeci">model_t * worldmodel</div><div class="ttdoc">same as worldentity-&gt;model</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00363">render.h:363</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_ae4dfd0ad65bd2cecac4d12f329e331ca"><div class="ttname"><a href="structr__refdef__scene__t.html#ae4dfd0ad65bd2cecac4d12f329e331ca">r_refdef_scene_t::worldentity</a></div><div class="ttdeci">entity_render_t * worldentity</div><div class="ttdoc">the world</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00360">render.h:360</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_ae7fe6da979d07418652cc0e9002cc674"><div class="ttname"><a href="structr__refdef__scene__t.html#ae7fe6da979d07418652cc0e9002cc674">r_refdef_scene_t::templights</a></div><div class="ttdeci">rtlight_t templights[MAX_DLIGHTS]</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00378">render.h:378</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_ae8084373da2e6a507c6ec0c78b23d84c"><div class="ttname"><a href="structr__refdef__scene__t.html#ae8084373da2e6a507c6ec0c78b23d84c">r_refdef_scene_t::time</a></div><div class="ttdeci">double time</div><div class="ttdoc">(client gameworld) time for rendering time based effects</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00357">render.h:357</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_aec6438e3812387c92681237d33bfe46f"><div class="ttname"><a href="structr__refdef__scene__t.html#aec6438e3812387c92681237d33bfe46f">r_refdef_scene_t::lights</a></div><div class="ttdeci">rtlight_t * lights[MAX_DLIGHTS]</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00377">render.h:377</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_a1fe645bfc26ff5aef11c6be3db359a11"><div class="ttname"><a href="structr__refdef__t.html#a1fe645bfc26ff5aef11c6be3db359a11">r_refdef_t::viewcache</a></div><div class="ttdeci">r_refdef_viewcache_t viewcache</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00412">render.h:412</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_a388c2db5754f9a2415475a95b1b37c06"><div class="ttname"><a href="structr__refdef__t.html#a388c2db5754f9a2415475a95b1b37c06">r_refdef_t::fogenabled</a></div><div class="ttdeci">qbool fogenabled</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00445">render.h:445</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_a7792d42f39399df17a1e5362c659cea2"><div class="ttname"><a href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">r_refdef_t::view</a></div><div class="ttdeci">r_refdef_view_t view</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00411">render.h:411</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_a8bb1872767bde247618f49e897e53d17"><div class="ttname"><a href="structr__refdef__t.html#a8bb1872767bde247618f49e897e53d17">r_refdef_t::fogcolor</a></div><div class="ttdeci">float fogcolor[3]</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00429">render.h:429</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_acb0c53994baa529557477269d81d5507"><div class="ttname"><a href="structr__refdef__t.html#acb0c53994baa529557477269d81d5507">r_refdef_t::stats</a></div><div class="ttdeci">int stats[r_stat_count]</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00471">render.h:471</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_ad1fea7c0925ed7d0709c8d15409db6f8"><div class="ttname"><a href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">r_refdef_t::scene</a></div><div class="ttdeci">r_refdef_scene_t scene</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00423">render.h:423</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a041fa47c00086279c394d038e469aaf2"><div class="ttname"><a href="structr__refdef__view__t.html#a041fa47c00086279c394d038e469aaf2">r_refdef_view_t::left</a></div><div class="ttdeci">vec3_t left</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00269">render.h:269</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a1e8124ff88085c5f0235fe55d7c874b5"><div class="ttname"><a href="structr__refdef__view__t.html#a1e8124ff88085c5f0235fe55d7c874b5">r_refdef_view_t::colorscale</a></div><div class="ttdeci">float colorscale</div><div class="ttdoc">global RGB color multiplier for rendering</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00302">render.h:302</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a4588b43854008784aac18ca28ee76c29"><div class="ttname"><a href="structr__refdef__view__t.html#a4588b43854008784aac18ca28ee76c29">r_refdef_view_t::quality</a></div><div class="ttdeci">float quality</div><div class="ttdoc">render quality (0 to 1) - affects r_drawparticles_drawdistance and others</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00321">render.h:321</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a7231a4f45a0c95a676aefaae30a2cb61"><div class="ttname"><a href="structr__refdef__view__t.html#a7231a4f45a0c95a676aefaae30a2cb61">r_refdef_view_t::origin</a></div><div class="ttdeci">vec3_t origin</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00267">render.h:267</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a7b16684d5900ba97b0545874a31df5fb"><div class="ttname"><a href="structr__refdef__view__t.html#a7b16684d5900ba97b0545874a31df5fb">r_refdef_view_t::useperspective</a></div><div class="ttdeci">int useperspective</div><div class="ttdoc">if turned off it renders an ortho view</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00280">render.h:280</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_ae1bd25ebdf975e2daba47f7367d8323b"><div class="ttname"><a href="structr__refdef__view__t.html#ae1bd25ebdf975e2daba47f7367d8323b">r_refdef_view_t::up</a></div><div class="ttdeci">vec3_t up</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00271">render.h:271</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_ae77b6ccbb4e40b1132239a12c91438f9"><div class="ttname"><a href="structr__refdef__view__t.html#ae77b6ccbb4e40b1132239a12c91438f9">r_refdef_view_t::forward</a></div><div class="ttdeci">vec3_t forward</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00268">render.h:268</a></div></div>
<div class="ttc" id="astructr__refdef__viewcache__t_html_a754151ee2d2a944a5e428538cafa0d9e"><div class="ttname"><a href="structr__refdef__viewcache__t.html#a754151ee2d2a944a5e428538cafa0d9e">r_refdef_viewcache_t::world_pvsbits</a></div><div class="ttdeci">unsigned char * world_pvsbits</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00342">render.h:342</a></div></div>
<div class="ttc" id="astructr__refdef__viewcache__t_html_a83b0dfe23b86f68da5ee3884a29a27c0"><div class="ttname"><a href="structr__refdef__viewcache__t.html#a83b0dfe23b86f68da5ee3884a29a27c0">r_refdef_viewcache_t::world_novis</a></div><div class="ttdeci">qbool world_novis</div><div class="ttdoc">if true, the view is currently in a leaf without pvs data</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00346">render.h:346</a></div></div>
<div class="ttc" id="astructrtexture__t_html"><div class="ttname"><a href="structrtexture__t.html">rtexture_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00107">r_textures.h:108</a></div></div>
<div class="ttc" id="astructrtexturepool__t_html"><div class="ttname"><a href="structrtexturepool__t.html">rtexturepool_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00119">r_textures.h:120</a></div></div>
<div class="ttc" id="astructrtlight__t_html"><div class="ttname"><a href="structrtlight__t.html">rtlight_t</a></div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00105">client.h:106</a></div></div>
<div class="ttc" id="astructskinframe__t_html"><div class="ttname"><a href="structskinframe__t.html">skinframe_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00125">r_textures.h:126</a></div></div>
<div class="ttc" id="astructskinframe__t_html_a2eee54d56a22b66559bdea45d6415881"><div class="ttname"><a href="structskinframe__t.html#a2eee54d56a22b66559bdea45d6415881">skinframe_t::base</a></div><div class="ttdeci">struct rtexture_s * base</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00129">r_textures.h:129</a></div></div>
<div class="ttc" id="astructtrace__t_html"><div class="ttname"><a href="structtrace__t.html">trace_t</a></div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00021">collision.h:22</a></div></div>
<div class="ttc" id="astructtrace__t_html_a37cb2b7f426f5a76265ddb8e7918a099"><div class="ttname"><a href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">trace_t::fraction</a></div><div class="ttdeci">double fraction</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00040">collision.h:40</a></div></div>
<div class="ttc" id="astructtrace__t_html_a3de5026fb5e0e13c11701ab40ad0db13"><div class="ttname"><a href="structtrace__t.html#a3de5026fb5e0e13c11701ab40ad0db13">trace_t::hitq3surfaceflags</a></div><div class="ttdeci">int hitq3surfaceflags</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00060">collision.h:60</a></div></div>
<div class="ttc" id="astructtrace__t_html_a45b22da9e5e28fb83aa691ffb1909a4a"><div class="ttname"><a href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">trace_t::endpos</a></div><div class="ttdeci">double endpos[3]</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00042">collision.h:42</a></div></div>
<div class="ttc" id="astructtrace__t_html_a78edab108c78f91aaa4aec7aee8b898a"><div class="ttname"><a href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">trace_t::startsupercontents</a></div><div class="ttdeci">int startsupercontents</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00056">collision.h:56</a></div></div>
<div class="ttc" id="astructtrace__t_html_a9a6651d4c1d97c4e6959a696184b25cd"><div class="ttname"><a href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">trace_t::plane</a></div><div class="ttdeci">plane_t plane</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00044">collision.h:44</a></div></div>
<div class="ttc" id="astructtrace__t_html_ad9e1724e1bd447e3ab1ea29db3e73e46"><div class="ttname"><a href="structtrace__t.html#ad9e1724e1bd447e3ab1ea29db3e73e46">trace_t::hitsupercontents</a></div><div class="ttdeci">int hitsupercontents</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00058">collision.h:58</a></div></div>
<div class="ttc" id="astructviddef__t_html_a137554a0c7fc06cfbe4bec3902260ab4"><div class="ttname"><a href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">viddef_t::sRGB3D</a></div><div class="ttdeci">qbool sRGB3D</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00083">vid.h:83</a></div></div>
<div class="ttc" id="asv__user_8c_html_a6cb5d7464231c3110d95905fb7d83cc7"><div class="ttname"><a href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a></div><div class="ttdeci">static vec3_t forward</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00305">sv_user.c:305</a></div></div>
<div class="ttc" id="asv__user_8c_html_aa462954db5cc506fabe811dc11b3e1a4"><div class="ttname"><a href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a></div><div class="ttdeci">static vec3_t right</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00305">sv_user.c:305</a></div></div>
<div class="ttc" id="asv__user_8c_html_adf3413f94f96a6089d7f6c71f33ac347"><div class="ttname"><a href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a></div><div class="ttdeci">static vec3_t up</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00305">sv_user.c:305</a></div></div>
<div class="ttc" id="asys_8h_html_a373bafd608adfe542c636ccfdfb2368e"><div class="ttname"><a href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a></div><div class="ttdeci">void Sys_Error(const char *error,...) DP_FUNC_PRINTF(1) DP_FUNC_NORETURN</div><div class="ttdoc">Causes the entire program to exit ASAP.</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00677">sys_shared.c:677</a></div></div>
<div class="ttc" id="aunionplane__t_html_ade810b5e8f7db899dee445447a58edeb"><div class="ttname"><a href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">plane_t::normal</a></div><div class="ttdeci">vec3_t normal</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00013">collision.h:13</a></div></div>
<div class="ttc" id="avid_8h_html_aa5f05f6f860c65da5834d6ff3d5655af"><div class="ttname"><a href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a></div><div class="ttdeci">viddef_t vid</div><div class="ttdef"><b>Definition</b> <a href="vid__shared_8c_source.html#l00064">vid_shared.c:64</a></div></div>
<div class="ttc" id="aworld_8h_html_ac85dd5b7c1be8faf715803a4a921a313"><div class="ttname"><a href="world_8h.html#ac85dd5b7c1be8faf715803a4a921a313">MOVE_NORMAL</a></div><div class="ttdeci">#define MOVE_NORMAL</div><div class="ttdef"><b>Definition</b> <a href="world_8h_source.html#l00028">world.h:28</a></div></div>
<div class="ttc" id="aworld_8h_html_ad9b31bede6128044de93b93641630437"><div class="ttname"><a href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a></div><div class="ttdeci">#define MOVE_NOMONSTERS</div><div class="ttdef"><b>Definition</b> <a href="world_8h_source.html#l00029">world.h:29</a></div></div>
<div class="ttc" id="azone_8c_html_ac742acee1395c22ccf6d2370d465f844"><div class="ttname"><a href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a></div><div class="ttdeci">mempool_t * tempmempool</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00794">zone.c:794</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="cl__particles_8c.html">cl_particles.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
