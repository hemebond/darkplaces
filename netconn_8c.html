<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: netconn.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('netconn_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">netconn.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="quakedef_8h_source.html">quakedef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thread_8h_source.html">thread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lhnet_8h_source.html">lhnet.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hmac_8h_source.html">hmac.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mdfour_8h_source.html">mdfour.h</a>&quot;</code><br />
<code>#include &lt;time.h&gt;</code><br />
</div>
<p><a href="netconn_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aeebe0d5d68d75a24ee23bb179e1f2e64" id="r_aeebe0d5d68d75a24ee23bb179e1f2e64"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aeebe0d5d68d75a24ee23bb179e1f2e64">QWMASTER_PORT</a>&#160;&#160;&#160;27000</td></tr>
<tr class="separator:aeebe0d5d68d75a24ee23bb179e1f2e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02cdbe652b952bf43dda2382f44d502d" id="r_a02cdbe652b952bf43dda2382f44d502d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a02cdbe652b952bf43dda2382f44d502d">DPMASTER_PORT</a>&#160;&#160;&#160;27950</td></tr>
<tr class="separator:a02cdbe652b952bf43dda2382f44d502d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83471aef80aa68e74d394912131fc22f" id="r_a83471aef80aa68e74d394912131fc22f"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a83471aef80aa68e74d394912131fc22f">DPMASTER_COUNT</a>&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="netconn_8c.html#a1b6cd48f1fbebacde3deceed53fa7ee3">sv_masters</a>) / <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="structcvar__t.html">cvar_t</a>)</td></tr>
<tr class="separator:a83471aef80aa68e74d394912131fc22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d2b497b08d0ca8117d2fd5384fcaf58" id="r_a9d2b497b08d0ca8117d2fd5384fcaf58"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a9d2b497b08d0ca8117d2fd5384fcaf58">QWMASTER_COUNT</a>&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sv_qwmasters</a>) / <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="structcvar__t.html">cvar_t</a>)</td></tr>
<tr class="separator:a9d2b497b08d0ca8117d2fd5384fcaf58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9cc5698cb9e3b5e2cf26679433d904ec" id="r_a9cc5698cb9e3b5e2cf26679433d904ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">typedef</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a9cc5698cb9e3b5e2cf26679433d904ec">rcon_matchfunc_t</a>) (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *hash, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *s, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slen</a>)</td></tr>
<tr class="separator:a9cc5698cb9e3b5e2cf26679433d904ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a32cdef72a697789efb6435689f0c51a2" id="r_a32cdef72a697789efb6435689f0c51a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a32cdef72a697789efb6435689f0c51a2">NetConn_Read</a> (<a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlength</a>, <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress)</td></tr>
<tr class="separator:a32cdef72a697789efb6435689f0c51a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8a8700531fab7a9c69ff0ff0258e9f" id="r_a1e8a8700531fab7a9c69ff0ff0258e9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a> (<a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress)</td></tr>
<tr class="separator:a1e8a8700531fab7a9c69ff0ff0258e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29cc54ca5c12633b26f6f8817d5616b4" id="r_a29cc54ca5c12633b26f6f8817d5616b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a> (<a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#ae79dfeea357422bd20dbcaa2afe88ac6">string</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress)</td></tr>
<tr class="separator:a29cc54ca5c12633b26f6f8817d5616b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad66c28fa10c798aa61476480bb6037" id="r_a1ad66c28fa10c798aa61476480bb6037"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a1ad66c28fa10c798aa61476480bb6037">NetConn_CanSend</a> (<a class="el" href="structnetconn__t.html">netconn_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>)</td></tr>
<tr class="separator:a1ad66c28fa10c798aa61476480bb6037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880160743f307a53e90fae1751c89d1a" id="r_a880160743f307a53e90fae1751c89d1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a880160743f307a53e90fae1751c89d1a">NetConn_UpdateCleartime</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> *cleartime, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> rate, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">burstsize</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> len)</td></tr>
<tr class="separator:a880160743f307a53e90fae1751c89d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbcbf58902ea24f32417d7819b08e7d9" id="r_acbcbf58902ea24f32417d7819b08e7d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#acbcbf58902ea24f32417d7819b08e7d9">NetConn_AddCryptoFlag</a> (<a class="el" href="structcrypto__t.html">crypto_t</a> *crypto)</td></tr>
<tr class="separator:acbcbf58902ea24f32417d7819b08e7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c9a97d25973921b0c00170be244bda" id="r_ad4c9a97d25973921b0c00170be244bda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ad4c9a97d25973921b0c00170be244bda">NetConn_SendUnreliableMessage</a> (<a class="el" href="structnetconn__t.html">netconn_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>, <a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="common_8h.html#a366ae823bcda0303072d32ce8bf197ac">protocolversion_t</a> protocol, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> rate, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">burstsize</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quakesignon_suppressreliables</a>)</td></tr>
<tr class="separator:ad4c9a97d25973921b0c00170be244bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53835dcfee384f2ae5dfb8dae2054ce" id="r_aa53835dcfee384f2ae5dfb8dae2054ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aa53835dcfee384f2ae5dfb8dae2054ce">NetConn_HaveClientPorts</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:aa53835dcfee384f2ae5dfb8dae2054ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8283a1941210dbd930b075f06f47be" id="r_a6e8283a1941210dbd930b075f06f47be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a6e8283a1941210dbd930b075f06f47be">NetConn_HaveServerPorts</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a6e8283a1941210dbd930b075f06f47be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d11f57224f1128c514d5352c9d237d" id="r_af5d11f57224f1128c514d5352c9d237d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#af5d11f57224f1128c514d5352c9d237d">NetConn_CloseClientPorts</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:af5d11f57224f1128c514d5352c9d237d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06179a9c349b29afe2a83d7f77429db9" id="r_a06179a9c349b29afe2a83d7f77429db9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a06179a9c349b29afe2a83d7f77429db9">NetConn_OpenClientPort</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, <a class="el" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183">lhnetaddresstype_t</a> addresstype, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">defaultport</a>)</td></tr>
<tr class="separator:a06179a9c349b29afe2a83d7f77429db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ec93e8450ae3d1fde81960051f6d64" id="r_ac9ec93e8450ae3d1fde81960051f6d64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ac9ec93e8450ae3d1fde81960051f6d64">NetConn_OpenClientPorts</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:ac9ec93e8450ae3d1fde81960051f6d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45b0918fbf9513a47eaf51b27b1c6de" id="r_ad45b0918fbf9513a47eaf51b27b1c6de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ad45b0918fbf9513a47eaf51b27b1c6de">NetConn_CloseServerPorts</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:ad45b0918fbf9513a47eaf51b27b1c6de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd2272c38a67b73475494387f48f3b6" id="r_afdd2272c38a67b73475494387f48f3b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#afdd2272c38a67b73475494387f48f3b6">NetConn_OpenServerPort</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, <a class="el" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183">lhnetaddresstype_t</a> addresstype, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">defaultport</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">range</a>)</td></tr>
<tr class="separator:afdd2272c38a67b73475494387f48f3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66d2369a44114a1c4ec19d7ce9acdbb" id="r_ac66d2369a44114a1c4ec19d7ce9acdbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ac66d2369a44114a1c4ec19d7ce9acdbb">NetConn_OpenServerPorts</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opennetports</a>)</td></tr>
<tr class="separator:ac66d2369a44114a1c4ec19d7ce9acdbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bbc5734d010c1d64a87a9449cdeff73" id="r_a4bbc5734d010c1d64a87a9449cdeff73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a4bbc5734d010c1d64a87a9449cdeff73">NetConn_ChooseClientSocketForAddress</a> (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *address)</td></tr>
<tr class="separator:a4bbc5734d010c1d64a87a9449cdeff73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905461d7c70f462cee1bfa2b71a55212" id="r_a905461d7c70f462cee1bfa2b71a55212"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a905461d7c70f462cee1bfa2b71a55212">NetConn_ChooseServerSocketForAddress</a> (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *address)</td></tr>
<tr class="separator:a905461d7c70f462cee1bfa2b71a55212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a088b84e6c4e611e0f137efeabef830ad" id="r_a088b84e6c4e611e0f137efeabef830ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetconn__t.html">netconn_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a088b84e6c4e611e0f137efeabef830ad">NetConn_Open</a> (<a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket, <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress)</td></tr>
<tr class="separator:a088b84e6c4e611e0f137efeabef830ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85ee4f9050e60359de47888459a412a" id="r_ad85ee4f9050e60359de47888459a412a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ad85ee4f9050e60359de47888459a412a">NetConn_ClearFlood</a> (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="structserver__floodaddress__t.html">server_floodaddress_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlength</a>)</td></tr>
<tr class="separator:ad85ee4f9050e60359de47888459a412a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa543aba7ca1ffbbba8cbf13d6e72e15d" id="r_aa543aba7ca1ffbbba8cbf13d6e72e15d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aa543aba7ca1ffbbba8cbf13d6e72e15d">NetConn_Close</a> (<a class="el" href="structnetconn__t.html">netconn_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>)</td></tr>
<tr class="separator:aa543aba7ca1ffbbba8cbf13d6e72e15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bccb1a18e0b2e6aad473275f135c3db" id="r_a4bccb1a18e0b2e6aad473275f135c3db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a4bccb1a18e0b2e6aad473275f135c3db">NetConn_CL_UpdateSockets_Callback</a> (<a class="el" href="structcvar__t.html">cvar_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>)</td></tr>
<tr class="separator:a4bccb1a18e0b2e6aad473275f135c3db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb0515baab417663429d91acdc898bb" id="r_adeb0515baab417663429d91acdc898bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#adeb0515baab417663429d91acdc898bb">NetConn_sv_netport_Callback</a> (<a class="el" href="structcvar__t.html">cvar_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>)</td></tr>
<tr class="separator:adeb0515baab417663429d91acdc898bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53fe62ae3af70f7fc4564fe951bbb4dd" id="r_a53fe62ae3af70f7fc4564fe951bbb4dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a53fe62ae3af70f7fc4564fe951bbb4dd">NetConn_UpdateSockets</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a53fe62ae3af70f7fc4564fe951bbb4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310bc9b48254f2c8e90138890a17b9be" id="r_a310bc9b48254f2c8e90138890a17b9be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a310bc9b48254f2c8e90138890a17b9be">NetConn_ReceivedMessage</a> (<a class="el" href="structnetconn__t.html">netconn_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="el" href="common_8h.html#a366ae823bcda0303072d32ce8bf197ac">protocolversion_t</a> protocol, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newtimeout</a>)</td></tr>
<tr class="separator:a310bc9b48254f2c8e90138890a17b9be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed17b7b38b156a7fbe14814e666f92ce" id="r_aed17b7b38b156a7fbe14814e666f92ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aed17b7b38b156a7fbe14814e666f92ce">NetConn_ConnectionEstablished</a> (<a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket, <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="common_8h.html#a366ae823bcda0303072d32ce8bf197ac">protocolversion_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">initialprotocol</a>)</td></tr>
<tr class="separator:aed17b7b38b156a7fbe14814e666f92ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab47905ddb176fda7f25a275075b9f6a7" id="r_ab47905ddb176fda7f25a275075b9f6a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ab47905ddb176fda7f25a275075b9f6a7">NetConn_IsLocalGame</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:ab47905ddb176fda7f25a275075b9f6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff81962983a08dadfdc1ece274fc555" id="r_aeff81962983a08dadfdc1ece274fc555"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aeff81962983a08dadfdc1ece274fc555">NetConn_ClientParsePacket</a> (<a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress)</td></tr>
<tr class="separator:aeff81962983a08dadfdc1ece274fc555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a715f0df36037e7910eaad6456b4a88de" id="r_a715f0df36037e7910eaad6456b4a88de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a715f0df36037e7910eaad6456b4a88de">NetConn_ClientFrame</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a715f0df36037e7910eaad6456b4a88de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a839186bad8b6a7dd57dee891a8bf12a5" id="r_a839186bad8b6a7dd57dee891a8bf12a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a839186bad8b6a7dd57dee891a8bf12a5">NetConn_BuildChallengeString</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferlength</a>)</td></tr>
<tr class="separator:a839186bad8b6a7dd57dee891a8bf12a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fe26a0682e2cd4476b76e2d8e09c25" id="r_a11fe26a0682e2cd4476b76e2d8e09c25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a11fe26a0682e2cd4476b76e2d8e09c25">NetConn_BuildStatusResponse</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *challenge, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_msg</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_size</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullstatus</a>)</td></tr>
<tr class="memdesc:a11fe26a0682e2cd4476b76e2d8e09c25"><td class="mdescLeft">&#160;</td><td class="mdescRight">(div0) build the full response only if possible; better a getinfo response than no response at all if getstatus won't fit  <br /></td></tr>
<tr class="separator:a11fe26a0682e2cd4476b76e2d8e09c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5c6cf2ecbc7231fe31186a70423a88" id="r_abe5c6cf2ecbc7231fe31186a70423a88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#abe5c6cf2ecbc7231fe31186a70423a88">NetConn_PreventFlood</a> (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="structserver__floodaddress__t.html">server_floodaddress_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlength</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodtime</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">renew</a>)</td></tr>
<tr class="separator:abe5c6cf2ecbc7231fe31186a70423a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c6374d794972f513a75a37cb56fe4c" id="r_ab8c6374d794972f513a75a37cb56fe4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ab8c6374d794972f513a75a37cb56fe4c">hmac_mdfour_time_matching</a> (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *hash, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *s, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slen</a>)</td></tr>
<tr class="separator:ab8c6374d794972f513a75a37cb56fe4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516a0abe0e530d11a3d9521fd6efd0e2" id="r_a516a0abe0e530d11a3d9521fd6efd0e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a516a0abe0e530d11a3d9521fd6efd0e2">hmac_mdfour_challenge_matching</a> (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *hash, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *s, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slen</a>)</td></tr>
<tr class="separator:a516a0abe0e530d11a3d9521fd6efd0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b7fc461b9b94c3394485daa7e18808" id="r_ad6b7fc461b9b94c3394485daa7e18808"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ad6b7fc461b9b94c3394485daa7e18808">plaintext_matching</a> (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *hash, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *s, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slen</a>)</td></tr>
<tr class="separator:ad6b7fc461b9b94c3394485daa7e18808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece3cba3e51092996b1190039cec2865" id="r_aece3cba3e51092996b1190039cec2865"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aece3cba3e51092996b1190039cec2865">RCon_Authenticate</a> (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *s, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *endpos, <a class="el" href="netconn_8c.html#a9cc5698cb9e3b5e2cf26679433d904ec">rcon_matchfunc_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">comparator</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cs</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cslen</a>)</td></tr>
<tr class="memdesc:aece3cba3e51092996b1190039cec2865"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a string describing the user level, or NULL for auth failure  <br /></td></tr>
<tr class="separator:aece3cba3e51092996b1190039cec2865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04b829f8d37007c0ed359e4ac78b8970" id="r_a04b829f8d37007c0ed359e4ac78b8970"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a04b829f8d37007c0ed359e4ac78b8970">RCon_Execute</a> (<a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket, <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *s, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *endpos, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">proquakeprotocol</a>)</td></tr>
<tr class="separator:a04b829f8d37007c0ed359e4ac78b8970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6332f4f197dd20f3353373721b6a9d" id="r_a6b6332f4f197dd20f3353373721b6a9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a6b6332f4f197dd20f3353373721b6a9d">NetConn_ServerParsePacket</a> (<a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress)</td></tr>
<tr class="separator:a6b6332f4f197dd20f3353373721b6a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf6eb36a3405b4dc1c0d30353647f47f" id="r_abf6eb36a3405b4dc1c0d30353647f47f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#abf6eb36a3405b4dc1c0d30353647f47f">NetConn_ServerFrame</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:abf6eb36a3405b4dc1c0d30353647f47f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ab4eebd8e0190aba511cb3ec8970af" id="r_a11ab4eebd8e0190aba511cb3ec8970af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a11ab4eebd8e0190aba511cb3ec8970af">NetConn_Heartbeat</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">priority</a>)</td></tr>
<tr class="separator:a11ab4eebd8e0190aba511cb3ec8970af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929bd15b07d59446570b76b9551443c4" id="r_a929bd15b07d59446570b76b9551443c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a929bd15b07d59446570b76b9551443c4">Net_Heartbeat_f</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</td></tr>
<tr class="separator:a929bd15b07d59446570b76b9551443c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc7f7a8fbd82f26351fa5dbb9672825" id="r_aecc7f7a8fbd82f26351fa5dbb9672825"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aecc7f7a8fbd82f26351fa5dbb9672825">PrintStats</a> (<a class="el" href="structnetconn__t.html">netconn_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>)</td></tr>
<tr class="separator:aecc7f7a8fbd82f26351fa5dbb9672825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a300cc70806587561822f2b565beeb137" id="r_a300cc70806587561822f2b565beeb137"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a300cc70806587561822f2b565beeb137">Net_Stats_f</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</td></tr>
<tr class="separator:a300cc70806587561822f2b565beeb137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5502917f6a7bf7dcd6d69199f60fdf3" id="r_aa5502917f6a7bf7dcd6d69199f60fdf3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aa5502917f6a7bf7dcd6d69199f60fdf3">NetConn_Init</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:aa5502917f6a7bf7dcd6d69199f60fdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b2bf54319da034d13d1f30020ecfc6" id="r_ac1b2bf54319da034d13d1f30020ecfc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ac1b2bf54319da034d13d1f30020ecfc6">NetConn_Shutdown</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:ac1b2bf54319da034d13d1f30020ecfc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a19ac50fe68d1f3cd1f9cdd2d09349468" id="r_a19ac50fe68d1f3cd1f9cdd2d09349468"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;sv_public&quot;, &quot;0&quot;, &quot;1: advertises <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> master server (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">so</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">players</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">can</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">find</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">browser</a>); 0: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">queries</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a>; -1: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">do</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">respond</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">queries</a>; -2: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">do</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anyone</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a>; -3: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">block</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">at</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getchallenge</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">level&quot;</a>}</td></tr>
<tr class="separator:a19ac50fe68d1f3cd1f9cdd2d09349468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aae00d42067068bab01a64bfd2410de" id="r_a5aae00d42067068bab01a64bfd2410de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a5aae00d42067068bab01a64bfd2410de">sv_public_rejectreason</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;sv_public_rejectreason&quot;, &quot;The server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">closing.&quot;</a>, &quot;Rejection <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reason</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connects</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> -2&quot;}</td></tr>
<tr class="separator:a5aae00d42067068bab01a64bfd2410de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235a8908f04988bb5ba0db639804b215" id="r_a235a8908f04988bb5ba0db639804b215"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a235a8908f04988bb5ba0db639804b215">sv_heartbeatperiod</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;sv_heartbeatperiod&quot;, &quot;120&quot;, &quot;how <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">often</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">send</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">heartbeat</a> in <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a> used <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> 1)&quot;}</td></tr>
<tr class="separator:a235a8908f04988bb5ba0db639804b215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe74292f2e29f97906991381501eea8a" id="r_abe74292f2e29f97906991381501eea8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#abe74292f2e29f97906991381501eea8a">sv_status_privacy</a></td></tr>
<tr class="separator:abe74292f2e29f97906991381501eea8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b6cd48f1fbebacde3deceed53fa7ee3" id="r_a1b6cd48f1fbebacde3deceed53fa7ee3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a1b6cd48f1fbebacde3deceed53fa7ee3">sv_masters</a> []</td></tr>
<tr class="separator:a1b6cd48f1fbebacde3deceed53fa7ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c7d69528561622c8d1af82deb11be7" id="r_a20c7d69528561622c8d1af82deb11be7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a20c7d69528561622c8d1af82deb11be7">nextheartbeattime</a> = 0</td></tr>
<tr class="separator:a20c7d69528561622c8d1af82deb11be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41848781c27194b5e2a79654558cc2f5" id="r_a41848781c27194b5e2a79654558cc2f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsizebuf__t.html">sizebuf_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a></td></tr>
<tr class="separator:a41848781c27194b5e2a79654558cc2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf23938a2ed5657b35e7e88d54b8d5e" id="r_acbf23938a2ed5657b35e7e88d54b8d5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsizebuf__t.html">sizebuf_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a></td></tr>
<tr class="separator:acbf23938a2ed5657b35e7e88d54b8d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e512b73deafdc983444d59588f9239e" id="r_a8e512b73deafdc983444d59588f9239e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a8e512b73deafdc983444d59588f9239e">cl_message_buf</a> [<a class="el" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>]</td></tr>
<tr class="separator:a8e512b73deafdc983444d59588f9239e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb0bd07f6c523a12c61c94d162251f30" id="r_abb0bd07f6c523a12c61c94d162251f30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#abb0bd07f6c523a12c61c94d162251f30">sv_message_buf</a> [<a class="el" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>]</td></tr>
<tr class="separator:abb0bd07f6c523a12c61c94d162251f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fb4a844f29d652334404e3cc1702d6" id="r_a67fb4a844f29d652334404e3cc1702d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a> [<a class="el" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>]</td></tr>
<tr class="separator:a67fb4a844f29d652334404e3cc1702d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6969160ac5ad367c2252f347a8e3de0f" id="r_a6969160ac5ad367c2252f347a8e3de0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a> [<a class="el" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>]</td></tr>
<tr class="separator:a6969160ac5ad367c2252f347a8e3de0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab02c233c5d0c32d9dc768c5d4dbb390d" id="r_ab02c233c5d0c32d9dc768c5d4dbb390d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ab02c233c5d0c32d9dc768c5d4dbb390d">net_test</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_test&quot;, &quot;0&quot;, &quot;internal <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">development</a> use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leave</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alone</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">usually</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">does</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nothing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anyway</a>)&quot;}</td></tr>
<tr class="separator:ab02c233c5d0c32d9dc768c5d4dbb390d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b4fa63a8f87a460e4a859abc9a8d7b" id="r_a87b4fa63a8f87a460e4a859abc9a8d7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a87b4fa63a8f87a460e4a859abc9a8d7b">net_usesizelimit</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_usesizelimit&quot;, &quot;2&quot;, &quot;use packet <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limiting</a> (0: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">never</a>, 1: in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">non</a>-<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">CSQC</a> <a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, 2: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">always</a>)&quot;}</td></tr>
<tr class="separator:a87b4fa63a8f87a460e4a859abc9a8d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070d29ab620af341e92e899ecbf54f83" id="r_a070d29ab620af341e92e899ecbf54f83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a070d29ab620af341e92e899ecbf54f83">net_burstreserve</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_burstreserve&quot;, &quot;0.3&quot;, &quot;how <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">much</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">burst</a> time to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reserve</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> packet <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spikes&quot;</a>}</td></tr>
<tr class="separator:a070d29ab620af341e92e899ecbf54f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a125fb9e97285613acc8bc55055808fa3" id="r_a125fb9e97285613acc8bc55055808fa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a125fb9e97285613acc8bc55055808fa3">net_messagetimeout</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_messagetimeout&quot;,&quot;300&quot;, &quot;drops <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">players</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">who</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sent</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">any</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">seconds&quot;</a>}</td></tr>
<tr class="separator:a125fb9e97285613acc8bc55055808fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be140d13075e2b17324b2922e60bf8d" id="r_a4be140d13075e2b17324b2922e60bf8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a4be140d13075e2b17324b2922e60bf8d">net_connecttimeout</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_connecttimeout&quot;,&quot;15&quot;, &quot;after <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">requesting</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connection</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">must</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reply</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">within</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">or</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dropped</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cuts</a> down <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floods</a>). <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Must</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">above</a> 10 <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">seconds.&quot;</a>}</td></tr>
<tr class="separator:a4be140d13075e2b17324b2922e60bf8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7d94628548aad6f9ebc6bec7251cc7" id="r_afa7d94628548aad6f9ebc6bec7251cc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#afa7d94628548aad6f9ebc6bec7251cc7">net_connectfloodblockingtimeout</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_connectfloodblockingtimeout&quot;, &quot;5&quot;, &quot;when <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connection</a> packet <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">received</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">block</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">future</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a> address <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cuts</a> down <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floods</a>). <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Note</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">does</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">include</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">retries</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">same</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">these</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">are</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">handled</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">earlier</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">let</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">in.&quot;</a>}</td></tr>
<tr class="separator:afa7d94628548aad6f9ebc6bec7251cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafdb79d3492f1d43052022f5a2b3670f" id="r_aafdb79d3492f1d43052022f5a2b3670f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aafdb79d3492f1d43052022f5a2b3670f">net_challengefloodblockingtimeout</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_challengefloodblockingtimeout&quot;, &quot;0.5&quot;, &quot;when <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> challenge packet <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">received</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">block</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">future</a> challenge <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a> address <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cuts</a> down <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> challenge <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floods</a>). <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DarkPlaces</a> clients <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">retry</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">once</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">second</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">so</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">should</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> &lt;= 1. <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Failure</a> here <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lead</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">attempts</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failing.&quot;</a>}</td></tr>
<tr class="separator:aafdb79d3492f1d43052022f5a2b3670f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1de11576ed9750e64af235a3132dd55" id="r_ab1de11576ed9750e64af235a3132dd55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ab1de11576ed9750e64af235a3132dd55">net_getstatusfloodblockingtimeout</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_getstatusfloodblockingtimeout&quot;, &quot;1&quot;, &quot;when <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getstatus</a> packet <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">received</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">block</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">future</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getstatus</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a> address <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cuts</a> down <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getstatus</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floods</a>). <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DarkPlaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">retries</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">every</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_timeout</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qstat</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">retries</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">once</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">second</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">so</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">should</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> &lt;= 1. <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Failure</a> here <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lead</a> to server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">showing</a> <a class="el" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list.&quot;</a>}</td></tr>
<tr class="separator:ab1de11576ed9750e64af235a3132dd55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5918471d5570f5ecf0da17ecf0a253b" id="r_ae5918471d5570f5ecf0da17ecf0a253b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;net_sourceaddresscheck&quot;, &quot;1&quot;, &quot;compare <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#a074e0d952a099fc4b0d3766bb70d8f21">source</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a> address <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">replies</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">more</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">secure</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">break</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">some</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bad</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">multihoming</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">setups&quot;</a>}</td></tr>
<tr class="separator:ae5918471d5570f5ecf0da17ecf0a253b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a05cd185b100e46c288e366c9c19c3" id="r_ae3a05cd185b100e46c288e366c9c19c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ae3a05cd185b100e46c288e366c9c19c3">hostname</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;hostname&quot;, &quot;UNNAMED&quot;, &quot;server message to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">show</a> in server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">browser&quot;</a>}</td></tr>
<tr class="separator:ae3a05cd185b100e46c288e366c9c19c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ec6ab811f71ef2e66d3aa1710c0a095" id="r_a6ec6ab811f71ef2e66d3aa1710c0a095"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a6ec6ab811f71ef2e66d3aa1710c0a095">developer_networking</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;developer_networking&quot;, &quot;0&quot;, &quot;prints <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">received</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sent</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">recommended</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">debugging</a>)&quot;}</td></tr>
<tr class="separator:a6ec6ab811f71ef2e66d3aa1710c0a095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296f91b40cc46d3fbd4bcfce195c4b72" id="r_a296f91b40cc46d3fbd4bcfce195c4b72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a296f91b40cc46d3fbd4bcfce195c4b72">net_fakelag</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;net_fakelag&quot;,&quot;0&quot;, &quot;lags <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">local</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">loopback</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connection</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">much</a> ping time (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">useful</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">play</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">more</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fairly</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">your</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">own</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">people</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">higher</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pings</a>)&quot;}</td></tr>
<tr class="separator:a296f91b40cc46d3fbd4bcfce195c4b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5bc5e4de2f31760a2f0a60c1a3de8ec" id="r_af5bc5e4de2f31760a2f0a60c1a3de8ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#af5bc5e4de2f31760a2f0a60c1a3de8ec">net_fakeloss_send</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;net_fakeloss_send&quot;,&quot;0&quot;, &quot;drops <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">percentage</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outgoing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">useful</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">network</a> protocol <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">robustness</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">jerky</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movement</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prediction</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">errors</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">etc</a>)&quot;}</td></tr>
<tr class="separator:af5bc5e4de2f31760a2f0a60c1a3de8ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89766ee95baa52999ba454b7cd4d3293" id="r_a89766ee95baa52999ba454b7cd4d3293"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a89766ee95baa52999ba454b7cd4d3293">net_fakeloss_receive</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;net_fakeloss_receive&quot;,&quot;0&quot;, &quot;drops <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">percentage</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incoming</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">useful</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">network</a> protocol <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">robustness</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">jerky</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movement</a>, effects <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failing</a> to start, sounds <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failing</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">play</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">etc</a>)&quot;}</td></tr>
<tr class="separator:a89766ee95baa52999ba454b7cd4d3293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbdc90f2740857b6c97a7b73489fc20" id="r_a5bbdc90f2740857b6c97a7b73489fc20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a5bbdc90f2740857b6c97a7b73489fc20">net_tos_dscp</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;net_tos_dscp&quot;, &quot;32&quot;, &quot;DiffServ <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Codepoint</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">network</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sockets</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">need</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restart</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">apply</a>)&quot;}</td></tr>
<tr class="separator:a5bbdc90f2740857b6c97a7b73489fc20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92a2869b79eba344f6365f813d1ec76" id="r_ab92a2869b79eba344f6365f813d1ec76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;gameversion&quot;, &quot;0&quot;, &quot;version <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> (mod-specific) to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sent</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">querying</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clients&quot;</a>}</td></tr>
<tr class="separator:ab92a2869b79eba344f6365f813d1ec76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53402ba46e24d59c426df87e617cab46" id="r_a53402ba46e24d59c426df87e617cab46"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a53402ba46e24d59c426df87e617cab46">gameversion_min</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;gameversion_min&quot;, &quot;-1&quot;, &quot;minimum <a class="el" href="fs_8c.html#a93793de2dc55e58d203e4c24b4038be6">version</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> (mod-specific), <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> server <a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mismatch</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">browser</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shown</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incompatible</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> -1, <a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> used <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alone&quot;</a>}</td></tr>
<tr class="separator:a53402ba46e24d59c426df87e617cab46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62473f1f5b3dbbb19ba13270de52ede" id="r_ae62473f1f5b3dbbb19ba13270de52ede"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ae62473f1f5b3dbbb19ba13270de52ede">gameversion_max</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;gameversion_max&quot;, &quot;-1&quot;, &quot;maximum <a class="el" href="fs_8c.html#a93793de2dc55e58d203e4c24b4038be6">version</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> (mod-specific), <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> server <a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mismatch</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">browser</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shown</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incompatible</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> -1, <a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> used <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alone&quot;</a>}</td></tr>
<tr class="separator:ae62473f1f5b3dbbb19ba13270de52ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ae822e079633dab70ff829b88f68ab" id="r_aa9ae822e079633dab70ff829b88f68ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aa9ae822e079633dab70ff829b88f68ab">rcon_restricted_password</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="el" href="cmd_8h.html#afc7ff54d18aaa67429a4706241a5aa79">CF_PRIVATE</a>, &quot;rcon_restricted_password&quot;, &quot;&quot;, &quot;password to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">authenticate</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rcon</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">commands</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restricted</a> <a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">set</a> to <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#ae79dfeea357422bd20dbcaa2afe88ac6">string</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">form</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">user1:pass1</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">user2:pass2</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">user3:pass3</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">multiple</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">user</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">accounts</a> - <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">then</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">has</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">specify</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ONE</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">these</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">combinations&quot;</a>}</td></tr>
<tr class="separator:aa9ae822e079633dab70ff829b88f68ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53375cac16c58f364c01e3cacea4c416" id="r_a53375cac16c58f364c01e3cacea4c416"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a53375cac16c58f364c01e3cacea4c416">rcon_restricted_commands</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;rcon_restricted_commands&quot;, &quot;&quot;, &quot;allowed <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">commands</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rcon</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restricted</a> <a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">was</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">used&quot;</a>}</td></tr>
<tr class="separator:a53375cac16c58f364c01e3cacea4c416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3103d3754adf79d6d44895811ad88bc" id="r_af3103d3754adf79d6d44895811ad88bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#af3103d3754adf79d6d44895811ad88bc">rcon_secure_maxdiff</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;rcon_secure_maxdiff&quot;, &quot;5&quot;, &quot;maximum time <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">difference</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">between</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rcon</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">request</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">system</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clock</a> (to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">against</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">replay</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">attack</a>)&quot;}</td></tr>
<tr class="separator:af3103d3754adf79d6d44895811ad88bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91eb541dbcdf27e99a58540f296db255" id="r_a91eb541dbcdf27e99a58540f296db255"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a></td></tr>
<tr class="separator:a91eb541dbcdf27e99a58540f296db255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90295c0585be4dc5bfac2be3e973effb" id="r_a90295c0585be4dc5bfac2be3e973effb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a90295c0585be4dc5bfac2be3e973effb">rcon_secure_challengetimeout</a></td></tr>
<tr class="separator:a90295c0585be4dc5bfac2be3e973effb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0fda102570c9992d89ba20b8b07532" id="r_a3b0fda102570c9992d89ba20b8b07532"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a3b0fda102570c9992d89ba20b8b07532">masterquerytime</a> = -1000</td></tr>
<tr class="separator:a3b0fda102570c9992d89ba20b8b07532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c0c3bb09531c924acd35d84f594bced" id="r_a9c0c3bb09531c924acd35d84f594bced"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a9c0c3bb09531c924acd35d84f594bced">masterquerycount</a> = 0</td></tr>
<tr class="separator:a9c0c3bb09531c924acd35d84f594bced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60fa0726d14920339dde83952b4655c" id="r_ad60fa0726d14920339dde83952b4655c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ad60fa0726d14920339dde83952b4655c">masterreplycount</a> = 0</td></tr>
<tr class="separator:ad60fa0726d14920339dde83952b4655c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd41c363dac949f434e5233fcda1ecd" id="r_a3bd41c363dac949f434e5233fcda1ecd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a3bd41c363dac949f434e5233fcda1ecd">serverquerycount</a> = 0</td></tr>
<tr class="separator:a3bd41c363dac949f434e5233fcda1ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac919336413b04bb16b65c2d0491cfa0b" id="r_ac919336413b04bb16b65c2d0491cfa0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ac919336413b04bb16b65c2d0491cfa0b">serverreplycount</a> = 0</td></tr>
<tr class="separator:ac919336413b04bb16b65c2d0491cfa0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e54cf29fb37082e7ce4439cddc802fd" id="r_a5e54cf29fb37082e7ce4439cddc802fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structchallenge__t.html">challenge_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a> [<a class="el" href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a>]</td></tr>
<tr class="separator:a5e54cf29fb37082e7ce4439cddc802fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0925a9929bfb545c708d04a621d2ca3" id="r_af0925a9929bfb545c708d04a621d2ca3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#af0925a9929bfb545c708d04a621d2ca3">serverlist_querystage</a> = 0</td></tr>
<tr class="memdesc:af0925a9929bfb545c708d04a621d2ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">bitfield because in theory we could be doing QW &amp; DP simultaneously  <br /></td></tr>
<tr class="separator:af0925a9929bfb545c708d04a621d2ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e362d1b3e635420eea4ee33945cf879" id="r_a4e362d1b3e635420eea4ee33945cf879"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a></td></tr>
<tr class="separator:a4e362d1b3e635420eea4ee33945cf879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059a80c09f1a475b0d33fd58910efea0" id="r_a059a80c09f1a475b0d33fd58910efea0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a> [16]</td></tr>
<tr class="separator:a059a80c09f1a475b0d33fd58910efea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c35cd47ee3dc1e5109ef4458b0cad5" id="r_a51c35cd47ee3dc1e5109ef4458b0cad5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a></td></tr>
<tr class="separator:a51c35cd47ee3dc1e5109ef4458b0cad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc75bed24ac2cb9a36ee0c84cdc4006" id="r_a6bc75bed24ac2cb9a36ee0c84cdc4006"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a> [16]</td></tr>
<tr class="separator:a6bc75bed24ac2cb9a36ee0c84cdc4006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed065cfe97fc587dcfd40a5d08794cf3" id="r_aed065cfe97fc587dcfd40a5d08794cf3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetconn__t.html">netconn_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#aed065cfe97fc587dcfd40a5d08794cf3">netconn_list</a> = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:aed065cfe97fc587dcfd40a5d08794cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0942d3e368979e08e3d29caee297e67e" id="r_a0942d3e368979e08e3d29caee297e67e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a0942d3e368979e08e3d29caee297e67e">netconn_mempool</a> = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a0942d3e368979e08e3d29caee297e67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03458d3acf0119e9cb33b91ed6ffe835" id="r_a03458d3acf0119e9cb33b91ed6ffe835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a> = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a03458d3acf0119e9cb33b91ed6ffe835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbfda6bc2acef1558948b2fa709418ad" id="r_adbfda6bc2acef1558948b2fa709418ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#adbfda6bc2acef1558948b2fa709418ad">cl_netport</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;cl_port&quot;, &quot;0&quot;, &quot;forces <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> to use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chosen</a> port number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> 0&quot;}</td></tr>
<tr class="separator:adbfda6bc2acef1558948b2fa709418ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdebe98dae636b669ea48f01e273b9f0" id="r_afdebe98dae636b669ea48f01e273b9f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#afdebe98dae636b669ea48f01e273b9f0">sv_netport</a> = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;port&quot;, &quot;26000&quot;, &quot;server port <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">players</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">to&quot;</a>}</td></tr>
<tr class="separator:afdebe98dae636b669ea48f01e273b9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b4f256612e6aaec5fb7fca221ad4a0" id="r_ae0b4f256612e6aaec5fb7fca221ad4a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ae0b4f256612e6aaec5fb7fca221ad4a0">net_address</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_address&quot;, &quot;&quot;, &quot;network address to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">open</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ipv4</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ports</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">empty</a>, use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">default</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">interfaces</a>)&quot;}</td></tr>
<tr class="separator:ae0b4f256612e6aaec5fb7fca221ad4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1527114200da3066be49236a9e8c80" id="r_a0f1527114200da3066be49236a9e8c80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a0f1527114200da3066be49236a9e8c80">net_address_ipv6</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_address_ipv6&quot;, &quot;&quot;, &quot;network address to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">open</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ipv6</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ports</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">empty</a>, use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">default</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">interfaces</a>)&quot;}</td></tr>
<tr class="separator:a0f1527114200da3066be49236a9e8c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70f2e8d4e8c9ebb7d604e46b1c9c105" id="r_ac70f2e8d4e8c9ebb7d604e46b1c9c105"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ac70f2e8d4e8c9ebb7d604e46b1c9c105">cl_net_extresponse</a> [<a class="el" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>][1400]</td></tr>
<tr class="separator:ac70f2e8d4e8c9ebb7d604e46b1c9c105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e4d9fae519ad6062ba3f938b1101e5" id="r_a91e4d9fae519ad6062ba3f938b1101e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a91e4d9fae519ad6062ba3f938b1101e5">cl_net_extresponse_count</a> = 0</td></tr>
<tr class="separator:a91e4d9fae519ad6062ba3f938b1101e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169546e0f83607f623204b6da71a3649" id="r_a169546e0f83607f623204b6da71a3649"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a169546e0f83607f623204b6da71a3649">cl_net_extresponse_last</a> = 0</td></tr>
<tr class="separator:a169546e0f83607f623204b6da71a3649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e419c272cbcdef6f8655d17bc28ea6" id="r_a42e419c272cbcdef6f8655d17bc28ea6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a42e419c272cbcdef6f8655d17bc28ea6">sv_net_extresponse</a> [<a class="el" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>][1400]</td></tr>
<tr class="separator:a42e419c272cbcdef6f8655d17bc28ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4264eb13fff8614d3f12650dcebf495f" id="r_a4264eb13fff8614d3f12650dcebf495f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a4264eb13fff8614d3f12650dcebf495f">sv_net_extresponse_count</a> = 0</td></tr>
<tr class="separator:a4264eb13fff8614d3f12650dcebf495f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5851b82ee89d4ddfad5498c8819cef31" id="r_a5851b82ee89d4ddfad5498c8819cef31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a5851b82ee89d4ddfad5498c8819cef31">sv_net_extresponse_last</a> = 0</td></tr>
<tr class="separator:a5851b82ee89d4ddfad5498c8819cef31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb11f50f9078f84d70ca42f768d28dfe" id="r_acb11f50f9078f84d70ca42f768d28dfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#acb11f50f9078f84d70ca42f768d28dfe">clientport</a> = -1</td></tr>
<tr class="separator:acb11f50f9078f84d70ca42f768d28dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6cd2cf3d052ceae35331ba36beb1171" id="r_ad6cd2cf3d052ceae35331ba36beb1171"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#ad6cd2cf3d052ceae35331ba36beb1171">clientport2</a> = -1</td></tr>
<tr class="separator:ad6cd2cf3d052ceae35331ba36beb1171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a641dc0dacefecc952fb578647100467c" id="r_a641dc0dacefecc952fb578647100467c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netconn_8c.html#a641dc0dacefecc952fb578647100467c">hostport</a> = -1</td></tr>
<tr class="separator:a641dc0dacefecc952fb578647100467c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a83471aef80aa68e74d394912131fc22f" name="a83471aef80aa68e74d394912131fc22f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83471aef80aa68e74d394912131fc22f">&#9670;&#160;</a></span>DPMASTER_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> DPMASTER_COUNT&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="netconn_8c.html#a1b6cd48f1fbebacde3deceed53fa7ee3">sv_masters</a>) / <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="structcvar__t.html">cvar_t</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00121">121</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

</div>
</div>
<a id="a02cdbe652b952bf43dda2382f44d502d" name="a02cdbe652b952bf43dda2382f44d502d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02cdbe652b952bf43dda2382f44d502d">&#9670;&#160;</a></span>DPMASTER_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> DPMASTER_PORT&#160;&#160;&#160;27950</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00033">33</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

</div>
</div>
<a id="a9d2b497b08d0ca8117d2fd5384fcaf58" name="a9d2b497b08d0ca8117d2fd5384fcaf58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d2b497b08d0ca8117d2fd5384fcaf58">&#9670;&#160;</a></span>QWMASTER_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> QWMASTER_COUNT&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sv_qwmasters</a>) / <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="structcvar__t.html">cvar_t</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00122">122</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

</div>
</div>
<a id="aeebe0d5d68d75a24ee23bb179e1f2e64" name="aeebe0d5d68d75a24ee23bb179e1f2e64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeebe0d5d68d75a24ee23bb179e1f2e64">&#9670;&#160;</a></span>QWMASTER_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> QWMASTER_PORT&#160;&#160;&#160;27000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00032">32</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a9cc5698cb9e3b5e2cf26679433d904ec" name="a9cc5698cb9e3b5e2cf26679433d904ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cc5698cb9e3b5e2cf26679433d904ec">&#9670;&#160;</a></span>rcon_matchfunc_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">typedef</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>(* rcon_matchfunc_t) (<a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *peeraddress, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *hash, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *s, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slen</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02935">2935</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a516a0abe0e530d11a3d9521fd6efd0e2" name="a516a0abe0e530d11a3d9521fd6efd0e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a516a0abe0e530d11a3d9521fd6efd0e2">&#9670;&#160;</a></span>hmac_mdfour_challenge_matching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> hmac_mdfour_challenge_matching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>slen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02958">2958</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2959</span>{</div>
<div class="line"><span class="lineno"> 2960</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mdfourbuf</a>[16];</div>
<div class="line"><span class="lineno"> 2961</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2962</span> </div>
<div class="line"><span class="lineno"> 2963</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>[0]) {</div>
<div class="line"><span class="lineno"> 2964</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;LOGIC ERROR: RCon_Authenticate should never call the comparator with an empty password. Please report.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2965</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2966</span>    }</div>
<div class="line"><span class="lineno"> 2967</span> </div>
<div class="line"><span class="lineno"> 2968</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slen</a> &lt; (<span class="keywordtype">int</span>)(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[0].<span class="keywordtype">string</span>)) - 1)</div>
<div class="line"><span class="lineno"> 2969</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2970</span> </div>
<div class="line"><span class="lineno"> 2971</span>    <span class="comment">// validate the challenge</span></div>
<div class="line"><span class="lineno"> 2972</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2973</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].time &gt; 0)</div>
<div class="line"><span class="lineno"> 2974</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].address) &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">string</span>, s, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[0].<span class="keywordtype">string</span>) - 1))</div>
<div class="line"><span class="lineno"> 2975</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2976</span>    <span class="comment">// if the challenge is not recognized, drop the packet</span></div>
<div class="line"><span class="lineno"> 2977</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a>)</div>
<div class="line"><span class="lineno"> 2978</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2979</span> </div>
<div class="line"><span class="lineno"> 2980</span>    <span class="keywordflow">if</span>(!<a class="code hl_define" href="hmac_8h.html#a6c44e86b6c7cb083fb7dc08016f86b76">HMAC_MDFOUR_16BYTES</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mdfourbuf</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) s, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slen</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>)))</div>
<div class="line"><span class="lineno"> 2981</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2982</span> </div>
<div class="line"><span class="lineno"> 2983</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mdfourbuf</a>, hash, 16))</div>
<div class="line"><span class="lineno"> 2984</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2985</span> </div>
<div class="line"><span class="lineno"> 2986</span>    <span class="comment">// unmark challenge to prevent replay attacks</span></div>
<div class="line"><span class="lineno"> 2987</span>    <a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structchallenge__t.html#a0a6e36911dcec1fc001f1b398b8fce2c">time</a> = 0;</div>
<div class="line"><span class="lineno"> 2988</span> </div>
<div class="line"><span class="lineno"> 2989</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2990</span>}</div>
<div class="ttc" id="aconsole_8c_html_a1cf9711475097b11dc41f743254ec77e"><div class="ttname"><a href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a></div><div class="ttdeci">void Con_Print(const char *msg)</div><div class="ttdoc">Prints to all appropriate console targets, and adds timestamps.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01450">console.c:1450</a></div></div>
<div class="ttc" id="aconsole_8h_html_ae151ed35a905aff75d5f5dc32cd965bb"><div class="ttname"><a href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a></div><div class="ttdeci">#define CON_ERROR</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00097">console.h:97</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="ahmac_8h_html_a6c44e86b6c7cb083fb7dc08016f86b76"><div class="ttname"><a href="hmac_8h.html#a6c44e86b6c7cb083fb7dc08016f86b76">HMAC_MDFOUR_16BYTES</a></div><div class="ttdeci">#define HMAC_MDFOUR_16BYTES(out, in, n, key, k)</div><div class="ttdef"><b>Definition</b> <a href="hmac_8h_source.html#l00014">hmac.h:14</a></div></div>
<div class="ttc" id="alhnet_8c_html_afcb50bceea3f2dc4d4c1663bb6d35e9e"><div class="ttname"><a href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a></div><div class="ttdeci">int LHNETADDRESS_Compare(const lhnetaddress_t *vaddress1, const lhnetaddress_t *vaddress2)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00665">lhnet.c:665</a></div></div>
<div class="ttc" id="anetconn_8c_html_a5e54cf29fb37082e7ce4439cddc802fd"><div class="ttname"><a href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a></div><div class="ttdeci">challenge_t challenges[MAX_CHALLENGES]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00119">netconn.c:119</a></div></div>
<div class="ttc" id="anetconn_8h_html_afa0a30f86487a7fbb0a36853e4f6e104"><div class="ttname"><a href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a></div><div class="ttdeci">#define MAX_CHALLENGES</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00476">netconn.h:476</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="astructchallenge__t_html_a0a6e36911dcec1fc001f1b398b8fce2c"><div class="ttname"><a href="structchallenge__t.html#a0a6e36911dcec1fc001f1b398b8fce2c">challenge_t::time</a></div><div class="ttdeci">double time</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00480">netconn.h:480</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="ab8c6374d794972f513a75a37cb56fe4c" name="ab8c6374d794972f513a75a37cb56fe4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c6374d794972f513a75a37cb56fe4c">&#9670;&#160;</a></span>hmac_mdfour_time_matching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> hmac_mdfour_time_matching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>slen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02937">2937</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2938</span>{</div>
<div class="line"><span class="lineno"> 2939</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mdfourbuf</a>[16];</div>
<div class="line"><span class="lineno"> 2940</span>    <span class="keywordtype">long</span> t1, t2;</div>
<div class="line"><span class="lineno"> 2941</span> </div>
<div class="line"><span class="lineno"> 2942</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>[0]) {</div>
<div class="line"><span class="lineno"> 2943</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;LOGIC ERROR: RCon_Authenticate should never call the comparator with an empty password. Please report.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2944</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2945</span>    }</div>
<div class="line"><span class="lineno"> 2946</span> </div>
<div class="line"><span class="lineno"> 2947</span>    t1 = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">long</a>) time(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2948</span>    t2 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strtol</a>(s, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><span class="lineno"> 2949</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">labs</a>(t1 - t2) &gt; <a class="code hl_variable" href="netconn_8c.html#af3103d3754adf79d6d44895811ad88bc">rcon_secure_maxdiff</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2950</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2951</span> </div>
<div class="line"><span class="lineno"> 2952</span>    <span class="keywordflow">if</span>(!<a class="code hl_define" href="hmac_8h.html#a6c44e86b6c7cb083fb7dc08016f86b76">HMAC_MDFOUR_16BYTES</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mdfourbuf</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) s, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slen</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>)))</div>
<div class="line"><span class="lineno"> 2953</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2954</span> </div>
<div class="line"><span class="lineno"> 2955</span>    <span class="keywordflow">return</span> !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mdfourbuf</a>, hash, 16);</div>
<div class="line"><span class="lineno"> 2956</span>}</div>
<div class="ttc" id="anetconn_8c_html_af3103d3754adf79d6d44895811ad88bc"><div class="ttname"><a href="netconn_8c.html#af3103d3754adf79d6d44895811ad88bc">rcon_secure_maxdiff</a></div><div class="ttdeci">static cvar_t rcon_secure_maxdiff</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00109">netconn.c:109</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a929bd15b07d59446570b76b9551443c4" name="a929bd15b07d59446570b76b9551443c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929bd15b07d59446570b76b9551443c4">&#9670;&#160;</a></span>Net_Heartbeat_f()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Net_Heartbeat_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l03962">3962</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3963</span>{</div>
<div class="line"><span class="lineno"> 3964</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a>)</div>
<div class="line"><span class="lineno"> 3965</span>        <a class="code hl_function" href="netconn_8c.html#a11ab4eebd8e0190aba511cb3ec8970af">NetConn_Heartbeat</a>(2);</div>
<div class="line"><span class="lineno"> 3966</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3967</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;No server running, can not heartbeat to master server.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3968</span>}</div>
<div class="ttc" id="anetconn_8c_html_a11ab4eebd8e0190aba511cb3ec8970af"><div class="ttname"><a href="netconn_8c.html#a11ab4eebd8e0190aba511cb3ec8970af">NetConn_Heartbeat</a></div><div class="ttdeci">void NetConn_Heartbeat(int priority)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l03929">netconn.c:3929</a></div></div>
<div class="ttc" id="aserver_8h_html_a0ff9eb096e93804922c75bbddaf18703"><div class="ttname"><a href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a></div><div class="ttdeci">server_t sv</div><div class="ttdoc">local server</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00220">sv_main.c:220</a></div></div>
<div class="ttc" id="astructserver__t_html_a5f9b522b8c3ffa527f5d442dbff0928b"><div class="ttname"><a href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">server_t::active</a></div><div class="ttdeci">qbool active</div><div class="ttdoc">false if only a net client</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00066">server.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="a300cc70806587561822f2b565beeb137" name="a300cc70806587561822f2b565beeb137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a300cc70806587561822f2b565beeb137">&#9670;&#160;</a></span>Net_Stats_f()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Net_Stats_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l03987">3987</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3988</span>{</div>
<div class="line"><span class="lineno"> 3989</span>    <a class="code hl_struct" href="structnetconn__t.html">netconn_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>;</div>
<div class="line"><span class="lineno"> 3990</span>    <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;connections                =\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3991</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> = <a class="code hl_variable" href="netconn_8c.html#aed065cfe97fc587dcfd40a5d08794cf3">netconn_list</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a80f468a8a31ca012bcaafd386571cf04">next</a>)</div>
<div class="line"><span class="lineno"> 3992</span>        <a class="code hl_function" href="netconn_8c.html#aecc7f7a8fbd82f26351fa5dbb9672825">PrintStats</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>);</div>
<div class="line"><span class="lineno"> 3993</span>}</div>
<div class="ttc" id="anetconn_8c_html_aecc7f7a8fbd82f26351fa5dbb9672825"><div class="ttname"><a href="netconn_8c.html#aecc7f7a8fbd82f26351fa5dbb9672825">PrintStats</a></div><div class="ttdeci">static void PrintStats(netconn_t *conn)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l03970">netconn.c:3970</a></div></div>
<div class="ttc" id="anetconn_8c_html_aed065cfe97fc587dcfd40a5d08794cf3"><div class="ttname"><a href="netconn_8c.html#aed065cfe97fc587dcfd40a5d08794cf3">netconn_list</a></div><div class="ttdeci">netconn_t * netconn_list</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00147">netconn.c:147</a></div></div>
<div class="ttc" id="astructnetconn__t_html"><div class="ttname"><a href="structnetconn__t.html">netconn_t</a></div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00142">netconn.h:143</a></div></div>
<div class="ttc" id="astructnetconn__t_html_a80f468a8a31ca012bcaafd386571cf04"><div class="ttname"><a href="structnetconn__t.html#a80f468a8a31ca012bcaafd386571cf04">netconn_t::next</a></div><div class="ttdeci">struct netconn_s * next</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00144">netconn.h:144</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="acbcbf58902ea24f32417d7819b08e7d9" name="acbcbf58902ea24f32417d7819b08e7d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbcbf58902ea24f32417d7819b08e7d9">&#9670;&#160;</a></span>NetConn_AddCryptoFlag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_AddCryptoFlag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcrypto__t.html">crypto_t</a> *&#160;</td>
          <td class="paramname"><em>crypto</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00813">813</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  814</span>{</div>
<div class="line"><span class="lineno">  815</span>    <span class="comment">// HACK: if an encrypted connection is used, randomly set some unused</span></div>
<div class="line"><span class="lineno">  816</span>    <span class="comment">// flags. When AES encryption is enabled, that will make resends differ</span></div>
<div class="line"><span class="lineno">  817</span>    <span class="comment">// from the original, so that e.g. substring filters in a router/IPS</span></div>
<div class="line"><span class="lineno">  818</span>    <span class="comment">// are unlikely to match a second time. See also &quot;startkeylogger&quot;.</span></div>
<div class="line"><span class="lineno">  819</span>    <span class="keywordtype">int</span> flag = 0;</div>
<div class="line"><span class="lineno">  820</span>    <span class="keywordflow">if</span> (crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">authenticated</a>)</div>
<div class="line"><span class="lineno">  821</span>    {</div>
<div class="line"><span class="lineno">  822</span>        <span class="comment">// Let&#39;s always set at least one of the bits.</span></div>
<div class="line"><span class="lineno">  823</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>() % 7 + 1;</div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> &amp; 1)</div>
<div class="line"><span class="lineno">  825</span>            flag |= <a class="code hl_define" href="netconn_8h.html#a1b974a8f43a2b98cc748b4c36528f720">NETFLAG_CRYPTO0</a>;</div>
<div class="line"><span class="lineno">  826</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> &amp; 2)</div>
<div class="line"><span class="lineno">  827</span>            flag |= <a class="code hl_define" href="netconn_8h.html#a983013e7707cdec57fa101360ea67b2b">NETFLAG_CRYPTO1</a>;</div>
<div class="line"><span class="lineno">  828</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> &amp; 4)</div>
<div class="line"><span class="lineno">  829</span>            flag |= <a class="code hl_define" href="netconn_8h.html#ab54a71fba54b97e5ecc00916e4dad441">NETFLAG_CRYPTO2</a>;</div>
<div class="line"><span class="lineno">  830</span>    }</div>
<div class="line"><span class="lineno">  831</span>    <span class="keywordflow">return</span> flag;</div>
<div class="line"><span class="lineno">  832</span>}</div>
<div class="ttc" id="anetconn_8h_html_a1b974a8f43a2b98cc748b4c36528f720"><div class="ttname"><a href="netconn_8h.html#a1b974a8f43a2b98cc748b4c36528f720">NETFLAG_CRYPTO0</a></div><div class="ttdeci">#define NETFLAG_CRYPTO0</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00041">netconn.h:41</a></div></div>
<div class="ttc" id="anetconn_8h_html_a983013e7707cdec57fa101360ea67b2b"><div class="ttname"><a href="netconn_8h.html#a983013e7707cdec57fa101360ea67b2b">NETFLAG_CRYPTO1</a></div><div class="ttdeci">#define NETFLAG_CRYPTO1</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00042">netconn.h:42</a></div></div>
<div class="ttc" id="anetconn_8h_html_ab54a71fba54b97e5ecc00916e4dad441"><div class="ttname"><a href="netconn_8h.html#ab54a71fba54b97e5ecc00916e4dad441">NETFLAG_CRYPTO2</a></div><div class="ttdeci">#define NETFLAG_CRYPTO2</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00043">netconn.h:43</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a008e65201d4481545ed89903a22f667a"><div class="ttname"><a href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a></div><div class="ttdeci">dp_FragColor r</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00375">shader_glsl.h:375</a></div></div>
<div class="ttc" id="astructcrypto__t_html_a7f14ed53c5a1a67b9b2502b4662df228"><div class="ttname"><a href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">crypto_t::authenticated</a></div><div class="ttdeci">qbool authenticated</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00050">crypto.h:50</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01321">NetConn_ReceivedMessage()</a>, and <a class="el" href="netconn_8c_source.html#l00834">NetConn_SendUnreliableMessage()</a>.</p>

</div>
</div>
<a id="a839186bad8b6a7dd57dee891a8bf12a5" name="a839186bad8b6a7dd57dee891a8bf12a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a839186bad8b6a7dd57dee891a8bf12a5">&#9670;&#160;</a></span>NetConn_BuildChallengeString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_BuildChallengeString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>bufferlength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02690">2690</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2691</span>{</div>
<div class="line"><span class="lineno"> 2692</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2693</span>    <span class="keywordtype">char</span> c;</div>
<div class="line"><span class="lineno"> 2694</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferlength</a> - 1;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2695</span>    {</div>
<div class="line"><span class="lineno"> 2696</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2697</span>        {</div>
<div class="line"><span class="lineno"> 2698</span>            c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a> () % (127 - 33) + 33;</div>
<div class="line"><span class="lineno"> 2699</span>        } <span class="keywordflow">while</span> (c == <span class="charliteral">&#39;\\&#39;</span> || c == <span class="charliteral">&#39;;&#39;</span> || c == <span class="charliteral">&#39;&quot;&#39;</span> || c == <span class="charliteral">&#39;%&#39;</span> || c == <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 2700</span>        <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = c;</div>
<div class="line"><span class="lineno"> 2701</span>    }</div>
<div class="line"><span class="lineno"> 2702</span>    <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><span class="lineno"> 2703</span>}</div>
<div class="ttc" id="aglquake_8h_html_a39774db434725e51f4ad4c04150ed6a1"><div class="ttname"><a href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00629">glquake.h:629</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a11fe26a0682e2cd4476b76e2d8e09c25" name="a11fe26a0682e2cd4476b76e2d8e09c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11fe26a0682e2cd4476b76e2d8e09c25">&#9670;&#160;</a></span>NetConn_BuildStatusResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> NetConn_BuildStatusResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>challenge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>out_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>out_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>fullstatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>(div0) build the full response only if possible; better a getinfo response than no response at all if getstatus won't fit </p>
<p>\TODO: we should add more information for the full status string</p>

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02706">2706</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2707</span>{</div>
<div class="line"><span class="lineno"> 2708</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2709</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>[256];</div>
<div class="line"><span class="lineno"> 2710</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb_clients</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb_bots</a> = 0, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2711</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 2712</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>[3];</div>
<div class="line"><span class="lineno"> 2713</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="crypto_8c.html#a9e167138d96bd0023ba86e401f27253a">crypto_idstring</a>;</div>
<div class="line"><span class="lineno"> 2714</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">worldstatusstr</a>;</div>
<div class="line"><span class="lineno"> 2715</span> </div>
<div class="line"><span class="lineno"> 2716</span>    <span class="comment">// How many clients are there?</span></div>
<div class="line"><span class="lineno"> 2717</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2718</span>    {</div>
<div class="line"><span class="lineno"> 2719</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].active)</div>
<div class="line"><span class="lineno"> 2720</span>        {</div>
<div class="line"><span class="lineno"> 2721</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb_clients</a>++;</div>
<div class="line"><span class="lineno"> 2722</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].netconnection)</div>
<div class="line"><span class="lineno"> 2723</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb_bots</a>++;</div>
<div class="line"><span class="lineno"> 2724</span>        }</div>
<div class="line"><span class="lineno"> 2725</span>    }</div>
<div class="line"><span class="lineno"> 2726</span> </div>
<div class="line"><span class="lineno"> 2727</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a> = 0;</div>
<div class="line"><span class="lineno"> 2728</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">worldstatusstr</a> = <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#ac5bfdb57d4777c1441722885d72fea6e">PRVM_serverglobalstring</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">worldstatus</a>));</div>
<div class="line"><span class="lineno"> 2729</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">worldstatusstr</a> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">worldstatusstr</a>)</div>
<div class="line"><span class="lineno"> 2730</span>    {</div>
<div class="line"><span class="lineno"> 2731</span>        <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 2732</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>;</div>
<div class="line"><span class="lineno"> 2733</span>        p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>;</div>
<div class="line"><span class="lineno"> 2734</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">worldstatusstr</a>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>)(p - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>) &lt; (<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>) - 1); ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>)</div>
<div class="line"><span class="lineno"> 2735</span>            <span class="keywordflow">if</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> != <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> != <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno"> 2736</span>                *p++ = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>;</div>
<div class="line"><span class="lineno"> 2737</span>        *p = 0;</div>
<div class="line"><span class="lineno"> 2738</span>    }</div>
<div class="line"><span class="lineno"> 2739</span> </div>
<div class="line"><span class="lineno"> 2741</span>    <a class="code hl_variable" href="crypto_8c.html#a9e167138d96bd0023ba86e401f27253a">crypto_idstring</a> = <a class="code hl_function" href="crypto_8c.html#ae0a13832c196fc6cb7e25fd6f55aa489">Crypto_GetInfoResponseDataString</a>();</div>
<div class="line"><span class="lineno"> 2742</span>    <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_msg</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_size</a>,</div>
<div class="line"><span class="lineno"> 2743</span>                        <span class="stringliteral">&quot;\377\377\377\377%s\x0A&quot;</span></div>
<div class="line"><span class="lineno"> 2744</span>                        <span class="stringliteral">&quot;\\gamename\\%s\\modname\\%s\\gameversion\\%d\\sv_maxclients\\%d&quot;</span></div>
<div class="line"><span class="lineno"> 2745</span>                        <span class="stringliteral">&quot;\\clients\\%d\\bots\\%d\\mapname\\%s\\hostname\\%s\\protocol\\%d&quot;</span></div>
<div class="line"><span class="lineno"> 2746</span>                        <span class="stringliteral">&quot;%s%s&quot;</span></div>
<div class="line"><span class="lineno"> 2747</span>                        <span class="stringliteral">&quot;%s%s&quot;</span></div>
<div class="line"><span class="lineno"> 2748</span>                        <span class="stringliteral">&quot;%s%s&quot;</span></div>
<div class="line"><span class="lineno"> 2749</span>                        <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><span class="lineno"> 2750</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullstatus</a> ? <span class="stringliteral">&quot;statusResponse&quot;</span> : <span class="stringliteral">&quot;infoResponse&quot;</span>,</div>
<div class="line"><span class="lineno"> 2751</span>                        <a class="code hl_variable" href="com__game_8c.html#a8bc2939acaefcddd23d56617fa240150">gamenetworkfiltername</a>, <a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a>.integer, <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.maxclients,</div>
<div class="line"><span class="lineno"> 2752</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb_clients</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb_bots</a>, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.worldbasename, <a class="code hl_variable" href="netconn_8c.html#ae3a05cd185b100e46c288e366c9c19c3">hostname</a>.<a class="code hl_variable" href="glquake_8h.html#ae79dfeea357422bd20dbcaa2afe88ac6">string</a>, <a class="code hl_define" href="netconn_8h.html#a9a0d9eb2ce9089b6cdd0bed36aef87f1">NET_PROTOCOL_VERSION</a>,</div>
<div class="line"><span class="lineno"> 2753</span>                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a> ? <span class="stringliteral">&quot;\\qcstatus\\&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>,</div>
<div class="line"><span class="lineno"> 2754</span>                        challenge ? <span class="stringliteral">&quot;\\challenge\\&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, challenge ? challenge : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 2755</span>                        <a class="code hl_variable" href="crypto_8c.html#a9e167138d96bd0023ba86e401f27253a">crypto_idstring</a> ? <span class="stringliteral">&quot;\\d0_blind_id\\&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_variable" href="crypto_8c.html#a9e167138d96bd0023ba86e401f27253a">crypto_idstring</a> ? <a class="code hl_variable" href="crypto_8c.html#a9e167138d96bd0023ba86e401f27253a">crypto_idstring</a> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 2756</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullstatus</a> ? <span class="stringliteral">&quot;\n&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 2757</span> </div>
<div class="line"><span class="lineno"> 2758</span>    <span class="comment">// Make sure it fits in the buffer</span></div>
<div class="line"><span class="lineno"> 2759</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 2760</span>        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bad</a>;</div>
<div class="line"><span class="lineno"> 2761</span> </div>
<div class="line"><span class="lineno"> 2762</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullstatus</a>)</div>
<div class="line"><span class="lineno"> 2763</span>    {</div>
<div class="line"><span class="lineno"> 2764</span>        <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><span class="lineno"> 2765</span>        <span class="keywordtype">int</span> left;</div>
<div class="line"><span class="lineno"> 2766</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savelength</a>;</div>
<div class="line"><span class="lineno"> 2767</span> </div>
<div class="line"><span class="lineno"> 2768</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savelength</a> = <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 2769</span> </div>
<div class="line"><span class="lineno"> 2770</span>        ptr = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_msg</a> + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 2771</span>        left = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_size</a> - <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 2772</span> </div>
<div class="line"><span class="lineno"> 2773</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2774</span>        {</div>
<div class="line"><span class="lineno"> 2775</span>            <a class="code hl_struct" href="structclient__t.html">client_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> = &amp;<a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 2776</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;active)</div>
<div class="line"><span class="lineno"> 2777</span>            {</div>
<div class="line"><span class="lineno"> 2778</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nameind</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanind</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pingvalue</a>;</div>
<div class="line"><span class="lineno"> 2779</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curchar</a>;</div>
<div class="line"><span class="lineno"> 2780</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanname</a> [<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;name)];</div>
<div class="line"><span class="lineno"> 2781</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">statusstr</a>;</div>
<div class="line"><span class="lineno"> 2782</span>                <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>;</div>
<div class="line"><span class="lineno"> 2783</span> </div>
<div class="line"><span class="lineno"> 2784</span>                <span class="comment">// Remove all characters &#39;&quot;&#39; and &#39;\&#39; in the player name</span></div>
<div class="line"><span class="lineno"> 2785</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nameind</a> = 0;</div>
<div class="line"><span class="lineno"> 2786</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanind</a> = 0;</div>
<div class="line"><span class="lineno"> 2787</span>                <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2788</span>                {</div>
<div class="line"><span class="lineno"> 2789</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curchar</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;name[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nameind</a>++];</div>
<div class="line"><span class="lineno"> 2790</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curchar</a> != <span class="charliteral">&#39;&quot;&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curchar</a> != <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><span class="lineno"> 2791</span>                    {</div>
<div class="line"><span class="lineno"> 2792</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanname</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanind</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curchar</a>;</div>
<div class="line"><span class="lineno"> 2793</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanind</a> == <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanname</a>) - 1)</div>
<div class="line"><span class="lineno"> 2794</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2795</span>                    }</div>
<div class="line"><span class="lineno"> 2796</span>                } <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curchar</a> != <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno"> 2797</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanname</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanind</a>] = 0; <span class="comment">// cleanind is always a valid index even at this point</span></div>
<div class="line"><span class="lineno"> 2798</span> </div>
<div class="line"><span class="lineno"> 2799</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pingvalue</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;ping * 1000.0f);</div>
<div class="line"><span class="lineno"> 2800</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection)</div>
<div class="line"><span class="lineno"> 2801</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pingvalue</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pingvalue</a>, 9999);</div>
<div class="line"><span class="lineno"> 2802</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2803</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pingvalue</a> = 0;</div>
<div class="line"><span class="lineno"> 2804</span> </div>
<div class="line"><span class="lineno"> 2805</span>                *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a> = 0;</div>
<div class="line"><span class="lineno"> 2806</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a> = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1);</div>
<div class="line"><span class="lineno"> 2807</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">statusstr</a> = <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientstatus</a>));</div>
<div class="line"><span class="lineno"> 2808</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">statusstr</a> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">statusstr</a>)</div>
<div class="line"><span class="lineno"> 2809</span>                {</div>
<div class="line"><span class="lineno"> 2810</span>                    <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 2811</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>;</div>
<div class="line"><span class="lineno"> 2812</span>                    p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>;</div>
<div class="line"><span class="lineno"> 2813</span>                    <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">statusstr</a>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> &amp;&amp; p != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a> + <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>) - 1; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>)</div>
<div class="line"><span class="lineno"> 2814</span>                        <span class="keywordflow">if</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> != <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> != <span class="charliteral">&#39;&quot;&#39;</span> &amp;&amp; !<a class="code hl_define" href="qdefs_8h.html#a4e301d35bcc309254e72cb99af785ce5">ISWHITESPACE</a>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>))</div>
<div class="line"><span class="lineno"> 2815</span>                            *p++ = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>;</div>
<div class="line"><span class="lineno"> 2816</span>                    *p = 0;</div>
<div class="line"><span class="lineno"> 2817</span>                }</div>
<div class="line"><span class="lineno"> 2818</span> </div>
<div class="line"><span class="lineno"> 2819</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="com__game_8h.html#a2413efbef73f297c92014cb3c857062f">IS_NEXUIZ_DERIVED</a>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a>) &amp;&amp; (<a class="code hl_variable" href="server_8h.html#af4de0f33cde855a5226498b2b152545e">teamplay</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; 0))</div>
<div class="line"><span class="lineno"> 2820</span>                {</div>
<div class="line"><span class="lineno"> 2821</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;frags == -666) <span class="comment">// spectator</span></div>
<div class="line"><span class="lineno"> 2822</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>, <span class="stringliteral">&quot; 0&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>));</div>
<div class="line"><span class="lineno"> 2823</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;colors == 0x44) <span class="comment">// red team</span></div>
<div class="line"><span class="lineno"> 2824</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>, <span class="stringliteral">&quot; 1&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>));</div>
<div class="line"><span class="lineno"> 2825</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;colors == 0xDD) <span class="comment">// blue team</span></div>
<div class="line"><span class="lineno"> 2826</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>, <span class="stringliteral">&quot; 2&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>));</div>
<div class="line"><span class="lineno"> 2827</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;colors == 0xCC) <span class="comment">// yellow team</span></div>
<div class="line"><span class="lineno"> 2828</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>, <span class="stringliteral">&quot; 3&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>));</div>
<div class="line"><span class="lineno"> 2829</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;colors == 0x99) <span class="comment">// pink team</span></div>
<div class="line"><span class="lineno"> 2830</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>, <span class="stringliteral">&quot; 4&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>));</div>
<div class="line"><span class="lineno"> 2831</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2832</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>, <span class="stringliteral">&quot; 0&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>));</div>
<div class="line"><span class="lineno"> 2833</span>                }</div>
<div class="line"><span class="lineno"> 2834</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2835</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a> = 0;</div>
<div class="line"><span class="lineno"> 2836</span> </div>
<div class="line"><span class="lineno"> 2837</span>                <span class="comment">// note: team number is inserted according to SoF2 protocol</span></div>
<div class="line"><span class="lineno"> 2838</span>                <span class="keywordflow">if</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>)</div>
<div class="line"><span class="lineno"> 2839</span>                    <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(ptr, left, <span class="stringliteral">&quot;%s %d%s \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2840</span>                                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qcstatus</a>,</div>
<div class="line"><span class="lineno"> 2841</span>                                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pingvalue</a>,</div>
<div class="line"><span class="lineno"> 2842</span>                                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>,</div>
<div class="line"><span class="lineno"> 2843</span>                                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanname</a>);</div>
<div class="line"><span class="lineno"> 2844</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2845</span>                    <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(ptr, left, <span class="stringliteral">&quot;%d %d%s \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2846</span>                                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;frags,</div>
<div class="line"><span class="lineno"> 2847</span>                                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pingvalue</a>,</div>
<div class="line"><span class="lineno"> 2848</span>                                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">teambuf</a>,</div>
<div class="line"><span class="lineno"> 2849</span>                                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cleanname</a>);</div>
<div class="line"><span class="lineno"> 2850</span> </div>
<div class="line"><span class="lineno"> 2851</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 2852</span>                {</div>
<div class="line"><span class="lineno"> 2853</span>                    <span class="comment">// out of space?</span></div>
<div class="line"><span class="lineno"> 2854</span>                    <span class="comment">// turn it into an infoResponse!</span></div>
<div class="line"><span class="lineno"> 2855</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_msg</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savelength</a>] = 0;</div>
<div class="line"><span class="lineno"> 2856</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_msg</a> + 4, <span class="stringliteral">&quot;infoResponse\x0A&quot;</span>, 13);</div>
<div class="line"><span class="lineno"> 2857</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memmove</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_msg</a> + 17, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out_msg</a> + 19, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savelength</a> - 19);</div>
<div class="line"><span class="lineno"> 2858</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2859</span>                }</div>
<div class="line"><span class="lineno"> 2860</span>                left -= <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 2861</span>                ptr += <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 2862</span>            }</div>
<div class="line"><span class="lineno"> 2863</span>        }</div>
<div class="line"><span class="lineno"> 2864</span>    }</div>
<div class="line"><span class="lineno"> 2865</span> </div>
<div class="line"><span class="lineno"> 2866</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2867</span> </div>
<div class="line"><span class="lineno"> 2868</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bad</a>:</div>
<div class="line"><span class="lineno"> 2869</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2870</span>}</div>
<div class="ttc" id="acom__game_8c_html_a089b42925916fc1698399220e989dc47"><div class="ttname"><a href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a></div><div class="ttdeci">char com_modname[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00033">com_game.c:33</a></div></div>
<div class="ttc" id="acom__game_8c_html_a8261ff184d55a220fafab13efd735946"><div class="ttname"><a href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a></div><div class="ttdeci">gamemode_t gamemode</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00026">com_game.c:26</a></div></div>
<div class="ttc" id="acom__game_8c_html_a8bc2939acaefcddd23d56617fa240150"><div class="ttname"><a href="com__game_8c.html#a8bc2939acaefcddd23d56617fa240150">gamenetworkfiltername</a></div><div class="ttdeci">const char * gamenetworkfiltername</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00028">com_game.c:28</a></div></div>
<div class="ttc" id="acom__game_8h_html_a2413efbef73f297c92014cb3c857062f"><div class="ttname"><a href="com__game_8h.html#a2413efbef73f297c92014cb3c857062f">IS_NEXUIZ_DERIVED</a></div><div class="ttdeci">#define IS_NEXUIZ_DERIVED(g)</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00070">com_game.h:70</a></div></div>
<div class="ttc" id="acommon_8c_html_ae36050083f45e395189fee6aa45fbb0c"><div class="ttname"><a href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a></div><div class="ttdeci">int dpsnprintf(char *buffer, size_t buffersize, const char *format,...)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00997">common.c:997</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00303">common.h:303</a></div></div>
<div class="ttc" id="acrypto_8c_html_a9e167138d96bd0023ba86e401f27253a"><div class="ttname"><a href="crypto_8c.html#a9e167138d96bd0023ba86e401f27253a">crypto_idstring</a></div><div class="ttdeci">static const char * crypto_idstring</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l00042">crypto.c:42</a></div></div>
<div class="ttc" id="acrypto_8c_html_ae0a13832c196fc6cb7e25fd6f55aa489"><div class="ttname"><a href="crypto_8c.html#ae0a13832c196fc6cb7e25fd6f55aa489">Crypto_GetInfoResponseDataString</a></div><div class="ttdeci">const char * Crypto_GetInfoResponseDataString(void)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l01689">crypto.c:1689</a></div></div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="aglquake_8h_html_a486f808b7baede12df3669de9b413b92"><div class="ttname"><a href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei length</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="aglquake_8h_html_ae79dfeea357422bd20dbcaa2afe88ac6"><div class="ttname"><a href="glquake_8h.html#ae79dfeea357422bd20dbcaa2afe88ac6">string</a></div><div class="ttdeci">GLsizei const GLchar ** string</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00727">glquake.h:727</a></div></div>
<div class="ttc" id="amathlib_8h_html_a553641b2aac0b2a7c43f9f74f8333fd5"><div class="ttname"><a href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a></div><div class="ttdeci">#define bound(min, num, max)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00034">mathlib.h:34</a></div></div>
<div class="ttc" id="anetconn_8c_html_ab92a2869b79eba344f6365f813d1ec76"><div class="ttname"><a href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a></div><div class="ttdeci">static cvar_t gameversion</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00104">netconn.c:104</a></div></div>
<div class="ttc" id="anetconn_8c_html_ae3a05cd185b100e46c288e366c9c19c3"><div class="ttname"><a href="netconn_8c.html#ae3a05cd185b100e46c288e366c9c19c3">hostname</a></div><div class="ttdeci">cvar_t hostname</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00084">netconn.c:84</a></div></div>
<div class="ttc" id="anetconn_8h_html_a9a0d9eb2ce9089b6cdd0bed36aef87f1"><div class="ttname"><a href="netconn_8h.html#a9a0d9eb2ce9089b6cdd0bed36aef87f1">NET_PROTOCOL_VERSION</a></div><div class="ttdeci">#define NET_PROTOCOL_VERSION</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00047">netconn.h:47</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a5e6d1308a7bb93e27d9cad85515c7dd6"><div class="ttname"><a href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a></div><div class="ttdeci">#define PRVM_EDICT_NUM(n)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00866">progsvm.h:866</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a69666cdc9628aebc4b380b6ad1868140"><div class="ttname"><a href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a></div><div class="ttdeci">const char * PRVM_GetString(prvm_prog_t *prog, int num)</div><div class="ttdef"><b>Definition</b> <a href="prvm__edict_8c_source.html#l03232">prvm_edict.c:3232</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_ac5bfdb57d4777c1441722885d72fea6e"><div class="ttname"><a href="progsvm_8h.html#ac5bfdb57d4777c1441722885d72fea6e">PRVM_serverglobalstring</a></div><div class="ttdeci">#define PRVM_serverglobalstring(fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00178">progsvm.h:178</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_acb5aad18f3cb72746b413c4ef70a8a38"><div class="ttname"><a href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a></div><div class="ttdeci">#define PRVM_serveredictstring(ed, fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00173">progsvm.h:173</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_af0488a3f2145e274c2d766ace6d1c0c8"><div class="ttname"><a href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a></div><div class="ttdeci">#define SVVM_prog</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00765">progsvm.h:765</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a4e301d35bcc309254e72cb99af785ce5"><div class="ttname"><a href="qdefs_8h.html#a4e301d35bcc309254e72cb99af785ce5">ISWHITESPACE</a></div><div class="ttdeci">#define ISWHITESPACE(ch)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00184">qdefs.h:184</a></div></div>
<div class="ttc" id="aserver_8h_html_ab682c78b3002fa61fa921958f49468de"><div class="ttname"><a href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a></div><div class="ttdeci">server_static_t svs</div><div class="ttdoc">persistant server info</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00221">sv_main.c:221</a></div></div>
<div class="ttc" id="aserver_8h_html_af4de0f33cde855a5226498b2b152545e"><div class="ttname"><a href="server_8h.html#af4de0f33cde855a5226498b2b152545e">teamplay</a></div><div class="ttdeci">cvar_t teamplay</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00171">sv_main.c:171</a></div></div>
<div class="ttc" id="astructclient__t_html"><div class="ttname"><a href="structclient__t.html">client_t</a></div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00182">server.h:183</a></div></div>
<div class="ttc" id="astructprvm__edict__t_html"><div class="ttname"><a href="structprvm__edict__t.html">prvm_edict_t</a></div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00089">progsvm.h:90</a></div></div>
<div class="ttc" id="astructprvm__prog__t_html"><div class="ttname"><a href="structprvm__prog__t.html">prvm_prog_t</a></div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00535">progsvm.h:536</a></div></div>
<div class="ttc" id="astructserver__static__t_html_a5d7ab3c36f372c5bf82e4ae383a2354a"><div class="ttname"><a href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">server_static_t::clients</a></div><div class="ttdeci">struct client_s * clients</div><div class="ttdoc">client slots</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00030">server.h:30</a></div></div>
<div class="ttc" id="astructserver__static__t_html_aee46e1113589800df0e48d4b5e8f7cbf"><div class="ttname"><a href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">server_static_t::maxclients</a></div><div class="ttdeci">int maxclients</div><div class="ttdoc">number of svs.clients slots (updated by maxplayers command)</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00028">server.h:28</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a1ad66c28fa10c798aa61476480bb6037" name="a1ad66c28fa10c798aa61476480bb6037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad66c28fa10c798aa61476480bb6037">&#9670;&#160;</a></span>NetConn_CanSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> NetConn_CanSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetconn__t.html">netconn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00779">779</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  780</span>{</div>
<div class="line"><span class="lineno">  781</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter + 1) % <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>;</div>
<div class="line"><span class="lineno">  782</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].time            = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno">  783</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].unreliablebytes = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno">  784</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].reliablebytes   = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno">  785</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].ackbytes        = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno">  786</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].cleartime       = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;cleartime;</div>
<div class="line"><span class="lineno">  787</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;cleartime)</div>
<div class="line"><span class="lineno">  788</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  790</span>    {</div>
<div class="line"><span class="lineno">  791</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].unreliablebytes = <a class="code hl_define" href="netconn_8h.html#a705947480fd1a8fee3fd9a4d2fd0d172">NETGRAPH_CHOKEDPACKET</a>;</div>
<div class="line"><span class="lineno">  792</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  793</span>    }</div>
<div class="line"><span class="lineno">  794</span>}</div>
<div class="ttc" id="ahost_8c_html_a18cf3cec0ecbf5cc14125f494c49023d"><div class="ttname"><a href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a></div><div class="ttdeci">host_static_t host</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00041">host.c:41</a></div></div>
<div class="ttc" id="anetconn_8h_html_a2db70967c95a26d9d929ed07588e61b1"><div class="ttname"><a href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a></div><div class="ttdeci">#define NETGRAPH_NOPACKET</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00223">netconn.h:223</a></div></div>
<div class="ttc" id="anetconn_8h_html_a2ee59cc2e9350fc4cdb836ec70491aa7"><div class="ttname"><a href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a></div><div class="ttdeci">#define NETGRAPH_PACKETS</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00222">netconn.h:222</a></div></div>
<div class="ttc" id="anetconn_8h_html_a705947480fd1a8fee3fd9a4d2fd0d172"><div class="ttname"><a href="netconn_8h.html#a705947480fd1a8fee3fd9a4d2fd0d172">NETGRAPH_CHOKEDPACKET</a></div><div class="ttdeci">#define NETGRAPH_CHOKEDPACKET</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00225">netconn.h:225</a></div></div>
<div class="ttc" id="astructhost__static__t_html_ac38d937c03a5f5f973a77641c0ae1280"><div class="ttname"><a href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">host_static_t::realtime</a></div><div class="ttdeci">double realtime</div><div class="ttdef"><b>Definition</b> <a href="host_8h_source.html#l00037">host.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__input_8c_source.html#l01771">CL_SendMove()</a>, and <a class="el" href="sv__send_8c_source.html#l01425">SV_SendClientDatagram()</a>.</p>

</div>
</div>
<a id="a4bbc5734d010c1d64a87a9449cdeff73" name="a4bbc5734d010c1d64a87a9449cdeff73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bbc5734d010c1d64a87a9449cdeff73">&#9670;&#160;</a></span>NetConn_ChooseClientSocketForAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> * NetConn_ChooseClientSocketForAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01188">1188</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1189</span>{</div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1191</span>    <a class="code hl_enumeration" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183">lhnetaddresstype_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_function" href="lhnet_8h.html#abc7dd16b78670fc52acefcd5df2b88e7">LHNETADDRESS_GetAddressType</a>(address);</div>
<div class="line"><span class="lineno"> 1192</span> </div>
<div class="line"><span class="lineno"> 1193</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1194</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; <a class="code hl_function" href="lhnet_8h.html#abc7dd16b78670fc52acefcd5df2b88e7">LHNETADDRESS_GetAddressType</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])) == <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)</div>
<div class="line"><span class="lineno"> 1195</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 1196</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1197</span>}</div>
<div class="ttc" id="alhnet_8c_html_a913a13078838978f9efb05c09b8de24f"><div class="ttname"><a href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a></div><div class="ttdeci">lhnetaddress_t * LHNET_AddressFromSocket(lhnetsocket_t *sock)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l01026">lhnet.c:1026</a></div></div>
<div class="ttc" id="alhnet_8h_html_aaf5f00c130fe2e819ddbe3e46cf84183"><div class="ttname"><a href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183">lhnetaddresstype_t</a></div><div class="ttdeci">lhnetaddresstype_t</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00010">lhnet.h:11</a></div></div>
<div class="ttc" id="alhnet_8h_html_abc7dd16b78670fc52acefcd5df2b88e7"><div class="ttname"><a href="lhnet_8h.html#abc7dd16b78670fc52acefcd5df2b88e7">LHNETADDRESS_GetAddressType</a></div><div class="ttdeci">static lhnetaddresstype_t LHNETADDRESS_GetAddressType(const lhnetaddress_t *address)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00031">lhnet.h:31</a></div></div>
<div class="ttc" id="anetconn_8c_html_a059a80c09f1a475b0d33fd58910efea0"><div class="ttname"><a href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a></div><div class="ttdeci">static lhnetsocket_t * cl_sockets[16]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00143">netconn.c:143</a></div></div>
<div class="ttc" id="anetconn_8c_html_a4e362d1b3e635420eea4ee33945cf879"><div class="ttname"><a href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a></div><div class="ttdeci">static unsigned cl_numsockets</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00142">netconn.c:142</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ada7daae51ef1e670767c18b83ea78044"><div class="ttname"><a href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a></div><div class="ttdeci">ret a</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00296">shader_glsl.h:296</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l00574">CL_EstablishConnection()</a>, <a class="el" href="cl__cmd_8c_source.html#l00413">CL_Packet_f()</a>, <a class="el" href="cl__cmd_8c_source.html#l00486">CL_PQRcon_f()</a>, <a class="el" href="cl__cmd_8c_source.html#l00544">CL_Rcon_f()</a>, and <a class="el" href="console_8c_source.html#l00430">Log_DestBuffer_Flush_NoLock()</a>.</p>

</div>
</div>
<a id="a905461d7c70f462cee1bfa2b71a55212" name="a905461d7c70f462cee1bfa2b71a55212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a905461d7c70f462cee1bfa2b71a55212">&#9670;&#160;</a></span>NetConn_ChooseServerSocketForAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> * NetConn_ChooseServerSocketForAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01199">1199</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1200</span>{</div>
<div class="line"><span class="lineno"> 1201</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1202</span>    <a class="code hl_enumeration" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183">lhnetaddresstype_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_function" href="lhnet_8h.html#abc7dd16b78670fc52acefcd5df2b88e7">LHNETADDRESS_GetAddressType</a>(address);</div>
<div class="line"><span class="lineno"> 1203</span> </div>
<div class="line"><span class="lineno"> 1204</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1205</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; <a class="code hl_function" href="lhnet_8h.html#abc7dd16b78670fc52acefcd5df2b88e7">LHNETADDRESS_GetAddressType</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(<a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])) == <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)</div>
<div class="line"><span class="lineno"> 1206</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 1207</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1208</span>}</div>
<div class="ttc" id="anetconn_8c_html_a51c35cd47ee3dc1e5109ef4458b0cad5"><div class="ttname"><a href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a></div><div class="ttdeci">static unsigned sv_numsockets</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00144">netconn.c:144</a></div></div>
<div class="ttc" id="anetconn_8c_html_a6bc75bed24ac2cb9a36ee0c84cdc4006"><div class="ttname"><a href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a></div><div class="ttdeci">static lhnetsocket_t * sv_sockets[16]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00145">netconn.c:145</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__cmd_8c_source.html#l00413">CL_Packet_f()</a>, <a class="el" href="console_8c_source.html#l00430">Log_DestBuffer_Flush_NoLock()</a>, and <a class="el" href="netconn_8c_source.html#l03929">NetConn_Heartbeat()</a>.</p>

</div>
</div>
<a id="a4bccb1a18e0b2e6aad473275f135c3db" name="a4bccb1a18e0b2e6aad473275f135c3db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bccb1a18e0b2e6aad473275f135c3db">&#9670;&#160;</a></span>NetConn_CL_UpdateSockets_Callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_CL_UpdateSockets_Callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvar__t.html">cvar_t</a> *&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01262">1262</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1263</span>{</div>
<div class="line"><span class="lineno"> 1264</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 1265</span>    {</div>
<div class="line"><span class="lineno"> 1266</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ad6cd2cf3d052ceae35331ba36beb1171">clientport2</a> != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>-&gt;integer)</div>
<div class="line"><span class="lineno"> 1267</span>        {</div>
<div class="line"><span class="lineno"> 1268</span>            <a class="code hl_variable" href="netconn_8c.html#ad6cd2cf3d052ceae35331ba36beb1171">clientport2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>-&gt;integer;</div>
<div class="line"><span class="lineno"> 1269</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19">ca_connected</a>)</div>
<div class="line"><span class="lineno"> 1270</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Changing \&quot;cl_port\&quot; will not take effect until you reconnect.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1271</span>        }</div>
<div class="line"><span class="lineno"> 1272</span> </div>
<div class="line"><span class="lineno"> 1273</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefead3ba77c77482579507d60b9e90e98986">ca_disconnected</a> &amp;&amp; <a class="code hl_variable" href="netconn_8c.html#acb11f50f9078f84d70ca42f768d28dfe">clientport</a> != <a class="code hl_variable" href="netconn_8c.html#ad6cd2cf3d052ceae35331ba36beb1171">clientport2</a>)</div>
<div class="line"><span class="lineno"> 1274</span>        {</div>
<div class="line"><span class="lineno"> 1275</span>            <a class="code hl_variable" href="netconn_8c.html#acb11f50f9078f84d70ca42f768d28dfe">clientport</a> = <a class="code hl_variable" href="netconn_8c.html#ad6cd2cf3d052ceae35331ba36beb1171">clientport2</a>;</div>
<div class="line"><span class="lineno"> 1276</span>            <a class="code hl_function" href="netconn_8c.html#af5d11f57224f1128c514d5352c9d237d">NetConn_CloseClientPorts</a>();</div>
<div class="line"><span class="lineno"> 1277</span>        }</div>
<div class="line"><span class="lineno"> 1278</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a> == 0)</div>
<div class="line"><span class="lineno"> 1279</span>            <a class="code hl_function" href="netconn_8c.html#ac9ec93e8450ae3d1fde81960051f6d64">NetConn_OpenClientPorts</a>();</div>
<div class="line"><span class="lineno"> 1280</span>    }</div>
<div class="line"><span class="lineno"> 1281</span>}</div>
<div class="ttc" id="acl__main_8c_html_ab4b4e0f12a72d330ee0869bdf1b372cd"><div class="ttname"><a href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a></div><div class="ttdeci">client_static_t cls</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00116">cl_main.c:116</a></div></div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a></div><div class="ttdeci">@ ca_dedicated</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00531">client.h:531</a></div></div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19">ca_connected</a></div><div class="ttdeci">@ ca_connected</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00534">client.h:533</a></div></div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefead3ba77c77482579507d60b9e90e98986"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefead3ba77c77482579507d60b9e90e98986">ca_disconnected</a></div><div class="ttdeci">@ ca_disconnected</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00532">client.h:532</a></div></div>
<div class="ttc" id="anetconn_8c_html_ac9ec93e8450ae3d1fde81960051f6d64"><div class="ttname"><a href="netconn_8c.html#ac9ec93e8450ae3d1fde81960051f6d64">NetConn_OpenClientPorts</a></div><div class="ttdeci">void NetConn_OpenClientPorts(void)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01088">netconn.c:1088</a></div></div>
<div class="ttc" id="anetconn_8c_html_acb11f50f9078f84d70ca42f768d28dfe"><div class="ttname"><a href="netconn_8c.html#acb11f50f9078f84d70ca42f768d28dfe">clientport</a></div><div class="ttdeci">static int clientport</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01258">netconn.c:1258</a></div></div>
<div class="ttc" id="anetconn_8c_html_ad6cd2cf3d052ceae35331ba36beb1171"><div class="ttname"><a href="netconn_8c.html#ad6cd2cf3d052ceae35331ba36beb1171">clientport2</a></div><div class="ttdeci">static int clientport2</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01259">netconn.c:1259</a></div></div>
<div class="ttc" id="anetconn_8c_html_af5d11f57224f1128c514d5352c9d237d"><div class="ttname"><a href="netconn_8c.html#af5d11f57224f1128c514d5352c9d237d">NetConn_CloseClientPorts</a></div><div class="ttdeci">void NetConn_CloseClientPorts(void)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01052">netconn.c:1052</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a6722e47d64e69141af5cdf392fcf95eb"><div class="ttname"><a href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">client_static_t::state</a></div><div class="ttdeci">cactive_t state</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00569">client.h:569</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="ad85ee4f9050e60359de47888459a412a" name="ad85ee4f9050e60359de47888459a412a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad85ee4f9050e60359de47888459a412a">&#9670;&#160;</a></span>NetConn_ClearFlood()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_ClearFlood </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structserver__floodaddress__t.html">server_floodaddress_t</a> *&#160;</td>
          <td class="paramname"><em>floodlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>floodlength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02915">2915</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2916</span>{</div>
<div class="line"><span class="lineno"> 2917</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>;</div>
<div class="line"><span class="lineno"> 2918</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a>;</div>
<div class="line"><span class="lineno"> 2919</span>    <span class="comment">// see if this is a connect flood</span></div>
<div class="line"><span class="lineno"> 2920</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a> = *peeraddress;</div>
<div class="line"><span class="lineno"> 2921</span>    <a class="code hl_function" href="lhnet_8c.html#a08a46a5e7b9bcc97ddf4ab33bb411ae8">LHNETADDRESS_SetPort</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a>, 0);</div>
<div class="line"><span class="lineno"> 2922</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlength</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>++)</div>
<div class="line"><span class="lineno"> 2923</span>    {</div>
<div class="line"><span class="lineno"> 2924</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].lasttime &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].address) == 0)</div>
<div class="line"><span class="lineno"> 2925</span>        {</div>
<div class="line"><span class="lineno"> 2926</span>            <span class="comment">// this address matches an ongoing flood address</span></div>
<div class="line"><span class="lineno"> 2927</span>            <span class="comment">// remove the ban</span></div>
<div class="line"><span class="lineno"> 2928</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].address.addresstype = <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a8133923ab10aecdccfb4612843118e96">LHNETADDRESSTYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 2929</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].lasttime = 0;</div>
<div class="line"><span class="lineno"> 2930</span>            <span class="comment">//Con_Printf(&quot;Flood cleared!\n&quot;);</span></div>
<div class="line"><span class="lineno"> 2931</span>        }</div>
<div class="line"><span class="lineno"> 2932</span>    }</div>
<div class="line"><span class="lineno"> 2933</span>}</div>
<div class="ttc" id="alhnet_8c_html_a08a46a5e7b9bcc97ddf4ab33bb411ae8"><div class="ttname"><a href="lhnet_8c.html#a08a46a5e7b9bcc97ddf4ab33bb411ae8">LHNETADDRESS_SetPort</a></div><div class="ttdeci">int LHNETADDRESS_SetPort(lhnetaddress_t *vaddress, int port)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00642">lhnet.c:642</a></div></div>
<div class="ttc" id="alhnet_8h_html_aaf5f00c130fe2e819ddbe3e46cf84183a8133923ab10aecdccfb4612843118e96"><div class="ttname"><a href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a8133923ab10aecdccfb4612843118e96">LHNETADDRESSTYPE_NONE</a></div><div class="ttdeci">@ LHNETADDRESSTYPE_NONE</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00012">lhnet.h:12</a></div></div>
<div class="ttc" id="astructlhnetaddress__t_html"><div class="ttname"><a href="structlhnetaddress__t.html">lhnetaddress_t</a></div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00019">lhnet.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01230">NetConn_Close()</a>.</p>

</div>
</div>
<a id="a715f0df36037e7910eaad6456b4a88de" name="a715f0df36037e7910eaad6456b4a88de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a715f0df36037e7910eaad6456b4a88de">&#9670;&#160;</a></span>NetConn_ClientFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_ClientFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02623">2623</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2624</span>{</div>
<div class="line"><span class="lineno"> 2625</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2626</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 2627</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> peeraddress;</div>
<div class="line"><span class="lineno"> 2628</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">readbuffer</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>];</div>
<div class="line"><span class="lineno"> 2629</span> </div>
<div class="line"><span class="lineno"> 2630</span>    <a class="code hl_function" href="netconn_8c.html#a53fe62ae3af70f7fc4564fe951bbb4dd">NetConn_UpdateSockets</a>();</div>
<div class="line"><span class="lineno"> 2631</span> </div>
<div class="line"><span class="lineno"> 2632</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#abdcdc5e6094eaabade817df1719c559a">connect_nextsendtime</a> &lt; <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>)</div>
<div class="line"><span class="lineno"> 2633</span>    {</div>
<div class="line"><span class="lineno"> 2634</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a4bd3b1c6b3a8189cb71ae5d5441ed2ac">connect_remainingtries</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 2635</span>        {</div>
<div class="line"><span class="lineno"> 2636</span>            <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a4bd3b1c6b3a8189cb71ae5d5441ed2ac">connect_remainingtries</a>--;</div>
<div class="line"><span class="lineno"> 2637</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>), <span class="stringliteral">&quot;Connect: sending initial request, %i %s left...&quot;</span>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a4bd3b1c6b3a8189cb71ae5d5441ed2ac">connect_remainingtries</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a4bd3b1c6b3a8189cb71ae5d5441ed2ac">connect_remainingtries</a> == 1 ? <span class="stringliteral">&quot;retry&quot;</span> : <span class="stringliteral">&quot;retries&quot;</span>);</div>
<div class="line"><span class="lineno"> 2638</span>        }</div>
<div class="line"><span class="lineno"> 2639</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2640</span>        {</div>
<div class="line"><span class="lineno"> 2641</span>            <span class="keywordtype">char</span> address[128];</div>
<div class="line"><span class="lineno"> 2642</span> </div>
<div class="line"><span class="lineno"> 2643</span>            <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2644</span>            <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(&amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>, address, <span class="keyword">sizeof</span>(address), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2645</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, <span class="stringliteral">&quot;Connect: failed, no reply&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>));</div>
<div class="line"><span class="lineno"> 2646</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;%s from %s\n&quot;</span>, <a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, address);</div>
<div class="line"><span class="lineno"> 2647</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2648</span>        }</div>
<div class="line"><span class="lineno"> 2649</span>        <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#abdcdc5e6094eaabade817df1719c559a">connect_nextsendtime</a> = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + 1;</div>
<div class="line"><span class="lineno"> 2650</span> </div>
<div class="line"><span class="lineno"> 2651</span>        <span class="comment">// try challenge first (newer DP server or QW)</span></div>
<div class="line"><span class="lineno"> 2652</span>        <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac7a2faa2dd744a2b4d0cc02a389c8337">connect_mysocket</a>, <span class="stringliteral">&quot;\377\377\377\377getchallenge&quot;</span>, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>);</div>
<div class="line"><span class="lineno"> 2653</span>        <span class="comment">// then try netquake as a fallback (old server, or netquake)</span></div>
<div class="line"><span class="lineno"> 2654</span>        <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2655</span>        <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 2656</span>        <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, 0);</div>
<div class="line"><span class="lineno"> 2657</span>        <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_define" href="netconn_8h.html#acc3baf1226b0f0487a81e1d60797edcb">CCREQ_CONNECT</a>);</div>
<div class="line"><span class="lineno"> 2658</span>        <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <span class="stringliteral">&quot;QUAKE&quot;</span>);</div>
<div class="line"><span class="lineno"> 2659</span>        <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_define" href="netconn_8h.html#a9a0d9eb2ce9089b6cdd0bed36aef87f1">NET_PROTOCOL_VERSION</a>);</div>
<div class="line"><span class="lineno"> 2660</span>        <span class="comment">// extended proquake stuff</span></div>
<div class="line"><span class="lineno"> 2661</span>        <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, 1); <span class="comment">// mod = MOD_PROQUAKE</span></div>
<div class="line"><span class="lineno"> 2662</span>        <span class="comment">// this version matches ProQuake 3.40, the first version to support</span></div>
<div class="line"><span class="lineno"> 2663</span>        <span class="comment">// the NAT fix, and it only supports the NAT fix for ProQuake 3.40 or</span></div>
<div class="line"><span class="lineno"> 2664</span>        <span class="comment">// higher clients, so we pretend we are that version...</span></div>
<div class="line"><span class="lineno"> 2665</span>        <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, 34); <span class="comment">// version * 10</span></div>
<div class="line"><span class="lineno"> 2666</span>        <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, 0); <span class="comment">// flags</span></div>
<div class="line"><span class="lineno"> 2667</span>        <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, 0); <span class="comment">// password</span></div>
<div class="line"><span class="lineno"> 2668</span>        <span class="comment">// write the packetsize now...</span></div>
<div class="line"><span class="lineno"> 2669</span>        <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 2670</span>        <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac7a2faa2dd744a2b4d0cc02a389c8337">connect_mysocket</a>, <a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>);</div>
<div class="line"><span class="lineno"> 2671</span>        <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2672</span>    }</div>
<div class="line"><span class="lineno"> 2673</span> </div>
<div class="line"><span class="lineno"> 2674</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2675</span>    {</div>
<div class="line"><span class="lineno"> 2676</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_function" href="netconn_8c.html#a32cdef72a697789efb6435689f0c51a2">NetConn_Read</a>(<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">readbuffer</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">readbuffer</a>), &amp;peeraddress)) &gt; 0)</div>
<div class="line"><span class="lineno"> 2677</span>        {</div>
<div class="line"><span class="lineno"> 2678</span><span class="comment">//          R_TimeReport(&quot;clientreadnetwork&quot;);</span></div>
<div class="line"><span class="lineno"> 2679</span>            <a class="code hl_function" href="netconn_8c.html#aeff81962983a08dadfdc1ece274fc555">NetConn_ClientParsePacket</a>(<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">readbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, &amp;peeraddress);</div>
<div class="line"><span class="lineno"> 2680</span><span class="comment">//          R_TimeReport(&quot;clientparsepacket&quot;);</span></div>
<div class="line"><span class="lineno"> 2681</span>        }</div>
<div class="line"><span class="lineno"> 2682</span>    }</div>
<div class="line"><span class="lineno"> 2683</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 2684</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_QueryQueueFrame</a>();</div>
<div class="line"><span class="lineno"> 2685</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2686</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> &gt; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a2a3557cca6629297180e9d87ab8e6d7a">timeout</a> &amp;&amp; !<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a>)</div>
<div class="line"><span class="lineno"> 2687</span>        <a class="code hl_function" href="cl__main_8c.html#a013b6540af7a61d82d9125bd499b268b">CL_DisconnectEx</a>(<span class="keyword">true</span>, <span class="stringliteral">&quot;Connection timed out&quot;</span>);</div>
<div class="line"><span class="lineno"> 2688</span>}</div>
<div class="ttc" id="acl__main_8c_html_a013b6540af7a61d82d9125bd499b268b"><div class="ttname"><a href="cl__main_8c.html#a013b6540af7a61d82d9125bd499b268b">CL_DisconnectEx</a></div><div class="ttdeci">void CL_DisconnectEx(qbool kicked, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00370">cl_main.c:370</a></div></div>
<div class="ttc" id="acl__screen_8c_html_addeaa198ec46ae25fb27f123ec31a809"><div class="ttname"><a href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a></div><div class="ttdeci">char cl_connect_status[MAX_QPATH]</div><div class="ttdoc">User-friendly connection status for the menu and/or loading screen, colours and   not supported.</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l01604">cl_screen.c:1604</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a3e0a67e5c8fa483be5e3e1513ff50d0d"><div class="ttname"><a href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a></div><div class="ttdeci">void MSG_WriteString(sizebuf_t *sb, const char *s)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00173">com_msg.c:173</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a5da2d044d88eea95488c4f537b13b35d"><div class="ttname"><a href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a></div><div class="ttdeci">void MSG_WriteLong(sizebuf_t *sb, int c)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00147">com_msg.c:147</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a7e32b0a419941b93644ba097bb64af96"><div class="ttname"><a href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a></div><div class="ttdeci">void MSG_WriteByte(sizebuf_t *sb, int c)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00130">com_msg.c:130</a></div></div>
<div class="ttc" id="acom__msg_8c_html_acb6b93b3f5ce9f8f86fb1a6b3bc7e251"><div class="ttname"><a href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a></div><div class="ttdeci">void StoreBigLong(unsigned char *buffer, unsigned int i)</div><div class="ttdoc">Encode a big endian 32bit int to the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00081">com_msg.c:81</a></div></div>
<div class="ttc" id="acommon_8c_html_a0ea018e5fb18adcef01a365a50fccfef"><div class="ttname"><a href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a></div><div class="ttdeci">void SZ_Clear(sizebuf_t *buf)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00044">common.c:44</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="alhnet_8c_html_a191c91d25271eed39a5eb76e2d8e5dde"><div class="ttname"><a href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a></div><div class="ttdeci">int LHNETADDRESS_ToString(const lhnetaddress_t *vaddress, char *string, int stringbuffersize, int includeport)</div><div class="ttdoc">Returns the number of bytes written to *string excluding the \0 terminator.</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00540">lhnet.c:540</a></div></div>
<div class="ttc" id="anetconn_8c_html_a1e8a8700531fab7a9c69ff0ff0258e9f"><div class="ttname"><a href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a></div><div class="ttdeci">int NetConn_Write(lhnetsocket_t *mysocket, const void *data, int length, const lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00748">netconn.c:748</a></div></div>
<div class="ttc" id="anetconn_8c_html_a29cc54ca5c12633b26f6f8817d5616b4"><div class="ttname"><a href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a></div><div class="ttdeci">int NetConn_WriteString(lhnetsocket_t *mysocket, const char *string, const lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00773">netconn.c:773</a></div></div>
<div class="ttc" id="anetconn_8c_html_a32cdef72a697789efb6435689f0c51a2"><div class="ttname"><a href="netconn_8c.html#a32cdef72a697789efb6435689f0c51a2">NetConn_Read</a></div><div class="ttdeci">int NetConn_Read(lhnetsocket_t *mysocket, void *data, int maxlength, lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00716">netconn.c:716</a></div></div>
<div class="ttc" id="anetconn_8c_html_a41848781c27194b5e2a79654558cc2f5"><div class="ttname"><a href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a></div><div class="ttdeci">sizebuf_t cl_message</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00068">netconn.c:68</a></div></div>
<div class="ttc" id="anetconn_8c_html_a53fe62ae3af70f7fc4564fe951bbb4dd"><div class="ttname"><a href="netconn_8c.html#a53fe62ae3af70f7fc4564fe951bbb4dd">NetConn_UpdateSockets</a></div><div class="ttdeci">void NetConn_UpdateSockets(void)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01296">netconn.c:1296</a></div></div>
<div class="ttc" id="anetconn_8c_html_aeff81962983a08dadfdc1ece274fc555"><div class="ttname"><a href="netconn_8c.html#aeff81962983a08dadfdc1ece274fc555">NetConn_ClientParsePacket</a></div><div class="ttdeci">static int NetConn_ClientParsePacket(lhnetsocket_t *mysocket, unsigned char *data, int length, lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l02002">netconn.c:2002</a></div></div>
<div class="ttc" id="anetconn_8h_html_a292ee6efb14953f64ea03ddd1988b202"><div class="ttname"><a href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a></div><div class="ttdeci">#define NETFLAG_CTL</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00044">netconn.h:44</a></div></div>
<div class="ttc" id="anetconn_8h_html_a642f021355b717f111d141a935ef5716"><div class="ttname"><a href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a></div><div class="ttdeci">#define NET_HEADERSIZE</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00032">netconn.h:32</a></div></div>
<div class="ttc" id="anetconn_8h_html_abe7bdee8ebd04fe500a9559a1c3586c0"><div class="ttname"><a href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a></div><div class="ttdeci">#define NETFLAG_LENGTH_MASK</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00035">netconn.h:35</a></div></div>
<div class="ttc" id="anetconn_8h_html_acc3baf1226b0f0487a81e1d60797edcb"><div class="ttname"><a href="netconn_8h.html#acc3baf1226b0f0487a81e1d60797edcb">CCREQ_CONNECT</a></div><div class="ttdeci">#define CCREQ_CONNECT</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00119">netconn.h:119</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a4a4d900b3d5d192f7da8ffa8bbe445f3"><div class="ttname"><a href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a></div><div class="ttdeci">#define NET_MAXMESSAGE</div><div class="ttdoc">max reliable packet size (sent as multiple fragments of MAX_PACKETFRAGMENT)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00103">qdefs.h:103</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a2918ef8b215b79e8f7067feb116eb6b4"><div class="ttname"><a href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">client_static_t::connect_trying</a></div><div class="ttdeci">qbool connect_trying</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00610">client.h:610</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a4bd3b1c6b3a8189cb71ae5d5441ed2ac"><div class="ttname"><a href="structclient__static__t.html#a4bd3b1c6b3a8189cb71ae5d5441ed2ac">client_static_t::connect_remainingtries</a></div><div class="ttdeci">int connect_remainingtries</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00611">client.h:611</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ab08590ce86dd12767bd25a11bdab24c5"><div class="ttname"><a href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">client_static_t::netcon</a></div><div class="ttdeci">netconn_t * netcon</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00631">client.h:631</a></div></div>
<div class="ttc" id="astructclient__static__t_html_abdcdc5e6094eaabade817df1719c559a"><div class="ttname"><a href="structclient__static__t.html#abdcdc5e6094eaabade817df1719c559a">client_static_t::connect_nextsendtime</a></div><div class="ttdeci">double connect_nextsendtime</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00612">client.h:612</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ac3fec2efadcad43aac413b686920dfb1"><div class="ttname"><a href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">client_static_t::connect_address</a></div><div class="ttdeci">lhnetaddress_t connect_address</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00614">client.h:614</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ac7a2faa2dd744a2b4d0cc02a389c8337"><div class="ttname"><a href="structclient__static__t.html#ac7a2faa2dd744a2b4d0cc02a389c8337">client_static_t::connect_mysocket</a></div><div class="ttdeci">lhnetsocket_t * connect_mysocket</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00613">client.h:613</a></div></div>
<div class="ttc" id="astructnetconn__t_html_a2a3557cca6629297180e9d87ab8e6d7a"><div class="ttname"><a href="structnetconn__t.html#a2a3557cca6629297180e9d87ab8e6d7a">netconn_t::timeout</a></div><div class="ttdeci">double timeout</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00153">netconn.h:153</a></div></div>
<div class="ttc" id="astructsizebuf__t_html_a2833c4a635a67f33e683e830132a2a82"><div class="ttname"><a href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">sizebuf_t::data</a></div><div class="ttdeci">unsigned char * data</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00052">common.h:52</a></div></div>
<div class="ttc" id="astructsizebuf__t_html_aa960c440ea09dd17969bd79f15b9fd33"><div class="ttname"><a href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">sizebuf_t::cursize</a></div><div class="ttdeci">int cursize</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00054">common.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l02806">CL_Frame()</a>, and <a class="el" href="cl__parse_8c_source.html#l00314">CL_KeepaliveMessage()</a>.</p>

</div>
</div>
<a id="aeff81962983a08dadfdc1ece274fc555" name="aeff81962983a08dadfdc1ece274fc555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff81962983a08dadfdc1ece274fc555">&#9670;&#160;</a></span>NetConn_ClientParsePacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_ClientParsePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td>
          <td class="paramname"><em>mysocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02002">2002</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2003</span>{</div>
<div class="line"><span class="lineno"> 2004</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fromserver</a>;</div>
<div class="line"><span class="lineno"> 2005</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>, c;</div>
<div class="line"><span class="lineno"> 2006</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ae79dfeea357422bd20dbcaa2afe88ac6">string</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>[128];</div>
<div class="line"><span class="lineno"> 2007</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>[16384];</div>
<div class="line"><span class="lineno"> 2008</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>+<a class="code hl_define" href="crypto_8h.html#a243fd02f64d57160121c22fabedaac9d">CRYPTO_HEADERSIZE</a>];</div>
<div class="line"><span class="lineno"> 2009</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>;</div>
<div class="line"><span class="lineno"> 2010</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 2011</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><span class="lineno"> 2012</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2013</span> </div>
<div class="line"><span class="lineno"> 2014</span>    <span class="comment">// quakeworld ingame packet</span></div>
<div class="line"><span class="lineno"> 2015</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fromserver</a> = <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a> &amp;&amp; mysocket == <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a570f43ecac2f577e6a99b534b55d7601">mysocket</a> &amp;&amp; !<a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(&amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a43176a4dac989af6e48ebba399aac70a">peeraddress</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 2016</span> </div>
<div class="line"><span class="lineno"> 2017</span>    <span class="comment">// convert the address to a string incase we need it</span></div>
<div class="line"><span class="lineno"> 2018</span>    <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2019</span> </div>
<div class="line"><span class="lineno"> 2020</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 5 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[0] == 255 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[1] == 255 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[2] == 255 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[3] == 255)</div>
<div class="line"><span class="lineno"> 2021</span>    {</div>
<div class="line"><span class="lineno"> 2022</span>        <span class="comment">// received a command string - strip off the packaging and put it</span></div>
<div class="line"><span class="lineno"> 2023</span>        <span class="comment">// into our string buffer with NULL termination</span></div>
<div class="line"><span class="lineno"> 2024</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 4;</div>
<div class="line"><span class="lineno"> 2025</span>        <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 4;</div>
<div class="line"><span class="lineno"> 2026</span>        <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>) - 1);</div>
<div class="line"><span class="lineno"> 2027</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 2028</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>[<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>] = 0;</div>
<div class="line"><span class="lineno"> 2029</span>        <span class="keywordtype">string</span> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>;</div>
<div class="line"><span class="lineno"> 2030</span> </div>
<div class="line"><span class="lineno"> 2031</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a6ec6ab811f71ef2e66d3aa1710c0a095">developer_networking</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2032</span>        {</div>
<div class="line"><span class="lineno"> 2033</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;NetConn_ClientParsePacket: %s sent us a command:\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2034</span>            <a class="code hl_function" href="common_8c.html#a9913aa4c9e2d0acfc38638235bbe31ca">Com_HexDumpToConsole</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 2035</span>        }</div>
<div class="line"><span class="lineno"> 2036</span> </div>
<div class="line"><span class="lineno"> 2037</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>) - 4;</div>
<div class="line"><span class="lineno"> 2038</span>        <span class="keywordflow">switch</span>(<a class="code hl_function" href="crypto_8c.html#a29b4969371415991b42f94cc5c82838a">Crypto_ClientParsePacket</a>(<span class="keywordtype">string</span>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>+4, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>, peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>))</div>
<div class="line"><span class="lineno"> 2039</span>        {</div>
<div class="line"><span class="lineno"> 2040</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="crypto_8h.html#a8c7ff8f693d7a32873476640d01ecef3">CRYPTO_NOMATCH</a>:</div>
<div class="line"><span class="lineno"> 2041</span>                <span class="comment">// nothing to do</span></div>
<div class="line"><span class="lineno"> 2042</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2043</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="crypto_8h.html#a4bd8c06f696b570063fbead2f98c7c2c">CRYPTO_MATCH</a>:</div>
<div class="line"><span class="lineno"> 2044</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>)</div>
<div class="line"><span class="lineno"> 2045</span>                {</div>
<div class="line"><span class="lineno"> 2046</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, <span class="stringliteral">&quot;\377\377\377\377&quot;</span>, 4);</div>
<div class="line"><span class="lineno"> 2047</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>+4, peeraddress);</div>
<div class="line"><span class="lineno"> 2048</span>                }</div>
<div class="line"><span class="lineno"> 2049</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2050</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="crypto_8h.html#a1efd20cc345410a8f68978ece41aac10">CRYPTO_DISCARD</a>:</div>
<div class="line"><span class="lineno"> 2051</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>)</div>
<div class="line"><span class="lineno"> 2052</span>                {</div>
<div class="line"><span class="lineno"> 2053</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, <span class="stringliteral">&quot;\377\377\377\377&quot;</span>, 4);</div>
<div class="line"><span class="lineno"> 2054</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>+4, peeraddress);</div>
<div class="line"><span class="lineno"> 2055</span>                }</div>
<div class="line"><span class="lineno"> 2056</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2057</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2058</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="crypto_8h.html#a6d9f8e2afed02501c245a07309bd656c">CRYPTO_REPLACE</a>:</div>
<div class="line"><span class="lineno"> 2059</span>                <span class="keywordtype">string</span> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>+4;</div>
<div class="line"><span class="lineno"> 2060</span>                <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>;</div>
<div class="line"><span class="lineno"> 2061</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2062</span>        }</div>
<div class="line"><span class="lineno"> 2063</span> </div>
<div class="line"><span class="lineno"> 2064</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 10 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;challenge &quot;</span>, 10) &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a06392a35cbd07d60ea82122f2d1842d8">rcon_trying</a>)</div>
<div class="line"><span class="lineno"> 2065</span>        {</div>
<div class="line"><span class="lineno"> 2066</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 2067</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2068</span>            {</div>
<div class="line"><span class="lineno"> 2069</span>                <span class="comment">// note: this value from i is used outside the loop too...</span></div>
<div class="line"><span class="lineno"> 2070</span>                <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aa4259a5cb007c414a079fb68f997365b">rcon_ringpos</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) % <a class="code hl_define" href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a>;</div>
<div class="line"><span class="lineno"> 2071</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">rcon_commands</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0])</div>
<div class="line"><span class="lineno"> 2072</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6f544c2a21ea11caf51ab5c32f32ee6d">rcon_addresses</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><span class="lineno"> 2073</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2074</span>            }</div>
<div class="line"><span class="lineno"> 2075</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a>)</div>
<div class="line"><span class="lineno"> 2076</span>            {</div>
<div class="line"><span class="lineno"> 2077</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[1500];</div>
<div class="line"><span class="lineno"> 2078</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argbuf</a>[1500];</div>
<div class="line"><span class="lineno"> 2079</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>;</div>
<div class="line"><span class="lineno"> 2080</span>                <span class="keywordtype">int</span> <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 2081</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argbuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argbuf</a>), <span class="stringliteral">&quot;%s %s&quot;</span>, <span class="keywordtype">string</span> + 10, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">rcon_commands</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 2082</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="stringliteral">&quot;\377\377\377\377srcon HMAC-MD4 CHALLENGE &quot;</span>, 29);</div>
<div class="line"><span class="lineno"> 2083</span> </div>
<div class="line"><span class="lineno"> 2084</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="client_8h.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 2085</span>                <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>-<a class="code hl_variable" href="client_8h.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a> : (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="client_8h.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>);</div>
<div class="line"><span class="lineno"> 2086</span> </div>
<div class="line"><span class="lineno"> 2087</span>                <span class="keywordflow">if</span>(<a class="code hl_define" href="hmac_8h.html#a6c44e86b6c7cb083fb7dc08016f86b76">HMAC_MDFOUR_16BYTES</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) (<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 29), (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argbuf</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argbuf</a>), (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="client_8h.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>))</div>
<div class="line"><span class="lineno"> 2088</span>                {</div>
<div class="line"><span class="lineno"> 2089</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 2090</span>                    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[45] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><span class="lineno"> 2091</span>                    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 46, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argbuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>) - 46);</div>
<div class="line"><span class="lineno"> 2092</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, 46 + (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 46), peeraddress);</div>
<div class="line"><span class="lineno"> 2093</span>                    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">rcon_commands</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = 0;</div>
<div class="line"><span class="lineno"> 2094</span>                    --<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a06392a35cbd07d60ea82122f2d1842d8">rcon_trying</a>;</div>
<div class="line"><span class="lineno"> 2095</span> </div>
<div class="line"><span class="lineno"> 2096</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; <a class="code hl_define" href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 2097</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">rcon_commands</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>][0])</div>
<div class="line"><span class="lineno"> 2098</span>                            <span class="keywordflow">if</span> (!<a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6f544c2a21ea11caf51ab5c32f32ee6d">rcon_addresses</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>]))</div>
<div class="line"><span class="lineno"> 2099</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2100</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; <a class="code hl_define" href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a>)</div>
<div class="line"><span class="lineno"> 2101</span>                    {</div>
<div class="line"><span class="lineno"> 2102</span>                        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><span class="lineno"> 2103</span>                        <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377getchallenge&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 2104</span>                        <span class="comment">// extend the timeout on other requests as we asked for a challenge</span></div>
<div class="line"><span class="lineno"> 2105</span>                        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> &lt; <a class="code hl_define" href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>++)</div>
<div class="line"><span class="lineno"> 2106</span>                            <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">rcon_commands</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>][0])</div>
<div class="line"><span class="lineno"> 2107</span>                                <span class="keywordflow">if</span> (!<a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6f544c2a21ea11caf51ab5c32f32ee6d">rcon_addresses</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>]))</div>
<div class="line"><span class="lineno"> 2108</span>                                    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a8a969600e405dd3490653661c62af39b">rcon_timeout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>] = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + <a class="code hl_variable" href="netconn_8c.html#a90295c0585be4dc5bfac2be3e973effb">rcon_secure_challengetimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><span class="lineno"> 2109</span>                    }</div>
<div class="line"><span class="lineno"> 2110</span> </div>
<div class="line"><span class="lineno"> 2111</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// we used up the challenge, so we can&#39;t use this oen for connecting now anyway</span></div>
<div class="line"><span class="lineno"> 2112</span>                }</div>
<div class="line"><span class="lineno"> 2113</span>            }</div>
<div class="line"><span class="lineno"> 2114</span>        }</div>
<div class="line"><span class="lineno"> 2115</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 10 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;challenge &quot;</span>, 10) &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a>)</div>
<div class="line"><span class="lineno"> 2116</span>        {</div>
<div class="line"><span class="lineno"> 2117</span>            <span class="comment">// darkplaces or quake3</span></div>
<div class="line"><span class="lineno"> 2118</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolnames</a>[1400];</div>
<div class="line"><span class="lineno"> 2119</span> </div>
<div class="line"><span class="lineno"> 2120</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>)) {</div>
<div class="line"><span class="lineno"> 2121</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring challenge message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2122</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2123</span>            }</div>
<div class="line"><span class="lineno"> 2124</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;\&quot;%s\&quot; received, sending connect request back to %s\n&quot;</span>, <span class="keywordtype">string</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2125</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, <span class="stringliteral">&quot;Connect: replying to challenge...&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>));</div>
<div class="line"><span class="lineno"> 2126</span> </div>
<div class="line"><span class="lineno"> 2127</span>            <a class="code hl_function" href="protocol_8c.html#abc64828b2a18962419cd8db6649b5b84">Protocol_Names</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolnames</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolnames</a>));</div>
<div class="line"><span class="lineno"> 2128</span>            <span class="comment">// update the server IP in the userinfo (QW servers expect this, and it is used by the reconnect command)</span></div>
<div class="line"><span class="lineno"> 2129</span>            <a class="code hl_function" href="com__infostring_8c.html#a59c10d6bcf260c784463bd5dbe40cef8">InfoString_SetValue</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aee858ac573b8848bd3363384ebdc7a62">userinfo</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aee858ac573b8848bd3363384ebdc7a62">userinfo</a>), <span class="stringliteral">&quot;*ip&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2130</span>            <span class="comment">// TODO: add userinfo stuff here instead of using NQ commands?</span></div>
<div class="line"><span class="lineno"> 2131</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, <span class="stringliteral">&quot;\377\377\377\377&quot;</span>, 4);</div>
<div class="line"><span class="lineno"> 2132</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>+4, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>)-4, <span class="stringliteral">&quot;connect\\protocol\\darkplaces 3\\protocols\\%s%s\\challenge\\%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolnames</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a10de2291f6a17e50ac3446d86124e60b">connect_userinfo</a>, <span class="keywordtype">string</span> + 10);</div>
<div class="line"><span class="lineno"> 2133</span>            <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 2134</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2135</span>        }</div>
<div class="line"><span class="lineno"> 2136</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> == 6 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;accept&quot;</span>, 6) &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a>)</div>
<div class="line"><span class="lineno"> 2137</span>        {</div>
<div class="line"><span class="lineno"> 2138</span>            <span class="comment">// darkplaces or quake3</span></div>
<div class="line"><span class="lineno"> 2139</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>)) {</div>
<div class="line"><span class="lineno"> 2140</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring accept message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2141</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2142</span>            }</div>
<div class="line"><span class="lineno"> 2143</span>            <a class="code hl_function" href="netconn_8c.html#aed17b7b38b156a7fbe14814e666f92ce">NetConn_ConnectionEstablished</a>(mysocket, peeraddress, <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca4a098631799104a6ba14455203f9bd57">PROTOCOL_DARKPLACES3</a>);</div>
<div class="line"><span class="lineno"> 2144</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2145</span>        }</div>
<div class="line"><span class="lineno"> 2146</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 7 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;reject &quot;</span>, 7) &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a>)</div>
<div class="line"><span class="lineno"> 2147</span>        {</div>
<div class="line"><span class="lineno"> 2148</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>)) {</div>
<div class="line"><span class="lineno"> 2149</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring reject message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2150</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2151</span>            }</div>
<div class="line"><span class="lineno"> 2152</span>            <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2153</span>            <span class="keywordtype">string</span> += 7;</div>
<div class="line"><span class="lineno"> 2154</span>            <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> - 7, (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>) - 1);</div>
<div class="line"><span class="lineno"> 2155</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>), <span class="stringliteral">&quot;Connect: rejected, %.*s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keywordtype">string</span>);</div>
<div class="line"><span class="lineno"> 2156</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;Connect: rejected by %s\n&quot;</span> <a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;%.*s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keywordtype">string</span>);</div>
<div class="line"><span class="lineno"> 2157</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2158</span>        }</div>
<div class="line"><span class="lineno"> 2159</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 2160</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="keys_8c.html#acf4f352e2f3ec64ff93004bd5cd52ff0">key_dest</a> != <a class="code hl_enumvalue" href="keys_8h.html#aadf1384626a83f4eb163aaa209c84972a4b4e7b1fca48696e3c7ff8c1d19eaf5d">key_game</a>)</div>
<div class="line"><span class="lineno"> 2161</span>        {</div>
<div class="line"><span class="lineno"> 2162</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 15 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;statusResponse\x0A&quot;</span>, 15))</div>
<div class="line"><span class="lineno"> 2163</span>            {</div>
<div class="line"><span class="lineno"> 2164</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_info_t</a> *info;</div>
<div class="line"><span class="lineno"> 2165</span>                <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 2166</span>                <span class="keywordtype">int</span> <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 2167</span> </div>
<div class="line"><span class="lineno"> 2168</span>                <span class="keywordtype">string</span> += 15;</div>
<div class="line"><span class="lineno"> 2169</span>                <span class="comment">// search the cache for this server and update it</span></div>
<div class="line"><span class="lineno"> 2170</span>                <span class="comment">// the challenge is (ab)used to return the query time</span></div>
<div class="line"><span class="lineno"> 2171</span>                <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;challenge&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>));</div>
<div class="line"><span class="lineno"> 2172</span>                <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_ProcessReply</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>);</div>
<div class="line"><span class="lineno"> 2173</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 2174</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2175</span> </div>
<div class="line"><span class="lineno"> 2176</span>                info = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_cache</a>[<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>].info;</div>
<div class="line"><span class="lineno"> 2177</span>                p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<span class="keywordtype">string</span>, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno"> 2178</span>                <span class="keywordflow">if</span>(p)</div>
<div class="line"><span class="lineno"> 2179</span>                {</div>
<div class="line"><span class="lineno"> 2180</span>                    *p = 0; <span class="comment">// cut off the string there</span></div>
<div class="line"><span class="lineno"> 2181</span>                    ++p;</div>
<div class="line"><span class="lineno"> 2182</span>                    info-&gt;players_len = <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(info-&gt;players, p, <span class="keyword">sizeof</span>(info-&gt;players));</div>
<div class="line"><span class="lineno"> 2183</span>                }</div>
<div class="line"><span class="lineno"> 2184</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2185</span>                {</div>
<div class="line"><span class="lineno"> 2186</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;statusResponse without players block?\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2187</span>                    info-&gt;players_len = info-&gt;players[0] = 0;</div>
<div class="line"><span class="lineno"> 2188</span>                }</div>
<div class="line"><span class="lineno"> 2189</span>                info-&gt;game_len     = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;gamename&quot;</span>, info-&gt;game,     <span class="keyword">sizeof</span>(info-&gt;game));</div>
<div class="line"><span class="lineno"> 2190</span>                info-&gt;mod_len      = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;modname&quot;</span>,  info-&gt;mod,      <span class="keyword">sizeof</span>(info-&gt;mod));</div>
<div class="line"><span class="lineno"> 2191</span>                info-&gt;map_len      = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;mapname&quot;</span>,  info-&gt;map,      <span class="keyword">sizeof</span>(info-&gt;map));</div>
<div class="line"><span class="lineno"> 2192</span>                info-&gt;name_len     = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;hostname&quot;</span>, info-&gt;name,     <span class="keyword">sizeof</span>(info-&gt;name));</div>
<div class="line"><span class="lineno"> 2193</span>                info-&gt;qcstatus_len = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;qcstatus&quot;</span>, info-&gt;qcstatus, <span class="keyword">sizeof</span>(info-&gt;qcstatus));</div>
<div class="line"><span class="lineno"> 2194</span>                info-&gt;protocol    = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;protocol&quot;</span>     , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : -1;</div>
<div class="line"><span class="lineno"> 2195</span>                info-&gt;numplayers  = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;clients&quot;</span>      , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : 0;</div>
<div class="line"><span class="lineno"> 2196</span>                info-&gt;numbots     = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;bots&quot;</span>         , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : -1;</div>
<div class="line"><span class="lineno"> 2197</span>                info-&gt;maxplayers  = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;sv_maxclients&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : 0;</div>
<div class="line"><span class="lineno"> 2198</span>                info-&gt;gameversion = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;gameversion&quot;</span>  , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : 0;</div>
<div class="line"><span class="lineno"> 2199</span>                info-&gt;numhumans = info-&gt;numplayers - <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(0, info-&gt;numbots);</div>
<div class="line"><span class="lineno"> 2200</span>                info-&gt;freeslots = info-&gt;maxplayers - info-&gt;numplayers;</div>
<div class="line"><span class="lineno"> 2201</span> </div>
<div class="line"><span class="lineno"> 2202</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_UpdateCache</a>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>);</div>
<div class="line"><span class="lineno"> 2203</span> </div>
<div class="line"><span class="lineno"> 2204</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2205</span>            }</div>
<div class="line"><span class="lineno"> 2206</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 13 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;infoResponse\x0A&quot;</span>, 13))</div>
<div class="line"><span class="lineno"> 2207</span>            {</div>
<div class="line"><span class="lineno"> 2208</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_info_t</a> *info;</div>
<div class="line"><span class="lineno"> 2209</span>                <span class="keywordtype">int</span> <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 2210</span> </div>
<div class="line"><span class="lineno"> 2211</span>                <span class="keywordtype">string</span> += 13;</div>
<div class="line"><span class="lineno"> 2212</span>                <span class="comment">// search the cache for this server and update it</span></div>
<div class="line"><span class="lineno"> 2213</span>                <span class="comment">// the challenge is (ab)used to return the query time</span></div>
<div class="line"><span class="lineno"> 2214</span>                <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;challenge&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>));</div>
<div class="line"><span class="lineno"> 2215</span>                <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_ProcessReply</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>);</div>
<div class="line"><span class="lineno"> 2216</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 2217</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2218</span> </div>
<div class="line"><span class="lineno"> 2219</span>                info = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_cache</a>[<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>].info;</div>
<div class="line"><span class="lineno"> 2220</span>                info-&gt;players_len = info-&gt;players[0] = 0;</div>
<div class="line"><span class="lineno"> 2221</span>                info-&gt;game_len     = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;gamename&quot;</span>, info-&gt;game,     <span class="keyword">sizeof</span>(info-&gt;game));</div>
<div class="line"><span class="lineno"> 2222</span>                info-&gt;mod_len      = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;modname&quot;</span>,  info-&gt;mod,      <span class="keyword">sizeof</span>(info-&gt;mod));</div>
<div class="line"><span class="lineno"> 2223</span>                info-&gt;map_len      = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;mapname&quot;</span>,  info-&gt;map,      <span class="keyword">sizeof</span>(info-&gt;map));</div>
<div class="line"><span class="lineno"> 2224</span>                info-&gt;name_len     = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;hostname&quot;</span>, info-&gt;name,     <span class="keyword">sizeof</span>(info-&gt;name));</div>
<div class="line"><span class="lineno"> 2225</span>                info-&gt;qcstatus_len = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;qcstatus&quot;</span>, info-&gt;qcstatus, <span class="keyword">sizeof</span>(info-&gt;qcstatus));</div>
<div class="line"><span class="lineno"> 2226</span>                info-&gt;protocol    = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;protocol&quot;</span>     , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : -1;</div>
<div class="line"><span class="lineno"> 2227</span>                info-&gt;numplayers  = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;clients&quot;</span>      , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : 0;</div>
<div class="line"><span class="lineno"> 2228</span>                info-&gt;numbots     = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;bots&quot;</span>         , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : -1;</div>
<div class="line"><span class="lineno"> 2229</span>                info-&gt;maxplayers  = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;sv_maxclients&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : 0;</div>
<div class="line"><span class="lineno"> 2230</span>                info-&gt;gameversion = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;gameversion&quot;</span>  , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : 0;</div>
<div class="line"><span class="lineno"> 2231</span>                info-&gt;numhumans = info-&gt;numplayers - <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(0, info-&gt;numbots);</div>
<div class="line"><span class="lineno"> 2232</span>                info-&gt;freeslots = info-&gt;maxplayers - info-&gt;numplayers;</div>
<div class="line"><span class="lineno"> 2233</span> </div>
<div class="line"><span class="lineno"> 2234</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_UpdateCache</a>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>);</div>
<div class="line"><span class="lineno"> 2235</span> </div>
<div class="line"><span class="lineno"> 2236</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2237</span>            }</div>
<div class="line"><span class="lineno"> 2238</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;getserversResponse\\&quot;</span>, 19) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_cachecount</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a4c22acbf16a53278b3e8f79c96b43f41">SERVERLIST_TOTALSIZE</a>)</div>
<div class="line"><span class="lineno"> 2239</span>            {</div>
<div class="line"><span class="lineno"> 2240</span>                <span class="comment">// Extract the IP addresses</span></div>
<div class="line"><span class="lineno"> 2241</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 18;</div>
<div class="line"><span class="lineno"> 2242</span>                <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 18;</div>
<div class="line"><span class="lineno"> 2243</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_ParseDPList</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2244</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2245</span>            }</div>
<div class="line"><span class="lineno"> 2246</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;getserversExtResponse&quot;</span>, 21) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_cachecount</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a4c22acbf16a53278b3e8f79c96b43f41">SERVERLIST_TOTALSIZE</a>)</div>
<div class="line"><span class="lineno"> 2247</span>            {</div>
<div class="line"><span class="lineno"> 2248</span>                <span class="comment">// Extract the IP addresses</span></div>
<div class="line"><span class="lineno"> 2249</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 21;</div>
<div class="line"><span class="lineno"> 2250</span>                <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 21;</div>
<div class="line"><span class="lineno"> 2251</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_ParseDPList</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2252</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2253</span>            }</div>
<div class="line"><span class="lineno"> 2254</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;d\n&quot;</span>, 2) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_cachecount</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a4c22acbf16a53278b3e8f79c96b43f41">SERVERLIST_TOTALSIZE</a>)</div>
<div class="line"><span class="lineno"> 2255</span>            {</div>
<div class="line"><span class="lineno"> 2256</span>                <span class="comment">// Extract the IP addresses</span></div>
<div class="line"><span class="lineno"> 2257</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 2;</div>
<div class="line"><span class="lineno"> 2258</span>                <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 2;</div>
<div class="line"><span class="lineno"> 2259</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_ParseQWList</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 2260</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2261</span>            }</div>
<div class="line"><span class="lineno"> 2262</span>        }</div>
<div class="line"><span class="lineno"> 2263</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2264</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;extResponse &quot;</span>, 12))</div>
<div class="line"><span class="lineno"> 2265</span>        {</div>
<div class="line"><span class="lineno"> 2266</span>            ++<a class="code hl_variable" href="netconn_8c.html#a91e4d9fae519ad6062ba3f938b1101e5">cl_net_extresponse_count</a>;</div>
<div class="line"><span class="lineno"> 2267</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#a91e4d9fae519ad6062ba3f938b1101e5">cl_net_extresponse_count</a> &gt; <a class="code hl_define" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>)</div>
<div class="line"><span class="lineno"> 2268</span>                <a class="code hl_variable" href="netconn_8c.html#a91e4d9fae519ad6062ba3f938b1101e5">cl_net_extresponse_count</a> = <a class="code hl_define" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>;</div>
<div class="line"><span class="lineno"> 2269</span>            <a class="code hl_variable" href="netconn_8c.html#a169546e0f83607f623204b6da71a3649">cl_net_extresponse_last</a> = (<a class="code hl_variable" href="netconn_8c.html#a169546e0f83607f623204b6da71a3649">cl_net_extresponse_last</a> + 1) % <a class="code hl_define" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>;</div>
<div class="line"><span class="lineno"> 2270</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="netconn_8c.html#ac70f2e8d4e8c9ebb7d604e46b1c9c105">cl_net_extresponse</a>[<a class="code hl_variable" href="netconn_8c.html#a169546e0f83607f623204b6da71a3649">cl_net_extresponse_last</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#ac70f2e8d4e8c9ebb7d604e46b1c9c105">cl_net_extresponse</a>[<a class="code hl_variable" href="netconn_8c.html#a169546e0f83607f623204b6da71a3649">cl_net_extresponse_last</a>]), <span class="stringliteral">&quot;\&quot;%s\&quot; %s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keywordtype">string</span> + 12);</div>
<div class="line"><span class="lineno"> 2271</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2272</span>        }</div>
<div class="line"><span class="lineno"> 2273</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;ping&quot;</span>, 4))</div>
<div class="line"><span class="lineno"> 2274</span>        {</div>
<div class="line"><span class="lineno"> 2275</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2276</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Received ping from %s, sending ack\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2277</span>            <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377ack&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 2278</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2279</span>        }</div>
<div class="line"><span class="lineno"> 2280</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;ack&quot;</span>, 3))</div>
<div class="line"><span class="lineno"> 2281</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2282</span>        <span class="comment">// QuakeWorld compatibility</span></div>
<div class="line"><span class="lineno"> 2283</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 1 &amp;&amp; <span class="keywordtype">string</span>[0] == <span class="charliteral">&#39;c&#39;</span> &amp;&amp; (<span class="keywordtype">string</span>[1] == <span class="charliteral">&#39;-&#39;</span> || (<span class="keywordtype">string</span>[1] &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; <span class="keywordtype">string</span>[1] &lt;= <span class="charliteral">&#39;9&#39;</span>)) &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a>)</div>
<div class="line"><span class="lineno"> 2284</span>        {</div>
<div class="line"><span class="lineno"> 2285</span>            <span class="comment">// challenge message</span></div>
<div class="line"><span class="lineno"> 2286</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>)) {</div>
<div class="line"><span class="lineno"> 2287</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring c message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2288</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2289</span>            }</div>
<div class="line"><span class="lineno"> 2290</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;challenge %s received, sending QuakeWorld connect request back to %s\n&quot;</span>, <span class="keywordtype">string</span> + 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2291</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, <span class="stringliteral">&quot;Connect: replying to challenge...&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>));</div>
<div class="line"><span class="lineno"> 2292</span> </div>
<div class="line"><span class="lineno"> 2293</span>            <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2baaa344e72b625eacc8e5b94a0cd0fc">qw_qport</a> = <a class="code hl_variable" href="cl__main_8c.html#a39cacf07bfe62e61f7c8de09d2013728">qport</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><span class="lineno"> 2294</span>            <span class="comment">// update the server IP in the userinfo (QW servers expect this, and it is used by the reconnect command)</span></div>
<div class="line"><span class="lineno"> 2295</span>            <a class="code hl_function" href="com__infostring_8c.html#a59c10d6bcf260c784463bd5dbe40cef8">InfoString_SetValue</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aee858ac573b8848bd3363384ebdc7a62">userinfo</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aee858ac573b8848bd3363384ebdc7a62">userinfo</a>), <span class="stringliteral">&quot;*ip&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2296</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, <span class="stringliteral">&quot;\377\377\377\377&quot;</span>, 4);</div>
<div class="line"><span class="lineno"> 2297</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>+4, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>)-4, <span class="stringliteral">&quot;connect %i %i %i \&quot;%s%s\&quot;\n&quot;</span>, 28, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2baaa344e72b625eacc8e5b94a0cd0fc">qw_qport</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<span class="keywordtype">string</span> + 1), <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aee858ac573b8848bd3363384ebdc7a62">userinfo</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a10de2291f6a17e50ac3446d86124e60b">connect_userinfo</a>);</div>
<div class="line"><span class="lineno"> 2298</span>            <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 2299</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2300</span>        }</div>
<div class="line"><span class="lineno"> 2301</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 1 &amp;&amp; <span class="keywordtype">string</span>[0] == <span class="charliteral">&#39;j&#39;</span> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a>)</div>
<div class="line"><span class="lineno"> 2302</span>        {</div>
<div class="line"><span class="lineno"> 2303</span>            <span class="comment">// accept message</span></div>
<div class="line"><span class="lineno"> 2304</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>)) {</div>
<div class="line"><span class="lineno"> 2305</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring j message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2306</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2307</span>            }</div>
<div class="line"><span class="lineno"> 2308</span>            <a class="code hl_function" href="netconn_8c.html#aed17b7b38b156a7fbe14814e666f92ce">NetConn_ConnectionEstablished</a>(mysocket, peeraddress, <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b">PROTOCOL_QUAKEWORLD</a>);</div>
<div class="line"><span class="lineno"> 2309</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2310</span>        }</div>
<div class="line"><span class="lineno"> 2311</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 2 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;n\\&quot;</span>, 2))</div>
<div class="line"><span class="lineno"> 2312</span>        {</div>
<div class="line"><span class="lineno"> 2313</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 2314</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_info_t</a> *info;</div>
<div class="line"><span class="lineno"> 2315</span>            <span class="keywordtype">int</span> <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 2316</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div>
<div class="line"><span class="lineno"> 2317</span> </div>
<div class="line"><span class="lineno"> 2318</span>            <span class="comment">// qw server status</span></div>
<div class="line"><span class="lineno"> 2319</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_consoleoutput</a> &amp;&amp; <a class="code hl_variable" href="netconn_8c.html#a6ec6ab811f71ef2e66d3aa1710c0a095">developer_networking</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt;= 2)</div>
<div class="line"><span class="lineno"> 2320</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;QW server status from server at %s:\n%s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keywordtype">string</span> + 1);</div>
<div class="line"><span class="lineno"> 2321</span> </div>
<div class="line"><span class="lineno"> 2322</span>            <span class="keywordtype">string</span> += 1;</div>
<div class="line"><span class="lineno"> 2323</span>            <span class="comment">// search the cache for this server and update it</span></div>
<div class="line"><span class="lineno"> 2324</span>            <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_ProcessReply</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2325</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 2326</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2327</span> </div>
<div class="line"><span class="lineno"> 2328</span>            info = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_cache</a>[<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>].info;</div>
<div class="line"><span class="lineno"> 2329</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(info-&gt;game, <span class="stringliteral">&quot;QuakeWorld&quot;</span>, <span class="keyword">sizeof</span>(info-&gt;game));</div>
<div class="line"><span class="lineno"> 2330</span>            info-&gt;mod_len  = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;*gamedir&quot;</span>, info-&gt;mod, <span class="keyword">sizeof</span>(info-&gt;mod));</div>
<div class="line"><span class="lineno"> 2331</span>            info-&gt;map_len  = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;map&quot;</span>     , info-&gt;map, <span class="keyword">sizeof</span>(info-&gt;map));</div>
<div class="line"><span class="lineno"> 2332</span>            info-&gt;name_len = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;hostname&quot;</span>, info-&gt;name, <span class="keyword">sizeof</span>(info-&gt;name));</div>
<div class="line"><span class="lineno"> 2333</span>            info-&gt;protocol = 0;</div>
<div class="line"><span class="lineno"> 2334</span>            info-&gt;numplayers = 0; <span class="comment">// updated below</span></div>
<div class="line"><span class="lineno"> 2335</span>            info-&gt;numhumans = 0; <span class="comment">// updated below</span></div>
<div class="line"><span class="lineno"> 2336</span>            info-&gt;maxplayers  = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;maxclients&quot;</span> , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : 0;</div>
<div class="line"><span class="lineno"> 2337</span>            info-&gt;gameversion = <a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;gameversion&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>) : 0;</div>
<div class="line"><span class="lineno"> 2338</span> </div>
<div class="line"><span class="lineno"> 2339</span>            <span class="comment">// count active players on server</span></div>
<div class="line"><span class="lineno"> 2340</span>            <span class="comment">// (we could gather more info, but we&#39;re just after the number)</span></div>
<div class="line"><span class="lineno"> 2341</span>            s = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<span class="keywordtype">string</span>, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno"> 2342</span>            <span class="keywordflow">if</span> (s)</div>
<div class="line"><span class="lineno"> 2343</span>            {</div>
<div class="line"><span class="lineno"> 2344</span>                s++;</div>
<div class="line"><span class="lineno"> 2345</span>                <span class="keywordflow">while</span> (s &lt; <span class="keywordtype">string</span> + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>)</div>
<div class="line"><span class="lineno"> 2346</span>                {</div>
<div class="line"><span class="lineno"> 2347</span>                    <span class="keywordflow">for</span> (;s &lt; <span class="keywordtype">string</span> + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &amp;&amp; *s != <span class="charliteral">&#39;\n&#39;</span>;s++)</div>
<div class="line"><span class="lineno"> 2348</span>                        ;</div>
<div class="line"><span class="lineno"> 2349</span>                    <span class="keywordflow">if</span> (s &gt;= <span class="keywordtype">string</span> + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>)</div>
<div class="line"><span class="lineno"> 2350</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2351</span>                    info-&gt;numplayers++;</div>
<div class="line"><span class="lineno"> 2352</span>                    info-&gt;numhumans++;</div>
<div class="line"><span class="lineno"> 2353</span>                    s++;</div>
<div class="line"><span class="lineno"> 2354</span>                }</div>
<div class="line"><span class="lineno"> 2355</span>            }</div>
<div class="line"><span class="lineno"> 2356</span> </div>
<div class="line"><span class="lineno"> 2357</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_UpdateCache</a>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>);</div>
<div class="line"><span class="lineno"> 2358</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2359</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2360</span>        }</div>
<div class="line"><span class="lineno"> 2361</span>        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>[0] == <span class="charliteral">&#39;n&#39;</span>)</div>
<div class="line"><span class="lineno"> 2362</span>        {</div>
<div class="line"><span class="lineno"> 2363</span>            <span class="comment">// qw print command, used by rcon replies too</span></div>
<div class="line"><span class="lineno"> 2364</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>) &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab7daece6a60ac1a5a1adbbfc2766e236">rcon_address</a>)) {</div>
<div class="line"><span class="lineno"> 2365</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring n message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2366</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2367</span>            }</div>
<div class="line"><span class="lineno"> 2368</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;QW print command from server at %s:\n%s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keywordtype">string</span> + 1);</div>
<div class="line"><span class="lineno"> 2369</span>        }</div>
<div class="line"><span class="lineno"> 2370</span>        <span class="comment">// we may not have liked the packet, but it was a command packet, so</span></div>
<div class="line"><span class="lineno"> 2371</span>        <span class="comment">// we&#39;re done processing this packet now</span></div>
<div class="line"><span class="lineno"> 2372</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2373</span>    }</div>
<div class="line"><span class="lineno"> 2374</span>    <span class="comment">// quakeworld ingame packet</span></div>
<div class="line"><span class="lineno"> 2375</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fromserver</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b">PROTOCOL_QUAKEWORLD</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 8 &amp;&amp; (<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="netconn_8c.html#a310bc9b48254f2c8e90138890a17b9be">NetConn_ReceivedMessage</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a>, <a class="code hl_variable" href="netconn_8c.html#a125fb9e97285613acc8bc55055808fa3">net_messagetimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)) == 2)</div>
<div class="line"><span class="lineno"> 2376</span>    {</div>
<div class="line"><span class="lineno"> 2377</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = 0;</div>
<div class="line"><span class="lineno"> 2378</span>        <a class="code hl_function" href="cl__parse_8c.html#af1d8a76adc5b1769ff199859739e038a">CL_ParseServerMessage</a>();</div>
<div class="line"><span class="lineno"> 2379</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 2380</span>    }</div>
<div class="line"><span class="lineno"> 2381</span>    <span class="comment">// netquake control packets, supported for compatibility only</span></div>
<div class="line"><span class="lineno"> 2382</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 5 &amp;&amp; <a class="code hl_function" href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>) == ((<span class="keywordtype">int</span>)<a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>) &amp;&amp; !<a class="code hl_define" href="crypto_8h.html#ae8ba301eab3a8d66c5585d59d03229cc">ENCRYPTION_REQUIRED</a>)</div>
<div class="line"><span class="lineno"> 2383</span>    {</div>
<div class="line"><span class="lineno"> 2384</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 2385</span>        <span class="keywordtype">int</span> <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 2386</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_info_t</a> *info;</div>
<div class="line"><span class="lineno"> 2387</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2388</span> </div>
<div class="line"><span class="lineno"> 2389</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 4;</div>
<div class="line"><span class="lineno"> 2390</span>        <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 4;</div>
<div class="line"><span class="lineno"> 2391</span>        <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2392</span>        <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 2393</span>        <a class="code hl_function" href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2394</span>        c = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2395</span>        <span class="keywordflow">switch</span> (c)</div>
<div class="line"><span class="lineno"> 2396</span>        {</div>
<div class="line"><span class="lineno"> 2397</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#a23b9445b56c44dee6f9fe2e68a8c86a1">CCREP_ACCEPT</a>:</div>
<div class="line"><span class="lineno"> 2398</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2399</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREP_ACCEPT from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2400</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a>)</div>
<div class="line"><span class="lineno"> 2401</span>            {</div>
<div class="line"><span class="lineno"> 2402</span>                <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientportaddress</a>;</div>
<div class="line"><span class="lineno"> 2403</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>)) {</div>
<div class="line"><span class="lineno"> 2404</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring CCREP_ACCEPT message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2405</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2406</span>                }</div>
<div class="line"><span class="lineno"> 2407</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientportaddress</a> = *peeraddress;</div>
<div class="line"><span class="lineno"> 2408</span>                <a class="code hl_function" href="lhnet_8c.html#a08a46a5e7b9bcc97ddf4ab33bb411ae8">LHNETADDRESS_SetPort</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientportaddress</a>, <a class="code hl_define" href="common_8h.html#a4725ab15276a488e45a5b4fbea5efb2a">MSG_ReadLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>));</div>
<div class="line"><span class="lineno"> 2409</span>                <span class="comment">// extra ProQuake stuff</span></div>
<div class="line"><span class="lineno"> 2410</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 6)</div>
<div class="line"><span class="lineno"> 2411</span>                    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab9f43900691c7d789418735acff62d97">proquake_servermod</a> = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>); <span class="comment">// MOD_PROQUAKE</span></div>
<div class="line"><span class="lineno"> 2412</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2413</span>                    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab9f43900691c7d789418735acff62d97">proquake_servermod</a> = 0;</div>
<div class="line"><span class="lineno"> 2414</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 7)</div>
<div class="line"><span class="lineno"> 2415</span>                    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a5f8da03c95e4ad23d3fb7c77d250ba23">proquake_serverversion</a> = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>); <span class="comment">// version * 10</span></div>
<div class="line"><span class="lineno"> 2416</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2417</span>                    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a5f8da03c95e4ad23d3fb7c77d250ba23">proquake_serverversion</a> = 0;</div>
<div class="line"><span class="lineno"> 2418</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 8)</div>
<div class="line"><span class="lineno"> 2419</span>                    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a5604be2bc9df2e89b53b0cd263ad5019">proquake_serverflags</a> = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>); <span class="comment">// flags (mainly PQF_CHEATFREE)</span></div>
<div class="line"><span class="lineno"> 2420</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2421</span>                    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a5604be2bc9df2e89b53b0cd263ad5019">proquake_serverflags</a> = 0;</div>
<div class="line"><span class="lineno"> 2422</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab9f43900691c7d789418735acff62d97">proquake_servermod</a> == 1)</div>
<div class="line"><span class="lineno"> 2423</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Connected to ProQuake %.1f server, enabling precise aim\n&quot;</span>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a5f8da03c95e4ad23d3fb7c77d250ba23">proquake_serverversion</a> / 10.0f);</div>
<div class="line"><span class="lineno"> 2424</span>                <span class="comment">// update the server IP in the userinfo (QW servers expect this, and it is used by the reconnect command)</span></div>
<div class="line"><span class="lineno"> 2425</span>                <a class="code hl_function" href="com__infostring_8c.html#a59c10d6bcf260c784463bd5dbe40cef8">InfoString_SetValue</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aee858ac573b8848bd3363384ebdc7a62">userinfo</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aee858ac573b8848bd3363384ebdc7a62">userinfo</a>), <span class="stringliteral">&quot;*ip&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2426</span>                <a class="code hl_function" href="netconn_8c.html#aed17b7b38b156a7fbe14814e666f92ce">NetConn_ConnectionEstablished</a>(mysocket, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientportaddress</a>, <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaa6bc88c8429e04ab2f7cc64f53ffe702">PROTOCOL_QUAKE</a>);</div>
<div class="line"><span class="lineno"> 2427</span>            }</div>
<div class="line"><span class="lineno"> 2428</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2429</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#a807c9a0842c896fd4dcf3f4e06fe6068">CCREP_REJECT</a>:</div>
<div class="line"><span class="lineno"> 2430</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ac3fec2efadcad43aac413b686920dfb1">connect_address</a>))</div>
<div class="line"><span class="lineno"> 2431</span>            {</div>
<div class="line"><span class="lineno"> 2432</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring CCREP_REJECT message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2433</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2434</span>            }</div>
<div class="line"><span class="lineno"> 2435</span>            <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2436</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>), <span class="stringliteral">&quot;Connect: rejected, %s&quot;</span>, <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>)));</div>
<div class="line"><span class="lineno"> 2437</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;Connect: rejected by %s\n%s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>)));</div>
<div class="line"><span class="lineno"> 2438</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2439</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#a06ea659d8515a7837b0d743942d5b2ca">CCREP_SERVER_INFO</a>:</div>
<div class="line"><span class="lineno"> 2440</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2441</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREP_SERVER_INFO from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2442</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 2443</span>            <span class="comment">// LadyHavoc: because the quake server may report weird addresses</span></div>
<div class="line"><span class="lineno"> 2444</span>            <span class="comment">// we just ignore it and keep the real address</span></div>
<div class="line"><span class="lineno"> 2445</span>            <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>));</div>
<div class="line"><span class="lineno"> 2446</span>            <span class="comment">// search the cache for this server and update it</span></div>
<div class="line"><span class="lineno"> 2447</span>            <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_ProcessReply</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2448</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 2449</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2450</span> </div>
<div class="line"><span class="lineno"> 2451</span>            info = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">serverlist_cache</a>[<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>].info;</div>
<div class="line"><span class="lineno"> 2452</span>            info-&gt;game_len = <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(info-&gt;game, <span class="stringliteral">&quot;Quake&quot;</span>, <span class="keyword">sizeof</span>(info-&gt;game));</div>
<div class="line"><span class="lineno"> 2453</span>            info-&gt;mod_len  = <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(info-&gt;mod, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">sizeof</span>(info-&gt;mod)); <span class="comment">// mod name is not specified</span></div>
<div class="line"><span class="lineno"> 2454</span>            info-&gt;name_len = <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(info-&gt;name, <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>)), <span class="keyword">sizeof</span>(info-&gt;name));</div>
<div class="line"><span class="lineno"> 2455</span>            info-&gt;map_len  = <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(info-&gt;map, <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>)), <span class="keyword">sizeof</span>(info-&gt;map));</div>
<div class="line"><span class="lineno"> 2456</span>            info-&gt;numplayers = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2457</span>            info-&gt;maxplayers = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2458</span>            info-&gt;protocol = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2459</span> </div>
<div class="line"><span class="lineno"> 2460</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_ClientParsePacket_ServerList_UpdateCache</a>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>);</div>
<div class="line"><span class="lineno"> 2461</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2462</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2463</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#acb3c0eab3fea68fb640acc8f8bb622b7">CCREP_RCON</a>: <span class="comment">// RocketGuy: ProQuake rcon support</span></div>
<div class="line"><span class="lineno"> 2464</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab7daece6a60ac1a5a1adbbfc2766e236">rcon_address</a>)) {</div>
<div class="line"><span class="lineno"> 2465</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;ignoring CCREP_RCON message from wrong server %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2466</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2467</span>            }</div>
<div class="line"><span class="lineno"> 2468</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2469</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREP_RCON from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2470</span> </div>
<div class="line"><span class="lineno"> 2471</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a>)));</div>
<div class="line"><span class="lineno"> 2472</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2473</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#a3bf085f22c8f4adbf3c06885f528ea82">CCREP_PLAYER_INFO</a>:</div>
<div class="line"><span class="lineno"> 2474</span>            <span class="comment">// we got a CCREP_PLAYER_INFO??</span></div>
<div class="line"><span class="lineno"> 2475</span>            <span class="comment">//if (developer_extra.integer)</span></div>
<div class="line"><span class="lineno"> 2476</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREP_PLAYER_INFO from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2477</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2478</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#aa34599ce347c884f29a05f2040fcab24">CCREP_RULE_INFO</a>:</div>
<div class="line"><span class="lineno"> 2479</span>            <span class="comment">// we got a CCREP_RULE_INFO??</span></div>
<div class="line"><span class="lineno"> 2480</span>            <span class="comment">//if (developer_extra.integer)</span></div>
<div class="line"><span class="lineno"> 2481</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREP_RULE_INFO from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 2482</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2483</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2484</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2485</span>        }</div>
<div class="line"><span class="lineno"> 2486</span>        <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 2487</span>        <span class="comment">// we may not have liked the packet, but it was a valid control</span></div>
<div class="line"><span class="lineno"> 2488</span>        <span class="comment">// packet, so we&#39;re done processing this packet now</span></div>
<div class="line"><span class="lineno"> 2489</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2490</span>    }</div>
<div class="line"><span class="lineno"> 2491</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = 0;</div>
<div class="line"><span class="lineno"> 2492</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fromserver</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= (<span class="keywordtype">int</span>)<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a> &amp;&amp; (<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="netconn_8c.html#a310bc9b48254f2c8e90138890a17b9be">NetConn_ReceivedMessage</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a>, <a class="code hl_variable" href="netconn_8c.html#a125fb9e97285613acc8bc55055808fa3">net_messagetimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)) == 2)</div>
<div class="line"><span class="lineno"> 2493</span>        <a class="code hl_function" href="cl__parse_8c.html#af1d8a76adc5b1769ff199859739e038a">CL_ParseServerMessage</a>();</div>
<div class="line"><span class="lineno"> 2494</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 2495</span>}</div>
<div class="ttc" id="acl__main_8c_html_a39cacf07bfe62e61f7c8de09d2013728"><div class="ttname"><a href="cl__main_8c.html#a39cacf07bfe62e61f7c8de09d2013728">qport</a></div><div class="ttdeci">cvar_t qport</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00090">cl_main.c:90</a></div></div>
<div class="ttc" id="acl__parse_8c_html_af1d8a76adc5b1769ff199859739e038a"><div class="ttname"><a href="cl__parse_8c.html#af1d8a76adc5b1769ff199859739e038a">CL_ParseServerMessage</a></div><div class="ttdeci">void CL_ParseServerMessage(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__parse_8c_source.html#l03434">cl_parse.c:3434</a></div></div>
<div class="ttc" id="aclient_8h_html_a084a5a94b5c54c502b53f4b0beb75cbd"><div class="ttname"><a href="client_8h.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a></div><div class="ttdeci">cvar_t rcon_password</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00093">console.c:93</a></div></div>
<div class="ttc" id="aclient_8h_html_afb0c1fcef061648f398ffe8a941c9ad9"><div class="ttname"><a href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a></div><div class="ttdeci">#define MAX_RCONS</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00620">client.h:620</a></div></div>
<div class="ttc" id="acom__infostring_8c_html_a59c10d6bcf260c784463bd5dbe40cef8"><div class="ttname"><a href="com__infostring_8c.html#a59c10d6bcf260c784463bd5dbe40cef8">InfoString_SetValue</a></div><div class="ttdeci">void InfoString_SetValue(char *buffer, size_t bufferlength, const char *key, const char *value)</div><div class="ttdef"><b>Definition</b> <a href="com__infostring_8c_source.html#l00074">com_infostring.c:74</a></div></div>
<div class="ttc" id="acom__infostring_8c_html_aa001d512a0f3228d202a4c8b47aa7984"><div class="ttname"><a href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a></div><div class="ttdeci">size_t InfoString_GetValue(const char *buffer, const char *key, char *value, size_t valuesize)</div><div class="ttdoc">Returns the number of bytes written to *value excluding the \0 terminator.</div><div class="ttdef"><b>Definition</b> <a href="com__infostring_8c_source.html#l00023">com_infostring.c:23</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a028e648d66793e5f7add2bfd801a3a07"><div class="ttname"><a href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a></div><div class="ttdeci">void MSG_BeginReading(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00257">com_msg.c:257</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a0d7f50d0022ab72061eeeb6cd7e60d58"><div class="ttname"><a href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a></div><div class="ttdeci">char * MSG_ReadString(sizebuf_t *sb, char *string, size_t maxstring)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00341">com_msg.c:341</a></div></div>
<div class="ttc" id="acom__msg_8c_html_acd30e83205c1a8193744237c44ad0f01"><div class="ttname"><a href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a></div><div class="ttdeci">int BuffBigLong(const unsigned char *buffer)</div><div class="ttdoc">Extract a big endian 32bit int from the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00049">com_msg.c:49</a></div></div>
<div class="ttc" id="acommon_8c_html_a9913aa4c9e2d0acfc38638235bbe31ca"><div class="ttname"><a href="common_8c.html#a9913aa4c9e2d0acfc38638235bbe31ca">Com_HexDumpToConsole</a></div><div class="ttdeci">void Com_HexDumpToConsole(const unsigned char *data, int size)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00082">common.c:82</a></div></div>
<div class="ttc" id="acommon_8c_html_add6a3bc72776ec150afac55558c52a3c"><div class="ttname"><a href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a></div><div class="ttdeci">void SZ_Write(sizebuf_t *buf, const unsigned char *data, int length)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00072">common.c:72</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197aca4a098631799104a6ba14455203f9bd57"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca4a098631799104a6ba14455203f9bd57">PROTOCOL_DARKPLACES3</a></div><div class="ttdeci">@ PROTOCOL_DARKPLACES3</div><div class="ttdoc">uses EntityFrame4 entity snapshot encoder/decoder which is broken, this attempted to do partial snaps...</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00139">common.h:139</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197acaa6bc88c8429e04ab2f7cc64f53ffe702"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaa6bc88c8429e04ab2f7cc64f53ffe702">PROTOCOL_QUAKE</a></div><div class="ttdeci">@ PROTOCOL_QUAKE</div><div class="ttdoc">quake (aka netquake/normalquake/nq) protocol</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00144">common.h:144</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b">PROTOCOL_QUAKEWORLD</a></div><div class="ttdeci">@ PROTOCOL_QUAKEWORLD</div><div class="ttdoc">quakeworld protocol</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00145">common.h:145</a></div></div>
<div class="ttc" id="acommon_8h_html_a4725ab15276a488e45a5b4fbea5efb2a"><div class="ttname"><a href="common_8h.html#a4725ab15276a488e45a5b4fbea5efb2a">MSG_ReadLong</a></div><div class="ttdeci">#define MSG_ReadLong</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00192">common.h:192</a></div></div>
<div class="ttc" id="acommon_8h_html_ae4d87498f0f9c299877ed57d9c47aede"><div class="ttname"><a href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a></div><div class="ttdeci">#define MSG_ReadByte(sb)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00188">common.h:188</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="aconsole_8h_html_a27b052ed2a962d8ec1b9e922d0813058"><div class="ttname"><a href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a></div><div class="ttdeci">#define CON_WARN</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00096">console.h:96</a></div></div>
<div class="ttc" id="acrypto_8c_html_a29b4969371415991b42f94cc5c82838a"><div class="ttname"><a href="crypto_8c.html#a29b4969371415991b42f94cc5c82838a">Crypto_ClientParsePacket</a></div><div class="ttdeci">int Crypto_ClientParsePacket(const char *data_in, size_t len_in, char *data_out, size_t *len_out, lhnetaddress_t *peeraddress, const char *peeraddressstring)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l02107">crypto.c:2107</a></div></div>
<div class="ttc" id="acrypto_8h_html_a1efd20cc345410a8f68978ece41aac10"><div class="ttname"><a href="crypto_8h.html#a1efd20cc345410a8f68978ece41aac10">CRYPTO_DISCARD</a></div><div class="ttdeci">#define CRYPTO_DISCARD</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00066">crypto.h:66</a></div></div>
<div class="ttc" id="acrypto_8h_html_a243fd02f64d57160121c22fabedaac9d"><div class="ttname"><a href="crypto_8h.html#a243fd02f64d57160121c22fabedaac9d">CRYPTO_HEADERSIZE</a></div><div class="ttdeci">#define CRYPTO_HEADERSIZE</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00034">crypto.h:34</a></div></div>
<div class="ttc" id="acrypto_8h_html_a4bd8c06f696b570063fbead2f98c7c2c"><div class="ttname"><a href="crypto_8h.html#a4bd8c06f696b570063fbead2f98c7c2c">CRYPTO_MATCH</a></div><div class="ttdeci">#define CRYPTO_MATCH</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00065">crypto.h:65</a></div></div>
<div class="ttc" id="acrypto_8h_html_a6d9f8e2afed02501c245a07309bd656c"><div class="ttname"><a href="crypto_8h.html#a6d9f8e2afed02501c245a07309bd656c">CRYPTO_REPLACE</a></div><div class="ttdeci">#define CRYPTO_REPLACE</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00067">crypto.h:67</a></div></div>
<div class="ttc" id="acrypto_8h_html_a8c7ff8f693d7a32873476640d01ecef3"><div class="ttname"><a href="crypto_8h.html#a8c7ff8f693d7a32873476640d01ecef3">CRYPTO_NOMATCH</a></div><div class="ttdeci">#define CRYPTO_NOMATCH</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00064">crypto.h:64</a></div></div>
<div class="ttc" id="acrypto_8h_html_ae8ba301eab3a8d66c5585d59d03229cc"><div class="ttname"><a href="crypto_8h.html#ae8ba301eab3a8d66c5585d59d03229cc">ENCRYPTION_REQUIRED</a></div><div class="ttdeci">#define ENCRYPTION_REQUIRED</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00030">crypto.h:30</a></div></div>
<div class="ttc" id="afractalnoise_8c_html_a86fdeed0593c5e3b95d1f2447350ca96"><div class="ttname"><a href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a></div><div class="ttdeci">#define n(x, y)</div></div>
<div class="ttc" id="aglquake_8h_html_a820662f5b80a48256e2503352e9f51b9"><div class="ttname"><a href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a></div><div class="ttdeci">GLsizeiptr const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00638">glquake.h:638</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac0759919bfcf4c7222738ba583673a9e"><div class="ttname"><a href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei const GLchar * buf</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="ahost_8c_html_a2d29d0100dc86ae96b813350bb2b6c32"><div class="ttname"><a href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a></div><div class="ttdeci">cvar_t developer_extra</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00049">host.c:49</a></div></div>
<div class="ttc" id="akeys_8c_html_acf4f352e2f3ec64ff93004bd5cd52ff0"><div class="ttname"><a href="keys_8c.html#acf4f352e2f3ec64ff93004bd5cd52ff0">key_dest</a></div><div class="ttdeci">keydest_t key_dest</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00037">keys.c:37</a></div></div>
<div class="ttc" id="akeys_8h_html_aadf1384626a83f4eb163aaa209c84972a4b4e7b1fca48696e3c7ff8c1d19eaf5d"><div class="ttname"><a href="keys_8h.html#aadf1384626a83f4eb163aaa209c84972a4b4e7b1fca48696e3c7ff8c1d19eaf5d">key_game</a></div><div class="ttdeci">@ key_game</div><div class="ttdef"><b>Definition</b> <a href="keys_8h_source.html#l00372">keys.h:372</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
<div class="ttc" id="anetconn_8c_html_a125fb9e97285613acc8bc55055808fa3"><div class="ttname"><a href="netconn_8c.html#a125fb9e97285613acc8bc55055808fa3">net_messagetimeout</a></div><div class="ttdeci">cvar_t net_messagetimeout</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00078">netconn.c:78</a></div></div>
<div class="ttc" id="anetconn_8c_html_a169546e0f83607f623204b6da71a3649"><div class="ttname"><a href="netconn_8c.html#a169546e0f83607f623204b6da71a3649">cl_net_extresponse_last</a></div><div class="ttdeci">unsigned cl_net_extresponse_last</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00158">netconn.c:158</a></div></div>
<div class="ttc" id="anetconn_8c_html_a310bc9b48254f2c8e90138890a17b9be"><div class="ttname"><a href="netconn_8c.html#a310bc9b48254f2c8e90138890a17b9be">NetConn_ReceivedMessage</a></div><div class="ttdeci">static int NetConn_ReceivedMessage(netconn_t *conn, const unsigned char *data, size_t length, protocolversion_t protocol, double newtimeout)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01321">netconn.c:1321</a></div></div>
<div class="ttc" id="anetconn_8c_html_a67fb4a844f29d652334404e3cc1702d6"><div class="ttname"><a href="netconn_8c.html#a67fb4a844f29d652334404e3cc1702d6">cl_readstring</a></div><div class="ttdeci">char cl_readstring[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00072">netconn.c:72</a></div></div>
<div class="ttc" id="anetconn_8c_html_a6ec6ab811f71ef2e66d3aa1710c0a095"><div class="ttname"><a href="netconn_8c.html#a6ec6ab811f71ef2e66d3aa1710c0a095">developer_networking</a></div><div class="ttdeci">cvar_t developer_networking</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00085">netconn.c:85</a></div></div>
<div class="ttc" id="anetconn_8c_html_a90295c0585be4dc5bfac2be3e973effb"><div class="ttname"><a href="netconn_8c.html#a90295c0585be4dc5bfac2be3e973effb">rcon_secure_challengetimeout</a></div><div class="ttdeci">cvar_t rcon_secure_challengetimeout</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00095">console.c:95</a></div></div>
<div class="ttc" id="anetconn_8c_html_a91e4d9fae519ad6062ba3f938b1101e5"><div class="ttname"><a href="netconn_8c.html#a91e4d9fae519ad6062ba3f938b1101e5">cl_net_extresponse_count</a></div><div class="ttdeci">unsigned cl_net_extresponse_count</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00157">netconn.c:157</a></div></div>
<div class="ttc" id="anetconn_8c_html_ac70f2e8d4e8c9ebb7d604e46b1c9c105"><div class="ttname"><a href="netconn_8c.html#ac70f2e8d4e8c9ebb7d604e46b1c9c105">cl_net_extresponse</a></div><div class="ttdeci">char cl_net_extresponse[NET_EXTRESPONSE_MAX][1400]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00156">netconn.c:156</a></div></div>
<div class="ttc" id="anetconn_8c_html_ae5918471d5570f5ecf0da17ecf0a253b"><div class="ttname"><a href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a></div><div class="ttdeci">cvar_t net_sourceaddresscheck</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00083">netconn.c:83</a></div></div>
<div class="ttc" id="anetconn_8c_html_aed17b7b38b156a7fbe14814e666f92ce"><div class="ttname"><a href="netconn_8c.html#aed17b7b38b156a7fbe14814e666f92ce">NetConn_ConnectionEstablished</a></div><div class="ttdeci">static void NetConn_ConnectionEstablished(lhnetsocket_t *mysocket, lhnetaddress_t *peeraddress, protocolversion_t initialprotocol)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01631">netconn.c:1631</a></div></div>
<div class="ttc" id="anetconn_8h_html_a06ea659d8515a7837b0d743942d5b2ca"><div class="ttname"><a href="netconn_8h.html#a06ea659d8515a7837b0d743942d5b2ca">CCREP_SERVER_INFO</a></div><div class="ttdeci">#define CCREP_SERVER_INFO</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00127">netconn.h:127</a></div></div>
<div class="ttc" id="anetconn_8h_html_a23b9445b56c44dee6f9fe2e68a8c86a1"><div class="ttname"><a href="netconn_8h.html#a23b9445b56c44dee6f9fe2e68a8c86a1">CCREP_ACCEPT</a></div><div class="ttdeci">#define CCREP_ACCEPT</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00125">netconn.h:125</a></div></div>
<div class="ttc" id="anetconn_8h_html_a3bf085f22c8f4adbf3c06885f528ea82"><div class="ttname"><a href="netconn_8h.html#a3bf085f22c8f4adbf3c06885f528ea82">CCREP_PLAYER_INFO</a></div><div class="ttdeci">#define CCREP_PLAYER_INFO</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00128">netconn.h:128</a></div></div>
<div class="ttc" id="anetconn_8h_html_a572608a0ab6383b3d29d4a8ec772cc1e"><div class="ttname"><a href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a></div><div class="ttdeci">#define NET_EXTRESPONSE_MAX</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00048">netconn.h:48</a></div></div>
<div class="ttc" id="anetconn_8h_html_a807c9a0842c896fd4dcf3f4e06fe6068"><div class="ttname"><a href="netconn_8h.html#a807c9a0842c896fd4dcf3f4e06fe6068">CCREP_REJECT</a></div><div class="ttdeci">#define CCREP_REJECT</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00126">netconn.h:126</a></div></div>
<div class="ttc" id="anetconn_8h_html_aa34599ce347c884f29a05f2040fcab24"><div class="ttname"><a href="netconn_8h.html#aa34599ce347c884f29a05f2040fcab24">CCREP_RULE_INFO</a></div><div class="ttdeci">#define CCREP_RULE_INFO</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00129">netconn.h:129</a></div></div>
<div class="ttc" id="anetconn_8h_html_acb3c0eab3fea68fb640acc8f8bb622b7"><div class="ttname"><a href="netconn_8h.html#acb3c0eab3fea68fb640acc8f8bb622b7">CCREP_RCON</a></div><div class="ttdeci">#define CCREP_RCON</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00130">netconn.h:130</a></div></div>
<div class="ttc" id="aprotocol_8c_html_abc64828b2a18962419cd8db6649b5b84"><div class="ttname"><a href="protocol_8c.html#abc64828b2a18962419cd8db6649b5b84">Protocol_Names</a></div><div class="ttdeci">void Protocol_Names(char *buffer, size_t buffersize)</div><div class="ttdef"><b>Definition</b> <a href="protocol_8c_source.html#l00104">protocol.c:104</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a119f8457078d7390fb45ea0838adb806"><div class="ttname"><a href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a></div><div class="ttdeci">#define MAX_INPUTLINE</div><div class="ttdoc">maximum size of console commandline, QuakeC strings, and many other text processing buffers</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00094">qdefs.h:94</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a4c22acbf16a53278b3e8f79c96b43f41"><div class="ttname"><a href="qdefs_8h.html#a4c22acbf16a53278b3e8f79c96b43f41">SERVERLIST_TOTALSIZE</a></div><div class="ttdeci">#define SERVERLIST_TOTALSIZE</div><div class="ttdoc">max servers in the server list</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00160">qdefs.h:160</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a339672ff94e6199019102f50d317c3d7"><div class="ttname"><a href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a></div><div class="ttdeci">return ret</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00297">shader_glsl.h:297</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a06392a35cbd07d60ea82122f2d1842d8"><div class="ttname"><a href="structclient__static__t.html#a06392a35cbd07d60ea82122f2d1842d8">client_static_t::rcon_trying</a></div><div class="ttdeci">int rcon_trying</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00621">client.h:621</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a10de2291f6a17e50ac3446d86124e60b"><div class="ttname"><a href="structclient__static__t.html#a10de2291f6a17e50ac3446d86124e60b">client_static_t::connect_userinfo</a></div><div class="ttdeci">char connect_userinfo[MAX_USERINFO_STRING]</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00673">client.h:673</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a2baaa344e72b625eacc8e5b94a0cd0fc"><div class="ttname"><a href="structclient__static__t.html#a2baaa344e72b625eacc8e5b94a0cd0fc">client_static_t::qw_qport</a></div><div class="ttdeci">int qw_qport</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00643">client.h:643</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a5604be2bc9df2e89b53b0cd263ad5019"><div class="ttname"><a href="structclient__static__t.html#a5604be2bc9df2e89b53b0cd263ad5019">client_static_t::proquake_serverflags</a></div><div class="ttdeci">int proquake_serverflags</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00686">client.h:686</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a5f8da03c95e4ad23d3fb7c77d250ba23"><div class="ttname"><a href="structclient__static__t.html#a5f8da03c95e4ad23d3fb7c77d250ba23">client_static_t::proquake_serverversion</a></div><div class="ttdeci">int proquake_serverversion</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00685">client.h:685</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a6f544c2a21ea11caf51ab5c32f32ee6d"><div class="ttname"><a href="structclient__static__t.html#a6f544c2a21ea11caf51ab5c32f32ee6d">client_static_t::rcon_addresses</a></div><div class="ttdeci">lhnetaddress_t rcon_addresses[MAX_RCONS]</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00622">client.h:622</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a8a969600e405dd3490653661c62af39b"><div class="ttname"><a href="structclient__static__t.html#a8a969600e405dd3490653661c62af39b">client_static_t::rcon_timeout</a></div><div class="ttdeci">double rcon_timeout[MAX_RCONS]</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00624">client.h:624</a></div></div>
<div class="ttc" id="astructclient__static__t_html_aa4259a5cb007c414a079fb68f997365b"><div class="ttname"><a href="structclient__static__t.html#aa4259a5cb007c414a079fb68f997365b">client_static_t::rcon_ringpos</a></div><div class="ttdeci">int rcon_ringpos</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00625">client.h:625</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ab7daece6a60ac1a5a1adbbfc2766e236"><div class="ttname"><a href="structclient__static__t.html#ab7daece6a60ac1a5a1adbbfc2766e236">client_static_t::rcon_address</a></div><div class="ttdeci">lhnetaddress_t rcon_address</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00615">client.h:615</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ab9f43900691c7d789418735acff62d97"><div class="ttname"><a href="structclient__static__t.html#ab9f43900691c7d789418735acff62d97">client_static_t::proquake_servermod</a></div><div class="ttdeci">int proquake_servermod</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00684">client.h:684</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ade3e66378f41e8707ca50d9b81a10ec5"><div class="ttname"><a href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">client_static_t::rcon_commands</a></div><div class="ttdeci">char rcon_commands[MAX_RCONS][MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00623">client.h:623</a></div></div>
<div class="ttc" id="astructclient__static__t_html_ae20af73b9f88637a026c94f94b474d97"><div class="ttname"><a href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">client_static_t::protocol</a></div><div class="ttdeci">protocolversion_t protocol</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00618">client.h:618</a></div></div>
<div class="ttc" id="astructclient__static__t_html_aee858ac573b8848bd3363384ebdc7a62"><div class="ttname"><a href="structclient__static__t.html#aee858ac573b8848bd3363384ebdc7a62">client_static_t::userinfo</a></div><div class="ttdeci">char userinfo[MAX_USERINFO_STRING]</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00670">client.h:670</a></div></div>
<div class="ttc" id="astructcvar__t_html_a305faa0167494135297f1b8e6216d469"><div class="ttname"><a href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">cvar_t::value</a></div><div class="ttdeci">float value</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00074">cvar.h:74</a></div></div>
<div class="ttc" id="astructcvar__t_html_aa8b859b9332810d238c09b51ea54a2f4"><div class="ttname"><a href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">cvar_t::string</a></div><div class="ttdeci">const char * string</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00071">cvar.h:71</a></div></div>
<div class="ttc" id="astructnetconn__t_html_a43176a4dac989af6e48ebba399aac70a"><div class="ttname"><a href="structnetconn__t.html#a43176a4dac989af6e48ebba399aac70a">netconn_t::peeraddress</a></div><div class="ttdeci">lhnetaddress_t peeraddress</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00147">netconn.h:147</a></div></div>
<div class="ttc" id="astructnetconn__t_html_a570f43ecac2f577e6a99b534b55d7601"><div class="ttname"><a href="structnetconn__t.html#a570f43ecac2f577e6a99b534b55d7601">netconn_t::mysocket</a></div><div class="ttdeci">lhnetsocket_t * mysocket</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00146">netconn.h:146</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02623">NetConn_ClientFrame()</a>.</p>

</div>
</div>
<a id="aa543aba7ca1ffbbba8cbf13d6e72e15d" name="aa543aba7ca1ffbbba8cbf13d6e72e15d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa543aba7ca1ffbbba8cbf13d6e72e15d">&#9670;&#160;</a></span>NetConn_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetconn__t.html">netconn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01230">1230</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1231</span>{</div>
<div class="line"><span class="lineno"> 1232</span>    <a class="code hl_struct" href="structnetconn__t.html">netconn_t</a> *c;</div>
<div class="line"><span class="lineno"> 1233</span>    <span class="comment">// remove connection from list</span></div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>    <span class="comment">// allow the client to reconnect immediately</span></div>
<div class="line"><span class="lineno"> 1236</span>    <a class="code hl_function" href="netconn_8c.html#ad85ee4f9050e60359de47888459a412a">NetConn_ClearFlood</a>(&amp;(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress), <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>[0]));</div>
<div class="line"><span class="lineno"> 1237</span> </div>
<div class="line"><span class="lineno"> 1238</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> == <a class="code hl_variable" href="netconn_8c.html#aed065cfe97fc587dcfd40a5d08794cf3">netconn_list</a>)</div>
<div class="line"><span class="lineno"> 1239</span>        <a class="code hl_variable" href="netconn_8c.html#aed065cfe97fc587dcfd40a5d08794cf3">netconn_list</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a80f468a8a31ca012bcaafd386571cf04">next</a>;</div>
<div class="line"><span class="lineno"> 1240</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1241</span>    {</div>
<div class="line"><span class="lineno"> 1242</span>        <span class="keywordflow">for</span> (c = <a class="code hl_variable" href="netconn_8c.html#aed065cfe97fc587dcfd40a5d08794cf3">netconn_list</a>;c;c = c-&gt;<a class="code hl_variable" href="structnetconn__t.html#a80f468a8a31ca012bcaafd386571cf04">next</a>)</div>
<div class="line"><span class="lineno"> 1243</span>        {</div>
<div class="line"><span class="lineno"> 1244</span>            <span class="keywordflow">if</span> (c-&gt;<a class="code hl_variable" href="structnetconn__t.html#a80f468a8a31ca012bcaafd386571cf04">next</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>)</div>
<div class="line"><span class="lineno"> 1245</span>            {</div>
<div class="line"><span class="lineno"> 1246</span>                c-&gt;<a class="code hl_variable" href="structnetconn__t.html#a80f468a8a31ca012bcaafd386571cf04">next</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;next;</div>
<div class="line"><span class="lineno"> 1247</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1248</span>            }</div>
<div class="line"><span class="lineno"> 1249</span>        }</div>
<div class="line"><span class="lineno"> 1250</span>        <span class="comment">// not found in list, we&#39;ll avoid crashing here...</span></div>
<div class="line"><span class="lineno"> 1251</span>        <span class="keywordflow">if</span> (!c)</div>
<div class="line"><span class="lineno"> 1252</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1253</span>    }</div>
<div class="line"><span class="lineno"> 1254</span>    <span class="comment">// free connection</span></div>
<div class="line"><span class="lineno"> 1255</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>);</div>
<div class="line"><span class="lineno"> 1256</span>}</div>
<div class="ttc" id="anetconn_8c_html_ad85ee4f9050e60359de47888459a412a"><div class="ttname"><a href="netconn_8c.html#ad85ee4f9050e60359de47888459a412a">NetConn_ClearFlood</a></div><div class="ttdeci">void NetConn_ClearFlood(lhnetaddress_t *peeraddress, server_floodaddress_t *floodlist, size_t floodlength)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l02915">netconn.c:2915</a></div></div>
<div class="ttc" id="astructserver__t_html_a6620bfca714e8b96dd3d9e5afea639d7"><div class="ttname"><a href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">server_t::connectfloodaddresses</a></div><div class="ttdeci">server_floodaddress_t connectfloodaddresses[MAX_CONNECTFLOODADDRESSES]</div><div class="ttdoc">connection flood blocking note this is in server_t rather than server_static_t so that it is reset on...</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00140">server.h:140</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l00370">CL_DisconnectEx()</a>, and <a class="el" href="sv__main_8c_source.html#l01008">SV_DropClient()</a>.</p>

</div>
</div>
<a id="af5d11f57224f1128c514d5352c9d237d" name="af5d11f57224f1128c514d5352c9d237d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d11f57224f1128c514d5352c9d237d">&#9670;&#160;</a></span>NetConn_CloseClientPorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_CloseClientPorts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01052">1052</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1053</span>{</div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keywordflow">for</span> (;<a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a> &gt; 0;<a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a>--)</div>
<div class="line"><span class="lineno"> 1055</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a> - 1])</div>
<div class="line"><span class="lineno"> 1056</span>            <a class="code hl_function" href="lhnet_8c.html#a34257a8adab6a1b5e37ca4da181bf7bd">LHNET_CloseSocket</a>(<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a> - 1]);</div>
<div class="line"><span class="lineno"> 1057</span>}</div>
<div class="ttc" id="alhnet_8c_html_a34257a8adab6a1b5e37ca4da181bf7bd"><div class="ttname"><a href="lhnet_8c.html#a34257a8adab6a1b5e37ca4da181bf7bd">LHNET_CloseSocket</a></div><div class="ttdeci">void LHNET_CloseSocket(lhnetsocket_t *lhnetsocket)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l01012">lhnet.c:1012</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01262">NetConn_CL_UpdateSockets_Callback()</a>, <a class="el" href="netconn_8c_source.html#l01088">NetConn_OpenClientPorts()</a>, and <a class="el" href="netconn_8c_source.html#l04145">NetConn_Shutdown()</a>.</p>

</div>
</div>
<a id="ad45b0918fbf9513a47eaf51b27b1c6de" name="ad45b0918fbf9513a47eaf51b27b1c6de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad45b0918fbf9513a47eaf51b27b1c6de">&#9670;&#160;</a></span>NetConn_CloseServerPorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_CloseServerPorts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01111">1111</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1112</span>{</div>
<div class="line"><span class="lineno"> 1113</span>    <span class="keywordflow">for</span> (;<a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a> &gt; 0;<a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a>--)</div>
<div class="line"><span class="lineno"> 1114</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a> - 1])</div>
<div class="line"><span class="lineno"> 1115</span>            <a class="code hl_function" href="lhnet_8c.html#a34257a8adab6a1b5e37ca4da181bf7bd">LHNET_CloseSocket</a>(<a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a> - 1]);</div>
<div class="line"><span class="lineno"> 1116</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l00430">Log_DestBuffer_Flush_NoLock()</a>, <a class="el" href="netconn_8c_source.html#l01158">NetConn_OpenServerPorts()</a>, <a class="el" href="netconn_8c_source.html#l04145">NetConn_Shutdown()</a>, and <a class="el" href="sv__main_8c_source.html#l02125">SV_Shutdown()</a>.</p>

</div>
</div>
<a id="aed17b7b38b156a7fbe14814e666f92ce" name="aed17b7b38b156a7fbe14814e666f92ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed17b7b38b156a7fbe14814e666f92ce">&#9670;&#160;</a></span>NetConn_ConnectionEstablished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_ConnectionEstablished </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td>
          <td class="paramname"><em>mysocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#a366ae823bcda0303072d32ce8bf197ac">protocolversion_t</a>&#160;</td>
          <td class="paramname"><em>initialprotocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01631">1631</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1632</span>{</div>
<div class="line"><span class="lineno"> 1633</span>    <a class="code hl_struct" href="structcrypto__t.html">crypto_t</a> *crypto;</div>
<div class="line"><span class="lineno"> 1634</span> </div>
<div class="line"><span class="lineno"> 1635</span>    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2918ef8b215b79e8f7067feb116eb6b4">connect_trying</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1636</span>    <span class="comment">// Disconnect from the current server or stop demo playback</span></div>
<div class="line"><span class="lineno"> 1637</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19">ca_connected</a> || <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">demoplayback</a>)</div>
<div class="line"><span class="lineno"> 1638</span>        <a class="code hl_function" href="cl__main_8c.html#ac60fa6234ccc6c540d448a7608d36d8a">CL_Disconnect</a>();</div>
<div class="line"><span class="lineno"> 1639</span>    <span class="comment">// allocate a net connection to keep track of things</span></div>
<div class="line"><span class="lineno"> 1640</span>    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a> = <a class="code hl_function" href="netconn_8c.html#a088b84e6c4e611e0f137efeabef830ad">NetConn_Open</a>(mysocket, peeraddress);</div>
<div class="line"><span class="lineno"> 1641</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, <span class="stringliteral">&quot;Connection established&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>));</div>
<div class="line"><span class="lineno"> 1642</span>    crypto = &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#af26f31cdabdc2a6ec7bf8470f8e28267">crypto</a>;</div>
<div class="line"><span class="lineno"> 1643</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6b1b21c226c99c9d1e972dc080ee1855">crypto</a>.<a class="code hl_variable" href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">authenticated</a>)</div>
<div class="line"><span class="lineno"> 1644</span>    {</div>
<div class="line"><span class="lineno"> 1645</span>        <a class="code hl_function" href="crypto_8c.html#af5609d4a90ca33175311e3fceec6ff6d">Crypto_FinishInstance</a>(crypto, &amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6b1b21c226c99c9d1e972dc080ee1855">crypto</a>);</div>
<div class="line"><span class="lineno"> 1646</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s connection to %s has been established: server is %s@%s%.*s, I am %.*s@%s%.*s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1647</span>                crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#affa2d958b3f1849e55ab9fd6a5f5c1b7">use_aes</a> ? <span class="stringliteral">&quot;Encrypted&quot;</span> : <span class="stringliteral">&quot;Authenticated&quot;</span>,</div>
<div class="line"><span class="lineno"> 1648</span>                <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.netcon-&gt;address,</div>
<div class="line"><span class="lineno"> 1649</span>                crypto-&gt;server_idfp[0] ? crypto-&gt;server_idfp : <span class="stringliteral">&quot;-&quot;</span>,</div>
<div class="line"><span class="lineno"> 1650</span>                (crypto-&gt;server_issigned || !crypto-&gt;server_keyfp[0]) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;~&quot;</span>,</div>
<div class="line"><span class="lineno"> 1651</span>                <a class="code hl_variable" href="crypto_8c.html#a28bce26dd18684379882653e173b0188">crypto_keyfp_recommended_length</a>, crypto-&gt;server_keyfp[0] ? crypto-&gt;server_keyfp : <span class="stringliteral">&quot;-&quot;</span>,</div>
<div class="line"><span class="lineno"> 1652</span>                <a class="code hl_variable" href="crypto_8c.html#a28bce26dd18684379882653e173b0188">crypto_keyfp_recommended_length</a>, crypto-&gt;client_idfp[0] ? crypto-&gt;client_idfp : <span class="stringliteral">&quot;-&quot;</span>,</div>
<div class="line"><span class="lineno"> 1653</span>                (crypto-&gt;client_issigned || !crypto-&gt;client_keyfp[0]) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;~&quot;</span>,</div>
<div class="line"><span class="lineno"> 1654</span>                <a class="code hl_variable" href="crypto_8c.html#a28bce26dd18684379882653e173b0188">crypto_keyfp_recommended_length</a>, crypto-&gt;client_keyfp[0] ? crypto-&gt;client_keyfp : <span class="stringliteral">&quot;-&quot;</span></div>
<div class="line"><span class="lineno"> 1655</span>                );</div>
<div class="line"><span class="lineno"> 1656</span>    }</div>
<div class="line"><span class="lineno"> 1657</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1658</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s to %s\n&quot;</span>, <a class="code hl_variable" href="cl__screen_8c.html#addeaa198ec46ae25fb27f123ec31a809">cl_connect_status</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#ae27f868a4b85de88ac0cdc2c44566aec">address</a>);</div>
<div class="line"><span class="lineno"> 1659</span> </div>
<div class="line"><span class="lineno"> 1660</span>    <a class="code hl_variable" href="keys_8c.html#acf4f352e2f3ec64ff93004bd5cd52ff0">key_dest</a> = <a class="code hl_enumvalue" href="keys_8h.html#aadf1384626a83f4eb163aaa209c84972a4b4e7b1fca48696e3c7ff8c1d19eaf5d">key_game</a>;</div>
<div class="line"><span class="lineno"> 1661</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 1662</span>    <a class="code hl_variable" href="menu_8c.html#a351584c1231b1e3479c2b4e3db43bbb1">m_state</a> = <a class="code hl_enumvalue" href="menu_8h.html#abe1d07b064ff99860b1ba4e41d7b79a0ae5bfbfcbbc756734d21763440744dc72">m_none</a>;</div>
<div class="line"><span class="lineno"> 1663</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1664</span>    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a63d6279dcddd073e17a9ed918562c406">demonum</a> = -1;           <span class="comment">// not in the demo loop now</span></div>
<div class="line"><span class="lineno"> 1665</span>    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> = <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19">ca_connected</a>;</div>
<div class="line"><span class="lineno"> 1666</span>    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aaedd9728c37a7752d65845e4d721a264">signon</a> = 0;             <span class="comment">// need all the signon messages before playing</span></div>
<div class="line"><span class="lineno"> 1667</span>    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">initialprotocol</a>;</div>
<div class="line"><span class="lineno"> 1668</span>    <span class="comment">// reset move sequence numbering on this new connection</span></div>
<div class="line"><span class="lineno"> 1669</span>    <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a090f493d4eed3369ef16181abafbdb08">servermovesequence</a> = 0;</div>
<div class="line"><span class="lineno"> 1670</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b">PROTOCOL_QUAKEWORLD</a>)</div>
<div class="line"><span class="lineno"> 1671</span>        <a class="code hl_function" href="cl__cmd_8c.html#acdf279939cd5cee4b9b31a4182ff4308">CL_ForwardToServer</a>(<span class="stringliteral">&quot;new&quot;</span>);</div>
<div class="line"><span class="lineno"> 1672</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaa6bc88c8429e04ab2f7cc64f53ffe702">PROTOCOL_QUAKE</a>)</div>
<div class="line"><span class="lineno"> 1673</span>    {</div>
<div class="line"><span class="lineno"> 1674</span>        <span class="comment">// write a keepalive (clc_nop) as it seems to greatly improve the</span></div>
<div class="line"><span class="lineno"> 1675</span>        <span class="comment">// chances of connecting to a netquake server</span></div>
<div class="line"><span class="lineno"> 1676</span>        <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> msg;</div>
<div class="line"><span class="lineno"> 1677</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[4];</div>
<div class="line"><span class="lineno"> 1678</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;msg, 0, <span class="keyword">sizeof</span>(msg));</div>
<div class="line"><span class="lineno"> 1679</span>        msg.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a> = <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno"> 1680</span>        msg.<a class="code hl_variable" href="structsizebuf__t.html#aef6c850a196baba1f237ce0b6fc0f3a8">maxsize</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 1681</span>        <a class="code hl_function" href="com__msg_8c.html#ac6e426b0172856ed312ba223726b33bd">MSG_WriteChar</a>(&amp;msg, <a class="code hl_define" href="protocol_8h.html#a2e6153b0a7ab1bb944d7930c744e98fa">clc_nop</a>);</div>
<div class="line"><span class="lineno"> 1682</span>        <a class="code hl_function" href="netconn_8c.html#ad4c9a97d25973921b0c00170be244bda">NetConn_SendUnreliableMessage</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>, &amp;msg, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a>, 10000, 0, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1683</span>    }</div>
<div class="line"><span class="lineno"> 1684</span>}</div>
<div class="ttc" id="acl__cmd_8c_html_acdf279939cd5cee4b9b31a4182ff4308"><div class="ttname"><a href="cl__cmd_8c.html#acdf279939cd5cee4b9b31a4182ff4308">CL_ForwardToServer</a></div><div class="ttdeci">void CL_ForwardToServer(const char *s)</div><div class="ttdoc">adds the string as a clc_stringcmd to the client message.</div><div class="ttdef"><b>Definition</b> <a href="cl__cmd_8c_source.html#l00054">cl_cmd.c:54</a></div></div>
<div class="ttc" id="acl__main_8c_html_ac60fa6234ccc6c540d448a7608d36d8a"><div class="ttname"><a href="cl__main_8c.html#ac60fa6234ccc6c540d448a7608d36d8a">CL_Disconnect</a></div><div class="ttdeci">void CL_Disconnect(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00478">cl_main.c:478</a></div></div>
<div class="ttc" id="acom__msg_8c_html_ac6e426b0172856ed312ba223726b33bd"><div class="ttname"><a href="com__msg_8c.html#ac6e426b0172856ed312ba223726b33bd">MSG_WriteChar</a></div><div class="ttdeci">void MSG_WriteChar(sizebuf_t *sb, int c)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00122">com_msg.c:122</a></div></div>
<div class="ttc" id="acrypto_8c_html_a28bce26dd18684379882653e173b0188"><div class="ttname"><a href="crypto_8c.html#a28bce26dd18684379882653e173b0188">crypto_keyfp_recommended_length</a></div><div class="ttdeci">int crypto_keyfp_recommended_length</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l00041">crypto.c:41</a></div></div>
<div class="ttc" id="acrypto_8c_html_af5609d4a90ca33175311e3fceec6ff6d"><div class="ttname"><a href="crypto_8c.html#af5609d4a90ca33175311e3fceec6ff6d">Crypto_FinishInstance</a></div><div class="ttdeci">qbool Crypto_FinishInstance(crypto_t *out, crypto_t *crypto)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l00558">crypto.c:558</a></div></div>
<div class="ttc" id="amenu_8c_html_a351584c1231b1e3479c2b4e3db43bbb1"><div class="ttname"><a href="menu_8c.html#a351584c1231b1e3479c2b4e3db43bbb1">m_state</a></div><div class="ttdeci">enum m_state_e m_state</div><div class="ttdef"><b>Definition</b> <a href="menu_8c_source.html#l00036">menu.c:36</a></div></div>
<div class="ttc" id="amenu_8h_html_abe1d07b064ff99860b1ba4e41d7b79a0ae5bfbfcbbc756734d21763440744dc72"><div class="ttname"><a href="menu_8h.html#abe1d07b064ff99860b1ba4e41d7b79a0ae5bfbfcbbc756734d21763440744dc72">m_none</a></div><div class="ttdeci">@ m_none</div><div class="ttdef"><b>Definition</b> <a href="menu_8h_source.html#l00028">menu.h:28</a></div></div>
<div class="ttc" id="anetconn_8c_html_a088b84e6c4e611e0f137efeabef830ad"><div class="ttname"><a href="netconn_8c.html#a088b84e6c4e611e0f137efeabef830ad">NetConn_Open</a></div><div class="ttdeci">netconn_t * NetConn_Open(lhnetsocket_t *mysocket, lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01210">netconn.c:1210</a></div></div>
<div class="ttc" id="anetconn_8c_html_ad4c9a97d25973921b0c00170be244bda"><div class="ttname"><a href="netconn_8c.html#ad4c9a97d25973921b0c00170be244bda">NetConn_SendUnreliableMessage</a></div><div class="ttdeci">int NetConn_SendUnreliableMessage(netconn_t *conn, sizebuf_t *data, protocolversion_t protocol, int rate, int burstsize, qbool quakesignon_suppressreliables)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00834">netconn.c:834</a></div></div>
<div class="ttc" id="aprotocol_8h_html_a2e6153b0a7ab1bb944d7930c744e98fa"><div class="ttname"><a href="protocol_8h.html#a2e6153b0a7ab1bb944d7930c744e98fa">clc_nop</a></div><div class="ttdeci">#define clc_nop</div><div class="ttdef"><b>Definition</b> <a href="protocol_8h_source.html#l00288">protocol.h:288</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a090f493d4eed3369ef16181abafbdb08"><div class="ttname"><a href="structclient__static__t.html#a090f493d4eed3369ef16181abafbdb08">client_static_t::servermovesequence</a></div><div class="ttdeci">unsigned int servermovesequence</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00638">client.h:638</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a10140c26db835d333d65d68b530a6ddb"><div class="ttname"><a href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">client_static_t::demoplayback</a></div><div class="ttdeci">qbool demoplayback</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00588">client.h:588</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a63d6279dcddd073e17a9ed918562c406"><div class="ttname"><a href="structclient__static__t.html#a63d6279dcddd073e17a9ed918562c406">client_static_t::demonum</a></div><div class="ttdeci">int demonum</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00577">client.h:577</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a6b1b21c226c99c9d1e972dc080ee1855"><div class="ttname"><a href="structclient__static__t.html#a6b1b21c226c99c9d1e972dc080ee1855">client_static_t::crypto</a></div><div class="ttdeci">crypto_t crypto</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00681">client.h:681</a></div></div>
<div class="ttc" id="astructclient__static__t_html_aaedd9728c37a7752d65845e4d721a264"><div class="ttname"><a href="structclient__static__t.html#aaedd9728c37a7752d65845e4d721a264">client_static_t::signon</a></div><div class="ttdeci">int signon</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00629">client.h:629</a></div></div>
<div class="ttc" id="astructcrypto__t_html"><div class="ttname"><a href="structcrypto__t.html">crypto_t</a></div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00041">crypto.h:42</a></div></div>
<div class="ttc" id="astructcrypto__t_html_affa2d958b3f1849e55ab9fd6a5f5c1b7"><div class="ttname"><a href="structcrypto__t.html#affa2d958b3f1849e55ab9fd6a5f5c1b7">crypto_t::use_aes</a></div><div class="ttdeci">qbool use_aes</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00051">crypto.h:51</a></div></div>
<div class="ttc" id="astructnetconn__t_html_ae27f868a4b85de88ac0cdc2c44566aec"><div class="ttname"><a href="structnetconn__t.html#ae27f868a4b85de88ac0cdc2c44566aec">netconn_t::address</a></div><div class="ttdeci">char address[128]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00231">netconn.h:231</a></div></div>
<div class="ttc" id="astructnetconn__t_html_af26f31cdabdc2a6ec7bf8470f8e28267"><div class="ttname"><a href="structnetconn__t.html#af26f31cdabdc2a6ec7bf8470f8e28267">netconn_t::crypto</a></div><div class="ttdeci">crypto_t crypto</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00232">netconn.h:232</a></div></div>
<div class="ttc" id="astructsizebuf__t_html"><div class="ttname"><a href="structsizebuf__t.html">sizebuf_t</a></div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00048">common.h:49</a></div></div>
<div class="ttc" id="astructsizebuf__t_html_aef6c850a196baba1f237ce0b6fc0f3a8"><div class="ttname"><a href="structsizebuf__t.html#aef6c850a196baba1f237ce0b6fc0f3a8">sizebuf_t::maxsize</a></div><div class="ttdeci">int maxsize</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00053">common.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>.</p>

</div>
</div>
<a id="aa53835dcfee384f2ae5dfb8dae2054ce" name="aa53835dcfee384f2ae5dfb8dae2054ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa53835dcfee384f2ae5dfb8dae2054ce">&#9670;&#160;</a></span>NetConn_HaveClientPorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> NetConn_HaveClientPorts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01042">1042</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1043</span>{</div>
<div class="line"><span class="lineno"> 1044</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a>;</div>
<div class="line"><span class="lineno"> 1045</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l00430">Log_DestBuffer_Flush_NoLock()</a>.</p>

</div>
</div>
<a id="a6e8283a1941210dbd930b075f06f47be" name="a6e8283a1941210dbd930b075f06f47be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e8283a1941210dbd930b075f06f47be">&#9670;&#160;</a></span>NetConn_HaveServerPorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> NetConn_HaveServerPorts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01047">1047</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1048</span>{</div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a>;</div>
<div class="line"><span class="lineno"> 1050</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l00430">Log_DestBuffer_Flush_NoLock()</a>.</p>

</div>
</div>
<a id="a11ab4eebd8e0190aba511cb3ec8970af" name="a11ab4eebd8e0190aba511cb3ec8970af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ab4eebd8e0190aba511cb3ec8970af">&#9670;&#160;</a></span>NetConn_Heartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_Heartbeat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>priority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l03929">3929</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3930</span>{</div>
<div class="line"><span class="lineno"> 3931</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masteraddress</a>;</div>
<div class="line"><span class="lineno"> 3932</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uint8_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masternum</a>;</div>
<div class="line"><span class="lineno"> 3933</span>    <a class="code hl_struct" href="structlhnetsocket__t.html">lhnetsocket_t</a> *mysocket;</div>
<div class="line"><span class="lineno"> 3934</span> </div>
<div class="line"><span class="lineno"> 3935</span>    <span class="comment">// if it&#39;s a state change (client connected), limit next heartbeat to no</span></div>
<div class="line"><span class="lineno"> 3936</span>    <span class="comment">// more than 30 sec in the future</span></div>
<div class="line"><span class="lineno"> 3937</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">priority</a> == 1 &amp;&amp; <a class="code hl_variable" href="netconn_8c.html#a20c7d69528561622c8d1af82deb11be7">nextheartbeattime</a> &gt; <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + 30.0)</div>
<div class="line"><span class="lineno"> 3938</span>        <a class="code hl_variable" href="netconn_8c.html#a20c7d69528561622c8d1af82deb11be7">nextheartbeattime</a> = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + 30.0;</div>
<div class="line"><span class="lineno"> 3939</span> </div>
<div class="line"><span class="lineno"> 3940</span>    <span class="comment">// limit heartbeatperiod to 30 to 270 second range,</span></div>
<div class="line"><span class="lineno"> 3941</span>    <span class="comment">// lower limit is to avoid abusing master servers with excess traffic,</span></div>
<div class="line"><span class="lineno"> 3942</span>    <span class="comment">// upper limit is to avoid timing out on the master server (which uses</span></div>
<div class="line"><span class="lineno"> 3943</span>    <span class="comment">// 300 sec timeout)</span></div>
<div class="line"><span class="lineno"> 3944</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a235a8908f04988bb5ba0db639804b215">sv_heartbeatperiod</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &lt; 30)</div>
<div class="line"><span class="lineno"> 3945</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a235a8908f04988bb5ba0db639804b215">sv_heartbeatperiod</a>, 30);</div>
<div class="line"><span class="lineno"> 3946</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a235a8908f04988bb5ba0db639804b215">sv_heartbeatperiod</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &gt; 270)</div>
<div class="line"><span class="lineno"> 3947</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a235a8908f04988bb5ba0db639804b215">sv_heartbeatperiod</a>, 270);</div>
<div class="line"><span class="lineno"> 3948</span> </div>
<div class="line"><span class="lineno"> 3949</span>    <span class="comment">// make advertising optional and don&#39;t advertise singleplayer games, and</span></div>
<div class="line"><span class="lineno"> 3950</span>    <span class="comment">// only send a heartbeat as often as the admin wants</span></div>
<div class="line"><span class="lineno"> 3951</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a> &amp;&amp; <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a> &gt;= 2 &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">priority</a> &gt; 1 || <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> &gt; <a class="code hl_variable" href="netconn_8c.html#a20c7d69528561622c8d1af82deb11be7">nextheartbeattime</a>))</div>
<div class="line"><span class="lineno"> 3952</span>    {</div>
<div class="line"><span class="lineno"> 3953</span>        <a class="code hl_variable" href="netconn_8c.html#a20c7d69528561622c8d1af82deb11be7">nextheartbeattime</a> = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + <a class="code hl_variable" href="netconn_8c.html#a235a8908f04988bb5ba0db639804b215">sv_heartbeatperiod</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><span class="lineno"> 3954</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masternum</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masternum</a> &lt; <a class="code hl_define" href="netconn_8c.html#a83471aef80aa68e74d394912131fc22f">DPMASTER_COUNT</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masternum</a>)</div>
<div class="line"><span class="lineno"> 3955</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a1b6cd48f1fbebacde3deceed53fa7ee3">sv_masters</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masternum</a>].<span class="keywordtype">string</span>[0]</div>
<div class="line"><span class="lineno"> 3956</span>            &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#a5dbacd69a7b0e891167efa403d24be29">LHNETADDRESS_FromString</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masteraddress</a>, <a class="code hl_variable" href="netconn_8c.html#a1b6cd48f1fbebacde3deceed53fa7ee3">sv_masters</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masternum</a>].<span class="keywordtype">string</span>, <a class="code hl_define" href="netconn_8c.html#a02cdbe652b952bf43dda2382f44d502d">DPMASTER_PORT</a>)</div>
<div class="line"><span class="lineno"> 3957</span>            &amp;&amp; (mysocket = <a class="code hl_function" href="netconn_8c.html#a905461d7c70f462cee1bfa2b71a55212">NetConn_ChooseServerSocketForAddress</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masteraddress</a>)))</div>
<div class="line"><span class="lineno"> 3958</span>                <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377heartbeat DarkPlaces\x0A&quot;</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">masteraddress</a>);</div>
<div class="line"><span class="lineno"> 3959</span>    }</div>
<div class="line"><span class="lineno"> 3960</span>}</div>
<div class="ttc" id="acvar_8c_html_a65b55ce35a5bd18e379065651d5d6e15"><div class="ttname"><a href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a></div><div class="ttdeci">void Cvar_SetValueQuick(cvar_t *var, float value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00473">cvar.c:473</a></div></div>
<div class="ttc" id="alhnet_8c_html_a5dbacd69a7b0e891167efa403d24be29"><div class="ttname"><a href="lhnet_8c.html#a5dbacd69a7b0e891167efa403d24be29">LHNETADDRESS_FromString</a></div><div class="ttdeci">int LHNETADDRESS_FromString(lhnetaddress_t *vaddress, const char *string, int defaultport)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00204">lhnet.c:204</a></div></div>
<div class="ttc" id="anetconn_8c_html_a02cdbe652b952bf43dda2382f44d502d"><div class="ttname"><a href="netconn_8c.html#a02cdbe652b952bf43dda2382f44d502d">DPMASTER_PORT</a></div><div class="ttdeci">#define DPMASTER_PORT</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00033">netconn.c:33</a></div></div>
<div class="ttc" id="anetconn_8c_html_a19ac50fe68d1f3cd1f9cdd2d09349468"><div class="ttname"><a href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a></div><div class="ttdeci">cvar_t sv_public</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00036">netconn.c:36</a></div></div>
<div class="ttc" id="anetconn_8c_html_a1b6cd48f1fbebacde3deceed53fa7ee3"><div class="ttname"><a href="netconn_8c.html#a1b6cd48f1fbebacde3deceed53fa7ee3">sv_masters</a></div><div class="ttdeci">static cvar_t sv_masters[]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00041">netconn.c:41</a></div></div>
<div class="ttc" id="anetconn_8c_html_a20c7d69528561622c8d1af82deb11be7"><div class="ttname"><a href="netconn_8c.html#a20c7d69528561622c8d1af82deb11be7">nextheartbeattime</a></div><div class="ttdeci">static double nextheartbeattime</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00066">netconn.c:66</a></div></div>
<div class="ttc" id="anetconn_8c_html_a235a8908f04988bb5ba0db639804b215"><div class="ttname"><a href="netconn_8c.html#a235a8908f04988bb5ba0db639804b215">sv_heartbeatperiod</a></div><div class="ttdeci">static cvar_t sv_heartbeatperiod</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00038">netconn.c:38</a></div></div>
<div class="ttc" id="anetconn_8c_html_a83471aef80aa68e74d394912131fc22f"><div class="ttname"><a href="netconn_8c.html#a83471aef80aa68e74d394912131fc22f">DPMASTER_COUNT</a></div><div class="ttdeci">#define DPMASTER_COUNT</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00121">netconn.c:121</a></div></div>
<div class="ttc" id="anetconn_8c_html_a905461d7c70f462cee1bfa2b71a55212"><div class="ttname"><a href="netconn_8c.html#a905461d7c70f462cee1bfa2b71a55212">NetConn_ChooseServerSocketForAddress</a></div><div class="ttdeci">lhnetsocket_t * NetConn_ChooseServerSocketForAddress(lhnetaddress_t *address)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01199">netconn.c:1199</a></div></div>
<div class="ttc" id="astructlhnetsocket__t_html"><div class="ttname"><a href="structlhnetsocket__t.html">lhnetsocket_t</a></div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00043">lhnet.h:44</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03962">Net_Heartbeat_f()</a>, <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, <a class="el" href="sv__main_8c_source.html#l01008">SV_DropClient()</a>, <a class="el" href="sv__main_8c_source.html#l02524">SV_Frame()</a>, <a class="el" href="sv__main_8c_source.html#l02125">SV_Shutdown()</a>, <a class="el" href="sv__main_8c_source.html#l01800">SV_SpawnServer()</a>, and <a class="el" href="sv__main_8c_source.html#l02709">SV_ThreadFunc()</a>.</p>

</div>
</div>
<a id="aa5502917f6a7bf7dcd6d69199f60fdf3" name="aa5502917f6a7bf7dcd6d69199f60fdf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5502917f6a7bf7dcd6d69199f60fdf3">&#9670;&#160;</a></span>NetConn_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l04039">4039</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4040</span>{</div>
<div class="line"><span class="lineno"> 4041</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 4042</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 4043</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempaddress</a>;</div>
<div class="line"><span class="lineno"> 4044</span> </div>
<div class="line"><span class="lineno"> 4045</span>    <a class="code hl_variable" href="netconn_8c.html#a0942d3e368979e08e3d29caee297e67e">netconn_mempool</a> = <a class="code hl_define" href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a>(<span class="stringliteral">&quot;network connections&quot;</span>, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 4046</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;net_stats&quot;</span>, <a class="code hl_function" href="netconn_8c.html#a300cc70806587561822f2b565beeb137">Net_Stats_f</a>, <span class="stringliteral">&quot;print network statistics&quot;</span>);</div>
<div class="line"><span class="lineno"> 4047</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 4048</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;net_slist&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Net_Slist_f</a>, <span class="stringliteral">&quot;query dp master servers and print all server information&quot;</span>);</div>
<div class="line"><span class="lineno"> 4049</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;net_slistqw&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Net_SlistQW_f</a>, <span class="stringliteral">&quot;query qw master servers and print all server information&quot;</span>);</div>
<div class="line"><span class="lineno"> 4050</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;net_refresh&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Net_Refresh_f</a>, <span class="stringliteral">&quot;query dp master servers and refresh all server information&quot;</span>);</div>
<div class="line"><span class="lineno"> 4051</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4052</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;heartbeat&quot;</span>, <a class="code hl_function" href="netconn_8c.html#a929bd15b07d59446570b76b9551443c4">Net_Heartbeat_f</a>, <span class="stringliteral">&quot;send a heartbeat to the master server (updates your server information)&quot;</span>);</div>
<div class="line"><span class="lineno"> 4053</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#ab02c233c5d0c32d9dc768c5d4dbb390d">net_test</a>);</div>
<div class="line"><span class="lineno"> 4054</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a87b4fa63a8f87a460e4a859abc9a8d7b">net_usesizelimit</a>);</div>
<div class="line"><span class="lineno"> 4055</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a070d29ab620af341e92e899ecbf54f83">net_burstreserve</a>);</div>
<div class="line"><span class="lineno"> 4056</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#aa9ae822e079633dab70ff829b88f68ab">rcon_restricted_password</a>);</div>
<div class="line"><span class="lineno"> 4057</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a53375cac16c58f364c01e3cacea4c416">rcon_restricted_commands</a>);</div>
<div class="line"><span class="lineno"> 4058</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#af3103d3754adf79d6d44895811ad88bc">rcon_secure_maxdiff</a>);</div>
<div class="line"><span class="lineno"> 4059</span> </div>
<div class="line"><span class="lineno"> 4060</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 4061</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_debug</a>);</div>
<div class="line"><span class="lineno"> 4062</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_favorites</a>);</div>
<div class="line"><span class="lineno"> 4063</span>    <a class="code hl_function" href="cvar_8c.html#aea52742d731f4311621f013389d04a35">Cvar_RegisterCallback</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_favorites</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">NetConn_UpdateFavorites_c</a>);</div>
<div class="line"><span class="lineno"> 4064</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_interval</a>);</div>
<div class="line"><span class="lineno"> 4065</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_maxping</a>);</div>
<div class="line"><span class="lineno"> 4066</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_maxtries</a>);</div>
<div class="line"><span class="lineno"> 4067</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_pause</a>);</div>
<div class="line"><span class="lineno"> 4068</span>    <a class="code hl_function" href="cvar_8c.html#aea52742d731f4311621f013389d04a35">Cvar_RegisterCallback</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_pause</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ServerList_RebuildViewList</a>);</div>
<div class="line"><span class="lineno"> 4069</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_queriespersecond</a>);</div>
<div class="line"><span class="lineno"> 4070</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_queriesperframe</a>);</div>
<div class="line"><span class="lineno"> 4071</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_timeout</a>);</div>
<div class="line"><span class="lineno"> 4072</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4073</span> </div>
<div class="line"><span class="lineno"> 4074</span><span class="preprocessor">#ifdef IP_TOS </span><span class="comment">// register cvar only if supported</span></div>
<div class="line"><span class="lineno"> 4075</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a5bbdc90f2740857b6c97a7b73489fc20">net_tos_dscp</a>);</div>
<div class="line"><span class="lineno"> 4076</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4077</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a125fb9e97285613acc8bc55055808fa3">net_messagetimeout</a>);</div>
<div class="line"><span class="lineno"> 4078</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a4be140d13075e2b17324b2922e60bf8d">net_connecttimeout</a>);</div>
<div class="line"><span class="lineno"> 4079</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#afa7d94628548aad6f9ebc6bec7251cc7">net_connectfloodblockingtimeout</a>);</div>
<div class="line"><span class="lineno"> 4080</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#aafdb79d3492f1d43052022f5a2b3670f">net_challengefloodblockingtimeout</a>);</div>
<div class="line"><span class="lineno"> 4081</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#ab1de11576ed9750e64af235a3132dd55">net_getstatusfloodblockingtimeout</a>);</div>
<div class="line"><span class="lineno"> 4082</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#ae5918471d5570f5ecf0da17ecf0a253b">net_sourceaddresscheck</a>);</div>
<div class="line"><span class="lineno"> 4083</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a296f91b40cc46d3fbd4bcfce195c4b72">net_fakelag</a>);</div>
<div class="line"><span class="lineno"> 4084</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#af5bc5e4de2f31760a2f0a60c1a3de8ec">net_fakeloss_send</a>);</div>
<div class="line"><span class="lineno"> 4085</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a89766ee95baa52999ba454b7cd4d3293">net_fakeloss_receive</a>);</div>
<div class="line"><span class="lineno"> 4086</span>    <a class="code hl_function" href="cvar_8c.html#ad38e117bd7cbb5bbae383919927523ad">Cvar_RegisterVirtual</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a296f91b40cc46d3fbd4bcfce195c4b72">net_fakelag</a>, <span class="stringliteral">&quot;cl_netlocalping&quot;</span>);</div>
<div class="line"><span class="lineno"> 4087</span>    <a class="code hl_function" href="cvar_8c.html#ad38e117bd7cbb5bbae383919927523ad">Cvar_RegisterVirtual</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#af5bc5e4de2f31760a2f0a60c1a3de8ec">net_fakeloss_send</a>, <span class="stringliteral">&quot;cl_netpacketloss_send&quot;</span>);</div>
<div class="line"><span class="lineno"> 4088</span>    <a class="code hl_function" href="cvar_8c.html#ad38e117bd7cbb5bbae383919927523ad">Cvar_RegisterVirtual</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a89766ee95baa52999ba454b7cd4d3293">net_fakeloss_receive</a>, <span class="stringliteral">&quot;cl_netpacketloss_receive&quot;</span>);</div>
<div class="line"><span class="lineno"> 4089</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#ae3a05cd185b100e46c288e366c9c19c3">hostname</a>);</div>
<div class="line"><span class="lineno"> 4090</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a6ec6ab811f71ef2e66d3aa1710c0a095">developer_networking</a>);</div>
<div class="line"><span class="lineno"> 4091</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#adbfda6bc2acef1558948b2fa709418ad">cl_netport</a>);</div>
<div class="line"><span class="lineno"> 4092</span>    <a class="code hl_function" href="cvar_8c.html#aea52742d731f4311621f013389d04a35">Cvar_RegisterCallback</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#adbfda6bc2acef1558948b2fa709418ad">cl_netport</a>, <a class="code hl_function" href="netconn_8c.html#a4bccb1a18e0b2e6aad473275f135c3db">NetConn_CL_UpdateSockets_Callback</a>);</div>
<div class="line"><span class="lineno"> 4093</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#afdebe98dae636b669ea48f01e273b9f0">sv_netport</a>);</div>
<div class="line"><span class="lineno"> 4094</span>    <a class="code hl_function" href="cvar_8c.html#aea52742d731f4311621f013389d04a35">Cvar_RegisterCallback</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#afdebe98dae636b669ea48f01e273b9f0">sv_netport</a>, <a class="code hl_function" href="netconn_8c.html#adeb0515baab417663429d91acdc898bb">NetConn_sv_netport_Callback</a>);</div>
<div class="line"><span class="lineno"> 4095</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#ae0b4f256612e6aaec5fb7fca221ad4a0">net_address</a>);</div>
<div class="line"><span class="lineno"> 4096</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a0f1527114200da3066be49236a9e8c80">net_address_ipv6</a>);</div>
<div class="line"><span class="lineno"> 4097</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>);</div>
<div class="line"><span class="lineno"> 4098</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a5aae00d42067068bab01a64bfd2410de">sv_public_rejectreason</a>);</div>
<div class="line"><span class="lineno"> 4099</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a235a8908f04988bb5ba0db639804b215">sv_heartbeatperiod</a>);</div>
<div class="line"><span class="lineno"> 4100</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="netconn_8c.html#a83471aef80aa68e74d394912131fc22f">DPMASTER_COUNT</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>)</div>
<div class="line"><span class="lineno"> 4101</span>        <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a1b6cd48f1fbebacde3deceed53fa7ee3">sv_masters</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]);</div>
<div class="line"><span class="lineno"> 4102</span><span class="preprocessor">#ifdef CONFIG_MENU</span></div>
<div class="line"><span class="lineno"> 4103</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="netconn_8c.html#a9d2b497b08d0ca8117d2fd5384fcaf58">QWMASTER_COUNT</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>)</div>
<div class="line"><span class="lineno"> 4104</span>        <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sv_qwmasters</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]);</div>
<div class="line"><span class="lineno"> 4105</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4106</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a>);</div>
<div class="line"><span class="lineno"> 4107</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a53402ba46e24d59c426df87e617cab46">gameversion_min</a>);</div>
<div class="line"><span class="lineno"> 4108</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#ae62473f1f5b3dbbb19ba13270de52ede">gameversion_max</a>);</div>
<div class="line"><span class="lineno"> 4109</span><span class="comment">// COMMANDLINEOPTION: Server: -ip &lt;ipaddress&gt; sets the ip address of this machine for purposes of networking (default 0.0.0.0 also known as INADDR_ANY), use only if you have multiple network adapters and need to choose one specifically.</span></div>
<div class="line"><span class="lineno"> 4110</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-ip&quot;</span>)) &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1 &lt; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a>)</div>
<div class="line"><span class="lineno"> 4111</span>    {</div>
<div class="line"><span class="lineno"> 4112</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="lhnet_8c.html#a5dbacd69a7b0e891167efa403d24be29">LHNETADDRESS_FromString</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempaddress</a>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1], 0) == 1)</div>
<div class="line"><span class="lineno"> 4113</span>        {</div>
<div class="line"><span class="lineno"> 4114</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;-ip option used, setting net_address to \&quot;%s\&quot;\n&quot;</span>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]);</div>
<div class="line"><span class="lineno"> 4115</span>            <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#ae0b4f256612e6aaec5fb7fca221ad4a0">net_address</a>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]);</div>
<div class="line"><span class="lineno"> 4116</span>        }</div>
<div class="line"><span class="lineno"> 4117</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4118</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;-ip option used, but unable to parse the address \&quot;%s\&quot;\n&quot;</span>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]);</div>
<div class="line"><span class="lineno"> 4119</span>    }</div>
<div class="line"><span class="lineno"> 4120</span><span class="comment">// COMMANDLINEOPTION: Server: -port &lt;portnumber&gt; sets the port to use for a server (default 26000, the same port as QUAKE itself), useful if you host multiple servers on your machine</span></div>
<div class="line"><span class="lineno"> 4121</span>    <span class="keywordflow">if</span> (((<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-port&quot;</span>)) || (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-ipport&quot;</span>)) || (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-udpport&quot;</span>))) &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1 &lt; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a>)</div>
<div class="line"><span class="lineno"> 4122</span>    {</div>
<div class="line"><span class="lineno"> 4123</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]);</div>
<div class="line"><span class="lineno"> 4124</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 65536)</div>
<div class="line"><span class="lineno"> 4125</span>        {</div>
<div class="line"><span class="lineno"> 4126</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;-port option used, setting port cvar to %i\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 4127</span>            <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#afdebe98dae636b669ea48f01e273b9f0">sv_netport</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 4128</span>        }</div>
<div class="line"><span class="lineno"> 4129</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4130</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;-port option used, but %i is not a valid port number\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 4131</span>    }</div>
<div class="line"><span class="lineno"> 4132</span>    <a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a> = 0;</div>
<div class="line"><span class="lineno"> 4133</span>    <a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a> = 0;</div>
<div class="line"><span class="lineno"> 4134</span>    <a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a> = <a class="code hl_variable" href="netconn_8c.html#a8e512b73deafdc983444d59588f9239e">cl_message_buf</a>;</div>
<div class="line"><span class="lineno"> 4135</span>    <a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aef6c850a196baba1f237ce0b6fc0f3a8">maxsize</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a8e512b73deafdc983444d59588f9239e">cl_message_buf</a>);</div>
<div class="line"><span class="lineno"> 4136</span>    <a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> = 0;</div>
<div class="line"><span class="lineno"> 4137</span>    <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a> = <a class="code hl_variable" href="netconn_8c.html#abb0bd07f6c523a12c61c94d162251f30">sv_message_buf</a>;</div>
<div class="line"><span class="lineno"> 4138</span>    <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aef6c850a196baba1f237ce0b6fc0f3a8">maxsize</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#abb0bd07f6c523a12c61c94d162251f30">sv_message_buf</a>);</div>
<div class="line"><span class="lineno"> 4139</span>    <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> = 0;</div>
<div class="line"><span class="lineno"> 4140</span>    <a class="code hl_function" href="lhnet_8c.html#a4ae51b1bcceb94c99fefa0b296797c8d">LHNET_Init</a>();</div>
<div class="line"><span class="lineno"> 4141</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="thread_8h.html#a4af21639b1ace74ffbc47e953f7a0970">Thread_HasThreads</a>())</div>
<div class="line"><span class="lineno"> 4142</span>        <a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a> = <a class="code hl_define" href="thread_8h.html#a4fe4e5bb1feca332e6957d1c27a87b58">Thread_CreateMutex</a>();</div>
<div class="line"><span class="lineno"> 4143</span>}</div>
<div class="ttc" id="acmd_8c_html_a86fa905462db75436af48f27298204e5"><div class="ttname"><a href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a></div><div class="ttdeci">void Cmd_AddCommand(unsigned flags, const char *cmd_name, xcommand_t function, const char *description)</div><div class="ttdoc">called by the init functions of other parts of the program to register commands and functions to call...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01643">cmd.c:1643</a></div></div>
<div class="ttc" id="acmd_8h_html_a28392de86e1ad57dd3fa7870a23367f2"><div class="ttname"><a href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a></div><div class="ttdeci">#define CF_SHARED</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00067">cmd.h:67</a></div></div>
<div class="ttc" id="acmd_8h_html_aadf0879ce7511e76eeea9da766b31c6b"><div class="ttname"><a href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a></div><div class="ttdeci">#define CF_SERVER</div><div class="ttdoc">cvar/command that only the server can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00049">cmd.h:49</a></div></div>
<div class="ttc" id="acmd_8h_html_abba64dce6a45541317c5508aa83436e5"><div class="ttname"><a href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a></div><div class="ttdeci">#define CF_CLIENT</div><div class="ttdoc">cvar/command that only the client can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00048">cmd.h:48</a></div></div>
<div class="ttc" id="acvar_8c_html_a6f37a084abf4715928f1a004181866f8"><div class="ttname"><a href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a></div><div class="ttdeci">void Cvar_SetQuick(cvar_t *var, const char *value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00436">cvar.c:436</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="acvar_8c_html_ad38e117bd7cbb5bbae383919927523ad"><div class="ttname"><a href="cvar_8c.html#ad38e117bd7cbb5bbae383919927523ad">Cvar_RegisterVirtual</a></div><div class="ttdeci">void Cvar_RegisterVirtual(cvar_t *variable, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00513">cvar.c:513</a></div></div>
<div class="ttc" id="acvar_8c_html_aea52742d731f4311621f013389d04a35"><div class="ttname"><a href="cvar_8c.html#aea52742d731f4311621f013389d04a35">Cvar_RegisterCallback</a></div><div class="ttdeci">void Cvar_RegisterCallback(cvar_t *variable, void(*callback)(cvar_t *))</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00495">cvar.c:495</a></div></div>
<div class="ttc" id="alhnet_8c_html_a4ae51b1bcceb94c99fefa0b296797c8d"><div class="ttname"><a href="lhnet_8c.html#a4ae51b1bcceb94c99fefa0b296797c8d">LHNET_Init</a></div><div class="ttdeci">void LHNET_Init(void)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00725">lhnet.c:725</a></div></div>
<div class="ttc" id="anetconn_8c_html_a03458d3acf0119e9cb33b91ed6ffe835"><div class="ttname"><a href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a></div><div class="ttdeci">void * netconn_mutex</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00149">netconn.c:149</a></div></div>
<div class="ttc" id="anetconn_8c_html_a070d29ab620af341e92e899ecbf54f83"><div class="ttname"><a href="netconn_8c.html#a070d29ab620af341e92e899ecbf54f83">net_burstreserve</a></div><div class="ttdeci">cvar_t net_burstreserve</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00077">netconn.c:77</a></div></div>
<div class="ttc" id="anetconn_8c_html_a0942d3e368979e08e3d29caee297e67e"><div class="ttname"><a href="netconn_8c.html#a0942d3e368979e08e3d29caee297e67e">netconn_mempool</a></div><div class="ttdeci">mempool_t * netconn_mempool</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00148">netconn.c:148</a></div></div>
<div class="ttc" id="anetconn_8c_html_a0f1527114200da3066be49236a9e8c80"><div class="ttname"><a href="netconn_8c.html#a0f1527114200da3066be49236a9e8c80">net_address_ipv6</a></div><div class="ttdeci">cvar_t net_address_ipv6</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00154">netconn.c:154</a></div></div>
<div class="ttc" id="anetconn_8c_html_a296f91b40cc46d3fbd4bcfce195c4b72"><div class="ttname"><a href="netconn_8c.html#a296f91b40cc46d3fbd4bcfce195c4b72">net_fakelag</a></div><div class="ttdeci">cvar_t net_fakelag</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00087">netconn.c:87</a></div></div>
<div class="ttc" id="anetconn_8c_html_a300cc70806587561822f2b565beeb137"><div class="ttname"><a href="netconn_8c.html#a300cc70806587561822f2b565beeb137">Net_Stats_f</a></div><div class="ttdeci">void Net_Stats_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l03987">netconn.c:3987</a></div></div>
<div class="ttc" id="anetconn_8c_html_a4bccb1a18e0b2e6aad473275f135c3db"><div class="ttname"><a href="netconn_8c.html#a4bccb1a18e0b2e6aad473275f135c3db">NetConn_CL_UpdateSockets_Callback</a></div><div class="ttdeci">static void NetConn_CL_UpdateSockets_Callback(cvar_t *var)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01262">netconn.c:1262</a></div></div>
<div class="ttc" id="anetconn_8c_html_a4be140d13075e2b17324b2922e60bf8d"><div class="ttname"><a href="netconn_8c.html#a4be140d13075e2b17324b2922e60bf8d">net_connecttimeout</a></div><div class="ttdeci">cvar_t net_connecttimeout</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00079">netconn.c:79</a></div></div>
<div class="ttc" id="anetconn_8c_html_a53375cac16c58f364c01e3cacea4c416"><div class="ttname"><a href="netconn_8c.html#a53375cac16c58f364c01e3cacea4c416">rcon_restricted_commands</a></div><div class="ttdeci">static cvar_t rcon_restricted_commands</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00108">netconn.c:108</a></div></div>
<div class="ttc" id="anetconn_8c_html_a53402ba46e24d59c426df87e617cab46"><div class="ttname"><a href="netconn_8c.html#a53402ba46e24d59c426df87e617cab46">gameversion_min</a></div><div class="ttdeci">static cvar_t gameversion_min</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00105">netconn.c:105</a></div></div>
<div class="ttc" id="anetconn_8c_html_a5aae00d42067068bab01a64bfd2410de"><div class="ttname"><a href="netconn_8c.html#a5aae00d42067068bab01a64bfd2410de">sv_public_rejectreason</a></div><div class="ttdeci">cvar_t sv_public_rejectreason</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00037">netconn.c:37</a></div></div>
<div class="ttc" id="anetconn_8c_html_a5bbdc90f2740857b6c97a7b73489fc20"><div class="ttname"><a href="netconn_8c.html#a5bbdc90f2740857b6c97a7b73489fc20">net_tos_dscp</a></div><div class="ttdeci">static cvar_t net_tos_dscp</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00103">netconn.c:103</a></div></div>
<div class="ttc" id="anetconn_8c_html_a87b4fa63a8f87a460e4a859abc9a8d7b"><div class="ttname"><a href="netconn_8c.html#a87b4fa63a8f87a460e4a859abc9a8d7b">net_usesizelimit</a></div><div class="ttdeci">cvar_t net_usesizelimit</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00076">netconn.c:76</a></div></div>
<div class="ttc" id="anetconn_8c_html_a89766ee95baa52999ba454b7cd4d3293"><div class="ttname"><a href="netconn_8c.html#a89766ee95baa52999ba454b7cd4d3293">net_fakeloss_receive</a></div><div class="ttdeci">static cvar_t net_fakeloss_receive</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00089">netconn.c:89</a></div></div>
<div class="ttc" id="anetconn_8c_html_a8e512b73deafdc983444d59588f9239e"><div class="ttname"><a href="netconn_8c.html#a8e512b73deafdc983444d59588f9239e">cl_message_buf</a></div><div class="ttdeci">static unsigned char cl_message_buf[NET_MAXMESSAGE]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00070">netconn.c:70</a></div></div>
<div class="ttc" id="anetconn_8c_html_a929bd15b07d59446570b76b9551443c4"><div class="ttname"><a href="netconn_8c.html#a929bd15b07d59446570b76b9551443c4">Net_Heartbeat_f</a></div><div class="ttdeci">static void Net_Heartbeat_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l03962">netconn.c:3962</a></div></div>
<div class="ttc" id="anetconn_8c_html_a9d2b497b08d0ca8117d2fd5384fcaf58"><div class="ttname"><a href="netconn_8c.html#a9d2b497b08d0ca8117d2fd5384fcaf58">QWMASTER_COUNT</a></div><div class="ttdeci">#define QWMASTER_COUNT</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00122">netconn.c:122</a></div></div>
<div class="ttc" id="anetconn_8c_html_aa9ae822e079633dab70ff829b88f68ab"><div class="ttname"><a href="netconn_8c.html#aa9ae822e079633dab70ff829b88f68ab">rcon_restricted_password</a></div><div class="ttdeci">static cvar_t rcon_restricted_password</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00107">netconn.c:107</a></div></div>
<div class="ttc" id="anetconn_8c_html_aafdb79d3492f1d43052022f5a2b3670f"><div class="ttname"><a href="netconn_8c.html#aafdb79d3492f1d43052022f5a2b3670f">net_challengefloodblockingtimeout</a></div><div class="ttdeci">cvar_t net_challengefloodblockingtimeout</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00081">netconn.c:81</a></div></div>
<div class="ttc" id="anetconn_8c_html_ab02c233c5d0c32d9dc768c5d4dbb390d"><div class="ttname"><a href="netconn_8c.html#ab02c233c5d0c32d9dc768c5d4dbb390d">net_test</a></div><div class="ttdeci">cvar_t net_test</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00075">netconn.c:75</a></div></div>
<div class="ttc" id="anetconn_8c_html_ab1de11576ed9750e64af235a3132dd55"><div class="ttname"><a href="netconn_8c.html#ab1de11576ed9750e64af235a3132dd55">net_getstatusfloodblockingtimeout</a></div><div class="ttdeci">cvar_t net_getstatusfloodblockingtimeout</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00082">netconn.c:82</a></div></div>
<div class="ttc" id="anetconn_8c_html_abb0bd07f6c523a12c61c94d162251f30"><div class="ttname"><a href="netconn_8c.html#abb0bd07f6c523a12c61c94d162251f30">sv_message_buf</a></div><div class="ttdeci">static unsigned char sv_message_buf[NET_MAXMESSAGE]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00071">netconn.c:71</a></div></div>
<div class="ttc" id="anetconn_8c_html_acbf23938a2ed5657b35e7e88d54b8d5e"><div class="ttname"><a href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a></div><div class="ttdeci">sizebuf_t sv_message</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00069">netconn.c:69</a></div></div>
<div class="ttc" id="anetconn_8c_html_adbfda6bc2acef1558948b2fa709418ad"><div class="ttname"><a href="netconn_8c.html#adbfda6bc2acef1558948b2fa709418ad">cl_netport</a></div><div class="ttdeci">cvar_t cl_netport</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00151">netconn.c:151</a></div></div>
<div class="ttc" id="anetconn_8c_html_adeb0515baab417663429d91acdc898bb"><div class="ttname"><a href="netconn_8c.html#adeb0515baab417663429d91acdc898bb">NetConn_sv_netport_Callback</a></div><div class="ttdeci">static void NetConn_sv_netport_Callback(cvar_t *var)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01286">netconn.c:1286</a></div></div>
<div class="ttc" id="anetconn_8c_html_ae0b4f256612e6aaec5fb7fca221ad4a0"><div class="ttname"><a href="netconn_8c.html#ae0b4f256612e6aaec5fb7fca221ad4a0">net_address</a></div><div class="ttdeci">cvar_t net_address</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00153">netconn.c:153</a></div></div>
<div class="ttc" id="anetconn_8c_html_ae62473f1f5b3dbbb19ba13270de52ede"><div class="ttname"><a href="netconn_8c.html#ae62473f1f5b3dbbb19ba13270de52ede">gameversion_max</a></div><div class="ttdeci">static cvar_t gameversion_max</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00106">netconn.c:106</a></div></div>
<div class="ttc" id="anetconn_8c_html_af5bc5e4de2f31760a2f0a60c1a3de8ec"><div class="ttname"><a href="netconn_8c.html#af5bc5e4de2f31760a2f0a60c1a3de8ec">net_fakeloss_send</a></div><div class="ttdeci">static cvar_t net_fakeloss_send</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00088">netconn.c:88</a></div></div>
<div class="ttc" id="anetconn_8c_html_afa7d94628548aad6f9ebc6bec7251cc7"><div class="ttname"><a href="netconn_8c.html#afa7d94628548aad6f9ebc6bec7251cc7">net_connectfloodblockingtimeout</a></div><div class="ttdeci">cvar_t net_connectfloodblockingtimeout</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00080">netconn.c:80</a></div></div>
<div class="ttc" id="anetconn_8c_html_afdebe98dae636b669ea48f01e273b9f0"><div class="ttname"><a href="netconn_8c.html#afdebe98dae636b669ea48f01e273b9f0">sv_netport</a></div><div class="ttdeci">cvar_t sv_netport</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00152">netconn.c:152</a></div></div>
<div class="ttc" id="astructsys__t_html_a4fa71494699d7e84d29a1fd218ec3421"><div class="ttname"><a href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">sys_t::argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00142">sys.h:142</a></div></div>
<div class="ttc" id="astructsys__t_html_a8ac88df433bcd8ffc0fbb42cf2cd5602"><div class="ttname"><a href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">sys_t::argv</a></div><div class="ttdeci">const char ** argv</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00143">sys.h:143</a></div></div>
<div class="ttc" id="asys_8h_html_ae590414a212a3043d2158012d0c93985"><div class="ttname"><a href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a></div><div class="ttdeci">sys_t sys</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00042">sys_shared.c:42</a></div></div>
<div class="ttc" id="asys_8h_html_ae9b9461780a044853793708c49317b28"><div class="ttname"><a href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a></div><div class="ttdeci">int Sys_CheckParm(const char *parm)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00318">sys_shared.c:318</a></div></div>
<div class="ttc" id="athread_8h_html_a4af21639b1ace74ffbc47e953f7a0970"><div class="ttname"><a href="thread_8h.html#a4af21639b1ace74ffbc47e953f7a0970">Thread_HasThreads</a></div><div class="ttdeci">qbool Thread_HasThreads(void)</div><div class="ttdef"><b>Definition</b> <a href="thread__null_8c_source.html#l00013">thread_null.c:13</a></div></div>
<div class="ttc" id="athread_8h_html_a4fe4e5bb1feca332e6957d1c27a87b58"><div class="ttname"><a href="thread_8h.html#a4fe4e5bb1feca332e6957d1c27a87b58">Thread_CreateMutex</a></div><div class="ttdeci">#define Thread_CreateMutex()</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00015">thread.h:15</a></div></div>
<div class="ttc" id="azone_8h_html_a7da6ffdd01b3d31cb7c89e68fad87d0d"><div class="ttname"><a href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a></div><div class="ttdeci">#define Mem_AllocPool(name, flags, parent)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00104">zone.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="host_8c_source.html#l00374">Host_Init()</a>.</p>

</div>
</div>
<a id="ab47905ddb176fda7f25a275075b9f6a7" name="ab47905ddb176fda7f25a275075b9f6a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab47905ddb176fda7f25a275075b9f6a7">&#9670;&#160;</a></span>NetConn_IsLocalGame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_IsLocalGame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01686">1686</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1687</span>{</div>
<div class="line"><span class="lineno"> 1688</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19">ca_connected</a> &amp;&amp; <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a86c0d436e5ea559d44b857ac77e5218c">maxclients</a> == 1)</div>
<div class="line"><span class="lineno"> 1689</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1690</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1691</span>}</div>
<div class="ttc" id="acl__main_8c_html_aa07d17cda937753e8e976ea3c9c5c312"><div class="ttname"><a href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a></div><div class="ttdeci">client_state_t cl</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00117">cl_main.c:117</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a86c0d436e5ea559d44b857ac77e5218c"><div class="ttname"><a href="structclient__state__t.html#a86c0d436e5ea559d44b857ac77e5218c">client_state_t::maxclients</a></div><div class="ttdeci">int maxclients</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00913">client.h:913</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>.</p>

</div>
</div>
<a id="a088b84e6c4e611e0f137efeabef830ad" name="a088b84e6c4e611e0f137efeabef830ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a088b84e6c4e611e0f137efeabef830ad">&#9670;&#160;</a></span>NetConn_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnetconn__t.html">netconn_t</a> * NetConn_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td>
          <td class="paramname"><em>mysocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01210">1210</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1211</span>{</div>
<div class="line"><span class="lineno"> 1212</span>    <a class="code hl_struct" href="structnetconn__t.html">netconn_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>;</div>
<div class="line"><span class="lineno"> 1213</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> = (<a class="code hl_struct" href="structnetconn__t.html">netconn_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="netconn_8c.html#a0942d3e368979e08e3d29caee297e67e">netconn_mempool</a>, <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>));</div>
<div class="line"><span class="lineno"> 1214</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a570f43ecac2f577e6a99b534b55d7601">mysocket</a> = mysocket;</div>
<div class="line"><span class="lineno"> 1215</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress = *peeraddress;</div>
<div class="line"><span class="lineno"> 1216</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastMessageTime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1217</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.data = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;messagedata;</div>
<div class="line"><span class="lineno"> 1218</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.maxsize = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;messagedata);</div>
<div class="line"><span class="lineno"> 1219</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize = 0;</div>
<div class="line"><span class="lineno"> 1220</span>    <span class="comment">// LadyHavoc: (inspired by ProQuake) use a short connect timeout to</span></div>
<div class="line"><span class="lineno"> 1221</span>    <span class="comment">// reduce effectiveness of connection request floods</span></div>
<div class="line"><span class="lineno"> 1222</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;timeout = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + <a class="code hl_variable" href="netconn_8c.html#a4be140d13075e2b17324b2922e60bf8d">net_connecttimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><span class="lineno"> 1223</span>    <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;address, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;address), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1224</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;next = <a class="code hl_variable" href="netconn_8c.html#aed065cfe97fc587dcfd40a5d08794cf3">netconn_list</a>;</div>
<div class="line"><span class="lineno"> 1225</span>    <a class="code hl_variable" href="netconn_8c.html#aed065cfe97fc587dcfd40a5d08794cf3">netconn_list</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>;</div>
<div class="line"><span class="lineno"> 1226</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>;</div>
<div class="line"><span class="lineno"> 1227</span>}</div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01631">NetConn_ConnectionEstablished()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a06179a9c349b29afe2a83d7f77429db9" name="a06179a9c349b29afe2a83d7f77429db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06179a9c349b29afe2a83d7f77429db9">&#9670;&#160;</a></span>NetConn_OpenClientPort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_OpenClientPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>addressstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183">lhnetaddresstype_t</a>&#160;</td>
          <td class="paramname"><em>addresstype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>defaultport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01059">1059</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1060</span>{</div>
<div class="line"><span class="lineno"> 1061</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> address;</div>
<div class="line"><span class="lineno"> 1062</span>    <a class="code hl_struct" href="structlhnetsocket__t.html">lhnetsocket_t</a> *s;</div>
<div class="line"><span class="lineno"> 1063</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a>;</div>
<div class="line"><span class="lineno"> 1064</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>[1024];</div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>[0])</div>
<div class="line"><span class="lineno"> 1066</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a> = <a class="code hl_function" href="lhnet_8c.html#a5dbacd69a7b0e891167efa403d24be29">LHNETADDRESS_FromString</a>(&amp;address, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">defaultport</a>);</div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1068</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a> = <a class="code hl_function" href="lhnet_8c.html#a0bf8acfdb535455a716e3f3c31efcdeb">LHNETADDRESS_FromPort</a>(&amp;address, addresstype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">defaultport</a>);</div>
<div class="line"><span class="lineno"> 1069</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a>)</div>
<div class="line"><span class="lineno"> 1070</span>    {</div>
<div class="line"><span class="lineno"> 1071</span>        <span class="keywordflow">if</span> ((s = <a class="code hl_function" href="lhnet_8c.html#a4fe5025d9e503e04a4c2de41cf94317f">LHNET_OpenSocket_Connectionless</a>(&amp;address)))</div>
<div class="line"><span class="lineno"> 1072</span>        {</div>
<div class="line"><span class="lineno"> 1073</span>            <a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a>++] = s;</div>
<div class="line"><span class="lineno"> 1074</span>            <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(s), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1075</span>            <span class="keywordflow">if</span> (addresstype != <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a>)</div>
<div class="line"><span class="lineno"> 1076</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Client opened a socket on address %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 1077</span>        }</div>
<div class="line"><span class="lineno"> 1078</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1079</span>        {</div>
<div class="line"><span class="lineno"> 1080</span>            <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(&amp;address, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1081</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;Client failed to open a socket on address %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 1082</span>        }</div>
<div class="line"><span class="lineno"> 1083</span>    }</div>
<div class="line"><span class="lineno"> 1084</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1085</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;Client unable to parse address %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>);</div>
<div class="line"><span class="lineno"> 1086</span>}</div>
<div class="ttc" id="alhnet_8c_html_a0bf8acfdb535455a716e3f3c31efcdeb"><div class="ttname"><a href="lhnet_8c.html#a0bf8acfdb535455a716e3f3c31efcdeb">LHNETADDRESS_FromPort</a></div><div class="ttdeci">int LHNETADDRESS_FromPort(lhnetaddress_t *vaddress, lhnetaddresstype_t addresstype, int port)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00125">lhnet.c:125</a></div></div>
<div class="ttc" id="alhnet_8c_html_a4fe5025d9e503e04a4c2de41cf94317f"><div class="ttname"><a href="lhnet_8c.html#a4fe5025d9e503e04a4c2de41cf94317f">LHNET_OpenSocket_Connectionless</a></div><div class="ttdeci">lhnetsocket_t * LHNET_OpenSocket_Connectionless(lhnetaddress_t *address)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00832">lhnet.c:832</a></div></div>
<div class="ttc" id="alhnet_8h_html_aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe"><div class="ttname"><a href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a></div><div class="ttdeci">@ LHNETADDRESSTYPE_LOOP</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00013">lhnet.h:13</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01088">NetConn_OpenClientPorts()</a>.</p>

</div>
</div>
<a id="ac9ec93e8450ae3d1fde81960051f6d64" name="ac9ec93e8450ae3d1fde81960051f6d64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ec93e8450ae3d1fde81960051f6d64">&#9670;&#160;</a></span>NetConn_OpenClientPorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_OpenClientPorts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01088">1088</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1089</span>{</div>
<div class="line"><span class="lineno"> 1090</span>    <span class="keywordtype">int</span> port;</div>
<div class="line"><span class="lineno"> 1091</span>    <a class="code hl_function" href="netconn_8c.html#af5d11f57224f1128c514d5352c9d237d">NetConn_CloseClientPorts</a>();</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>    <a class="code hl_define" href="server_8h.html#a451b91ad4ba3a1d0fbd9f3fddf0d6f84">SV_LockThreadMutex</a>(); <span class="comment">// FIXME recursive?</span></div>
<div class="line"><span class="lineno"> 1094</span>    <a class="code hl_function" href="crypto_8c.html#a1e6cc26fc4d71eacae07453774cf06de">Crypto_LoadKeys</a>(); <span class="comment">// client sockets</span></div>
<div class="line"><span class="lineno"> 1095</span>    <a class="code hl_define" href="server_8h.html#aaab8b61921b35b19229b091879106e12">SV_UnlockThreadMutex</a>();</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>    port = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="netconn_8c.html#adbfda6bc2acef1558948b2fa709418ad">cl_netport</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, 65535);</div>
<div class="line"><span class="lineno"> 1098</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#adbfda6bc2acef1558948b2fa709418ad">cl_netport</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != port)</div>
<div class="line"><span class="lineno"> 1099</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#adbfda6bc2acef1558948b2fa709418ad">cl_netport</a>, port);</div>
<div class="line"><span class="lineno"> 1100</span>    <span class="keywordflow">if</span>(port == 0)</div>
<div class="line"><span class="lineno"> 1101</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Client using an automatically assigned port\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1102</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1103</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Client using port %i\n&quot;</span>, port);</div>
<div class="line"><span class="lineno"> 1104</span>    <a class="code hl_function" href="netconn_8c.html#a06179a9c349b29afe2a83d7f77429db9">NetConn_OpenClientPort</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a>, 2);</div>
<div class="line"><span class="lineno"> 1105</span>    <a class="code hl_function" href="netconn_8c.html#a06179a9c349b29afe2a83d7f77429db9">NetConn_OpenClientPort</a>(<a class="code hl_variable" href="netconn_8c.html#ae0b4f256612e6aaec5fb7fca221ad4a0">net_address</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a8d130db7ee413173dc374366816426f2">LHNETADDRESSTYPE_INET4</a>, port);</div>
<div class="line"><span class="lineno"> 1106</span><span class="preprocessor">#ifndef NOSUPPORTIPV6</span></div>
<div class="line"><span class="lineno"> 1107</span>    <a class="code hl_function" href="netconn_8c.html#a06179a9c349b29afe2a83d7f77429db9">NetConn_OpenClientPort</a>(<a class="code hl_variable" href="netconn_8c.html#a0f1527114200da3066be49236a9e8c80">net_address_ipv6</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a71820d6296fb379a882fd00e9f45e88e">LHNETADDRESSTYPE_INET6</a>, port);</div>
<div class="line"><span class="lineno"> 1108</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1109</span>}</div>
<div class="ttc" id="acrypto_8c_html_a1e6cc26fc4d71eacae07453774cf06de"><div class="ttname"><a href="crypto_8c.html#a1e6cc26fc4d71eacae07453774cf06de">Crypto_LoadKeys</a></div><div class="ttdeci">void Crypto_LoadKeys(void)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l00855">crypto.c:855</a></div></div>
<div class="ttc" id="alhnet_8h_html_aaf5f00c130fe2e819ddbe3e46cf84183a71820d6296fb379a882fd00e9f45e88e"><div class="ttname"><a href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a71820d6296fb379a882fd00e9f45e88e">LHNETADDRESSTYPE_INET6</a></div><div class="ttdeci">@ LHNETADDRESSTYPE_INET6</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00016">lhnet.h:15</a></div></div>
<div class="ttc" id="alhnet_8h_html_aaf5f00c130fe2e819ddbe3e46cf84183a8d130db7ee413173dc374366816426f2"><div class="ttname"><a href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a8d130db7ee413173dc374366816426f2">LHNETADDRESSTYPE_INET4</a></div><div class="ttdeci">@ LHNETADDRESSTYPE_INET4</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00014">lhnet.h:14</a></div></div>
<div class="ttc" id="anetconn_8c_html_a06179a9c349b29afe2a83d7f77429db9"><div class="ttname"><a href="netconn_8c.html#a06179a9c349b29afe2a83d7f77429db9">NetConn_OpenClientPort</a></div><div class="ttdeci">static void NetConn_OpenClientPort(const char *addressstring, lhnetaddresstype_t addresstype, int defaultport)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01059">netconn.c:1059</a></div></div>
<div class="ttc" id="aserver_8h_html_a451b91ad4ba3a1d0fbd9f3fddf0d6f84"><div class="ttname"><a href="server_8h.html#a451b91ad4ba3a1d0fbd9f3fddf0d6f84">SV_LockThreadMutex</a></div><div class="ttdeci">#define SV_LockThreadMutex()</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00611">server.h:611</a></div></div>
<div class="ttc" id="aserver_8h_html_aaab8b61921b35b19229b091879106e12"><div class="ttname"><a href="server_8h.html#aaab8b61921b35b19229b091879106e12">SV_UnlockThreadMutex</a></div><div class="ttdeci">#define SV_UnlockThreadMutex()</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00612">server.h:612</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01262">NetConn_CL_UpdateSockets_Callback()</a>.</p>

</div>
</div>
<a id="afdd2272c38a67b73475494387f48f3b6" name="afdd2272c38a67b73475494387f48f3b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd2272c38a67b73475494387f48f3b6">&#9670;&#160;</a></span>NetConn_OpenServerPort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> NetConn_OpenServerPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>addressstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183">lhnetaddresstype_t</a>&#160;</td>
          <td class="paramname"><em>addresstype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>defaultport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01118">1118</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1119</span>{</div>
<div class="line"><span class="lineno"> 1120</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> address;</div>
<div class="line"><span class="lineno"> 1121</span>    <a class="code hl_struct" href="structlhnetsocket__t.html">lhnetsocket_t</a> *s;</div>
<div class="line"><span class="lineno"> 1122</span>    <span class="keywordtype">int</span> port;</div>
<div class="line"><span class="lineno"> 1123</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>[1024];</div>
<div class="line"><span class="lineno"> 1124</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a>;</div>
<div class="line"><span class="lineno"> 1125</span> </div>
<div class="line"><span class="lineno"> 1126</span>    <span class="keywordflow">for</span> (port = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">defaultport</a>; port &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">defaultport</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">range</a>; port++)</div>
<div class="line"><span class="lineno"> 1127</span>    {</div>
<div class="line"><span class="lineno"> 1128</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>[0])</div>
<div class="line"><span class="lineno"> 1129</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a> = <a class="code hl_function" href="lhnet_8c.html#a5dbacd69a7b0e891167efa403d24be29">LHNETADDRESS_FromString</a>(&amp;address, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, port);</div>
<div class="line"><span class="lineno"> 1130</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1131</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a> = <a class="code hl_function" href="lhnet_8c.html#a0bf8acfdb535455a716e3f3c31efcdeb">LHNETADDRESS_FromPort</a>(&amp;address, addresstype, port);</div>
<div class="line"><span class="lineno"> 1132</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a>)</div>
<div class="line"><span class="lineno"> 1133</span>        {</div>
<div class="line"><span class="lineno"> 1134</span>            <span class="keywordflow">if</span> ((s = <a class="code hl_function" href="lhnet_8c.html#a4fe5025d9e503e04a4c2de41cf94317f">LHNET_OpenSocket_Connectionless</a>(&amp;address)))</div>
<div class="line"><span class="lineno"> 1135</span>            {</div>
<div class="line"><span class="lineno"> 1136</span>                <a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a>++] = s;</div>
<div class="line"><span class="lineno"> 1137</span>                <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(s), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1138</span>                <span class="keywordflow">if</span> (addresstype != <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a>)</div>
<div class="line"><span class="lineno"> 1139</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Server listening on address %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 1140</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1141</span>            }</div>
<div class="line"><span class="lineno"> 1142</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1143</span>            {</div>
<div class="line"><span class="lineno"> 1144</span>                <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(&amp;address, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1145</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;Server failed to open socket on address %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 1146</span>            }</div>
<div class="line"><span class="lineno"> 1147</span>        }</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1149</span>        {</div>
<div class="line"><span class="lineno"> 1150</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;Server unable to parse address %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>);</div>
<div class="line"><span class="lineno"> 1151</span>            <span class="comment">// if it cant parse one address, it wont be able to parse another for sure</span></div>
<div class="line"><span class="lineno"> 1152</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1153</span>        }</div>
<div class="line"><span class="lineno"> 1154</span>    }</div>
<div class="line"><span class="lineno"> 1155</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1156</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01158">NetConn_OpenServerPorts()</a>.</p>

</div>
</div>
<a id="ac66d2369a44114a1c4ec19d7ce9acdbb" name="ac66d2369a44114a1c4ec19d7ce9acdbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac66d2369a44114a1c4ec19d7ce9acdbb">&#9670;&#160;</a></span>NetConn_OpenServerPorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_OpenServerPorts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>opennetports</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01158">1158</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1159</span>{</div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keywordtype">int</span> port;</div>
<div class="line"><span class="lineno"> 1161</span>    <a class="code hl_function" href="netconn_8c.html#ad45b0918fbf9513a47eaf51b27b1c6de">NetConn_CloseServerPorts</a>();</div>
<div class="line"><span class="lineno"> 1162</span> </div>
<div class="line"><span class="lineno"> 1163</span>    <a class="code hl_define" href="server_8h.html#a451b91ad4ba3a1d0fbd9f3fddf0d6f84">SV_LockThreadMutex</a>(); <span class="comment">// FIXME recursive?</span></div>
<div class="line"><span class="lineno"> 1164</span>    <a class="code hl_function" href="crypto_8c.html#a1e6cc26fc4d71eacae07453774cf06de">Crypto_LoadKeys</a>(); <span class="comment">// server sockets</span></div>
<div class="line"><span class="lineno"> 1165</span>    <a class="code hl_define" href="server_8h.html#aaab8b61921b35b19229b091879106e12">SV_UnlockThreadMutex</a>();</div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>    <a class="code hl_function" href="netconn_8c.html#a53fe62ae3af70f7fc4564fe951bbb4dd">NetConn_UpdateSockets</a>();</div>
<div class="line"><span class="lineno"> 1168</span>    port = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="netconn_8c.html#afdebe98dae636b669ea48f01e273b9f0">sv_netport</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, 65535);</div>
<div class="line"><span class="lineno"> 1169</span>    <span class="keywordflow">if</span> (port == 0)</div>
<div class="line"><span class="lineno"> 1170</span>        port = 26000;</div>
<div class="line"><span class="lineno"> 1171</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#afdebe98dae636b669ea48f01e273b9f0">sv_netport</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != port)</div>
<div class="line"><span class="lineno"> 1172</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#afdebe98dae636b669ea48f01e273b9f0">sv_netport</a>, port);</div>
<div class="line"><span class="lineno"> 1173</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 1174</span>        <a class="code hl_function" href="netconn_8c.html#afdd2272c38a67b73475494387f48f3b6">NetConn_OpenServerPort</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a>, 1, 1);</div>
<div class="line"><span class="lineno"> 1175</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opennetports</a>)</div>
<div class="line"><span class="lineno"> 1176</span>    {</div>
<div class="line"><span class="lineno"> 1177</span><span class="preprocessor">#ifndef NOSUPPORTIPV6</span></div>
<div class="line"><span class="lineno"> 1178</span>        <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ip4success</a> = <a class="code hl_function" href="netconn_8c.html#afdd2272c38a67b73475494387f48f3b6">NetConn_OpenServerPort</a>(<a class="code hl_variable" href="netconn_8c.html#ae0b4f256612e6aaec5fb7fca221ad4a0">net_address</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a8d130db7ee413173dc374366816426f2">LHNETADDRESSTYPE_INET4</a>, port, 100);</div>
<div class="line"><span class="lineno"> 1179</span>        <a class="code hl_function" href="netconn_8c.html#afdd2272c38a67b73475494387f48f3b6">NetConn_OpenServerPort</a>(<a class="code hl_variable" href="netconn_8c.html#a0f1527114200da3066be49236a9e8c80">net_address_ipv6</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a71820d6296fb379a882fd00e9f45e88e">LHNETADDRESSTYPE_INET6</a>, port, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ip4success</a> ? 1 : 100);</div>
<div class="line"><span class="lineno"> 1180</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1181</span>        <a class="code hl_function" href="netconn_8c.html#afdd2272c38a67b73475494387f48f3b6">NetConn_OpenServerPort</a>(<a class="code hl_variable" href="netconn_8c.html#ae0b4f256612e6aaec5fb7fca221ad4a0">net_address</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183a8d130db7ee413173dc374366816426f2">LHNETADDRESSTYPE_INET4</a>, port, 100);</div>
<div class="line"><span class="lineno"> 1182</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1183</span>    }</div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a> == 0)</div>
<div class="line"><span class="lineno"> 1185</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;NetConn_OpenServerPorts: unable to open any ports!&quot;</span>);</div>
<div class="line"><span class="lineno"> 1186</span>}</div>
<div class="ttc" id="ahost_8c_html_a6207a721d43b13be42aa21a2bb4d3350"><div class="ttname"><a href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a></div><div class="ttdeci">void Host_Error(const char *error,...)</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00085">host.c:85</a></div></div>
<div class="ttc" id="anetconn_8c_html_ad45b0918fbf9513a47eaf51b27b1c6de"><div class="ttname"><a href="netconn_8c.html#ad45b0918fbf9513a47eaf51b27b1c6de">NetConn_CloseServerPorts</a></div><div class="ttdeci">void NetConn_CloseServerPorts(void)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01111">netconn.c:1111</a></div></div>
<div class="ttc" id="anetconn_8c_html_afdd2272c38a67b73475494387f48f3b6"><div class="ttname"><a href="netconn_8c.html#afdd2272c38a67b73475494387f48f3b6">NetConn_OpenServerPort</a></div><div class="ttdeci">static qbool NetConn_OpenServerPort(const char *addressstring, lhnetaddresstype_t addresstype, int defaultport, int range)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01118">netconn.c:1118</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l00430">Log_DestBuffer_Flush_NoLock()</a>, and <a class="el" href="sv__main_8c_source.html#l01800">SV_SpawnServer()</a>.</p>

</div>
</div>
<a id="abe5c6cf2ecbc7231fe31186a70423a88" name="abe5c6cf2ecbc7231fe31186a70423a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe5c6cf2ecbc7231fe31186a70423a88">&#9670;&#160;</a></span>NetConn_PreventFlood()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> NetConn_PreventFlood </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structserver__floodaddress__t.html">server_floodaddress_t</a> *&#160;</td>
          <td class="paramname"><em>floodlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>floodlength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>floodtime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>renew</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02872">2872</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2873</span>{</div>
<div class="line"><span class="lineno"> 2874</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodslotnum</a>;</div>
<div class="line"><span class="lineno"> 2875</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodtime</a>;</div>
<div class="line"><span class="lineno"> 2876</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a>;</div>
<div class="line"><span class="lineno"> 2877</span>    <span class="comment">// see if this is a connect flood</span></div>
<div class="line"><span class="lineno"> 2878</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a> = *peeraddress;</div>
<div class="line"><span class="lineno"> 2879</span>    <a class="code hl_function" href="lhnet_8c.html#a08a46a5e7b9bcc97ddf4ab33bb411ae8">LHNETADDRESS_SetPort</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a>, 0);</div>
<div class="line"><span class="lineno"> 2880</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodslotnum</a> = 0;</div>
<div class="line"><span class="lineno"> 2881</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodtime</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodslotnum</a>].lasttime;</div>
<div class="line"><span class="lineno"> 2882</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlength</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>++)</div>
<div class="line"><span class="lineno"> 2883</span>    {</div>
<div class="line"><span class="lineno"> 2884</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodtime</a> &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].lasttime)</div>
<div class="line"><span class="lineno"> 2885</span>        {</div>
<div class="line"><span class="lineno"> 2886</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodtime</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].lasttime;</div>
<div class="line"><span class="lineno"> 2887</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodslotnum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>;</div>
<div class="line"><span class="lineno"> 2888</span>        }</div>
<div class="line"><span class="lineno"> 2889</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].lasttime &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].address) == 0)</div>
<div class="line"><span class="lineno"> 2890</span>        {</div>
<div class="line"><span class="lineno"> 2891</span>            <span class="comment">// this address matches an ongoing flood address</span></div>
<div class="line"><span class="lineno"> 2892</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].lasttime + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodtime</a>)</div>
<div class="line"><span class="lineno"> 2893</span>            {</div>
<div class="line"><span class="lineno"> 2894</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">renew</a>)</div>
<div class="line"><span class="lineno"> 2895</span>                {</div>
<div class="line"><span class="lineno"> 2896</span>                    <span class="comment">// renew the ban on this address so it does not expire</span></div>
<div class="line"><span class="lineno"> 2897</span>                    <span class="comment">// until the flood has subsided</span></div>
<div class="line"><span class="lineno"> 2898</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>].lasttime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 2899</span>                }</div>
<div class="line"><span class="lineno"> 2900</span>                <span class="comment">//Con_Printf(&quot;Flood detected!\n&quot;);</span></div>
<div class="line"><span class="lineno"> 2901</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2902</span>            }</div>
<div class="line"><span class="lineno"> 2903</span>            <span class="comment">// the flood appears to have subsided, so allow this</span></div>
<div class="line"><span class="lineno"> 2904</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodslotnum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodslotnum</a>; <span class="comment">// reuse the same slot</span></div>
<div class="line"><span class="lineno"> 2905</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2906</span>        }</div>
<div class="line"><span class="lineno"> 2907</span>    }</div>
<div class="line"><span class="lineno"> 2908</span>    <span class="comment">// begin a new timeout on this address</span></div>
<div class="line"><span class="lineno"> 2909</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodslotnum</a>].address = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">noportpeeraddress</a>;</div>
<div class="line"><span class="lineno"> 2910</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floodlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bestfloodslotnum</a>].lasttime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 2911</span>    <span class="comment">//Con_Printf(&quot;Flood detection initiated!\n&quot;);</span></div>
<div class="line"><span class="lineno"> 2912</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2913</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a32cdef72a697789efb6435689f0c51a2" name="a32cdef72a697789efb6435689f0c51a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32cdef72a697789efb6435689f0c51a2">&#9670;&#160;</a></span>NetConn_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td>
          <td class="paramname"><em>mysocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>maxlength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00716">716</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  717</span>{</div>
<div class="line"><span class="lineno">  718</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>    <span class="keywordflow">if</span> (mysocket-&gt;<a class="code hl_variable" href="structlhnetsocket__t.html#aca06685cb3bfd510c27944c09a8a529b">address</a>.<a class="code hl_variable" href="structlhnetaddress__t.html#a03061e1e9980e51aee4083e86829b0ad">addresstype</a> == <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a> &amp;&amp; <a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>)</div>
<div class="line"><span class="lineno">  722</span>        <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>);</div>
<div class="line"><span class="lineno">  723</span>    <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_function" href="lhnet_8c.html#a8a3d464803101e400e5358c8fde8e683">LHNET_Read</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlength</a>, peeraddress);</div>
<div class="line"><span class="lineno">  724</span>    <span class="keywordflow">if</span> (mysocket-&gt;<a class="code hl_variable" href="structlhnetsocket__t.html#aca06685cb3bfd510c27944c09a8a529b">address</a>.<a class="code hl_variable" href="structlhnetaddress__t.html#a03061e1e9980e51aee4083e86829b0ad">addresstype</a> == <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a> &amp;&amp; <a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>)</div>
<div class="line"><span class="lineno">  725</span>        <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>);</div>
<div class="line"><span class="lineno">  726</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> == 0)</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  728</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a89766ee95baa52999ba454b7cd4d3293">net_fakeloss_receive</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  729</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  730</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == mysocket &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>() % 100) &lt; <a class="code hl_variable" href="netconn_8c.html#a89766ee95baa52999ba454b7cd4d3293">net_fakeloss_receive</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  731</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a6ec6ab811f71ef2e66d3aa1710c0a095">developer_networking</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  733</span>    {</div>
<div class="line"><span class="lineno">  734</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>[128], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>[128];</div>
<div class="line"><span class="lineno">  735</span>        <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(mysocket), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 0)</div>
<div class="line"><span class="lineno">  737</span>        {</div>
<div class="line"><span class="lineno">  738</span>            <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  739</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;LHNET_Read(%p (%s), %p, %i, %p) = %i from %s:\n&quot;</span>, (<span class="keywordtype">void</span> *)mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, (<span class="keywordtype">void</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlength</a>, (<span class="keywordtype">void</span> *)peeraddress, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno">  740</span>            <a class="code hl_function" href="common_8c.html#a9913aa4c9e2d0acfc38638235bbe31ca">Com_HexDumpToConsole</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno">  741</span>        }</div>
<div class="line"><span class="lineno">  742</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  743</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;LHNET_Read(%p (%s), %p, %i, %p) = %i\n&quot;</span>, (<span class="keywordtype">void</span> *)mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, (<span class="keywordtype">void</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlength</a>, (<span class="keywordtype">void</span> *)peeraddress, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno">  744</span>    }</div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno">  746</span>}</div>
<div class="ttc" id="alhnet_8c_html_a8a3d464803101e400e5358c8fde8e683"><div class="ttname"><a href="lhnet_8c.html#a8a3d464803101e400e5358c8fde8e683">LHNET_Read</a></div><div class="ttdeci">int LHNET_Read(lhnetsocket_t *lhnetsocket, void *content, int maxcontentlength, lhnetaddress_t *vaddress)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l01034">lhnet.c:1034</a></div></div>
<div class="ttc" id="astructlhnetaddress__t_html_a03061e1e9980e51aee4083e86829b0ad"><div class="ttname"><a href="structlhnetaddress__t.html#a03061e1e9980e51aee4083e86829b0ad">lhnetaddress_t::addresstype</a></div><div class="ttdeci">lhnetaddresstype_t addresstype</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00021">lhnet.h:21</a></div></div>
<div class="ttc" id="astructlhnetsocket__t_html_aca06685cb3bfd510c27944c09a8a529b"><div class="ttname"><a href="structlhnetsocket__t.html#aca06685cb3bfd510c27944c09a8a529b">lhnetsocket_t::address</a></div><div class="ttdeci">lhnetaddress_t address</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00045">lhnet.h:45</a></div></div>
<div class="ttc" id="athread_8h_html_a7f3f3ae74fd58a8277941afd6a271b43"><div class="ttname"><a href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a></div><div class="ttdeci">#define Thread_LockMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00017">thread.h:17</a></div></div>
<div class="ttc" id="athread_8h_html_ada4fef8706961af60f0404fdbfa50be7"><div class="ttname"><a href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a></div><div class="ttdeci">#define Thread_UnlockMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00018">thread.h:18</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02623">NetConn_ClientFrame()</a>, and <a class="el" href="netconn_8c_source.html#l03806">NetConn_ServerFrame()</a>.</p>

</div>
</div>
<a id="a310bc9b48254f2c8e90138890a17b9be" name="a310bc9b48254f2c8e90138890a17b9be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a310bc9b48254f2c8e90138890a17b9be">&#9670;&#160;</a></span>NetConn_ReceivedMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_ReceivedMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetconn__t.html">netconn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#a366ae823bcda0303072d32ce8bf197ac">protocolversion_t</a>&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>newtimeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01321">1321</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1322</span>{</div>
<div class="line"><span class="lineno"> 1323</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 1324</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>];</div>
<div class="line"><span class="lineno"> 1325</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>+<a class="code hl_define" href="crypto_8h.html#a243fd02f64d57160121c22fabedaac9d">CRYPTO_HEADERSIZE</a>];</div>
<div class="line"><span class="lineno"> 1326</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptoreadbuffer</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>+<a class="code hl_define" href="crypto_8h.html#a243fd02f64d57160121c22fabedaac9d">CRYPTO_HEADERSIZE</a>];</div>
<div class="line"><span class="lineno"> 1327</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &lt; 8)</div>
<div class="line"><span class="lineno"> 1328</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1329</span> </div>
<div class="line"><span class="lineno"> 1330</span>    <span class="keywordflow">if</span> (protocol == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b">PROTOCOL_QUAKEWORLD</a>)</div>
<div class="line"><span class="lineno"> 1331</span>    {</div>
<div class="line"><span class="lineno"> 1332</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sequence, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sequence_ack</a>;</div>
<div class="line"><span class="lineno"> 1333</span>        <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reliable_ack</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reliable_message</a>;</div>
<div class="line"><span class="lineno"> 1334</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 1335</span>        <span class="comment">//int qport;</span></div>
<div class="line"><span class="lineno"> 1336</span> </div>
<div class="line"><span class="lineno"> 1337</span>        sequence = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(*((<span class="keywordtype">int</span> *)(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + 0)));</div>
<div class="line"><span class="lineno"> 1338</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sequence_ack</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(*((<span class="keywordtype">int</span> *)(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + 4)));</div>
<div class="line"><span class="lineno"> 1339</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 8;</div>
<div class="line"><span class="lineno"> 1340</span>        <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 8;</div>
<div class="line"><span class="lineno"> 1341</span> </div>
<div class="line"><span class="lineno"> 1342</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> != <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>)</div>
<div class="line"><span class="lineno"> 1343</span>        {</div>
<div class="line"><span class="lineno"> 1344</span>            <span class="comment">// server only</span></div>
<div class="line"><span class="lineno"> 1345</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &lt; 2)</div>
<div class="line"><span class="lineno"> 1346</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1347</span>            <span class="comment">// TODO: use qport to identify that this client really is who they say they are?  (and elsewhere in the code to identify the connection without a port match?)</span></div>
<div class="line"><span class="lineno"> 1348</span>            <span class="comment">//qport = LittleShort(*((int *)(data + 8)));</span></div>
<div class="line"><span class="lineno"> 1349</span>            <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 2;</div>
<div class="line"><span class="lineno"> 1350</span>            <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 2;</div>
<div class="line"><span class="lineno"> 1351</span>        }</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsReceived++;</div>
<div class="line"><span class="lineno"> 1354</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reliable_message</a> = (sequence &gt;&gt; 31) != 0;</div>
<div class="line"><span class="lineno"> 1355</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reliable_ack</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sequence_ack</a> &gt;&gt; 31) != 0;</div>
<div class="line"><span class="lineno"> 1356</span>        sequence &amp;= ~(1u&lt;&lt;31);</div>
<div class="line"><span class="lineno"> 1357</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sequence_ack</a> &amp;= ~(1u&lt;&lt;31);</div>
<div class="line"><span class="lineno"> 1358</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sequence &lt;= conn-&gt;</a>qw.incoming_sequence)</div>
<div class="line"><span class="lineno"> 1359</span>        {</div>
<div class="line"><span class="lineno"> 1360</span>            <span class="comment">//Con_DPrint(&quot;Got a stale datagram\n&quot;);</span></div>
<div class="line"><span class="lineno"> 1361</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1362</span>        }</div>
<div class="line"><span class="lineno"> 1363</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = sequence - (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_sequence + 1);</div>
<div class="line"><span class="lineno"> 1364</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 1365</span>        {</div>
<div class="line"><span class="lineno"> 1366</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;droppedDatagrams += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 1367</span>            <span class="comment">//Con_DPrintf(&quot;Dropped %u datagram(s)\n&quot;, count);</span></div>
<div class="line"><span class="lineno"> 1368</span>            <span class="comment">// If too may packets have been dropped, only write the</span></div>
<div class="line"><span class="lineno"> 1369</span>            <span class="comment">// last NETGRAPH_PACKETS ones to the netgraph. Why?</span></div>
<div class="line"><span class="lineno"> 1370</span>            <span class="comment">// Because there&#39;s no point in writing more than</span></div>
<div class="line"><span class="lineno"> 1371</span>            <span class="comment">// these as the netgraph is going to be full anyway.</span></div>
<div class="line"><span class="lineno"> 1372</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>)</div>
<div class="line"><span class="lineno"> 1373</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>;</div>
<div class="line"><span class="lineno"> 1374</span>            <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>--)</div>
<div class="line"><span class="lineno"> 1375</span>            {</div>
<div class="line"><span class="lineno"> 1376</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter + 1) % <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>;</div>
<div class="line"><span class="lineno"> 1377</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].time            = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1378</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].cleartime       = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_cleartime;</div>
<div class="line"><span class="lineno"> 1379</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].unreliablebytes = <a class="code hl_define" href="netconn_8h.html#ad13543000d4333dbfe0dd250caef8d8a">NETGRAPH_LOSTPACKET</a>;</div>
<div class="line"><span class="lineno"> 1380</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].reliablebytes   = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno"> 1381</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].ackbytes        = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno"> 1382</span>            }</div>
<div class="line"><span class="lineno"> 1383</span>        }</div>
<div class="line"><span class="lineno"> 1384</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter + 1) % <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>;</div>
<div class="line"><span class="lineno"> 1385</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].time            = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1386</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].cleartime       = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_cleartime;</div>
<div class="line"><span class="lineno"> 1387</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].unreliablebytes = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> + 28;</div>
<div class="line"><span class="lineno"> 1388</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].reliablebytes   = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno"> 1389</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].ackbytes        = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno"> 1390</span>        <a class="code hl_function" href="netconn_8c.html#a880160743f307a53e90fae1751c89d1a">NetConn_UpdateCleartime</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_cleartime, <a class="code hl_variable" href="cl__cmd_8c.html#a7c05d4163b3f257e67985a86dfe4abbe">cl_rate</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__cmd_8c.html#a6061bc80258ac02f39f9515c2f1dbc97">cl_rate_burstsize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> + 28);</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span>        <span class="comment">// limit bursts to one packet in size (&quot;dialup mode&quot; emulating old behaviour)</span></div>
<div class="line"><span class="lineno"> 1393</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ab02c233c5d0c32d9dc768c5d4dbb390d">net_test</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1394</span>        {</div>
<div class="line"><span class="lineno"> 1395</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;cleartime &lt; <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>)</div>
<div class="line"><span class="lineno"> 1396</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;cleartime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1397</span>        }</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reliable_ack</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.reliable_sequence)</div>
<div class="line"><span class="lineno"> 1400</span>        {</div>
<div class="line"><span class="lineno"> 1401</span>            <span class="comment">// received, now we will be able to send another reliable message</span></div>
<div class="line"><span class="lineno"> 1402</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength = 0;</div>
<div class="line"><span class="lineno"> 1403</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;reliableMessagesReceived++;</div>
<div class="line"><span class="lineno"> 1404</span>        }</div>
<div class="line"><span class="lineno"> 1405</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_sequence = sequence;</div>
<div class="line"><span class="lineno"> 1406</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> == <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>)</div>
<div class="line"><span class="lineno"> 1407</span>            <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a91a7f97c0a6dd8443ef3d3528796b98a">qw_incoming_sequence</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_sequence;</div>
<div class="line"><span class="lineno"> 1408</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_acknowledged = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sequence_ack</a>;</div>
<div class="line"><span class="lineno"> 1409</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_reliable_acknowledged = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reliable_ack</a>;</div>
<div class="line"><span class="lineno"> 1410</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reliable_message</a>)</div>
<div class="line"><span class="lineno"> 1411</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_reliable_sequence ^= 1;</div>
<div class="line"><span class="lineno"> 1412</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastMessageTime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1413</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;timeout = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newtimeout</a>;</div>
<div class="line"><span class="lineno"> 1414</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;unreliableMessagesReceived++;</div>
<div class="line"><span class="lineno"> 1415</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> == <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>)</div>
<div class="line"><span class="lineno"> 1416</span>        {</div>
<div class="line"><span class="lineno"> 1417</span>            <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 1418</span>            <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 1419</span>            <a class="code hl_function" href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 1420</span>        }</div>
<div class="line"><span class="lineno"> 1421</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1422</span>        {</div>
<div class="line"><span class="lineno"> 1423</span>            <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 1424</span>            <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 1425</span>            <a class="code hl_function" href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 1426</span>        }</div>
<div class="line"><span class="lineno"> 1427</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 1428</span>    }</div>
<div class="line"><span class="lineno"> 1429</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1430</span>    {</div>
<div class="line"><span class="lineno"> 1431</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 1432</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags;</div>
<div class="line"><span class="lineno"> 1433</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sequence;</div>
<div class="line"><span class="lineno"> 1434</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qlength</a>;</div>
<div class="line"><span class="lineno"> 1435</span>        <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>;</div>
<div class="line"><span class="lineno"> 1436</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>;</div>
<div class="line"><span class="lineno"> 1437</span> </div>
<div class="line"><span class="lineno"> 1438</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 1439</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_function" href="crypto_8c.html#a5edc59e776eb84e8d80fd7a1c83e7973">Crypto_DecryptPacket</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptoreadbuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptoreadbuffer</a>));</div>
<div class="line"><span class="lineno"> 1440</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><span class="lineno"> 1441</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1442</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &lt; 8)</div>
<div class="line"><span class="lineno"> 1443</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1444</span> </div>
<div class="line"><span class="lineno"> 1445</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qlength</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_function" href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><span class="lineno"> 1446</span>        flags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qlength</a> &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~NETFLAG_LENGTH_MASK</a>;</div>
<div class="line"><span class="lineno"> 1447</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qlength</a> &amp;= <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>;</div>
<div class="line"><span class="lineno"> 1448</span>        <span class="comment">// control packets were already handled</span></div>
<div class="line"><span class="lineno"> 1449</span>        <span class="keywordflow">if</span> (!(flags &amp; <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qlength</a> == <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>)</div>
<div class="line"><span class="lineno"> 1450</span>        {</div>
<div class="line"><span class="lineno"> 1451</span>            sequence = <a class="code hl_function" href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + 4);</div>
<div class="line"><span class="lineno"> 1452</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsReceived++;</div>
<div class="line"><span class="lineno"> 1453</span>            <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 8;</div>
<div class="line"><span class="lineno"> 1454</span>            <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 8;</div>
<div class="line"><span class="lineno"> 1455</span>            <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="netconn_8h.html#a6330cb2b692c307b3cc22d7de159111f">NETFLAG_UNRELIABLE</a>)</div>
<div class="line"><span class="lineno"> 1456</span>            {</div>
<div class="line"><span class="lineno"> 1457</span>                <span class="keywordflow">if</span> (sequence &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.unreliableReceiveSequence)</div>
<div class="line"><span class="lineno"> 1458</span>                {</div>
<div class="line"><span class="lineno"> 1459</span>                    <span class="keywordflow">if</span> (sequence &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.unreliableReceiveSequence)</div>
<div class="line"><span class="lineno"> 1460</span>                    {</div>
<div class="line"><span class="lineno"> 1461</span>                        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = sequence - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.unreliableReceiveSequence;</div>
<div class="line"><span class="lineno"> 1462</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;droppedDatagrams += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 1463</span>                        <span class="comment">//Con_DPrintf(&quot;Dropped %u datagram(s)\n&quot;, count);</span></div>
<div class="line"><span class="lineno"> 1464</span>                        <span class="comment">// If too may packets have been dropped, only write the</span></div>
<div class="line"><span class="lineno"> 1465</span>                        <span class="comment">// last NETGRAPH_PACKETS ones to the netgraph. Why?</span></div>
<div class="line"><span class="lineno"> 1466</span>                        <span class="comment">// Because there&#39;s no point in writing more than</span></div>
<div class="line"><span class="lineno"> 1467</span>                        <span class="comment">// these as the netgraph is going to be full anyway.</span></div>
<div class="line"><span class="lineno"> 1468</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>)</div>
<div class="line"><span class="lineno"> 1469</span>                            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>;</div>
<div class="line"><span class="lineno"> 1470</span>                        <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>--)</div>
<div class="line"><span class="lineno"> 1471</span>                        {</div>
<div class="line"><span class="lineno"> 1472</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter + 1) % <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>;</div>
<div class="line"><span class="lineno"> 1473</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].time            = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1474</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].cleartime       = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_cleartime;</div>
<div class="line"><span class="lineno"> 1475</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].unreliablebytes = <a class="code hl_define" href="netconn_8h.html#ad13543000d4333dbfe0dd250caef8d8a">NETGRAPH_LOSTPACKET</a>;</div>
<div class="line"><span class="lineno"> 1476</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].reliablebytes   = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno"> 1477</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].ackbytes        = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno"> 1478</span>                        }</div>
<div class="line"><span class="lineno"> 1479</span>                    }</div>
<div class="line"><span class="lineno"> 1480</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter + 1) % <a class="code hl_define" href="netconn_8h.html#a2ee59cc2e9350fc4cdb836ec70491aa7">NETGRAPH_PACKETS</a>;</div>
<div class="line"><span class="lineno"> 1481</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].time            = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1482</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].cleartime       = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_cleartime;</div>
<div class="line"><span class="lineno"> 1483</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].unreliablebytes = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> + 28;</div>
<div class="line"><span class="lineno"> 1484</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].reliablebytes   = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno"> 1485</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].ackbytes        = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno"> 1486</span>                    <a class="code hl_function" href="netconn_8c.html#a880160743f307a53e90fae1751c89d1a">NetConn_UpdateCleartime</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_cleartime, <a class="code hl_variable" href="cl__cmd_8c.html#a7c05d4163b3f257e67985a86dfe4abbe">cl_rate</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__cmd_8c.html#a6061bc80258ac02f39f9515c2f1dbc97">cl_rate_burstsize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> + 28);</div>
<div class="line"><span class="lineno"> 1487</span> </div>
<div class="line"><span class="lineno"> 1488</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.unreliableReceiveSequence = sequence + 1;</div>
<div class="line"><span class="lineno"> 1489</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastMessageTime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1490</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;timeout = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newtimeout</a>;</div>
<div class="line"><span class="lineno"> 1491</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;unreliableMessagesReceived++;</div>
<div class="line"><span class="lineno"> 1492</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 1493</span>                    {</div>
<div class="line"><span class="lineno"> 1494</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> == <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>)</div>
<div class="line"><span class="lineno"> 1495</span>                        {</div>
<div class="line"><span class="lineno"> 1496</span>                            <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 1497</span>                            <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 1498</span>                            <a class="code hl_function" href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 1499</span>                        }</div>
<div class="line"><span class="lineno"> 1500</span>                        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1501</span>                        {</div>
<div class="line"><span class="lineno"> 1502</span>                            <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 1503</span>                            <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 1504</span>                            <a class="code hl_function" href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 1505</span>                        }</div>
<div class="line"><span class="lineno"> 1506</span>                        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 1507</span>                    }</div>
<div class="line"><span class="lineno"> 1508</span>                }</div>
<div class="line"><span class="lineno"> 1509</span>                <span class="comment">//else</span></div>
<div class="line"><span class="lineno"> 1510</span>                <span class="comment">//  Con_DPrint(&quot;Got a stale datagram\n&quot;);</span></div>
<div class="line"><span class="lineno"> 1511</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1512</span>            }</div>
<div class="line"><span class="lineno"> 1513</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="netconn_8h.html#a66ceb7492e8d6370b67a2157073708d0">NETFLAG_ACK</a>)</div>
<div class="line"><span class="lineno"> 1514</span>            {</div>
<div class="line"><span class="lineno"> 1515</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].ackbytes += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> + 28;</div>
<div class="line"><span class="lineno"> 1516</span>                <a class="code hl_function" href="netconn_8c.html#a880160743f307a53e90fae1751c89d1a">NetConn_UpdateCleartime</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_cleartime, <a class="code hl_variable" href="cl__cmd_8c.html#a7c05d4163b3f257e67985a86dfe4abbe">cl_rate</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__cmd_8c.html#a6061bc80258ac02f39f9515c2f1dbc97">cl_rate_burstsize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> + 28);</div>
<div class="line"><span class="lineno"> 1517</span> </div>
<div class="line"><span class="lineno"> 1518</span>                <span class="keywordflow">if</span> (sequence == (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.sendSequence - 1))</div>
<div class="line"><span class="lineno"> 1519</span>                {</div>
<div class="line"><span class="lineno"> 1520</span>                    <span class="keywordflow">if</span> (sequence == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.ackSequence)</div>
<div class="line"><span class="lineno"> 1521</span>                    {</div>
<div class="line"><span class="lineno"> 1522</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.ackSequence++;</div>
<div class="line"><span class="lineno"> 1523</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.ackSequence != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.sendSequence)</div>
<div class="line"><span class="lineno"> 1524</span>                            <a class="code hl_function" href="console_8c.html#aae665de4dbcbf2047ee305901e2f6627">Con_DPrint</a>(<span class="stringliteral">&quot;ack sequencing error\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1525</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastMessageTime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1526</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;timeout = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newtimeout</a>;</div>
<div class="line"><span class="lineno"> 1527</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength &gt; <a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>)</div>
<div class="line"><span class="lineno"> 1528</span>                        {</div>
<div class="line"><span class="lineno"> 1529</span>                            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>;</div>
<div class="line"><span class="lineno"> 1530</span>                            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a>;</div>
<div class="line"><span class="lineno"> 1531</span>                            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a>;</div>
<div class="line"><span class="lineno"> 1532</span> </div>
<div class="line"><span class="lineno"> 1533</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength -= <a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>;</div>
<div class="line"><span class="lineno"> 1534</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memmove</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage+<a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength);</div>
<div class="line"><span class="lineno"> 1535</span> </div>
<div class="line"><span class="lineno"> 1536</span>                            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength &lt;= <a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>)</div>
<div class="line"><span class="lineno"> 1537</span>                            {</div>
<div class="line"><span class="lineno"> 1538</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength;</div>
<div class="line"><span class="lineno"> 1539</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> = <a class="code hl_define" href="netconn_8h.html#a0bd3c5d42007ddf99f8dc2bf8893305c">NETFLAG_EOM</a>;</div>
<div class="line"><span class="lineno"> 1540</span>                            }</div>
<div class="line"><span class="lineno"> 1541</span>                            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1542</span>                            {</div>
<div class="line"><span class="lineno"> 1543</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a> = <a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>;</div>
<div class="line"><span class="lineno"> 1544</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> = 0;</div>
<div class="line"><span class="lineno"> 1545</span>                            }</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> = <a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a>;</div>
<div class="line"><span class="lineno"> 1548</span> </div>
<div class="line"><span class="lineno"> 1549</span>                            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> | (<a class="code hl_define" href="netconn_8h.html#a9a5610ea3852bbe2c9dfcd7afcb81975">NETFLAG_DATA</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> | <a class="code hl_function" href="netconn_8c.html#acbcbf58902ea24f32417d7819b08e7d9">NetConn_AddCryptoFlag</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto)));</div>
<div class="line"><span class="lineno"> 1550</span>                            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + 4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.sendSequence);</div>
<div class="line"><span class="lineno"> 1551</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + <a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a>);</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.sendSequence++;</div>
<div class="line"><span class="lineno"> 1554</span> </div>
<div class="line"><span class="lineno"> 1555</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a> = <a class="code hl_function" href="crypto_8c.html#a31f0f56ef0e8867e2bae48ad0c12eb7c">Crypto_EncryptPacket</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>));</div>
<div class="line"><span class="lineno"> 1556</span>                            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a> &amp;&amp; <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress) == (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>)</div>
<div class="line"><span class="lineno"> 1557</span>                            {</div>
<div class="line"><span class="lineno"> 1558</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastSendTime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1559</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsSent++;</div>
<div class="line"><span class="lineno"> 1560</span>                            }</div>
<div class="line"><span class="lineno"> 1561</span>                        }</div>
<div class="line"><span class="lineno"> 1562</span>                        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1563</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength = 0;</div>
<div class="line"><span class="lineno"> 1564</span>                    }</div>
<div class="line"><span class="lineno"> 1565</span>                    <span class="comment">//else</span></div>
<div class="line"><span class="lineno"> 1566</span>                    <span class="comment">//  Con_DPrint(&quot;Duplicate ACK received\n&quot;);</span></div>
<div class="line"><span class="lineno"> 1567</span>                }</div>
<div class="line"><span class="lineno"> 1568</span>                <span class="comment">//else</span></div>
<div class="line"><span class="lineno"> 1569</span>                <span class="comment">//  Con_DPrint(&quot;Stale ACK received\n&quot;);</span></div>
<div class="line"><span class="lineno"> 1570</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1571</span>            }</div>
<div class="line"><span class="lineno"> 1572</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="netconn_8h.html#a9a5610ea3852bbe2c9dfcd7afcb81975">NETFLAG_DATA</a>)</div>
<div class="line"><span class="lineno"> 1573</span>            {</div>
<div class="line"><span class="lineno"> 1574</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppacket</a>[8];</div>
<div class="line"><span class="lineno"> 1575</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_packetcounter].reliablebytes   += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> + 28;</div>
<div class="line"><span class="lineno"> 1576</span>                <a class="code hl_function" href="netconn_8c.html#a880160743f307a53e90fae1751c89d1a">NetConn_UpdateCleartime</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;incoming_cleartime, <a class="code hl_variable" href="cl__cmd_8c.html#a7c05d4163b3f257e67985a86dfe4abbe">cl_rate</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__cmd_8c.html#a6061bc80258ac02f39f9515c2f1dbc97">cl_rate_burstsize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originallength</a> + 28);</div>
<div class="line"><span class="lineno"> 1577</span> </div>
<div class="line"><span class="lineno"> 1578</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].ackbytes        += 8 + 28;</div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>                <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppacket</a>, 8 | <a class="code hl_define" href="netconn_8h.html#a66ceb7492e8d6370b67a2157073708d0">NETFLAG_ACK</a> | <a class="code hl_function" href="netconn_8c.html#acbcbf58902ea24f32417d7819b08e7d9">NetConn_AddCryptoFlag</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto));</div>
<div class="line"><span class="lineno"> 1581</span>                <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppacket</a> + 4, sequence);</div>
<div class="line"><span class="lineno"> 1582</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a> = <a class="code hl_function" href="crypto_8c.html#a31f0f56ef0e8867e2bae48ad0c12eb7c">Crypto_EncryptPacket</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppacket</a>, 8, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>));</div>
<div class="line"><span class="lineno"> 1583</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>)</div>
<div class="line"><span class="lineno"> 1584</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress);</div>
<div class="line"><span class="lineno"> 1585</span>                <span class="keywordflow">if</span> (sequence == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.receiveSequence)</div>
<div class="line"><span class="lineno"> 1586</span>                {</div>
<div class="line"><span class="lineno"> 1587</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastMessageTime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1588</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;timeout = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newtimeout</a>;</div>
<div class="line"><span class="lineno"> 1589</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.receiveSequence++;</div>
<div class="line"><span class="lineno"> 1590</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessageLength + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &lt;= (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessage ) ) {</div>
<div class="line"><span class="lineno"> 1591</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessage + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessageLength, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 1592</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessageLength += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 1593</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1594</span>                        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>( <span class="stringliteral">&quot;Reliable message (seq: %i) too big for message buffer!\n&quot;</span></div>
<div class="line"><span class="lineno"> 1595</span>                                    <span class="stringliteral">&quot;Dropping the message!\n&quot;</span>, sequence );</div>
<div class="line"><span class="lineno"> 1596</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessageLength = 0;</div>
<div class="line"><span class="lineno"> 1597</span>                        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1598</span>                    }</div>
<div class="line"><span class="lineno"> 1599</span>                    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="netconn_8h.html#a0bd3c5d42007ddf99f8dc2bf8893305c">NETFLAG_EOM</a>)</div>
<div class="line"><span class="lineno"> 1600</span>                    {</div>
<div class="line"><span class="lineno"> 1601</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;reliableMessagesReceived++;</div>
<div class="line"><span class="lineno"> 1602</span>                        <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessageLength;</div>
<div class="line"><span class="lineno"> 1603</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessageLength = 0;</div>
<div class="line"><span class="lineno"> 1604</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 1605</span>                        {</div>
<div class="line"><span class="lineno"> 1606</span>                            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> == <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>)</div>
<div class="line"><span class="lineno"> 1607</span>                            {</div>
<div class="line"><span class="lineno"> 1608</span>                                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 1609</span>                                <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessage, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 1610</span>                                <a class="code hl_function" href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#a41848781c27194b5e2a79654558cc2f5">cl_message</a>);</div>
<div class="line"><span class="lineno"> 1611</span>                            }</div>
<div class="line"><span class="lineno"> 1612</span>                            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1613</span>                            {</div>
<div class="line"><span class="lineno"> 1614</span>                                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 1615</span>                                <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receiveMessage, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 1616</span>                                <a class="code hl_function" href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 1617</span>                            }</div>
<div class="line"><span class="lineno"> 1618</span>                            <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 1619</span>                        }</div>
<div class="line"><span class="lineno"> 1620</span>                    }</div>
<div class="line"><span class="lineno"> 1621</span>                }</div>
<div class="line"><span class="lineno"> 1622</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1623</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receivedDuplicateCount++;</div>
<div class="line"><span class="lineno"> 1624</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1625</span>            }</div>
<div class="line"><span class="lineno"> 1626</span>        }</div>
<div class="line"><span class="lineno"> 1627</span>    }</div>
<div class="line"><span class="lineno"> 1628</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1629</span>}</div>
<div class="ttc" id="acl__cmd_8c_html_a6061bc80258ac02f39f9515c2f1dbc97"><div class="ttname"><a href="cl__cmd_8c.html#a6061bc80258ac02f39f9515c2f1dbc97">cl_rate_burstsize</a></div><div class="ttdeci">cvar_t cl_rate_burstsize</div><div class="ttdef"><b>Definition</b> <a href="cl__cmd_8c_source.html#l00034">cl_cmd.c:34</a></div></div>
<div class="ttc" id="acl__cmd_8c_html_a7c05d4163b3f257e67985a86dfe4abbe"><div class="ttname"><a href="cl__cmd_8c.html#a7c05d4163b3f257e67985a86dfe4abbe">cl_rate</a></div><div class="ttdeci">cvar_t cl_rate</div><div class="ttdef"><b>Definition</b> <a href="cl__cmd_8c_source.html#l00033">cl_cmd.c:33</a></div></div>
<div class="ttc" id="acommon_8h_html_a847f080c3427d188d2a5ecd2935a2d93"><div class="ttname"><a href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a></div><div class="ttdeci">#define LittleLong(l)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00092">common.h:92</a></div></div>
<div class="ttc" id="aconsole_8c_html_aae665de4dbcbf2047ee305901e2f6627"><div class="ttname"><a href="console_8c.html#aae665de4dbcbf2047ee305901e2f6627">Con_DPrint</a></div><div class="ttdeci">void Con_DPrint(const char *msg)</div><div class="ttdoc">A Con_Print that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01477">console.c:1477</a></div></div>
<div class="ttc" id="acrypto_8c_html_a31f0f56ef0e8867e2bae48ad0c12eb7c"><div class="ttname"><a href="crypto_8c.html#a31f0f56ef0e8867e2bae48ad0c12eb7c">Crypto_EncryptPacket</a></div><div class="ttdeci">const void * Crypto_EncryptPacket(crypto_t *crypto, const void *data_src, size_t len_src, void *data_dst, size_t *len_dst, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l01527">crypto.c:1527</a></div></div>
<div class="ttc" id="acrypto_8c_html_a5edc59e776eb84e8d80fd7a1c83e7973"><div class="ttname"><a href="crypto_8c.html#a5edc59e776eb84e8d80fd7a1c83e7973">Crypto_DecryptPacket</a></div><div class="ttdeci">const void * Crypto_DecryptPacket(crypto_t *crypto, const void *data_src, size_t len_src, void *data_dst, size_t *len_dst, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l01584">crypto.c:1584</a></div></div>
<div class="ttc" id="aglquake_8h_html_a51af0e2e7aa22f9dc0c188ee8baa7a11"><div class="ttname"><a href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a></div><div class="ttdeci">GLenum GLenum GLsizei count</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="anetconn_8c_html_a880160743f307a53e90fae1751c89d1a"><div class="ttname"><a href="netconn_8c.html#a880160743f307a53e90fae1751c89d1a">NetConn_UpdateCleartime</a></div><div class="ttdeci">static void NetConn_UpdateCleartime(double *cleartime, int rate, int burstsize, int len)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00796">netconn.c:796</a></div></div>
<div class="ttc" id="anetconn_8c_html_acbcbf58902ea24f32417d7819b08e7d9"><div class="ttname"><a href="netconn_8c.html#acbcbf58902ea24f32417d7819b08e7d9">NetConn_AddCryptoFlag</a></div><div class="ttdeci">static int NetConn_AddCryptoFlag(crypto_t *crypto)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00813">netconn.c:813</a></div></div>
<div class="ttc" id="anetconn_8h_html_a0bd3c5d42007ddf99f8dc2bf8893305c"><div class="ttname"><a href="netconn_8h.html#a0bd3c5d42007ddf99f8dc2bf8893305c">NETFLAG_EOM</a></div><div class="ttdeci">#define NETFLAG_EOM</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00039">netconn.h:39</a></div></div>
<div class="ttc" id="anetconn_8h_html_a6330cb2b692c307b3cc22d7de159111f"><div class="ttname"><a href="netconn_8h.html#a6330cb2b692c307b3cc22d7de159111f">NETFLAG_UNRELIABLE</a></div><div class="ttdeci">#define NETFLAG_UNRELIABLE</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00040">netconn.h:40</a></div></div>
<div class="ttc" id="anetconn_8h_html_a66ceb7492e8d6370b67a2157073708d0"><div class="ttname"><a href="netconn_8h.html#a66ceb7492e8d6370b67a2157073708d0">NETFLAG_ACK</a></div><div class="ttdeci">#define NETFLAG_ACK</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00037">netconn.h:37</a></div></div>
<div class="ttc" id="anetconn_8h_html_a9a5610ea3852bbe2c9dfcd7afcb81975"><div class="ttname"><a href="netconn_8h.html#a9a5610ea3852bbe2c9dfcd7afcb81975">NETFLAG_DATA</a></div><div class="ttdeci">#define NETFLAG_DATA</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00036">netconn.h:36</a></div></div>
<div class="ttc" id="anetconn_8h_html_ad13543000d4333dbfe0dd250caef8d8a"><div class="ttname"><a href="netconn_8h.html#ad13543000d4333dbfe0dd250caef8d8a">NETGRAPH_LOSTPACKET</a></div><div class="ttdeci">#define NETGRAPH_LOSTPACKET</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00224">netconn.h:224</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a7474f3c2f17f4b1d019bff623308d87f"><div class="ttname"><a href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a></div><div class="ttdeci">#define MAX_PACKETFRAGMENT</div><div class="ttdoc">max length of packet fragment</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00104">qdefs.h:104</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a91a7f97c0a6dd8443ef3d3528796b98a"><div class="ttname"><a href="structclient__static__t.html#a91a7f97c0a6dd8443ef3d3528796b98a">client_static_t::qw_incoming_sequence</a></div><div class="ttdeci">unsigned int qw_incoming_sequence</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00645">client.h:645</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="ad4c9a97d25973921b0c00170be244bda" name="ad4c9a97d25973921b0c00170be244bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c9a97d25973921b0c00170be244bda">&#9670;&#160;</a></span>NetConn_SendUnreliableMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_SendUnreliableMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetconn__t.html">netconn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#a366ae823bcda0303072d32ce8bf197ac">protocolversion_t</a>&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>burstsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quakesignon_suppressreliables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00834">834</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  835</span>{</div>
<div class="line"><span class="lineno">  836</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallen</a> = 0;</div>
<div class="line"><span class="lineno">  837</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>];</div>
<div class="line"><span class="lineno">  838</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>+<a class="code hl_define" href="crypto_8h.html#a243fd02f64d57160121c22fabedaac9d">CRYPTO_HEADERSIZE</a>];</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>    <span class="comment">// if this packet was supposedly choked, but we find ourselves sending one</span></div>
<div class="line"><span class="lineno">  841</span>    <span class="comment">// anyway, make sure the size counting starts at zero</span></div>
<div class="line"><span class="lineno">  842</span>    <span class="comment">// (this mostly happens on level changes and disconnects and such)</span></div>
<div class="line"><span class="lineno">  843</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].unreliablebytes == <a class="code hl_define" href="netconn_8h.html#a705947480fd1a8fee3fd9a4d2fd0d172">NETGRAPH_CHOKEDPACKET</a>)</div>
<div class="line"><span class="lineno">  844</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].unreliablebytes = <a class="code hl_define" href="netconn_8h.html#a2db70967c95a26d9d929ed07588e61b1">NETGRAPH_NOPACKET</a>;</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].cleartime = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;cleartime;</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>    <span class="keywordflow">if</span> (protocol == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b">PROTOCOL_QUAKEWORLD</a>)</div>
<div class="line"><span class="lineno">  849</span>    {</div>
<div class="line"><span class="lineno">  850</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>;</div>
<div class="line"><span class="lineno">  851</span>        <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendreliable</a>;</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>        <span class="comment">// note that it is ok to send empty messages to the qw server,</span></div>
<div class="line"><span class="lineno">  854</span>        <span class="comment">// otherwise it won&#39;t respond to us at all</span></div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendreliable</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  857</span>        <span class="comment">// if the remote side dropped the last reliable message, resend it</span></div>
<div class="line"><span class="lineno">  858</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_acknowledged &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.last_reliable_sequence &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_reliable_acknowledged != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.reliable_sequence)</div>
<div class="line"><span class="lineno">  859</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendreliable</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  860</span>        <span class="comment">// if the reliable transmit buffer is empty, copy the current message out</span></div>
<div class="line"><span class="lineno">  861</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize)</div>
<div class="line"><span class="lineno">  862</span>        {</div>
<div class="line"><span class="lineno">  863</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.data, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize);</div>
<div class="line"><span class="lineno">  864</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize;</div>
<div class="line"><span class="lineno">  865</span>            <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message); <span class="comment">// clear the message buffer</span></div>
<div class="line"><span class="lineno">  866</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.reliable_sequence ^= 1;</div>
<div class="line"><span class="lineno">  867</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendreliable</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  868</span>        }</div>
<div class="line"><span class="lineno">  869</span>        <span class="comment">// outgoing unreliable packet number, and outgoing reliable packet number (0 or 1)</span></div>
<div class="line"><span class="lineno">  870</span>        <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_unreliable_sequence | (((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendreliable</a>)&lt;&lt;31));</div>
<div class="line"><span class="lineno">  871</span>        <span class="comment">// last received unreliable packet number, and last received reliable packet number (0 or 1)</span></div>
<div class="line"><span class="lineno">  872</span>        <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + 4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_sequence | (((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_reliable_sequence)&lt;&lt;31));</div>
<div class="line"><span class="lineno">  873</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> = 8;</div>
<div class="line"><span class="lineno">  874</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_unreliable_sequence++;</div>
<div class="line"><span class="lineno">  875</span>        <span class="comment">// client sends qport in every packet</span></div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> == <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>)</div>
<div class="line"><span class="lineno">  877</span>        {</div>
<div class="line"><span class="lineno">  878</span>            *((<span class="keywordtype">short</span> *)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + 8)) = <a class="code hl_define" href="common_8h.html#a57da51d1adc687976e75633147d7c184">LittleShort</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a2baaa344e72b625eacc8e5b94a0cd0fc">qw_qport</a>);</div>
<div class="line"><span class="lineno">  879</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> += 2;</div>
<div class="line"><span class="lineno">  880</span>            <span class="comment">// also update cls.qw_outgoing_sequence</span></div>
<div class="line"><span class="lineno">  881</span>            <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a8e913c1454e04c299d820cca5bcff561">qw_outgoing_sequence</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_unreliable_sequence;</div>
<div class="line"><span class="lineno">  882</span>        }</div>
<div class="line"><span class="lineno">  883</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendreliable</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength : 0) &gt; 1400)</div>
<div class="line"><span class="lineno">  884</span>        {</div>
<div class="line"><span class="lineno">  885</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;NetConn_SendUnreliableMessage: reliable message too big %u\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize);</div>
<div class="line"><span class="lineno">  886</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  887</span>        }</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].unreliablebytes += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> + 28;</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>        <span class="comment">// add the reliable message if there is one</span></div>
<div class="line"><span class="lineno">  892</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendreliable</a>)</div>
<div class="line"><span class="lineno">  893</span>        {</div>
<div class="line"><span class="lineno">  894</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].reliablebytes += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength + 28;</div>
<div class="line"><span class="lineno">  895</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength);</div>
<div class="line"><span class="lineno">  896</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength;</div>
<div class="line"><span class="lineno">  897</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.last_reliable_sequence = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_unreliable_sequence;</div>
<div class="line"><span class="lineno">  898</span>        }</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>        <span class="comment">// add the unreliable message if possible</span></div>
<div class="line"><span class="lineno">  901</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> + <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize &lt;= 1400)</div>
<div class="line"><span class="lineno">  902</span>        {</div>
<div class="line"><span class="lineno">  903</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].unreliablebytes += <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize + 28;</div>
<div class="line"><span class="lineno">  904</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;data, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize);</div>
<div class="line"><span class="lineno">  905</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> += <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize;</div>
<div class="line"><span class="lineno">  906</span>        }</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>        <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;mysocket, (<span class="keywordtype">void</span> *)&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress);</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsSent++;</div>
<div class="line"><span class="lineno">  911</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;unreliableMessagesSent++;</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallen</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> + 28;</div>
<div class="line"><span class="lineno">  914</span>    }</div>
<div class="line"><span class="lineno">  915</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  916</span>    {</div>
<div class="line"><span class="lineno">  917</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>;</div>
<div class="line"><span class="lineno">  918</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a>;</div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a>;</div>
<div class="line"><span class="lineno">  920</span>        <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>;</div>
<div class="line"><span class="lineno">  921</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>;</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>        <span class="comment">// if a reliable message fragment has been lost, send it again</span></div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength &amp;&amp; (<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastSendTime) &gt; 1.0)</div>
<div class="line"><span class="lineno">  925</span>        {</div>
<div class="line"><span class="lineno">  926</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength &lt;= <a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>)</div>
<div class="line"><span class="lineno">  927</span>            {</div>
<div class="line"><span class="lineno">  928</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength;</div>
<div class="line"><span class="lineno">  929</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> = <a class="code hl_define" href="netconn_8h.html#a0bd3c5d42007ddf99f8dc2bf8893305c">NETFLAG_EOM</a>;</div>
<div class="line"><span class="lineno">  930</span>            }</div>
<div class="line"><span class="lineno">  931</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  932</span>            {</div>
<div class="line"><span class="lineno">  933</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a> = <a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>;</div>
<div class="line"><span class="lineno">  934</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> = 0;</div>
<div class="line"><span class="lineno">  935</span>            }</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> = <a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a>;</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> | (<a class="code hl_define" href="netconn_8h.html#a9a5610ea3852bbe2c9dfcd7afcb81975">NETFLAG_DATA</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> | <a class="code hl_function" href="netconn_8c.html#acbcbf58902ea24f32417d7819b08e7d9">NetConn_AddCryptoFlag</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto)));</div>
<div class="line"><span class="lineno">  940</span>            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + 4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.sendSequence - 1);</div>
<div class="line"><span class="lineno">  941</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + <a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a>);</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].reliablebytes += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> + 28;</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a> = <a class="code hl_function" href="crypto_8c.html#a31f0f56ef0e8867e2bae48ad0c12eb7c">Crypto_EncryptPacket</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>));</div>
<div class="line"><span class="lineno">  946</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a> &amp;&amp; <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress) == (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>)</div>
<div class="line"><span class="lineno">  947</span>            {</div>
<div class="line"><span class="lineno">  948</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastSendTime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno">  949</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsReSent++;</div>
<div class="line"><span class="lineno">  950</span>            }</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallen</a> += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a> + 28;</div>
<div class="line"><span class="lineno">  953</span>        }</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>        <span class="comment">// if we have a new reliable message to send, do so</span></div>
<div class="line"><span class="lineno">  956</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quakesignon_suppressreliables</a>)</div>
<div class="line"><span class="lineno">  957</span>        {</div>
<div class="line"><span class="lineno">  958</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize &gt; (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage))</div>
<div class="line"><span class="lineno">  959</span>            {</div>
<div class="line"><span class="lineno">  960</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;NetConn_SendUnreliableMessage: reliable message too big (%u &gt; %u)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize, (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage));</div>
<div class="line"><span class="lineno">  961</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.overflowed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  962</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  963</span>            }</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a6ec6ab811f71ef2e66d3aa1710c0a095">developer_networking</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> == <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ab08590ce86dd12767bd25a11bdab24c5">netcon</a>)</div>
<div class="line"><span class="lineno">  966</span>            {</div>
<div class="line"><span class="lineno">  967</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;client sending reliable message to server:\n&quot;</span>);</div>
<div class="line"><span class="lineno">  968</span>                <a class="code hl_function" href="common_8c.html#a9dc0570e4a6a9b2cde489af395f15e69">SZ_HexDumpToConsole</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message);</div>
<div class="line"><span class="lineno">  969</span>            }</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.data, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize);</div>
<div class="line"><span class="lineno">  972</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message.cursize;</div>
<div class="line"><span class="lineno">  973</span>            <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;message);</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength &lt;= <a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>)</div>
<div class="line"><span class="lineno">  976</span>            {</div>
<div class="line"><span class="lineno">  977</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength;</div>
<div class="line"><span class="lineno">  978</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> = <a class="code hl_define" href="netconn_8h.html#a0bd3c5d42007ddf99f8dc2bf8893305c">NETFLAG_EOM</a>;</div>
<div class="line"><span class="lineno">  979</span>            }</div>
<div class="line"><span class="lineno">  980</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  981</span>            {</div>
<div class="line"><span class="lineno">  982</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a> = <a class="code hl_define" href="qdefs_8h.html#a7474f3c2f17f4b1d019bff623308d87f">MAX_PACKETFRAGMENT</a>;</div>
<div class="line"><span class="lineno">  983</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> = 0;</div>
<div class="line"><span class="lineno">  984</span>            }</div>
<div class="line"><span class="lineno">  985</span> </div>
<div class="line"><span class="lineno">  986</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> = <a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a>;</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> | (<a class="code hl_define" href="netconn_8h.html#a9a5610ea3852bbe2c9dfcd7afcb81975">NETFLAG_DATA</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eom</a> | <a class="code hl_function" href="netconn_8c.html#acbcbf58902ea24f32417d7819b08e7d9">NetConn_AddCryptoFlag</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto)));</div>
<div class="line"><span class="lineno">  989</span>            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + 4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.sendSequence);</div>
<div class="line"><span class="lineno">  990</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + <a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessage, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dataLen</a>);</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.sendSequence++;</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].reliablebytes += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> + 28;</div>
<div class="line"><span class="lineno">  995</span> </div>
<div class="line"><span class="lineno">  996</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a> = <a class="code hl_function" href="crypto_8c.html#a31f0f56ef0e8867e2bae48ad0c12eb7c">Crypto_EncryptPacket</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>));</div>
<div class="line"><span class="lineno">  997</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>)</div>
<div class="line"><span class="lineno">  998</span>                <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress);</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;lastSendTime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 1001</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsSent++;</div>
<div class="line"><span class="lineno"> 1002</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;reliableMessagesSent++;</div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallen</a> += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a> + 28;</div>
<div class="line"><span class="lineno"> 1005</span>        }</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>        <span class="comment">// if we have an unreliable message to send, do so</span></div>
<div class="line"><span class="lineno"> 1008</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize)</div>
<div class="line"><span class="lineno"> 1009</span>        {</div>
<div class="line"><span class="lineno"> 1010</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> = <a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a> + <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize;</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> &gt; (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>))</div>
<div class="line"><span class="lineno"> 1013</span>            {</div>
<div class="line"><span class="lineno"> 1014</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;NetConn_SendUnreliableMessage: message too big %u\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize);</div>
<div class="line"><span class="lineno"> 1015</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1016</span>            }</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> | <a class="code hl_define" href="netconn_8h.html#a6330cb2b692c307b3cc22d7de159111f">NETFLAG_UNRELIABLE</a> | <a class="code hl_function" href="netconn_8c.html#acbcbf58902ea24f32417d7819b08e7d9">NetConn_AddCryptoFlag</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto));</div>
<div class="line"><span class="lineno"> 1019</span>            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + 4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_unreliable_sequence);</div>
<div class="line"><span class="lineno"> 1020</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a> + <a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;data, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>-&gt;cursize);</div>
<div class="line"><span class="lineno"> 1021</span> </div>
<div class="line"><span class="lineno"> 1022</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_unreliable_sequence++;</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_netgraph[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_packetcounter].unreliablebytes += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a> + 28;</div>
<div class="line"><span class="lineno"> 1025</span> </div>
<div class="line"><span class="lineno"> 1026</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a> = <a class="code hl_function" href="crypto_8c.html#a31f0f56ef0e8867e2bae48ad0c12eb7c">Crypto_EncryptPacket</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packetLen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cryptosendbuffer</a>));</div>
<div class="line"><span class="lineno"> 1027</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>)</div>
<div class="line"><span class="lineno"> 1028</span>                <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendme</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;peeraddress);</div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsSent++;</div>
<div class="line"><span class="lineno"> 1031</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;unreliableMessagesSent++;</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallen</a> += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendmelen</a> + 28;</div>
<div class="line"><span class="lineno"> 1034</span>        }</div>
<div class="line"><span class="lineno"> 1035</span>    }</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>    <a class="code hl_function" href="netconn_8c.html#a880160743f307a53e90fae1751c89d1a">NetConn_UpdateCleartime</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;cleartime, rate, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">burstsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallen</a>);</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1040</span>}</div>
<div class="ttc" id="acom__msg_8c_html_ac3accfbf1e3613f53879f65e0013a7f7"><div class="ttname"><a href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a></div><div class="ttdeci">void StoreLittleLong(unsigned char *buffer, unsigned int i)</div><div class="ttdoc">Encode a little endian 32bit int to the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00095">com_msg.c:95</a></div></div>
<div class="ttc" id="acommon_8c_html_a9dc0570e4a6a9b2cde489af395f15e69"><div class="ttname"><a href="common_8c.html#a9dc0570e4a6a9b2cde489af395f15e69">SZ_HexDumpToConsole</a></div><div class="ttdeci">void SZ_HexDumpToConsole(const sizebuf_t *buf)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00148">common.c:148</a></div></div>
<div class="ttc" id="acommon_8h_html_a57da51d1adc687976e75633147d7c184"><div class="ttname"><a href="common_8h.html#a57da51d1adc687976e75633147d7c184">LittleShort</a></div><div class="ttdeci">#define LittleShort(l)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00090">common.h:90</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a8e913c1454e04c299d820cca5bcff561"><div class="ttname"><a href="structclient__static__t.html#a8e913c1454e04c299d820cca5bcff561">client_static_t::qw_outgoing_sequence</a></div><div class="ttdeci">unsigned int qw_outgoing_sequence</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00646">client.h:646</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l00370">CL_DisconnectEx()</a>, <a class="el" href="cl__parse_8c_source.html#l00314">CL_KeepaliveMessage()</a>, <a class="el" href="cl__input_8c_source.html#l01771">CL_SendMove()</a>, <a class="el" href="netconn_8c_source.html#l01631">NetConn_ConnectionEstablished()</a>, <a class="el" href="sv__main_8c_source.html#l01008">SV_DropClient()</a>, and <a class="el" href="sv__send_8c_source.html#l01425">SV_SendClientDatagram()</a>.</p>

</div>
</div>
<a id="abf6eb36a3405b4dc1c0d30353647f47f" name="abf6eb36a3405b4dc1c0d30353647f47f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf6eb36a3405b4dc1c0d30353647f47f">&#9670;&#160;</a></span>NetConn_ServerFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_ServerFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l03806">3806</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3807</span>{</div>
<div class="line"><span class="lineno"> 3808</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3809</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 3810</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> peeraddress;</div>
<div class="line"><span class="lineno"> 3811</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">readbuffer</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>];</div>
<div class="line"><span class="lineno"> 3812</span> </div>
<div class="line"><span class="lineno"> 3813</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="netconn_8c.html#a51c35cd47ee3dc1e5109ef4458b0cad5">sv_numsockets</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3814</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_function" href="netconn_8c.html#a32cdef72a697789efb6435689f0c51a2">NetConn_Read</a>(<a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">readbuffer</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">readbuffer</a>), &amp;peeraddress)) &gt; 0)</div>
<div class="line"><span class="lineno"> 3815</span>            <a class="code hl_function" href="netconn_8c.html#a6b6332f4f197dd20f3353373721b6a9d">NetConn_ServerParsePacket</a>(<a class="code hl_variable" href="netconn_8c.html#a6bc75bed24ac2cb9a36ee0c84cdc4006">sv_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">readbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, &amp;peeraddress);</div>
<div class="line"><span class="lineno"> 3816</span>}</div>
<div class="ttc" id="anetconn_8c_html_a6b6332f4f197dd20f3353373721b6a9d"><div class="ttname"><a href="netconn_8c.html#a6b6332f4f197dd20f3353373721b6a9d">NetConn_ServerParsePacket</a></div><div class="ttdeci">static int NetConn_ServerParsePacket(lhnetsocket_t *mysocket, unsigned char *data, int length, lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l03142">netconn.c:3142</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__main_8c_source.html#l02524">SV_Frame()</a>, and <a class="el" href="sv__main_8c_source.html#l02709">SV_ThreadFunc()</a>.</p>

</div>
</div>
<a id="a6b6332f4f197dd20f3353373721b6a9d" name="a6b6332f4f197dd20f3353373721b6a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6332f4f197dd20f3353373721b6a9d">&#9670;&#160;</a></span>NetConn_ServerParsePacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_ServerParsePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td>
          <td class="paramname"><em>mysocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l03142">3142</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3143</span>{</div>
<div class="line"><span class="lineno"> 3144</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">best</a>;</div>
<div class="line"><span class="lineno"> 3145</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">besttime</a>;</div>
<div class="line"><span class="lineno"> 3146</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ae79dfeea357422bd20dbcaa2afe88ac6">string</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>[2800], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>[128];</div>
<div class="line"><span class="lineno"> 3147</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>[16384]; <span class="comment">// server only</span></div>
<div class="line"><span class="lineno"> 3148</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> = (<a class="code hl_function" href="lhnet_8h.html#abc7dd16b78670fc52acefcd5df2b88e7">LHNETADDRESS_GetAddressType</a>(peeraddress) == <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a>);</div>
<div class="line"><span class="lineno"> 3149</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>[<a class="code hl_define" href="netconn_8h.html#a642f021355b717f111d141a935ef5716">NET_HEADERSIZE</a>+<a class="code hl_define" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>+<a class="code hl_define" href="crypto_8h.html#a243fd02f64d57160121c22fabedaac9d">CRYPTO_HEADERSIZE</a>];</div>
<div class="line"><span class="lineno"> 3150</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response_len</a>;</div>
<div class="line"><span class="lineno"> 3151</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><span class="lineno"> 3152</span> </div>
<div class="line"><span class="lineno"> 3153</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a>)</div>
<div class="line"><span class="lineno"> 3154</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3155</span> </div>
<div class="line"><span class="lineno"> 3156</span>    <span class="comment">// convert the address to a string incase we need it</span></div>
<div class="line"><span class="lineno"> 3157</span>    <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3158</span> </div>
<div class="line"><span class="lineno"> 3159</span>    <span class="comment">// see if we can identify the sender as a local player</span></div>
<div class="line"><span class="lineno"> 3160</span>    <span class="comment">// (this is necessary for rcon to send a reliable reply if the client is</span></div>
<div class="line"><span class="lineno"> 3161</span>    <span class="comment">//  actually on the server, not sending remotely)</span></div>
<div class="line"><span class="lineno"> 3162</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>++)</div>
<div class="line"><span class="lineno"> 3163</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">netconnection</a> &amp;&amp; <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">netconnection</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a570f43ecac2f577e6a99b534b55d7601">mysocket</a> == mysocket &amp;&amp; !<a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(&amp;<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">netconnection</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a43176a4dac989af6e48ebba399aac70a">peeraddress</a>, peeraddress))</div>
<div class="line"><span class="lineno"> 3164</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3165</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>)</div>
<div class="line"><span class="lineno"> 3166</span>        <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3167</span> </div>
<div class="line"><span class="lineno"> 3168</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 5 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[0] == 255 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[1] == 255 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[2] == 255 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[3] == 255)</div>
<div class="line"><span class="lineno"> 3169</span>    {</div>
<div class="line"><span class="lineno"> 3170</span>        <span class="comment">// received a command string - strip off the packaging and put it</span></div>
<div class="line"><span class="lineno"> 3171</span>        <span class="comment">// into our string buffer with NULL termination</span></div>
<div class="line"><span class="lineno"> 3172</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 4;</div>
<div class="line"><span class="lineno"> 3173</span>        <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 4;</div>
<div class="line"><span class="lineno"> 3174</span>        <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>) - 1);</div>
<div class="line"><span class="lineno"> 3175</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 3176</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>[<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>] = 0;</div>
<div class="line"><span class="lineno"> 3177</span>        <span class="keywordtype">string</span> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stringbuf</a>;</div>
<div class="line"><span class="lineno"> 3178</span> </div>
<div class="line"><span class="lineno"> 3179</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3180</span>        {</div>
<div class="line"><span class="lineno"> 3181</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;NetConn_ServerParsePacket: %s sent us a command:\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3182</span>            <a class="code hl_function" href="common_8c.html#a9913aa4c9e2d0acfc38638235bbe31ca">Com_HexDumpToConsole</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 3183</span>        }</div>
<div class="line"><span class="lineno"> 3184</span> </div>
<div class="line"><span class="lineno"> 3185</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>) - 4;</div>
<div class="line"><span class="lineno"> 3186</span>        <span class="keywordflow">switch</span>(<a class="code hl_function" href="crypto_8c.html#ace1b41f4cd5100f173da25da7f726a8f">Crypto_ServerParsePacket</a>(<span class="keywordtype">string</span>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>+4, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>, peeraddress))</div>
<div class="line"><span class="lineno"> 3187</span>        {</div>
<div class="line"><span class="lineno"> 3188</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="crypto_8h.html#a8c7ff8f693d7a32873476640d01ecef3">CRYPTO_NOMATCH</a>:</div>
<div class="line"><span class="lineno"> 3189</span>                <span class="comment">// nothing to do</span></div>
<div class="line"><span class="lineno"> 3190</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3191</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="crypto_8h.html#a4bd8c06f696b570063fbead2f98c7c2c">CRYPTO_MATCH</a>:</div>
<div class="line"><span class="lineno"> 3192</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>)</div>
<div class="line"><span class="lineno"> 3193</span>                {</div>
<div class="line"><span class="lineno"> 3194</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, <span class="stringliteral">&quot;\377\377\377\377&quot;</span>, 4);</div>
<div class="line"><span class="lineno"> 3195</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>+4, peeraddress);</div>
<div class="line"><span class="lineno"> 3196</span>                }</div>
<div class="line"><span class="lineno"> 3197</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3198</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="crypto_8h.html#a1efd20cc345410a8f68978ece41aac10">CRYPTO_DISCARD</a>:</div>
<div class="line"><span class="lineno"> 3199</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>)</div>
<div class="line"><span class="lineno"> 3200</span>                {</div>
<div class="line"><span class="lineno"> 3201</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, <span class="stringliteral">&quot;\377\377\377\377&quot;</span>, 4);</div>
<div class="line"><span class="lineno"> 3202</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>+4, peeraddress);</div>
<div class="line"><span class="lineno"> 3203</span>                }</div>
<div class="line"><span class="lineno"> 3204</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3205</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3206</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="crypto_8h.html#a6d9f8e2afed02501c245a07309bd656c">CRYPTO_REPLACE</a>:</div>
<div class="line"><span class="lineno"> 3207</span>                <span class="keywordtype">string</span> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">senddata</a>+4;</div>
<div class="line"><span class="lineno"> 3208</span>                <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sendlength</a>;</div>
<div class="line"><span class="lineno"> 3209</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3210</span>        }</div>
<div class="line"><span class="lineno"> 3211</span> </div>
<div class="line"><span class="lineno"> 3212</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 12 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;getchallenge&quot;</span>, 12) &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> || <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; -3))</div>
<div class="line"><span class="lineno"> 3213</span>        {</div>
<div class="line"><span class="lineno"> 3214</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">best</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">besttime</a> = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3215</span>            {</div>
<div class="line"><span class="lineno"> 3216</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].time &gt; 0)</div>
<div class="line"><span class="lineno"> 3217</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].address))</div>
<div class="line"><span class="lineno"> 3218</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3219</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">besttime</a> &gt; <a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].time)</div>
<div class="line"><span class="lineno"> 3220</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">besttime</a> = <a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">best</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structchallenge__t.html#a0a6e36911dcec1fc001f1b398b8fce2c">time</a>;</div>
<div class="line"><span class="lineno"> 3221</span>            }</div>
<div class="line"><span class="lineno"> 3222</span>            <span class="comment">// if we did not find an exact match, choose the oldest and</span></div>
<div class="line"><span class="lineno"> 3223</span>            <span class="comment">// update address and string</span></div>
<div class="line"><span class="lineno"> 3224</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a>)</div>
<div class="line"><span class="lineno"> 3225</span>            {</div>
<div class="line"><span class="lineno"> 3226</span>                <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">best</a>;</div>
<div class="line"><span class="lineno"> 3227</span>                <a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structchallenge__t.html#afad810a1be6f709b9270963cfae95307">address</a> = *peeraddress;</div>
<div class="line"><span class="lineno"> 3228</span>                <a class="code hl_function" href="netconn_8c.html#a839186bad8b6a7dd57dee891a8bf12a5">NetConn_BuildChallengeString</a>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">string</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">string</span>));</div>
<div class="line"><span class="lineno"> 3229</span>            }</div>
<div class="line"><span class="lineno"> 3230</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3231</span>            {</div>
<div class="line"><span class="lineno"> 3232</span>                <span class="comment">// flood control: drop if requesting challenge too often</span></div>
<div class="line"><span class="lineno"> 3233</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].time &gt; <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="netconn_8c.html#aafdb79d3492f1d43052022f5a2b3670f">net_challengefloodblockingtimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><span class="lineno"> 3234</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3235</span>            }</div>
<div class="line"><span class="lineno"> 3236</span>            <a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structchallenge__t.html#a0a6e36911dcec1fc001f1b398b8fce2c">time</a> = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno"> 3237</span>            <span class="comment">// send the challenge</span></div>
<div class="line"><span class="lineno"> 3238</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, <span class="stringliteral">&quot;\377\377\377\377&quot;</span>, 4);</div>
<div class="line"><span class="lineno"> 3239</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>+4, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>)-4, <span class="stringliteral">&quot;challenge %s&quot;</span>, <a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">string</span>);</div>
<div class="line"><span class="lineno"> 3240</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response_len</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>) + 1;</div>
<div class="line"><span class="lineno"> 3241</span>            <a class="code hl_function" href="crypto_8c.html#af1d27aad50725635cef9445233a58e3f">Crypto_ServerAppendToChallenge</a>(<span class="keywordtype">string</span>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response_len</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>));</div>
<div class="line"><span class="lineno"> 3242</span>            <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response_len</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3243</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3244</span>        }</div>
<div class="line"><span class="lineno"> 3245</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 8 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;connect\\&quot;</span>, 8))</div>
<div class="line"><span class="lineno"> 3246</span>        {</div>
<div class="line"><span class="lineno"> 3247</span>            <a class="code hl_struct" href="structclient__t.html">client_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>;</div>
<div class="line"><span class="lineno"> 3248</span>            <a class="code hl_struct" href="structcrypto__t.html">crypto_t</a> *crypto = <a class="code hl_function" href="crypto_8c.html#a054ffa4cc3d4babef105c85cbb5f367f">Crypto_ServerGetInstance</a>(peeraddress);</div>
<div class="line"><span class="lineno"> 3249</span>            <span class="keywordtype">string</span> += 7;</div>
<div class="line"><span class="lineno"> 3250</span>            <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 7;</div>
<div class="line"><span class="lineno"> 3251</span> </div>
<div class="line"><span class="lineno"> 3252</span>            <span class="keywordflow">if</span>(crypto &amp;&amp; crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">authenticated</a>)</div>
<div class="line"><span class="lineno"> 3253</span>            {</div>
<div class="line"><span class="lineno"> 3254</span>                <span class="comment">// no need to check challenge</span></div>
<div class="line"><span class="lineno"> 3255</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="crypto_8c.html#a6f3d29a8d2e8a24dc51d47cba14aef9e">crypto_developer</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3256</span>                {</div>
<div class="line"><span class="lineno"> 3257</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s connection to %s is being established: client is %s@%s%.*s, I am %.*s@%s%.*s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3258</span>                            crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#affa2d958b3f1849e55ab9fd6a5f5c1b7">use_aes</a> ? <span class="stringliteral">&quot;Encrypted&quot;</span> : <span class="stringliteral">&quot;Authenticated&quot;</span>,</div>
<div class="line"><span class="lineno"> 3259</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>,</div>
<div class="line"><span class="lineno"> 3260</span>                            crypto-&gt;client_idfp[0] ? crypto-&gt;client_idfp : <span class="stringliteral">&quot;-&quot;</span>,</div>
<div class="line"><span class="lineno"> 3261</span>                            (crypto-&gt;client_issigned || !crypto-&gt;client_keyfp[0]) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;~&quot;</span>,</div>
<div class="line"><span class="lineno"> 3262</span>                            <a class="code hl_variable" href="crypto_8c.html#a28bce26dd18684379882653e173b0188">crypto_keyfp_recommended_length</a>, crypto-&gt;client_keyfp[0] ? crypto-&gt;client_keyfp : <span class="stringliteral">&quot;-&quot;</span>,</div>
<div class="line"><span class="lineno"> 3263</span>                            <a class="code hl_variable" href="crypto_8c.html#a28bce26dd18684379882653e173b0188">crypto_keyfp_recommended_length</a>, crypto-&gt;server_idfp[0] ? crypto-&gt;server_idfp : <span class="stringliteral">&quot;-&quot;</span>,</div>
<div class="line"><span class="lineno"> 3264</span>                            (crypto-&gt;server_issigned || !crypto-&gt;server_keyfp[0]) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;~&quot;</span>,</div>
<div class="line"><span class="lineno"> 3265</span>                            <a class="code hl_variable" href="crypto_8c.html#a28bce26dd18684379882653e173b0188">crypto_keyfp_recommended_length</a>, crypto-&gt;server_keyfp[0] ? crypto-&gt;server_keyfp : <span class="stringliteral">&quot;-&quot;</span></div>
<div class="line"><span class="lineno"> 3266</span>                          );</div>
<div class="line"><span class="lineno"> 3267</span>                }</div>
<div class="line"><span class="lineno"> 3268</span>            }</div>
<div class="line"><span class="lineno"> 3269</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3270</span>            {</div>
<div class="line"><span class="lineno"> 3271</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;challenge&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)))</div>
<div class="line"><span class="lineno"> 3272</span>                {</div>
<div class="line"><span class="lineno"> 3273</span>                    <span class="comment">// validate the challenge</span></div>
<div class="line"><span class="lineno"> 3274</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3275</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].time &gt; 0)</div>
<div class="line"><span class="lineno"> 3276</span>                            <span class="keywordflow">if</span> (!<a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].address) &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="netconn_8c.html#a5e54cf29fb37082e7ce4439cddc802fd">challenges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">string</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>))</div>
<div class="line"><span class="lineno"> 3277</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3278</span>                    <span class="comment">// if the challenge is not recognized, drop the packet</span></div>
<div class="line"><span class="lineno"> 3279</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a>)</div>
<div class="line"><span class="lineno"> 3280</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3281</span>                }</div>
<div class="line"><span class="lineno"> 3282</span>            }</div>
<div class="line"><span class="lineno"> 3283</span> </div>
<div class="line"><span class="lineno"> 3284</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;message&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)))</div>
<div class="line"><span class="lineno"> 3285</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Connecting client %s sent us the message: %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>);</div>
<div class="line"><span class="lineno"> 3286</span> </div>
<div class="line"><span class="lineno"> 3287</span>            <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> || <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; -2))</div>
<div class="line"><span class="lineno"> 3288</span>            {</div>
<div class="line"><span class="lineno"> 3289</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3290</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending \&quot;reject %s\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="netconn_8c.html#a5aae00d42067068bab01a64bfd2410de">sv_public_rejectreason</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3291</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, <span class="stringliteral">&quot;\377\377\377\377&quot;</span>, 4);</div>
<div class="line"><span class="lineno"> 3292</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>+4, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>)-4, <span class="stringliteral">&quot;reject %s&quot;</span>, <a class="code hl_variable" href="netconn_8c.html#a5aae00d42067068bab01a64bfd2410de">sv_public_rejectreason</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>);</div>
<div class="line"><span class="lineno"> 3293</span>                <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3294</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3295</span>            }</div>
<div class="line"><span class="lineno"> 3296</span> </div>
<div class="line"><span class="lineno"> 3297</span>            <span class="comment">// check engine protocol</span></div>
<div class="line"><span class="lineno"> 3298</span>            <span class="keywordflow">if</span>(!<a class="code hl_function" href="com__infostring_8c.html#aa001d512a0f3228d202a4c8b47aa7984">InfoString_GetValue</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;protocol&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>)) || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">infostringvalue</a>, <span class="stringliteral">&quot;darkplaces 3&quot;</span>))</div>
<div class="line"><span class="lineno"> 3299</span>            {</div>
<div class="line"><span class="lineno"> 3300</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3301</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending \&quot;reject Wrong game protocol.\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3302</span>                <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377reject Wrong game protocol.&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 3303</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3304</span>            }</div>
<div class="line"><span class="lineno"> 3305</span> </div>
<div class="line"><span class="lineno"> 3306</span>            <span class="comment">// see if this is a duplicate connection request or a disconnected</span></div>
<div class="line"><span class="lineno"> 3307</span>            <span class="comment">// client who is rejoining to the same client slot</span></div>
<div class="line"><span class="lineno"> 3308</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a> &lt; <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>++)</div>
<div class="line"><span class="lineno"> 3309</span>            {</div>
<div class="line"><span class="lineno"> 3310</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;peeraddress) == 0)</div>
<div class="line"><span class="lineno"> 3311</span>                {</div>
<div class="line"><span class="lineno"> 3312</span>                    <span class="comment">// this is a known client...</span></div>
<div class="line"><span class="lineno"> 3313</span>                    <span class="keywordflow">if</span>(crypto &amp;&amp; crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">authenticated</a>)</div>
<div class="line"><span class="lineno"> 3314</span>                    {</div>
<div class="line"><span class="lineno"> 3315</span>                        <span class="comment">// reject if changing key!</span></div>
<div class="line"><span class="lineno"> 3316</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;crypto.authenticated)</div>
<div class="line"><span class="lineno"> 3317</span>                        {</div>
<div class="line"><span class="lineno"> 3318</span>                            <span class="keywordflow">if</span>(</div>
<div class="line"><span class="lineno"> 3319</span>                                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;crypto.client_idfp, crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a60ee73f814f37cb03ca6337d2c714eb2">client_idfp</a>)</div>
<div class="line"><span class="lineno"> 3320</span>                                    ||</div>
<div class="line"><span class="lineno"> 3321</span>                                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;crypto.server_idfp, crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#ad495ade07da51add51fdcfa3763866bd">server_idfp</a>)</div>
<div class="line"><span class="lineno"> 3322</span>                                    ||</div>
<div class="line"><span class="lineno"> 3323</span>                                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;crypto.client_keyfp, crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a68057f781c7ef3efbb8dd9c2a3dbd816">client_keyfp</a>)</div>
<div class="line"><span class="lineno"> 3324</span>                                    ||</div>
<div class="line"><span class="lineno"> 3325</span>                                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;crypto.server_keyfp, crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a318251b45f735d3bfddd12838c89cfc4">server_keyfp</a>)</div>
<div class="line"><span class="lineno"> 3326</span>                              )</div>
<div class="line"><span class="lineno"> 3327</span>                            {</div>
<div class="line"><span class="lineno"> 3328</span>                                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3329</span>                                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending \&quot;reject Attempt to change key of crypto.\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3330</span>                                <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377reject Attempt to change key of crypto.&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 3331</span>                                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3332</span>                            }</div>
<div class="line"><span class="lineno"> 3333</span>                        }</div>
<div class="line"><span class="lineno"> 3334</span>                    }</div>
<div class="line"><span class="lineno"> 3335</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3336</span>                    {</div>
<div class="line"><span class="lineno"> 3337</span>                        <span class="comment">// reject if downgrading!</span></div>
<div class="line"><span class="lineno"> 3338</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;crypto.authenticated)</div>
<div class="line"><span class="lineno"> 3339</span>                        {</div>
<div class="line"><span class="lineno"> 3340</span>                            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3341</span>                                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending \&quot;reject Attempt to downgrade crypto.\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3342</span>                            <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377reject Attempt to downgrade crypto.&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 3343</span>                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3344</span>                        }</div>
<div class="line"><span class="lineno"> 3345</span>                    }</div>
<div class="line"><span class="lineno"> 3346</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;begun)</div>
<div class="line"><span class="lineno"> 3347</span>                    {</div>
<div class="line"><span class="lineno"> 3348</span>                        <span class="comment">// client crashed and is coming back,</span></div>
<div class="line"><span class="lineno"> 3349</span>                        <span class="comment">// keep their stuff intact</span></div>
<div class="line"><span class="lineno"> 3350</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3351</span>                            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending \&quot;accept\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3352</span>                        <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377accept&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 3353</span>                        <span class="keywordflow">if</span>(crypto &amp;&amp; crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">authenticated</a>)</div>
<div class="line"><span class="lineno"> 3354</span>                            <a class="code hl_function" href="crypto_8c.html#af5609d4a90ca33175311e3fceec6ff6d">Crypto_FinishInstance</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;crypto, crypto);</div>
<div class="line"><span class="lineno"> 3355</span>                        <a class="code hl_function" href="server_8h.html#a797dac15ad03b31bfc08de02ceed6090">SV_SendServerinfo</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>);</div>
<div class="line"><span class="lineno"> 3356</span>                    }</div>
<div class="line"><span class="lineno"> 3357</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3358</span>                    {</div>
<div class="line"><span class="lineno"> 3359</span>                        <span class="comment">// client is still trying to connect,</span></div>
<div class="line"><span class="lineno"> 3360</span>                        <span class="comment">// so we send a duplicate reply</span></div>
<div class="line"><span class="lineno"> 3361</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3362</span>                            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending duplicate accept to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3363</span>                        <span class="keywordflow">if</span>(crypto &amp;&amp; crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">authenticated</a>)</div>
<div class="line"><span class="lineno"> 3364</span>                            <a class="code hl_function" href="crypto_8c.html#af5609d4a90ca33175311e3fceec6ff6d">Crypto_FinishInstance</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;crypto, crypto);</div>
<div class="line"><span class="lineno"> 3365</span>                        <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377accept&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 3366</span>                    }</div>
<div class="line"><span class="lineno"> 3367</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3368</span>                }</div>
<div class="line"><span class="lineno"> 3369</span>            }</div>
<div class="line"><span class="lineno"> 3370</span> </div>
<div class="line"><span class="lineno"> 3371</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="netconn_8c.html#abe5c6cf2ecbc7231fe31186a70423a88">NetConn_PreventFlood</a>(peeraddress, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>[0]), <a class="code hl_variable" href="netconn_8c.html#afa7d94628548aad6f9ebc6bec7251cc7">net_connectfloodblockingtimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3372</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3373</span> </div>
<div class="line"><span class="lineno"> 3374</span>            <span class="comment">// find an empty client slot for this new client</span></div>
<div class="line"><span class="lineno"> 3375</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a> &lt; <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>++)</div>
<div class="line"><span class="lineno"> 3376</span>            {</div>
<div class="line"><span class="lineno"> 3377</span>                <a class="code hl_struct" href="structnetconn__t.html">netconn_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>;</div>
<div class="line"><span class="lineno"> 3378</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;active &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> = <a class="code hl_function" href="netconn_8c.html#a088b84e6c4e611e0f137efeabef830ad">NetConn_Open</a>(mysocket, peeraddress)))</div>
<div class="line"><span class="lineno"> 3379</span>                {</div>
<div class="line"><span class="lineno"> 3380</span>                    <span class="comment">// allocated connection</span></div>
<div class="line"><span class="lineno"> 3381</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3382</span>                        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending \&quot;accept\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;address);</div>
<div class="line"><span class="lineno"> 3383</span>                    <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377accept&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 3384</span>                    <span class="comment">// now set up the client</span></div>
<div class="line"><span class="lineno"> 3385</span>                    <span class="keywordflow">if</span>(crypto &amp;&amp; crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">authenticated</a>)</div>
<div class="line"><span class="lineno"> 3386</span>                        <a class="code hl_function" href="crypto_8c.html#af5609d4a90ca33175311e3fceec6ff6d">Crypto_FinishInstance</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;crypto, crypto);</div>
<div class="line"><span class="lineno"> 3387</span>                    <a class="code hl_function" href="server_8h.html#ae1f4230292219e6d76fdf519430e07c3">SV_ConnectClient</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>);</div>
<div class="line"><span class="lineno"> 3388</span>                    <a class="code hl_function" href="netconn_8c.html#a11ab4eebd8e0190aba511cb3ec8970af">NetConn_Heartbeat</a>(1);</div>
<div class="line"><span class="lineno"> 3389</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3390</span>                }</div>
<div class="line"><span class="lineno"> 3391</span>            }</div>
<div class="line"><span class="lineno"> 3392</span> </div>
<div class="line"><span class="lineno"> 3393</span>            <span class="comment">// no empty slots found - server is full</span></div>
<div class="line"><span class="lineno"> 3394</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3395</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending \&quot;reject Server is full.\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3396</span>            <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377reject Server is full.&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 3397</span> </div>
<div class="line"><span class="lineno"> 3398</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3399</span>        }</div>
<div class="line"><span class="lineno"> 3400</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 7 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;getinfo&quot;</span>, 7) &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> || <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; -1))</div>
<div class="line"><span class="lineno"> 3401</span>        {</div>
<div class="line"><span class="lineno"> 3402</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *challenge = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3403</span> </div>
<div class="line"><span class="lineno"> 3404</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="netconn_8c.html#abe5c6cf2ecbc7231fe31186a70423a88">NetConn_PreventFlood</a>(peeraddress, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>[0]), <a class="code hl_variable" href="netconn_8c.html#ab1de11576ed9750e64af235a3132dd55">net_getstatusfloodblockingtimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 3405</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3406</span> </div>
<div class="line"><span class="lineno"> 3407</span>            <span class="comment">// If there was a challenge in the getinfo message</span></div>
<div class="line"><span class="lineno"> 3408</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 8 &amp;&amp; <span class="keywordtype">string</span>[7] == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><span class="lineno"> 3409</span>                challenge = <span class="keywordtype">string</span> + 8;</div>
<div class="line"><span class="lineno"> 3410</span> </div>
<div class="line"><span class="lineno"> 3411</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="netconn_8c.html#a11fe26a0682e2cd4476b76e2d8e09c25">NetConn_BuildStatusResponse</a>(challenge, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>), <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 3412</span>            {</div>
<div class="line"><span class="lineno"> 3413</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3414</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Sending reply to master %s - %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>);</div>
<div class="line"><span class="lineno"> 3415</span>                <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3416</span>            }</div>
<div class="line"><span class="lineno"> 3417</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3418</span>        }</div>
<div class="line"><span class="lineno"> 3419</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 9 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;getstatus&quot;</span>, 9) &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> || <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; -1))</div>
<div class="line"><span class="lineno"> 3420</span>        {</div>
<div class="line"><span class="lineno"> 3421</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *challenge = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3422</span> </div>
<div class="line"><span class="lineno"> 3423</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="netconn_8c.html#abe5c6cf2ecbc7231fe31186a70423a88">NetConn_PreventFlood</a>(peeraddress, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>[0]), <a class="code hl_variable" href="netconn_8c.html#ab1de11576ed9750e64af235a3132dd55">net_getstatusfloodblockingtimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 3424</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3425</span> </div>
<div class="line"><span class="lineno"> 3426</span>            <span class="comment">// If there was a challenge in the getinfo message</span></div>
<div class="line"><span class="lineno"> 3427</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 10 &amp;&amp; <span class="keywordtype">string</span>[9] == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><span class="lineno"> 3428</span>                challenge = <span class="keywordtype">string</span> + 10;</div>
<div class="line"><span class="lineno"> 3429</span> </div>
<div class="line"><span class="lineno"> 3430</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="netconn_8c.html#a11fe26a0682e2cd4476b76e2d8e09c25">NetConn_BuildStatusResponse</a>(challenge, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>), <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3431</span>            {</div>
<div class="line"><span class="lineno"> 3432</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3433</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Sending reply to client %s - %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>);</div>
<div class="line"><span class="lineno"> 3434</span>                <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">response</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3435</span>            }</div>
<div class="line"><span class="lineno"> 3436</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3437</span>        }</div>
<div class="line"><span class="lineno"> 3438</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 37 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;srcon HMAC-MD4 TIME &quot;</span>, 20))</div>
<div class="line"><span class="lineno"> 3439</span>        {</div>
<div class="line"><span class="lineno"> 3440</span>            <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a> = <span class="keywordtype">string</span> + 20;</div>
<div class="line"><span class="lineno"> 3441</span>            <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timeval</a> = <span class="keywordtype">string</span> + 37;</div>
<div class="line"><span class="lineno"> 3442</span>            <span class="keywordtype">char</span> *s = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timeval</a>, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 3443</span>            <span class="keywordtype">char</span> *endpos = <span class="keywordtype">string</span> + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> + 1; <span class="comment">// one behind the NUL, so adding strlen+1 will eventually reach it</span></div>
<div class="line"><span class="lineno"> 3444</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>;</div>
<div class="line"><span class="lineno"> 3445</span> </div>
<div class="line"><span class="lineno"> 3446</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; 1)</div>
<div class="line"><span class="lineno"> 3447</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3448</span> </div>
<div class="line"><span class="lineno"> 3449</span>            <span class="keywordflow">if</span>(!s)</div>
<div class="line"><span class="lineno"> 3450</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// invalid packet</span></div>
<div class="line"><span class="lineno"> 3451</span>            ++s;</div>
<div class="line"><span class="lineno"> 3452</span> </div>
<div class="line"><span class="lineno"> 3453</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a> = <a class="code hl_function" href="netconn_8c.html#aece3cba3e51092996b1190039cec2865">RCon_Authenticate</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, s, endpos, <a class="code hl_function" href="netconn_8c.html#ab8c6374d794972f513a75a37cb56fe4c">hmac_mdfour_time_matching</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timeval</a>, endpos - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timeval</a> - 1); <span class="comment">// not including the appended \0 into the HMAC</span></div>
<div class="line"><span class="lineno"> 3454</span>            <a class="code hl_function" href="netconn_8c.html#a04b829f8d37007c0ed359e4ac78b8970">RCon_Execute</a>(mysocket, peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>, s, endpos, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3455</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3456</span>        }</div>
<div class="line"><span class="lineno"> 3457</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 42 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;srcon HMAC-MD4 CHALLENGE &quot;</span>, 25))</div>
<div class="line"><span class="lineno"> 3458</span>        {</div>
<div class="line"><span class="lineno"> 3459</span>            <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a> = <span class="keywordtype">string</span> + 25;</div>
<div class="line"><span class="lineno"> 3460</span>            <span class="keywordtype">char</span> *challenge = <span class="keywordtype">string</span> + 42;</div>
<div class="line"><span class="lineno"> 3461</span>            <span class="keywordtype">char</span> *s = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(challenge, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 3462</span>            <span class="keywordtype">char</span> *endpos = <span class="keywordtype">string</span> + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> + 1; <span class="comment">// one behind the NUL, so adding strlen+1 will eventually reach it</span></div>
<div class="line"><span class="lineno"> 3463</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>;</div>
<div class="line"><span class="lineno"> 3464</span>            <span class="keywordflow">if</span>(!s)</div>
<div class="line"><span class="lineno"> 3465</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// invalid packet</span></div>
<div class="line"><span class="lineno"> 3466</span>            ++s;</div>
<div class="line"><span class="lineno"> 3467</span> </div>
<div class="line"><span class="lineno"> 3468</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a> = <a class="code hl_function" href="netconn_8c.html#aece3cba3e51092996b1190039cec2865">RCon_Authenticate</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, s, endpos, <a class="code hl_function" href="netconn_8c.html#a516a0abe0e530d11a3d9521fd6efd0e2">hmac_mdfour_challenge_matching</a>, challenge, endpos - challenge - 1); <span class="comment">// not including the appended \0 into the HMAC</span></div>
<div class="line"><span class="lineno"> 3469</span>            <a class="code hl_function" href="netconn_8c.html#a04b829f8d37007c0ed359e4ac78b8970">RCon_Execute</a>(mysocket, peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>, s, endpos, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3470</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3471</span>        }</div>
<div class="line"><span class="lineno"> 3472</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 5 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;rcon &quot;</span>, 5))</div>
<div class="line"><span class="lineno"> 3473</span>        {</div>
<div class="line"><span class="lineno"> 3474</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 3475</span>            <span class="keywordtype">char</span> *s = <span class="keywordtype">string</span> + 5;</div>
<div class="line"><span class="lineno"> 3476</span>            <span class="keywordtype">char</span> *endpos = <span class="keywordtype">string</span> + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> + 1; <span class="comment">// one behind the NUL, so adding strlen+1 will eventually reach it</span></div>
<div class="line"><span class="lineno"> 3477</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>[64];</div>
<div class="line"><span class="lineno"> 3478</span> </div>
<div class="line"><span class="lineno"> 3479</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 3480</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3481</span> </div>
<div class="line"><span class="lineno"> 3482</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;!<a class="code hl_define" href="qdefs_8h.html#a4e301d35bcc309254e72cb99af785ce5">ISWHITESPACE</a>(*s);s++)</div>
<div class="line"><span class="lineno"> 3483</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>) - 1)</div>
<div class="line"><span class="lineno"> 3484</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++] = *s;</div>
<div class="line"><span class="lineno"> 3485</span>            <span class="keywordflow">if</span>(<a class="code hl_define" href="qdefs_8h.html#a4e301d35bcc309254e72cb99af785ce5">ISWHITESPACE</a>(*s) &amp;&amp; s != endpos) <span class="comment">// skip leading ugly space</span></div>
<div class="line"><span class="lineno"> 3486</span>                ++s;</div>
<div class="line"><span class="lineno"> 3487</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = 0;</div>
<div class="line"><span class="lineno"> 3488</span>            <span class="keywordflow">if</span> (!<a class="code hl_define" href="qdefs_8h.html#a4e301d35bcc309254e72cb99af785ce5">ISWHITESPACE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>[0]))</div>
<div class="line"><span class="lineno"> 3489</span>            {</div>
<div class="line"><span class="lineno"> 3490</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a> = <a class="code hl_function" href="netconn_8c.html#aece3cba3e51092996b1190039cec2865">RCon_Authenticate</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, s, endpos, <a class="code hl_function" href="netconn_8c.html#ad6b7fc461b9b94c3394485daa7e18808">plaintext_matching</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><span class="lineno"> 3491</span>                <a class="code hl_function" href="netconn_8c.html#a04b829f8d37007c0ed359e4ac78b8970">RCon_Execute</a>(mysocket, peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>, s, endpos, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3492</span>            }</div>
<div class="line"><span class="lineno"> 3493</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3494</span>        }</div>
<div class="line"><span class="lineno"> 3495</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;extResponse &quot;</span>, 12))</div>
<div class="line"><span class="lineno"> 3496</span>        {</div>
<div class="line"><span class="lineno"> 3497</span>            ++<a class="code hl_variable" href="netconn_8c.html#a4264eb13fff8614d3f12650dcebf495f">sv_net_extresponse_count</a>;</div>
<div class="line"><span class="lineno"> 3498</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#a4264eb13fff8614d3f12650dcebf495f">sv_net_extresponse_count</a> &gt; <a class="code hl_define" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>)</div>
<div class="line"><span class="lineno"> 3499</span>                <a class="code hl_variable" href="netconn_8c.html#a4264eb13fff8614d3f12650dcebf495f">sv_net_extresponse_count</a> = <a class="code hl_define" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>;</div>
<div class="line"><span class="lineno"> 3500</span>            <a class="code hl_variable" href="netconn_8c.html#a5851b82ee89d4ddfad5498c8819cef31">sv_net_extresponse_last</a> = (<a class="code hl_variable" href="netconn_8c.html#a5851b82ee89d4ddfad5498c8819cef31">sv_net_extresponse_last</a> + 1) % <a class="code hl_define" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>;</div>
<div class="line"><span class="lineno"> 3501</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="netconn_8c.html#a42e419c272cbcdef6f8655d17bc28ea6">sv_net_extresponse</a>[<a class="code hl_variable" href="netconn_8c.html#a5851b82ee89d4ddfad5498c8819cef31">sv_net_extresponse_last</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a42e419c272cbcdef6f8655d17bc28ea6">sv_net_extresponse</a>[<a class="code hl_variable" href="netconn_8c.html#a5851b82ee89d4ddfad5498c8819cef31">sv_net_extresponse_last</a>]), <span class="stringliteral">&quot;&#39;%s&#39; %s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keywordtype">string</span> + 12);</div>
<div class="line"><span class="lineno"> 3502</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3503</span>        }</div>
<div class="line"><span class="lineno"> 3504</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;ping&quot;</span>, 4))</div>
<div class="line"><span class="lineno"> 3505</span>        {</div>
<div class="line"><span class="lineno"> 3506</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3507</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Received ping from %s, sending ack\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3508</span>            <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(mysocket, <span class="stringliteral">&quot;\377\377\377\377ack&quot;</span>, peeraddress);</div>
<div class="line"><span class="lineno"> 3509</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3510</span>        }</div>
<div class="line"><span class="lineno"> 3511</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<span class="keywordtype">string</span>, <span class="stringliteral">&quot;ack&quot;</span>, 3))</div>
<div class="line"><span class="lineno"> 3512</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3513</span>        <span class="comment">// we may not have liked the packet, but it was a command packet, so</span></div>
<div class="line"><span class="lineno"> 3514</span>        <span class="comment">// we&#39;re done processing this packet now</span></div>
<div class="line"><span class="lineno"> 3515</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3516</span>    }</div>
<div class="line"><span class="lineno"> 3517</span>    <span class="comment">// netquake control packets, supported for compatibility only, and only</span></div>
<div class="line"><span class="lineno"> 3518</span>    <span class="comment">// when running game protocols that are normally served via this connection</span></div>
<div class="line"><span class="lineno"> 3519</span>    <span class="comment">// protocol</span></div>
<div class="line"><span class="lineno"> 3520</span>    <span class="comment">// (this protects more modern protocols against being used for</span></div>
<div class="line"><span class="lineno"> 3521</span>    <span class="comment">//  Quake packet flood Denial Of Service attacks)</span></div>
<div class="line"><span class="lineno"> 3522</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt;= 5 &amp;&amp; (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)) &amp;&amp; (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; (~<a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>)) == (<span class="keywordtype">int</span>)<a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> &amp;&amp; (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>) == <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &amp;&amp; (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaa6bc88c8429e04ab2f7cc64f53ffe702">PROTOCOL_QUAKE</a> || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca6c7650cad0e2a7d85230f2da7705efdf">PROTOCOL_QUAKEDP</a> || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaca8087bd0520f5fc6058511ec0bc9832">PROTOCOL_NEHAHRAMOVIE</a> || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca508c2557d497debd3dfc6dd0b1ba51a3">PROTOCOL_NEHAHRABJP</a> || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca2517661c298c2eea2efffdb75a978aba">PROTOCOL_NEHAHRABJP2</a> || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acab4041cf357cc4865b8c36254137cc6e3">PROTOCOL_NEHAHRABJP3</a> || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acafbc76c9ae8d669d3a0b90ab357f643fe">PROTOCOL_DARKPLACES1</a> || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca01ddb39eebd09e3bf39ba16758b2af74">PROTOCOL_DARKPLACES2</a> || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca4a098631799104a6ba14455203f9bd57">PROTOCOL_DARKPLACES3</a>) &amp;&amp; !<a class="code hl_define" href="crypto_8h.html#ae8ba301eab3a8d66c5585d59d03229cc">ENCRYPTION_REQUIRED</a>)</div>
<div class="line"><span class="lineno"> 3523</span>    {</div>
<div class="line"><span class="lineno"> 3524</span>        <span class="keywordtype">int</span> c;</div>
<div class="line"><span class="lineno"> 3525</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolnumber</a>;</div>
<div class="line"><span class="lineno"> 3526</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolname</a>;</div>
<div class="line"><span class="lineno"> 3527</span>        <a class="code hl_struct" href="structclient__t.html">client_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a>;</div>
<div class="line"><span class="lineno"> 3528</span>        <a class="code hl_struct" href="structclient__t.html">client_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newclient</a>;</div>
<div class="line"><span class="lineno"> 3529</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += 4;</div>
<div class="line"><span class="lineno"> 3530</span>        <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> -= 4;</div>
<div class="line"><span class="lineno"> 3531</span>        <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3532</span>        <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno"> 3533</span>        <a class="code hl_function" href="com__msg_8c.html#a028e648d66793e5f7add2bfd801a3a07">MSG_BeginReading</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3534</span>        c = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3535</span>        <span class="keywordflow">switch</span> (c)</div>
<div class="line"><span class="lineno"> 3536</span>        {</div>
<div class="line"><span class="lineno"> 3537</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#acc3baf1226b0f0487a81e1d60797edcb">CCREQ_CONNECT</a>:</div>
<div class="line"><span class="lineno"> 3538</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3539</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREQ_CONNECT from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3540</span>            <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> || <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; -2))</div>
<div class="line"><span class="lineno"> 3541</span>            {</div>
<div class="line"><span class="lineno"> 3542</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3543</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending CCREP_REJECT \&quot;%s\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="netconn_8c.html#a5aae00d42067068bab01a64bfd2410de">sv_public_rejectreason</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3544</span>                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3545</span>                <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3546</span>                <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3547</span>                <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a807c9a0842c896fd4dcf3f4e06fe6068">CCREP_REJECT</a>);</div>
<div class="line"><span class="lineno"> 3548</span>                <a class="code hl_function" href="com__msg_8c.html#a951f8bc3721b184110ef5ae44314381b">MSG_WriteUnterminatedString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="netconn_8c.html#a5aae00d42067068bab01a64bfd2410de">sv_public_rejectreason</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>);</div>
<div class="line"><span class="lineno"> 3549</span>                <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3550</span>                <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3551</span>                <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3552</span>                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3553</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3554</span>            }</div>
<div class="line"><span class="lineno"> 3555</span> </div>
<div class="line"><span class="lineno"> 3556</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolname</a> = <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>));</div>
<div class="line"><span class="lineno"> 3557</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolnumber</a> = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3558</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolname</a>, <span class="stringliteral">&quot;QUAKE&quot;</span>) || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protocolnumber</a> != <a class="code hl_define" href="netconn_8h.html#a9a0d9eb2ce9089b6cdd0bed36aef87f1">NET_PROTOCOL_VERSION</a>)</div>
<div class="line"><span class="lineno"> 3559</span>            {</div>
<div class="line"><span class="lineno"> 3560</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3561</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending CCREP_REJECT \&quot;Incompatible version.\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3562</span>                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3563</span>                <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3564</span>                <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3565</span>                <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a807c9a0842c896fd4dcf3f4e06fe6068">CCREP_REJECT</a>);</div>
<div class="line"><span class="lineno"> 3566</span>                <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <span class="stringliteral">&quot;Incompatible version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3567</span>                <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3568</span>                <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3569</span>                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3570</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3571</span>            }</div>
<div class="line"><span class="lineno"> 3572</span> </div>
<div class="line"><span class="lineno"> 3573</span>            <span class="comment">// see if this connect request comes from a known client</span></div>
<div class="line"><span class="lineno"> 3574</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a> &lt; <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a>++)</div>
<div class="line"><span class="lineno"> 3575</span>            {</div>
<div class="line"><span class="lineno"> 3576</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a>-&gt;netconnection &amp;&amp; <a class="code hl_function" href="lhnet_8c.html#afcb50bceea3f2dc4d4c1663bb6d35e9e">LHNETADDRESS_Compare</a>(peeraddress, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a>-&gt;netconnection-&gt;peeraddress) == 0)</div>
<div class="line"><span class="lineno"> 3577</span>                {</div>
<div class="line"><span class="lineno"> 3578</span>                    <span class="comment">// this is either a duplicate connection request</span></div>
<div class="line"><span class="lineno"> 3579</span>                    <span class="comment">// or coming back from a timeout</span></div>
<div class="line"><span class="lineno"> 3580</span>                    <span class="comment">// (if so, keep their stuff intact)</span></div>
<div class="line"><span class="lineno"> 3581</span> </div>
<div class="line"><span class="lineno"> 3582</span>                    <a class="code hl_struct" href="structcrypto__t.html">crypto_t</a> *crypto = <a class="code hl_function" href="crypto_8c.html#a054ffa4cc3d4babef105c85cbb5f367f">Crypto_ServerGetInstance</a>(peeraddress);</div>
<div class="line"><span class="lineno"> 3583</span>                    <span class="keywordflow">if</span>((crypto &amp;&amp; crypto-&gt;<a class="code hl_variable" href="structcrypto__t.html#a7f14ed53c5a1a67b9b2502b4662df228">authenticated</a>) || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a>-&gt;netconnection-&gt;crypto.authenticated)</div>
<div class="line"><span class="lineno"> 3584</span>                    {</div>
<div class="line"><span class="lineno"> 3585</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3586</span>                            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending CCREP_REJECT \&quot;Attempt to downgrade crypto.\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3587</span>                        <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3588</span>                        <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3589</span>                        <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3590</span>                        <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a807c9a0842c896fd4dcf3f4e06fe6068">CCREP_REJECT</a>);</div>
<div class="line"><span class="lineno"> 3591</span>                        <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <span class="stringliteral">&quot;Attempt to downgrade crypto.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3592</span>                        <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3593</span>                        <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3594</span>                        <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3595</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3596</span>                    }</div>
<div class="line"><span class="lineno"> 3597</span> </div>
<div class="line"><span class="lineno"> 3598</span>                    <span class="comment">// send a reply</span></div>
<div class="line"><span class="lineno"> 3599</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3600</span>                        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending duplicate CCREP_ACCEPT to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3601</span>                    <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3602</span>                    <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3603</span>                    <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3604</span>                    <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a23b9445b56c44dee6f9fe2e68a8c86a1">CCREP_ACCEPT</a>);</div>
<div class="line"><span class="lineno"> 3605</span>                    <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_function" href="lhnet_8c.html#ad5efcc4b5bbf05a1dd889a298430ed94">LHNETADDRESS_GetPort</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a>-&gt;netconnection-&gt;mysocket)));</div>
<div class="line"><span class="lineno"> 3606</span>                    <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3607</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3608</span>                    <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3609</span> </div>
<div class="line"><span class="lineno"> 3610</span>                    <span class="comment">// if client is already spawned, re-send the</span></div>
<div class="line"><span class="lineno"> 3611</span>                    <span class="comment">// serverinfo message as they&#39;ll need it to play</span></div>
<div class="line"><span class="lineno"> 3612</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a>-&gt;begun)</div>
<div class="line"><span class="lineno"> 3613</span>                        <a class="code hl_function" href="server_8h.html#a797dac15ad03b31bfc08de02ceed6090">SV_SendServerinfo</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">knownclient</a>);</div>
<div class="line"><span class="lineno"> 3614</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3615</span>                }</div>
<div class="line"><span class="lineno"> 3616</span>            }</div>
<div class="line"><span class="lineno"> 3617</span> </div>
<div class="line"><span class="lineno"> 3618</span>            <span class="comment">// this is a new client, check for connection flood</span></div>
<div class="line"><span class="lineno"> 3619</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="netconn_8c.html#abe5c6cf2ecbc7231fe31186a70423a88">NetConn_PreventFlood</a>(peeraddress, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a6620bfca714e8b96dd3d9e5afea639d7">connectfloodaddresses</a>[0]), <a class="code hl_variable" href="netconn_8c.html#afa7d94628548aad6f9ebc6bec7251cc7">net_connectfloodblockingtimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3620</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3621</span> </div>
<div class="line"><span class="lineno"> 3622</span>            <span class="comment">// find a slot for the new client</span></div>
<div class="line"><span class="lineno"> 3623</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newclient</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a> &lt; <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newclient</a>++)</div>
<div class="line"><span class="lineno"> 3624</span>            {</div>
<div class="line"><span class="lineno"> 3625</span>                <a class="code hl_struct" href="structnetconn__t.html">netconn_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>;</div>
<div class="line"><span class="lineno"> 3626</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newclient</a>-&gt;active &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newclient</a>-&gt;netconnection = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a> = <a class="code hl_function" href="netconn_8c.html#a088b84e6c4e611e0f137efeabef830ad">NetConn_Open</a>(mysocket, peeraddress)) != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 3627</span>                {</div>
<div class="line"><span class="lineno"> 3628</span>                    <span class="comment">// connect to the client</span></div>
<div class="line"><span class="lineno"> 3629</span>                    <span class="comment">// everything is allocated, just fill in the details</span></div>
<div class="line"><span class="lineno"> 3630</span>                    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;address, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;address));</div>
<div class="line"><span class="lineno"> 3631</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3632</span>                        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending CCREP_ACCEPT to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3633</span>                    <span class="comment">// send back the info about the server connection</span></div>
<div class="line"><span class="lineno"> 3634</span>                    <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3635</span>                    <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3636</span>                    <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3637</span>                    <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a23b9445b56c44dee6f9fe2e68a8c86a1">CCREP_ACCEPT</a>);</div>
<div class="line"><span class="lineno"> 3638</span>                    <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_function" href="lhnet_8c.html#ad5efcc4b5bbf05a1dd889a298430ed94">LHNETADDRESS_GetPort</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;mysocket)));</div>
<div class="line"><span class="lineno"> 3639</span>                    <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3640</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3641</span>                    <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3642</span>                    <span class="comment">// now set up the client struct</span></div>
<div class="line"><span class="lineno"> 3643</span>                    <a class="code hl_function" href="server_8h.html#ae1f4230292219e6d76fdf519430e07c3">SV_ConnectClient</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientnum</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>);</div>
<div class="line"><span class="lineno"> 3644</span>                    <a class="code hl_function" href="netconn_8c.html#a11ab4eebd8e0190aba511cb3ec8970af">NetConn_Heartbeat</a>(1);</div>
<div class="line"><span class="lineno"> 3645</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3646</span>                }</div>
<div class="line"><span class="lineno"> 3647</span>            }</div>
<div class="line"><span class="lineno"> 3648</span> </div>
<div class="line"><span class="lineno"> 3649</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3650</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending CCREP_REJECT \&quot;Server is full.\&quot; to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3651</span>            <span class="comment">// no room; try to let player know</span></div>
<div class="line"><span class="lineno"> 3652</span>            <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3653</span>            <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3654</span>            <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3655</span>            <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a807c9a0842c896fd4dcf3f4e06fe6068">CCREP_REJECT</a>);</div>
<div class="line"><span class="lineno"> 3656</span>            <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <span class="stringliteral">&quot;Server is full.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3657</span>            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3658</span>            <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3659</span>            <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3660</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3661</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#ac55b1ff7e4d9e5d8f92348d5cdfd0264">CCREQ_SERVER_INFO</a>:</div>
<div class="line"><span class="lineno"> 3662</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3663</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREQ_SERVER_INFO from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3664</span>            <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> || <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; -1))</div>
<div class="line"><span class="lineno"> 3665</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3666</span> </div>
<div class="line"><span class="lineno"> 3667</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="netconn_8c.html#abe5c6cf2ecbc7231fe31186a70423a88">NetConn_PreventFlood</a>(peeraddress, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>[0]), <a class="code hl_variable" href="netconn_8c.html#ab1de11576ed9750e64af235a3132dd55">net_getstatusfloodblockingtimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 3668</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3669</span> </div>
<div class="line"><span class="lineno"> 3670</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a> &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>)), <span class="stringliteral">&quot;QUAKE&quot;</span>))</div>
<div class="line"><span class="lineno"> 3671</span>            {</div>
<div class="line"><span class="lineno"> 3672</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numclients</a>;</div>
<div class="line"><span class="lineno"> 3673</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">myaddressstring</a>[128];</div>
<div class="line"><span class="lineno"> 3674</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3675</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: sending CCREP_SERVER_INFO to %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3676</span>                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3677</span>                <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3678</span>                <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3679</span>                <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a06ea659d8515a7837b0d743942d5b2ca">CCREP_SERVER_INFO</a>);</div>
<div class="line"><span class="lineno"> 3680</span>                <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(mysocket), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">myaddressstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">myaddressstring</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3681</span>                <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">myaddressstring</a>);</div>
<div class="line"><span class="lineno"> 3682</span>                <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="netconn_8c.html#ae3a05cd185b100e46c288e366c9c19c3">hostname</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>);</div>
<div class="line"><span class="lineno"> 3683</span>                <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2488851d77ddadf80e89e47df823e7e1">worldbasename</a>);</div>
<div class="line"><span class="lineno"> 3684</span>                <span class="comment">// How many clients are there?</span></div>
<div class="line"><span class="lineno"> 3685</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numclients</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3686</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].active)</div>
<div class="line"><span class="lineno"> 3687</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numclients</a>++;</div>
<div class="line"><span class="lineno"> 3688</span>                <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numclients</a>);</div>
<div class="line"><span class="lineno"> 3689</span>                <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>);</div>
<div class="line"><span class="lineno"> 3690</span>                <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a9a0d9eb2ce9089b6cdd0bed36aef87f1">NET_PROTOCOL_VERSION</a>);</div>
<div class="line"><span class="lineno"> 3691</span>                <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3692</span>                <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3693</span>                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3694</span>            }</div>
<div class="line"><span class="lineno"> 3695</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3696</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#a7311b75257d4d9c65981367f5110a2a8">CCREQ_PLAYER_INFO</a>:</div>
<div class="line"><span class="lineno"> 3697</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3698</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREQ_PLAYER_INFO from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3699</span>            <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> || <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; -1))</div>
<div class="line"><span class="lineno"> 3700</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3701</span> </div>
<div class="line"><span class="lineno"> 3702</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="netconn_8c.html#abe5c6cf2ecbc7231fe31186a70423a88">NetConn_PreventFlood</a>(peeraddress, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">getstatusfloodaddresses</a>[0]), <a class="code hl_variable" href="netconn_8c.html#ab1de11576ed9750e64af235a3132dd55">net_getstatusfloodblockingtimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 3703</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3704</span> </div>
<div class="line"><span class="lineno"> 3705</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a>)</div>
<div class="line"><span class="lineno"> 3706</span>            {</div>
<div class="line"><span class="lineno"> 3707</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">playerNumber</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">activeNumber</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientNumber</a>;</div>
<div class="line"><span class="lineno"> 3708</span>                <a class="code hl_struct" href="structclient__t.html">client_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>;</div>
<div class="line"><span class="lineno"> 3709</span> </div>
<div class="line"><span class="lineno"> 3710</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">playerNumber</a> = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3711</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">activeNumber</a> = -1;</div>
<div class="line"><span class="lineno"> 3712</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientNumber</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientNumber</a> &lt; <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientNumber</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>++)</div>
<div class="line"><span class="lineno"> 3713</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;active &amp;&amp; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">activeNumber</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">playerNumber</a>)</div>
<div class="line"><span class="lineno"> 3714</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3715</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clientNumber</a> != <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>)</div>
<div class="line"><span class="lineno"> 3716</span>                {</div>
<div class="line"><span class="lineno"> 3717</span>                    <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3718</span>                    <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3719</span>                    <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3720</span>                    <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#a3bf085f22c8f4adbf3c06885f528ea82">CCREP_PLAYER_INFO</a>);</div>
<div class="line"><span class="lineno"> 3721</span>                    <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">playerNumber</a>);</div>
<div class="line"><span class="lineno"> 3722</span>                    <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 3723</span>                    <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;colors);</div>
<div class="line"><span class="lineno"> 3724</span>                    <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;frags);</div>
<div class="line"><span class="lineno"> 3725</span>                    <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;connecttime));</div>
<div class="line"><span class="lineno"> 3726</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="netconn_8c.html#abe74292f2e29f97906991381501eea8a">sv_status_privacy</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3727</span>                        <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection ? <span class="stringliteral">&quot;hidden&quot;</span> : <span class="stringliteral">&quot;botclient&quot;</span>);</div>
<div class="line"><span class="lineno"> 3728</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3729</span>                        <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a>-&gt;netconnection-&gt;address : <span class="stringliteral">&quot;botclient&quot;</span>);</div>
<div class="line"><span class="lineno"> 3730</span>                    <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3731</span>                    <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3732</span>                    <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3733</span>                }</div>
<div class="line"><span class="lineno"> 3734</span>            }</div>
<div class="line"><span class="lineno"> 3735</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3736</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#a9baf98f74139264a4f6103f6d0391726">CCREQ_RULE_INFO</a>:</div>
<div class="line"><span class="lineno"> 3737</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3738</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREQ_RULE_INFO from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3739</span>            <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">islocal</a> || <a class="code hl_variable" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; -1))</div>
<div class="line"><span class="lineno"> 3740</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3741</span> </div>
<div class="line"><span class="lineno"> 3742</span>            <span class="comment">// no flood check here, as it only returns one cvar for one cvar and clients may iterate quickly</span></div>
<div class="line"><span class="lineno"> 3743</span> </div>
<div class="line"><span class="lineno"> 3744</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a>)</div>
<div class="line"><span class="lineno"> 3745</span>            {</div>
<div class="line"><span class="lineno"> 3746</span>                <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevCvarName</a>;</div>
<div class="line"><span class="lineno"> 3747</span>                <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>;</div>
<div class="line"><span class="lineno"> 3748</span> </div>
<div class="line"><span class="lineno"> 3749</span>                <span class="comment">// find the search start location</span></div>
<div class="line"><span class="lineno"> 3750</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevCvarName</a> = <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>));</div>
<div class="line"><span class="lineno"> 3751</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a> = <a class="code hl_function" href="cvar_8c.html#aea03f8d55ad515087a1379f95f4a2f35">Cvar_FindVarAfter</a>(&amp;<a class="code hl_variable" href="cvar_8c.html#a71b1f2a204cebd68e6bc4790b9ac4258">cvars_all</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevCvarName</a>, <a class="code hl_define" href="cmd_8h.html#a7ceacac5c93b13e03bc1238df994ab9a">CF_NOTIFY</a>);</div>
<div class="line"><span class="lineno"> 3752</span> </div>
<div class="line"><span class="lineno"> 3753</span>                <span class="comment">// send the response</span></div>
<div class="line"><span class="lineno"> 3754</span>                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3755</span>                <span class="comment">// save space for the header, filled in later</span></div>
<div class="line"><span class="lineno"> 3756</span>                <a class="code hl_function" href="com__msg_8c.html#a5da2d044d88eea95488c4f537b13b35d">MSG_WriteLong</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, 0);</div>
<div class="line"><span class="lineno"> 3757</span>                <a class="code hl_function" href="com__msg_8c.html#a7e32b0a419941b93644ba097bb64af96">MSG_WriteByte</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_define" href="netconn_8h.html#aa34599ce347c884f29a05f2040fcab24">CCREP_RULE_INFO</a>);</div>
<div class="line"><span class="lineno"> 3758</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>)</div>
<div class="line"><span class="lineno"> 3759</span>                {</div>
<div class="line"><span class="lineno"> 3760</span>                    <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 3761</span>                    <a class="code hl_function" href="com__msg_8c.html#a3e0a67e5c8fa483be5e3e1513ff50d0d">MSG_WriteString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>-&gt;string);</div>
<div class="line"><span class="lineno"> 3762</span>                }</div>
<div class="line"><span class="lineno"> 3763</span>                <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>(<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><span class="lineno"> 3764</span>                <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#a2833c4a635a67f33e683e830132a2a82">data</a>, <a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>.<a class="code hl_variable" href="structsizebuf__t.html#aa960c440ea09dd17969bd79f15b9fd33">cursize</a>, peeraddress);</div>
<div class="line"><span class="lineno"> 3765</span>                <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3766</span>            }</div>
<div class="line"><span class="lineno"> 3767</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3768</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="netconn_8h.html#ae1134f9893b738edac68b39d872dbd2d">CCREQ_RCON</a>:</div>
<div class="line"><span class="lineno"> 3769</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3770</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Datagram_ParseConnectionless: received CCREQ_RCON from %s.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3771</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a> &amp;&amp; !<a class="code hl_variable" href="netconn_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3772</span>            {</div>
<div class="line"><span class="lineno"> 3773</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>[2048];</div>
<div class="line"><span class="lineno"> 3774</span>                <span class="keywordtype">char</span> cmd[2048];</div>
<div class="line"><span class="lineno"> 3775</span>                <span class="keywordtype">char</span> *s;</div>
<div class="line"><span class="lineno"> 3776</span>                <span class="keywordtype">char</span> *endpos;</div>
<div class="line"><span class="lineno"> 3777</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>;</div>
<div class="line"><span class="lineno"> 3778</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>)), <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>));</div>
<div class="line"><span class="lineno"> 3779</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(cmd, <a class="code hl_function" href="com__msg_8c.html#a0d7f50d0022ab72061eeeb6cd7e60d58">MSG_ReadString</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>, <a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a>)), <span class="keyword">sizeof</span>(cmd));</div>
<div class="line"><span class="lineno"> 3780</span>                s = cmd;</div>
<div class="line"><span class="lineno"> 3781</span>                endpos = cmd + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(cmd) + 1; <span class="comment">// one behind the NUL, so adding strlen+1 will eventually reach it</span></div>
<div class="line"><span class="lineno"> 3782</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a> = <a class="code hl_function" href="netconn_8c.html#aece3cba3e51092996b1190039cec2865">RCon_Authenticate</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, s, endpos, <a class="code hl_function" href="netconn_8c.html#ad6b7fc461b9b94c3394485daa7e18808">plaintext_matching</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><span class="lineno"> 3783</span>                <a class="code hl_function" href="netconn_8c.html#a04b829f8d37007c0ed359e4ac78b8970">RCon_Execute</a>(mysocket, peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>, s, endpos, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3784</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3785</span>            }</div>
<div class="line"><span class="lineno"> 3786</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3787</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3788</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3789</span>        }</div>
<div class="line"><span class="lineno"> 3790</span>        <a class="code hl_function" href="common_8c.html#a0ea018e5fb18adcef01a365a50fccfef">SZ_Clear</a>(&amp;<a class="code hl_variable" href="netconn_8c.html#acbf23938a2ed5657b35e7e88d54b8d5e">sv_message</a>);</div>
<div class="line"><span class="lineno"> 3791</span>        <span class="comment">// we may not have liked the packet, but it was a valid control</span></div>
<div class="line"><span class="lineno"> 3792</span>        <span class="comment">// packet, so we&#39;re done processing this packet now</span></div>
<div class="line"><span class="lineno"> 3793</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3794</span>    }</div>
<div class="line"><span class="lineno"> 3795</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>)</div>
<div class="line"><span class="lineno"> 3796</span>    {</div>
<div class="line"><span class="lineno"> 3797</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="netconn_8c.html#a310bc9b48254f2c8e90138890a17b9be">NetConn_ReceivedMessage</a>(<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">netconnection</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a>, <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a0dc39adc2fc9d8527b201ac3c242d41b">begun</a> ? <a class="code hl_variable" href="netconn_8c.html#a125fb9e97285613acc8bc55055808fa3">net_messagetimeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> : <a class="code hl_variable" href="netconn_8c.html#a4be140d13075e2b17324b2922e60bf8d">net_connecttimeout</a>.<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>)) == 2)</div>
<div class="line"><span class="lineno"> 3798</span>        {</div>
<div class="line"><span class="lineno"> 3799</span>            <a class="code hl_function" href="server_8h.html#a26ab9848cf13952c3b88b607749e4519">SV_ReadClientMessage</a>();</div>
<div class="line"><span class="lineno"> 3800</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 3801</span>        }</div>
<div class="line"><span class="lineno"> 3802</span>    }</div>
<div class="line"><span class="lineno"> 3803</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3804</span>}</div>
<div class="ttc" id="acmd_8h_html_a7ceacac5c93b13e03bc1238df994ab9a"><div class="ttname"><a href="cmd_8h.html#a7ceacac5c93b13e03bc1238df994ab9a">CF_NOTIFY</a></div><div class="ttdeci">#define CF_NOTIFY</div><div class="ttdoc">cvar should trigger a chat notification to all connected clients when changed</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00055">cmd.h:55</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a951f8bc3721b184110ef5ae44314381b"><div class="ttname"><a href="com__msg_8c.html#a951f8bc3721b184110ef5ae44314381b">MSG_WriteUnterminatedString</a></div><div class="ttdeci">void MSG_WriteUnterminatedString(sizebuf_t *sb, const char *s)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00181">com_msg.c:181</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197aca01ddb39eebd09e3bf39ba16758b2af74"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca01ddb39eebd09e3bf39ba16758b2af74">PROTOCOL_DARKPLACES2</a></div><div class="ttdeci">@ PROTOCOL_DARKPLACES2</div><div class="ttdoc">various changes</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00140">common.h:140</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197aca2517661c298c2eea2efffdb75a978aba"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca2517661c298c2eea2efffdb75a978aba">PROTOCOL_NEHAHRABJP2</a></div><div class="ttdeci">@ PROTOCOL_NEHAHRABJP2</div><div class="ttdoc">same as NEHAHRABJP but with 16bit soundindex</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00147">common.h:147</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197aca508c2557d497debd3dfc6dd0b1ba51a3"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca508c2557d497debd3dfc6dd0b1ba51a3">PROTOCOL_NEHAHRABJP</a></div><div class="ttdeci">@ PROTOCOL_NEHAHRABJP</div><div class="ttdoc">same as QUAKEDP but with 16bit modelindex</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00146">common.h:146</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197aca6c7650cad0e2a7d85230f2da7705efdf"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197aca6c7650cad0e2a7d85230f2da7705efdf">PROTOCOL_QUAKEDP</a></div><div class="ttdeci">@ PROTOCOL_QUAKEDP</div><div class="ttdoc">darkplaces extended quake protocol (used by TomazQuake and others), backwards compatible as long as n...</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00142">common.h:142</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197acab4041cf357cc4865b8c36254137cc6e3"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197acab4041cf357cc4865b8c36254137cc6e3">PROTOCOL_NEHAHRABJP3</a></div><div class="ttdeci">@ PROTOCOL_NEHAHRABJP3</div><div class="ttdoc">same as NEHAHRABJP2 but with some changes</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00149">common.h:148</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197acaca8087bd0520f5fc6058511ec0bc9832"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaca8087bd0520f5fc6058511ec0bc9832">PROTOCOL_NEHAHRAMOVIE</a></div><div class="ttdeci">@ PROTOCOL_NEHAHRAMOVIE</div><div class="ttdoc">Nehahra movie protocol, a big nasty hack dating back to early days of the Quake Standards Group (but ...</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00143">common.h:143</a></div></div>
<div class="ttc" id="acommon_8h_html_a366ae823bcda0303072d32ce8bf197acafbc76c9ae8d669d3a0b90ab357f643fe"><div class="ttname"><a href="common_8h.html#a366ae823bcda0303072d32ce8bf197acafbc76c9ae8d669d3a0b90ab357f643fe">PROTOCOL_DARKPLACES1</a></div><div class="ttdeci">@ PROTOCOL_DARKPLACES1</div><div class="ttdoc">uses EntityFrame entity snapshot encoder/decoder which is a QuakeWorld-like entity snapshot delta com...</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00141">common.h:141</a></div></div>
<div class="ttc" id="acrypto_8c_html_a054ffa4cc3d4babef105c85cbb5f367f"><div class="ttname"><a href="crypto_8c.html#a054ffa4cc3d4babef105c85cbb5f367f">Crypto_ServerGetInstance</a></div><div class="ttdeci">crypto_t * Crypto_ServerGetInstance(lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l00573">crypto.c:573</a></div></div>
<div class="ttc" id="acrypto_8c_html_a6f3d29a8d2e8a24dc51d47cba14aef9e"><div class="ttname"><a href="crypto_8c.html#a6f3d29a8d2e8a24dc51d47cba14aef9e">crypto_developer</a></div><div class="ttdeci">cvar_t crypto_developer</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l00030">crypto.c:30</a></div></div>
<div class="ttc" id="acrypto_8c_html_ace1b41f4cd5100f173da25da7f726a8f"><div class="ttname"><a href="crypto_8c.html#ace1b41f4cd5100f173da25da7f726a8f">Crypto_ServerParsePacket</a></div><div class="ttdeci">int Crypto_ServerParsePacket(const char *data_in, size_t len_in, char *data_out, size_t *len_out, lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l02036">crypto.c:2036</a></div></div>
<div class="ttc" id="acrypto_8c_html_af1d27aad50725635cef9445233a58e3f"><div class="ttname"><a href="crypto_8c.html#af1d27aad50725635cef9445233a58e3f">Crypto_ServerAppendToChallenge</a></div><div class="ttdeci">qbool Crypto_ServerAppendToChallenge(const char *data_in, size_t len_in, char *data_out, size_t *len_out, size_t maxlen_out)</div><div class="ttdef"><b>Definition</b> <a href="crypto_8c_source.html#l01696">crypto.c:1696</a></div></div>
<div class="ttc" id="acvar_8c_html_a71b1f2a204cebd68e6bc4790b9ac4258"><div class="ttname"><a href="cvar_8c.html#a71b1f2a204cebd68e6bc4790b9ac4258">cvars_all</a></div><div class="ttdeci">cvar_state_t cvars_all</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00028">cvar.c:28</a></div></div>
<div class="ttc" id="acvar_8c_html_aea03f8d55ad515087a1379f95f4a2f35"><div class="ttname"><a href="cvar_8c.html#aea03f8d55ad515087a1379f95f4a2f35">Cvar_FindVarAfter</a></div><div class="ttdeci">cvar_t * Cvar_FindVarAfter(cvar_state_t *cvars, const char *prev_var_name, unsigned neededflags)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00053">cvar.c:53</a></div></div>
<div class="ttc" id="aglquake_8h_html_a303f3de7a8816217b5a6987c647164b1"><div class="ttname"><a href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a></div><div class="ttdeci">GLsizei const GLfloat * value</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00739">glquake.h:739</a></div></div>
<div class="ttc" id="alhnet_8c_html_ad5efcc4b5bbf05a1dd889a298430ed94"><div class="ttname"><a href="lhnet_8c.html#ad5efcc4b5bbf05a1dd889a298430ed94">LHNETADDRESS_GetPort</a></div><div class="ttdeci">int LHNETADDRESS_GetPort(const lhnetaddress_t *address)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00635">lhnet.c:635</a></div></div>
<div class="ttc" id="anetconn_8c_html_a04b829f8d37007c0ed359e4ac78b8970"><div class="ttname"><a href="netconn_8c.html#a04b829f8d37007c0ed359e4ac78b8970">RCon_Execute</a></div><div class="ttdeci">static void RCon_Execute(lhnetsocket_t *mysocket, lhnetaddress_t *peeraddress, const char *addressstring2, const char *userlevel, const char *s, const char *endpos, qbool proquakeprotocol)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l03101">netconn.c:3101</a></div></div>
<div class="ttc" id="anetconn_8c_html_a11fe26a0682e2cd4476b76e2d8e09c25"><div class="ttname"><a href="netconn_8c.html#a11fe26a0682e2cd4476b76e2d8e09c25">NetConn_BuildStatusResponse</a></div><div class="ttdeci">static qbool NetConn_BuildStatusResponse(const char *challenge, char *out_msg, size_t out_size, qbool fullstatus)</div><div class="ttdoc">(div0) build the full response only if possible; better a getinfo response than no response at all if...</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l02706">netconn.c:2706</a></div></div>
<div class="ttc" id="anetconn_8c_html_a4264eb13fff8614d3f12650dcebf495f"><div class="ttname"><a href="netconn_8c.html#a4264eb13fff8614d3f12650dcebf495f">sv_net_extresponse_count</a></div><div class="ttdeci">unsigned sv_net_extresponse_count</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00161">netconn.c:161</a></div></div>
<div class="ttc" id="anetconn_8c_html_a42e419c272cbcdef6f8655d17bc28ea6"><div class="ttname"><a href="netconn_8c.html#a42e419c272cbcdef6f8655d17bc28ea6">sv_net_extresponse</a></div><div class="ttdeci">char sv_net_extresponse[NET_EXTRESPONSE_MAX][1400]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00160">netconn.c:160</a></div></div>
<div class="ttc" id="anetconn_8c_html_a516a0abe0e530d11a3d9521fd6efd0e2"><div class="ttname"><a href="netconn_8c.html#a516a0abe0e530d11a3d9521fd6efd0e2">hmac_mdfour_challenge_matching</a></div><div class="ttdeci">static qbool hmac_mdfour_challenge_matching(lhnetaddress_t *peeraddress, const char *password, const char *hash, const char *s, int slen)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l02958">netconn.c:2958</a></div></div>
<div class="ttc" id="anetconn_8c_html_a5851b82ee89d4ddfad5498c8819cef31"><div class="ttname"><a href="netconn_8c.html#a5851b82ee89d4ddfad5498c8819cef31">sv_net_extresponse_last</a></div><div class="ttdeci">unsigned sv_net_extresponse_last</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00162">netconn.c:162</a></div></div>
<div class="ttc" id="anetconn_8c_html_a6969160ac5ad367c2252f347a8e3de0f"><div class="ttname"><a href="netconn_8c.html#a6969160ac5ad367c2252f347a8e3de0f">sv_readstring</a></div><div class="ttdeci">char sv_readstring[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00073">netconn.c:73</a></div></div>
<div class="ttc" id="anetconn_8c_html_a839186bad8b6a7dd57dee891a8bf12a5"><div class="ttname"><a href="netconn_8c.html#a839186bad8b6a7dd57dee891a8bf12a5">NetConn_BuildChallengeString</a></div><div class="ttdeci">static void NetConn_BuildChallengeString(char *buffer, int bufferlength)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l02690">netconn.c:2690</a></div></div>
<div class="ttc" id="anetconn_8c_html_a91eb541dbcdf27e99a58540f296db255"><div class="ttname"><a href="netconn_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a></div><div class="ttdeci">cvar_t rcon_secure</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00094">console.c:94</a></div></div>
<div class="ttc" id="anetconn_8c_html_ab8c6374d794972f513a75a37cb56fe4c"><div class="ttname"><a href="netconn_8c.html#ab8c6374d794972f513a75a37cb56fe4c">hmac_mdfour_time_matching</a></div><div class="ttdeci">static qbool hmac_mdfour_time_matching(lhnetaddress_t *peeraddress, const char *password, const char *hash, const char *s, int slen)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l02937">netconn.c:2937</a></div></div>
<div class="ttc" id="anetconn_8c_html_abe5c6cf2ecbc7231fe31186a70423a88"><div class="ttname"><a href="netconn_8c.html#abe5c6cf2ecbc7231fe31186a70423a88">NetConn_PreventFlood</a></div><div class="ttdeci">static qbool NetConn_PreventFlood(lhnetaddress_t *peeraddress, server_floodaddress_t *floodlist, size_t floodlength, double floodtime, qbool renew)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l02872">netconn.c:2872</a></div></div>
<div class="ttc" id="anetconn_8c_html_abe74292f2e29f97906991381501eea8a"><div class="ttname"><a href="netconn_8c.html#abe74292f2e29f97906991381501eea8a">sv_status_privacy</a></div><div class="ttdeci">cvar_t sv_status_privacy</div><div class="ttdef"><b>Definition</b> <a href="sv__ccmds_8c_source.html#l00029">sv_ccmds.c:29</a></div></div>
<div class="ttc" id="anetconn_8c_html_ad6b7fc461b9b94c3394485daa7e18808"><div class="ttname"><a href="netconn_8c.html#ad6b7fc461b9b94c3394485daa7e18808">plaintext_matching</a></div><div class="ttdeci">static qbool plaintext_matching(lhnetaddress_t *peeraddress, const char *password, const char *hash, const char *s, int slen)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l02992">netconn.c:2992</a></div></div>
<div class="ttc" id="anetconn_8c_html_aece3cba3e51092996b1190039cec2865"><div class="ttname"><a href="netconn_8c.html#aece3cba3e51092996b1190039cec2865">RCon_Authenticate</a></div><div class="ttdeci">static const char * RCon_Authenticate(lhnetaddress_t *peeraddress, const char *password, const char *s, const char *endpos, rcon_matchfunc_t comparator, const char *cs, int cslen)</div><div class="ttdoc">returns a string describing the user level, or NULL for auth failure</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l03003">netconn.c:3003</a></div></div>
<div class="ttc" id="anetconn_8h_html_a7311b75257d4d9c65981367f5110a2a8"><div class="ttname"><a href="netconn_8h.html#a7311b75257d4d9c65981367f5110a2a8">CCREQ_PLAYER_INFO</a></div><div class="ttdeci">#define CCREQ_PLAYER_INFO</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00121">netconn.h:121</a></div></div>
<div class="ttc" id="anetconn_8h_html_a9baf98f74139264a4f6103f6d0391726"><div class="ttname"><a href="netconn_8h.html#a9baf98f74139264a4f6103f6d0391726">CCREQ_RULE_INFO</a></div><div class="ttdeci">#define CCREQ_RULE_INFO</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00122">netconn.h:122</a></div></div>
<div class="ttc" id="anetconn_8h_html_ac55b1ff7e4d9e5d8f92348d5cdfd0264"><div class="ttname"><a href="netconn_8h.html#ac55b1ff7e4d9e5d8f92348d5cdfd0264">CCREQ_SERVER_INFO</a></div><div class="ttdeci">#define CCREQ_SERVER_INFO</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00120">netconn.h:120</a></div></div>
<div class="ttc" id="anetconn_8h_html_ae1134f9893b738edac68b39d872dbd2d"><div class="ttname"><a href="netconn_8h.html#ae1134f9893b738edac68b39d872dbd2d">CCREQ_RCON</a></div><div class="ttdeci">#define CCREQ_RCON</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00123">netconn.h:123</a></div></div>
<div class="ttc" id="aserver_8h_html_a26ab9848cf13952c3b88b607749e4519"><div class="ttname"><a href="server_8h.html#a26ab9848cf13952c3b88b607749e4519">SV_ReadClientMessage</a></div><div class="ttdeci">void SV_ReadClientMessage(void)</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00985">sv_user.c:985</a></div></div>
<div class="ttc" id="aserver_8h_html_a797dac15ad03b31bfc08de02ceed6090"><div class="ttname"><a href="server_8h.html#a797dac15ad03b31bfc08de02ceed6090">SV_SendServerinfo</a></div><div class="ttdeci">void SV_SendServerinfo(client_t *client)</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00742">sv_main.c:742</a></div></div>
<div class="ttc" id="aserver_8h_html_ae0d9d603529d77f276ae086c87f79361"><div class="ttname"><a href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a></div><div class="ttdeci">client_t * host_client</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00029">sv_main.c:29</a></div></div>
<div class="ttc" id="aserver_8h_html_ae1f4230292219e6d76fdf519430e07c3"><div class="ttname"><a href="server_8h.html#ae1f4230292219e6d76fdf519430e07c3">SV_ConnectClient</a></div><div class="ttdeci">void SV_ConnectClient(int clientnum, netconn_t *netconnection)</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00926">sv_main.c:926</a></div></div>
<div class="ttc" id="astructchallenge__t_html_afad810a1be6f709b9270963cfae95307"><div class="ttname"><a href="structchallenge__t.html#afad810a1be6f709b9270963cfae95307">challenge_t::address</a></div><div class="ttdeci">lhnetaddress_t address</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00479">netconn.h:479</a></div></div>
<div class="ttc" id="astructclient__t_html_a0dc39adc2fc9d8527b201ac3c242d41b"><div class="ttname"><a href="structclient__t.html#a0dc39adc2fc9d8527b201ac3c242d41b">client_t::begun</a></div><div class="ttdeci">qbool begun</div><div class="ttdoc">false = don't send datagrams</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00193">server.h:193</a></div></div>
<div class="ttc" id="astructclient__t_html_a9da7a57c5bf552d6335b1dc6edfce4c4"><div class="ttname"><a href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">client_t::netconnection</a></div><div class="ttdeci">netconn_t * netconnection</div><div class="ttdoc">communications handle</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00210">server.h:210</a></div></div>
<div class="ttc" id="astructcrypto__t_html_a318251b45f735d3bfddd12838c89cfc4"><div class="ttname"><a href="structcrypto__t.html#a318251b45f735d3bfddd12838c89cfc4">crypto_t::server_keyfp</a></div><div class="ttdeci">char server_keyfp[FP64_SIZE+1]</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00048">crypto.h:48</a></div></div>
<div class="ttc" id="astructcrypto__t_html_a60ee73f814f37cb03ca6337d2c714eb2"><div class="ttname"><a href="structcrypto__t.html#a60ee73f814f37cb03ca6337d2c714eb2">crypto_t::client_idfp</a></div><div class="ttdeci">char client_idfp[FP64_SIZE+1]</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00044">crypto.h:44</a></div></div>
<div class="ttc" id="astructcrypto__t_html_a68057f781c7ef3efbb8dd9c2a3dbd816"><div class="ttname"><a href="structcrypto__t.html#a68057f781c7ef3efbb8dd9c2a3dbd816">crypto_t::client_keyfp</a></div><div class="ttdeci">char client_keyfp[FP64_SIZE+1]</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00045">crypto.h:45</a></div></div>
<div class="ttc" id="astructcrypto__t_html_ad495ade07da51add51fdcfa3763866bd"><div class="ttname"><a href="structcrypto__t.html#ad495ade07da51add51fdcfa3763866bd">crypto_t::server_idfp</a></div><div class="ttdeci">char server_idfp[FP64_SIZE+1]</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00047">crypto.h:47</a></div></div>
<div class="ttc" id="astructcvar__t_html"><div class="ttname"><a href="structcvar__t.html">cvar_t</a></div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00065">cvar.h:66</a></div></div>
<div class="ttc" id="astructserver__t_html_a2488851d77ddadf80e89e47df823e7e1"><div class="ttname"><a href="structserver__t.html#a2488851d77ddadf80e89e47df823e7e1">server_t::worldbasename</a></div><div class="ttdeci">char worldbasename[MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00109">server.h:109</a></div></div>
<div class="ttc" id="astructserver__t_html_ac38bd8454b5a9c5202f52d0cf89f167a"><div class="ttname"><a href="structserver__t.html#ac38bd8454b5a9c5202f52d0cf89f167a">server_t::getstatusfloodaddresses</a></div><div class="ttdeci">server_floodaddress_t getstatusfloodaddresses[MAX_GETSTATUSFLOODADDRESSES]</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00141">server.h:141</a></div></div>
<div class="ttc" id="astructserver__t_html_afeeeb8c5123b2b8e1824e1c5ef854256"><div class="ttname"><a href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">server_t::protocol</a></div><div class="ttdeci">protocolversion_t protocol</div><div class="ttdoc">one of the PROTOCOL_ values</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00074">server.h:74</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03806">NetConn_ServerFrame()</a>.</p>

</div>
</div>
<a id="ac1b2bf54319da034d13d1f30020ecfc6" name="ac1b2bf54319da034d13d1f30020ecfc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1b2bf54319da034d13d1f30020ecfc6">&#9670;&#160;</a></span>NetConn_Shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_Shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l04145">4145</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4146</span>{</div>
<div class="line"><span class="lineno"> 4147</span>    <a class="code hl_function" href="netconn_8c.html#af5d11f57224f1128c514d5352c9d237d">NetConn_CloseClientPorts</a>();</div>
<div class="line"><span class="lineno"> 4148</span>    <a class="code hl_function" href="netconn_8c.html#ad45b0918fbf9513a47eaf51b27b1c6de">NetConn_CloseServerPorts</a>();</div>
<div class="line"><span class="lineno"> 4149</span>    <a class="code hl_function" href="lhnet_8c.html#a4ace1406ab47b73557f7e4378ca0149f">LHNET_Shutdown</a>();</div>
<div class="line"><span class="lineno"> 4150</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>)</div>
<div class="line"><span class="lineno"> 4151</span>        <a class="code hl_define" href="thread_8h.html#a269bbcbf27698a4ab30bede7c4feefa3">Thread_DestroyMutex</a>(<a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>);</div>
<div class="line"><span class="lineno"> 4152</span>    <a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4153</span>}</div>
<div class="ttc" id="alhnet_8c_html_a4ace1406ab47b73557f7e4378ca0149f"><div class="ttname"><a href="lhnet_8c.html#a4ace1406ab47b73557f7e4378ca0149f">LHNET_Shutdown</a></div><div class="ttdeci">void LHNET_Shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00751">lhnet.c:751</a></div></div>
<div class="ttc" id="athread_8h_html_a269bbcbf27698a4ab30bede7c4feefa3"><div class="ttname"><a href="thread_8h.html#a269bbcbf27698a4ab30bede7c4feefa3">Thread_DestroyMutex</a></div><div class="ttdeci">#define Thread_DestroyMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00016">thread.h:16</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="host_8c_source.html#l00573">Host_Shutdown()</a>.</p>

</div>
</div>
<a id="adeb0515baab417663429d91acdc898bb" name="adeb0515baab417663429d91acdc898bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeb0515baab417663429d91acdc898bb">&#9670;&#160;</a></span>NetConn_sv_netport_Callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_sv_netport_Callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcvar__t.html">cvar_t</a> *&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01286">1286</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1287</span>{</div>
<div class="line"><span class="lineno"> 1288</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a641dc0dacefecc952fb578647100467c">hostport</a> != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>-&gt;integer)</div>
<div class="line"><span class="lineno"> 1289</span>    {</div>
<div class="line"><span class="lineno"> 1290</span>        <a class="code hl_variable" href="netconn_8c.html#a641dc0dacefecc952fb578647100467c">hostport</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>-&gt;integer;</div>
<div class="line"><span class="lineno"> 1291</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a>)</div>
<div class="line"><span class="lineno"> 1292</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Changing \&quot;port\&quot; will not take effect until \&quot;map\&quot; command is executed.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1293</span>    }</div>
<div class="line"><span class="lineno"> 1294</span>}</div>
<div class="ttc" id="anetconn_8c_html_a641dc0dacefecc952fb578647100467c"><div class="ttname"><a href="netconn_8c.html#a641dc0dacefecc952fb578647100467c">hostport</a></div><div class="ttdeci">static int hostport</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01283">netconn.c:1283</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="a880160743f307a53e90fae1751c89d1a" name="a880160743f307a53e90fae1751c89d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a880160743f307a53e90fae1751c89d1a">&#9670;&#160;</a></span>NetConn_UpdateCleartime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_UpdateCleartime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> *&#160;</td>
          <td class="paramname"><em>cleartime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>burstsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00796">796</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  797</span>{</div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bursttime</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">burstsize</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>)rate;</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    <span class="comment">// delay later packets to obey rate limit</span></div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordflow">if</span> (*cleartime &lt; <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bursttime</a>)</div>
<div class="line"><span class="lineno">  802</span>        *cleartime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bursttime</a>;</div>
<div class="line"><span class="lineno">  803</span>    *cleartime = *cleartime + len / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>)rate;</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>    <span class="comment">// limit bursts to one packet in size (&quot;dialup mode&quot; emulating old behaviour)</span></div>
<div class="line"><span class="lineno">  806</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#ab02c233c5d0c32d9dc768c5d4dbb390d">net_test</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  807</span>    {</div>
<div class="line"><span class="lineno">  808</span>        <span class="keywordflow">if</span> (*cleartime &lt; <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>)</div>
<div class="line"><span class="lineno">  809</span>            *cleartime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><span class="lineno">  810</span>    }</div>
<div class="line"><span class="lineno">  811</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01321">NetConn_ReceivedMessage()</a>, and <a class="el" href="netconn_8c_source.html#l00834">NetConn_SendUnreliableMessage()</a>.</p>

</div>
</div>
<a id="a53fe62ae3af70f7fc4564fe951bbb4dd" name="a53fe62ae3af70f7fc4564fe951bbb4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53fe62ae3af70f7fc4564fe951bbb4dd">&#9670;&#160;</a></span>NetConn_UpdateSockets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> NetConn_UpdateSockets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01296">1296</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1297</span>{</div>
<div class="line"><span class="lineno"> 1298</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 1299</span> </div>
<div class="line"><span class="lineno"> 1300</span>    <span class="comment">// TODO add logic to automatically close sockets if needed</span></div>
<div class="line"><span class="lineno"> 1301</span>    <a class="code hl_function" href="lhnet_8c.html#a4f6d4151a55ef98d4fbcafd2fcd83559">LHNET_DefaultDSCP</a>(<a class="code hl_variable" href="netconn_8c.html#a5bbdc90f2740857b6c97a7b73489fc20">net_tos_dscp</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><span class="lineno"> 1302</span> </div>
<div class="line"><span class="lineno"> 1303</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1304</span>    {</div>
<div class="line"><span class="lineno"> 1305</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#aa4259a5cb007c414a079fb68f997365b">rcon_ringpos</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> + 1) % <a class="code hl_define" href="client_8h.html#afb0c1fcef061648f398ffe8a941c9ad9">MAX_RCONS</a>;</div>
<div class="line"><span class="lineno"> 1306</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">rcon_commands</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0])</div>
<div class="line"><span class="lineno"> 1307</span>        {</div>
<div class="line"><span class="lineno"> 1308</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> &gt; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a8a969600e405dd3490653661c62af39b">rcon_timeout</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><span class="lineno"> 1309</span>            {</div>
<div class="line"><span class="lineno"> 1310</span>                <span class="keywordtype">char</span> s[128];</div>
<div class="line"><span class="lineno"> 1311</span>                <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(&amp;<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6f544c2a21ea11caf51ab5c32f32ee6d">rcon_addresses</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], s, <span class="keyword">sizeof</span>(s), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1312</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;rcon to %s (for command %s) failed: challenge request timed out\n&quot;</span>, s, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">rcon_commands</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1313</span>                <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ade3e66378f41e8707ca50d9b81a10ec5">rcon_commands</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = 0;</div>
<div class="line"><span class="lineno"> 1314</span>                --<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a06392a35cbd07d60ea82122f2d1842d8">rcon_trying</a>;</div>
<div class="line"><span class="lineno"> 1315</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1316</span>            }</div>
<div class="line"><span class="lineno"> 1317</span>        }</div>
<div class="line"><span class="lineno"> 1318</span>    }</div>
<div class="line"><span class="lineno"> 1319</span>}</div>
<div class="ttc" id="alhnet_8c_html_a4f6d4151a55ef98d4fbcafd2fcd83559"><div class="ttname"><a href="lhnet_8c.html#a4f6d4151a55ef98d4fbcafd2fcd83559">LHNET_DefaultDSCP</a></div><div class="ttdeci">int LHNET_DefaultDSCP(int dscp)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00739">lhnet.c:739</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l00574">CL_EstablishConnection()</a>, <a class="el" href="cl__demo_8c_source.html#l00413">CL_PlayDemo()</a>, <a class="el" href="cl__main_8c_source.html#l02790">CL_StartVideo()</a>, <a class="el" href="host_8c_source.html#l00620">Host_Frame()</a>, <a class="el" href="netconn_8c_source.html#l02623">NetConn_ClientFrame()</a>, and <a class="el" href="netconn_8c_source.html#l01158">NetConn_OpenServerPorts()</a>.</p>

</div>
</div>
<a id="a1e8a8700531fab7a9c69ff0ff0258e9f" name="a1e8a8700531fab7a9c69ff0ff0258e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8a8700531fab7a9c69ff0ff0258e9f">&#9670;&#160;</a></span>NetConn_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td>
          <td class="paramname"><em>mysocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00748">748</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  749</span>{</div>
<div class="line"><span class="lineno">  750</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno">  751</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#af5bc5e4de2f31760a2f0a60c1a3de8ec">net_fakeloss_send</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  754</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="netconn_8c.html#a4e362d1b3e635420eea4ee33945cf879">cl_numsockets</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  755</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a059a80c09f1a475b0d33fd58910efea0">cl_sockets</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == mysocket &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rand</a>() % 100) &lt; <a class="code hl_variable" href="netconn_8c.html#af5bc5e4de2f31760a2f0a60c1a3de8ec">net_fakeloss_send</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  756</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno">  757</span>    <span class="keywordflow">if</span> (mysocket-&gt;<a class="code hl_variable" href="structlhnetsocket__t.html#aca06685cb3bfd510c27944c09a8a529b">address</a>.<a class="code hl_variable" href="structlhnetaddress__t.html#a03061e1e9980e51aee4083e86829b0ad">addresstype</a> == <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a> &amp;&amp; <a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>)</div>
<div class="line"><span class="lineno">  758</span>        <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>);</div>
<div class="line"><span class="lineno">  759</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="lhnet_8c.html#a1b518cb47f8232304886e63741a8cecb">LHNET_Write</a>(mysocket, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, peeraddress);</div>
<div class="line"><span class="lineno">  760</span>    <span class="keywordflow">if</span> (mysocket-&gt;<a class="code hl_variable" href="structlhnetsocket__t.html#aca06685cb3bfd510c27944c09a8a529b">address</a>.<a class="code hl_variable" href="structlhnetaddress__t.html#a03061e1e9980e51aee4083e86829b0ad">addresstype</a> == <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a> &amp;&amp; <a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>)</div>
<div class="line"><span class="lineno">  761</span>        <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="netconn_8c.html#a03458d3acf0119e9cb33b91ed6ffe835">netconn_mutex</a>);</div>
<div class="line"><span class="lineno">  762</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="netconn_8c.html#a6ec6ab811f71ef2e66d3aa1710c0a095">developer_networking</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  763</span>    {</div>
<div class="line"><span class="lineno">  764</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>[128], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>[128];</div>
<div class="line"><span class="lineno">  765</span>        <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(<a class="code hl_function" href="lhnet_8c.html#a913a13078838978f9efb05c09b8de24f">LHNET_AddressFromSocket</a>(mysocket), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  766</span>        <a class="code hl_function" href="lhnet_8c.html#a191c91d25271eed39a5eb76e2d8e5dde">LHNETADDRESS_ToString</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  767</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;LHNET_Write(%p (%s), %p, %i, %p (%s)) = %i%s\n&quot;</span>, (<span class="keywordtype">void</span> *)mysocket, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring</a>, (<span class="keywordtype">void</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, (<span class="keywordtype">void</span> *)peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> == <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; (ERROR)&quot;</span>);</div>
<div class="line"><span class="lineno">  768</span>        <a class="code hl_function" href="common_8c.html#a9913aa4c9e2d0acfc38638235bbe31ca">Com_HexDumpToConsole</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno">  769</span>    }</div>
<div class="line"><span class="lineno">  770</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno">  771</span>}</div>
<div class="ttc" id="alhnet_8c_html_a1b518cb47f8232304886e63741a8cecb"><div class="ttname"><a href="lhnet_8c.html#a1b518cb47f8232304886e63741a8cecb">LHNET_Write</a></div><div class="ttdeci">int LHNET_Write(lhnetsocket_t *lhnetsocket, const void *content, int contentlength, const lhnetaddress_t *vaddress)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l01135">lhnet.c:1135</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__cmd_8c_source.html#l00413">CL_Packet_f()</a>, <a class="el" href="cl__cmd_8c_source.html#l00486">CL_PQRcon_f()</a>, <a class="el" href="cl__cmd_8c_source.html#l00544">CL_Rcon_f()</a>, <a class="el" href="console_8c_source.html#l01019">Con_Rcon_Redirect_Flush()</a>, <a class="el" href="netconn_8c_source.html#l02623">NetConn_ClientFrame()</a>, <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, <a class="el" href="netconn_8c_source.html#l01321">NetConn_ReceivedMessage()</a>, <a class="el" href="netconn_8c_source.html#l00834">NetConn_SendUnreliableMessage()</a>, <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, and <a class="el" href="netconn_8c_source.html#l00773">NetConn_WriteString()</a>.</p>

</div>
</div>
<a id="a29cc54ca5c12633b26f6f8817d5616b4" name="a29cc54ca5c12633b26f6f8817d5616b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29cc54ca5c12633b26f6f8817d5616b4">&#9670;&#160;</a></span>NetConn_WriteString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> NetConn_WriteString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td>
          <td class="paramname"><em>mysocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00773">773</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  774</span>{</div>
<div class="line"><span class="lineno">  775</span>    <span class="comment">// note this does not include the trailing NULL because we add that in the parser</span></div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(mysocket, <span class="keywordtype">string</span>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<span class="keywordtype">string</span>), peeraddress);</div>
<div class="line"><span class="lineno">  777</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__cmd_8c_source.html#l00544">CL_Rcon_f()</a>, <a class="el" href="console_8c_source.html#l00430">Log_DestBuffer_Flush_NoLock()</a>, <a class="el" href="netconn_8c_source.html#l02623">NetConn_ClientFrame()</a>, <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, <a class="el" href="netconn_8c_source.html#l03929">NetConn_Heartbeat()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="ad6b7fc461b9b94c3394485daa7e18808" name="ad6b7fc461b9b94c3394485daa7e18808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b7fc461b9b94c3394485daa7e18808">&#9670;&#160;</a></span>plaintext_matching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> plaintext_matching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>slen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l02992">2992</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2993</span>{</div>
<div class="line"><span class="lineno"> 2994</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>[0]) {</div>
<div class="line"><span class="lineno"> 2995</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;LOGIC ERROR: RCon_Authenticate should never call the comparator with an empty password. Please report.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2996</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2997</span>    }</div>
<div class="line"><span class="lineno"> 2998</span> </div>
<div class="line"><span class="lineno"> 2999</span>    <span class="keywordflow">return</span> !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, hash);</div>
<div class="line"><span class="lineno"> 3000</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="aecc7f7a8fbd82f26351fa5dbb9672825" name="aecc7f7a8fbd82f26351fa5dbb9672825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecc7f7a8fbd82f26351fa5dbb9672825">&#9670;&#160;</a></span>PrintStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> PrintStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetconn__t.html">netconn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l03970">3970</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3971</span>{</div>
<div class="line"><span class="lineno"> 3972</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19">ca_connected</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#ae20af73b9f88637a026c94f94b474d97">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b">PROTOCOL_QUAKEWORLD</a>) || (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a> &amp;&amp; <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#afeeeb8c5123b2b8e1824e1c5ef854256">protocol</a> == <a class="code hl_enumvalue" href="common_8h.html#a366ae823bcda0303072d32ce8bf197acaef9d49aee65259a4284d94c0be04ac7b">PROTOCOL_QUAKEWORLD</a>))</div>
<div class="line"><span class="lineno"> 3973</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;address=%21s canSend=%u sendSeq=%6u recvSeq=%6u\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;address, !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;outgoing_unreliable_sequence, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;qw.incoming_sequence);</div>
<div class="line"><span class="lineno"> 3974</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3975</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;address=%21s canSend=%u sendSeq=%6u recvSeq=%6u\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;address, !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;sendMessageLength, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.sendSequence, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;nq.receiveSequence);</div>
<div class="line"><span class="lineno"> 3976</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;unreliable messages sent   = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;unreliableMessagesSent);</div>
<div class="line"><span class="lineno"> 3977</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;unreliable messages recv   = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;unreliableMessagesReceived);</div>
<div class="line"><span class="lineno"> 3978</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;reliable messages sent     = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;reliableMessagesSent);</div>
<div class="line"><span class="lineno"> 3979</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;reliable messages received = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;reliableMessagesReceived);</div>
<div class="line"><span class="lineno"> 3980</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;packetsSent                = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsSent);</div>
<div class="line"><span class="lineno"> 3981</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;packetsReSent              = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsReSent);</div>
<div class="line"><span class="lineno"> 3982</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;packetsReceived            = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;packetsReceived);</div>
<div class="line"><span class="lineno"> 3983</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;receivedDuplicateCount     = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;receivedDuplicateCount);</div>
<div class="line"><span class="lineno"> 3984</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;droppedDatagrams           = %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conn</a>-&gt;droppedDatagrams);</div>
<div class="line"><span class="lineno"> 3985</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03987">Net_Stats_f()</a>.</p>

</div>
</div>
<a id="aece3cba3e51092996b1190039cec2865" name="aece3cba3e51092996b1190039cec2865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece3cba3e51092996b1190039cec2865">&#9670;&#160;</a></span>RCon_Authenticate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * RCon_Authenticate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>endpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="netconn_8c.html#a9cc5698cb9e3b5e2cf26679433d904ec">rcon_matchfunc_t</a>&#160;</td>
          <td class="paramname"><em>comparator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>cslen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns a string describing the user level, or NULL for auth failure </p>

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l03003">3003</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3004</span>{</div>
<div class="line"><span class="lineno"> 3005</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *text, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_startpass</a>;</div>
<div class="line"><span class="lineno"> 3006</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><span class="lineno"> 3007</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hasquotes</a>;</div>
<div class="line"><span class="lineno"> 3008</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restricted</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3009</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have_usernames</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3010</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 3011</span> </div>
<div class="line"><span class="lineno"> 3012</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a> = <a class="code hl_variable" href="client_8h.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>;</div>
<div class="line"><span class="lineno"> 3013</span>    <span class="keywordflow">while</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>, <span class="charliteral">&#39; &#39;</span>)))</div>
<div class="line"><span class="lineno"> 3014</span>    {</div>
<div class="line"><span class="lineno"> 3015</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have_usernames</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3016</span>        <a class="code hl_function" href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>);</div>
<div class="line"><span class="lineno"> 3017</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[0])  <span class="comment">// Ignore empty entries due to leading/duplicate space.</span></div>
<div class="line"><span class="lineno"> 3018</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">comparator</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cslen</a>))</div>
<div class="line"><span class="lineno"> 3019</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a>;</div>
<div class="line"><span class="lineno"> 3020</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a> + 1;</div>
<div class="line"><span class="lineno"> 3021</span>    }</div>
<div class="line"><span class="lineno"> 3022</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>[0])  <span class="comment">// Ignore empty trailing entry due to trailing space or password not set.</span></div>
<div class="line"><span class="lineno"> 3023</span>    {</div>
<div class="line"><span class="lineno"> 3024</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>);</div>
<div class="line"><span class="lineno"> 3025</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">comparator</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cslen</a>))</div>
<div class="line"><span class="lineno"> 3026</span>            <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a>;</div>
<div class="line"><span class="lineno"> 3027</span>    }</div>
<div class="line"><span class="lineno"> 3028</span> </div>
<div class="line"><span class="lineno"> 3029</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restricted</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3030</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have_usernames</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3031</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a> = <a class="code hl_variable" href="netconn_8c.html#aa9ae822e079633dab70ff829b88f68ab">rcon_restricted_password</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>;</div>
<div class="line"><span class="lineno"> 3032</span>    <span class="keywordflow">while</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>, <span class="charliteral">&#39; &#39;</span>)))</div>
<div class="line"><span class="lineno"> 3033</span>    {</div>
<div class="line"><span class="lineno"> 3034</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have_usernames</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3035</span>        <a class="code hl_function" href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>);</div>
<div class="line"><span class="lineno"> 3036</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[0])  <span class="comment">// Ignore empty entries due to leading/duplicate space.</span></div>
<div class="line"><span class="lineno"> 3037</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">comparator</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cslen</a>))</div>
<div class="line"><span class="lineno"> 3038</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>;</div>
<div class="line"><span class="lineno"> 3039</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a> + 1;</div>
<div class="line"><span class="lineno"> 3040</span>    }</div>
<div class="line"><span class="lineno"> 3041</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>[0])  <span class="comment">// Ignore empty trailing entry due to trailing space or password not set.</span></div>
<div class="line"><span class="lineno"> 3042</span>    {</div>
<div class="line"><span class="lineno"> 3043</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>);</div>
<div class="line"><span class="lineno"> 3044</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">comparator</a>(peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cslen</a>))</div>
<div class="line"><span class="lineno"> 3045</span>            <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>;</div>
<div class="line"><span class="lineno"> 3046</span>    }</div>
<div class="line"><span class="lineno"> 3047</span>    </div>
<div class="line"><span class="lineno"> 3048</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">// DENIED</span></div>
<div class="line"><span class="lineno"> 3049</span> </div>
<div class="line"><span class="lineno"> 3050</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>:</div>
<div class="line"><span class="lineno"> 3051</span>    <span class="keywordflow">for</span>(text = s; text != endpos; ++text)</div>
<div class="line"><span class="lineno"> 3052</span>        <span class="keywordflow">if</span>((<span class="keywordtype">signed</span> <span class="keywordtype">char</span>) *text &gt; 0 &amp;&amp; ((<span class="keywordtype">signed</span> <span class="keywordtype">char</span>) *text &lt; (<span class="keywordtype">signed</span> <span class="keywordtype">char</span>) <span class="charliteral">&#39; &#39;</span> || *text == <span class="charliteral">&#39;;&#39;</span>))</div>
<div class="line"><span class="lineno"> 3053</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">// block possible exploits against the parser/alias expansion</span></div>
<div class="line"><span class="lineno"> 3054</span> </div>
<div class="line"><span class="lineno"> 3055</span>    <span class="keywordflow">while</span>(s != endpos)</div>
<div class="line"><span class="lineno"> 3056</span>    {</div>
<div class="line"><span class="lineno"> 3057</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(s);</div>
<div class="line"><span class="lineno"> 3058</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</div>
<div class="line"><span class="lineno"> 3059</span>        {</div>
<div class="line"><span class="lineno"> 3060</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hasquotes</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(s, <span class="charliteral">&#39;&quot;&#39;</span>) != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 3061</span>            <span class="comment">// sorry, we can&#39;t allow these substrings in wildcard expressions,</span></div>
<div class="line"><span class="lineno"> 3062</span>            <span class="comment">// as they can mess with the argument counts</span></div>
<div class="line"><span class="lineno"> 3063</span>            text = <a class="code hl_variable" href="netconn_8c.html#a53375cac16c58f364c01e3cacea4c416">rcon_restricted_commands</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>;</div>
<div class="line"><span class="lineno"> 3064</span>            <span class="keywordflow">while</span>(<a class="code hl_function" href="common_8c.html#a7d8e38022cb81cc407c53a1cb3b33866">COM_ParseToken_Console</a>(&amp;text))</div>
<div class="line"><span class="lineno"> 3065</span>            {</div>
<div class="line"><span class="lineno"> 3066</span>                <span class="comment">// com_token now contains a pattern to check for...</span></div>
<div class="line"><span class="lineno"> 3067</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="charliteral">&#39;*&#39;</span>) || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="charliteral">&#39;?&#39;</span>)) <span class="comment">// wildcard expression, * can only match a SINGLE argument</span></div>
<div class="line"><span class="lineno"> 3068</span>                {</div>
<div class="line"><span class="lineno"> 3069</span>                    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hasquotes</a>)</div>
<div class="line"><span class="lineno"> 3070</span>                        <span class="keywordflow">if</span>(<a class="code hl_function" href="filematch_8c.html#af881fdde9dcad22dd5c8ef7ab06f5d11">matchpattern_with_separator</a>(s, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot; &quot;</span>, <span class="keyword">true</span>)) <span class="comment">// note how we excluded tab, newline etc. above</span></div>
<div class="line"><span class="lineno"> 3071</span>                            <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>;</div>
<div class="line"><span class="lineno"> 3072</span>                }</div>
<div class="line"><span class="lineno"> 3073</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="charliteral">&#39; &#39;</span>)) <span class="comment">// multi-arg expression? must match in whole</span></div>
<div class="line"><span class="lineno"> 3074</span>                {</div>
<div class="line"><span class="lineno"> 3075</span>                    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, s))</div>
<div class="line"><span class="lineno"> 3076</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>;</div>
<div class="line"><span class="lineno"> 3077</span>                }</div>
<div class="line"><span class="lineno"> 3078</span>                <span class="keywordflow">else</span> <span class="comment">// single-arg expression? must match the beginning of the command</span></div>
<div class="line"><span class="lineno"> 3079</span>                {</div>
<div class="line"><span class="lineno"> 3080</span>                    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, s))</div>
<div class="line"><span class="lineno"> 3081</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>;</div>
<div class="line"><span class="lineno"> 3082</span>                    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s &quot;</span>, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>), s, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>) + 1))</div>
<div class="line"><span class="lineno"> 3083</span>                        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>;</div>
<div class="line"><span class="lineno"> 3084</span>                }</div>
<div class="line"><span class="lineno"> 3085</span>            }</div>
<div class="line"><span class="lineno"> 3086</span>            <span class="comment">// if we got here, nothing matched!</span></div>
<div class="line"><span class="lineno"> 3087</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3088</span>        }</div>
<div class="line"><span class="lineno"> 3089</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>:</div>
<div class="line"><span class="lineno"> 3090</span>        s += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> + 1;</div>
<div class="line"><span class="lineno"> 3091</span>    }</div>
<div class="line"><span class="lineno"> 3092</span> </div>
<div class="line"><span class="lineno"> 3093</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a>:</div>
<div class="line"><span class="lineno"> 3094</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_startpass</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 3095</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have_usernames</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_startpass</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_startpass</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_end</a>)</div>
<div class="line"><span class="lineno"> 3096</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%srcon (username %.*s)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restricted</a> ? <span class="stringliteral">&quot;restricted &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_startpass</a>-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userpass_start</a>);</div>
<div class="line"><span class="lineno"> 3097</span> </div>
<div class="line"><span class="lineno"> 3098</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%srcon&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restricted</a> ? <span class="stringliteral">&quot;restricted &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3099</span>}</div>
<div class="ttc" id="acommon_8c_html_a21e343fdc83c4695c7d0af3be8756795"><div class="ttname"><a href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a></div><div class="ttdeci">char * dp_ustr2stp(char *dst, size_t dsize, const char *src, size_t slen)</div><div class="ttdoc">Copies a measured byte sequence (unterminated string) to a null-terminated string.</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l01373">common.c:1373</a></div></div>
<div class="ttc" id="acommon_8c_html_a3eb222dff7f3bc0f6ce47f1e02df175e"><div class="ttname"><a href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a></div><div class="ttdeci">char com_token[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00039">common.c:39</a></div></div>
<div class="ttc" id="acommon_8c_html_a4a8220fa88226bf9cf39b12a051a20d7"><div class="ttname"><a href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a></div><div class="ttdeci">char * va(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00972">common.c:972</a></div></div>
<div class="ttc" id="acommon_8c_html_a7d8e38022cb81cc407c53a1cb3b33866"><div class="ttname"><a href="common_8c.html#a7d8e38022cb81cc407c53a1cb3b33866">COM_ParseToken_Console</a></div><div class="ttdeci">qbool COM_ParseToken_Console(const char **datapointer)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00819">common.c:819</a></div></div>
<div class="ttc" id="afilematch_8c_html_af881fdde9dcad22dd5c8ef7ab06f5d11"><div class="ttname"><a href="filematch_8c.html#af881fdde9dcad22dd5c8ef7ab06f5d11">matchpattern_with_separator</a></div><div class="ttdeci">int matchpattern_with_separator(const char *in, const char *pattern, int caseinsensitive, const char *separators, qbool wildcard_least_one)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00023">filematch.c:23</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a04b829f8d37007c0ed359e4ac78b8970" name="a04b829f8d37007c0ed359e4ac78b8970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04b829f8d37007c0ed359e4ac78b8970">&#9670;&#160;</a></span>RCon_Execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> RCon_Execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a> *&#160;</td>
          <td class="paramname"><em>mysocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlhnetaddress__t.html">lhnetaddress_t</a> *&#160;</td>
          <td class="paramname"><em>peeraddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>addressstring2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>userlevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>endpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>proquakeprotocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l03101">3101</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3102</span>{</div>
<div class="line"><span class="lineno"> 3103</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>)</div>
<div class="line"><span class="lineno"> 3104</span>    {</div>
<div class="line"><span class="lineno"> 3105</span>        <span class="comment">// looks like a legitimate rcon command with the correct password</span></div>
<div class="line"><span class="lineno"> 3106</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s_ptr</a> = s;</div>
<div class="line"><span class="lineno"> 3107</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;server received %s command from %s: &quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userlevel</a>, <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> ? <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a718de682a0dbb017615c22f736b0613e">name</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3108</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s_ptr</a> != endpos)</div>
<div class="line"><span class="lineno"> 3109</span>        {</div>
<div class="line"><span class="lineno"> 3110</span>            <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s_ptr</a>);</div>
<div class="line"><span class="lineno"> 3111</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</div>
<div class="line"><span class="lineno"> 3112</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot; %s;&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s_ptr</a>);</div>
<div class="line"><span class="lineno"> 3113</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s_ptr</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> + 1;</div>
<div class="line"><span class="lineno"> 3114</span>        }</div>
<div class="line"><span class="lineno"> 3115</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3116</span> </div>
<div class="line"><span class="lineno"> 3117</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> || !<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">netconnection</a> || <a class="code hl_function" href="lhnet_8h.html#abc7dd16b78670fc52acefcd5df2b88e7">LHNETADDRESS_GetAddressType</a>(&amp;<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">netconnection</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a43176a4dac989af6e48ebba399aac70a">peeraddress</a>) != <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a>)</div>
<div class="line"><span class="lineno"> 3118</span>            <a class="code hl_function" href="console_8c.html#aa8e634daa84ab1e4dff4e51e4196b5af">Con_Rcon_Redirect_Init</a>(mysocket, peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">proquakeprotocol</a>);</div>
<div class="line"><span class="lineno"> 3119</span>        <span class="keywordflow">while</span>(s != endpos)</div>
<div class="line"><span class="lineno"> 3120</span>        {</div>
<div class="line"><span class="lineno"> 3121</span>            <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(s);</div>
<div class="line"><span class="lineno"> 3122</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</div>
<div class="line"><span class="lineno"> 3123</span>            {</div>
<div class="line"><span class="lineno"> 3124</span>                <a class="code hl_struct" href="structclient__t.html">client_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">host_client_save</a> = <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>;</div>
<div class="line"><span class="lineno"> 3125</span>                <a class="code hl_function" href="cmd_8c.html#aca3ea21ea175a5ede7560b274fc1744a">Cmd_PreprocessAndExecuteString</a>(<a class="code hl_variable" href="cmd_8c.html#aa617fb9e2fe1edc8bd6ce0fafccd3626">cmd_local</a>, s, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>, <a class="code hl_enumvalue" href="cmd_8h.html#a411dd76207ffe5c66b8ded1ece4129e4abf04068788c1cc081b686b180fd48495">src_local</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3126</span>                <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">host_client_save</a>;</div>
<div class="line"><span class="lineno"> 3127</span>                <span class="comment">// in case it is a command that changes host_client (like restart)</span></div>
<div class="line"><span class="lineno"> 3128</span>            }</div>
<div class="line"><span class="lineno"> 3129</span>            s += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> + 1;</div>
<div class="line"><span class="lineno"> 3130</span>        }</div>
<div class="line"><span class="lineno"> 3131</span>        <a class="code hl_function" href="console_8c.html#ab29171f857b814dcb9f7ad804540a9ba">Con_Rcon_Redirect_End</a>();</div>
<div class="line"><span class="lineno"> 3132</span>    }</div>
<div class="line"><span class="lineno"> 3133</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3134</span>    {</div>
<div class="line"><span class="lineno"> 3135</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> || !<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">netconnection</a> || <a class="code hl_function" href="lhnet_8h.html#abc7dd16b78670fc52acefcd5df2b88e7">LHNETADDRESS_GetAddressType</a>(&amp;<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a9da7a57c5bf552d6335b1dc6edfce4c4">netconnection</a>-&gt;<a class="code hl_variable" href="structnetconn__t.html#a43176a4dac989af6e48ebba399aac70a">peeraddress</a>) != <a class="code hl_enumvalue" href="lhnet_8h.html#aaf5f00c130fe2e819ddbe3e46cf84183afbc53a768575dbd36416369f993db8fe">LHNETADDRESSTYPE_LOOP</a>)</div>
<div class="line"><span class="lineno"> 3136</span>            <a class="code hl_function" href="console_8c.html#aa8e634daa84ab1e4dff4e51e4196b5af">Con_Rcon_Redirect_Init</a>(mysocket, peeraddress, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">proquakeprotocol</a>);</div>
<div class="line"><span class="lineno"> 3137</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;server denied rcon access to %s\n&quot;</span>, <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> ? <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a718de682a0dbb017615c22f736b0613e">name</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">addressstring2</a>);</div>
<div class="line"><span class="lineno"> 3138</span>        <a class="code hl_function" href="console_8c.html#ab29171f857b814dcb9f7ad804540a9ba">Con_Rcon_Redirect_End</a>();</div>
<div class="line"><span class="lineno"> 3139</span>    }</div>
<div class="line"><span class="lineno"> 3140</span>}</div>
<div class="ttc" id="acmd_8c_html_aa617fb9e2fe1edc8bd6ce0fafccd3626"><div class="ttname"><a href="cmd_8c.html#aa617fb9e2fe1edc8bd6ce0fafccd3626">cmd_local</a></div><div class="ttdeci">cmd_state_t * cmd_local</div><div class="ttdoc">command interpreter for local commands injected by SVQC, CSQC, MQC, server or client engine code uses...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l00025">cmd.c:25</a></div></div>
<div class="ttc" id="acmd_8c_html_aca3ea21ea175a5ede7560b274fc1744a"><div class="ttname"><a href="cmd_8c.html#aca3ea21ea175a5ede7560b274fc1744a">Cmd_PreprocessAndExecuteString</a></div><div class="ttdeci">void Cmd_PreprocessAndExecuteString(cmd_state_t *cmd, const char *text, size_t textlen, cmd_source_t src, qbool lockmutex)</div><div class="ttdoc">Like Cmd_ExecuteString, but with variable expansion.</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01305">cmd.c:1305</a></div></div>
<div class="ttc" id="acmd_8h_html_a411dd76207ffe5c66b8ded1ece4129e4abf04068788c1cc081b686b180fd48495"><div class="ttname"><a href="cmd_8h.html#a411dd76207ffe5c66b8ded1ece4129e4abf04068788c1cc081b686b180fd48495">src_local</a></div><div class="ttdeci">@ src_local</div><div class="ttdoc">from the command buffer</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00076">cmd.h:75</a></div></div>
<div class="ttc" id="aconsole_8c_html_aa8e634daa84ab1e4dff4e51e4196b5af"><div class="ttname"><a href="console_8c.html#aa8e634daa84ab1e4dff4e51e4196b5af">Con_Rcon_Redirect_Init</a></div><div class="ttdeci">void Con_Rcon_Redirect_Init(lhnetsocket_t *sock, lhnetaddress_t *dest, qbool proquakeprotocol)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00999">console.c:999</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab29171f857b814dcb9f7ad804540a9ba"><div class="ttname"><a href="console_8c.html#ab29171f857b814dcb9f7ad804540a9ba">Con_Rcon_Redirect_End</a></div><div class="ttdeci">void Con_Rcon_Redirect_End(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01036">console.c:1036</a></div></div>
<div class="ttc" id="astructclient__t_html_a718de682a0dbb017615c22f736b0613e"><div class="ttname"><a href="structclient__t.html#a718de682a0dbb017615c22f736b0613e">client_t::name</a></div><div class="ttdeci">char name[MAX_SCOREBOARDNAME]</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00235">server.h:235</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5e54cf29fb37082e7ce4439cddc802fd" name="a5e54cf29fb37082e7ce4439cddc802fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e54cf29fb37082e7ce4439cddc802fd">&#9670;&#160;</a></span>challenges</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structchallenge__t.html">challenge_t</a> challenges[<a class="el" href="netconn_8h.html#afa0a30f86487a7fbb0a36853e4f6e104">MAX_CHALLENGES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00119">119</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01727">Crypto_ServerParsePacket_Internal()</a>, <a class="el" href="netconn_8c_source.html#l02958">hmac_mdfour_challenge_matching()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a41848781c27194b5e2a79654558cc2f5" name="a41848781c27194b5e2a79654558cc2f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41848781c27194b5e2a79654558cc2f5">&#9670;&#160;</a></span>cl_message</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> cl_message</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00068">68</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l00314">CL_KeepaliveMessage()</a>, <a class="el" href="cl__parse_8c_source.html#l04307">CL_Parse_DumpPacket()</a>, <a class="el" href="cl__parse_8c_source.html#l02103">CL_ParseBaseline()</a>, <a class="el" href="cl__parse_8c_source.html#l02394">CL_ParseBeam()</a>, <a class="el" href="cl__parse_8c_source.html#l02143">CL_ParseClientdata()</a>, <a class="el" href="cl__parse_8c_source.html#l01478">CL_ParseDownload()</a>, <a class="el" href="cl__parse_8c_source.html#l02327">CL_ParseEffect()</a>, <a class="el" href="cl__parse_8c_source.html#l02341">CL_ParseEffect2()</a>, <a class="el" href="cl__particles_8c_source.html#l01914">CL_ParseParticleEffect()</a>, <a class="el" href="cl__parse_8c_source.html#l02960">CL_ParsePointParticles()</a>, <a class="el" href="cl__parse_8c_source.html#l02971">CL_ParsePointParticles1()</a>, <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="cl__parse_8c_source.html#l03434">CL_ParseServerMessage()</a>, <a class="el" href="cl__parse_8c_source.html#l00214">CL_ParseStartSoundPacket()</a>, <a class="el" href="cl__parse_8c_source.html#l02304">CL_ParseStaticSound()</a>, <a class="el" href="cl__parse_8c_source.html#l02412">CL_ParseTempEntity()</a>, <a class="el" href="cl__parse_8c_source.html#l02944">CL_ParseTrailParticles()</a>, <a class="el" href="cl__demo_8c_source.html#l00187">CL_ReadDemoMessage()</a>, <a class="el" href="csprogs_8c_source.html#l00579">CL_VM_Parse_TempEntity()</a>, <a class="el" href="csprogs_8c_source.html#l00798">CSQC_ReadEntities()</a>, <a class="el" href="cl__ents4_8c_source.html#l00004">EntityFrame4_CL_ReadFrame()</a>, <a class="el" href="cl__ents5_8c_source.html#l00289">EntityFrame5_CL_ReadFrame()</a>, <a class="el" href="cl__ents_8c_source.html#l00220">EntityFrame_CL_ReadFrame()</a>, <a class="el" href="cl__ents__nq_8c_source.html#l00004">EntityFrameQuake_ReadEntity()</a>, <a class="el" href="cl__ents__qw_8c_source.html#l00254">EntityFrameQW_CL_ReadFrame()</a>, <a class="el" href="cl__ents5_8c_source.html#l00004">EntityState5_ReadUpdate()</a>, <a class="el" href="cl__ents_8c_source.html#l00004">EntityState_ReadExtendBits()</a>, <a class="el" href="cl__ents_8c_source.html#l00021">EntityState_ReadFields()</a>, <a class="el" href="cl__ents__qw_8c_source.html#l00177">EntityStateQW_ReadEntityUpdate()</a>, <a class="el" href="cl__ents__qw_8c_source.html#l00046">EntityStateQW_ReadPlayerUpdate()</a>, <a class="el" href="netconn_8c_source.html#l02623">NetConn_ClientFrame()</a>, <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01321">NetConn_ReceivedMessage()</a>, <a class="el" href="cl__parse_8c_source.html#l00756">QW_CL_ParseDownload()</a>, <a class="el" href="cl__parse_8c_source.html#l00823">QW_CL_ParseModelList()</a>, <a class="el" href="cl__parse_8c_source.html#l01042">QW_CL_ParseNails()</a>, <a class="el" href="cl__parse_8c_source.html#l00858">QW_CL_ParseSoundList()</a>, <a class="el" href="cl__parse_8c_source.html#l01029">QW_CL_ServerInfo()</a>, <a class="el" href="cl__parse_8c_source.html#l01011">QW_CL_SetInfo()</a>, <a class="el" href="cl__parse_8c_source.html#l00994">QW_CL_UpdateUserInfo()</a>, <a class="el" href="cl__screen_8c_source.html#l01399">SHOWLMP_decodehide()</a>, <a class="el" href="cl__screen_8c_source.html#l01412">SHOWLMP_decodeshow()</a>, <a class="el" href="view_8c_source.html#l00261">V_ParseDamage()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02508">VM_CL_ReadAngle()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02473">VM_CL_ReadByte()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02480">VM_CL_ReadChar()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02501">VM_CL_ReadCoord()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02525">VM_CL_ReadFloat()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02494">VM_CL_ReadLong()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02533">VM_CL_ReadPicture()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02487">VM_CL_ReadShort()</a>, and <a class="el" href="clvm__cmds_8c_source.html#l02515">VM_CL_ReadString()</a>.</p>

</div>
</div>
<a id="a8e512b73deafdc983444d59588f9239e" name="a8e512b73deafdc983444d59588f9239e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e512b73deafdc983444d59588f9239e">&#9670;&#160;</a></span>cl_message_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> cl_message_buf[<a class="el" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00070">70</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="ac70f2e8d4e8c9ebb7d604e46b1c9c105" name="ac70f2e8d4e8c9ebb7d604e46b1c9c105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70f2e8d4e8c9ebb7d604e46b1c9c105">&#9670;&#160;</a></span>cl_net_extresponse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> cl_net_extresponse[<a class="el" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>][1400]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00156">156</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l05612">VM_CL_getextresponse()</a>.</p>

</div>
</div>
<a id="a91e4d9fae519ad6062ba3f938b1101e5" name="a91e4d9fae519ad6062ba3f938b1101e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e4d9fae519ad6062ba3f938b1101e5">&#9670;&#160;</a></span>cl_net_extresponse_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> cl_net_extresponse_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00157">157</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l05612">VM_CL_getextresponse()</a>.</p>

</div>
</div>
<a id="a169546e0f83607f623204b6da71a3649" name="a169546e0f83607f623204b6da71a3649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a169546e0f83607f623204b6da71a3649">&#9670;&#160;</a></span>cl_net_extresponse_last</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> cl_net_extresponse_last = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00158">158</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l05612">VM_CL_getextresponse()</a>.</p>

</div>
</div>
<a id="adbfda6bc2acef1558948b2fa709418ad" name="adbfda6bc2acef1558948b2fa709418ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbfda6bc2acef1558948b2fa709418ad">&#9670;&#160;</a></span>cl_netport</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> cl_netport = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;cl_port&quot;, &quot;0&quot;, &quot;forces <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> to use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chosen</a> port number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> 0&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00151">151</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  151</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;cl_port&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;forces client to use chosen port number if not 0&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l00370">CL_DisconnectEx()</a>, <a class="el" href="cl__main_8c_source.html#l02998">CL_Init()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l01088">NetConn_OpenClientPorts()</a>.</p>

</div>
</div>
<a id="a4e362d1b3e635420eea4ee33945cf879" name="a4e362d1b3e635420eea4ee33945cf879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e362d1b3e635420eea4ee33945cf879">&#9670;&#160;</a></span>cl_numsockets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> cl_numsockets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00142">142</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01188">NetConn_ChooseClientSocketForAddress()</a>, <a class="el" href="netconn_8c_source.html#l01262">NetConn_CL_UpdateSockets_Callback()</a>, <a class="el" href="netconn_8c_source.html#l02623">NetConn_ClientFrame()</a>, <a class="el" href="netconn_8c_source.html#l01052">NetConn_CloseClientPorts()</a>, <a class="el" href="netconn_8c_source.html#l01042">NetConn_HaveClientPorts()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01059">NetConn_OpenClientPort()</a>, <a class="el" href="netconn_8c_source.html#l00716">NetConn_Read()</a>, and <a class="el" href="netconn_8c_source.html#l00748">NetConn_Write()</a>.</p>

</div>
</div>
<a id="a67fb4a844f29d652334404e3cc1702d6" name="a67fb4a844f29d652334404e3cc1702d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fb4a844f29d652334404e3cc1702d6">&#9670;&#160;</a></span>cl_readstring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> cl_readstring[<a class="el" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00072">72</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="cl__parse_8c_source.html#l03434">CL_ParseServerMessage()</a>, <a class="el" href="cl__parse_8c_source.html#l02412">CL_ParseTempEntity()</a>, <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, <a class="el" href="cl__parse_8c_source.html#l00823">QW_CL_ParseModelList()</a>, <a class="el" href="cl__parse_8c_source.html#l00858">QW_CL_ParseSoundList()</a>, <a class="el" href="cl__parse_8c_source.html#l01029">QW_CL_ServerInfo()</a>, <a class="el" href="cl__parse_8c_source.html#l01011">QW_CL_SetInfo()</a>, <a class="el" href="cl__parse_8c_source.html#l00994">QW_CL_UpdateUserInfo()</a>, <a class="el" href="cl__screen_8c_source.html#l01399">SHOWLMP_decodehide()</a>, <a class="el" href="cl__screen_8c_source.html#l01412">SHOWLMP_decodeshow()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02533">VM_CL_ReadPicture()</a>, and <a class="el" href="clvm__cmds_8c_source.html#l02515">VM_CL_ReadString()</a>.</p>

</div>
</div>
<a id="a059a80c09f1a475b0d33fd58910efea0" name="a059a80c09f1a475b0d33fd58910efea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a059a80c09f1a475b0d33fd58910efea0">&#9670;&#160;</a></span>cl_sockets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a>* cl_sockets[16]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00143">143</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01188">NetConn_ChooseClientSocketForAddress()</a>, <a class="el" href="netconn_8c_source.html#l02623">NetConn_ClientFrame()</a>, <a class="el" href="netconn_8c_source.html#l01052">NetConn_CloseClientPorts()</a>, <a class="el" href="netconn_8c_source.html#l01059">NetConn_OpenClientPort()</a>, <a class="el" href="netconn_8c_source.html#l00716">NetConn_Read()</a>, and <a class="el" href="netconn_8c_source.html#l00748">NetConn_Write()</a>.</p>

</div>
</div>
<a id="acb11f50f9078f84d70ca42f768d28dfe" name="acb11f50f9078f84d70ca42f768d28dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb11f50f9078f84d70ca42f768d28dfe">&#9670;&#160;</a></span>clientport</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> clientport = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01258">1258</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01262">NetConn_CL_UpdateSockets_Callback()</a>.</p>

</div>
</div>
<a id="ad6cd2cf3d052ceae35331ba36beb1171" name="ad6cd2cf3d052ceae35331ba36beb1171"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6cd2cf3d052ceae35331ba36beb1171">&#9670;&#160;</a></span>clientport2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> clientport2 = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01259">1259</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01262">NetConn_CL_UpdateSockets_Callback()</a>.</p>

</div>
</div>
<a id="a6ec6ab811f71ef2e66d3aa1710c0a095" name="a6ec6ab811f71ef2e66d3aa1710c0a095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ec6ab811f71ef2e66d3aa1710c0a095">&#9670;&#160;</a></span>developer_networking</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> developer_networking = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;developer_networking&quot;, &quot;0&quot;, &quot;prints <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">received</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sent</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">recommended</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">debugging</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00085">85</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;developer_networking&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;prints all received and sent packets (recommended only for debugging)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01584">Crypto_DecryptPacket()</a>, <a class="el" href="crypto_8c_source.html#l01527">Crypto_EncryptPacket()</a>, <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l00716">NetConn_Read()</a>, <a class="el" href="netconn_8c_source.html#l00834">NetConn_SendUnreliableMessage()</a>, <a class="el" href="netconn_8c_source.html#l00748">NetConn_Write()</a>, and <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>.</p>

</div>
</div>
<a id="ab92a2869b79eba344f6365f813d1ec76" name="ab92a2869b79eba344f6365f813d1ec76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92a2869b79eba344f6365f813d1ec76">&#9670;&#160;</a></span>gameversion</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> gameversion = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;gameversion&quot;, &quot;0&quot;, &quot;version <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> (mod-specific) to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sent</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">querying</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clients&quot;</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00104">104</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  104</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;gameversion&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;version of game data (mod-specific) to be sent to querying clients&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02706">NetConn_BuildStatusResponse()</a>, and <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="ae62473f1f5b3dbbb19ba13270de52ede" name="ae62473f1f5b3dbbb19ba13270de52ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae62473f1f5b3dbbb19ba13270de52ede">&#9670;&#160;</a></span>gameversion_max</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> gameversion_max = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;gameversion_max&quot;, &quot;-1&quot;, &quot;maximum <a class="el" href="fs_8c.html#a93793de2dc55e58d203e4c24b4038be6">version</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> (mod-specific), <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> server <a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mismatch</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">browser</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shown</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incompatible</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> -1, <a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> used <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alone&quot;</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00106">106</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;gameversion_max&quot;</span>, <span class="stringliteral">&quot;-1&quot;</span>, <span class="stringliteral">&quot;maximum version of game data (mod-specific), when client and server gameversion mismatch in the server browser the server is shown as incompatible; if -1, gameversion is used alone&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="a53402ba46e24d59c426df87e617cab46" name="a53402ba46e24d59c426df87e617cab46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53402ba46e24d59c426df87e617cab46">&#9670;&#160;</a></span>gameversion_min</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> gameversion_min = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;gameversion_min&quot;, &quot;-1&quot;, &quot;minimum <a class="el" href="fs_8c.html#a93793de2dc55e58d203e4c24b4038be6">version</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> (mod-specific), <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> server <a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mismatch</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">browser</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shown</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incompatible</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> -1, <a class="el" href="netconn_8c.html#ab92a2869b79eba344f6365f813d1ec76">gameversion</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> used <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alone&quot;</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00105">105</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;gameversion_min&quot;</span>, <span class="stringliteral">&quot;-1&quot;</span>, <span class="stringliteral">&quot;minimum version of game data (mod-specific), when client and server gameversion mismatch in the server browser the server is shown as incompatible; if -1, gameversion is used alone&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="ae3a05cd185b100e46c288e366c9c19c3" name="ae3a05cd185b100e46c288e366c9c19c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a05cd185b100e46c288e366c9c19c3">&#9670;&#160;</a></span>hostname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> hostname = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;hostname&quot;, &quot;UNNAMED&quot;, &quot;server message to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">show</a> in server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">browser&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00084">84</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   84</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;hostname&quot;</span>, <span class="stringliteral">&quot;UNNAMED&quot;</span>, <span class="stringliteral">&quot;server message to show in server browser&quot;</span>};</div>
<div class="ttc" id="acmd_8h_html_aeeecb68995736ab90434173e64fd14e5"><div class="ttname"><a href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a></div><div class="ttdeci">#define CF_ARCHIVE</div><div class="ttdoc">cvar should have its set value saved to config.cfg and persist across sessions</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00053">cmd.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="menu_8c_source.html#l03979">M_GameOptions_Draw()</a>, <a class="el" href="menu_8c_source.html#l04301">M_GameOptions_Key()</a>, <a class="el" href="netconn_8c_source.html#l02706">NetConn_BuildStatusResponse()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00433">SV_Pause_f()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00459">SV_Say()</a>, <a class="el" href="sv__main_8c_source.html#l01800">SV_SpawnServer()</a>, and <a class="el" href="sv__ccmds_8c_source.html#l00529">SV_Tell_f()</a>.</p>

</div>
</div>
<a id="a641dc0dacefecc952fb578647100467c" name="a641dc0dacefecc952fb578647100467c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a641dc0dacefecc952fb578647100467c">&#9670;&#160;</a></span>hostport</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hostport = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l01283">1283</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01286">NetConn_sv_netport_Callback()</a>.</p>

</div>
</div>
<a id="a9c0c3bb09531c924acd35d84f594bced" name="a9c0c3bb09531c924acd35d84f594bced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c0c3bb09531c924acd35d84f594bced">&#9670;&#160;</a></span>masterquerycount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> masterquerycount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00114">114</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="menu_8c_source.html#l04407">M_ServerList_Draw()</a>, and <a class="el" href="mvm__cmds_8c_source.html#l00247">VM_M_getserverliststat()</a>.</p>

</div>
</div>
<a id="a3b0fda102570c9992d89ba20b8b07532" name="a3b0fda102570c9992d89ba20b8b07532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0fda102570c9992d89ba20b8b07532">&#9670;&#160;</a></span>masterquerytime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> masterquerytime = -1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00113">113</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="menu_8c_source.html#l04407">M_ServerList_Draw()</a>.</p>

</div>
</div>
<a id="ad60fa0726d14920339dde83952b4655c" name="ad60fa0726d14920339dde83952b4655c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60fa0726d14920339dde83952b4655c">&#9670;&#160;</a></span>masterreplycount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> masterreplycount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00115">115</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="menu_8c_source.html#l04407">M_ServerList_Draw()</a>, and <a class="el" href="mvm__cmds_8c_source.html#l00247">VM_M_getserverliststat()</a>.</p>

</div>
</div>
<a id="ae0b4f256612e6aaec5fb7fca221ad4a0" name="ae0b4f256612e6aaec5fb7fca221ad4a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b4f256612e6aaec5fb7fca221ad4a0">&#9670;&#160;</a></span>net_address</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_address = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_address&quot;, &quot;&quot;, &quot;network address to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">open</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ipv4</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ports</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">empty</a>, use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">default</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">interfaces</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00153">153</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_address&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;network address to open ipv4 ports on (if empty, use default interfaces)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01088">NetConn_OpenClientPorts()</a>, and <a class="el" href="netconn_8c_source.html#l01158">NetConn_OpenServerPorts()</a>.</p>

</div>
</div>
<a id="a0f1527114200da3066be49236a9e8c80" name="a0f1527114200da3066be49236a9e8c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1527114200da3066be49236a9e8c80">&#9670;&#160;</a></span>net_address_ipv6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_address_ipv6 = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_address_ipv6&quot;, &quot;&quot;, &quot;network address to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">open</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ipv6</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ports</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">empty</a>, use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">default</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">interfaces</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00154">154</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_address_ipv6&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;network address to open ipv6 ports on (if empty, use default interfaces)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01088">NetConn_OpenClientPorts()</a>, and <a class="el" href="netconn_8c_source.html#l01158">NetConn_OpenServerPorts()</a>.</p>

</div>
</div>
<a id="a070d29ab620af341e92e899ecbf54f83" name="a070d29ab620af341e92e899ecbf54f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070d29ab620af341e92e899ecbf54f83">&#9670;&#160;</a></span>net_burstreserve</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_burstreserve = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_burstreserve&quot;, &quot;0.3&quot;, &quot;how <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">much</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">burst</a> time to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reserve</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> packet <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spikes&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00077">77</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_burstreserve&quot;</span>, <span class="stringliteral">&quot;0.3&quot;</span>, <span class="stringliteral">&quot;how much of the burst time to reserve for packet size spikes&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="sv__send_8c_source.html#l01425">SV_SendClientDatagram()</a>.</p>

</div>
</div>
<a id="aafdb79d3492f1d43052022f5a2b3670f" name="aafdb79d3492f1d43052022f5a2b3670f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafdb79d3492f1d43052022f5a2b3670f">&#9670;&#160;</a></span>net_challengefloodblockingtimeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_challengefloodblockingtimeout = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_challengefloodblockingtimeout&quot;, &quot;0.5&quot;, &quot;when <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> challenge packet <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">received</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">block</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">future</a> challenge <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a> address <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cuts</a> down <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> challenge <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floods</a>). <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DarkPlaces</a> clients <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">retry</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">once</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">second</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">so</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">should</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> &lt;= 1. <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Failure</a> here <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lead</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">attempts</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failing.&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00081">81</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_challengefloodblockingtimeout&quot;</span>, <span class="stringliteral">&quot;0.5&quot;</span>, <span class="stringliteral">&quot;when a challenge packet is received, it will block all future challenge packets from that IP address for this many seconds (cuts down on challenge floods). DarkPlaces clients retry once per second, so this should be &lt;= 1. Failure here may lead to connect attempts failing.&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="afa7d94628548aad6f9ebc6bec7251cc7" name="afa7d94628548aad6f9ebc6bec7251cc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7d94628548aad6f9ebc6bec7251cc7">&#9670;&#160;</a></span>net_connectfloodblockingtimeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_connectfloodblockingtimeout = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_connectfloodblockingtimeout&quot;, &quot;5&quot;, &quot;when <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connection</a> packet <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">received</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">block</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">future</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a> address <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cuts</a> down <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floods</a>). <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Note</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">does</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">include</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">retries</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">same</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">these</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">are</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">handled</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">earlier</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">let</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">in.&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00080">80</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_connectfloodblockingtimeout&quot;</span>, <span class="stringliteral">&quot;5&quot;</span>, <span class="stringliteral">&quot;when a connection packet is received, it will block all future connect packets from that IP address for this many seconds (cuts down on connect floods). Note that this does not include retries from the same IP; these are handled earlier and let in.&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a4be140d13075e2b17324b2922e60bf8d" name="a4be140d13075e2b17324b2922e60bf8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be140d13075e2b17324b2922e60bf8d">&#9670;&#160;</a></span>net_connecttimeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_connecttimeout = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_connecttimeout&quot;,&quot;15&quot;, &quot;after <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">requesting</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connection</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">must</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reply</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">within</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">or</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dropped</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cuts</a> down <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floods</a>). <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Must</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">above</a> 10 <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">seconds.&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00079">79</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_connecttimeout&quot;</span>,<span class="stringliteral">&quot;15&quot;</span>, <span class="stringliteral">&quot;after requesting a connection, the client must reply within this many seconds or be dropped (cuts down on connect floods). Must be above 10 seconds.&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01210">NetConn_Open()</a>, <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, and <a class="el" href="sv__main_8c_source.html#l00742">SV_SendServerinfo()</a>.</p>

</div>
</div>
<a id="a296f91b40cc46d3fbd4bcfce195c4b72" name="a296f91b40cc46d3fbd4bcfce195c4b72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296f91b40cc46d3fbd4bcfce195c4b72">&#9670;&#160;</a></span>net_fakelag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_fakelag = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;net_fakelag&quot;,&quot;0&quot;, &quot;lags <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">local</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">loopback</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connection</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">much</a> ping time (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">useful</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">play</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">more</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fairly</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">your</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">own</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">people</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">higher</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pings</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00087">87</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;net_fakelag&quot;</span>,<span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;lags local loopback connection by this much ping time (useful to play more fairly on your own server with people with higher pings)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="lhnet_8c_source.html#l01034">LHNET_Read()</a>, and <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="a89766ee95baa52999ba454b7cd4d3293" name="a89766ee95baa52999ba454b7cd4d3293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89766ee95baa52999ba454b7cd4d3293">&#9670;&#160;</a></span>net_fakeloss_receive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_fakeloss_receive = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;net_fakeloss_receive&quot;,&quot;0&quot;, &quot;drops <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">percentage</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incoming</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">useful</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">network</a> protocol <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">robustness</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">jerky</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movement</a>, effects <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failing</a> to start, sounds <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failing</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">play</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">etc</a>)&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00089">89</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;net_fakeloss_receive&quot;</span>,<span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;drops this percentage of incoming packets, useful for testing network protocol robustness (jerky movement, effects failing to start, sounds failing to play, etc)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l00716">NetConn_Read()</a>.</p>

</div>
</div>
<a id="af5bc5e4de2f31760a2f0a60c1a3de8ec" name="af5bc5e4de2f31760a2f0a60c1a3de8ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5bc5e4de2f31760a2f0a60c1a3de8ec">&#9670;&#160;</a></span>net_fakeloss_send</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_fakeloss_send = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;net_fakeloss_send&quot;,&quot;0&quot;, &quot;drops <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">percentage</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outgoing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">useful</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">network</a> protocol <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">robustness</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">jerky</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movement</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prediction</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">errors</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">etc</a>)&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00088">88</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;net_fakeloss_send&quot;</span>,<span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;drops this percentage of outgoing packets, useful for testing network protocol robustness (jerky movement, prediction errors, etc)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l00748">NetConn_Write()</a>.</p>

</div>
</div>
<a id="ab1de11576ed9750e64af235a3132dd55" name="ab1de11576ed9750e64af235a3132dd55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1de11576ed9750e64af235a3132dd55">&#9670;&#160;</a></span>net_getstatusfloodblockingtimeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_getstatusfloodblockingtimeout = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_getstatusfloodblockingtimeout&quot;, &quot;1&quot;, &quot;when <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getstatus</a> packet <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">received</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">block</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">future</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getstatus</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a> address <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cuts</a> down <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getstatus</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floods</a>). <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DarkPlaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">retries</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">every</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">net_slist_timeout</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qstat</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">retries</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">once</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">second</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">so</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">should</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> &lt;= 1. <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Failure</a> here <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lead</a> to server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">showing</a> <a class="el" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list.&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00082">82</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   82</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_getstatusfloodblockingtimeout&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;when a getstatus packet is received, it will block all future getstatus packets from that IP address for this many seconds (cuts down on getstatus floods). DarkPlaces retries every net_slist_timeout seconds, and qstat retries once per second, so this should be &lt;= 1. Failure here may lead to server not showing up in the server list.&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a125fb9e97285613acc8bc55055808fa3" name="a125fb9e97285613acc8bc55055808fa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a125fb9e97285613acc8bc55055808fa3">&#9670;&#160;</a></span>net_messagetimeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_messagetimeout = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_messagetimeout&quot;,&quot;300&quot;, &quot;drops <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">players</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">who</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sent</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">any</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packets</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">seconds&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00078">78</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   78</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_messagetimeout&quot;</span>,<span class="stringliteral">&quot;300&quot;</span>, <span class="stringliteral">&quot;drops players who have not sent any packets for this many seconds&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="ae5918471d5570f5ecf0da17ecf0a253b" name="ae5918471d5570f5ecf0da17ecf0a253b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5918471d5570f5ecf0da17ecf0a253b">&#9670;&#160;</a></span>net_sourceaddresscheck</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_sourceaddresscheck = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;net_sourceaddresscheck&quot;, &quot;1&quot;, &quot;compare <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#a074e0d952a099fc4b0d3766bb70d8f21">source</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">IP</a> address <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">replies</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">more</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">secure</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">break</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">some</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bad</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">multihoming</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">setups&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00083">83</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;net_sourceaddresscheck&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;compare the source IP address for replies (more secure, may break some bad multihoming setups&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l02107">Crypto_ClientParsePacket()</a>, <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, and <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="ab02c233c5d0c32d9dc768c5d4dbb390d" name="ab02c233c5d0c32d9dc768c5d4dbb390d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab02c233c5d0c32d9dc768c5d4dbb390d">&#9670;&#160;</a></span>net_test</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_test = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_test&quot;, &quot;0&quot;, &quot;internal <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">development</a> use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leave</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alone</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">usually</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">does</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nothing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anyway</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00075">75</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_test&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;internal development use only, leave it alone (usually does nothing anyway)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01321">NetConn_ReceivedMessage()</a>, and <a class="el" href="netconn_8c_source.html#l00796">NetConn_UpdateCleartime()</a>.</p>

</div>
</div>
<a id="a5bbdc90f2740857b6c97a7b73489fc20" name="a5bbdc90f2740857b6c97a7b73489fc20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bbdc90f2740857b6c97a7b73489fc20">&#9670;&#160;</a></span>net_tos_dscp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_tos_dscp = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;net_tos_dscp&quot;, &quot;32&quot;, &quot;DiffServ <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Codepoint</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">network</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sockets</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">need</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restart</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">apply</a>)&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00103">103</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;net_tos_dscp&quot;</span>, <span class="stringliteral">&quot;32&quot;</span>, <span class="stringliteral">&quot;DiffServ Codepoint for network sockets (may need game restart to apply)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l01296">NetConn_UpdateSockets()</a>.</p>

</div>
</div>
<a id="a87b4fa63a8f87a460e4a859abc9a8d7b" name="a87b4fa63a8f87a460e4a859abc9a8d7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87b4fa63a8f87a460e4a859abc9a8d7b">&#9670;&#160;</a></span>net_usesizelimit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> net_usesizelimit = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;net_usesizelimit&quot;, &quot;2&quot;, &quot;use packet <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limiting</a> (0: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">never</a>, 1: in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">non</a>-<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">CSQC</a> <a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, 2: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">always</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00076">76</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   76</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;net_usesizelimit&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>, <span class="stringliteral">&quot;use packet size limiting (0: never, 1: in non-CSQC mode, 2: always)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="sv__send_8c_source.html#l01425">SV_SendClientDatagram()</a>.</p>

</div>
</div>
<a id="aed065cfe97fc587dcfd40a5d08794cf3" name="aed065cfe97fc587dcfd40a5d08794cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed065cfe97fc587dcfd40a5d08794cf3">&#9670;&#160;</a></span>netconn_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnetconn__t.html">netconn_t</a>* netconn_list = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00147">147</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03987">Net_Stats_f()</a>, <a class="el" href="netconn_8c_source.html#l01230">NetConn_Close()</a>, and <a class="el" href="netconn_8c_source.html#l01210">NetConn_Open()</a>.</p>

</div>
</div>
<a id="a0942d3e368979e08e3d29caee297e67e" name="a0942d3e368979e08e3d29caee297e67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0942d3e368979e08e3d29caee297e67e">&#9670;&#160;</a></span>netconn_mempool</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmempool__t.html">mempool_t</a>* netconn_mempool = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00148">148</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l01210">NetConn_Open()</a>.</p>

</div>
</div>
<a id="a03458d3acf0119e9cb33b91ed6ffe835" name="a03458d3acf0119e9cb33b91ed6ffe835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03458d3acf0119e9cb33b91ed6ffe835">&#9670;&#160;</a></span>netconn_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>* netconn_mutex = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00149">149</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l00716">NetConn_Read()</a>, <a class="el" href="netconn_8c_source.html#l04145">NetConn_Shutdown()</a>, and <a class="el" href="netconn_8c_source.html#l00748">NetConn_Write()</a>.</p>

</div>
</div>
<a id="a20c7d69528561622c8d1af82deb11be7" name="a20c7d69528561622c8d1af82deb11be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20c7d69528561622c8d1af82deb11be7">&#9670;&#160;</a></span>nextheartbeattime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> nextheartbeattime = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00066">66</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03929">NetConn_Heartbeat()</a>.</p>

</div>
</div>
<a id="a53375cac16c58f364c01e3cacea4c416" name="a53375cac16c58f364c01e3cacea4c416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53375cac16c58f364c01e3cacea4c416">&#9670;&#160;</a></span>rcon_restricted_commands</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> rcon_restricted_commands = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;rcon_restricted_commands&quot;, &quot;&quot;, &quot;allowed <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">commands</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rcon</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restricted</a> <a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">password</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">was</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">used&quot;</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00108">108</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;rcon_restricted_commands&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;allowed commands for rcon when the restricted mode password was used&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03003">RCon_Authenticate()</a>.</p>

</div>
</div>
<a id="aa9ae822e079633dab70ff829b88f68ab" name="aa9ae822e079633dab70ff829b88f68ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ae822e079633dab70ff829b88f68ab">&#9670;&#160;</a></span>rcon_restricted_password</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> rcon_restricted_password = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="el" href="cmd_8h.html#afc7ff54d18aaa67429a4706241a5aa79">CF_PRIVATE</a>, &quot;rcon_restricted_password&quot;, &quot;&quot;, &quot;password to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">authenticate</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rcon</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">commands</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restricted</a> <a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">set</a> to <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#ae79dfeea357422bd20dbcaa2afe88ac6">string</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">form</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">user1:pass1</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">user2:pass2</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">user3:pass3</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">multiple</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">user</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">accounts</a> - <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">client</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">then</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">has</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">specify</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ONE</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">these</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">combinations&quot;</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00107">107</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#afc7ff54d18aaa67429a4706241a5aa79">CF_PRIVATE</a>, <span class="stringliteral">&quot;rcon_restricted_password&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;password to authenticate rcon commands in restricted mode; may be set to a string of the form user1:pass1 user2:pass2 user3:pass3 to allow multiple user accounts - the client then has to specify ONE of these combinations&quot;</span>};</div>
<div class="ttc" id="acmd_8h_html_afc7ff54d18aaa67429a4706241a5aa79"><div class="ttname"><a href="cmd_8h.html#afc7ff54d18aaa67429a4706241a5aa79">CF_PRIVATE</a></div><div class="ttdeci">#define CF_PRIVATE</div><div class="ttdoc">cvar should not be $ expanded or sent to the server under any circumstances (rcon_password,...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00059">cmd.h:59</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03003">RCon_Authenticate()</a>.</p>

</div>
</div>
<a id="a91eb541dbcdf27e99a58540f296db255" name="a91eb541dbcdf27e99a58540f296db255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91eb541dbcdf27e99a58540f296db255">&#9670;&#160;</a></span>rcon_secure</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> rcon_secure</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="console_8c_source.html#l00094">94</a> of file <a class="el" href="console_8c_source.html">console.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   94</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;rcon_secure&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;force secure rcon authentication (1 = time based, 2 = challenge based); NOTE: changing rcon_secure clears rcon_password, so set rcon_secure always before rcon_password&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l00865">Con_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a90295c0585be4dc5bfac2be3e973effb" name="a90295c0585be4dc5bfac2be3e973effb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90295c0585be4dc5bfac2be3e973effb">&#9670;&#160;</a></span>rcon_secure_challengetimeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> rcon_secure_challengetimeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="console_8c_source.html#l00095">95</a> of file <a class="el" href="console_8c_source.html">console.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   95</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;rcon_secure_challengetimeout&quot;</span>, <span class="stringliteral">&quot;5&quot;</span>, <span class="stringliteral">&quot;challenge-based secure rcon: time out requests if no challenge came within this time interval&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l00865">Con_Init()</a>, and <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>.</p>

</div>
</div>
<a id="af3103d3754adf79d6d44895811ad88bc" name="af3103d3754adf79d6d44895811ad88bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3103d3754adf79d6d44895811ad88bc">&#9670;&#160;</a></span>rcon_secure_maxdiff</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> rcon_secure_maxdiff = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;rcon_secure_maxdiff&quot;, &quot;5&quot;, &quot;maximum time <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">difference</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">between</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rcon</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">request</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">system</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clock</a> (to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">protect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">against</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">replay</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">attack</a>)&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00109">109</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;rcon_secure_maxdiff&quot;</span>, <span class="stringliteral">&quot;5&quot;</span>, <span class="stringliteral">&quot;maximum time difference between rcon request and server system clock (to protect against replay attack)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l02937">hmac_mdfour_time_matching()</a>, and <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="af0925a9929bfb545c708d04a621d2ca3" name="af0925a9929bfb545c708d04a621d2ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0925a9929bfb545c708d04a621d2ca3">&#9670;&#160;</a></span>serverlist_querystage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uint8_t</a> serverlist_querystage = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>bitfield because in theory we could be doing QW &amp; DP simultaneously </p>

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00125">125</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l02806">CL_Frame()</a>.</p>

</div>
</div>
<a id="a3bd41c363dac949f434e5233fcda1ecd" name="a3bd41c363dac949f434e5233fcda1ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd41c363dac949f434e5233fcda1ecd">&#9670;&#160;</a></span>serverquerycount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> serverquerycount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00116">116</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="menu_8c_source.html#l04407">M_ServerList_Draw()</a>, and <a class="el" href="mvm__cmds_8c_source.html#l00247">VM_M_getserverliststat()</a>.</p>

</div>
</div>
<a id="ac919336413b04bb16b65c2d0491cfa0b" name="ac919336413b04bb16b65c2d0491cfa0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac919336413b04bb16b65c2d0491cfa0b">&#9670;&#160;</a></span>serverreplycount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> serverreplycount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00117">117</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="menu_8c_source.html#l04407">M_ServerList_Draw()</a>, and <a class="el" href="mvm__cmds_8c_source.html#l00247">VM_M_getserverliststat()</a>.</p>

</div>
</div>
<a id="a235a8908f04988bb5ba0db639804b215" name="a235a8908f04988bb5ba0db639804b215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235a8908f04988bb5ba0db639804b215">&#9670;&#160;</a></span>sv_heartbeatperiod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> sv_heartbeatperiod = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;sv_heartbeatperiod&quot;, &quot;120&quot;, &quot;how <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">often</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">send</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">heartbeat</a> in <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a> used <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> 1)&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00038">38</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_heartbeatperiod&quot;</span>, <span class="stringliteral">&quot;120&quot;</span>, <span class="stringliteral">&quot;how often to send heartbeat in seconds (only used if sv_public is 1)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03929">NetConn_Heartbeat()</a>, and <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="a1b6cd48f1fbebacde3deceed53fa7ee3" name="a1b6cd48f1fbebacde3deceed53fa7ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b6cd48f1fbebacde3deceed53fa7ee3">&#9670;&#160;</a></span>sv_masters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> sv_masters[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_master1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;user-chosen master server 1&quot;</span>},</div>
<div class="line">    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_master2&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;user-chosen master server 2&quot;</span>},</div>
<div class="line">    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_master3&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;user-chosen master server 3&quot;</span>},</div>
<div class="line">    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_master4&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;user-chosen master server 4&quot;</span>},</div>
<div class="line">    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sv_masterextra1&quot;</span>, <span class="stringliteral">&quot;dpmaster.deathmask.net&quot;</span>, <span class="stringliteral">&quot;dpmaster.deathmask.net - default master server 1 (admin: Willis)&quot;</span>},</div>
<div class="line">    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sv_masterextra2&quot;</span>, <span class="stringliteral">&quot;dpmaster.tchr.no&quot;</span>, <span class="stringliteral">&quot;dpmaster.tchr.no - default master server 2 (admin: tChr)&quot;</span>},</div>
<div class="line">    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sv_masterextra3&quot;</span>, <span class="stringliteral">&quot;dpm.dpmaster.org:27777&quot;</span>, <span class="stringliteral">&quot;dpm.dpmaster.org - default master server 3 (admin: gazby/soylent_cow)&quot;</span>},</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00041">41</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>{</div>
<div class="line"><span class="lineno">   43</span>    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_master1&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;user-chosen master server 1&quot;</span>},</div>
<div class="line"><span class="lineno">   44</span>    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_master2&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;user-chosen master server 2&quot;</span>},</div>
<div class="line"><span class="lineno">   45</span>    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_master3&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;user-chosen master server 3&quot;</span>},</div>
<div class="line"><span class="lineno">   46</span>    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_master4&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;user-chosen master server 4&quot;</span>},</div>
<div class="line"><span class="lineno">   47</span>    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sv_masterextra1&quot;</span>, <span class="stringliteral">&quot;dpmaster.deathmask.net&quot;</span>, <span class="stringliteral">&quot;dpmaster.deathmask.net - default master server 1 (admin: Willis)&quot;</span>},</div>
<div class="line"><span class="lineno">   48</span>    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sv_masterextra2&quot;</span>, <span class="stringliteral">&quot;dpmaster.tchr.no&quot;</span>, <span class="stringliteral">&quot;dpmaster.tchr.no - default master server 2 (admin: tChr)&quot;</span>},</div>
<div class="line"><span class="lineno">   49</span>    {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sv_masterextra3&quot;</span>, <span class="stringliteral">&quot;dpm.dpmaster.org:27777&quot;</span>, <span class="stringliteral">&quot;dpm.dpmaster.org - default master server 3 (admin: gazby/soylent_cow)&quot;</span>},</div>
<div class="line"><span class="lineno">   50</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03929">NetConn_Heartbeat()</a>, and <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="acbf23938a2ed5657b35e7e88d54b8d5e" name="acbf23938a2ed5657b35e7e88d54b8d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf23938a2ed5657b35e7e88d54b8d5e">&#9670;&#160;</a></span>sv_message</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> sv_message</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00069">69</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01321">NetConn_ReceivedMessage()</a>, <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>, and <a class="el" href="sv__user_8c_source.html#l00643">SV_ReadClientMove()</a>.</p>

</div>
</div>
<a id="abb0bd07f6c523a12c61c94d162251f30" name="abb0bd07f6c523a12c61c94d162251f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb0bd07f6c523a12c61c94d162251f30">&#9670;&#160;</a></span>sv_message_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> sv_message_buf[<a class="el" href="qdefs_8h.html#a4a4d900b3d5d192f7da8ffa8bbe445f3">NET_MAXMESSAGE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00071">71</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>.</p>

</div>
</div>
<a id="a42e419c272cbcdef6f8655d17bc28ea6" name="a42e419c272cbcdef6f8655d17bc28ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e419c272cbcdef6f8655d17bc28ea6">&#9670;&#160;</a></span>sv_net_extresponse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> sv_net_extresponse[<a class="el" href="netconn_8h.html#a572608a0ab6383b3d29d4a8ec772cc1e">NET_EXTRESPONSE_MAX</a>][1400]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00160">160</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l05627">VM_SV_getextresponse()</a>.</p>

</div>
</div>
<a id="a4264eb13fff8614d3f12650dcebf495f" name="a4264eb13fff8614d3f12650dcebf495f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4264eb13fff8614d3f12650dcebf495f">&#9670;&#160;</a></span>sv_net_extresponse_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> sv_net_extresponse_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00161">161</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l05627">VM_SV_getextresponse()</a>.</p>

</div>
</div>
<a id="a5851b82ee89d4ddfad5498c8819cef31" name="a5851b82ee89d4ddfad5498c8819cef31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5851b82ee89d4ddfad5498c8819cef31">&#9670;&#160;</a></span>sv_net_extresponse_last</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> sv_net_extresponse_last = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00162">162</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l05627">VM_SV_getextresponse()</a>.</p>

</div>
</div>
<a id="afdebe98dae636b669ea48f01e273b9f0" name="afdebe98dae636b669ea48f01e273b9f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdebe98dae636b669ea48f01e273b9f0">&#9670;&#160;</a></span>sv_netport</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> sv_netport = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;port&quot;, &quot;26000&quot;, &quot;server port <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">players</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">to&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00152">152</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  152</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;port&quot;</span>, <span class="stringliteral">&quot;26000&quot;</span>, <span class="stringliteral">&quot;server port for players to connect to&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__cmd_8c_source.html#l00413">CL_Packet_f()</a>, <a class="el" href="cl__cmd_8c_source.html#l00486">CL_PQRcon_f()</a>, <a class="el" href="cl__cmd_8c_source.html#l00544">CL_Rcon_f()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01158">NetConn_OpenServerPorts()</a>, and <a class="el" href="sv__main_8c_source.html#l00500">SV_Init()</a>.</p>

</div>
</div>
<a id="a51c35cd47ee3dc1e5109ef4458b0cad5" name="a51c35cd47ee3dc1e5109ef4458b0cad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c35cd47ee3dc1e5109ef4458b0cad5">&#9670;&#160;</a></span>sv_numsockets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> sv_numsockets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00144">144</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01199">NetConn_ChooseServerSocketForAddress()</a>, <a class="el" href="netconn_8c_source.html#l01111">NetConn_CloseServerPorts()</a>, <a class="el" href="netconn_8c_source.html#l01047">NetConn_HaveServerPorts()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, <a class="el" href="netconn_8c_source.html#l01118">NetConn_OpenServerPort()</a>, <a class="el" href="netconn_8c_source.html#l01158">NetConn_OpenServerPorts()</a>, and <a class="el" href="netconn_8c_source.html#l03806">NetConn_ServerFrame()</a>.</p>

</div>
</div>
<a id="a19ac50fe68d1f3cd1f9cdd2d09349468" name="a19ac50fe68d1f3cd1f9cdd2d09349468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ac50fe68d1f3cd1f9cdd2d09349468">&#9670;&#160;</a></span>sv_public</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> sv_public = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;sv_public&quot;, &quot;0&quot;, &quot;1: advertises <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> master server (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">so</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">players</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">can</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">find</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">browser</a>); 0: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">queries</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a>; -1: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">do</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">respond</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">queries</a>; -2: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">do</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allow</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anyone</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connect</a>; -3: <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">block</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">at</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getchallenge</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">level&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00036">36</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sv_public&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;1: advertises this server on the master server (so that players can find it in the server browser); 0: allow direct queries only; -1: do not respond to direct queries; -2: do not allow anyone to connect; -3: already block at getchallenge level&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01727">Crypto_ServerParsePacket_Internal()</a>, <a class="el" href="menu_8c_source.html#l03979">M_GameOptions_Draw()</a>, <a class="el" href="menu_8c_source.html#l04141">M_NetStart_Change()</a>, <a class="el" href="netconn_8c_source.html#l03929">NetConn_Heartbeat()</a>, <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a5aae00d42067068bab01a64bfd2410de" name="a5aae00d42067068bab01a64bfd2410de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aae00d42067068bab01a64bfd2410de">&#9670;&#160;</a></span>sv_public_rejectreason</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> sv_public_rejectreason = {<a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;sv_public_rejectreason&quot;, &quot;The server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">closing.&quot;</a>, &quot;Rejection <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reason</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">connects</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="netconn_8c.html#a19ac50fe68d1f3cd1f9cdd2d09349468">sv_public</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> -2&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00037">37</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sv_public_rejectreason&quot;</span>, <span class="stringliteral">&quot;The server is closing.&quot;</span>, <span class="stringliteral">&quot;Rejection reason for connects when sv_public is -2&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l04039">NetConn_Init()</a>, and <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>.</p>

</div>
</div>
<a id="a6969160ac5ad367c2252f347a8e3de0f" name="a6969160ac5ad367c2252f347a8e3de0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6969160ac5ad367c2252f347a8e3de0f">&#9670;&#160;</a></span>sv_readstring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> sv_readstring[<a class="el" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00073">73</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, and <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>.</p>

</div>
</div>
<a id="a6bc75bed24ac2cb9a36ee0c84cdc4006" name="a6bc75bed24ac2cb9a36ee0c84cdc4006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc75bed24ac2cb9a36ee0c84cdc4006">&#9670;&#160;</a></span>sv_sockets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlhnetsocket__t.html">lhnetsocket_t</a>* sv_sockets[16]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="netconn_8c_source.html#l00145">145</a> of file <a class="el" href="netconn_8c_source.html">netconn.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l01199">NetConn_ChooseServerSocketForAddress()</a>, <a class="el" href="netconn_8c_source.html#l01111">NetConn_CloseServerPorts()</a>, <a class="el" href="netconn_8c_source.html#l01118">NetConn_OpenServerPort()</a>, and <a class="el" href="netconn_8c_source.html#l03806">NetConn_ServerFrame()</a>.</p>

</div>
</div>
<a id="abe74292f2e29f97906991381501eea8a" name="abe74292f2e29f97906991381501eea8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe74292f2e29f97906991381501eea8a">&#9670;&#160;</a></span>sv_status_privacy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> sv_status_privacy</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__ccmds_8c_source.html#l00029">29</a> of file <a class="el" href="sv__ccmds_8c_source.html">sv_ccmds.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span>{<a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;sv_status_privacy&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;do not show IP addresses in &#39;status&#39; replies to clients&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01639">SV_InitOperatorCommands()</a>, and <a class="el" href="sv__ccmds_8c_source.html#l00742">SV_Status_f()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="netconn_8c.html">netconn.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
