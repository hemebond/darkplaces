<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: fs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('fs_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">fs.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;pwd.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="quakedef_8h_source.html">quakedef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thread_8h_source.html">thread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fs_8h_source.html">fs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wad_8h_source.html">wad.h</a>&quot;</code><br />
</div>
<p><a href="fs_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structz__stream.html">z_stream</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structztoolkit__t.html">ztoolkit_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structqfile__s.html">qfile_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpk3__endOfCentralDir__t.html">pk3_endOfCentralDir_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdpackfile__t.html">dpackfile_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdpackheader__t.html">dpackheader_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpackfile__t.html">packfile_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpack__t.html">pack_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsearchpath__t.html">searchpath_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search paths for files (including packages)  <a href="structsearchpath__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a36fa9b2e726512bc17a7a6d3e39002be" id="r_a36fa9b2e726512bc17a7a6d3e39002be"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a36fa9b2e726512bc17a7a6d3e39002be">O_BINARY</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a36fa9b2e726512bc17a7a6d3e39002be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d33ce33804efd4d52606d59071c6d8" id="r_a39d33ce33804efd4d52606d59071c6d8"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a39d33ce33804efd4d52606d59071c6d8">O_NONBLOCK</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a39d33ce33804efd4d52606d59071c6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a240eecc445e8f632b1d2f1bb861d43a0" id="r_a240eecc445e8f632b1d2f1bb861d43a0"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a240eecc445e8f632b1d2f1bb861d43a0">FILEDESC_INVALID</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a240eecc445e8f632b1d2f1bb861d43a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63366b4f54083982ae222f9f6130d157" id="r_a63366b4f54083982ae222f9f6130d157"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a63366b4f54083982ae222f9f6130d157">FILEDESC_ISVALID</a>(<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>)&#160;&#160;&#160;((<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>) != -1)</td></tr>
<tr class="separator:a63366b4f54083982ae222f9f6130d157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be675f7c96c5b5b6af64d38f328f3f3" id="r_a5be675f7c96c5b5b6af64d38f328f3f3"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a>&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">read</a></td></tr>
<tr class="separator:a5be675f7c96c5b5b6af64d38f328f3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e1e1b02dbbe51f51576d46c8a4ba8d" id="r_a27e1e1b02dbbe51f51576d46c8a4ba8d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a>&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">write</a></td></tr>
<tr class="separator:a27e1e1b02dbbe51f51576d46c8a4ba8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a7c99ee654a553e7613885f1446b06d" id="r_a6a7c99ee654a553e7613885f1446b06d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>&#160;&#160;&#160;close</td></tr>
<tr class="separator:a6a7c99ee654a553e7613885f1446b06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad449c345b747297192b11c6cd4695f3c" id="r_ad449c345b747297192b11c6cd4695f3c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a>&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lseek</a></td></tr>
<tr class="separator:ad449c345b747297192b11c6cd4695f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be675f7c96c5b5b6af64d38f328f3f3" id="r_a5be675f7c96c5b5b6af64d38f328f3f3"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a>&#160;&#160;&#160;<a class="el" href="fs_8c.html#a2d3a9eaf976b6873017edf26a4e7d565">ReadAll</a></td></tr>
<tr class="separator:a5be675f7c96c5b5b6af64d38f328f3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e1e1b02dbbe51f51576d46c8a4ba8d" id="r_a27e1e1b02dbbe51f51576d46c8a4ba8d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a>&#160;&#160;&#160;<a class="el" href="fs_8c.html#aa46ef8c7487dca2b2fef9ebd80644f14">WriteAll</a></td></tr>
<tr class="separator:a27e1e1b02dbbe51f51576d46c8a4ba8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289b3bed51e99226d0a796daf7979e48" id="r_a289b3bed51e99226d0a796daf7979e48"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a289b3bed51e99226d0a796daf7979e48">ZIP_DATA_HEADER</a>&#160;&#160;&#160;0x504B0304</td></tr>
<tr class="separator:a289b3bed51e99226d0a796daf7979e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ecbaec88614ede09ab24394ba2d85a" id="r_a29ecbaec88614ede09ab24394ba2d85a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a29ecbaec88614ede09ab24394ba2d85a">ZIP_CDIR_HEADER</a>&#160;&#160;&#160;0x504B0102</td></tr>
<tr class="separator:a29ecbaec88614ede09ab24394ba2d85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae1dca705c451db34103130968c1a8c" id="r_a8ae1dca705c451db34103130968c1a8c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a8ae1dca705c451db34103130968c1a8c">ZIP_END_HEADER</a>&#160;&#160;&#160;0x504B0506</td></tr>
<tr class="separator:a8ae1dca705c451db34103130968c1a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2469d72269baee21c5da08c7f3bd32fd" id="r_a2469d72269baee21c5da08c7f3bd32fd"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2469d72269baee21c5da08c7f3bd32fd">ZIP_MAX_COMMENTS_SIZE</a>&#160;&#160;&#160;((<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)0xFFFF)</td></tr>
<tr class="separator:a2469d72269baee21c5da08c7f3bd32fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7768a7aa52f368eb38ff07557db4f3" id="r_adb7768a7aa52f368eb38ff07557db4f3"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#adb7768a7aa52f368eb38ff07557db4f3">ZIP_END_CDIR_SIZE</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:adb7768a7aa52f368eb38ff07557db4f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8d6ffba2404920e5222c72432c648a" id="r_aaa8d6ffba2404920e5222c72432c648a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aaa8d6ffba2404920e5222c72432c648a">ZIP_CDIR_CHUNK_BASE_SIZE</a>&#160;&#160;&#160;46</td></tr>
<tr class="separator:aaa8d6ffba2404920e5222c72432c648a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0fd83a986fce7ea932b998763ecd484" id="r_aa0fd83a986fce7ea932b998763ecd484"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aa0fd83a986fce7ea932b998763ecd484">ZIP_LOCAL_CHUNK_BASE_SIZE</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:aa0fd83a986fce7ea932b998763ecd484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32ca175522e0ef314f4dc0b0196bada" id="r_aa32ca175522e0ef314f4dc0b0196bada"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aa32ca175522e0ef314f4dc0b0196bada">Z_SYNC_FLUSH</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aa32ca175522e0ef314f4dc0b0196bada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd2f406ac1f9c49236376115d78ccb5b" id="r_abd2f406ac1f9c49236376115d78ccb5b"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a>&#160;&#160;&#160;15</td></tr>
<tr class="separator:abd2f406ac1f9c49236376115d78ccb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb802b6a11e926478dc6547c514c65c" id="r_a8cb802b6a11e926478dc6547c514c65c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a8cb802b6a11e926478dc6547c514c65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d94a4a852228a899864a0053162e7a8" id="r_a7d94a4a852228a899864a0053162e7a8"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a7d94a4a852228a899864a0053162e7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad97cde83a9a4bb77f5c3b03bb68e483" id="r_aad97cde83a9a4bb77f5c3b03bb68e483"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>&#160;&#160;&#160;(-2)</td></tr>
<tr class="separator:aad97cde83a9a4bb77f5c3b03bb68e483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eda83d428a71752d148f38b5dbe04f2" id="r_a9eda83d428a71752d148f38b5dbe04f2"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a>&#160;&#160;&#160;(-3)</td></tr>
<tr class="separator:a9eda83d428a71752d148f38b5dbe04f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2be6be871e377c6e2c25a7296ce320c" id="r_ae2be6be871e377c6e2c25a7296ce320c"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>&#160;&#160;&#160;(-4)</td></tr>
<tr class="separator:ae2be6be871e377c6e2c25a7296ce320c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425e2f0664e1b1f75bf2bffab88d353d" id="r_a425e2f0664e1b1f75bf2bffab88d353d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>&#160;&#160;&#160;(-5)</td></tr>
<tr class="separator:a425e2f0664e1b1f75bf2bffab88d353d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51dc9dc65e483b3222c1f0f6a87eb76e" id="r_a51dc9dc65e483b3222c1f0f6a87eb76e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a>&#160;&#160;&#160;&quot;1.2.3&quot;</td></tr>
<tr class="separator:a51dc9dc65e483b3222c1f0f6a87eb76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bfe22ed89d3553335d18a4c3cab67af" id="r_a2bfe22ed89d3553335d18a4c3cab67af"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2bfe22ed89d3553335d18a4c3cab67af">Z_BINARY</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a2bfe22ed89d3553335d18a4c3cab67af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a96226f3dc88e4743131c632adf32f" id="r_a27a96226f3dc88e4743131c632adf32f"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a27a96226f3dc88e4743131c632adf32f">Z_DEFLATED</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a27a96226f3dc88e4743131c632adf32f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f56a36e3dd5b9931904489655bbddb" id="r_ae0f56a36e3dd5b9931904489655bbddb"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae0f56a36e3dd5b9931904489655bbddb">Z_MEMLEVEL_DEFAULT</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ae0f56a36e3dd5b9931904489655bbddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15afa2776b41b2f4d8582dd152bd736" id="r_ad15afa2776b41b2f4d8582dd152bd736"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ad15afa2776b41b2f4d8582dd152bd736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5387baee05124298e431ebe6fe96b17" id="r_af5387baee05124298e431ebe6fe96b17"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#af5387baee05124298e431ebe6fe96b17">Z_DEFAULT_COMPRESSION</a>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:af5387baee05124298e431ebe6fe96b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b62e37b9922d9496014515acd6083a" id="r_ac3b62e37b9922d9496014515acd6083a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ac3b62e37b9922d9496014515acd6083a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32ca175522e0ef314f4dc0b0196bada" id="r_aa32ca175522e0ef314f4dc0b0196bada"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aa32ca175522e0ef314f4dc0b0196bada">Z_SYNC_FLUSH</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aa32ca175522e0ef314f4dc0b0196bada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4fbb038c3973aacf52fccffbc44b53" id="r_aed4fbb038c3973aacf52fccffbc44b53"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aed4fbb038c3973aacf52fccffbc44b53">Z_FULL_FLUSH</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:aed4fbb038c3973aacf52fccffbc44b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876a626ba14eb12eea4bbf6823b6ca50" id="r_a876a626ba14eb12eea4bbf6823b6ca50"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a876a626ba14eb12eea4bbf6823b6ca50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33212acd1454920bd74559aa726f9b1a" id="r_a33212acd1454920bd74559aa726f9b1a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a33212acd1454920bd74559aa726f9b1a">QFILE_FLAG_PACKED</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="memdesc:a33212acd1454920bd74559aa726f9b1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">inside a package (PAK or PK3)  <br /></td></tr>
<tr class="separator:a33212acd1454920bd74559aa726f9b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077f9f22119c315af3d69441ba971f71" id="r_a077f9f22119c315af3d69441ba971f71"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a077f9f22119c315af3d69441ba971f71">QFILE_FLAG_DEFLATED</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="memdesc:a077f9f22119c315af3d69441ba971f71"><td class="mdescLeft">&#160;</td><td class="mdescRight">file is compressed using the deflate algorithm (PK3 only)  <br /></td></tr>
<tr class="separator:a077f9f22119c315af3d69441ba971f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22de493a428075817e6040fca62767e" id="r_af22de493a428075817e6040fca62767e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr class="memdesc:af22de493a428075817e6040fca62767e"><td class="mdescLeft">&#160;</td><td class="mdescRight">file is actually already loaded data  <br /></td></tr>
<tr class="separator:af22de493a428075817e6040fca62767e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21a4ea898d2553316d98abbcf68bc67" id="r_af21a4ea898d2553316d98abbcf68bc67"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#af21a4ea898d2553316d98abbcf68bc67">QFILE_FLAG_REMOVE</a>&#160;&#160;&#160;(1 &lt;&lt; 3)</td></tr>
<tr class="memdesc:af21a4ea898d2553316d98abbcf68bc67"><td class="mdescLeft">&#160;</td><td class="mdescRight">real file will be removed on close  <br /></td></tr>
<tr class="separator:af21a4ea898d2553316d98abbcf68bc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b605c6f7d25e513d5f6b47569077246" id="r_a7b605c6f7d25e513d5f6b47569077246"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a7b605c6f7d25e513d5f6b47569077246">FILE_BUFF_SIZE</a>&#160;&#160;&#160;2048</td></tr>
<tr class="separator:a7b605c6f7d25e513d5f6b47569077246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38bc4750afca9cbad53914064bda7b21" id="r_a38bc4750afca9cbad53914064bda7b21"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a38bc4750afca9cbad53914064bda7b21">S_ISDIR</a>(<a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)&#160;&#160;&#160;(((<a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>) &amp; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">S_IFMT</a>) == <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">S_IFDIR</a>)</td></tr>
<tr class="separator:a38bc4750afca9cbad53914064bda7b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a60e7a7f32fe55e92536a777b17e7203e" id="r_a60e7a7f32fe55e92536a777b17e7203e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">typedef</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a></td></tr>
<tr class="separator:a60e7a7f32fe55e92536a777b17e7203e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2cba1fd1fb6bce9f310fa282318ccab4" id="r_a2cba1fd1fb6bce9f310fa282318ccab4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2cba1fd1fb6bce9f310fa282318ccab4">FILEDESC_DUP</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename, <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>)</td></tr>
<tr class="separator:a2cba1fd1fb6bce9f310fa282318ccab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d3a9eaf976b6873017edf26a4e7d565" id="r_a2d3a9eaf976b6873017edf26a4e7d565"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2d3a9eaf976b6873017edf26a4e7d565">ReadAll</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>)</td></tr>
<tr class="separator:a2d3a9eaf976b6873017edf26a4e7d565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46ef8c7487dca2b2fef9ebd80644f14" id="r_aa46ef8c7487dca2b2fef9ebd80644f14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aa46ef8c7487dca2b2fef9ebd80644f14">WriteAll</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>)</td></tr>
<tr class="separator:aa46ef8c7487dca2b2fef9ebd80644f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Packages in memory</h2></td></tr>
<tr class="memitem:afd935c9decbb58dd5a3423927347bec9" id="r_afd935c9decbb58dd5a3423927347bec9"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#afd935c9decbb58dd5a3423927347bec9">PACKFILE_FLAG_TRUEOFFS</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="memdesc:afd935c9decbb58dd5a3423927347bec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">the offset in <a class="el" href="structpackfile__t.html">packfile_t</a> is the true contents offset  <br /></td></tr>
<tr class="separator:afd935c9decbb58dd5a3423927347bec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad506061cba6c07010e9af9d7fb4c6722" id="r_ad506061cba6c07010e9af9d7fb4c6722"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad506061cba6c07010e9af9d7fb4c6722">PACKFILE_FLAG_DEFLATED</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="memdesc:ad506061cba6c07010e9af9d7fb4c6722"><td class="mdescLeft">&#160;</td><td class="mdescRight">file compressed using the deflate algorithm  <br /></td></tr>
<tr class="separator:ad506061cba6c07010e9af9d7fb4c6722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa89b502790aa99c2a117674274fe7387" id="r_aa89b502790aa99c2a117674274fe7387"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aa89b502790aa99c2a117674274fe7387">PACKFILE_FLAG_SYMLINK</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr class="memdesc:aa89b502790aa99c2a117674274fe7387"><td class="mdescLeft">&#160;</td><td class="mdescRight">file is a symbolic link  <br /></td></tr>
<tr class="separator:aa89b502790aa99c2a117674274fe7387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7479d1be54798828680391846d42af42" id="r_a7479d1be54798828680391846d42af42"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a7479d1be54798828680391846d42af42">MAX_FILES_IN_PACK</a>&#160;&#160;&#160;65536</td></tr>
<tr class="separator:a7479d1be54798828680391846d42af42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a181415878f03b95a7094309d824a14b6" id="r_a181415878f03b95a7094309d824a14b6"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a></td></tr>
<tr class="separator:a181415878f03b95a7094309d824a14b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac24933ccc3405abb3156f57b89eb1e" id="r_aeac24933ccc3405abb3156f57b89eb1e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aeac24933ccc3405abb3156f57b89eb1e">qz_inflateInit2</a>(<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>,  <a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a>)&#160;&#160;&#160;        <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateInit2_</a>((<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>), (<a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a>), <a class="el" href="fs_8c.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="structz__stream.html">z_stream</a>))</td></tr>
<tr class="separator:aeac24933ccc3405abb3156f57b89eb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe06a729bbb4d02cdfca0c5a1343898" id="r_aafe06a729bbb4d02cdfca0c5a1343898"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aafe06a729bbb4d02cdfca0c5a1343898">qz_deflateInit2</a>(<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>,  <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>,  <a class="el" href="fs_8c.html#a105ad7c8a41c68d0fd76c4240ad2f974">method</a>,  <a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a>,  <a class="el" href="fs_8c.html#a7b51a06a8ddfc23fd4014e391ed442b7">memLevel</a>,  <a class="el" href="fs_8c.html#aeacc51c972da9df48c2ed42427999ad4">strategy</a>)&#160;&#160;&#160;        <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateInit2_</a>((<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>), (<a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>), (<a class="el" href="fs_8c.html#a105ad7c8a41c68d0fd76c4240ad2f974">method</a>), (<a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a>), (<a class="el" href="fs_8c.html#a7b51a06a8ddfc23fd4014e391ed442b7">memLevel</a>), (<a class="el" href="fs_8c.html#aeacc51c972da9df48c2ed42427999ad4">strategy</a>), <a class="el" href="fs_8c.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="structz__stream.html">z_stream</a>))</td></tr>
<tr class="separator:aafe06a729bbb4d02cdfca0c5a1343898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa25479f01cbf5214475a82a0e44cb9" id="r_acaa25479f01cbf5214475a82a0e44cb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a></td></tr>
<tr class="separator:acaa25479f01cbf5214475a82a0e44cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2514245460033b5ce54558ee2fe4a4" id="r_aac2514245460033b5ce54558ee2fe4a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a> = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:aac2514245460033b5ce54558ee2fe4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708b7c81b06465508d84fee7e40aa257" id="r_a708b7c81b06465508d84fee7e40aa257"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsearchpath__t.html">searchpath_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a708b7c81b06465508d84fee7e40aa257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0173e463d50a2da05a01efcb48670b" id="r_acb0173e463d50a2da05a01efcb48670b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a> = &quot;missing&quot;</td></tr>
<tr class="separator:acb0173e463d50a2da05a01efcb48670b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffc20194b866aa9ea07bed3f2c5a30d" id="r_afffc20194b866aa9ea07bed3f2c5a30d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a> [<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td></tr>
<tr class="separator:afffc20194b866aa9ea07bed3f2c5a30d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0d4940920cae5cd03989225834c4bb" id="r_a0a0d4940920cae5cd03989225834c4bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a> [<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td></tr>
<tr class="memdesc:a0a0d4940920cae5cd03989225834c4bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Files will be saved in this gamedir.  <br /></td></tr>
<tr class="separator:a0a0d4940920cae5cd03989225834c4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad14136292432bbbe329d4ab28ea04b37" id="r_ad14136292432bbbe329d4ab28ea04b37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a> [<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td></tr>
<tr class="separator:ad14136292432bbbe329d4ab28ea04b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5556a951783a7a5154a770f880b27ef" id="r_ac5556a951783a7a5154a770f880b27ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a> = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ac5556a951783a7a5154a770f880b27ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda51408d01fe25b934e4fd7b21a9698" id="r_adda51408d01fe25b934e4fd7b21a9698"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a> = 0</td></tr>
<tr class="separator:adda51408d01fe25b934e4fd7b21a9698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae37afe19022713da1c41aaf8e74b8a" id="r_a1ae37afe19022713da1c41aaf8e74b8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a> [<a class="el" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>][<a class="el" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>]</td></tr>
<tr class="separator:a1ae37afe19022713da1c41aaf8e74b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1273a0774bd79c98e6a9d707e363142e" id="r_a1273a0774bd79c98e6a9d707e363142e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgamedir__t.html">gamedir_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a> = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a1273a0774bd79c98e6a9d707e363142e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9bba4c2e6cdbfcaea842f33320e6467" id="r_ad9bba4c2e6cdbfcaea842f33320e6467"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a> = 0</td></tr>
<tr class="separator:ad9bba4c2e6cdbfcaea842f33320e6467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd7e09884a0b610f5ade286f7702166" id="r_aebd7e09884a0b610f5ade286f7702166"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#a29504783a1fb4f2c374f28ad239455f2">CF_PERSISTENT</a>, &quot;scr_screenshot_name&quot;,&quot;dp&quot;, &quot;prefix <a class="el" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">saved</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">screenshots</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">changes</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">based</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> -<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">commandline</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">well</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">which</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">running</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">date</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">encoded</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strftime</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">escapes</a>)&quot;}</td></tr>
<tr class="separator:aebd7e09884a0b610f5ade286f7702166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3dada3504d3aa866f170ac2874ef4b9" id="r_ad3dada3504d3aa866f170ac2874ef4b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad3dada3504d3aa866f170ac2874ef4b9">fs_empty_files_in_pack_mark_deletions</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;fs_empty_files_in_pack_mark_deletions&quot;, &quot;0&quot;, &quot;if <a class="el" href="cd__shared_8c.html#ac51aa3f549acb5c30ba825c266472f50">enabled</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">empty</a> files in <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pk3</a> <a class="el" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">existing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">but</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cancel</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">further</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packs</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">effectively</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allowing</a> patch <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pk3</a> files to '<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">delete</a>' <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">files&quot;</a>}</td></tr>
<tr class="separator:ad3dada3504d3aa866f170ac2874ef4b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14f7e0927785f091bb31a880847c29d" id="r_ac14f7e0927785f091bb31a880847c29d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ac14f7e0927785f091bb31a880847c29d">fs_unload_dlcache</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;fs_unload_dlcache&quot;, &quot;1&quot;, &quot;if <a class="el" href="cd__shared_8c.html#ac51aa3f549acb5c30ba825c266472f50">enabled</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unload</a> dlcache's loaded <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pk3</a> files <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">changing</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">or</a> map <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WARNING:</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">disabling</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unloading</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">can</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cause</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">servers</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">override</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">assets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> other <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">servers</a>, \&quot;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memory</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaking\&quot;</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> dlcache <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">assets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">never</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unloading</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">more</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">issues&quot;</a>}</td></tr>
<tr class="separator:ac14f7e0927785f091bb31a880847c29d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96cafb428e3f2059aa9fb50cd1cad67b" id="r_a96cafb428e3f2059aa9fb50cd1cad67b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a96cafb428e3f2059aa9fb50cd1cad67b">cvar_fs_gamedir</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="el" href="cmd_8h.html#a1ceb1009a0782737c801ddd240583952">CF_READONLY</a> | <a class="el" href="cmd_8h.html#a29504783a1fb4f2c374f28ad239455f2">CF_PERSISTENT</a>, &quot;fs_gamedir&quot;, &quot;&quot;, &quot;the list <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currently</a> selected gamedirs (use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> 'gamedir' <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">command</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">change</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a>)&quot;}</td></tr>
<tr class="separator:a96cafb428e3f2059aa9fb50cd1cad67b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9424aa81f06ef1acd3be2be644eda54a" id="r_a9424aa81f06ef1acd3be2be644eda54a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a9424aa81f06ef1acd3be2be644eda54a">flush</a></td></tr>
<tr class="separator:a9424aa81f06ef1acd3be2be644eda54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ecfa46241fc420acdff8d6cd1f751fb" id="r_a9ecfa46241fc420acdff8d6cd1f751fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a></td></tr>
<tr class="separator:a9ecfa46241fc420acdff8d6cd1f751fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93793de2dc55e58d203e4c24b4038be6" id="r_a93793de2dc55e58d203e4c24b4038be6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a93793de2dc55e58d203e4c24b4038be6">version</a></td></tr>
<tr class="separator:a93793de2dc55e58d203e4c24b4038be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03ef5da0b3c23d3266823add5507b2d" id="r_aa03ef5da0b3c23d3266823add5507b2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aa03ef5da0b3c23d3266823add5507b2d">stream_size</a></td></tr>
<tr class="separator:aa03ef5da0b3c23d3266823add5507b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6e8d3b3465804e2be1198b2a2a3143" id="r_aac6e8d3b3465804e2be1198b2a2a3143"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a></td></tr>
<tr class="separator:aac6e8d3b3465804e2be1198b2a2a3143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105ad7c8a41c68d0fd76c4240ad2f974" id="r_a105ad7c8a41c68d0fd76c4240ad2f974"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a105ad7c8a41c68d0fd76c4240ad2f974">method</a></td></tr>
<tr class="separator:a105ad7c8a41c68d0fd76c4240ad2f974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b51a06a8ddfc23fd4014e391ed442b7" id="r_a7b51a06a8ddfc23fd4014e391ed442b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a7b51a06a8ddfc23fd4014e391ed442b7">memLevel</a></td></tr>
<tr class="separator:a7b51a06a8ddfc23fd4014e391ed442b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeacc51c972da9df48c2ed42427999ad4" id="r_aeacc51c972da9df48c2ed42427999ad4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aeacc51c972da9df48c2ed42427999ad4">strategy</a></td></tr>
<tr class="separator:aeacc51c972da9df48c2ed42427999ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e3a86a5cdbff138cbb5aa107dc9b25" id="r_a08e3a86a5cdbff138cbb5aa107dc9b25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structdllfunction__t.html">dllfunction_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a08e3a86a5cdbff138cbb5aa107dc9b25">zlibfuncs</a> []</td></tr>
<tr class="separator:a08e3a86a5cdbff138cbb5aa107dc9b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6293ae0302d8c803fa5100fc55f4f071" id="r_a6293ae0302d8c803fa5100fc55f4f071"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="sys_8h.html#a6adb43a47c235f59ea1333f385eef73d">dllhandle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a> = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="memdesc:a6293ae0302d8c803fa5100fc55f4f071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle for Zlib DLL.  <br /></td></tr>
<tr class="separator:a6293ae0302d8c803fa5100fc55f4f071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cffd3fe0d4f339cbc89948a2c405984" id="r_a1cffd3fe0d4f339cbc89948a2c405984"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a1cffd3fe0d4f339cbc89948a2c405984">vid_opened</a></td></tr>
<tr class="separator:a1cffd3fe0d4f339cbc89948a2c405984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cd1a17fe286da8d797e4706db935b2" id="r_af3cd1a17fe286da8d797e4706db935b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a></td></tr>
<tr class="separator:af3cd1a17fe286da8d797e4706db935b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc2df3b337d2d1608146cfea5ec729a" id="r_a3bc2df3b337d2d1608146cfea5ec729a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a3bc2df3b337d2d1608146cfea5ec729a">FS_Dir_f</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</td></tr>
<tr class="separator:a3bc2df3b337d2d1608146cfea5ec729a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf77729e431c214a621ca3acdce5f59" id="r_a3cf77729e431c214a621ca3acdce5f59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a3cf77729e431c214a621ca3acdce5f59">FS_Ls_f</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</td></tr>
<tr class="separator:a3cf77729e431c214a621ca3acdce5f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace56a73ea7abcc1eff8e265286da7a87" id="r_ace56a73ea7abcc1eff8e265286da7a87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ace56a73ea7abcc1eff8e265286da7a87">FS_Which_f</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</td></tr>
<tr class="separator:ace56a73ea7abcc1eff8e265286da7a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ca66034633d9f05e8c7199d4494f53" id="r_a31ca66034633d9f05e8c7199d4494f53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structsearchpath__t.html">searchpath_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> **<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>)</td></tr>
<tr class="separator:a31ca66034633d9f05e8c7199d4494f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a332b6db61069192753fc9f76c045c" id="r_a49a332b6db61069192753fc9f76c045c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpackfile__t.html">packfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a49a332b6db61069192753fc9f76c045c">FS_AddFileToPack</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="el" href="structpack__t.html">pack_t</a> *pack, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="el" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> packsize, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> realsize, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> flags)</td></tr>
<tr class="separator:a49a332b6db61069192753fc9f76c045c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93257bedba32e45fc3f07bea139c0604" id="r_a93257bedba32e45fc3f07bea139c0604"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> (<a class="el" href="fs_8c.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a>)(<a class="el" href="structz__stream.html">z_stream</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a></td></tr>
<tr class="separator:a93257bedba32e45fc3f07bea139c0604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7a3cddbb7cb32d9e9299720d12b5f3" id="r_adc7a3cddbb7cb32d9e9299720d12b5f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#adc7a3cddbb7cb32d9e9299720d12b5f3">PK3_CloseLibrary</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:adc7a3cddbb7cb32d9e9299720d12b5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88402d87eb304d652f6d3edd1dbb62bc" id="r_a88402d87eb304d652f6d3edd1dbb62bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a88402d87eb304d652f6d3edd1dbb62bc">PK3_OpenLibrary</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a88402d87eb304d652f6d3edd1dbb62bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a5a0231cecf4daa90f3b827df5b254" id="r_a41a5a0231cecf4daa90f3b827df5b254"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a41a5a0231cecf4daa90f3b827df5b254">FS_HasZlib</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a41a5a0231cecf4daa90f3b827df5b254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07cb35f21d570f90bcb203daa557f404" id="r_a07cb35f21d570f90bcb203daa557f404"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a07cb35f21d570f90bcb203daa557f404">PK3_GetEndOfCentralDir</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, <a class="el" href="structpk3__endOfCentralDir__t.html">pk3_endOfCentralDir_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>)</td></tr>
<tr class="separator:a07cb35f21d570f90bcb203daa557f404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f9e243d932290a01cfd42090951f31b" id="r_a1f9e243d932290a01cfd42090951f31b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a1f9e243d932290a01cfd42090951f31b">PK3_BuildFileList</a> (<a class="el" href="structpack__t.html">pack_t</a> *pack, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structpk3__endOfCentralDir__t.html">pk3_endOfCentralDir_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>)</td></tr>
<tr class="separator:a1f9e243d932290a01cfd42090951f31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dcf5b9349e0ac75ba5a4098f5269fb3" id="r_a3dcf5b9349e0ac75ba5a4098f5269fb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a3dcf5b9349e0ac75ba5a4098f5269fb3">FS_LoadPackPK3FromFD</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">silent</a>)</td></tr>
<tr class="separator:a3dcf5b9349e0ac75ba5a4098f5269fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996ef8c18fe9359c3a51368020559f32" id="r_a996ef8c18fe9359c3a51368020559f32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>)</td></tr>
<tr class="separator:a996ef8c18fe9359c3a51368020559f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d988fb6eae9039af1a98a2bbf12c69" id="r_ac8d988fb6eae9039af1a98a2bbf12c69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ac8d988fb6eae9039af1a98a2bbf12c69">FS_LoadPackPK3</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>)</td></tr>
<tr class="separator:ac8d988fb6eae9039af1a98a2bbf12c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3986d12d38ecedd93c955be575bef34d" id="r_a3986d12d38ecedd93c955be575bef34d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a3986d12d38ecedd93c955be575bef34d">PK3_GetTrueFileOffset</a> (<a class="el" href="structpackfile__t.html">packfile_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>, <a class="el" href="structpack__t.html">pack_t</a> *pack)</td></tr>
<tr class="separator:a3986d12d38ecedd93c955be575bef34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a402f23710e6092bb3ee899cd0bc38c93" id="r_a402f23710e6092bb3ee899cd0bc38c93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a402f23710e6092bb3ee899cd0bc38c93">FS_mkdir</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path)</td></tr>
<tr class="separator:a402f23710e6092bb3ee899cd0bc38c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6a6a671fddee50dbb3b0b1ec5d07ad" id="r_acf6a6a671fddee50dbb3b0b1ec5d07ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#acf6a6a671fddee50dbb3b0b1ec5d07ad">FS_CreatePath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path)</td></tr>
<tr class="separator:acf6a6a671fddee50dbb3b0b1ec5d07ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af894b5591c7482a151cbba1737656233" id="r_af894b5591c7482a151cbba1737656233"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#af894b5591c7482a151cbba1737656233">FS_Path_f</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</td></tr>
<tr class="separator:af894b5591c7482a151cbba1737656233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf40bc5527f3118146b4a95b35ec20f" id="r_aedf40bc5527f3118146b4a95b35ec20f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aedf40bc5527f3118146b4a95b35ec20f">FS_LoadPackPAK</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>)</td></tr>
<tr class="separator:aedf40bc5527f3118146b4a95b35ec20f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e308a0ba3ffa91dab5e0e09cf1daf7" id="r_ae7e308a0ba3ffa91dab5e0e09cf1daf7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae7e308a0ba3ffa91dab5e0e09cf1daf7">FS_LoadPackVirtual</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirname</a>)</td></tr>
<tr class="separator:ae7e308a0ba3ffa91dab5e0e09cf1daf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96b4f7b0ae6f10f156e53344ce289aa" id="r_ae96b4f7b0ae6f10f156e53344ce289aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae96b4f7b0ae6f10f156e53344ce289aa">FS_AddPack_Fullpath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *shortname, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keep_plain_dirs</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> dlcache)</td></tr>
<tr class="separator:ae96b4f7b0ae6f10f156e53344ce289aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87fce57e0194dccb6e05b7bd04150d33" id="r_a87fce57e0194dccb6e05b7bd04150d33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a87fce57e0194dccb6e05b7bd04150d33">FS_AddPack</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keep_plain_dirs</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> dlcache)</td></tr>
<tr class="separator:a87fce57e0194dccb6e05b7bd04150d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c91d8e9313a2a5c190461e8e287f64f" id="r_a2c91d8e9313a2a5c190461e8e287f64f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2c91d8e9313a2a5c190461e8e287f64f">FS_AddGameDirectory</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">set_fs_gamedir</a>)</td></tr>
<tr class="separator:a2c91d8e9313a2a5c190461e8e287f64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c576745f65f4843ba073f977b97db84" id="r_a8c576745f65f4843ba073f977b97db84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a8c576745f65f4843ba073f977b97db84">FS_AddGameHierarchy</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">set_fs_gamedir</a>)</td></tr>
<tr class="separator:a8c576745f65f4843ba073f977b97db84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ffae625c1150af52b17342c57425ac" id="r_a03ffae625c1150af52b17342c57425ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *in)</td></tr>
<tr class="separator:a03ffae625c1150af52b17342c57425ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763b2c4798fd52f16e15b61b8d94f05d" id="r_a763b2c4798fd52f16e15b61b8d94f05d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a763b2c4798fd52f16e15b61b8d94f05d">FS_FileWithoutPath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *in)</td></tr>
<tr class="separator:a763b2c4798fd52f16e15b61b8d94f05d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c0f05d0f065c9fe6fc4adc8d1888d3" id="r_a03c0f05d0f065c9fe6fc4adc8d1888d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a03c0f05d0f065c9fe6fc4adc8d1888d3">FS_ClearSearchPath</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a03c0f05d0f065c9fe6fc4adc8d1888d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5791a275b4f7a76d747179bc571694" id="r_a7b5791a275b4f7a76d747179bc571694"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a7b5791a275b4f7a76d747179bc571694">FS_UnloadPacks_dlcache</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a7b5791a275b4f7a76d747179bc571694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764b9be01a515113f590f26417b3bdc1" id="r_a764b9be01a515113f590f26417b3bdc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a764b9be01a515113f590f26417b3bdc1">FS_AddSelfPack</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a764b9be01a515113f590f26417b3bdc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2790033183896d4ab46de75305b40786" id="r_a2790033183896d4ab46de75305b40786"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2790033183896d4ab46de75305b40786">FS_Rescan</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a2790033183896d4ab46de75305b40786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d640c9bc35832e159e445d31c987e1e" id="r_a8d640c9bc35832e159e445d31c987e1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a8d640c9bc35832e159e445d31c987e1e">FS_Rescan_f</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</td></tr>
<tr class="separator:a8d640c9bc35832e159e445d31c987e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f17eb38854c4515cd715413bb8a795" id="r_ad8f17eb38854c4515cd715413bb8a795"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad8f17eb38854c4515cd715413bb8a795">FS_ChangeGameDirs</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> numgamedirs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> gamedirs[][<a class="el" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>], <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">complain</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failmissing</a>)</td></tr>
<tr class="separator:ad8f17eb38854c4515cd715413bb8a795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e38d157816c670cd42cc78c17b4577" id="r_ab3e38d157816c670cd42cc78c17b4577"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ab3e38d157816c670cd42cc78c17b4577">FS_GameDir_f</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</td></tr>
<tr class="separator:ab3e38d157816c670cd42cc78c17b4577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd81e13d3ce687a1321e09713158682" id="r_a6dd81e13d3ce687a1321e09713158682"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *gamedir, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buflength</a>)</td></tr>
<tr class="separator:a6dd81e13d3ce687a1321e09713158682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360bff9bae9632be880e851386abfa23" id="r_a360bff9bae9632be880e851386abfa23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *gamedir)</td></tr>
<tr class="separator:a360bff9bae9632be880e851386abfa23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2dc0c72e3d74aa1c95f95bd639f91bf" id="r_ae2dc0c72e3d74aa1c95f95bd639f91bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae2dc0c72e3d74aa1c95f95bd639f91bf">FS_ListGameDirs</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:ae2dc0c72e3d74aa1c95f95bd639f91bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec3d1b324c9c77f9f86c66a1ab40a4d" id="r_a0ec3d1b324c9c77f9f86c66a1ab40a4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a0ec3d1b324c9c77f9f86c66a1ab40a4d">COM_InsertFlags</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</td></tr>
<tr class="separator:a0ec3d1b324c9c77f9f86c66a1ab40a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22ec4a7f71582cf82cfc7fb2e27ac88" id="r_ad22ec4a7f71582cf82cfc7fb2e27ac88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad22ec4a7f71582cf82cfc7fb2e27ac88">FS_ChooseUserDir</a> (<a class="el" href="common_8h.html#a5ff7c070c39a9f2242250721e63067db">userdirmode_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirmode</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *userdir, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>)</td></tr>
<tr class="separator:ad22ec4a7f71582cf82cfc7fb2e27ac88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e09586378b419ef33b79a36b4067c4c" id="r_a6e09586378b419ef33b79a36b4067c4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a6e09586378b419ef33b79a36b4067c4c">FS_Init_Commands</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a6e09586378b419ef33b79a36b4067c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ddf0a9358c7bf73d9fc069e937252b8" id="r_a6ddf0a9358c7bf73d9fc069e937252b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a6ddf0a9358c7bf73d9fc069e937252b8">FS_Init_Dir</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a6ddf0a9358c7bf73d9fc069e937252b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af53d64801628f507322f59d4db9d8250" id="r_af53d64801628f507322f59d4db9d8250"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#af53d64801628f507322f59d4db9d8250">FS_Init_SelfPack</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:af53d64801628f507322f59d4db9d8250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67c972ffc834d1ee6a3aa38b101ba89" id="r_aa67c972ffc834d1ee6a3aa38b101ba89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aa67c972ffc834d1ee6a3aa38b101ba89">FS_Init</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:aa67c972ffc834d1ee6a3aa38b101ba89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebce4845c7c6f83b3241ae1c3d6c61a" id="r_abebce4845c7c6f83b3241ae1c3d6c61a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#abebce4845c7c6f83b3241ae1c3d6c61a">FS_Shutdown</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:abebce4845c7c6f83b3241ae1c3d6c61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c54d78cc27ab3f3e244ab3b17ba4da9" id="r_a2c54d78cc27ab3f3e244ab3b17ba4da9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2c54d78cc27ab3f3e244ab3b17ba4da9">FS_SysOpenFD</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>)</td></tr>
<tr class="separator:a2c54d78cc27ab3f3e244ab3b17ba4da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5098aecad23c311750ae649088f2d96d" id="r_a5098aecad23c311750ae649088f2d96d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>)</td></tr>
<tr class="separator:a5098aecad23c311750ae649088f2d96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace89c9e394bb0f6ca8198211ea6af365" id="r_ace89c9e394bb0f6ca8198211ea6af365"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ace89c9e394bb0f6ca8198211ea6af365">FS_OpenPackedFile</a> (<a class="el" href="structpack__t.html">pack_t</a> *pack, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pack_ind</a>)</td></tr>
<tr class="separator:ace89c9e394bb0f6ca8198211ea6af365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0629b94b2f8803b95c72571ac6f1558" id="r_ae0629b94b2f8803b95c72571ac6f1558"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isgamedir</a>)</td></tr>
<tr class="separator:ae0629b94b2f8803b95c72571ac6f1558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0bdcd3ddc4eeae13ee7b56380c81b09" id="r_ab0bdcd3ddc4eeae13ee7b56380c81b09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ab0bdcd3ddc4eeae13ee7b56380c81b09">FS_SanitizePath</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path)</td></tr>
<tr class="separator:ab0bdcd3ddc4eeae13ee7b56380c81b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac670ff3b3d77872cadae38060bc92853" id="r_ac670ff3b3d77872cadae38060bc92853"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ac670ff3b3d77872cadae38060bc92853">FS_OpenReadFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">symlinkLevels</a>)</td></tr>
<tr class="separator:ac670ff3b3d77872cadae38060bc92853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7757c6165ecaee803fba8e3d1db3e2e9" id="r_a7757c6165ecaee803fba8e3d1db3e2e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>)</td></tr>
<tr class="separator:a7757c6165ecaee803fba8e3d1db3e2e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146922363508573499a2391fd3e0bf1f" id="r_a146922363508573499a2391fd3e0bf1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a146922363508573499a2391fd3e0bf1f">FS_OpenVirtualFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>)</td></tr>
<tr class="separator:a146922363508573499a2391fd3e0bf1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b01aad1753468c0a03bd4a87f513a2" id="r_af3b01aad1753468c0a03bd4a87f513a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#af3b01aad1753468c0a03bd4a87f513a2">FS_FileFromData</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>)</td></tr>
<tr class="separator:af3b01aad1753468c0a03bd4a87f513a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf26e98f08b7bbcc5645486294ebb5c" id="r_abcf26e98f08b7bbcc5645486294ebb5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:abcf26e98f08b7bbcc5645486294ebb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab478ae89e52cbb0ffb24cd20cccec60a" id="r_ab478ae89e52cbb0ffb24cd20cccec60a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ab478ae89e52cbb0ffb24cd20cccec60a">FS_RemoveOnClose</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:ab478ae89e52cbb0ffb24cd20cccec60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef891979f8e7a5158ab1ade82cd733f" id="r_a2ef891979f8e7a5158ab1ade82cd733f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>)</td></tr>
<tr class="separator:a2ef891979f8e7a5158ab1ade82cd733f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06be02d84167befd9817197abb0c2100" id="r_a06be02d84167befd9817197abb0c2100"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> buffersize)</td></tr>
<tr class="separator:a06be02d84167befd9817197abb0c2100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e3a888c966ea1276ad5dab8d731414" id="r_ae1e3a888c966ea1276ad5dab8d731414"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae1e3a888c966ea1276ad5dab8d731414">FS_Print</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *msg)</td></tr>
<tr class="separator:ae1e3a888c966ea1276ad5dab8d731414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2f91e19bc9adfe48467c7ade9201ab" id="r_acb2f91e19bc9adfe48467c7ade9201ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#acb2f91e19bc9adfe48467c7ade9201ab">FS_Printf</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>,...)</td></tr>
<tr class="separator:acb2f91e19bc9adfe48467c7ade9201ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66af7e39cdce25212e2aae7bfccc9029" id="r_a66af7e39cdce25212e2aae7bfccc9029"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a66af7e39cdce25212e2aae7bfccc9029">FS_VPrintf</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ap</a>)</td></tr>
<tr class="separator:a66af7e39cdce25212e2aae7bfccc9029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91bcbc8a4a5686b9824afeeb671b2a0" id="r_ad91bcbc8a4a5686b9824afeeb671b2a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad91bcbc8a4a5686b9824afeeb671b2a0">FS_Getc</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:ad91bcbc8a4a5686b9824afeeb671b2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9546d12cbb0b991063c9d8c3c05a4272" id="r_a9546d12cbb0b991063c9d8c3c05a4272"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a9546d12cbb0b991063c9d8c3c05a4272">FS_UnGetc</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> c)</td></tr>
<tr class="separator:a9546d12cbb0b991063c9d8c3c05a4272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a695442a3ff4506082973bc053c1ec983" id="r_a695442a3ff4506082973bc053c1ec983"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a695442a3ff4506082973bc053c1ec983">FS_Seek</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="el" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">whence</a>)</td></tr>
<tr class="separator:a695442a3ff4506082973bc053c1ec983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c66a9e0422a0b350194c2fe7a0015a" id="r_a64c66a9e0422a0b350194c2fe7a0015a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a64c66a9e0422a0b350194c2fe7a0015a">FS_Tell</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:a64c66a9e0422a0b350194c2fe7a0015a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97defca4a096159d4e5f51bc33b7c86" id="r_ab97defca4a096159d4e5f51bc33b7c86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ab97defca4a096159d4e5f51bc33b7c86">FS_FileSize</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:ab97defca4a096159d4e5f51bc33b7c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f2a03ca613c2c6c4c98beaa253928b" id="r_a68f2a03ca613c2c6c4c98beaa253928b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file)</td></tr>
<tr class="separator:a68f2a03ca613c2c6c4c98beaa253928b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4817b66640bf04c9a0c27887e7199e5" id="r_ae4817b66640bf04c9a0c27887e7199e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae4817b66640bf04c9a0c27887e7199e5">FS_LoadAndCloseQFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="structmempool__t.html">mempool_t</a> *pool, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</td></tr>
<tr class="separator:ae4817b66640bf04c9a0c27887e7199e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b9b5ad3cc14f77ae63016505163128" id="r_a46b9b5ad3cc14f77ae63016505163128"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="structmempool__t.html">mempool_t</a> *pool, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</td></tr>
<tr class="separator:a46b9b5ad3cc14f77ae63016505163128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd82baa9c0e3ab7dc26282cb0eaae9e" id="r_aadd82baa9c0e3ab7dc26282cb0eaae9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#aadd82baa9c0e3ab7dc26282cb0eaae9e">FS_SysLoadFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="structmempool__t.html">mempool_t</a> *pool, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</td></tr>
<tr class="separator:aadd82baa9c0e3ab7dc26282cb0eaae9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae34d06bd66fbed0ee1a72a3ad726af11" id="r_ae34d06bd66fbed0ee1a72a3ad726af11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae34d06bd66fbed0ee1a72a3ad726af11">FS_WriteFileInBlocks</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *len, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</td></tr>
<tr class="separator:ae34d06bd66fbed0ee1a72a3ad726af11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2eae59234c2478341fea0a380e99ac" id="r_a2a2eae59234c2478341fea0a380e99ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a2a2eae59234c2478341fea0a380e99ac">FS_WriteFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> len)</td></tr>
<tr class="separator:a2a2eae59234c2478341fea0a380e99ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd7ebcbb75f140d76ab37664280555f" id="r_a9fd7ebcbb75f140d76ab37664280555f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *in, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_out</a>)</td></tr>
<tr class="separator:a9fd7ebcbb75f140d76ab37664280555f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e1e4de914927db015a75a5a2817a8f" id="r_a37e1e4de914927db015a75a5a2817a8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a37e1e4de914927db015a75a5a2817a8f">FS_DefaultExtension</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *extension, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_path</a>)</td></tr>
<tr class="separator:a37e1e4de914927db015a75a5a2817a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0e1a268dfbcc16a3271a7c66938f82" id="r_a7b0e1a268dfbcc16a3271a7c66938f82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a7b0e1a268dfbcc16a3271a7c66938f82">FS_FileType</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename)</td></tr>
<tr class="memdesc:a7b0e1a268dfbcc16a3271a7c66938f82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a file in the packages and in the filesystem.  <br /></td></tr>
<tr class="separator:a7b0e1a268dfbcc16a3271a7c66938f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5bb7ead56ab2c98c5b66a71e6141127" id="r_ae5bb7ead56ab2c98c5b66a71e6141127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae5bb7ead56ab2c98c5b66a71e6141127">FS_FileExists</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename)</td></tr>
<tr class="memdesc:ae5bb7ead56ab2c98c5b66a71e6141127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a file in the packages and in the filesystem Returns its canonical name (same case as used in the pack) if found, else NULL.  <br /></td></tr>
<tr class="separator:ae5bb7ead56ab2c98c5b66a71e6141127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85ade8d917e7785a8c88a2db2d026bf" id="r_ad85ade8d917e7785a8c88a2db2d026bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad85ade8d917e7785a8c88a2db2d026bf">FS_SysFileType</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path)</td></tr>
<tr class="memdesc:ad85ade8d917e7785a8c88a2db2d026bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a file in the filesystem only.  <br /></td></tr>
<tr class="separator:ad85ade8d917e7785a8c88a2db2d026bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb093a036480e1077111dcc49fecc227" id="r_abb093a036480e1077111dcc49fecc227"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#abb093a036480e1077111dcc49fecc227">FS_SysFileExists</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *path)</td></tr>
<tr class="memdesc:abb093a036480e1077111dcc49fecc227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a file in the filesystem only.  <br /></td></tr>
<tr class="separator:abb093a036480e1077111dcc49fecc227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637b96ed07f8e70398c51a8bc3ce4fb9" id="r_a637b96ed07f8e70398c51a8bc3ce4fb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfssearch__t.html">fssearch_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caseinsensitive</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>)</td></tr>
<tr class="separator:a637b96ed07f8e70398c51a8bc3ce4fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507c1fe37a20105eb2c08896f0d399a1" id="r_a507c1fe37a20105eb2c08896f0d399a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a507c1fe37a20105eb2c08896f0d399a1">FS_FreeSearch</a> (<a class="el" href="structfssearch__t.html">fssearch_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</td></tr>
<tr class="separator:a507c1fe37a20105eb2c08896f0d399a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ba1484d7c9d75915e711a0aec929ce" id="r_a06ba1484d7c9d75915e711a0aec929ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a06ba1484d7c9d75915e711a0aec929ce">FS_ListDirectory</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oneperline</a>)</td></tr>
<tr class="separator:a06ba1484d7c9d75915e711a0aec929ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2256a61edc074b40e3c52e307df7140" id="r_ae2256a61edc074b40e3c52e307df7140"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ae2256a61edc074b40e3c52e307df7140">FS_ListDirectoryCmd</a> (<a class="el" href="structcmd__state__t.html">cmd_state_t</a> *cmd, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmdname</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oneperline</a>)</td></tr>
<tr class="separator:ae2256a61edc074b40e3c52e307df7140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe52b4bf57293de544b7813828bb05ce" id="r_abe52b4bf57293de544b7813828bb05ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#abe52b4bf57293de544b7813828bb05ce">FS_WhichPack</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename)</td></tr>
<tr class="separator:abe52b4bf57293de544b7813828bb05ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb796ba35bc293b2cf0fef7e4b14f65c" id="r_afb796ba35bc293b2cf0fef7e4b14f65c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#afb796ba35bc293b2cf0fef7e4b14f65c">FS_IsRegisteredQuakePack</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>)</td></tr>
<tr class="separator:afb796ba35bc293b2cf0fef7e4b14f65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71e74126e75683b2eaf9587faae31ac" id="r_ad71e74126e75683b2eaf9587faae31ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ad71e74126e75683b2eaf9587faae31ac">FS_CRCFile</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *filename, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</td></tr>
<tr class="separator:ad71e74126e75683b2eaf9587faae31ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11557aacb9bd4fa63cc90ad3c18fc4e" id="r_ac11557aacb9bd4fa63cc90ad3c18fc4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ac11557aacb9bd4fa63cc90ad3c18fc4e">FS_Deflate</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">deflated_size</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="el" href="structmempool__t.html">mempool_t</a> *mempool)</td></tr>
<tr class="separator:ac11557aacb9bd4fa63cc90ad3c18fc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f98b51d453f0acae6cc8b5804c0952" id="r_ab6f98b51d453f0acae6cc8b5804c0952"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#ab6f98b51d453f0acae6cc8b5804c0952">AssertBufsize</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>)</td></tr>
<tr class="separator:ab6f98b51d453f0acae6cc8b5804c0952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1425cd964a12f97b4a1d494a44914386" id="r_a1425cd964a12f97b4a1d494a44914386"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8c.html#a1425cd964a12f97b4a1d494a44914386">FS_Inflate</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> <a class="el" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inflated_size</a>, <a class="el" href="structmempool__t.html">mempool_t</a> *mempool)</td></tr>
<tr class="separator:a1425cd964a12f97b4a1d494a44914386"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7b605c6f7d25e513d5f6b47569077246" name="a7b605c6f7d25e513d5f6b47569077246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b605c6f7d25e513d5f6b47569077246">&#9670;&#160;</a></span>FILE_BUFF_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILE_BUFF_SIZE&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00297">297</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a6a7c99ee654a553e7613885f1446b06d" name="a6a7c99ee654a553e7613885f1446b06d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a7c99ee654a553e7613885f1446b06d">&#9670;&#160;</a></span>FILEDESC_CLOSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILEDESC_CLOSE&#160;&#160;&#160;close</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00105">105</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a240eecc445e8f632b1d2f1bb861d43a0" name="a240eecc445e8f632b1d2f1bb861d43a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a240eecc445e8f632b1d2f1bb861d43a0">&#9670;&#160;</a></span>FILEDESC_INVALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILEDESC_INVALID&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00101">101</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a63366b4f54083982ae222f9f6130d157" name="a63366b4f54083982ae222f9f6130d157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63366b4f54083982ae222f9f6130d157">&#9670;&#160;</a></span>FILEDESC_ISVALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILEDESC_ISVALID</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>) != -1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00102">102</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a5be675f7c96c5b5b6af64d38f328f3f3" name="a5be675f7c96c5b5b6af64d38f328f3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be675f7c96c5b5b6af64d38f328f3f3">&#9670;&#160;</a></span>FILEDESC_READ <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILEDESC_READ&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">read</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00103">103</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a5be675f7c96c5b5b6af64d38f328f3f3" name="a5be675f7c96c5b5b6af64d38f328f3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be675f7c96c5b5b6af64d38f328f3f3">&#9670;&#160;</a></span>FILEDESC_READ <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILEDESC_READ&#160;&#160;&#160;<a class="el" href="fs_8c.html#a2d3a9eaf976b6873017edf26a4e7d565">ReadAll</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00103">103</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="ad449c345b747297192b11c6cd4695f3c" name="ad449c345b747297192b11c6cd4695f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad449c345b747297192b11c6cd4695f3c">&#9670;&#160;</a></span>FILEDESC_SEEK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILEDESC_SEEK&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lseek</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00106">106</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a27e1e1b02dbbe51f51576d46c8a4ba8d" name="a27e1e1b02dbbe51f51576d46c8a4ba8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27e1e1b02dbbe51f51576d46c8a4ba8d">&#9670;&#160;</a></span>FILEDESC_WRITE <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILEDESC_WRITE&#160;&#160;&#160;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">write</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00104">104</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a27e1e1b02dbbe51f51576d46c8a4ba8d" name="a27e1e1b02dbbe51f51576d46c8a4ba8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27e1e1b02dbbe51f51576d46c8a4ba8d">&#9670;&#160;</a></span>FILEDESC_WRITE <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> FILEDESC_WRITE&#160;&#160;&#160;<a class="el" href="fs_8c.html#aa46ef8c7487dca2b2fef9ebd80644f14">WriteAll</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00104">104</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a7479d1be54798828680391846d42af42" name="a7479d1be54798828680391846d42af42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7479d1be54798828680391846d42af42">&#9670;&#160;</a></span>MAX_FILES_IN_PACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> MAX_FILES_IN_PACK&#160;&#160;&#160;65536</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00435">435</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="abd2f406ac1f9c49236376115d78ccb5b" name="abd2f406ac1f9c49236376115d78ccb5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd2f406ac1f9c49236376115d78ccb5b">&#9670;&#160;</a></span>MAX_WBITS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> MAX_WBITS&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00227">227</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a36fa9b2e726512bc17a7a6d3e39002be" name="a36fa9b2e726512bc17a7a6d3e39002be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fa9b2e726512bc17a7a6d3e39002be">&#9670;&#160;</a></span>O_BINARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> O_BINARY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00058">58</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a39d33ce33804efd4d52606d59071c6d8" name="a39d33ce33804efd4d52606d59071c6d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d33ce33804efd4d52606d59071c6d8">&#9670;&#160;</a></span>O_NONBLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> O_NONBLOCK&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00063">63</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="ad506061cba6c07010e9af9d7fb4c6722" name="ad506061cba6c07010e9af9d7fb4c6722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad506061cba6c07010e9af9d7fb4c6722">&#9670;&#160;</a></span>PACKFILE_FLAG_DEFLATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> PACKFILE_FLAG_DEFLATED&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>file compressed using the deflate algorithm </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00367">367</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aa89b502790aa99c2a117674274fe7387" name="aa89b502790aa99c2a117674274fe7387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa89b502790aa99c2a117674274fe7387">&#9670;&#160;</a></span>PACKFILE_FLAG_SYMLINK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> PACKFILE_FLAG_SYMLINK&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>file is a symbolic link </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00369">369</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="afd935c9decbb58dd5a3423927347bec9" name="afd935c9decbb58dd5a3423927347bec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd935c9decbb58dd5a3423927347bec9">&#9670;&#160;</a></span>PACKFILE_FLAG_TRUEOFFS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> PACKFILE_FLAG_TRUEOFFS&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the offset in <a class="el" href="structpackfile__t.html">packfile_t</a> is the true contents offset </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00365">365</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="af22de493a428075817e6040fca62767e" name="af22de493a428075817e6040fca62767e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af22de493a428075817e6040fca62767e">&#9670;&#160;</a></span>QFILE_FLAG_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> QFILE_FLAG_DATA&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>file is actually already loaded data </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00293">293</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a077f9f22119c315af3d69441ba971f71" name="a077f9f22119c315af3d69441ba971f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077f9f22119c315af3d69441ba971f71">&#9670;&#160;</a></span>QFILE_FLAG_DEFLATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> QFILE_FLAG_DEFLATED&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>file is compressed using the deflate algorithm (PK3 only) </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00291">291</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a33212acd1454920bd74559aa726f9b1a" name="a33212acd1454920bd74559aa726f9b1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33212acd1454920bd74559aa726f9b1a">&#9670;&#160;</a></span>QFILE_FLAG_PACKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> QFILE_FLAG_PACKED&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>inside a package (PAK or PK3) </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00289">289</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="af21a4ea898d2553316d98abbcf68bc67" name="af21a4ea898d2553316d98abbcf68bc67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af21a4ea898d2553316d98abbcf68bc67">&#9670;&#160;</a></span>QFILE_FLAG_REMOVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> QFILE_FLAG_REMOVE&#160;&#160;&#160;(1 &lt;&lt; 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>real file will be removed on close </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00295">295</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aafe06a729bbb4d02cdfca0c5a1343898" name="aafe06a729bbb4d02cdfca0c5a1343898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafe06a729bbb4d02cdfca0c5a1343898">&#9670;&#160;</a></span>qz_deflateInit2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> qz_deflateInit2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="fs_8c.html#a105ad7c8a41c68d0fd76c4240ad2f974">method</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="fs_8c.html#a7b51a06a8ddfc23fd4014e391ed442b7">memLevel</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="fs_8c.html#aeacc51c972da9df48c2ed42427999ad4">strategy</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;        <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateInit2_</a>((<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>), (<a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>), (<a class="el" href="fs_8c.html#a105ad7c8a41c68d0fd76c4240ad2f974">method</a>), (<a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a>), (<a class="el" href="fs_8c.html#a7b51a06a8ddfc23fd4014e391ed442b7">memLevel</a>), (<a class="el" href="fs_8c.html#aeacc51c972da9df48c2ed42427999ad4">strategy</a>), <a class="el" href="fs_8c.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="structz__stream.html">z_stream</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00483">483</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aeac24933ccc3405abb3156f57b89eb1e" name="aeac24933ccc3405abb3156f57b89eb1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac24933ccc3405abb3156f57b89eb1e">&#9670;&#160;</a></span>qz_inflateInit2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> qz_inflateInit2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;        <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateInit2_</a>((<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>), (<a class="el" href="fs_8c.html#a9ecfa46241fc420acdff8d6cd1f751fb">windowBits</a>), <a class="el" href="fs_8c.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="el" href="structz__stream.html">z_stream</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00481">481</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a38bc4750afca9cbad53914064bda7b21" name="a38bc4750afca9cbad53914064bda7b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38bc4750afca9cbad53914064bda7b21">&#9670;&#160;</a></span>S_ISDIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> S_ISDIR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a></td><td>)</td>
          <td>&#160;&#160;&#160;(((<a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>) &amp; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">S_IFMT</a>) == <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">S_IFDIR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2bfe22ed89d3553335d18a4c3cab67af" name="a2bfe22ed89d3553335d18a4c3cab67af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bfe22ed89d3553335d18a4c3cab67af">&#9670;&#160;</a></span>Z_BINARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_BINARY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00236">236</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a425e2f0664e1b1f75bf2bffab88d353d" name="a425e2f0664e1b1f75bf2bffab88d353d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425e2f0664e1b1f75bf2bffab88d353d">&#9670;&#160;</a></span>Z_BUF_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_BUF_ERROR&#160;&#160;&#160;(-5)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00233">233</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a9eda83d428a71752d148f38b5dbe04f2" name="a9eda83d428a71752d148f38b5dbe04f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eda83d428a71752d148f38b5dbe04f2">&#9670;&#160;</a></span>Z_DATA_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_DATA_ERROR&#160;&#160;&#160;(-3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00231">231</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="af5387baee05124298e431ebe6fe96b17" name="af5387baee05124298e431ebe6fe96b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5387baee05124298e431ebe6fe96b17">&#9670;&#160;</a></span>Z_DEFAULT_COMPRESSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_DEFAULT_COMPRESSION&#160;&#160;&#160;(-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00241">241</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a27a96226f3dc88e4743131c632adf32f" name="a27a96226f3dc88e4743131c632adf32f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a96226f3dc88e4743131c632adf32f">&#9670;&#160;</a></span>Z_DEFLATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_DEFLATED&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00237">237</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a876a626ba14eb12eea4bbf6823b6ca50" name="a876a626ba14eb12eea4bbf6823b6ca50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a876a626ba14eb12eea4bbf6823b6ca50">&#9670;&#160;</a></span>Z_FINISH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_FINISH&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00245">245</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aed4fbb038c3973aacf52fccffbc44b53" name="aed4fbb038c3973aacf52fccffbc44b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed4fbb038c3973aacf52fccffbc44b53">&#9670;&#160;</a></span>Z_FULL_FLUSH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_FULL_FLUSH&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00244">244</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="ae2be6be871e377c6e2c25a7296ce320c" name="ae2be6be871e377c6e2c25a7296ce320c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2be6be871e377c6e2c25a7296ce320c">&#9670;&#160;</a></span>Z_MEM_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_MEM_ERROR&#160;&#160;&#160;(-4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00232">232</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="ae0f56a36e3dd5b9931904489655bbddb" name="ae0f56a36e3dd5b9931904489655bbddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f56a36e3dd5b9931904489655bbddb">&#9670;&#160;</a></span>Z_MEMLEVEL_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_MEMLEVEL_DEFAULT&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00238">238</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="ac3b62e37b9922d9496014515acd6083a" name="ac3b62e37b9922d9496014515acd6083a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3b62e37b9922d9496014515acd6083a">&#9670;&#160;</a></span>Z_NO_FLUSH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_NO_FLUSH&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00242">242</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="ad15afa2776b41b2f4d8582dd152bd736" name="ad15afa2776b41b2f4d8582dd152bd736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15afa2776b41b2f4d8582dd152bd736">&#9670;&#160;</a></span>Z_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_NULL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00240">240</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a8cb802b6a11e926478dc6547c514c65c" name="a8cb802b6a11e926478dc6547c514c65c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb802b6a11e926478dc6547c514c65c">&#9670;&#160;</a></span>Z_OK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_OK&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00228">228</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a7d94a4a852228a899864a0053162e7a8" name="a7d94a4a852228a899864a0053162e7a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d94a4a852228a899864a0053162e7a8">&#9670;&#160;</a></span>Z_STREAM_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_STREAM_END&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00229">229</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aad97cde83a9a4bb77f5c3b03bb68e483" name="aad97cde83a9a4bb77f5c3b03bb68e483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad97cde83a9a4bb77f5c3b03bb68e483">&#9670;&#160;</a></span>Z_STREAM_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_STREAM_ERROR&#160;&#160;&#160;(-2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00230">230</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aa32ca175522e0ef314f4dc0b0196bada" name="aa32ca175522e0ef314f4dc0b0196bada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32ca175522e0ef314f4dc0b0196bada">&#9670;&#160;</a></span>Z_SYNC_FLUSH <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_SYNC_FLUSH&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00226">226</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aa32ca175522e0ef314f4dc0b0196bada" name="aa32ca175522e0ef314f4dc0b0196bada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32ca175522e0ef314f4dc0b0196bada">&#9670;&#160;</a></span>Z_SYNC_FLUSH <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> Z_SYNC_FLUSH&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00226">226</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a181415878f03b95a7094309d824a14b6" name="a181415878f03b95a7094309d824a14b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a181415878f03b95a7094309d824a14b6">&#9670;&#160;</a></span>ZEXPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZEXPORT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00469">469</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aaa8d6ffba2404920e5222c72432c648a" name="aaa8d6ffba2404920e5222c72432c648a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa8d6ffba2404920e5222c72432c648a">&#9670;&#160;</a></span>ZIP_CDIR_CHUNK_BASE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZIP_CDIR_CHUNK_BASE_SIZE&#160;&#160;&#160;46</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00209">209</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a29ecbaec88614ede09ab24394ba2d85a" name="a29ecbaec88614ede09ab24394ba2d85a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29ecbaec88614ede09ab24394ba2d85a">&#9670;&#160;</a></span>ZIP_CDIR_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZIP_CDIR_HEADER&#160;&#160;&#160;0x504B0102</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00203">203</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a289b3bed51e99226d0a796daf7979e48" name="a289b3bed51e99226d0a796daf7979e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a289b3bed51e99226d0a796daf7979e48">&#9670;&#160;</a></span>ZIP_DATA_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZIP_DATA_HEADER&#160;&#160;&#160;0x504B0304</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00202">202</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="adb7768a7aa52f368eb38ff07557db4f3" name="adb7768a7aa52f368eb38ff07557db4f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb7768a7aa52f368eb38ff07557db4f3">&#9670;&#160;</a></span>ZIP_END_CDIR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZIP_END_CDIR_SIZE&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00208">208</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a8ae1dca705c451db34103130968c1a8c" name="a8ae1dca705c451db34103130968c1a8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae1dca705c451db34103130968c1a8c">&#9670;&#160;</a></span>ZIP_END_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZIP_END_HEADER&#160;&#160;&#160;0x504B0506</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00204">204</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aa0fd83a986fce7ea932b998763ecd484" name="aa0fd83a986fce7ea932b998763ecd484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0fd83a986fce7ea932b998763ecd484">&#9670;&#160;</a></span>ZIP_LOCAL_CHUNK_BASE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZIP_LOCAL_CHUNK_BASE_SIZE&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00210">210</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a2469d72269baee21c5da08c7f3bd32fd" name="a2469d72269baee21c5da08c7f3bd32fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2469d72269baee21c5da08c7f3bd32fd">&#9670;&#160;</a></span>ZIP_MAX_COMMENTS_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZIP_MAX_COMMENTS_SIZE&#160;&#160;&#160;((<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)0xFFFF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00207">207</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a51dc9dc65e483b3222c1f0f6a87eb76e" name="a51dc9dc65e483b3222c1f0f6a87eb76e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51dc9dc65e483b3222c1f0f6a87eb76e">&#9670;&#160;</a></span>ZLIB_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> ZLIB_VERSION&#160;&#160;&#160;&quot;1.2.3&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00234">234</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a60e7a7f32fe55e92536a777b17e7203e" name="a60e7a7f32fe55e92536a777b17e7203e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e7a7f32fe55e92536a777b17e7203e">&#9670;&#160;</a></span>filedesc_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">typedef</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00100">100</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab6f98b51d453f0acae6cc8b5804c0952" name="ab6f98b51d453f0acae6cc8b5804c0952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f98b51d453f0acae6cc8b5804c0952">&#9670;&#160;</a></span>AssertBufsize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> AssertBufsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04240">4240</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4241</span>{</div>
<div class="line"><span class="lineno"> 4242</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;cursize + <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;maxsize)</div>
<div class="line"><span class="lineno"> 4243</span>    {</div>
<div class="line"><span class="lineno"> 4244</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a> = <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;maxsize;</div>
<div class="line"><span class="lineno"> 4245</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="cl__parse_8c.html#ad9073d8fd57c18c01a96e460add2b5ed">olddata</a>;</div>
<div class="line"><span class="lineno"> 4246</span>        <a class="code hl_variable" href="cl__parse_8c.html#ad9073d8fd57c18c01a96e460add2b5ed">olddata</a> = <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;data;</div>
<div class="line"><span class="lineno"> 4247</span>        <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;maxsize += <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><span class="lineno"> 4248</span>        <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;data = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;maxsize);</div>
<div class="line"><span class="lineno"> 4249</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="cl__parse_8c.html#ad9073d8fd57c18c01a96e460add2b5ed">olddata</a>)</div>
<div class="line"><span class="lineno"> 4250</span>        {</div>
<div class="line"><span class="lineno"> 4251</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;data, <a class="code hl_variable" href="cl__parse_8c.html#ad9073d8fd57c18c01a96e460add2b5ed">olddata</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a>);</div>
<div class="line"><span class="lineno"> 4252</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="cl__parse_8c.html#ad9073d8fd57c18c01a96e460add2b5ed">olddata</a>);</div>
<div class="line"><span class="lineno"> 4253</span>        }</div>
<div class="line"><span class="lineno"> 4254</span>    }</div>
<div class="line"><span class="lineno"> 4255</span>}</div>
<div class="ttc" id="acl__parse_8c_html_ad9073d8fd57c18c01a96e460add2b5ed"><div class="ttname"><a href="cl__parse_8c.html#ad9073d8fd57c18c01a96e460add2b5ed">olddata</a></div><div class="ttdeci">static unsigned char olddata[NET_MAXMESSAGE]</div><div class="ttdef"><b>Definition</b> <a href="cl__parse_8c_source.html#l00313">cl_parse.c:313</a></div></div>
<div class="ttc" id="aglquake_8h_html_a486f808b7baede12df3669de9b413b92"><div class="ttname"><a href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei length</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac0759919bfcf4c7222738ba583673a9e"><div class="ttname"><a href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei const GLchar * buf</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="azone_8c_html_ac742acee1395c22ccf6d2370d465f844"><div class="ttname"><a href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a></div><div class="ttdeci">mempool_t * tempmempool</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00794">zone.c:794</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l04257">FS_Inflate()</a>.</p>

</div>
</div>
<a id="a0ec3d1b324c9c77f9f86c66a1ab40a4d" name="a0ec3d1b324c9c77f9f86c66a1ab40a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec3d1b324c9c77f9f86c66a1ab40a4d">&#9670;&#160;</a></span>COM_InsertFlags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> COM_InsertFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01893">1893</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1893</span>                                             {</div>
<div class="line"><span class="lineno"> 1894</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 1895</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>;</div>
<div class="line"><span class="lineno"> 1896</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> **<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_argv</a>;</div>
<div class="line"><span class="lineno"> 1897</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><span class="lineno"> 1898</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">args_left</a> = 256;</div>
<div class="line"><span class="lineno"> 1899</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_argv</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span> **)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>) * (<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">args_left</a> + 2));</div>
<div class="line"><span class="lineno"> 1900</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> == 0)</div>
<div class="line"><span class="lineno"> 1901</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_argv</a>[0] = <span class="stringliteral">&quot;dummy&quot;</span>;  <span class="comment">// Can&#39;t really happen.</span></div>
<div class="line"><span class="lineno"> 1902</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1903</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_argv</a>[0] = <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[0];</div>
<div class="line"><span class="lineno"> 1904</span>    ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1905</span>    p = <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno"> 1906</span>    <span class="keywordflow">while</span>(<a class="code hl_function" href="common_8c.html#a7d8e38022cb81cc407c53a1cb3b33866">COM_ParseToken_Console</a>(&amp;p))</div>
<div class="line"><span class="lineno"> 1907</span>    {</div>
<div class="line"><span class="lineno"> 1908</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>) + 1; <span class="comment">// shut up clang</span></div>
<div class="line"><span class="lineno"> 1909</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">args_left</a>)</div>
<div class="line"><span class="lineno"> 1910</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1911</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a>);</div>
<div class="line"><span class="lineno"> 1912</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a>);</div>
<div class="line"><span class="lineno"> 1913</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>;</div>
<div class="line"><span class="lineno"> 1914</span>        ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1915</span>    }</div>
<div class="line"><span class="lineno"> 1916</span>    <span class="comment">// Now: i &lt;= args_left + 1.</span></div>
<div class="line"><span class="lineno"> 1917</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> &gt;= 1)</div>
<div class="line"><span class="lineno"> 1918</span>    {</div>
<div class="line"><span class="lineno"> 1919</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>((<span class="keywordtype">char</span> *)(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), &amp;<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[1], <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>) * (<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> - 1));</div>
<div class="line"><span class="lineno"> 1920</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> - 1;</div>
<div class="line"><span class="lineno"> 1921</span>    }</div>
<div class="line"><span class="lineno"> 1922</span>    <span class="comment">// Now: i &lt;= args_left + (sys.argc || 1).</span></div>
<div class="line"><span class="lineno"> 1923</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1924</span>    <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_argv</a>;</div>
<div class="line"><span class="lineno"> 1925</span>    <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1926</span>}</div>
<div class="ttc" id="acommon_8c_html_a3eb222dff7f3bc0f6ce47f1e02df175e"><div class="ttname"><a href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a></div><div class="ttdeci">char com_token[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00039">common.c:39</a></div></div>
<div class="ttc" id="acommon_8c_html_a7d8e38022cb81cc407c53a1cb3b33866"><div class="ttname"><a href="common_8c.html#a7d8e38022cb81cc407c53a1cb3b33866">COM_ParseToken_Console</a></div><div class="ttdeci">qbool COM_ParseToken_Console(const char **datapointer)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00819">common.c:819</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00298">common.h:298</a></div></div>
<div class="ttc" id="afs_8c_html_acaa25479f01cbf5214475a82a0e44cb9"><div class="ttname"><a href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a></div><div class="ttdeci">mempool_t * fs_mempool</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00429">fs.c:429</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="astructsys__t_html_a4fa71494699d7e84d29a1fd218ec3421"><div class="ttname"><a href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">sys_t::argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00142">sys.h:142</a></div></div>
<div class="ttc" id="astructsys__t_html_a8ac88df433bcd8ffc0fbb42cf2cd5602"><div class="ttname"><a href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">sys_t::argv</a></div><div class="ttdeci">const char ** argv</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00143">sys.h:143</a></div></div>
<div class="ttc" id="asys_8h_html_ae590414a212a3043d2158012d0c93985"><div class="ttname"><a href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a></div><div class="ttdeci">sys_t sys</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00042">sys_shared.c:42</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02282">FS_Init_SelfPack()</a>.</p>

</div>
</div>
<a id="a2cba1fd1fb6bce9f310fa282318ccab4" name="a2cba1fd1fb6bce9f310fa282318ccab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cba1fd1fb6bce9f310fa282318ccab4">&#9670;&#160;</a></span>FILEDESC_DUP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> FILEDESC_DUP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00107">107</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>                                                                    {</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dup</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>);</div>
<div class="line"><span class="lineno">  109</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02503">FS_OpenPackedFile()</a>.</p>

</div>
</div>
<a id="a49a332b6db61069192753fc9f76c045c" name="a49a332b6db61069192753fc9f76c045c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a332b6db61069192753fc9f76c045c">&#9670;&#160;</a></span>FS_AddFileToPack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpackfile__t.html">packfile_t</a> * FS_AddFileToPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpack__t.html">pack_t</a> *&#160;</td>
          <td class="paramname"><em>pack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td>
          <td class="paramname"><em>packsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td>
          <td class="paramname"><em>realsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00949">949</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  952</span>{</div>
<div class="line"><span class="lineno">  953</span>    <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a>) (<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str1</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str2</a>);</div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordtype">int</span> left, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>;</div>
<div class="line"><span class="lineno">  955</span>    <a class="code hl_struct" href="structpackfile__t.html">packfile_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>;</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a> = pack-&gt;<a class="code hl_variable" href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">ignorecase</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>;</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>    <span class="comment">// Look for the slot we should put that file into (binary search)</span></div>
<div class="line"><span class="lineno">  960</span>    left = 0;</div>
<div class="line"><span class="lineno">  961</span>    <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a> = pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a> - 1;</div>
<div class="line"><span class="lineno">  962</span>    <span class="keywordflow">while</span> (left &lt;= <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>)</div>
<div class="line"><span class="lineno">  963</span>    {</div>
<div class="line"><span class="lineno">  964</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>;</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> = (left + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>) / 2;</div>
<div class="line"><span class="lineno">  967</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">files</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>].<a class="code hl_variable" href="structpackfile__t.html#a6927487c0c081c7a66f18a000ca557cb">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>        <span class="comment">// If we found the file, there&#39;s a problem</span></div>
<div class="line"><span class="lineno">  970</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>)</div>
<div class="line"><span class="lineno">  971</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;Package %s contains the file %s several times\n&quot;</span>, pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>        <span class="comment">// If we&#39;re too far in the list</span></div>
<div class="line"><span class="lineno">  974</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> &gt; 0)</div>
<div class="line"><span class="lineno">  975</span>            <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> - 1;</div>
<div class="line"><span class="lineno">  976</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  977</span>            left = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> + 1;</div>
<div class="line"><span class="lineno">  978</span>    }</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    <span class="comment">// We have to move the right of the list by one slot to free the one we need</span></div>
<div class="line"><span class="lineno">  981</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a> = &amp;pack-&gt;<a class="code hl_variable" href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">files</a>[left];</div>
<div class="line"><span class="lineno">  982</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memmove</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a> + 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>, (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a> - left) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>));</div>
<div class="line"><span class="lineno">  983</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a>++;</div>
<div class="line"><span class="lineno">  984</span> </div>
<div class="line"><span class="lineno">  985</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;name, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;name));</div>
<div class="line"><span class="lineno">  986</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;offset = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>;</div>
<div class="line"><span class="lineno">  987</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;packsize = packsize;</div>
<div class="line"><span class="lineno">  988</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;realsize = realsize;</div>
<div class="line"><span class="lineno">  989</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;flags = flags;</div>
<div class="line"><span class="lineno">  990</span> </div>
<div class="line"><span class="lineno">  991</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>;</div>
<div class="line"><span class="lineno">  992</span>}</div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="aglquake_8h_html_a9d8e5095d0454547c650ff9bde64f8e6"><div class="ttname"><a href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a></div><div class="ttdeci">GLuint GLuint GLintptr offset</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac615821e7cf9469189648617cb1275be"><div class="ttname"><a href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00600">glquake.h:600</a></div></div>
<div class="ttc" id="astructpack__t_html_a0a5041adb1336a5ff6b8a22a1fe80949"><div class="ttname"><a href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">pack_t::numfiles</a></div><div class="ttdeci">int numfiles</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00386">fs.c:386</a></div></div>
<div class="ttc" id="astructpack__t_html_a5b563db5e503f99e79551e95e6a43f05"><div class="ttname"><a href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">pack_t::ignorecase</a></div><div class="ttdeci">qbool ignorecase</div><div class="ttdoc">PK3 ignores case.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00385">fs.c:385</a></div></div>
<div class="ttc" id="astructpack__t_html_a76b35abdfd8ae20f73c1e0609d82629c"><div class="ttname"><a href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">pack_t::filename</a></div><div class="ttdeci">char filename[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00382">fs.c:382</a></div></div>
<div class="ttc" id="astructpack__t_html_af14c2561ac15ac82edb3172fade4f7d3"><div class="ttname"><a href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">pack_t::files</a></div><div class="ttdeci">packfile_t * files</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00389">fs.c:389</a></div></div>
<div class="ttc" id="astructpackfile__t_html"><div class="ttname"><a href="structpackfile__t.html">packfile_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00371">fs.c:372</a></div></div>
<div class="ttc" id="astructpackfile__t_html_a6927487c0c081c7a66f18a000ca557cb"><div class="ttname"><a href="structpackfile__t.html#a6927487c0c081c7a66f18a000ca557cb">packfile_t::name</a></div><div class="ttdeci">char name[MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00373">fs.c:373</a></div></div>
<div class="ttc" id="asv__user_8c_html_aa462954db5cc506fabe811dc11b3e1a4"><div class="ttname"><a href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a></div><div class="ttdeci">static vec3_t right</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00305">sv_user.c:305</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01089">FS_LoadPackPAK()</a>, and <a class="el" href="fs_8c_source.html#l00707">PK3_BuildFileList()</a>.</p>

</div>
</div>
<a id="a2c91d8e9313a2a5c190461e8e287f64f" name="a2c91d8e9313a2a5c190461e8e287f64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c91d8e9313a2a5c190461e8e287f64f">&#9670;&#160;</a></span>FS_AddGameDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_AddGameDirectory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>set_fs_gamedir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01348">1348</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1349</span>{</div>
<div class="line"><span class="lineno"> 1350</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1351</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> list;</div>
<div class="line"><span class="lineno"> 1352</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1353</span> </div>
<div class="line"><span class="lineno"> 1354</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">set_fs_gamedir</a>)</div>
<div class="line"><span class="lineno"> 1355</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a>));</div>
<div class="line"><span class="lineno"> 1356</span> </div>
<div class="line"><span class="lineno"> 1357</span>    <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;list);</div>
<div class="line"><span class="lineno"> 1358</span>    <a class="code hl_function" href="filematch_8c.html#aa59d9bf858a98da656f509fe40678be6">listdirectory</a>(&amp;list, <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>);</div>
<div class="line"><span class="lineno"> 1359</span>    <a class="code hl_function" href="filematch_8c.html#a3462b7b4d7253c46111da15a55b31906">stringlistsort</a>(&amp;list, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>    <span class="comment">// add any PAK package in the directory</span></div>
<div class="line"><span class="lineno"> 1362</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; list.<a class="code hl_variable" href="structstringlist__t.html#a3d32c6f326383f31d232751b91d7b605">numstrings</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1363</span>    {</div>
<div class="line"><span class="lineno"> 1364</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), <span class="stringliteral">&quot;pak&quot;</span>))</div>
<div class="line"><span class="lineno"> 1365</span>        {</div>
<div class="line"><span class="lineno"> 1366</span>            <a class="code hl_function" href="fs_8c.html#ae96b4f7b0ae6f10f156e53344ce289aa">FS_AddPack_Fullpath</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>), <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1367</span>        }</div>
<div class="line"><span class="lineno"> 1368</span>    }</div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span>    <span class="comment">// add any PK3 package in the directory</span></div>
<div class="line"><span class="lineno"> 1371</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; list.<a class="code hl_variable" href="structstringlist__t.html#a3d32c6f326383f31d232751b91d7b605">numstrings</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1372</span>    {</div>
<div class="line"><span class="lineno"> 1373</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), <span class="stringliteral">&quot;pk3&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), <span class="stringliteral">&quot;obb&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), <span class="stringliteral">&quot;pk3dir&quot;</span>)</div>
<div class="line"><span class="lineno"> 1374</span>            || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), <span class="stringliteral">&quot;dpk&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), <span class="stringliteral">&quot;dpkdir&quot;</span>))</div>
<div class="line"><span class="lineno"> 1375</span>        {</div>
<div class="line"><span class="lineno"> 1376</span>            <a class="code hl_function" href="fs_8c.html#ae96b4f7b0ae6f10f156e53344ce289aa">FS_AddPack_Fullpath</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>), <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1377</span>        }</div>
<div class="line"><span class="lineno"> 1378</span>    }</div>
<div class="line"><span class="lineno"> 1379</span> </div>
<div class="line"><span class="lineno"> 1380</span>    <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>(&amp;list);</div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span>    <span class="comment">// Add the directory to the search path</span></div>
<div class="line"><span class="lineno"> 1383</span>    <span class="comment">// (unpacked files have the priority over packed files)</span></div>
<div class="line"><span class="lineno"> 1384</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = (<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a>));</div>
<div class="line"><span class="lineno"> 1385</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename));</div>
<div class="line"><span class="lineno"> 1386</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;next = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;</div>
<div class="line"><span class="lineno"> 1387</span>    <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1388</span>}</div>
<div class="ttc" id="afilematch_8c_html_a01e600ee2a0c86b043bcf414084bc3d9"><div class="ttname"><a href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a></div><div class="ttdeci">void stringlistfreecontents(stringlist_t *list)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00087">filematch.c:87</a></div></div>
<div class="ttc" id="afilematch_8c_html_a2b0cdef5c25791847049fed8d04fa73d"><div class="ttname"><a href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a></div><div class="ttdeci">void stringlistinit(stringlist_t *list)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00082">filematch.c:82</a></div></div>
<div class="ttc" id="afilematch_8c_html_a3462b7b4d7253c46111da15a55b31906"><div class="ttname"><a href="filematch_8c.html#a3462b7b4d7253c46111da15a55b31906">stringlistsort</a></div><div class="ttdeci">void stringlistsort(stringlist_t *list, qbool uniq)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00129">filematch.c:129</a></div></div>
<div class="ttc" id="afilematch_8c_html_aa59d9bf858a98da656f509fe40678be6"><div class="ttname"><a href="filematch_8c.html#aa59d9bf858a98da656f509fe40678be6">listdirectory</a></div><div class="ttdeci">void listdirectory(stringlist_t *list, const char *basepath, const char *path)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00198">filematch.c:198</a></div></div>
<div class="ttc" id="afs_8c_html_a03ffae625c1150af52b17342c57425ac"><div class="ttname"><a href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a></div><div class="ttdeci">const char * FS_FileExtension(const char *in)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01412">fs.c:1412</a></div></div>
<div class="ttc" id="afs_8c_html_a0a0d4940920cae5cd03989225834c4bb"><div class="ttname"><a href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a></div><div class="ttdeci">char fs_gamedir[MAX_OSPATH]</div><div class="ttdoc">Files will be saved in this gamedir.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00438">fs.c:438</a></div></div>
<div class="ttc" id="afs_8c_html_a708b7c81b06465508d84fee7e40aa257"><div class="ttname"><a href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a></div><div class="ttdeci">searchpath_t * fs_searchpaths</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00432">fs.c:432</a></div></div>
<div class="ttc" id="afs_8c_html_ae96b4f7b0ae6f10f156e53344ce289aa"><div class="ttname"><a href="fs_8c.html#ae96b4f7b0ae6f10f156e53344ce289aa">FS_AddPack_Fullpath</a></div><div class="ttdeci">static qbool FS_AddPack_Fullpath(const char *pakfile, const char *shortname, qbool *already_loaded, qbool keep_plain_dirs, qbool dlcache)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01202">fs.c:1202</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a4ca269cf93df1b512b52174c1a256fe5"><div class="ttname"><a href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a></div><div class="ttdeci">vec2 dir</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00281">shader_glsl.h:281</a></div></div>
<div class="ttc" id="astructsearchpath__t_html"><div class="ttname"><a href="structsearchpath__t.html">searchpath_t</a></div><div class="ttdoc">Search paths for files (including packages)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00394">fs.c:395</a></div></div>
<div class="ttc" id="astructstringlist__t_html"><div class="ttname"><a href="structstringlist__t.html">stringlist_t</a></div><div class="ttdef"><b>Definition</b> <a href="filematch_8h_source.html#l00026">filematch.h:27</a></div></div>
<div class="ttc" id="astructstringlist__t_html_a37587f484618c093ad8a522e3a1d53c0"><div class="ttname"><a href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">stringlist_t::strings</a></div><div class="ttdeci">char ** strings</div><div class="ttdef"><b>Definition</b> <a href="filematch_8h_source.html#l00031">filematch.h:31</a></div></div>
<div class="ttc" id="astructstringlist__t_html_a3d32c6f326383f31d232751b91d7b605"><div class="ttname"><a href="structstringlist__t.html#a3d32c6f326383f31d232751b91d7b605">stringlist_t::numstrings</a></div><div class="ttdeci">int numstrings</div><div class="ttdef"><b>Definition</b> <a href="filematch_8h_source.html#l00030">filematch.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01396">FS_AddGameHierarchy()</a>.</p>

</div>
</div>
<a id="a8c576745f65f4843ba073f977b97db84" name="a8c576745f65f4843ba073f977b97db84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c576745f65f4843ba073f977b97db84">&#9670;&#160;</a></span>FS_AddGameHierarchy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_AddGameHierarchy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>set_fs_gamedir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01396">1396</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1397</span>{</div>
<div class="line"><span class="lineno"> 1398</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1399</span>    <span class="comment">// Add the common game directory</span></div>
<div class="line"><span class="lineno"> 1400</span>    <a class="code hl_function" href="fs_8c.html#a2c91d8e9313a2a5c190461e8e287f64f">FS_AddGameDirectory</a> (<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">set_fs_gamedir</a>);</div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>)</div>
<div class="line"><span class="lineno"> 1403</span>        <a class="code hl_function" href="fs_8c.html#a2c91d8e9313a2a5c190461e8e287f64f">FS_AddGameDirectory</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">set_fs_gamedir</a>);</div>
<div class="line"><span class="lineno"> 1404</span>}</div>
<div class="ttc" id="acommon_8c_html_a4a8220fa88226bf9cf39b12a051a20d7"><div class="ttname"><a href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a></div><div class="ttdeci">char * va(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00972">common.c:972</a></div></div>
<div class="ttc" id="afs_8c_html_a2c91d8e9313a2a5c190461e8e287f64f"><div class="ttname"><a href="fs_8c.html#a2c91d8e9313a2a5c190461e8e287f64f">FS_AddGameDirectory</a></div><div class="ttdeci">static void FS_AddGameDirectory(const char *dir, qbool set_fs_gamedir)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01348">fs.c:1348</a></div></div>
<div class="ttc" id="afs_8c_html_ad14136292432bbbe329d4ab28ea04b37"><div class="ttname"><a href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a></div><div class="ttdeci">char fs_basedir[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00439">fs.c:439</a></div></div>
<div class="ttc" id="afs_8c_html_afffc20194b866aa9ea07bed3f2c5a30d"><div class="ttname"><a href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a></div><div class="ttdeci">char fs_userdir[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00437">fs.c:437</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>.</p>

</div>
</div>
<a id="a87fce57e0194dccb6e05b7bd04150d33" name="a87fce57e0194dccb6e05b7bd04150d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87fce57e0194dccb6e05b7bd04150d33">&#9670;&#160;</a></span>FS_AddPack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_AddPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pakfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> *&#160;</td>
          <td class="paramname"><em>already_loaded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>keep_plain_dirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>dlcache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the given pack to the search path and searches for it in the game path. The pack type is autodetected by the file extension.</p>
<p>Returns true if the file was successfully added to the search path or if it was already included.</p>
<p>If keep_plain_dirs is set, the pack will be added AFTER the first sequence of plain directories. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01317">1317</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1318</span>{</div>
<div class="line"><span class="lineno"> 1319</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 1320</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>;</div>
<div class="line"><span class="lineno"> 1321</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1322</span> </div>
<div class="line"><span class="lineno"> 1323</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>)</div>
<div class="line"><span class="lineno"> 1324</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1325</span> </div>
<div class="line"><span class="lineno"> 1326</span>    <span class="comment">// then find the real name...</span></div>
<div class="line"><span class="lineno"> 1327</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1328</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack)</div>
<div class="line"><span class="lineno"> 1329</span>    {</div>
<div class="line"><span class="lineno"> 1330</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;could not find pak \&quot;%s\&quot;\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1331</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1332</span>    }</div>
<div class="line"><span class="lineno"> 1333</span> </div>
<div class="line"><span class="lineno"> 1334</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1335</span> </div>
<div class="line"><span class="lineno"> 1336</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ae96b4f7b0ae6f10f156e53344ce289aa">FS_AddPack_Fullpath</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keep_plain_dirs</a>, dlcache);</div>
<div class="line"><span class="lineno"> 1337</span>}</div>
<div class="ttc" id="acommon_8c_html_ae36050083f45e395189fee6aa45fbb0c"><div class="ttname"><a href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a></div><div class="ttdeci">int dpsnprintf(char *buffer, size_t buffersize, const char *format,...)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00997">common.c:997</a></div></div>
<div class="ttc" id="afs_8c_html_a31ca66034633d9f05e8c7199d4494f53"><div class="ttname"><a href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a></div><div class="ttdeci">static searchpath_t * FS_FindFile(const char *name, int *index, const char **canonicalname, qbool quiet)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02675">fs.c:2675</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a1d63847eb5a8c046655fe8ba8a3ff85b"><div class="ttname"><a href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a></div><div class="ttdeci">#define MAX_OSPATH</div><div class="ttdoc">max length of a filesystem pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00175">qdefs.h:175</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, and <a class="el" href="libcurl_8c_source.html#l00521">Curl_EndDownload()</a>.</p>

</div>
</div>
<a id="ae96b4f7b0ae6f10f156e53344ce289aa" name="ae96b4f7b0ae6f10f156e53344ce289aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96b4f7b0ae6f10f156e53344ce289aa">&#9670;&#160;</a></span>FS_AddPack_Fullpath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_AddPack_Fullpath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pakfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>shortname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> *&#160;</td>
          <td class="paramname"><em>already_loaded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>keep_plain_dirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>dlcache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds the given pack to the search path. The pack type is autodetected by the file extension.</p>
<p>Returns true if the file was successfully added to the search path or if it was already included.</p>
<p>If keep_plain_dirs is set, the pack will be added AFTER the first sequence of plain directories. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01202">1202</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1203</span>{</div>
<div class="line"><span class="lineno"> 1204</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1205</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1206</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ext</a> = <a class="code hl_function" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1207</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><span class="lineno"> 1208</span> </div>
<div class="line"><span class="lineno"> 1209</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>)</div>
<div class="line"><span class="lineno"> 1210</span>    {</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>))</div>
<div class="line"><span class="lineno"> 1212</span>        {</div>
<div class="line"><span class="lineno"> 1213</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>)</div>
<div class="line"><span class="lineno"> 1214</span>                *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1215</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// already loaded</span></div>
<div class="line"><span class="lineno"> 1216</span>        }</div>
<div class="line"><span class="lineno"> 1217</span>    }</div>
<div class="line"><span class="lineno"> 1218</span> </div>
<div class="line"><span class="lineno"> 1219</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a>)</div>
<div class="line"><span class="lineno"> 1220</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">already_loaded</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1221</span> </div>
<div class="line"><span class="lineno"> 1222</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ext</a>, <span class="stringliteral">&quot;pk3dir&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ext</a>, <span class="stringliteral">&quot;dpkdir&quot;</span>))</div>
<div class="line"><span class="lineno"> 1223</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_function" href="fs_8c.html#ae7e308a0ba3ffa91dab5e0e09cf1daf7">FS_LoadPackVirtual</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ext</a>, <span class="stringliteral">&quot;pak&quot;</span>))</div>
<div class="line"><span class="lineno"> 1225</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_function" href="fs_8c.html#aedf40bc5527f3118146b4a95b35ec20f">FS_LoadPackPAK</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1226</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ext</a>, <span class="stringliteral">&quot;pk3&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ext</a>, <span class="stringliteral">&quot;dpk&quot;</span>))</div>
<div class="line"><span class="lineno"> 1227</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_function" href="fs_8c.html#ac8d988fb6eae9039af1a98a2bbf12c69">FS_LoadPackPK3</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1228</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ext</a>, <span class="stringliteral">&quot;obb&quot;</span>)) <span class="comment">// android apk expansion</span></div>
<div class="line"><span class="lineno"> 1229</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_function" href="fs_8c.html#ac8d988fb6eae9039af1a98a2bbf12c69">FS_LoadPackPK3</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1230</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1231</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;\&quot;%s\&quot; does not have a pack extension\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>)</div>
<div class="line"><span class="lineno"> 1234</span>    {</div>
<div class="line"><span class="lineno"> 1235</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;shortname, shortname, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;shortname));</div>
<div class="line"><span class="lineno"> 1236</span> </div>
<div class="line"><span class="lineno"> 1237</span>        <span class="comment">//Con_DPrintf(&quot;  Registered pack with short name %s\n&quot;, shortname);</span></div>
<div class="line"><span class="lineno"> 1238</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keep_plain_dirs</a>)</div>
<div class="line"><span class="lineno"> 1239</span>        {</div>
<div class="line"><span class="lineno"> 1240</span>            <span class="comment">// find the first item whose next one is a pack or NULL</span></div>
<div class="line"><span class="lineno"> 1241</span>            <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a> = 0;</div>
<div class="line"><span class="lineno"> 1242</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> &amp;&amp; !<a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">pack</a>)</div>
<div class="line"><span class="lineno"> 1243</span>            {</div>
<div class="line"><span class="lineno"> 1244</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;</div>
<div class="line"><span class="lineno"> 1245</span>                <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno"> 1246</span>                {</div>
<div class="line"><span class="lineno"> 1247</span>                    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a>-&gt;next)</div>
<div class="line"><span class="lineno"> 1248</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1249</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a>-&gt;next-&gt;pack)</div>
<div class="line"><span class="lineno"> 1250</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1251</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>;</div>
<div class="line"><span class="lineno"> 1252</span>                }</div>
<div class="line"><span class="lineno"> 1253</span>            }</div>
<div class="line"><span class="lineno"> 1254</span>            <span class="comment">// If insertion_point is NULL, this means that either there is no</span></div>
<div class="line"><span class="lineno"> 1255</span>            <span class="comment">// item in the list yet, or that the very first item is a pack. In</span></div>
<div class="line"><span class="lineno"> 1256</span>            <span class="comment">// that case, we want to insert at the beginning...</span></div>
<div class="line"><span class="lineno"> 1257</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a>)</div>
<div class="line"><span class="lineno"> 1258</span>            {</div>
<div class="line"><span class="lineno"> 1259</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = (<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a>));</div>
<div class="line"><span class="lineno"> 1260</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;next = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;</div>
<div class="line"><span class="lineno"> 1261</span>                <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1262</span>            }</div>
<div class="line"><span class="lineno"> 1263</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1264</span>            <span class="comment">// otherwise we want to append directly after insertion_point.</span></div>
<div class="line"><span class="lineno"> 1265</span>            {</div>
<div class="line"><span class="lineno"> 1266</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = (<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a>));</div>
<div class="line"><span class="lineno"> 1267</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a>-&gt;next;</div>
<div class="line"><span class="lineno"> 1268</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">insertion_point</a>-&gt;next = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1269</span>            }</div>
<div class="line"><span class="lineno"> 1270</span>        }</div>
<div class="line"><span class="lineno"> 1271</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1272</span>        {</div>
<div class="line"><span class="lineno"> 1273</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = (<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a>));</div>
<div class="line"><span class="lineno"> 1274</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;next = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;</div>
<div class="line"><span class="lineno"> 1275</span>            <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1276</span>        }</div>
<div class="line"><span class="lineno"> 1277</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">pack</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>;</div>
<div class="line"><span class="lineno"> 1278</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;<a class="code hl_variable" href="structpack__t.html#a169fb02484631a1f867d3cb04ecac1f6">dlcache</a> = dlcache;</div>
<div class="line"><span class="lineno"> 1279</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;vpack)</div>
<div class="line"><span class="lineno"> 1280</span>        {</div>
<div class="line"><span class="lineno"> 1281</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename), <span class="stringliteral">&quot;%s/&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1282</span>            <span class="comment">// if shortname ends with &quot;pk3dir&quot; or &quot;dpkdir&quot;, strip that suffix to make it just &quot;pk3&quot; or &quot;dpk&quot;</span></div>
<div class="line"><span class="lineno"> 1283</span>            <span class="comment">// same goes for the name inside the pack structure</span></div>
<div class="line"><span class="lineno"> 1284</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;shortname);</div>
<div class="line"><span class="lineno"> 1285</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> &gt;= 7)</div>
<div class="line"><span class="lineno"> 1286</span>                <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;shortname + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> - 7, <span class="stringliteral">&quot;.pk3dir&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;shortname + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> - 7, <span class="stringliteral">&quot;.dpkdir&quot;</span>))</div>
<div class="line"><span class="lineno"> 1287</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;shortname[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> - 3] = 0;</div>
<div class="line"><span class="lineno"> 1288</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;filename);</div>
<div class="line"><span class="lineno"> 1289</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> &gt;= 7)</div>
<div class="line"><span class="lineno"> 1290</span>                <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;filename + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> - 7, <span class="stringliteral">&quot;.pk3dir&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;filename + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> - 7, <span class="stringliteral">&quot;.dpkdir&quot;</span>))</div>
<div class="line"><span class="lineno"> 1291</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;filename[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> - 3] = 0;</div>
<div class="line"><span class="lineno"> 1292</span>        }</div>
<div class="line"><span class="lineno"> 1293</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1294</span>    }</div>
<div class="line"><span class="lineno"> 1295</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1296</span>    {</div>
<div class="line"><span class="lineno"> 1297</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;unable to load pak \&quot;%s\&quot;\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pakfile</a>);</div>
<div class="line"><span class="lineno"> 1298</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1299</span>    }</div>
<div class="line"><span class="lineno"> 1300</span>}</div>
<div class="ttc" id="aconsole_8h_html_ae151ed35a905aff75d5f5dc32cd965bb"><div class="ttname"><a href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a></div><div class="ttdeci">#define CON_ERROR</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00097">console.h:97</a></div></div>
<div class="ttc" id="afs_8c_html_ac8d988fb6eae9039af1a98a2bbf12c69"><div class="ttname"><a href="fs_8c.html#ac8d988fb6eae9039af1a98a2bbf12c69">FS_LoadPackPK3</a></div><div class="ttdeci">static pack_t * FS_LoadPackPK3(const char *packfile)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00886">fs.c:886</a></div></div>
<div class="ttc" id="afs_8c_html_ae7e308a0ba3ffa91dab5e0e09cf1daf7"><div class="ttname"><a href="fs_8c.html#ae7e308a0ba3ffa91dab5e0e09cf1daf7">FS_LoadPackVirtual</a></div><div class="ttdeci">static pack_t * FS_LoadPackVirtual(const char *dirname)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01173">fs.c:1173</a></div></div>
<div class="ttc" id="afs_8c_html_aedf40bc5527f3118146b4a95b35ec20f"><div class="ttname"><a href="fs_8c.html#aedf40bc5527f3118146b4a95b35ec20f">FS_LoadPackPAK</a></div><div class="ttdeci">static pack_t * FS_LoadPackPAK(const char *packfile)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01089">fs.c:1089</a></div></div>
<div class="ttc" id="astructpack__t_html"><div class="ttname"><a href="structpack__t.html">pack_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00380">fs.c:381</a></div></div>
<div class="ttc" id="astructpack__t_html_a169fb02484631a1f867d3cb04ecac1f6"><div class="ttname"><a href="structpack__t.html#a169fb02484631a1f867d3cb04ecac1f6">pack_t::dlcache</a></div><div class="ttdeci">qbool dlcache</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00388">fs.c:388</a></div></div>
<div class="ttc" id="astructsearchpath__t_html_a5ac5f36b61b9066da0fb0c80336ba6b9"><div class="ttname"><a href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">searchpath_t::pack</a></div><div class="ttdeci">pack_t * pack</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00398">fs.c:398</a></div></div>
<div class="ttc" id="astructsearchpath__t_html_a628ca8e964d0cae9ae487a94de235235"><div class="ttname"><a href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">searchpath_t::next</a></div><div class="ttdeci">struct searchpath_s * next</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00399">fs.c:399</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01348">FS_AddGameDirectory()</a>, and <a class="el" href="fs_8c_source.html#l01317">FS_AddPack()</a>.</p>

</div>
</div>
<a id="a764b9be01a515113f590f26417b3bdc1" name="a764b9be01a515113f590f26417b3bdc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a764b9be01a515113f590f26417b3bdc1">&#9670;&#160;</a></span>FS_AddSelfPack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_AddSelfPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01528">1528</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1529</span>{</div>
<div class="line"><span class="lineno"> 1530</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a>)</div>
<div class="line"><span class="lineno"> 1531</span>    {</div>
<div class="line"><span class="lineno"> 1532</span>        <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1533</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = (<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a>));</div>
<div class="line"><span class="lineno"> 1534</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;</div>
<div class="line"><span class="lineno"> 1535</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">pack</a> = <a class="code hl_variable" href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a>;</div>
<div class="line"><span class="lineno"> 1536</span>        <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1537</span>    }</div>
<div class="line"><span class="lineno"> 1538</span>}</div>
<div class="ttc" id="afs_8c_html_ac5556a951783a7a5154a770f880b27ef"><div class="ttname"><a href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a></div><div class="ttdeci">static pack_t * fs_selfpack</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00440">fs.c:440</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02282">FS_Init_SelfPack()</a>, and <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>.</p>

</div>
</div>
<a id="ad8f17eb38854c4515cd715413bb8a795" name="ad8f17eb38854c4515cd715413bb8a795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f17eb38854c4515cd715413bb8a795">&#9670;&#160;</a></span>FS_ChangeGameDirs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_ChangeGameDirs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>numgamedirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td>
          <td class="paramname"><em>gamedirs</em>[][MAX_QPATH], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>complain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>failmissing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01662">1662</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1663</span>{</div>
<div class="line"><span class="lineno"> 1664</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1665</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 1666</span> </div>
<div class="line"><span class="lineno"> 1667</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a> == numgamedirs)</div>
<div class="line"><span class="lineno"> 1668</span>    {</div>
<div class="line"><span class="lineno"> 1669</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numgamedirs;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1670</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><span class="lineno"> 1671</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1672</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == numgamedirs)</div>
<div class="line"><span class="lineno"> 1673</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// already using this set of gamedirs, do nothing</span></div>
<div class="line"><span class="lineno"> 1674</span>    }</div>
<div class="line"><span class="lineno"> 1675</span> </div>
<div class="line"><span class="lineno"> 1676</span>    <span class="keywordflow">if</span> (numgamedirs &gt; <a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>)</div>
<div class="line"><span class="lineno"> 1677</span>    {</div>
<div class="line"><span class="lineno"> 1678</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">complain</a>)</div>
<div class="line"><span class="lineno"> 1679</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;That is too many gamedirs (%i &gt; %i)\n&quot;</span>, numgamedirs, <a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>);</div>
<div class="line"><span class="lineno"> 1680</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// too many gamedirs</span></div>
<div class="line"><span class="lineno"> 1681</span>    }</div>
<div class="line"><span class="lineno"> 1682</span> </div>
<div class="line"><span class="lineno"> 1683</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numgamedirs;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1684</span>    {</div>
<div class="line"><span class="lineno"> 1685</span>        <span class="comment">// if string is nasty, reject it</span></div>
<div class="line"><span class="lineno"> 1686</span>        p = <a class="code hl_function" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a>(gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1687</span>        <span class="keywordflow">if</span>(!p)</div>
<div class="line"><span class="lineno"> 1688</span>        {</div>
<div class="line"><span class="lineno"> 1689</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">complain</a>)</div>
<div class="line"><span class="lineno"> 1690</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Nasty gamedir name rejected: %s\n&quot;</span>, gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1691</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// nasty gamedirs</span></div>
<div class="line"><span class="lineno"> 1692</span>        }</div>
<div class="line"><span class="lineno"> 1693</span>        <span class="keywordflow">if</span>(p == <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">failmissing</a>)</div>
<div class="line"><span class="lineno"> 1694</span>        {</div>
<div class="line"><span class="lineno"> 1695</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">complain</a>)</div>
<div class="line"><span class="lineno"> 1696</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Gamedir missing: %s%s/\n&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1697</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// missing gamedirs</span></div>
<div class="line"><span class="lineno"> 1698</span>        }</div>
<div class="line"><span class="lineno"> 1699</span>    }</div>
<div class="line"><span class="lineno"> 1700</span> </div>
<div class="line"><span class="lineno"> 1701</span>    <a class="code hl_function" href="host_8c.html#ab875d82ae7b85a4f3fd57d12983f1f72">Host_SaveConfig</a>(<a class="code hl_define" href="quakedef_8h.html#ae99ca2d2731dcecf9670d172003c467c">CONFIGFILENAME</a>);</div>
<div class="line"><span class="lineno"> 1702</span> </div>
<div class="line"><span class="lineno"> 1703</span>    <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a> = numgamedirs;</div>
<div class="line"><span class="lineno"> 1704</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1705</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]));</div>
<div class="line"><span class="lineno"> 1706</span> </div>
<div class="line"><span class="lineno"> 1707</span>    <span class="comment">// reinitialize filesystem to detect the new paks</span></div>
<div class="line"><span class="lineno"> 1708</span>    <a class="code hl_function" href="fs_8c.html#a2790033183896d4ab46de75305b40786">FS_Rescan</a>();</div>
<div class="line"><span class="lineno"> 1709</span> </div>
<div class="line"><span class="lineno"> 1710</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">demoplayback</a>)</div>
<div class="line"><span class="lineno"> 1711</span>    {</div>
<div class="line"><span class="lineno"> 1712</span>        <a class="code hl_function" href="cl__main_8c.html#ac60fa6234ccc6c540d448a7608d36d8a">CL_Disconnect</a>();</div>
<div class="line"><span class="lineno"> 1713</span>        <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a63d6279dcddd073e17a9ed918562c406">demonum</a> = 0;</div>
<div class="line"><span class="lineno"> 1714</span>    }</div>
<div class="line"><span class="lineno"> 1715</span> </div>
<div class="line"><span class="lineno"> 1716</span>    <span class="comment">// unload all sounds so they will be reloaded from the new files as needed</span></div>
<div class="line"><span class="lineno"> 1717</span>    <a class="code hl_function" href="snd__main_8c.html#acbe4c2fdbb825740a471b2c2614b4e5f">S_UnloadAllSounds_f</a>(<a class="code hl_variable" href="cmd_8c.html#aa617fb9e2fe1edc8bd6ce0fafccd3626">cmd_local</a>);</div>
<div class="line"><span class="lineno"> 1718</span> </div>
<div class="line"><span class="lineno"> 1719</span>    <span class="comment">// reset everything that can be and reload configs</span></div>
<div class="line"><span class="lineno"> 1720</span>    <a class="code hl_function" href="cmd_8c.html#a3f0dd749a96e838a2cfe8cc89ed78b36">Cbuf_InsertText</a>(<a class="code hl_variable" href="cmd_8c.html#aa617fb9e2fe1edc8bd6ce0fafccd3626">cmd_local</a>, <span class="stringliteral">&quot;\nloadconfig\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1721</span> </div>
<div class="line"><span class="lineno"> 1722</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1723</span>}</div>
<div class="ttc" id="acl__main_8c_html_ab4b4e0f12a72d330ee0869bdf1b372cd"><div class="ttname"><a href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a></div><div class="ttdeci">client_static_t cls</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00114">cl_main.c:114</a></div></div>
<div class="ttc" id="acl__main_8c_html_ac60fa6234ccc6c540d448a7608d36d8a"><div class="ttname"><a href="cl__main_8c.html#ac60fa6234ccc6c540d448a7608d36d8a">CL_Disconnect</a></div><div class="ttdeci">void CL_Disconnect(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00476">cl_main.c:476</a></div></div>
<div class="ttc" id="acmd_8c_html_a3f0dd749a96e838a2cfe8cc89ed78b36"><div class="ttname"><a href="cmd_8c.html#a3f0dd749a96e838a2cfe8cc89ed78b36">Cbuf_InsertText</a></div><div class="ttdeci">void Cbuf_InsertText(cmd_state_t *cmd, const char *text)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l00292">cmd.c:292</a></div></div>
<div class="ttc" id="acmd_8c_html_aa617fb9e2fe1edc8bd6ce0fafccd3626"><div class="ttname"><a href="cmd_8c.html#aa617fb9e2fe1edc8bd6ce0fafccd3626">cmd_local</a></div><div class="ttdeci">cmd_state_t * cmd_local</div><div class="ttdoc">command interpreter for local commands injected by SVQC, CSQC, MQC, server or client engine code uses...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l00025">cmd.c:25</a></div></div>
<div class="ttc" id="afs_8c_html_a1ae37afe19022713da1c41aaf8e74b8a"><div class="ttname"><a href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a></div><div class="ttdeci">char fs_gamedirs[MAX_GAMEDIRS][MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00444">fs.c:444</a></div></div>
<div class="ttc" id="afs_8c_html_a2790033183896d4ab46de75305b40786"><div class="ttname"><a href="fs_8c.html#a2790033183896d4ab46de75305b40786">FS_Rescan</a></div><div class="ttdeci">void FS_Rescan(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01546">fs.c:1546</a></div></div>
<div class="ttc" id="afs_8c_html_a360bff9bae9632be880e851386abfa23"><div class="ttname"><a href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a></div><div class="ttdeci">const char * FS_CheckGameDir(const char *gamedir)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01806">fs.c:1806</a></div></div>
<div class="ttc" id="afs_8c_html_acb0173e463d50a2da05a01efcb48670b"><div class="ttname"><a href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a></div><div class="ttdeci">const char *const fs_checkgamedir_missing</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00433">fs.c:433</a></div></div>
<div class="ttc" id="afs_8c_html_adda51408d01fe25b934e4fd7b21a9698"><div class="ttname"><a href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a></div><div class="ttdeci">int fs_numgamedirs</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00443">fs.c:443</a></div></div>
<div class="ttc" id="afs_8h_html_a28d7415b6e8333c22d3d5d842543669d"><div class="ttname"><a href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a></div><div class="ttdeci">#define MAX_GAMEDIRS</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00046">fs.h:46</a></div></div>
<div class="ttc" id="ahost_8c_html_ab875d82ae7b85a4f3fd57d12983f1f72"><div class="ttname"><a href="host_8c.html#ab875d82ae7b85a4f3fd57d12983f1f72">Host_SaveConfig</a></div><div class="ttdeci">void Host_SaveConfig(const char *file)</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00190">host.c:190</a></div></div>
<div class="ttc" id="aquakedef_8h_html_ae99ca2d2731dcecf9670d172003c467c"><div class="ttname"><a href="quakedef_8h.html#ae99ca2d2731dcecf9670d172003c467c">CONFIGFILENAME</a></div><div class="ttdeci">#define CONFIGFILENAME</div><div class="ttdef"><b>Definition</b> <a href="quakedef_8h_source.html#l00029">quakedef.h:29</a></div></div>
<div class="ttc" id="asnd__main_8c_html_acbe4c2fdbb825740a471b2c2614b4e5f"><div class="ttname"><a href="snd__main_8c.html#acbe4c2fdbb825740a471b2c2614b4e5f">S_UnloadAllSounds_f</a></div><div class="ttdeci">void S_UnloadAllSounds_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="snd__main_8c_source.html#l00867">snd_main.c:867</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a10140c26db835d333d65d68b530a6ddb"><div class="ttname"><a href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">client_static_t::demoplayback</a></div><div class="ttdeci">qbool demoplayback</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00588">client.h:588</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a63d6279dcddd073e17a9ed918562c406"><div class="ttname"><a href="structclient__static__t.html#a63d6279dcddd073e17a9ed918562c406">client_static_t::demonum</a></div><div class="ttdeci">int demonum</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00577">client.h:577</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="fs_8c_source.html#l01730">FS_GameDir_f()</a>, and <a class="el" href="menu_8c_source.html#l04574">ModList_Enable()</a>.</p>

</div>
</div>
<a id="a360bff9bae9632be880e851386abfa23" name="a360bff9bae9632be880e851386abfa23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360bff9bae9632be880e851386abfa23">&#9670;&#160;</a></span>FS_CheckGameDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_CheckGameDir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>gamedir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01806">1806</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1807</span>{</div>
<div class="line"><span class="lineno"> 1808</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 1809</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[8192];</div>
<div class="line"><span class="lineno"> 1810</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1811</span> </div>
<div class="line"><span class="lineno"> 1812</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a>(gamedir, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1813</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1814</span> </div>
<div class="line"><span class="lineno"> 1815</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>, gamedir), <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>));</div>
<div class="line"><span class="lineno"> 1816</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 1817</span>    {</div>
<div class="line"><span class="lineno"> 1818</span>        <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 1819</span>        {</div>
<div class="line"><span class="lineno"> 1820</span>            <span class="comment">// get description from basedir</span></div>
<div class="line"><span class="lineno"> 1821</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, gamedir), <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>));</div>
<div class="line"><span class="lineno"> 1822</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 1823</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 1824</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1825</span>        }</div>
<div class="line"><span class="lineno"> 1826</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 1827</span>    }</div>
<div class="line"><span class="lineno"> 1828</span> </div>
<div class="line"><span class="lineno"> 1829</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, gamedir), <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>));</div>
<div class="line"><span class="lineno"> 1830</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 1831</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 1832</span> </div>
<div class="line"><span class="lineno"> 1833</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a>;</div>
<div class="line"><span class="lineno"> 1834</span>}</div>
<div class="ttc" id="afs_8c_html_a6dd81e13d3ce687a1321e09713158682"><div class="ttname"><a href="fs_8c.html#a6dd81e13d3ce687a1321e09713158682">FS_SysCheckGameDir</a></div><div class="ttdeci">static const char * FS_SysCheckGameDir(const char *gamedir, char *buf, size_t buflength)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01768">fs.c:1768</a></div></div>
<div class="ttc" id="afs_8c_html_ae0629b94b2f8803b95c72571ac6f1558"><div class="ttname"><a href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a></div><div class="ttdeci">int FS_CheckNastyPath(const char *path, qbool isgamedir)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02603">fs.c:2603</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a339672ff94e6199019102f50d317c3d7"><div class="ttname"><a href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a></div><div class="ttdeci">return ret</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00297">shader_glsl.h:297</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01662">FS_ChangeGameDirs()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l01836">FS_ListGameDirs()</a>, and <a class="el" href="menu_8c_source.html#l04531">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="ae0629b94b2f8803b95c72571ac6f1558" name="ae0629b94b2f8803b95c72571ac6f1558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0629b94b2f8803b95c72571ac6f1558">&#9670;&#160;</a></span>FS_CheckNastyPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_CheckNastyPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>isgamedir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02603">2603</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2604</span>{</div>
<div class="line"><span class="lineno"> 2605</span>    <span class="comment">// all: never allow an empty path, as for gamedir it would access the parent directory and a non-gamedir path it is just useless</span></div>
<div class="line"><span class="lineno"> 2606</span>    <span class="keywordflow">if</span> (!path[0])</div>
<div class="line"><span class="lineno"> 2607</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 2608</span> </div>
<div class="line"><span class="lineno"> 2609</span>    <span class="comment">// Windows: don&#39;t allow \ in filenames (windows-only), period.</span></div>
<div class="line"><span class="lineno"> 2610</span>    <span class="comment">// (on Windows \ is a directory separator, but / is also supported)</span></div>
<div class="line"><span class="lineno"> 2611</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;\\&quot;</span>))</div>
<div class="line"><span class="lineno"> 2612</span>        <span class="keywordflow">return</span> 1; <span class="comment">// non-portable</span></div>
<div class="line"><span class="lineno"> 2613</span> </div>
<div class="line"><span class="lineno"> 2614</span>    <span class="comment">// Mac: don&#39;t allow Mac-only filenames - : is a directory separator</span></div>
<div class="line"><span class="lineno"> 2615</span>    <span class="comment">// instead of /, but we rely on / working already, so there&#39;s no reason to</span></div>
<div class="line"><span class="lineno"> 2616</span>    <span class="comment">// support a Mac-only path</span></div>
<div class="line"><span class="lineno"> 2617</span>    <span class="comment">// Amiga and Windows: : tries to go to root of drive</span></div>
<div class="line"><span class="lineno"> 2618</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;:&quot;</span>))</div>
<div class="line"><span class="lineno"> 2619</span>        <span class="keywordflow">return</span> 1; <span class="comment">// non-portable attempt to go to root of drive</span></div>
<div class="line"><span class="lineno"> 2620</span> </div>
<div class="line"><span class="lineno"> 2621</span>    <span class="comment">// Amiga: // is parent directory</span></div>
<div class="line"><span class="lineno"> 2622</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;//&quot;</span>))</div>
<div class="line"><span class="lineno"> 2623</span>        <span class="keywordflow">return</span> 1; <span class="comment">// non-portable attempt to go to parent directory</span></div>
<div class="line"><span class="lineno"> 2624</span> </div>
<div class="line"><span class="lineno"> 2625</span>    <span class="comment">// all: don&#39;t allow going to parent directory (../ or /../)</span></div>
<div class="line"><span class="lineno"> 2626</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;..&quot;</span>))</div>
<div class="line"><span class="lineno"> 2627</span>        <span class="keywordflow">return</span> 2; <span class="comment">// attempt to go outside the game directory</span></div>
<div class="line"><span class="lineno"> 2628</span> </div>
<div class="line"><span class="lineno"> 2629</span>    <span class="comment">// Windows and UNIXes: don&#39;t allow absolute paths</span></div>
<div class="line"><span class="lineno"> 2630</span>    <span class="keywordflow">if</span> (path[0] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 2631</span>        <span class="keywordflow">return</span> 2; <span class="comment">// attempt to go outside the game directory</span></div>
<div class="line"><span class="lineno"> 2632</span> </div>
<div class="line"><span class="lineno"> 2633</span>    <span class="comment">// all: don&#39;t allow . character immediately before a slash, this catches all imaginable cases of ./, ../, .../, etc</span></div>
<div class="line"><span class="lineno"> 2634</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;./&quot;</span>))</div>
<div class="line"><span class="lineno"> 2635</span>        <span class="keywordflow">return</span> 2; <span class="comment">// possible attempt to go outside the game directory</span></div>
<div class="line"><span class="lineno"> 2636</span> </div>
<div class="line"><span class="lineno"> 2637</span>    <span class="comment">// all: forbid trailing slash on gamedir</span></div>
<div class="line"><span class="lineno"> 2638</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isgamedir</a> &amp;&amp; path[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(path)-1] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 2639</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 2640</span> </div>
<div class="line"><span class="lineno"> 2641</span>    <span class="comment">// all: forbid leading dot on any filename for any reason</span></div>
<div class="line"><span class="lineno"> 2642</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(path, <span class="stringliteral">&quot;/.&quot;</span>))</div>
<div class="line"><span class="lineno"> 2643</span>        <span class="keywordflow">return</span> 2; <span class="comment">// attempt to go outside the game directory</span></div>
<div class="line"><span class="lineno"> 2644</span> </div>
<div class="line"><span class="lineno"> 2645</span>    <span class="comment">// after all these checks we&#39;re pretty sure it&#39;s a / separated filename</span></div>
<div class="line"><span class="lineno"> 2646</span>    <span class="comment">// and won&#39;t do much if any harm</span></div>
<div class="line"><span class="lineno"> 2647</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2648</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01517">CL_DownloadBegin_f()</a>, <a class="el" href="fs_8c_source.html#l01806">FS_CheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l02771">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l02886">FS_OpenRealFile()</a>, <a class="el" href="fs_8c_source.html#l02913">FS_OpenVirtualFile()</a>, <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l03100">VM_loadfromfile()</a>.</p>

</div>
</div>
<a id="ad22ec4a7f71582cf82cfc7fb2e27ac88" name="ad22ec4a7f71582cf82cfc7fb2e27ac88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad22ec4a7f71582cf82cfc7fb2e27ac88">&#9670;&#160;</a></span>FS_ChooseUserDir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_ChooseUserDir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#a5ff7c070c39a9f2242250721e63067db">userdirmode_t</a>&#160;</td>
          <td class="paramname"><em>userdirmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>userdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>userdirsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01928">1928</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1929</span>{</div>
<div class="line"><span class="lineno"> 1930</span><span class="preprocessor">#if defined(__IPHONEOS__)</span></div>
<div class="line"><span class="lineno"> 1931</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirmode</a> == <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dbac56ed4d25b038731580ea22446b91629">USERDIRMODE_HOME</a>)</div>
<div class="line"><span class="lineno"> 1932</span>    {</div>
<div class="line"><span class="lineno"> 1933</span>        <span class="comment">// fs_basedir is &quot;&quot; by default, to utilize this you can simply add your gamedir to the Resources in xcode</span></div>
<div class="line"><span class="lineno"> 1934</span>        <span class="comment">// fs_userdir stores configurations to the Documents folder of the app</span></div>
<div class="line"><span class="lineno"> 1935</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(userdir, <span class="stringliteral">&quot;../Documents/&quot;</span>, <a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>);</div>
<div class="line"><span class="lineno"> 1936</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1937</span>    }</div>
<div class="line"><span class="lineno"> 1938</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1939</span> </div>
<div class="line"><span class="lineno"> 1940</span><span class="preprocessor">#elif defined(WIN32)</span></div>
<div class="line"><span class="lineno"> 1941</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WSTRBUF</a>];</div>
<div class="line"><span class="lineno"> 1942</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wchar</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedirw</a>;</div>
<div class="line"><span class="lineno"> 1943</span><span class="preprocessor">#if _MSC_VER &gt;= 1400</span></div>
<div class="line"><span class="lineno"> 1944</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedirwlen</a>;</div>
<div class="line"><span class="lineno"> 1945</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1946</span>    <span class="keywordtype">wchar_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mydocsdirw</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WSTRBUF</a>];</div>
<div class="line"><span class="lineno"> 1947</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mydocsdir</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WSTRBUF</a>];</div>
<div class="line"><span class="lineno"> 1948</span>    <span class="keywordtype">wchar_t</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdirw</a>;</div>
<div class="line"><span class="lineno"> 1949</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdir</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WSTRBUF</a>] = {0};</div>
<div class="line"><span class="lineno"> 1950</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>;</div>
<div class="line"><span class="lineno"> 1951</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1952</span> </div>
<div class="line"><span class="lineno"> 1953</span>    userdir[0] = 0;</div>
<div class="line"><span class="lineno"> 1954</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirmode</a>)</div>
<div class="line"><span class="lineno"> 1955</span>    {</div>
<div class="line"><span class="lineno"> 1956</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1957</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1958</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81a003b219db721fa997d97091ec7948">USERDIRMODE_NOHOME</a>:</div>
<div class="line"><span class="lineno"> 1959</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(userdir, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>);</div>
<div class="line"><span class="lineno"> 1960</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1961</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba9bf136b9635b7d87b832e87260c88ffd">USERDIRMODE_MYGAMES</a>:</div>
<div class="line"><span class="lineno"> 1962</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shfolder_dll</a>)</div>
<div class="line"><span class="lineno"> 1963</span>            <a class="code hl_function" href="sys_8h.html#a7d5fb719236d753c6487958a306b51c6">Sys_LoadDependency</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shfolderdllnames</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shfolder_dll</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shfolderfuncs</a>);</div>
<div class="line"><span class="lineno"> 1964</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mydocsdir</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 1965</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qSHGetFolderPath</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qSHGetFolderPath</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">CSIDL_PERSONAL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mydocsdirw</a>) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">S_OK</a>)</div>
<div class="line"><span class="lineno"> 1966</span>        {</div>
<div class="line"><span class="lineno"> 1967</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">narrow</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mydocsdirw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mydocsdir</a>);</div>
<div class="line"><span class="lineno"> 1968</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(userdir, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>, <span class="stringliteral">&quot;%s/My Games/%s/&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mydocsdir</a>, <a class="code hl_variable" href="com__game_8c.html#a582376633fa9e5da6171e80c600bdca0">gameuserdirname</a>);</div>
<div class="line"><span class="lineno"> 1969</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1970</span>        }</div>
<div class="line"><span class="lineno"> 1971</span><span class="preprocessor">#if _MSC_VER &gt;= 1400</span></div>
<div class="line"><span class="lineno"> 1972</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_wdupenv_s</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedirw</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedirwlen</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">L</a><span class="stringliteral">&quot;USERPROFILE&quot;</span>);</div>
<div class="line"><span class="lineno"> 1973</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">narrow</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedirw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>);</div>
<div class="line"><span class="lineno"> 1974</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>[0])</div>
<div class="line"><span class="lineno"> 1975</span>        {</div>
<div class="line"><span class="lineno"> 1976</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(userdir, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>, <span class="stringliteral">&quot;%s/.%s/&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>, <a class="code hl_variable" href="com__game_8c.html#a582376633fa9e5da6171e80c600bdca0">gameuserdirname</a>);</div>
<div class="line"><span class="lineno"> 1977</span>            free(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedirw</a>);</div>
<div class="line"><span class="lineno"> 1978</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1979</span>        }</div>
<div class="line"><span class="lineno"> 1980</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1981</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedirw</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_wgetenv</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">L</a><span class="stringliteral">&quot;USERPROFILE&quot;</span>);</div>
<div class="line"><span class="lineno"> 1982</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">narrow</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedirw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>);</div>
<div class="line"><span class="lineno"> 1983</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>[0])</div>
<div class="line"><span class="lineno"> 1984</span>        {</div>
<div class="line"><span class="lineno"> 1985</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(userdir, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>, <span class="stringliteral">&quot;%s/.%s/&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>, <a class="code hl_variable" href="com__game_8c.html#a582376633fa9e5da6171e80c600bdca0">gameuserdirname</a>);</div>
<div class="line"><span class="lineno"> 1986</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1987</span>        }</div>
<div class="line"><span class="lineno"> 1988</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1989</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1990</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba6524cb667ed6ee08d5cb07fbe22b4d2e">USERDIRMODE_SAVEDGAMES</a>:</div>
<div class="line"><span class="lineno"> 1991</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shell32_dll</a>)</div>
<div class="line"><span class="lineno"> 1992</span>            <a class="code hl_function" href="sys_8h.html#a7d5fb719236d753c6487958a306b51c6">Sys_LoadDependency</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shell32dllnames</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shell32_dll</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shell32funcs</a>);</div>
<div class="line"><span class="lineno"> 1993</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ole32_dll</a>)</div>
<div class="line"><span class="lineno"> 1994</span>            <a class="code hl_function" href="sys_8h.html#a7d5fb719236d753c6487958a306b51c6">Sys_LoadDependency</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ole32dllnames</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ole32_dll</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ole32funcs</a>);</div>
<div class="line"><span class="lineno"> 1995</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qSHGetKnownFolderPath</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qCoInitializeEx</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qCoTaskMemFree</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qCoUninitialize</a>)</div>
<div class="line"><span class="lineno"> 1996</span>        {</div>
<div class="line"><span class="lineno"> 1997</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdir</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 1998</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qCoInitializeEx</a>(<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">COINIT_APARTMENTTHREADED</a>);</div>
<div class="line"><span class="lineno"> 1999</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2000</span><span class="comment">#ifdef __cplusplus</span></div>
<div class="line"><span class="lineno"> 2001</span><span class="comment">            if (SHGetKnownFolderPath(FOLDERID_SavedGames, KF_FLAG_CREATE | KF_FLAG_NO_ALIAS, NULL, &amp;savedgamesdirw) == S_OK)</span></div>
<div class="line"><span class="lineno"> 2002</span><span class="comment">#else</span></div>
<div class="line"><span class="lineno"> 2003</span><span class="comment">            if (SHGetKnownFolderPath(&amp;FOLDERID_SavedGames, KF_FLAG_CREATE | KF_FLAG_NO_ALIAS, NULL, &amp;savedgamesdirw) == S_OK)</span></div>
<div class="line"><span class="lineno"> 2004</span><span class="comment">#endif</span></div>
<div class="line"><span class="lineno"> 2005</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno"> 2006</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qSHGetKnownFolderPath</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qFOLDERID_SavedGames</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qKF_FLAG_CREATE</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qKF_FLAG_NO_ALIAS</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdirw</a>) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">S_OK</a>)</div>
<div class="line"><span class="lineno"> 2007</span>            {</div>
<div class="line"><span class="lineno"> 2008</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">narrow</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdirw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdir</a>);</div>
<div class="line"><span class="lineno"> 2009</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qCoTaskMemFree</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdirw</a>);</div>
<div class="line"><span class="lineno"> 2010</span>            }</div>
<div class="line"><span class="lineno"> 2011</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qCoUninitialize</a>();</div>
<div class="line"><span class="lineno"> 2012</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdir</a>[0])</div>
<div class="line"><span class="lineno"> 2013</span>            {</div>
<div class="line"><span class="lineno"> 2014</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(userdir, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>, <span class="stringliteral">&quot;%s/%s/&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savedgamesdir</a>, <a class="code hl_variable" href="com__game_8c.html#a582376633fa9e5da6171e80c600bdca0">gameuserdirname</a>);</div>
<div class="line"><span class="lineno"> 2015</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2016</span>            }</div>
<div class="line"><span class="lineno"> 2017</span>        }</div>
<div class="line"><span class="lineno"> 2018</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2019</span>    }</div>
<div class="line"><span class="lineno"> 2020</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2021</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>;</div>
<div class="line"><span class="lineno"> 2022</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>;</div>
<div class="line"><span class="lineno"> 2023</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 2024</span>    userdir[0] = 0;</div>
<div class="line"><span class="lineno"> 2025</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirmode</a>)</div>
<div class="line"><span class="lineno"> 2026</span>    {</div>
<div class="line"><span class="lineno"> 2027</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2028</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2029</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81a003b219db721fa997d97091ec7948">USERDIRMODE_NOHOME</a>:</div>
<div class="line"><span class="lineno"> 2030</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(userdir, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>);</div>
<div class="line"><span class="lineno"> 2031</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2032</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dbac56ed4d25b038731580ea22446b91629">USERDIRMODE_HOME</a>:</div>
<div class="line"><span class="lineno"> 2033</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getenv</a>(<span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><span class="lineno"> 2034</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>)</div>
<div class="line"><span class="lineno"> 2035</span>        {</div>
<div class="line"><span class="lineno"> 2036</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(userdir, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>, <span class="stringliteral">&quot;%s/.%s/&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>, <a class="code hl_variable" href="com__game_8c.html#a582376633fa9e5da6171e80c600bdca0">gameuserdirname</a>);</div>
<div class="line"><span class="lineno"> 2037</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2038</span>        }</div>
<div class="line"><span class="lineno"> 2039</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2040</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba6524cb667ed6ee08d5cb07fbe22b4d2e">USERDIRMODE_SAVEDGAMES</a>:</div>
<div class="line"><span class="lineno"> 2041</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">getenv</a>(<span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><span class="lineno"> 2042</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>)</div>
<div class="line"><span class="lineno"> 2043</span>        {</div>
<div class="line"><span class="lineno"> 2044</span><span class="preprocessor">#ifdef MACOSX</span></div>
<div class="line"><span class="lineno"> 2045</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(userdir, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirsize</a>, <span class="stringliteral">&quot;%s/Library/Application Support/%s/&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">homedir</a>, <a class="code hl_variable" href="com__game_8c.html#a582376633fa9e5da6171e80c600bdca0">gameuserdirname</a>);</div>
<div class="line"><span class="lineno"> 2046</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2047</span>            <span class="comment">// the XDG say some files would need to go in:</span></div>
<div class="line"><span class="lineno"> 2048</span>            <span class="comment">// XDG_CONFIG_HOME (or ~/.config/%s/)</span></div>
<div class="line"><span class="lineno"> 2049</span>            <span class="comment">// XDG_DATA_HOME (or ~/.local/share/%s/)</span></div>
<div class="line"><span class="lineno"> 2050</span>            <span class="comment">// XDG_CACHE_HOME (or ~/.cache/%s/)</span></div>
<div class="line"><span class="lineno"> 2051</span>            <span class="comment">// and also search the following global locations if defined:</span></div>
<div class="line"><span class="lineno"> 2052</span>            <span class="comment">// XDG_CONFIG_DIRS (normally /etc/xdg/%s/)</span></div>
<div class="line"><span class="lineno"> 2053</span>            <span class="comment">// XDG_DATA_DIRS (normally /usr/share/%s/)</span></div>
<div class="line"><span class="lineno"> 2054</span>            <span class="comment">// this would be too complicated...</span></div>
<div class="line"><span class="lineno"> 2055</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2056</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2057</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2058</span>        }</div>
<div class="line"><span class="lineno"> 2059</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2060</span>    }</div>
<div class="line"><span class="lineno"> 2061</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span> </div>
<div class="line"><span class="lineno"> 2064</span><span class="preprocessor">#if !defined(__IPHONEOS__)</span></div>
<div class="line"><span class="lineno"> 2065</span> </div>
<div class="line"><span class="lineno"> 2066</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno"> 2067</span>    <span class="comment">// historical behavior...</span></div>
<div class="line"><span class="lineno"> 2068</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirmode</a> == <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81a003b219db721fa997d97091ec7948">USERDIRMODE_NOHOME</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>, <span class="stringliteral">&quot;id1&quot;</span>))</div>
<div class="line"><span class="lineno"> 2069</span>        <span class="keywordflow">return</span> 0; <span class="comment">// don&#39;t bother checking if the basedir folder is writable, it&#39;s annoying...  unless it is Quake on Windows where NOHOME is the default preferred and we have to check for an error case</span></div>
<div class="line"><span class="lineno"> 2070</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2071</span> </div>
<div class="line"><span class="lineno"> 2072</span>    <span class="comment">// see if we can write to this path (note: won&#39;t create path)</span></div>
<div class="line"><span class="lineno"> 2073</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno"> 2074</span>    <span class="comment">// no access() here, we must try to open the file for appending</span></div>
<div class="line"><span class="lineno"> 2075</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a> = <a class="code hl_function" href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/config.cfg&quot;</span>, userdir, <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>), <span class="stringliteral">&quot;a&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2076</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 2077</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>);</div>
<div class="line"><span class="lineno"> 2078</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2079</span>    <span class="comment">// on Unix, we don&#39;t need to ACTUALLY attempt to open the file</span></div>
<div class="line"><span class="lineno"> 2080</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">access</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s%s/&quot;</span>, userdir, <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">W_OK</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">X_OK</a>) &gt;= 0)</div>
<div class="line"><span class="lineno"> 2081</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a> = 1;</div>
<div class="line"><span class="lineno"> 2082</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2083</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a> = -1;</div>
<div class="line"><span class="lineno"> 2084</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2085</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 2086</span>    {</div>
<div class="line"><span class="lineno"> 2087</span>        <span class="keywordflow">return</span> 1; <span class="comment">// good choice - the path exists and is writable</span></div>
<div class="line"><span class="lineno"> 2088</span>    }</div>
<div class="line"><span class="lineno"> 2089</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2090</span>    {</div>
<div class="line"><span class="lineno"> 2091</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirmode</a> == <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81a003b219db721fa997d97091ec7948">USERDIRMODE_NOHOME</a>)</div>
<div class="line"><span class="lineno"> 2092</span>            <span class="keywordflow">return</span> -1; <span class="comment">// path usually already exists, we lack permissions</span></div>
<div class="line"><span class="lineno"> 2093</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2094</span>            <span class="keywordflow">return</span> 0; <span class="comment">// probably good - failed to write but maybe we need to create path</span></div>
<div class="line"><span class="lineno"> 2095</span>    }</div>
<div class="line"><span class="lineno"> 2096</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2097</span>}</div>
<div class="ttc" id="acom__game_8c_html_a582376633fa9e5da6171e80c600bdca0"><div class="ttname"><a href="com__game_8c.html#a582376633fa9e5da6171e80c600bdca0">gameuserdirname</a></div><div class="ttdeci">const char * gameuserdirname</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00032">com_game.c:32</a></div></div>
<div class="ttc" id="acom__game_8c_html_a878b664b9eda93cab29b459501d96938"><div class="ttname"><a href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a></div><div class="ttdeci">const char * gamedirname1</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00029">com_game.c:29</a></div></div>
<div class="ttc" id="acommon_8h_html_a5ff7c070c39a9f2242250721e63067dba6524cb667ed6ee08d5cb07fbe22b4d2e"><div class="ttname"><a href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba6524cb667ed6ee08d5cb07fbe22b4d2e">USERDIRMODE_SAVEDGAMES</a></div><div class="ttdeci">@ USERDIRMODE_SAVEDGAMES</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00282">common.h:282</a></div></div>
<div class="ttc" id="acommon_8h_html_a5ff7c070c39a9f2242250721e63067dba81a003b219db721fa997d97091ec7948"><div class="ttname"><a href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81a003b219db721fa997d97091ec7948">USERDIRMODE_NOHOME</a></div><div class="ttdeci">@ USERDIRMODE_NOHOME</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00279">common.h:279</a></div></div>
<div class="ttc" id="acommon_8h_html_a5ff7c070c39a9f2242250721e63067dba9bf136b9635b7d87b832e87260c88ffd"><div class="ttname"><a href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba9bf136b9635b7d87b832e87260c88ffd">USERDIRMODE_MYGAMES</a></div><div class="ttdeci">@ USERDIRMODE_MYGAMES</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00281">common.h:281</a></div></div>
<div class="ttc" id="acommon_8h_html_a5ff7c070c39a9f2242250721e63067dbac56ed4d25b038731580ea22446b91629"><div class="ttname"><a href="common_8h.html#a5ff7c070c39a9f2242250721e63067dbac56ed4d25b038731580ea22446b91629">USERDIRMODE_HOME</a></div><div class="ttdeci">@ USERDIRMODE_HOME</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00280">common.h:280</a></div></div>
<div class="ttc" id="afs_8c_html_a6a7c99ee654a553e7613885f1446b06d"><div class="ttname"><a href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a></div><div class="ttdeci">#define FILEDESC_CLOSE</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00105">fs.c:105</a></div></div>
<div class="ttc" id="afs_8c_html_a996ef8c18fe9359c3a51368020559f32"><div class="ttname"><a href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a></div><div class="ttdeci">static filedesc_t FS_SysOpenFiledesc(const char *filepath, const char *mode, qbool nonblocking)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02366">fs.c:2366</a></div></div>
<div class="ttc" id="asys_8h_html_a7d5fb719236d753c6487958a306b51c6"><div class="ttname"><a href="sys_8h.html#a7d5fb719236d753c6487958a306b51c6">Sys_LoadDependency</a></div><div class="ttdeci">qbool Sys_LoadDependency(const char **dllnames, dllhandle_t *handle, const dllfunction_t *fcts)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00128">sys_shared.c:128</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>.</p>

</div>
</div>
<a id="a03c0f05d0f065c9fe6fc4adc8d1888d3" name="a03c0f05d0f065c9fe6fc4adc8d1888d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c0f05d0f065c9fe6fc4adc8d1888d3">&#9670;&#160;</a></span>FS_ClearSearchPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_ClearSearchPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01460">1460</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1461</span>{</div>
<div class="line"><span class="lineno"> 1462</span>    <span class="comment">// unload all packs and directory information, close all pack files</span></div>
<div class="line"><span class="lineno"> 1463</span>    <span class="comment">// (if a qfile is still reading a pack it won&#39;t be harmed because it used</span></div>
<div class="line"><span class="lineno"> 1464</span>    <span class="comment">//  dup() to get its own handle already)</span></div>
<div class="line"><span class="lineno"> 1465</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>)</div>
<div class="line"><span class="lineno"> 1466</span>    {</div>
<div class="line"><span class="lineno"> 1467</span>        <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;</div>
<div class="line"><span class="lineno"> 1468</span>        <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>;</div>
<div class="line"><span class="lineno"> 1469</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack != <a class="code hl_variable" href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a>)</div>
<div class="line"><span class="lineno"> 1470</span>        {</div>
<div class="line"><span class="lineno"> 1471</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;vpack)</div>
<div class="line"><span class="lineno"> 1472</span>            {</div>
<div class="line"><span class="lineno"> 1473</span>                <span class="comment">// close the file</span></div>
<div class="line"><span class="lineno"> 1474</span>                <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;handle);</div>
<div class="line"><span class="lineno"> 1475</span>                <span class="comment">// free any memory associated with it</span></div>
<div class="line"><span class="lineno"> 1476</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;files)</div>
<div class="line"><span class="lineno"> 1477</span>                    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;files);</div>
<div class="line"><span class="lineno"> 1478</span>            }</div>
<div class="line"><span class="lineno"> 1479</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack);</div>
<div class="line"><span class="lineno"> 1480</span>        }</div>
<div class="line"><span class="lineno"> 1481</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>);</div>
<div class="line"><span class="lineno"> 1482</span>    }</div>
<div class="line"><span class="lineno"> 1483</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>, and <a class="el" href="fs_8c_source.html#l02347">FS_Shutdown()</a>.</p>

</div>
</div>
<a id="abcf26e98f08b7bbcc5645486294ebb5c" name="abcf26e98f08b7bbcc5645486294ebb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf26e98f08b7bbcc5645486294ebb5c">&#9670;&#160;</a></span>FS_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02955">2955</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2956</span>{</div>
<div class="line"><span class="lineno"> 2957</span>    <span class="keywordflow">if</span>(file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>)</div>
<div class="line"><span class="lineno"> 2958</span>    {</div>
<div class="line"><span class="lineno"> 2959</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(file);</div>
<div class="line"><span class="lineno"> 2960</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2961</span>    }</div>
<div class="line"><span class="lineno"> 2962</span> </div>
<div class="line"><span class="lineno"> 2963</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a> (file-&gt;handle))</div>
<div class="line"><span class="lineno"> 2964</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 2965</span> </div>
<div class="line"><span class="lineno"> 2966</span>    <span class="keywordflow">if</span> (file-&gt;filename)</div>
<div class="line"><span class="lineno"> 2967</span>    {</div>
<div class="line"><span class="lineno"> 2968</span>        <span class="keywordflow">if</span> (file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#af21a4ea898d2553316d98abbcf68bc67">QFILE_FLAG_REMOVE</a>)</div>
<div class="line"><span class="lineno"> 2969</span>        {</div>
<div class="line"><span class="lineno"> 2970</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remove</a>(file-&gt;filename) == -1)</div>
<div class="line"><span class="lineno"> 2971</span>            {</div>
<div class="line"><span class="lineno"> 2972</span>                <span class="comment">// No need to report this. If removing a just</span></div>
<div class="line"><span class="lineno"> 2973</span>                <span class="comment">// written file failed, this most likely means</span></div>
<div class="line"><span class="lineno"> 2974</span>                <span class="comment">// someone else deleted it first - which we</span></div>
<div class="line"><span class="lineno"> 2975</span>                <span class="comment">// like.</span></div>
<div class="line"><span class="lineno"> 2976</span>            }</div>
<div class="line"><span class="lineno"> 2977</span>        }</div>
<div class="line"><span class="lineno"> 2978</span> </div>
<div class="line"><span class="lineno"> 2979</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>((<span class="keywordtype">void</span> *) file-&gt;filename);</div>
<div class="line"><span class="lineno"> 2980</span>    }</div>
<div class="line"><span class="lineno"> 2981</span> </div>
<div class="line"><span class="lineno"> 2982</span>    <span class="keywordflow">if</span> (file-&gt;ztk)</div>
<div class="line"><span class="lineno"> 2983</span>    {</div>
<div class="line"><span class="lineno"> 2984</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateEnd</a> (&amp;file-&gt;ztk-&gt;zstream);</div>
<div class="line"><span class="lineno"> 2985</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (file-&gt;ztk);</div>
<div class="line"><span class="lineno"> 2986</span>    }</div>
<div class="line"><span class="lineno"> 2987</span> </div>
<div class="line"><span class="lineno"> 2988</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (file);</div>
<div class="line"><span class="lineno"> 2989</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2990</span>}</div>
<div class="ttc" id="afs_8c_html_af21a4ea898d2553316d98abbcf68bc67"><div class="ttname"><a href="fs_8c.html#af21a4ea898d2553316d98abbcf68bc67">QFILE_FLAG_REMOVE</a></div><div class="ttdeci">#define QFILE_FLAG_REMOVE</div><div class="ttdoc">real file will be removed on close</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00295">fs.c:295</a></div></div>
<div class="ttc" id="afs_8c_html_af22de493a428075817e6040fca62767e"><div class="ttname"><a href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a></div><div class="ttdeci">#define QFILE_FLAG_DATA</div><div class="ttdoc">file is actually already loaded data</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00293">fs.c:293</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00137">CL_CutDemo()</a>, <a class="el" href="cl__main_8c_source.html#l02306">CL_Locs_Save_f()</a>, <a class="el" href="cl__demo_8c_source.html#l00307">CL_Stop_f()</a>, <a class="el" href="cl__demo_8c_source.html#l00081">CL_StopPlayback()</a>, <a class="el" href="console_8c_source.html#l00806">Con_ConDump_f()</a>, <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, <a class="el" href="libcurl_8c_source.html#l00521">Curl_EndDownload()</a>, <a class="el" href="fs_8c_source.html#l03488">FS_LoadAndCloseQFile()</a>, <a class="el" href="fs_8c_source.html#l02771">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l01768">FS_SysCheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l03554">FS_WriteFileInBlocks()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="host_8c_source.html#l00190">Host_SaveConfig()</a>, <a class="el" href="host_8c_source.html#l00349">Host_UnlockSession()</a>, <a class="el" href="dpvsimpledecode_8c_source.html#l00071">hz_bitstream_read_close()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00167">jam_close()</a>, <a class="el" href="jpeg_8c_source.html#l00818">JPEG_SaveImage_preflipped()</a>, <a class="el" href="keys_8c_source.html#l00050">Key_History_Init()</a>, <a class="el" href="keys_8c_source.html#l00093">Key_History_Shutdown()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00222">libavw_close()</a>, <a class="el" href="console_8c_source.html#l00525">Log_Close()</a>, <a class="el" href="console_8c_source.html#l00659">Log_Printf()</a>, <a class="el" href="menu_8c_source.html#l00841">M_ScanSaves()</a>, <a class="el" href="image__png_8c_source.html#l00477">PNG_SaveImage_preflipped()</a>, <a class="el" href="prvm__edict_8c_source.html#l02002">PRVM_Prog_Load()</a>, <a class="el" href="cl__parse_8c_source.html#l00540">QW_CL_CheckOrDownloadFile()</a>, <a class="el" href="gl__rmain_8c_source.html#l01419">R_GLSL_DumpShader_f()</a>, <a class="el" href="cap__avi_8c_source.html#l00407">SCR_CaptureVideo_Avi_EndVideo()</a>, <a class="el" href="cap__ogg_8c_source.html#l00715">SCR_CaptureVideo_Ogg_EndVideo()</a>, <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>, <a class="el" href="sv__main_8c_source.html#l01007">SV_DropClient()</a>, <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>, <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>, <a class="el" href="sv__demo_8c_source.html#l00055">SV_StopDemoRecording()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04336">VM_buf_loadfile()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01981">VM_fclose()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01881">VM_Files_CloseAll()</a>, <a class="el" href="wad_8c_source.html#l00165">W_LoadTextureWadFile()</a>, and <a class="el" href="wad_8c_source.html#l00087">W_UnloadAll()</a>.</p>

</div>
</div>
<a id="ad71e74126e75683b2eaf9587faae31ac" name="ad71e74126e75683b2eaf9587faae31ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71e74126e75683b2eaf9587faae31ac">&#9670;&#160;</a></span>FS_CRCFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_CRCFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *&#160;</td>
          <td class="paramname"><em>filesizepointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04142">4142</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4143</span>{</div>
<div class="line"><span class="lineno"> 4144</span>    <span class="keywordtype">int</span> crc = -1;</div>
<div class="line"><span class="lineno"> 4145</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>;</div>
<div class="line"><span class="lineno"> 4146</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> filesize;</div>
<div class="line"><span class="lineno"> 4147</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</div>
<div class="line"><span class="lineno"> 4148</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a> = 0;</div>
<div class="line"><span class="lineno"> 4149</span>    <span class="keywordflow">if</span> (!filename || !*filename)</div>
<div class="line"><span class="lineno"> 4150</span>        <span class="keywordflow">return</span> crc;</div>
<div class="line"><span class="lineno"> 4151</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a> = <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(filename, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, &amp;filesize);</div>
<div class="line"><span class="lineno"> 4152</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>)</div>
<div class="line"><span class="lineno"> 4153</span>    {</div>
<div class="line"><span class="lineno"> 4154</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</div>
<div class="line"><span class="lineno"> 4155</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a> = filesize;</div>
<div class="line"><span class="lineno"> 4156</span>        crc = <a class="code hl_function" href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>, filesize);</div>
<div class="line"><span class="lineno"> 4157</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filedata</a>);</div>
<div class="line"><span class="lineno"> 4158</span>    }</div>
<div class="line"><span class="lineno"> 4159</span>    <span class="keywordflow">return</span> crc;</div>
<div class="line"><span class="lineno"> 4160</span>}</div>
<div class="ttc" id="acom__crc16_8c_html_aa9ba811c20537ebd01898928be2de439"><div class="ttname"><a href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a></div><div class="ttdeci">unsigned short CRC_Block(const unsigned char *data, size_t size)</div><div class="ttdef"><b>Definition</b> <a href="com__crc16_8c_source.html#l00075">com_crc16.c:75</a></div></div>
<div class="ttc" id="afs_8c_html_a46b9b5ad3cc14f77ae63016505163128"><div class="ttname"><a href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a></div><div class="ttdeci">unsigned char * FS_LoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03525">fs.c:3525</a></div></div>
<div class="ttc" id="afs_8h_html_a5bcbce6d6c29888adf596671d6acd44b"><div class="ttname"><a href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a></div><div class="ttdeci">int64_t fs_offset_t</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00037">fs.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01088">CL_BeginDownloads()</a>, <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, and <a class="el" href="cl__parse_8c_source.html#l00585">QW_CL_RequestNextDownload()</a>.</p>

</div>
</div>
<a id="acf6a6a671fddee50dbb3b0b1ec5d07ad" name="acf6a6a671fddee50dbb3b0b1ec5d07ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6a6a671fddee50dbb3b0b1ec5d07ad">&#9670;&#160;</a></span>FS_CreatePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_CreatePath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01036">1036</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1037</span>{</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordtype">char</span> *ofs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">save</a>;</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>    <span class="keywordflow">for</span> (ofs = path+1 ; *ofs ; ofs++)</div>
<div class="line"><span class="lineno"> 1041</span>    {</div>
<div class="line"><span class="lineno"> 1042</span>        <span class="keywordflow">if</span> (*ofs == <span class="charliteral">&#39;/&#39;</span> || *ofs == <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><span class="lineno"> 1043</span>        {</div>
<div class="line"><span class="lineno"> 1044</span>            <span class="comment">// create the directory</span></div>
<div class="line"><span class="lineno"> 1045</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">save</a> = *ofs;</div>
<div class="line"><span class="lineno"> 1046</span>            *ofs = 0;</div>
<div class="line"><span class="lineno"> 1047</span>            <a class="code hl_function" href="fs_8c.html#a402f23710e6092bb3ee899cd0bc38c93">FS_mkdir</a> (path);</div>
<div class="line"><span class="lineno"> 1048</span>            *ofs = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">save</a>;</div>
<div class="line"><span class="lineno"> 1049</span>        }</div>
<div class="line"><span class="lineno"> 1050</span>    }</div>
<div class="line"><span class="lineno"> 1051</span>}</div>
<div class="ttc" id="afs_8c_html_a402f23710e6092bb3ee899cd0bc38c93"><div class="ttname"><a href="fs_8c.html#a402f23710e6092bb3ee899cd0bc38c93">FS_mkdir</a></div><div class="ttdeci">static void FS_mkdir(const char *path)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01007">fs.c:1007</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="fs_8c_source.html#l02886">FS_OpenRealFile()</a>, and <a class="el" href="host_8c_source.html#l00323">Host_LockSession()</a>.</p>

</div>
</div>
<a id="a37e1e4de914927db015a75a5a2817a8f" name="a37e1e4de914927db015a75a5a2817a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37e1e4de914927db015a75a5a2817a8f">&#9670;&#160;</a></span>FS_DefaultExtension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_DefaultExtension </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03626">3626</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3627</span>{</div>
<div class="line"><span class="lineno"> 3628</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *src;</div>
<div class="line"><span class="lineno"> 3629</span> </div>
<div class="line"><span class="lineno"> 3630</span>    <span class="comment">// if path doesn&#39;t have a .EXT, append extension</span></div>
<div class="line"><span class="lineno"> 3631</span>    <span class="comment">// (extension should include the .)</span></div>
<div class="line"><span class="lineno"> 3632</span>    src = path + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(path);</div>
<div class="line"><span class="lineno"> 3633</span> </div>
<div class="line"><span class="lineno"> 3634</span>    <span class="keywordflow">while</span> (*src != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; src != path)</div>
<div class="line"><span class="lineno"> 3635</span>    {</div>
<div class="line"><span class="lineno"> 3636</span>        <span class="keywordflow">if</span> (*src == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno"> 3637</span>            <span class="keywordflow">return</span>;                 <span class="comment">// it has an extension</span></div>
<div class="line"><span class="lineno"> 3638</span>        src--;</div>
<div class="line"><span class="lineno"> 3639</span>    }</div>
<div class="line"><span class="lineno"> 3640</span> </div>
<div class="line"><span class="lineno"> 3641</span>    <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a> (path, extension, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_path</a>);</div>
<div class="line"><span class="lineno"> 3642</span>}</div>
<div class="ttc" id="acommon_8h_html_a48b55a981b8eb9cbcf455b613f62e6b3"><div class="ttname"><a href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a></div><div class="ttdeci">#define dp_strlcat(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00299">common.h:299</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00413">CL_PlayDemo()</a>, <a class="el" href="cl__demo_8c_source.html#l00346">CL_Record_f()</a>, <a class="el" href="gl__textures_8c_source.html#l01569">R_LoadTextureDDSFile()</a>, <a class="el" href="sv__save_8c_source.html#l00245">SV_Loadgame_f()</a>, <a class="el" href="sv__save_8c_source.html#l00208">SV_Savegame_f()</a>, and <a class="el" href="sv__demo_8c_source.html#l00006">SV_StartDemoRecording()</a>.</p>

</div>
</div>
<a id="ac11557aacb9bd4fa63cc90ad3c18fc4e" name="ac11557aacb9bd4fa63cc90ad3c18fc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11557aacb9bd4fa63cc90ad3c18fc4e">&#9670;&#160;</a></span>FS_Deflate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_Deflate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *&#160;</td>
          <td class="paramname"><em>deflated_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>mempool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04162">4162</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4163</span>{</div>
<div class="line"><span class="lineno"> 4164</span>    <a class="code hl_struct" href="structz__stream.html">z_stream</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>;</div>
<div class="line"><span class="lineno"> 4165</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4166</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>;</div>
<div class="line"><span class="lineno"> 4167</span> </div>
<div class="line"><span class="lineno"> 4168</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">deflated_size</a> = 0;</div>
<div class="line"><span class="lineno"> 4169</span><span class="preprocessor">#ifndef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno"> 4170</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a>)</div>
<div class="line"><span class="lineno"> 4171</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4172</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4173</span> </div>
<div class="line"><span class="lineno"> 4174</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>));</div>
<div class="line"><span class="lineno"> 4175</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.zalloc = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4176</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.zfree = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4177</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.opaque = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4178</span> </div>
<div class="line"><span class="lineno"> 4179</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 4180</span>        <a class="code hl_variable" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a> = <a class="code hl_define" href="fs_8c.html#af5387baee05124298e431ebe6fe96b17">Z_DEFAULT_COMPRESSION</a>;</div>
<div class="line"><span class="lineno"> 4181</span> </div>
<div class="line"><span class="lineno"> 4182</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="fs_8c.html#aafe06a729bbb4d02cdfca0c5a1343898">qz_deflateInit2</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, <a class="code hl_variable" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="code hl_define" href="fs_8c.html#a27a96226f3dc88e4743131c632adf32f">Z_DEFLATED</a>, -<a class="code hl_define" href="fs_8c.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a>, <a class="code hl_define" href="fs_8c.html#ae0f56a36e3dd5b9931904489655bbddb">Z_MEMLEVEL_DEFAULT</a>, <a class="code hl_define" href="fs_8c.html#a2bfe22ed89d3553335d18a4c3cab67af">Z_BINARY</a>) != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno"> 4183</span>    {</div>
<div class="line"><span class="lineno"> 4184</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: deflate init error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4185</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4186</span>    }</div>
<div class="line"><span class="lineno"> 4187</span> </div>
<div class="line"><span class="lineno"> 4188</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.next_in = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><span class="lineno"> 4189</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_in = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 4190</span> </div>
<div class="line"><span class="lineno"> 4191</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><span class="lineno"> 4192</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>)</div>
<div class="line"><span class="lineno"> 4193</span>    {</div>
<div class="line"><span class="lineno"> 4194</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: not enough memory in tempmempool!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4195</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>);</div>
<div class="line"><span class="lineno"> 4196</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4197</span>    }</div>
<div class="line"><span class="lineno"> 4198</span> </div>
<div class="line"><span class="lineno"> 4199</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.next_out = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>;</div>
<div class="line"><span class="lineno"> 4200</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_out = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 4201</span> </div>
<div class="line"><span class="lineno"> 4202</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflate</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, <a class="code hl_define" href="fs_8c.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>) != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno"> 4203</span>    {</div>
<div class="line"><span class="lineno"> 4204</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: deflate failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4205</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>);</div>
<div class="line"><span class="lineno"> 4206</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4207</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4208</span>    }</div>
<div class="line"><span class="lineno"> 4209</span> </div>
<div class="line"><span class="lineno"> 4210</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>) != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno"> 4211</span>    {</div>
<div class="line"><span class="lineno"> 4212</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: deflateEnd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4213</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4214</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4215</span>    }</div>
<div class="line"><span class="lineno"> 4216</span> </div>
<div class="line"><span class="lineno"> 4217</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_out &gt;= <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>)</div>
<div class="line"><span class="lineno"> 4218</span>    {</div>
<div class="line"><span class="lineno"> 4219</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: deflate is useless on this data!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4220</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4221</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4222</span>    }</div>
<div class="line"><span class="lineno"> 4223</span> </div>
<div class="line"><span class="lineno"> 4224</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(mempool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_out);</div>
<div class="line"><span class="lineno"> 4225</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>)</div>
<div class="line"><span class="lineno"> 4226</span>    {</div>
<div class="line"><span class="lineno"> 4227</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Deflate: not enough memory in target mempool!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4228</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4229</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4230</span>    }</div>
<div class="line"><span class="lineno"> 4231</span> </div>
<div class="line"><span class="lineno"> 4232</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">deflated_size</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_out;</div>
<div class="line"><span class="lineno"> 4233</span> </div>
<div class="line"><span class="lineno"> 4234</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_out);</div>
<div class="line"><span class="lineno"> 4235</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4236</span> </div>
<div class="line"><span class="lineno"> 4237</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4238</span>}</div>
<div class="ttc" id="afs_8c_html_a27a96226f3dc88e4743131c632adf32f"><div class="ttname"><a href="fs_8c.html#a27a96226f3dc88e4743131c632adf32f">Z_DEFLATED</a></div><div class="ttdeci">#define Z_DEFLATED</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00237">fs.c:237</a></div></div>
<div class="ttc" id="afs_8c_html_a2bfe22ed89d3553335d18a4c3cab67af"><div class="ttname"><a href="fs_8c.html#a2bfe22ed89d3553335d18a4c3cab67af">Z_BINARY</a></div><div class="ttdeci">#define Z_BINARY</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00236">fs.c:236</a></div></div>
<div class="ttc" id="afs_8c_html_a6293ae0302d8c803fa5100fc55f4f071"><div class="ttname"><a href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a></div><div class="ttdeci">static dllhandle_t zlib_dll</div><div class="ttdoc">Handle for Zlib DLL.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00502">fs.c:502</a></div></div>
<div class="ttc" id="afs_8c_html_a7d94a4a852228a899864a0053162e7a8"><div class="ttname"><a href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a></div><div class="ttdeci">#define Z_STREAM_END</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00229">fs.c:229</a></div></div>
<div class="ttc" id="afs_8c_html_a876a626ba14eb12eea4bbf6823b6ca50"><div class="ttname"><a href="fs_8c.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a></div><div class="ttdeci">#define Z_FINISH</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00245">fs.c:245</a></div></div>
<div class="ttc" id="afs_8c_html_a8cb802b6a11e926478dc6547c514c65c"><div class="ttname"><a href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a></div><div class="ttdeci">#define Z_OK</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00228">fs.c:228</a></div></div>
<div class="ttc" id="afs_8c_html_aac6e8d3b3465804e2be1198b2a2a3143"><div class="ttname"><a href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a></div><div class="ttdeci">static int level</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00476">fs.c:476</a></div></div>
<div class="ttc" id="afs_8c_html_aafe06a729bbb4d02cdfca0c5a1343898"><div class="ttname"><a href="fs_8c.html#aafe06a729bbb4d02cdfca0c5a1343898">qz_deflateInit2</a></div><div class="ttdeci">#define qz_deflateInit2(strm, level, method, windowBits, memLevel, strategy)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00483">fs.c:483</a></div></div>
<div class="ttc" id="afs_8c_html_abd2f406ac1f9c49236376115d78ccb5b"><div class="ttname"><a href="fs_8c.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a></div><div class="ttdeci">#define MAX_WBITS</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00227">fs.c:227</a></div></div>
<div class="ttc" id="afs_8c_html_ad15afa2776b41b2f4d8582dd152bd736"><div class="ttname"><a href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a></div><div class="ttdeci">#define Z_NULL</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00240">fs.c:240</a></div></div>
<div class="ttc" id="afs_8c_html_ae0f56a36e3dd5b9931904489655bbddb"><div class="ttname"><a href="fs_8c.html#ae0f56a36e3dd5b9931904489655bbddb">Z_MEMLEVEL_DEFAULT</a></div><div class="ttdeci">#define Z_MEMLEVEL_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00238">fs.c:238</a></div></div>
<div class="ttc" id="afs_8c_html_af5387baee05124298e431ebe6fe96b17"><div class="ttname"><a href="fs_8c.html#af5387baee05124298e431ebe6fe96b17">Z_DEFAULT_COMPRESSION</a></div><div class="ttdeci">#define Z_DEFAULT_COMPRESSION</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00241">fs.c:241</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0208b298f4c65e680a58434efb699fe8"><div class="ttname"><a href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a></div><div class="ttdeci">GLuint GLuint GLintptr GLsizeiptr size</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="aglquake_8h_html_a820662f5b80a48256e2503352e9f51b9"><div class="ttname"><a href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a></div><div class="ttdeci">GLsizeiptr const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00638">glquake.h:638</a></div></div>
<div class="ttc" id="astructz__stream_html"><div class="ttname"><a href="structz__stream.html">z_stream</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00264">fs.c:265</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__main_8c_source.html#l01700">SV_Prepare_CSQC()</a>.</p>

</div>
</div>
<a id="a3bc2df3b337d2d1608146cfea5ec729a" name="a3bc2df3b337d2d1608146cfea5ec729a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bc2df3b337d2d1608146cfea5ec729a">&#9670;&#160;</a></span>FS_Dir_f()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Dir_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04037">4037</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4038</span>{</div>
<div class="line"><span class="lineno"> 4039</span>    <a class="code hl_function" href="fs_8c.html#ae2256a61edc074b40e3c52e307df7140">FS_ListDirectoryCmd</a>(cmd, <span class="stringliteral">&quot;dir&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 4040</span>}</div>
<div class="ttc" id="afs_8c_html_ae2256a61edc074b40e3c52e307df7140"><div class="ttname"><a href="fs_8c.html#ae2256a61edc074b40e3c52e307df7140">FS_ListDirectoryCmd</a></div><div class="ttdeci">static void FS_ListDirectoryCmd(cmd_state_t *cmd, const char *cmdname, int oneperline)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04021">fs.c:4021</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>.</p>

</div>
</div>
<a id="ae5bb7ead56ab2c98c5b66a71e6141127" name="ae5bb7ead56ab2c98c5b66a71e6141127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5bb7ead56ab2c98c5b66a71e6141127">&#9670;&#160;</a></span>FS_FileExists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_FileExists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a file in the packages and in the filesystem Returns its canonical name (same case as used in the pack) if found, else NULL. </p>
<p>If the file is found outside a pak, this will be the same pointer as passed in. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03678">3678</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3679</span>{</div>
<div class="line"><span class="lineno"> 3680</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>;</div>
<div class="line"><span class="lineno"> 3681</span> </div>
<div class="line"><span class="lineno"> 3682</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a>(filename, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>, <span class="keyword">true</span>) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a> : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3683</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cd__shared_8c_source.html#l00119">CDAudio_Play_byName()</a>, <a class="el" href="cl__parse_8c_source.html#l01088">CL_BeginDownloads()</a>, <a class="el" href="cl__parse_8c_source.html#l00479">CL_SetupWorldModel()</a>, <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, <a class="el" href="libcurl_8c_source.html#l01425">Curl_Curl_f()</a>, <a class="el" href="ft2_8c_source.html#l00521">Font_LoadFont()</a>, <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>, <a class="el" href="host_8c_source.html#l00225">Host_AddConfigText()</a>, <a class="el" href="image_8c_source.html#l01043">loadimagepixelsbgra()</a>, <a class="el" href="menu_8c_source.html#l00355">M_Menu_Main_f()</a>, <a class="el" href="menu_8c_source.html#l05443">MR_SetRouting()</a>, <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>, and <a class="el" href="sv__main_8c_source.html#l01799">SV_SpawnServer()</a>.</p>

</div>
</div>
<a id="a03ffae625c1150af52b17342c57425ac" name="a03ffae625c1150af52b17342c57425ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ffae625c1150af52b17342c57425ac">&#9670;&#160;</a></span>FS_FileExtension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_FileExtension </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01412">1412</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1413</span>{</div>
<div class="line"><span class="lineno"> 1414</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a>;</div>
<div class="line"><span class="lineno"> 1415</span> </div>
<div class="line"><span class="lineno"> 1416</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno"> 1417</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1418</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1419</span> </div>
<div class="line"><span class="lineno"> 1420</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 1421</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;\\&#39;</span>);</div>
<div class="line"><span class="lineno"> 1422</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>)</div>
<div class="line"><span class="lineno"> 1423</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>;</div>
<div class="line"><span class="lineno"> 1424</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 1425</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>)</div>
<div class="line"><span class="lineno"> 1426</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>;</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>))</div>
<div class="line"><span class="lineno"> 1429</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dot</a> + 1;</div>
<div class="line"><span class="lineno"> 1432</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__video_8c_source.html#l00613">CL_PlayVideo_f()</a>, <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="fs_8c_source.html#l01348">FS_AddGameDirectory()</a>, <a class="el" href="fs_8c_source.html#l01202">FS_AddPack_Fullpath()</a>, <a class="el" href="image_8c_source.html#l00913">Image_StripImageExtension()</a>, <a class="el" href="model__shared_8c_source.html#l00406">Mod_LoadModel()</a>, <a class="el" href="cl__screen_8c_source.html#l00906">SCR_ScreenShot_f()</a>, and <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>.</p>

</div>
</div>
<a id="af3b01aad1753468c0a03bd4a87f513a2" name="af3b01aad1753468c0a03bd4a87f513a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b01aad1753468c0a03bd4a87f513a2">&#9670;&#160;</a></span>FS_FileFromData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_FileFromData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02936">2936</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2937</span>{</div>
<div class="line"><span class="lineno"> 2938</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a>* file;</div>
<div class="line"><span class="lineno"> 2939</span>    file = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (*file));</div>
<div class="line"><span class="lineno"> 2940</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a> (file, 0, <span class="keyword">sizeof</span> (*file));</div>
<div class="line"><span class="lineno"> 2941</span>    file-&gt;flags = <a class="code hl_define" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>;</div>
<div class="line"><span class="lineno"> 2942</span>    file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 2943</span>    file-&gt;real_length = <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 2944</span>    file-&gt;data = <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><span class="lineno"> 2945</span>    <span class="keywordflow">return</span> file;</div>
<div class="line"><span class="lineno"> 2946</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>.</p>

</div>
</div>
<a id="ab97defca4a096159d4e5f51bc33b7c86" name="ab97defca4a096159d4e5f51bc33b7c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97defca4a096159d4e5f51bc33b7c86">&#9670;&#160;</a></span>FS_FileSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> FS_FileSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03459">3459</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3460</span>{</div>
<div class="line"><span class="lineno"> 3461</span>    <span class="keywordflow">return</span> file-&gt;real_length;</div>
<div class="line"><span class="lineno"> 3462</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__video__libavw_8c_source.html#l00246">LibAvW_FS_SeekSize()</a>, <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>, and <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>.</p>

</div>
</div>
<a id="a7b0e1a268dfbcc16a3271a7c66938f82" name="a7b0e1a268dfbcc16a3271a7c66938f82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0e1a268dfbcc16a3271a7c66938f82">&#9670;&#160;</a></span>FS_FileType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_FileType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a file in the packages and in the filesystem. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03652">3652</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3653</span>{</div>
<div class="line"><span class="lineno"> 3654</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 3655</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3656</span> </div>
<div class="line"><span class="lineno"> 3657</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a> (filename, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3658</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</div>
<div class="line"><span class="lineno"> 3659</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 3660</span> </div>
<div class="line"><span class="lineno"> 3661</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;vpack)</div>
<div class="line"><span class="lineno"> 3662</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a>; <span class="comment">// TODO can&#39;t check directories in paks yet, maybe later</span></div>
<div class="line"><span class="lineno"> 3663</span> </div>
<div class="line"><span class="lineno"> 3664</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename, filename);</div>
<div class="line"><span class="lineno"> 3665</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ad85ade8d917e7785a8c88a2db2d026bf">FS_SysFileType</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fullpath</a>);</div>
<div class="line"><span class="lineno"> 3666</span>}</div>
<div class="ttc" id="afs_8c_html_ad85ade8d917e7785a8c88a2db2d026bf"><div class="ttname"><a href="fs_8c.html#ad85ade8d917e7785a8c88a2db2d026bf">FS_SysFileType</a></div><div class="ttdeci">int FS_SysFileType(const char *path)</div><div class="ttdoc">Look for a file in the filesystem only.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03693">fs.c:3693</a></div></div>
<div class="ttc" id="afs_8h_html_a90005d60fdef35368e321d49ac2c865c"><div class="ttname"><a href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a></div><div class="ttdeci">#define FS_FILETYPE_FILE</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00132">fs.h:132</a></div></div>
<div class="ttc" id="afs_8h_html_ab9550d878584be17086e5780df0073cf"><div class="ttname"><a href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a></div><div class="ttdeci">#define FS_FILETYPE_NONE</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00131">fs.h:131</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l02738">Con_CompleteCommandLine()</a>.</p>

</div>
</div>
<a id="a763b2c4798fd52f16e15b61b8d94f05d" name="a763b2c4798fd52f16e15b61b8d94f05d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763b2c4798fd52f16e15b61b8d94f05d">&#9670;&#160;</a></span>FS_FileWithoutPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_FileWithoutPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01440">1440</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1441</span>{</div>
<div class="line"><span class="lineno"> 1442</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>;</div>
<div class="line"><span class="lineno"> 1443</span> </div>
<div class="line"><span class="lineno"> 1444</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 1445</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;\\&#39;</span>);</div>
<div class="line"><span class="lineno"> 1446</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>)</div>
<div class="line"><span class="lineno"> 1447</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>;</div>
<div class="line"><span class="lineno"> 1448</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(in, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 1449</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>)</div>
<div class="line"><span class="lineno"> 1450</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>;</div>
<div class="line"><span class="lineno"> 1451</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> + 1 : in;</div>
<div class="line"><span class="lineno"> 1452</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="com__game_8c_source.html#l00092">COM_InitGameType()</a>, and <a class="el" href="fs_8c_source.html#l04096">FS_IsRegisteredQuakePack()</a>.</p>

</div>
</div>
<a id="a31ca66034633d9f05e8c7199d4494f53" name="a31ca66034633d9f05e8c7199d4494f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31ca66034633d9f05e8c7199d4494f53">&#9670;&#160;</a></span>FS_FindFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structsearchpath__t.html">searchpath_t</a> * FS_FindFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> **&#160;</td>
          <td class="paramname"><em>canonicalname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02675">2675</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2676</span>{</div>
<div class="line"><span class="lineno"> 2677</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 2678</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>;</div>
<div class="line"><span class="lineno"> 2679</span> </div>
<div class="line"><span class="lineno"> 2680</span>    <span class="comment">// search through the path, one element at a time</span></div>
<div class="line"><span class="lineno"> 2681</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>)</div>
<div class="line"><span class="lineno"> 2682</span>    {</div>
<div class="line"><span class="lineno"> 2683</span>        <span class="comment">// is the element a pak file?</span></div>
<div class="line"><span class="lineno"> 2684</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;vpack)</div>
<div class="line"><span class="lineno"> 2685</span>        {</div>
<div class="line"><span class="lineno"> 2686</span>            <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a>) (<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str1</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str2</a>);</div>
<div class="line"><span class="lineno"> 2687</span>            <span class="keywordtype">int</span> left, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>;</div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack;</div>
<div class="line"><span class="lineno"> 2690</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;<a class="code hl_variable" href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">ignorecase</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>;</div>
<div class="line"><span class="lineno"> 2691</span> </div>
<div class="line"><span class="lineno"> 2692</span>            <span class="comment">// Look for the file (binary search)</span></div>
<div class="line"><span class="lineno"> 2693</span>            left = 0;</div>
<div class="line"><span class="lineno"> 2694</span>            <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;numfiles - 1;</div>
<div class="line"><span class="lineno"> 2695</span>            <span class="keywordflow">while</span> (left &lt;= <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>)</div>
<div class="line"><span class="lineno"> 2696</span>            {</div>
<div class="line"><span class="lineno"> 2697</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>;</div>
<div class="line"><span class="lineno"> 2698</span> </div>
<div class="line"><span class="lineno"> 2699</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> = (left + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>) / 2;</div>
<div class="line"><span class="lineno"> 2700</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;files[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>].name, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno"> 2701</span> </div>
<div class="line"><span class="lineno"> 2702</span>                <span class="comment">// Found it</span></div>
<div class="line"><span class="lineno"> 2703</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>)</div>
<div class="line"><span class="lineno"> 2704</span>                {</div>
<div class="line"><span class="lineno"> 2705</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#ad3dada3504d3aa866f170ac2874ef4b9">fs_empty_files_in_pack_mark_deletions</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;files[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>].realsize == 0)</div>
<div class="line"><span class="lineno"> 2706</span>                    {</div>
<div class="line"><span class="lineno"> 2707</span>                        <span class="comment">// yes, but the first one is empty so we treat it as not being there</span></div>
<div class="line"><span class="lineno"> 2708</span>                        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2709</span>                            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;FS_FindFile: %s is marked as deleted\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno"> 2710</span> </div>
<div class="line"><span class="lineno"> 2711</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 2712</span>                            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> = -1;</div>
<div class="line"><span class="lineno"> 2713</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>)</div>
<div class="line"><span class="lineno"> 2714</span>                            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2715</span>                        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2716</span>                    }</div>
<div class="line"><span class="lineno"> 2717</span> </div>
<div class="line"><span class="lineno"> 2718</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2719</span>                        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;FS_FindFile: %s in %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;files[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>].name, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;filename);</div>
<div class="line"><span class="lineno"> 2720</span> </div>
<div class="line"><span class="lineno"> 2721</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 2722</span>                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>;</div>
<div class="line"><span class="lineno"> 2723</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>)</div>
<div class="line"><span class="lineno"> 2724</span>                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;files[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>].name;</div>
<div class="line"><span class="lineno"> 2725</span>                    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 2726</span>                }</div>
<div class="line"><span class="lineno"> 2727</span> </div>
<div class="line"><span class="lineno"> 2728</span>                <span class="comment">// If we&#39;re too far in the list</span></div>
<div class="line"><span class="lineno"> 2729</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 2730</span>                    <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> - 1;</div>
<div class="line"><span class="lineno"> 2731</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2732</span>                    left = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> + 1;</div>
<div class="line"><span class="lineno"> 2733</span>            }</div>
<div class="line"><span class="lineno"> 2734</span>        }</div>
<div class="line"><span class="lineno"> 2735</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2736</span>        {</div>
<div class="line"><span class="lineno"> 2737</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">netpath</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 2738</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">netpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">netpath</a>), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno"> 2739</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#abb093a036480e1077111dcc49fecc227">FS_SysFileExists</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">netpath</a>))</div>
<div class="line"><span class="lineno"> 2740</span>            {</div>
<div class="line"><span class="lineno"> 2741</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2742</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;FS_FindFile: %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">netpath</a>);</div>
<div class="line"><span class="lineno"> 2743</span> </div>
<div class="line"><span class="lineno"> 2744</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 2745</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> = -1;</div>
<div class="line"><span class="lineno"> 2746</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>)</div>
<div class="line"><span class="lineno"> 2747</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a> = <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>;</div>
<div class="line"><span class="lineno"> 2748</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 2749</span>            }</div>
<div class="line"><span class="lineno"> 2750</span>        }</div>
<div class="line"><span class="lineno"> 2751</span>    }</div>
<div class="line"><span class="lineno"> 2752</span> </div>
<div class="line"><span class="lineno"> 2753</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2754</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;FS_FindFile: can&#39;t find %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno"> 2755</span> </div>
<div class="line"><span class="lineno"> 2756</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 2757</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> = -1;</div>
<div class="line"><span class="lineno"> 2758</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a>)</div>
<div class="line"><span class="lineno"> 2759</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">canonicalname</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2760</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2761</span>}</div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="afs_8c_html_abb093a036480e1077111dcc49fecc227"><div class="ttname"><a href="fs_8c.html#abb093a036480e1077111dcc49fecc227">FS_SysFileExists</a></div><div class="ttdeci">qbool FS_SysFileExists(const char *path)</div><div class="ttdoc">Look for a file in the filesystem only.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03728">fs.c:3728</a></div></div>
<div class="ttc" id="afs_8c_html_ad3dada3504d3aa866f170ac2874ef4b9"><div class="ttname"><a href="fs_8c.html#ad3dada3504d3aa866f170ac2874ef4b9">fs_empty_files_in_pack_mark_deletions</a></div><div class="ttdeci">cvar_t fs_empty_files_in_pack_mark_deletions</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00451">fs.c:451</a></div></div>
<div class="ttc" id="ahost_8c_html_a2d29d0100dc86ae96b813350bb2b6c32"><div class="ttname"><a href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a></div><div class="ttdeci">cvar_t developer_extra</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00050">host.c:50</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01317">FS_AddPack()</a>, <a class="el" href="fs_8c_source.html#l03678">FS_FileExists()</a>, <a class="el" href="fs_8c_source.html#l03652">FS_FileType()</a>, <a class="el" href="fs_8c_source.html#l02771">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l04047">FS_Which_f()</a>, and <a class="el" href="fs_8c_source.html#l04075">FS_WhichPack()</a>.</p>

</div>
</div>
<a id="a507c1fe37a20105eb2c08896f0d399a1" name="a507c1fe37a20105eb2c08896f0d399a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507c1fe37a20105eb2c08896f0d399a1">&#9670;&#160;</a></span>FS_FreeSearch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_FreeSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfssearch__t.html">fssearch_t</a> *&#160;</td>
          <td class="paramname"><em>search</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03947">3947</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3948</span>{</div>
<div class="line"><span class="lineno"> 3949</span>    <a class="code hl_define" href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>);</div>
<div class="line"><span class="lineno"> 3950</span>}</div>
<div class="ttc" id="azone_8h_html_abbce8ea44a12486a6b59f31f02bab5ee"><div class="ttname"><a href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a></div><div class="ttdeci">#define Z_Free(data)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00157">zone.h:157</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cmd_8c_source.html#l00778">Cmd_Exec_f()</a>, <a class="el" href="console_8c_source.html#l02738">Con_CompleteCommandLine()</a>, <a class="el" href="fs_8c_source.html#l03953">FS_ListDirectory()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="image_8c_source.html#l01376">Image_FixTransparentPixels_f()</a>, <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03225">VM_search_end()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l03160">VM_Search_Reset()</a>.</p>

</div>
</div>
<a id="ab3e38d157816c670cd42cc78c17b4577" name="ab3e38d157816c670cd42cc78c17b4577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3e38d157816c670cd42cc78c17b4577">&#9670;&#160;</a></span>FS_GameDir_f()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_GameDir_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01730">1730</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1731</span>{</div>
<div class="line"><span class="lineno"> 1732</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1733</span>    <span class="keywordtype">int</span> numgamedirs;</div>
<div class="line"><span class="lineno"> 1734</span>    <span class="keywordtype">char</span> gamedirs[<a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>][<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 1735</span> </div>
<div class="line"><span class="lineno"> 1736</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &lt; 2)</div>
<div class="line"><span class="lineno"> 1737</span>    {</div>
<div class="line"><span class="lineno"> 1738</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;gamedirs active:&quot;</span>);</div>
<div class="line"><span class="lineno"> 1739</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1740</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot; %s&quot;</span>, <a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1741</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1742</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1743</span>    }</div>
<div class="line"><span class="lineno"> 1744</span> </div>
<div class="line"><span class="lineno"> 1745</span>    numgamedirs = <a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) - 1;</div>
<div class="line"><span class="lineno"> 1746</span>    <span class="keywordflow">if</span> (numgamedirs &gt; <a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>)</div>
<div class="line"><span class="lineno"> 1747</span>    {</div>
<div class="line"><span class="lineno"> 1748</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Too many gamedirs (%i &gt; %i)\n&quot;</span>, numgamedirs, <a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>);</div>
<div class="line"><span class="lineno"> 1749</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1750</span>    }</div>
<div class="line"><span class="lineno"> 1751</span> </div>
<div class="line"><span class="lineno"> 1752</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numgamedirs;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1753</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1), <span class="keyword">sizeof</span>(gamedirs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]));</div>
<div class="line"><span class="lineno"> 1754</span> </div>
<div class="line"><span class="lineno"> 1755</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19">ca_connected</a> &amp;&amp; !<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">demoplayback</a>) || <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">active</a>)</div>
<div class="line"><span class="lineno"> 1756</span>    {</div>
<div class="line"><span class="lineno"> 1757</span>        <span class="comment">// actually, changing during game would work fine, but would be stupid</span></div>
<div class="line"><span class="lineno"> 1758</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Can not change gamedir while client is connected or server is running!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1759</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1760</span>    }</div>
<div class="line"><span class="lineno"> 1761</span> </div>
<div class="line"><span class="lineno"> 1762</span>    <span class="comment">// halt demo playback to close the file</span></div>
<div class="line"><span class="lineno"> 1763</span>    <a class="code hl_function" href="cl__main_8c.html#ac60fa6234ccc6c540d448a7608d36d8a">CL_Disconnect</a>();</div>
<div class="line"><span class="lineno"> 1764</span> </div>
<div class="line"><span class="lineno"> 1765</span>    <a class="code hl_function" href="fs_8c.html#ad8f17eb38854c4515cd715413bb8a795">FS_ChangeGameDirs</a>(numgamedirs, gamedirs, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1766</span>}</div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea828feeea7d064c84699467a802e0fe19">ca_connected</a></div><div class="ttdeci">@ ca_connected</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00534">client.h:533</a></div></div>
<div class="ttc" id="acmd_8h_html_ab070abb7f2ebb842c8e67bef4e317314"><div class="ttname"><a href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a></div><div class="ttdeci">static int Cmd_Argc(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00248">cmd.h:248</a></div></div>
<div class="ttc" id="acmd_8h_html_ab49017bdcb3104823452a9ed7597aaf5"><div class="ttname"><a href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a></div><div class="ttdeci">static const char * Cmd_Argv(cmd_state_t *cmd, int arg)</div><div class="ttdoc">Cmd_Argv(cmd, ) will return an empty string (not a NULL) if arg &gt; argc, so string operations are alwa...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00253">cmd.h:253</a></div></div>
<div class="ttc" id="afs_8c_html_ad8f17eb38854c4515cd715413bb8a795"><div class="ttname"><a href="fs_8c.html#ad8f17eb38854c4515cd715413bb8a795">FS_ChangeGameDirs</a></div><div class="ttdeci">qbool FS_ChangeGameDirs(int numgamedirs, char gamedirs[][MAX_QPATH], qbool complain, qbool failmissing)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01662">fs.c:1662</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abd4ae30fcfdcbbff51bbf3f4e6daeee7"><div class="ttname"><a href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a></div><div class="ttdeci">#define MAX_QPATH</div><div class="ttdoc">max length of a quake game pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00169">qdefs.h:169</a></div></div>
<div class="ttc" id="aserver_8h_html_a0ff9eb096e93804922c75bbddaf18703"><div class="ttname"><a href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a></div><div class="ttdeci">server_t sv</div><div class="ttdoc">local server</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00219">sv_main.c:219</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a6722e47d64e69141af5cdf392fcf95eb"><div class="ttname"><a href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">client_static_t::state</a></div><div class="ttdeci">cactive_t state</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00569">client.h:569</a></div></div>
<div class="ttc" id="astructserver__t_html_a5f9b522b8c3ffa527f5d442dbff0928b"><div class="ttname"><a href="structserver__t.html#a5f9b522b8c3ffa527f5d442dbff0928b">server_t::active</a></div><div class="ttdeci">qbool active</div><div class="ttdoc">false if only a net client</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00066">server.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>.</p>

</div>
</div>
<a id="ad91bcbc8a4a5686b9824afeeb671b2a0" name="ad91bcbc8a4a5686b9824afeeb671b2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91bcbc8a4a5686b9824afeeb671b2a0">&#9670;&#160;</a></span>FS_Getc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Getc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03308">3308</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3309</span>{</div>
<div class="line"><span class="lineno"> 3310</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c;</div>
<div class="line"><span class="lineno"> 3311</span> </div>
<div class="line"><span class="lineno"> 3312</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a> (file, &amp;c, 1) != 1)</div>
<div class="line"><span class="lineno"> 3313</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 3314</span> </div>
<div class="line"><span class="lineno"> 3315</span>    <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno"> 3316</span>}</div>
<div class="ttc" id="afs_8c_html_a06be02d84167befd9817197abb0c2100"><div class="ttname"><a href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a></div><div class="ttdeci">fs_offset_t FS_Read(qfile_t *file, void *buffer, size_t buffersize)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03051">fs.c:3051</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00413">CL_PlayDemo()</a>, <a class="el" href="keys_8c_source.html#l00050">Key_History_Init()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04336">VM_buf_loadfile()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l02014">VM_fgets()</a>.</p>

</div>
</div>
<a id="a41a5a0231cecf4daa90f3b827df5b254" name="a41a5a0231cecf4daa90f3b827df5b254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41a5a0231cecf4daa90f3b827df5b254">&#9670;&#160;</a></span>FS_HasZlib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_HasZlib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00615">615</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  616</span>{</div>
<div class="line"><span class="lineno">  617</span><span class="preprocessor">#ifdef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno">  618</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  619</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  620</span>    <a class="code hl_function" href="fs_8c.html#a88402d87eb304d652f6d3edd1dbb62bc">PK3_OpenLibrary</a>(); <span class="comment">// to be safe</span></div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordflow">return</span> (<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a> != 0);</div>
<div class="line"><span class="lineno">  622</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  623</span>}</div>
<div class="ttc" id="afs_8c_html_a88402d87eb304d652f6d3edd1dbb62bc"><div class="ttname"><a href="fs_8c.html#a88402d87eb304d652f6d3edd1dbb62bc">PK3_OpenLibrary</a></div><div class="ttdeci">static qbool PK3_OpenLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00576">fs.c:576</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01088">CL_BeginDownloads()</a>.</p>

</div>
</div>
<a id="a1425cd964a12f97b4a1d494a44914386" name="a1425cd964a12f97b4a1d494a44914386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1425cd964a12f97b4a1d494a44914386">&#9670;&#160;</a></span>FS_Inflate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_Inflate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a> *&#160;</td>
          <td class="paramname"><em>inflated_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>mempool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04257">4257</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4258</span>{</div>
<div class="line"><span class="lineno"> 4259</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 4260</span>    <a class="code hl_struct" href="structz__stream.html">z_stream</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>;</div>
<div class="line"><span class="lineno"> 4261</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4262</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>[2048];</div>
<div class="line"><span class="lineno"> 4263</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a>;</div>
<div class="line"><span class="lineno"> 4264</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>;</div>
<div class="line"><span class="lineno"> 4265</span> </div>
<div class="line"><span class="lineno"> 4266</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inflated_size</a> = 0;</div>
<div class="line"><span class="lineno"> 4267</span><span class="preprocessor">#ifndef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno"> 4268</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a>)</div>
<div class="line"><span class="lineno"> 4269</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4270</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4271</span> </div>
<div class="line"><span class="lineno"> 4272</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>));</div>
<div class="line"><span class="lineno"> 4273</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>));</div>
<div class="line"><span class="lineno"> 4274</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.maxsize = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4275</span> </div>
<div class="line"><span class="lineno"> 4276</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>));</div>
<div class="line"><span class="lineno"> 4277</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.zalloc = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4278</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.zfree = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4279</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.opaque = <a class="code hl_define" href="fs_8c.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div>
<div class="line"><span class="lineno"> 4280</span> </div>
<div class="line"><span class="lineno"> 4281</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="fs_8c.html#aeac24933ccc3405abb3156f57b89eb1e">qz_inflateInit2</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, -<a class="code hl_define" href="fs_8c.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a>) != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno"> 4282</span>    {</div>
<div class="line"><span class="lineno"> 4283</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Inflate: inflate init error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4284</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data);</div>
<div class="line"><span class="lineno"> 4285</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4286</span>    }</div>
<div class="line"><span class="lineno"> 4287</span> </div>
<div class="line"><span class="lineno"> 4288</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.next_in = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><span class="lineno"> 4289</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_in = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 4290</span> </div>
<div class="line"><span class="lineno"> 4291</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 4292</span>    {</div>
<div class="line"><span class="lineno"> 4293</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.next_out = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>;</div>
<div class="line"><span class="lineno"> 4294</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_out = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>);</div>
<div class="line"><span class="lineno"> 4295</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>, <a class="code hl_define" href="fs_8c.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div>
<div class="line"><span class="lineno"> 4296</span>        <span class="comment">// it either returns Z_OK on progress, Z_STREAM_END on end</span></div>
<div class="line"><span class="lineno"> 4297</span>        <span class="comment">// or an error code</span></div>
<div class="line"><span class="lineno"> 4298</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>)</div>
<div class="line"><span class="lineno"> 4299</span>        {</div>
<div class="line"><span class="lineno"> 4300</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>:</div>
<div class="line"><span class="lineno"> 4301</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>:</div>
<div class="line"><span class="lineno"> 4302</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4303</span> </div>
<div class="line"><span class="lineno"> 4304</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a>:</div>
<div class="line"><span class="lineno"> 4305</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: stream error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4306</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4307</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a>:</div>
<div class="line"><span class="lineno"> 4308</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: data error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4309</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4310</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a>:</div>
<div class="line"><span class="lineno"> 4311</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: mem error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4312</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4313</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="fs_8c.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a>:</div>
<div class="line"><span class="lineno"> 4314</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: buf error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4315</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4316</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4317</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FS_Inflate: unknown error!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4318</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4319</span> </div>
<div class="line"><span class="lineno"> 4320</span>        }</div>
<div class="line"><span class="lineno"> 4321</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno"> 4322</span>        {</div>
<div class="line"><span class="lineno"> 4323</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Error after inflating %u bytes\n&quot;</span>, (<span class="keywordtype">unsigned</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.total_in);</div>
<div class="line"><span class="lineno"> 4324</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data);</div>
<div class="line"><span class="lineno"> 4325</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>);</div>
<div class="line"><span class="lineno"> 4326</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4327</span>        }</div>
<div class="line"><span class="lineno"> 4328</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>) - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>.avail_out;</div>
<div class="line"><span class="lineno"> 4329</span>        <a class="code hl_function" href="fs_8c.html#ab6f98b51d453f0acae6cc8b5804c0952">AssertBufsize</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>, <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>)));</div>
<div class="line"><span class="lineno"> 4330</span>        <a class="code hl_function" href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a>);</div>
<div class="line"><span class="lineno"> 4331</span>    } <span class="keywordflow">while</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>);</div>
<div class="line"><span class="lineno"> 4332</span> </div>
<div class="line"><span class="lineno"> 4333</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateEnd</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strm</a>);</div>
<div class="line"><span class="lineno"> 4334</span> </div>
<div class="line"><span class="lineno"> 4335</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(mempool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.cursize);</div>
<div class="line"><span class="lineno"> 4336</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>)</div>
<div class="line"><span class="lineno"> 4337</span>    {</div>
<div class="line"><span class="lineno"> 4338</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_Inflate: not enough memory in target mempool!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4339</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data);</div>
<div class="line"><span class="lineno"> 4340</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4341</span>    }</div>
<div class="line"><span class="lineno"> 4342</span> </div>
<div class="line"><span class="lineno"> 4343</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.cursize);</div>
<div class="line"><span class="lineno"> 4344</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.data);</div>
<div class="line"><span class="lineno"> 4345</span> </div>
<div class="line"><span class="lineno"> 4346</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inflated_size</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outbuf</a>.cursize;</div>
<div class="line"><span class="lineno"> 4347</span> </div>
<div class="line"><span class="lineno"> 4348</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4349</span>}</div>
<div class="ttc" id="acommon_8c_html_add6a3bc72776ec150afac55558c52a3c"><div class="ttname"><a href="common_8c.html#add6a3bc72776ec150afac55558c52a3c">SZ_Write</a></div><div class="ttdeci">void SZ_Write(sizebuf_t *buf, const unsigned char *data, int length)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00072">common.c:72</a></div></div>
<div class="ttc" id="aconsole_8c_html_a1cf9711475097b11dc41f743254ec77e"><div class="ttname"><a href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a></div><div class="ttdeci">void Con_Print(const char *msg)</div><div class="ttdoc">Prints to all appropriate console targets, and adds timestamps.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01450">console.c:1450</a></div></div>
<div class="ttc" id="afs_8c_html_a425e2f0664e1b1f75bf2bffab88d353d"><div class="ttname"><a href="fs_8c.html#a425e2f0664e1b1f75bf2bffab88d353d">Z_BUF_ERROR</a></div><div class="ttdeci">#define Z_BUF_ERROR</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00233">fs.c:233</a></div></div>
<div class="ttc" id="afs_8c_html_a9eda83d428a71752d148f38b5dbe04f2"><div class="ttname"><a href="fs_8c.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a></div><div class="ttdeci">#define Z_DATA_ERROR</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00231">fs.c:231</a></div></div>
<div class="ttc" id="afs_8c_html_aad97cde83a9a4bb77f5c3b03bb68e483"><div class="ttname"><a href="fs_8c.html#aad97cde83a9a4bb77f5c3b03bb68e483">Z_STREAM_ERROR</a></div><div class="ttdeci">#define Z_STREAM_ERROR</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00230">fs.c:230</a></div></div>
<div class="ttc" id="afs_8c_html_ab6f98b51d453f0acae6cc8b5804c0952"><div class="ttname"><a href="fs_8c.html#ab6f98b51d453f0acae6cc8b5804c0952">AssertBufsize</a></div><div class="ttdeci">static void AssertBufsize(sizebuf_t *buf, int length)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04240">fs.c:4240</a></div></div>
<div class="ttc" id="afs_8c_html_ac3b62e37b9922d9496014515acd6083a"><div class="ttname"><a href="fs_8c.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a></div><div class="ttdeci">#define Z_NO_FLUSH</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00242">fs.c:242</a></div></div>
<div class="ttc" id="afs_8c_html_ae2be6be871e377c6e2c25a7296ce320c"><div class="ttname"><a href="fs_8c.html#ae2be6be871e377c6e2c25a7296ce320c">Z_MEM_ERROR</a></div><div class="ttdeci">#define Z_MEM_ERROR</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00232">fs.c:232</a></div></div>
<div class="ttc" id="afs_8c_html_aeac24933ccc3405abb3156f57b89eb1e"><div class="ttname"><a href="fs_8c.html#aeac24933ccc3405abb3156f57b89eb1e">qz_inflateInit2</a></div><div class="ttdeci">#define qz_inflateInit2(strm, windowBits)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00481">fs.c:481</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="astructsizebuf__t_html"><div class="ttname"><a href="structsizebuf__t.html">sizebuf_t</a></div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00048">common.h:49</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>.</p>

</div>
</div>
<a id="aa67c972ffc834d1ee6a3aa38b101ba89" name="aa67c972ffc834d1ee6a3aa38b101ba89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67c972ffc834d1ee6a3aa38b101ba89">&#9670;&#160;</a></span>FS_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02325">2325</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2326</span>{</div>
<div class="line"><span class="lineno"> 2327</span>    <a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a> = <a class="code hl_define" href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a>(<span class="stringliteral">&quot;file management&quot;</span>, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2328</span> </div>
<div class="line"><span class="lineno"> 2329</span>    <a class="code hl_function" href="fs_8c.html#a6e09586378b419ef33b79a36b4067c4c">FS_Init_Commands</a>();</div>
<div class="line"><span class="lineno"> 2330</span> </div>
<div class="line"><span class="lineno"> 2331</span>    <a class="code hl_function" href="fs_8c.html#a88402d87eb304d652f6d3edd1dbb62bc">PK3_OpenLibrary</a> ();</div>
<div class="line"><span class="lineno"> 2332</span> </div>
<div class="line"><span class="lineno"> 2333</span>    <span class="comment">// initialize the self-pack (must be before COM_InitGameType as it may add command line options)</span></div>
<div class="line"><span class="lineno"> 2334</span>    <a class="code hl_function" href="fs_8c.html#af53d64801628f507322f59d4db9d8250">FS_Init_SelfPack</a>();</div>
<div class="line"><span class="lineno"> 2335</span> </div>
<div class="line"><span class="lineno"> 2336</span>    <span class="comment">// detect gamemode from commandline options or executable name</span></div>
<div class="line"><span class="lineno"> 2337</span>    <a class="code hl_function" href="com__game_8c.html#a55e06b8bf6b11f981623c64312ae0fa9">COM_InitGameType</a>();</div>
<div class="line"><span class="lineno"> 2338</span> </div>
<div class="line"><span class="lineno"> 2339</span>    <a class="code hl_function" href="fs_8c.html#a6ddf0a9358c7bf73d9fc069e937252b8">FS_Init_Dir</a>();</div>
<div class="line"><span class="lineno"> 2340</span>}</div>
<div class="ttc" id="acom__game_8c_html_a55e06b8bf6b11f981623c64312ae0fa9"><div class="ttname"><a href="com__game_8c.html#a55e06b8bf6b11f981623c64312ae0fa9">COM_InitGameType</a></div><div class="ttdeci">void COM_InitGameType(void)</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00092">com_game.c:92</a></div></div>
<div class="ttc" id="afs_8c_html_a6ddf0a9358c7bf73d9fc069e937252b8"><div class="ttname"><a href="fs_8c.html#a6ddf0a9358c7bf73d9fc069e937252b8">FS_Init_Dir</a></div><div class="ttdeci">static void FS_Init_Dir(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02114">fs.c:2114</a></div></div>
<div class="ttc" id="afs_8c_html_a6e09586378b419ef33b79a36b4067c4c"><div class="ttname"><a href="fs_8c.html#a6e09586378b419ef33b79a36b4067c4c">FS_Init_Commands</a></div><div class="ttdeci">void FS_Init_Commands(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02099">fs.c:2099</a></div></div>
<div class="ttc" id="afs_8c_html_af53d64801628f507322f59d4db9d8250"><div class="ttname"><a href="fs_8c.html#af53d64801628f507322f59d4db9d8250">FS_Init_SelfPack</a></div><div class="ttdeci">void FS_Init_SelfPack(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02282">fs.c:2282</a></div></div>
<div class="ttc" id="azone_8h_html_a7da6ffdd01b3d31cb7c89e68fad87d0d"><div class="ttname"><a href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a></div><div class="ttdeci">#define Mem_AllocPool(name, flags, parent)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00104">zone.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="host_8c_source.html#l00370">Host_Init()</a>.</p>

</div>
</div>
<a id="a6e09586378b419ef33b79a36b4067c4c" name="a6e09586378b419ef33b79a36b4067c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e09586378b419ef33b79a36b4067c4c">&#9670;&#160;</a></span>FS_Init_Commands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Init_Commands </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02099">2099</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2100</span>{</div>
<div class="line"><span class="lineno"> 2101</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a>);</div>
<div class="line"><span class="lineno"> 2102</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="fs_8c.html#ad3dada3504d3aa866f170ac2874ef4b9">fs_empty_files_in_pack_mark_deletions</a>);</div>
<div class="line"><span class="lineno"> 2103</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="fs_8c.html#ac14f7e0927785f091bb31a880847c29d">fs_unload_dlcache</a>);</div>
<div class="line"><span class="lineno"> 2104</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="fs_8c.html#a96cafb428e3f2059aa9fb50cd1cad67b">cvar_fs_gamedir</a>);</div>
<div class="line"><span class="lineno"> 2105</span> </div>
<div class="line"><span class="lineno"> 2106</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;gamedir&quot;</span>, <a class="code hl_function" href="fs_8c.html#ab3e38d157816c670cd42cc78c17b4577">FS_GameDir_f</a>, <span class="stringliteral">&quot;changes active gamedir list (can take multiple arguments), not including base directory (example usage: gamedir ctf)&quot;</span>);</div>
<div class="line"><span class="lineno"> 2107</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;fs_rescan&quot;</span>, <a class="code hl_function" href="fs_8c.html#a8d640c9bc35832e159e445d31c987e1e">FS_Rescan_f</a>, <span class="stringliteral">&quot;rescans filesystem for new pack archives and any other changes&quot;</span>);</div>
<div class="line"><span class="lineno"> 2108</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_function" href="fs_8c.html#af894b5591c7482a151cbba1737656233">FS_Path_f</a>, <span class="stringliteral">&quot;print searchpath (game directories and archives)&quot;</span>);</div>
<div class="line"><span class="lineno"> 2109</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;dir&quot;</span>, <a class="code hl_function" href="fs_8c.html#a3bc2df3b337d2d1608146cfea5ec729a">FS_Dir_f</a>, <span class="stringliteral">&quot;list files in searchpath matching an * filename pattern, one per line&quot;</span>);</div>
<div class="line"><span class="lineno"> 2110</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;ls&quot;</span>, <a class="code hl_function" href="fs_8c.html#a3cf77729e431c214a621ca3acdce5f59">FS_Ls_f</a>, <span class="stringliteral">&quot;list files in searchpath matching an * filename pattern, multiple per line&quot;</span>);</div>
<div class="line"><span class="lineno"> 2111</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;which&quot;</span>, <a class="code hl_function" href="fs_8c.html#ace56a73ea7abcc1eff8e265286da7a87">FS_Which_f</a>, <span class="stringliteral">&quot;accepts a file name as argument and reports where the file is taken from&quot;</span>);</div>
<div class="line"><span class="lineno"> 2112</span>}</div>
<div class="ttc" id="acmd_8c_html_a86fa905462db75436af48f27298204e5"><div class="ttname"><a href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a></div><div class="ttdeci">void Cmd_AddCommand(unsigned flags, const char *cmd_name, xcommand_t function, const char *description)</div><div class="ttdoc">called by the init functions of other parts of the program to register commands and functions to call...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01754">cmd.c:1754</a></div></div>
<div class="ttc" id="acmd_8h_html_a28392de86e1ad57dd3fa7870a23367f2"><div class="ttname"><a href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a></div><div class="ttdeci">#define CF_SHARED</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00067">cmd.h:67</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="afs_8c_html_a3bc2df3b337d2d1608146cfea5ec729a"><div class="ttname"><a href="fs_8c.html#a3bc2df3b337d2d1608146cfea5ec729a">FS_Dir_f</a></div><div class="ttdeci">void FS_Dir_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04037">fs.c:4037</a></div></div>
<div class="ttc" id="afs_8c_html_a3cf77729e431c214a621ca3acdce5f59"><div class="ttname"><a href="fs_8c.html#a3cf77729e431c214a621ca3acdce5f59">FS_Ls_f</a></div><div class="ttdeci">void FS_Ls_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04042">fs.c:4042</a></div></div>
<div class="ttc" id="afs_8c_html_a8d640c9bc35832e159e445d31c987e1e"><div class="ttname"><a href="fs_8c.html#a8d640c9bc35832e159e445d31c987e1e">FS_Rescan_f</a></div><div class="ttdeci">static void FS_Rescan_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01651">fs.c:1651</a></div></div>
<div class="ttc" id="afs_8c_html_a96cafb428e3f2059aa9fb50cd1cad67b"><div class="ttname"><a href="fs_8c.html#a96cafb428e3f2059aa9fb50cd1cad67b">cvar_fs_gamedir</a></div><div class="ttdeci">cvar_t cvar_fs_gamedir</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00453">fs.c:453</a></div></div>
<div class="ttc" id="afs_8c_html_ab3e38d157816c670cd42cc78c17b4577"><div class="ttname"><a href="fs_8c.html#ab3e38d157816c670cd42cc78c17b4577">FS_GameDir_f</a></div><div class="ttdeci">static void FS_GameDir_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01730">fs.c:1730</a></div></div>
<div class="ttc" id="afs_8c_html_ac14f7e0927785f091bb31a880847c29d"><div class="ttname"><a href="fs_8c.html#ac14f7e0927785f091bb31a880847c29d">fs_unload_dlcache</a></div><div class="ttdeci">cvar_t fs_unload_dlcache</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00452">fs.c:452</a></div></div>
<div class="ttc" id="afs_8c_html_ace56a73ea7abcc1eff8e265286da7a87"><div class="ttname"><a href="fs_8c.html#ace56a73ea7abcc1eff8e265286da7a87">FS_Which_f</a></div><div class="ttdeci">void FS_Which_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l04047">fs.c:4047</a></div></div>
<div class="ttc" id="afs_8c_html_aebd7e09884a0b610f5ade286f7702166"><div class="ttname"><a href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a></div><div class="ttdeci">cvar_t scr_screenshot_name</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00450">fs.c:450</a></div></div>
<div class="ttc" id="afs_8c_html_af894b5591c7482a151cbba1737656233"><div class="ttname"><a href="fs_8c.html#af894b5591c7482a151cbba1737656233">FS_Path_f</a></div><div class="ttdeci">static void FS_Path_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01060">fs.c:1060</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02325">FS_Init()</a>.</p>

</div>
</div>
<a id="a6ddf0a9358c7bf73d9fc069e937252b8" name="a6ddf0a9358c7bf73d9fc069e937252b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ddf0a9358c7bf73d9fc069e937252b8">&#9670;&#160;</a></span>FS_Init_Dir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Init_Dir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02114">2114</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2115</span>{</div>
<div class="line"><span class="lineno"> 2116</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 2117</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2118</span> </div>
<div class="line"><span class="lineno"> 2119</span>    *<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a> = 0;</div>
<div class="line"><span class="lineno"> 2120</span>    *<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a> = 0;</div>
<div class="line"><span class="lineno"> 2121</span>    *<a class="code hl_variable" href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a> = 0;</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>    <span class="comment">// -basedir &lt;path&gt;</span></div>
<div class="line"><span class="lineno"> 2124</span>    <span class="comment">// Overrides the system supplied base directory (under GAMENAME)</span></div>
<div class="line"><span class="lineno"> 2125</span><span class="comment">// COMMANDLINEOPTION: Filesystem: -basedir &lt;path&gt; chooses what base directory the game data is in, inside this there should be a data directory for the game (for example id1)</span></div>
<div class="line"><span class="lineno"> 2126</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a> (<span class="stringliteral">&quot;-basedir&quot;</span>);</div>
<div class="line"><span class="lineno"> 2127</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a>-1)</div>
<div class="line"><span class="lineno"> 2128</span>    {</div>
<div class="line"><span class="lineno"> 2129</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>));</div>
<div class="line"><span class="lineno"> 2130</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a> (<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>);</div>
<div class="line"><span class="lineno"> 2131</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0 &amp;&amp; (<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-1] == <span class="charliteral">&#39;\\&#39;</span> || <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-1] == <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line"><span class="lineno"> 2132</span>            <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-1] = 0;</div>
<div class="line"><span class="lineno"> 2133</span>    }</div>
<div class="line"><span class="lineno"> 2134</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2135</span>    {</div>
<div class="line"><span class="lineno"> 2136</span><span class="comment">// If the base directory is explicitly defined by the compilation process</span></div>
<div class="line"><span class="lineno"> 2137</span><span class="preprocessor">#ifdef DP_FS_BASEDIR</span></div>
<div class="line"><span class="lineno"> 2138</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DP_FS_BASEDIR</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>));</div>
<div class="line"><span class="lineno"> 2139</span><span class="preprocessor">#elif defined(__ANDROID__)</span></div>
<div class="line"><span class="lineno"> 2140</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>), <span class="stringliteral">&quot;/sdcard/%s/&quot;</span>, <a class="code hl_variable" href="com__game_8c.html#a582376633fa9e5da6171e80c600bdca0">gameuserdirname</a>);</div>
<div class="line"><span class="lineno"> 2141</span><span class="preprocessor">#elif defined(MACOSX)</span></div>
<div class="line"><span class="lineno"> 2142</span>        <span class="comment">// FIXME: is there a better way to find the directory outside the .app, without using Objective-C?</span></div>
<div class="line"><span class="lineno"> 2143</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[0], <span class="stringliteral">&quot;.app/&quot;</span>))</div>
<div class="line"><span class="lineno"> 2144</span>        {</div>
<div class="line"><span class="lineno"> 2145</span>            <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">split</a>;</div>
<div class="line"><span class="lineno"> 2146</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[0], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>));</div>
<div class="line"><span class="lineno"> 2147</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">split</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strstr</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <span class="stringliteral">&quot;.app/&quot;</span>);</div>
<div class="line"><span class="lineno"> 2148</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">split</a>)</div>
<div class="line"><span class="lineno"> 2149</span>            {</div>
<div class="line"><span class="lineno"> 2150</span>                <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stat</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">statresult</a>;</div>
<div class="line"><span class="lineno"> 2151</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 2152</span>                <span class="comment">// truncate to just after the .app/</span></div>
<div class="line"><span class="lineno"> 2153</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">split</a>[5] = 0;</div>
<div class="line"><span class="lineno"> 2154</span>                <span class="comment">// see if gamedir exists in Resources</span></div>
<div class="line"><span class="lineno"> 2155</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stat</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s/Contents/Resources/%s&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>), &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">statresult</a>) == 0)</div>
<div class="line"><span class="lineno"> 2156</span>                {</div>
<div class="line"><span class="lineno"> 2157</span>                    <span class="comment">// found gamedir inside Resources, use it</span></div>
<div class="line"><span class="lineno"> 2158</span>                    <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <span class="stringliteral">&quot;Contents/Resources/&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>));</div>
<div class="line"><span class="lineno"> 2159</span>                }</div>
<div class="line"><span class="lineno"> 2160</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2161</span>                {</div>
<div class="line"><span class="lineno"> 2162</span>                    <span class="comment">// no gamedir found in Resources, gamedir is probably</span></div>
<div class="line"><span class="lineno"> 2163</span>                    <span class="comment">// outside the .app, remove .app part of path</span></div>
<div class="line"><span class="lineno"> 2164</span>                    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">split</a> &gt; <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">split</a> != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 2165</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">split</a>--;</div>
<div class="line"><span class="lineno"> 2166</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">split</a> = 0;</div>
<div class="line"><span class="lineno"> 2167</span>                }</div>
<div class="line"><span class="lineno"> 2168</span>            }</div>
<div class="line"><span class="lineno"> 2169</span>        }</div>
<div class="line"><span class="lineno"> 2170</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2171</span>    }</div>
<div class="line"><span class="lineno"> 2172</span> </div>
<div class="line"><span class="lineno"> 2173</span>    <span class="comment">// make sure the appending of a path separator won&#39;t create an unterminated string</span></div>
<div class="line"><span class="lineno"> 2174</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a> + <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>) - 2, 0, 2);</div>
<div class="line"><span class="lineno"> 2175</span>    <span class="comment">// add a path separator to the end of the basedir if it lacks one</span></div>
<div class="line"><span class="lineno"> 2176</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>[0] &amp;&amp; <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>) - 1] != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>) - 1] != <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><span class="lineno"> 2177</span>        <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <span class="stringliteral">&quot;/&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>));</div>
<div class="line"><span class="lineno"> 2178</span> </div>
<div class="line"><span class="lineno"> 2179</span>    <span class="comment">// Add the personal game directory</span></div>
<div class="line"><span class="lineno"> 2180</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-userdir&quot;</span>)) &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> - 1)</div>
<div class="line"><span class="lineno"> 2181</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>), <span class="stringliteral">&quot;%s/&quot;</span>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1]);</div>
<div class="line"><span class="lineno"> 2182</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-nohome&quot;</span>))</div>
<div class="line"><span class="lineno"> 2183</span>        *<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a> = 0; <span class="comment">// user wants roaming installation, no userdir</span></div>
<div class="line"><span class="lineno"> 2184</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2185</span>    {</div>
<div class="line"><span class="lineno"> 2186</span><span class="preprocessor">#ifdef DP_FS_USERDIR</span></div>
<div class="line"><span class="lineno"> 2187</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DP_FS_USERDIR</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>));</div>
<div class="line"><span class="lineno"> 2188</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2189</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>;</div>
<div class="line"><span class="lineno"> 2190</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">highestuserdirmode</a> = <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81e938932b000693ca3814033ae2c814">USERDIRMODE_COUNT</a> - 1;</div>
<div class="line"><span class="lineno"> 2191</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a> = <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81e938932b000693ca3814033ae2c814">USERDIRMODE_COUNT</a> - 1;</div>
<div class="line"><span class="lineno"> 2192</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirstatus</a>[<a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81e938932b000693ca3814033ae2c814">USERDIRMODE_COUNT</a>];</div>
<div class="line"><span class="lineno"> 2193</span><span class="preprocessor"># ifdef WIN32</span></div>
<div class="line"><span class="lineno"> 2194</span>        <span class="comment">// historical behavior...</span></div>
<div class="line"><span class="lineno"> 2195</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>, <span class="stringliteral">&quot;id1&quot;</span>))</div>
<div class="line"><span class="lineno"> 2196</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a> = <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81a003b219db721fa997d97091ec7948">USERDIRMODE_NOHOME</a>;</div>
<div class="line"><span class="lineno"> 2197</span><span class="preprocessor"># endif</span></div>
<div class="line"><span class="lineno"> 2198</span>        <span class="comment">// check what limitations the user wants to impose</span></div>
<div class="line"><span class="lineno"> 2199</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-home&quot;</span>)) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a> = <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dbac56ed4d25b038731580ea22446b91629">USERDIRMODE_HOME</a>;</div>
<div class="line"><span class="lineno"> 2200</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-mygames&quot;</span>)) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a> = <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba9bf136b9635b7d87b832e87260c88ffd">USERDIRMODE_MYGAMES</a>;</div>
<div class="line"><span class="lineno"> 2201</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-savedgames&quot;</span>)) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a> = <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba6524cb667ed6ee08d5cb07fbe22b4d2e">USERDIRMODE_SAVEDGAMES</a>;</div>
<div class="line"><span class="lineno"> 2202</span>        <span class="comment">// gather the status of the possible userdirs</span></div>
<div class="line"><span class="lineno"> 2203</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a> &lt; <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81e938932b000693ca3814033ae2c814">USERDIRMODE_COUNT</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>++)</div>
<div class="line"><span class="lineno"> 2204</span>        {</div>
<div class="line"><span class="lineno"> 2205</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirstatus</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>] = <a class="code hl_function" href="fs_8c.html#ad22ec4a7f71582cf82cfc7fb2e27ac88">FS_ChooseUserDir</a>((<a class="code hl_enumeration" href="common_8h.html#a5ff7c070c39a9f2242250721e63067db">userdirmode_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>));</div>
<div class="line"><span class="lineno"> 2206</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirstatus</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>] == 1)</div>
<div class="line"><span class="lineno"> 2207</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;userdir %i = %s (writable)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>);</div>
<div class="line"><span class="lineno"> 2208</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirstatus</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>] == 0)</div>
<div class="line"><span class="lineno"> 2209</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;userdir %i = %s (not writable or does not exist)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>);</div>
<div class="line"><span class="lineno"> 2210</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2211</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;userdir %i (not applicable)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>);</div>
<div class="line"><span class="lineno"> 2212</span>        }</div>
<div class="line"><span class="lineno"> 2213</span>        <span class="comment">// some games may prefer writing to basedir, but if write fails we</span></div>
<div class="line"><span class="lineno"> 2214</span>        <span class="comment">// have to search for a real userdir...</span></div>
<div class="line"><span class="lineno"> 2215</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a> == 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirstatus</a>[0] &lt; 1)</div>
<div class="line"><span class="lineno"> 2216</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">highestuserdirmode</a>;</div>
<div class="line"><span class="lineno"> 2217</span>        <span class="comment">// check for an existing userdir and continue using it if possible...</span></div>
<div class="line"><span class="lineno"> 2218</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a> = <a class="code hl_enumvalue" href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81e938932b000693ca3814033ae2c814">USERDIRMODE_COUNT</a> - 1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a> &gt; 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>--)</div>
<div class="line"><span class="lineno"> 2219</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirstatus</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>] == 1)</div>
<div class="line"><span class="lineno"> 2220</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2221</span>        <span class="comment">// if no existing userdir found, make a new one...</span></div>
<div class="line"><span class="lineno"> 2222</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a> == 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 2223</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">preferreduserdirmode</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a> &gt; 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>--)</div>
<div class="line"><span class="lineno"> 2224</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userdirstatus</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>] &gt;= 0)</div>
<div class="line"><span class="lineno"> 2225</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2226</span>        <span class="comment">// and finally, we picked one...</span></div>
<div class="line"><span class="lineno"> 2227</span>        <a class="code hl_function" href="fs_8c.html#ad22ec4a7f71582cf82cfc7fb2e27ac88">FS_ChooseUserDir</a>((<a class="code hl_enumeration" href="common_8h.html#a5ff7c070c39a9f2242250721e63067db">userdirmode_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>));</div>
<div class="line"><span class="lineno"> 2228</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;userdir %i is the winner\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirmode</a>);</div>
<div class="line"><span class="lineno"> 2229</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2230</span>    }</div>
<div class="line"><span class="lineno"> 2231</span> </div>
<div class="line"><span class="lineno"> 2232</span>    <span class="comment">// if userdir equal to basedir, clear it to avoid confusion later</span></div>
<div class="line"><span class="lineno"> 2233</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>))</div>
<div class="line"><span class="lineno"> 2234</span>        <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 2235</span> </div>
<div class="line"><span class="lineno"> 2236</span>    <a class="code hl_function" href="fs_8c.html#ae2dc0c72e3d74aa1c95f95bd639f91bf">FS_ListGameDirs</a>();</div>
<div class="line"><span class="lineno"> 2237</span> </div>
<div class="line"><span class="lineno"> 2238</span>    p = <a class="code hl_function" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a>(<a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>);</div>
<div class="line"><span class="lineno"> 2239</span>    <span class="keywordflow">if</span>(!p || p == <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a>)</div>
<div class="line"><span class="lineno"> 2240</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;WARNING: base gamedir %s%s/ not found!\n&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>);</div>
<div class="line"><span class="lineno"> 2241</span> </div>
<div class="line"><span class="lineno"> 2242</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>)</div>
<div class="line"><span class="lineno"> 2243</span>    {</div>
<div class="line"><span class="lineno"> 2244</span>        p = <a class="code hl_function" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a>(<a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>);</div>
<div class="line"><span class="lineno"> 2245</span>        <span class="keywordflow">if</span>(!p || p == <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a>)</div>
<div class="line"><span class="lineno"> 2246</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;WARNING: base gamedir %s%s/ not found!\n&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>);</div>
<div class="line"><span class="lineno"> 2247</span>    }</div>
<div class="line"><span class="lineno"> 2248</span> </div>
<div class="line"><span class="lineno"> 2249</span>    <span class="comment">// -game &lt;gamedir&gt;</span></div>
<div class="line"><span class="lineno"> 2250</span>    <span class="comment">// Adds basedir/gamedir as an override game</span></div>
<div class="line"><span class="lineno"> 2251</span>    <span class="comment">// LadyHavoc: now supports multiple -game directories</span></div>
<div class="line"><span class="lineno"> 2252</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> &amp;&amp; <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a> &lt; <a class="code hl_define" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2253</span>    {</div>
<div class="line"><span class="lineno"> 2254</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><span class="lineno"> 2255</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2256</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a> (<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="stringliteral">&quot;-game&quot;</span>) &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a>-1)</div>
<div class="line"><span class="lineno"> 2257</span>        {</div>
<div class="line"><span class="lineno"> 2258</span>            <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++;</div>
<div class="line"><span class="lineno"> 2259</span>            p = <a class="code hl_function" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a>(<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 2260</span>            <span class="keywordflow">if</span>(!p)</div>
<div class="line"><span class="lineno"> 2261</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;WARNING: Nasty -game name rejected: %s\n&quot;</span>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 2262</span>            <span class="keywordflow">if</span>(p == <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a>)</div>
<div class="line"><span class="lineno"> 2263</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;WARNING: -game %s%s/ not found!\n&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 2264</span>            <span class="comment">// add the gamedir to the list of active gamedirs</span></div>
<div class="line"><span class="lineno"> 2265</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a>], <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a>]));</div>
<div class="line"><span class="lineno"> 2266</span>            <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a>++;</div>
<div class="line"><span class="lineno"> 2267</span>        }</div>
<div class="line"><span class="lineno"> 2268</span>    }</div>
<div class="line"><span class="lineno"> 2269</span> </div>
<div class="line"><span class="lineno"> 2270</span>    <span class="comment">// generate the searchpath</span></div>
<div class="line"><span class="lineno"> 2271</span>    <a class="code hl_function" href="fs_8c.html#a2790033183896d4ab46de75305b40786">FS_Rescan</a>();</div>
<div class="line"><span class="lineno"> 2272</span> </div>
<div class="line"><span class="lineno"> 2273</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="thread_8h.html#a4af21639b1ace74ffbc47e953f7a0970">Thread_HasThreads</a>())</div>
<div class="line"><span class="lineno"> 2274</span>        <a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a> = <a class="code hl_define" href="thread_8h.html#a4fe4e5bb1feca332e6957d1c27a87b58">Thread_CreateMutex</a>();</div>
<div class="line"><span class="lineno"> 2275</span>}</div>
<div class="ttc" id="acom__game_8c_html_a542f48e6700410ee45161841384b2460"><div class="ttname"><a href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a></div><div class="ttdeci">const char * gamedirname2</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00030">com_game.c:30</a></div></div>
<div class="ttc" id="acommon_8h_html_a5ff7c070c39a9f2242250721e63067db"><div class="ttname"><a href="common_8h.html#a5ff7c070c39a9f2242250721e63067db">userdirmode_t</a></div><div class="ttdeci">userdirmode_t</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00277">common.h:278</a></div></div>
<div class="ttc" id="acommon_8h_html_a5ff7c070c39a9f2242250721e63067dba81e938932b000693ca3814033ae2c814"><div class="ttname"><a href="common_8h.html#a5ff7c070c39a9f2242250721e63067dba81e938932b000693ca3814033ae2c814">USERDIRMODE_COUNT</a></div><div class="ttdeci">@ USERDIRMODE_COUNT</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00284">common.h:283</a></div></div>
<div class="ttc" id="aconsole_8h_html_a27b052ed2a962d8ec1b9e922d0813058"><div class="ttname"><a href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a></div><div class="ttdeci">#define CON_WARN</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00096">console.h:96</a></div></div>
<div class="ttc" id="afs_8c_html_aac2514245460033b5ce54558ee2fe4a4"><div class="ttname"><a href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a></div><div class="ttdeci">void * fs_mutex</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00430">fs.c:430</a></div></div>
<div class="ttc" id="afs_8c_html_ad22ec4a7f71582cf82cfc7fb2e27ac88"><div class="ttname"><a href="fs_8c.html#ad22ec4a7f71582cf82cfc7fb2e27ac88">FS_ChooseUserDir</a></div><div class="ttdeci">static int FS_ChooseUserDir(userdirmode_t userdirmode, char *userdir, size_t userdirsize)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01928">fs.c:1928</a></div></div>
<div class="ttc" id="afs_8c_html_ae2dc0c72e3d74aa1c95f95bd639f91bf"><div class="ttname"><a href="fs_8c.html#ae2dc0c72e3d74aa1c95f95bd639f91bf">FS_ListGameDirs</a></div><div class="ttdeci">static void FS_ListGameDirs(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01836">fs.c:1836</a></div></div>
<div class="ttc" id="asys_8h_html_ae9b9461780a044853793708c49317b28"><div class="ttname"><a href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a></div><div class="ttdeci">int Sys_CheckParm(const char *parm)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00324">sys_shared.c:324</a></div></div>
<div class="ttc" id="athread_8h_html_a4af21639b1ace74ffbc47e953f7a0970"><div class="ttname"><a href="thread_8h.html#a4af21639b1ace74ffbc47e953f7a0970">Thread_HasThreads</a></div><div class="ttdeci">qbool Thread_HasThreads(void)</div><div class="ttdef"><b>Definition</b> <a href="thread__null_8c_source.html#l00013">thread_null.c:13</a></div></div>
<div class="ttc" id="athread_8h_html_a4fe4e5bb1feca332e6957d1c27a87b58"><div class="ttname"><a href="thread_8h.html#a4fe4e5bb1feca332e6957d1c27a87b58">Thread_CreateMutex</a></div><div class="ttdeci">#define Thread_CreateMutex()</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00015">thread.h:15</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02325">FS_Init()</a>.</p>

</div>
</div>
<a id="af53d64801628f507322f59d4db9d8250" name="af53d64801628f507322f59d4db9d8250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af53d64801628f507322f59d4db9d8250">&#9670;&#160;</a></span>FS_Init_SelfPack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Init_SelfPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02282">2282</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2283</span>{</div>
<div class="line"><span class="lineno"> 2284</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno"> 2285</span> </div>
<div class="line"><span class="lineno"> 2286</span>    <span class="comment">// Load darkplaces.opt from the FS.</span></div>
<div class="line"><span class="lineno"> 2287</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-noopt&quot;</span>))</div>
<div class="line"><span class="lineno"> 2288</span>    {</div>
<div class="line"><span class="lineno"> 2289</span>        <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = (<span class="keywordtype">char</span> *) <a class="code hl_function" href="fs_8c.html#aadd82baa9c0e3ab7dc26282cb0eaae9e">FS_SysLoadFile</a>(<span class="stringliteral">&quot;darkplaces.opt&quot;</span>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2290</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><span class="lineno"> 2291</span>        {</div>
<div class="line"><span class="lineno"> 2292</span>            <a class="code hl_function" href="fs_8c.html#a0ec3d1b324c9c77f9f86c66a1ab40a4d">COM_InsertFlags</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 2293</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 2294</span>        }</div>
<div class="line"><span class="lineno"> 2295</span>    }</div>
<div class="line"><span class="lineno"> 2296</span> </div>
<div class="line"><span class="lineno"> 2297</span><span class="preprocessor">#ifndef USE_RWOPS</span></div>
<div class="line"><span class="lineno"> 2298</span>    <span class="comment">// Provide the SelfPack.</span></div>
<div class="line"><span class="lineno"> 2299</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-noselfpack&quot;</span>) &amp;&amp; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a7469c65cc97f8ca4c74430b9d42b93a1">selffd</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 2300</span>    {</div>
<div class="line"><span class="lineno"> 2301</span>        <a class="code hl_variable" href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a> = <a class="code hl_function" href="fs_8c.html#a3dcf5b9349e0ac75ba5a4098f5269fb3">FS_LoadPackPK3FromFD</a>(<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[0], <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a7469c65cc97f8ca4c74430b9d42b93a1">selffd</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2302</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="fs_8c.html#ac5556a951783a7a5154a770f880b27ef">fs_selfpack</a>)</div>
<div class="line"><span class="lineno"> 2303</span>        {</div>
<div class="line"><span class="lineno"> 2304</span>            <a class="code hl_function" href="fs_8c.html#a764b9be01a515113f590f26417b3bdc1">FS_AddSelfPack</a>();</div>
<div class="line"><span class="lineno"> 2305</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-noopt&quot;</span>))</div>
<div class="line"><span class="lineno"> 2306</span>            {</div>
<div class="line"><span class="lineno"> 2307</span>                <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = (<span class="keywordtype">char</span> *) <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<span class="stringliteral">&quot;darkplaces.opt&quot;</span>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2308</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><span class="lineno"> 2309</span>                {</div>
<div class="line"><span class="lineno"> 2310</span>                    <a class="code hl_function" href="fs_8c.html#a0ec3d1b324c9c77f9f86c66a1ab40a4d">COM_InsertFlags</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 2311</span>                    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><span class="lineno"> 2312</span>                }</div>
<div class="line"><span class="lineno"> 2313</span>            }</div>
<div class="line"><span class="lineno"> 2314</span>        }</div>
<div class="line"><span class="lineno"> 2315</span>    }</div>
<div class="line"><span class="lineno"> 2316</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2317</span>}</div>
<div class="ttc" id="afs_8c_html_a0ec3d1b324c9c77f9f86c66a1ab40a4d"><div class="ttname"><a href="fs_8c.html#a0ec3d1b324c9c77f9f86c66a1ab40a4d">COM_InsertFlags</a></div><div class="ttdeci">static void COM_InsertFlags(const char *buf)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01893">fs.c:1893</a></div></div>
<div class="ttc" id="afs_8c_html_a3dcf5b9349e0ac75ba5a4098f5269fb3"><div class="ttname"><a href="fs_8c.html#a3dcf5b9349e0ac75ba5a4098f5269fb3">FS_LoadPackPK3FromFD</a></div><div class="ttdeci">static pack_t * FS_LoadPackPK3FromFD(const char *packfile, filedesc_t packhandle, qbool silent)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00831">fs.c:831</a></div></div>
<div class="ttc" id="afs_8c_html_a764b9be01a515113f590f26417b3bdc1"><div class="ttname"><a href="fs_8c.html#a764b9be01a515113f590f26417b3bdc1">FS_AddSelfPack</a></div><div class="ttdeci">static void FS_AddSelfPack(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01528">fs.c:1528</a></div></div>
<div class="ttc" id="afs_8c_html_aadd82baa9c0e3ab7dc26282cb0eaae9e"><div class="ttname"><a href="fs_8c.html#aadd82baa9c0e3ab7dc26282cb0eaae9e">FS_SysLoadFile</a></div><div class="ttdeci">unsigned char * FS_SysLoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03540">fs.c:3540</a></div></div>
<div class="ttc" id="astructsys__t_html_a7469c65cc97f8ca4c74430b9d42b93a1"><div class="ttname"><a href="structsys__t.html#a7469c65cc97f8ca4c74430b9d42b93a1">sys_t::selffd</a></div><div class="ttdeci">int selffd</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00144">sys.h:144</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02325">FS_Init()</a>.</p>

</div>
</div>
<a id="afb796ba35bc293b2cf0fef7e4b14f65c" name="afb796ba35bc293b2cf0fef7e4b14f65c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb796ba35bc293b2cf0fef7e4b14f65c">&#9670;&#160;</a></span>FS_IsRegisteredQuakePack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_IsRegisteredQuakePack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04096">4096</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4097</span>{</div>
<div class="line"><span class="lineno"> 4098</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 4099</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>;</div>
<div class="line"><span class="lineno"> 4100</span> </div>
<div class="line"><span class="lineno"> 4101</span>    <span class="comment">// search through the path, one element at a time</span></div>
<div class="line"><span class="lineno"> 4102</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>)</div>
<div class="line"><span class="lineno"> 4103</span>    {</div>
<div class="line"><span class="lineno"> 4104</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;vpack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="fs_8c.html#a763b2c4798fd52f16e15b61b8d94f05d">FS_FileWithoutPath</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename), <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>))</div>
<div class="line"><span class="lineno"> 4105</span>            <span class="comment">// TODO do we want to support vpacks in here too?</span></div>
<div class="line"><span class="lineno"> 4106</span>        {</div>
<div class="line"><span class="lineno"> 4107</span>            <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a>) (<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str1</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str2</a>);</div>
<div class="line"><span class="lineno"> 4108</span>            <span class="keywordtype">int</span> left, <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>;</div>
<div class="line"><span class="lineno"> 4109</span> </div>
<div class="line"><span class="lineno"> 4110</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack;</div>
<div class="line"><span class="lineno"> 4111</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;<a class="code hl_variable" href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">ignorecase</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>;</div>
<div class="line"><span class="lineno"> 4112</span> </div>
<div class="line"><span class="lineno"> 4113</span>            <span class="comment">// Look for the file (binary search)</span></div>
<div class="line"><span class="lineno"> 4114</span>            left = 0;</div>
<div class="line"><span class="lineno"> 4115</span>            <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;numfiles - 1;</div>
<div class="line"><span class="lineno"> 4116</span>            <span class="keywordflow">while</span> (left &lt;= <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>)</div>
<div class="line"><span class="lineno"> 4117</span>            {</div>
<div class="line"><span class="lineno"> 4118</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>;</div>
<div class="line"><span class="lineno"> 4119</span> </div>
<div class="line"><span class="lineno"> 4120</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> = (left + <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a>) / 2;</div>
<div class="line"><span class="lineno"> 4121</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp_funct</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;files[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a>].name, <span class="stringliteral">&quot;gfx/pop.lmp&quot;</span>);</div>
<div class="line"><span class="lineno"> 4122</span> </div>
<div class="line"><span class="lineno"> 4123</span>                <span class="comment">// Found it</span></div>
<div class="line"><span class="lineno"> 4124</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>)</div>
<div class="line"><span class="lineno"> 4125</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4126</span> </div>
<div class="line"><span class="lineno"> 4127</span>                <span class="comment">// If we&#39;re too far in the list</span></div>
<div class="line"><span class="lineno"> 4128</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 4129</span>                    <a class="code hl_variable" href="sv__user_8c.html#aa462954db5cc506fabe811dc11b3e1a4">right</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> - 1;</div>
<div class="line"><span class="lineno"> 4130</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4131</span>                    left = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">middle</a> + 1;</div>
<div class="line"><span class="lineno"> 4132</span>            }</div>
<div class="line"><span class="lineno"> 4133</span> </div>
<div class="line"><span class="lineno"> 4134</span>            <span class="comment">// we found the requested pack but it is not registered quake</span></div>
<div class="line"><span class="lineno"> 4135</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4136</span>        }</div>
<div class="line"><span class="lineno"> 4137</span>    }</div>
<div class="line"><span class="lineno"> 4138</span> </div>
<div class="line"><span class="lineno"> 4139</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4140</span>}</div>
<div class="ttc" id="afs_8c_html_a763b2c4798fd52f16e15b61b8d94f05d"><div class="ttname"><a href="fs_8c.html#a763b2c4798fd52f16e15b61b8d94f05d">FS_FileWithoutPath</a></div><div class="ttdeci">const char * FS_FileWithoutPath(const char *in)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01440">fs.c:1440</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>.</p>

</div>
</div>
<a id="a06ba1484d7c9d75915e711a0aec929ce" name="a06ba1484d7c9d75915e711a0aec929ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ba1484d7c9d75915e711a0aec929ce">&#9670;&#160;</a></span>FS_ListDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_ListDirectory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>oneperline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03953">3953</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3954</span>{</div>
<div class="line"><span class="lineno"> 3955</span>    <span class="keywordtype">int</span> numfiles;</div>
<div class="line"><span class="lineno"> 3956</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcolumns</a>;</div>
<div class="line"><span class="lineno"> 3957</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numlines</a>;</div>
<div class="line"><span class="lineno"> 3958</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">columnwidth</a>;</div>
<div class="line"><span class="lineno"> 3959</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebufpos</a>;</div>
<div class="line"><span class="lineno"> 3960</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><span class="lineno"> 3961</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>;</div>
<div class="line"><span class="lineno"> 3962</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebuf</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><span class="lineno"> 3963</span>    <a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 3964</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 3965</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</div>
<div class="line"><span class="lineno"> 3966</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3967</span>    numfiles = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;numfilenames;</div>
<div class="line"><span class="lineno"> 3968</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oneperline</a>)</div>
<div class="line"><span class="lineno"> 3969</span>    {</div>
<div class="line"><span class="lineno"> 3970</span>        <span class="comment">// FIXME: the names could be added to one column list and then</span></div>
<div class="line"><span class="lineno"> 3971</span>        <span class="comment">// gradually shifted into the next column if they fit, and then the</span></div>
<div class="line"><span class="lineno"> 3972</span>        <span class="comment">// next to make a compact variable width listing but it&#39;s a lot more</span></div>
<div class="line"><span class="lineno"> 3973</span>        <span class="comment">// complicated...</span></div>
<div class="line"><span class="lineno"> 3974</span>        <span class="comment">// find width for columns</span></div>
<div class="line"><span class="lineno"> 3975</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">columnwidth</a> = 0;</div>
<div class="line"><span class="lineno"> 3976</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numfiles;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3977</span>        {</div>
<div class="line"><span class="lineno"> 3978</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 3979</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">columnwidth</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</div>
<div class="line"><span class="lineno"> 3980</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">columnwidth</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><span class="lineno"> 3981</span>        }</div>
<div class="line"><span class="lineno"> 3982</span>        <span class="comment">// count the spacing character</span></div>
<div class="line"><span class="lineno"> 3983</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">columnwidth</a>++;</div>
<div class="line"><span class="lineno"> 3984</span>        <span class="comment">// calculate number of columns</span></div>
<div class="line"><span class="lineno"> 3985</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcolumns</a> = <a class="code hl_variable" href="fs_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a> / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">columnwidth</a>;</div>
<div class="line"><span class="lineno"> 3986</span>        <span class="comment">// don&#39;t bother with the column printing if it&#39;s only one column</span></div>
<div class="line"><span class="lineno"> 3987</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcolumns</a> &gt;= 2)</div>
<div class="line"><span class="lineno"> 3988</span>        {</div>
<div class="line"><span class="lineno"> 3989</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numlines</a> = (numfiles + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcolumns</a> - 1) / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcolumns</a>;</div>
<div class="line"><span class="lineno"> 3990</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numlines</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3991</span>            {</div>
<div class="line"><span class="lineno"> 3992</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebufpos</a> = 0;</div>
<div class="line"><span class="lineno"> 3993</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcolumns</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 3994</span>                {</div>
<div class="line"><span class="lineno"> 3995</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcolumns</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 3996</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> &lt; numfiles)</div>
<div class="line"><span class="lineno"> 3997</span>                    {</div>
<div class="line"><span class="lineno"> 3998</span>                        <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>];</div>
<div class="line"><span class="lineno"> 3999</span>                        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebufpos</a> + 1 &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebuf</a>);<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4000</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebuf</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebufpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];</div>
<div class="line"><span class="lineno"> 4001</span>                        <span class="comment">// space out name unless it&#39;s the last on the line</span></div>
<div class="line"><span class="lineno"> 4002</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> + 1 &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcolumns</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> + 1 &lt; numfiles)</div>
<div class="line"><span class="lineno"> 4003</span>                            <span class="keywordflow">for</span> (;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">columnwidth</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebufpos</a> + 1 &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebuf</a>);<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4004</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebuf</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebufpos</a>++] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><span class="lineno"> 4005</span>                    }</div>
<div class="line"><span class="lineno"> 4006</span>                }</div>
<div class="line"><span class="lineno"> 4007</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebuf</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebufpos</a>] = 0;</div>
<div class="line"><span class="lineno"> 4008</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linebuf</a>);</div>
<div class="line"><span class="lineno"> 4009</span>            }</div>
<div class="line"><span class="lineno"> 4010</span>        }</div>
<div class="line"><span class="lineno"> 4011</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4012</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oneperline</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4013</span>    }</div>
<div class="line"><span class="lineno"> 4014</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oneperline</a>)</div>
<div class="line"><span class="lineno"> 4015</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numfiles;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4016</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 4017</span>    <a class="code hl_function" href="fs_8c.html#a507c1fe37a20105eb2c08896f0d399a1">FS_FreeSearch</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>);</div>
<div class="line"><span class="lineno"> 4018</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)numfiles;</div>
<div class="line"><span class="lineno"> 4019</span>}</div>
<div class="ttc" id="afs_8c_html_a507c1fe37a20105eb2c08896f0d399a1"><div class="ttname"><a href="fs_8c.html#a507c1fe37a20105eb2c08896f0d399a1">FS_FreeSearch</a></div><div class="ttdeci">void FS_FreeSearch(fssearch_t *search)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03947">fs.c:3947</a></div></div>
<div class="ttc" id="afs_8c_html_a637b96ed07f8e70398c51a8bc3ce4fb9"><div class="ttname"><a href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a></div><div class="ttdeci">fssearch_t * FS_Search(const char *pattern, int caseinsensitive, int quiet, const char *packfile)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03740">fs.c:3740</a></div></div>
<div class="ttc" id="afs_8c_html_af3cd1a17fe286da8d797e4706db935b2"><div class="ttname"><a href="fs_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a></div><div class="ttdeci">int con_linewidth</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00098">console.c:98</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a119f8457078d7390fb45ea0838adb806"><div class="ttname"><a href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a></div><div class="ttdeci">#define MAX_INPUTLINE</div><div class="ttdoc">maximum size of console commandline, QuakeC strings, and many other text processing buffers</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00094">qdefs.h:94</a></div></div>
<div class="ttc" id="astructfssearch__t_html"><div class="ttname"><a href="structfssearch__t.html">fssearch_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00108">fs.h:109</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l04021">FS_ListDirectoryCmd()</a>.</p>

</div>
</div>
<a id="ae2256a61edc074b40e3c52e307df7140" name="ae2256a61edc074b40e3c52e307df7140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2256a61edc074b40e3c52e307df7140">&#9670;&#160;</a></span>FS_ListDirectoryCmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_ListDirectoryCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>cmdname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>oneperline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04021">4021</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4022</span>{</div>
<div class="line"><span class="lineno"> 4023</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>;</div>
<div class="line"><span class="lineno"> 4024</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &gt;= 3)</div>
<div class="line"><span class="lineno"> 4025</span>    {</div>
<div class="line"><span class="lineno"> 4026</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;usage:\n%s [path/pattern]\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmdname</a>);</div>
<div class="line"><span class="lineno"> 4027</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4028</span>    }</div>
<div class="line"><span class="lineno"> 4029</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) == 2)</div>
<div class="line"><span class="lineno"> 4030</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a> = <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1);</div>
<div class="line"><span class="lineno"> 4031</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4032</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a> = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><span class="lineno"> 4033</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="fs_8c.html#a06ba1484d7c9d75915e711a0aec929ce">FS_ListDirectory</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oneperline</a>))</div>
<div class="line"><span class="lineno"> 4034</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;No files found.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4035</span>}</div>
<div class="ttc" id="afs_8c_html_a06ba1484d7c9d75915e711a0aec929ce"><div class="ttname"><a href="fs_8c.html#a06ba1484d7c9d75915e711a0aec929ce">FS_ListDirectory</a></div><div class="ttdeci">static int FS_ListDirectory(const char *pattern, int oneperline)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03953">fs.c:3953</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l04037">FS_Dir_f()</a>, and <a class="el" href="fs_8c_source.html#l04042">FS_Ls_f()</a>.</p>

</div>
</div>
<a id="ae2dc0c72e3d74aa1c95f95bd639f91bf" name="ae2dc0c72e3d74aa1c95f95bd639f91bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2dc0c72e3d74aa1c95f95bd639f91bf">&#9670;&#160;</a></span>FS_ListGameDirs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_ListGameDirs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01836">1836</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1837</span>{</div>
<div class="line"><span class="lineno"> 1838</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> list, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list2</a>;</div>
<div class="line"><span class="lineno"> 1839</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1840</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *info;</div>
<div class="line"><span class="lineno"> 1841</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1842</span> </div>
<div class="line"><span class="lineno"> 1843</span>    <a class="code hl_variable" href="fs_8c.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a> = 0;</div>
<div class="line"><span class="lineno"> 1844</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a>)</div>
<div class="line"><span class="lineno"> 1845</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a>);</div>
<div class="line"><span class="lineno"> 1846</span> </div>
<div class="line"><span class="lineno"> 1847</span>    <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;list);</div>
<div class="line"><span class="lineno"> 1848</span>    <a class="code hl_function" href="filematch_8c.html#aa59d9bf858a98da656f509fe40678be6">listdirectory</a>(&amp;list, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#ad14136292432bbbe329d4ab28ea04b37">fs_basedir</a>), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1849</span>    <a class="code hl_function" href="filematch_8c.html#aa59d9bf858a98da656f509fe40678be6">listdirectory</a>(&amp;list, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s/&quot;</span>, <a class="code hl_variable" href="fs_8c.html#afffc20194b866aa9ea07bed3f2c5a30d">fs_userdir</a>), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1850</span>    <a class="code hl_function" href="filematch_8c.html#a3462b7b4d7253c46111da15a55b31906">stringlistsort</a>(&amp;list, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1851</span> </div>
<div class="line"><span class="lineno"> 1852</span>    <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list2</a>);</div>
<div class="line"><span class="lineno"> 1853</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; list.<a class="code hl_variable" href="structstringlist__t.html#a3d32c6f326383f31d232751b91d7b605">numstrings</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1854</span>    {</div>
<div class="line"><span class="lineno"> 1855</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1856</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-1], list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><span class="lineno"> 1857</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1858</span>        info = <a class="code hl_function" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a>(list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1859</span>        <span class="keywordflow">if</span>(!info)</div>
<div class="line"><span class="lineno"> 1860</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1861</span>        <span class="keywordflow">if</span>(info == <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a>)</div>
<div class="line"><span class="lineno"> 1862</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1863</span>        <span class="keywordflow">if</span>(!*info)</div>
<div class="line"><span class="lineno"> 1864</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1865</span>        <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list2</a>, list.<a class="code hl_variable" href="structstringlist__t.html#a37587f484618c093ad8a522e3a1d53c0">strings</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1866</span>    }</div>
<div class="line"><span class="lineno"> 1867</span>    <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>(&amp;list);</div>
<div class="line"><span class="lineno"> 1868</span> </div>
<div class="line"><span class="lineno"> 1869</span>    <a class="code hl_variable" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a> = (<a class="code hl_struct" href="structgamedir__t.html">gamedir_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list2</a>.numstrings * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a>));</div>
<div class="line"><span class="lineno"> 1870</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list2</a>.numstrings; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1871</span>    {</div>
<div class="line"><span class="lineno"> 1872</span>        info = <a class="code hl_function" href="fs_8c.html#a360bff9bae9632be880e851386abfa23">FS_CheckGameDir</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list2</a>.strings[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1873</span>        <span class="comment">// all this cannot happen any more, but better be safe than sorry</span></div>
<div class="line"><span class="lineno"> 1874</span>        <span class="keywordflow">if</span>(!info)</div>
<div class="line"><span class="lineno"> 1875</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1876</span>        <span class="keywordflow">if</span>(info == <a class="code hl_variable" href="fs_8c.html#acb0173e463d50a2da05a01efcb48670b">fs_checkgamedir_missing</a>)</div>
<div class="line"><span class="lineno"> 1877</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1878</span>        <span class="keywordflow">if</span>(!*info)</div>
<div class="line"><span class="lineno"> 1879</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1880</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a>[<a class="code hl_variable" href="fs_8c.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a>].<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">list2</a>.strings[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a>[<a class="code hl_variable" href="fs_8c.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a>].<a class="code hl_variable" href="structgamedir__t.html#a54533e3cce50009332953d8728b44730">name</a>));</div>
<div class="line"><span class="lineno"> 1881</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a>[<a class="code hl_variable" href="fs_8c.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a>].description, info, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a>[<a class="code hl_variable" href="fs_8c.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a>].description));</div>
<div class="line"><span class="lineno"> 1882</span>        ++<a class="code hl_variable" href="fs_8c.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a>;</div>
<div class="line"><span class="lineno"> 1883</span>    }</div>
<div class="line"><span class="lineno"> 1884</span>}</div>
<div class="ttc" id="afilematch_8c_html_a60d201c2a2bdcc851078bf6999fe0075"><div class="ttname"><a href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a></div><div class="ttdeci">void stringlistappend(stringlist_t *list, const char *text)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00103">filematch.c:103</a></div></div>
<div class="ttc" id="afs_8c_html_a1273a0774bd79c98e6a9d707e363142e"><div class="ttname"><a href="fs_8c.html#a1273a0774bd79c98e6a9d707e363142e">fs_all_gamedirs</a></div><div class="ttdeci">gamedir_t * fs_all_gamedirs</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00447">fs.c:447</a></div></div>
<div class="ttc" id="afs_8c_html_ad9bba4c2e6cdbfcaea842f33320e6467"><div class="ttname"><a href="fs_8c.html#ad9bba4c2e6cdbfcaea842f33320e6467">fs_all_gamedirs_count</a></div><div class="ttdeci">int fs_all_gamedirs_count</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00448">fs.c:448</a></div></div>
<div class="ttc" id="astructgamedir__t_html"><div class="ttname"><a href="structgamedir__t.html">gamedir_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00093">fs.h:94</a></div></div>
<div class="ttc" id="astructgamedir__t_html_a54533e3cce50009332953d8728b44730"><div class="ttname"><a href="structgamedir__t.html#a54533e3cce50009332953d8728b44730">gamedir_t::name</a></div><div class="ttdeci">char name[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00095">fs.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>.</p>

</div>
</div>
<a id="ae4817b66640bf04c9a0c27887e7199e5" name="ae4817b66640bf04c9a0c27887e7199e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4817b66640bf04c9a0c27887e7199e5">&#9670;&#160;</a></span>FS_LoadAndCloseQFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_LoadAndCloseQFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *&#160;</td>
          <td class="paramname"><em>filesizepointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03488">3488</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3489</span>{</div>
<div class="line"><span class="lineno"> 3490</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3491</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> filesize = 0;</div>
<div class="line"><span class="lineno"> 3492</span> </div>
<div class="line"><span class="lineno"> 3493</span>    <span class="keywordflow">if</span> (file)</div>
<div class="line"><span class="lineno"> 3494</span>    {</div>
<div class="line"><span class="lineno"> 3495</span>        filesize = file-&gt;real_length;</div>
<div class="line"><span class="lineno"> 3496</span>        <span class="keywordflow">if</span>(filesize &lt; 0)</div>
<div class="line"><span class="lineno"> 3497</span>        {</div>
<div class="line"><span class="lineno"> 3498</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_LoadFile(\&quot;%s\&quot;, pool, %s, filesizepointer): trying to open a non-regular file\n&quot;</span>, path, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><span class="lineno"> 3499</span>            <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a>(file);</div>
<div class="line"><span class="lineno"> 3500</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3501</span>        }</div>
<div class="line"><span class="lineno"> 3502</span> </div>
<div class="line"><span class="lineno"> 3503</span>        <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (pool, filesize + 1);</div>
<div class="line"><span class="lineno"> 3504</span>        <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[filesize] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 3505</span>        <a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a> (file, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, filesize);</div>
<div class="line"><span class="lineno"> 3506</span>        <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a> (file);</div>
<div class="line"><span class="lineno"> 3507</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a9e1880d72b65166b02dc44d9bb38b5d5">developer_loadfile</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3508</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;loaded file \&quot;%s\&quot; (%u bytes)\n&quot;</span>, path, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)filesize);</div>
<div class="line"><span class="lineno"> 3509</span>    }</div>
<div class="line"><span class="lineno"> 3510</span> </div>
<div class="line"><span class="lineno"> 3511</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>)</div>
<div class="line"><span class="lineno"> 3512</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a> = filesize;</div>
<div class="line"><span class="lineno"> 3513</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno"> 3514</span>}</div>
<div class="ttc" id="afs_8c_html_abcf26e98f08b7bbcc5645486294ebb5c"><div class="ttname"><a href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a></div><div class="ttdeci">int FS_Close(qfile_t *file)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02955">fs.c:2955</a></div></div>
<div class="ttc" id="ahost_8c_html_a9e1880d72b65166b02dc44d9bb38b5d5"><div class="ttname"><a href="host_8c.html#a9e1880d72b65166b02dc44d9bb38b5d5">developer_loadfile</a></div><div class="ttdeci">cvar_t developer_loadfile</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00052">host.c:52</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03525">FS_LoadFile()</a>, and <a class="el" href="fs_8c_source.html#l03540">FS_SysLoadFile()</a>.</p>

</div>
</div>
<a id="a46b9b5ad3cc14f77ae63016505163128" name="a46b9b5ad3cc14f77ae63016505163128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b9b5ad3cc14f77ae63016505163128">&#9670;&#160;</a></span>FS_LoadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_LoadFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *&#160;</td>
          <td class="paramname"><em>filesizepointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03525">3525</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3526</span>{</div>
<div class="line"><span class="lineno"> 3527</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file = <a class="code hl_function" href="fs_8c.html#a146922363508573499a2391fd3e0bf1f">FS_OpenVirtualFile</a>(path, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>);</div>
<div class="line"><span class="lineno"> 3528</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ae4817b66640bf04c9a0c27887e7199e5">FS_LoadAndCloseQFile</a>(file, path, pool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>);</div>
<div class="line"><span class="lineno"> 3529</span>}</div>
<div class="ttc" id="afs_8c_html_a146922363508573499a2391fd3e0bf1f"><div class="ttname"><a href="fs_8c.html#a146922363508573499a2391fd3e0bf1f">FS_OpenVirtualFile</a></div><div class="ttdeci">qfile_t * FS_OpenVirtualFile(const char *filepath, qbool quiet)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02913">fs.c:2913</a></div></div>
<div class="ttc" id="afs_8c_html_ae4817b66640bf04c9a0c27887e7199e5"><div class="ttname"><a href="fs_8c.html#ae4817b66640bf04c9a0c27887e7199e5">FS_LoadAndCloseQFile</a></div><div class="ttdeci">static unsigned char * FS_LoadAndCloseQFile(qfile_t *file, const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03488">fs.c:3488</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00137">CL_CutDemo()</a>, <a class="el" href="cl__parse_8c_source.html#l03055">CL_IPLog_Load()</a>, <a class="el" href="cl__main_8c_source.html#l02379">CL_Locs_Reload_f()</a>, <a class="el" href="cl__particles_8c_source.html#l00537">CL_Particles_LoadEffectInfo()</a>, <a class="el" href="cl__particles_8c_source.html#l01732">CL_ReadPointFile_f()</a>, <a class="el" href="csprogs_8c_source.html#l00934">CL_VM_Init()</a>, <a class="el" href="cmd_8c_source.html#l00516">Cmd_Exec()</a>, <a class="el" href="libcurl_8c_source.html#l01702">Curl_FindPackURL()</a>, <a class="el" href="libcurl_8c_source.html#l00487">decode_image()</a>, <a class="el" href="ft2_8c_source.html#l00269">fontfilecache_LoadFile()</a>, <a class="el" href="fs_8c_source.html#l04142">FS_CRCFile()</a>, <a class="el" href="fs_8c_source.html#l02282">FS_Init_SelfPack()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="gl__rmain_8c_source.html#l03202">gl_main_newmap()</a>, <a class="el" href="image_8c_source.html#l01196">Image_GetStockPicSize()</a>, <a class="el" href="gl__draw_8c_source.html#l00329">LoadFont()</a>, <a class="el" href="image_8c_source.html#l01043">loadimagepixelsbgra()</a>, <a class="el" href="cl__video_8c_source.html#l00128">LoadSubtitles()</a>, <a class="el" href="menu_8c_source.html#l01330">M_Setup_Draw()</a>, <a class="el" href="model__shared_8c_source.html#l00406">Mod_LoadModel()</a>, <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>, <a class="el" href="model__shared_8c_source.html#l02705">Mod_LoadSkinFiles()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l02096">Mod_Q1BSP_LoadLighting()</a>, <a class="el" href="model__brush_8c_source.html#l03269">Mod_Q1BSP_LoadMapBrushes()</a>, <a class="el" href="model__brush_8c_source.html#l04350">Mod_Q2BSP_LoadTexinfo()</a>, <a class="el" href="snd__ogg_8c_source.html#l00598">OGG_LoadVorbisFile()</a>, <a class="el" href="palette_8c_source.html#l00265">Palette_Load()</a>, <a class="el" href="palette_8c_source.html#l00197">Palette_LoadQ2Colormap()</a>, <a class="el" href="palette_8c_source.html#l00084">Palette_SetupSpecialPalettes()</a>, <a class="el" href="prvm__edict_8c_source.html#l01946">PRVM_LoadLNO()</a>, <a class="el" href="prvm__edict_8c_source.html#l01778">PRVM_PO_Load()</a>, <a class="el" href="prvm__edict_8c_source.html#l02002">PRVM_Prog_Load()</a>, <a class="el" href="cl__particles_8c_source.html#l02163">R_InitParticleTexture()</a>, <a class="el" href="gl__rmain_8c_source.html#l06558">R_LoadQWSkin()</a>, <a class="el" href="gl__textures_8c_source.html#l01569">R_LoadTextureDDSFile()</a>, <a class="el" href="r__shadow_8c_source.html#l05000">R_Shadow_LoadLightsFile()</a>, <a class="el" href="r__shadow_8c_source.html#l04842">R_Shadow_LoadWorldLights()</a>, <a class="el" href="r__shadow_8c_source.html#l05051">R_Shadow_LoadWorldLightsFromMap_LightArghliteTyrlite()</a>, <a class="el" href="snd__wav_8c_source.html#l00268">S_LoadWavFile()</a>, <a class="el" href="gl__rmain_8c_source.html#l01006">ShaderModeInfo_GetShaderText()</a>, <a class="el" href="sv__save_8c_source.html#l00245">SV_Loadgame_f()</a>, <a class="el" href="sv__main_8c_source.html#l01510">SV_ParticleEffectIndex()</a>, <a class="el" href="sv__main_8c_source.html#l01700">SV_Prepare_CSQC()</a>, <a class="el" href="sv__main_8c_source.html#l01799">SV_SpawnServer()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03100">VM_loadfromfile()</a>, <a class="el" href="wad_8c_source.html#l00114">W_GetLumpName()</a>, and <a class="el" href="snd__xmp_8c_source.html#l00596">XMP_LoadModFile()</a>.</p>

</div>
</div>
<a id="aedf40bc5527f3118146b4a95b35ec20f" name="aedf40bc5527f3118146b4a95b35ec20f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf40bc5527f3118146b4a95b35ec20f">&#9670;&#160;</a></span>FS_LoadPackPAK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> * FS_LoadPackPAK </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>packfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Takes an explicit (not game tree related) path to a pak file. Loads the header and directory, adding the files at the beginning of the list so they override previous pack files. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01089">1089</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1090</span>{</div>
<div class="line"><span class="lineno"> 1091</span>    <a class="code hl_struct" href="structdpackheader__t.html">dpackheader_t</a> header;</div>
<div class="line"><span class="lineno"> 1092</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numpackfiles</a>;</div>
<div class="line"><span class="lineno"> 1093</span>    <a class="code hl_typedef" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>;</div>
<div class="line"><span class="lineno"> 1094</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *pack;</div>
<div class="line"><span class="lineno"> 1095</span>    <a class="code hl_struct" href="structdpackfile__t.html">dpackfile_t</a> *info;</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a> = <a class="code hl_function" href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <span class="stringliteral">&quot;rb&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1098</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="fs_8c.html#a63366b4f54083982ae222f9f6130d157">FILEDESC_ISVALID</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>))</div>
<div class="line"><span class="lineno"> 1099</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1100</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, (<span class="keywordtype">void</span> *)&amp;header, <span class="keyword">sizeof</span>(header)) != <span class="keyword">sizeof</span>(header))</div>
<div class="line"><span class="lineno"> 1101</span>    {</div>
<div class="line"><span class="lineno"> 1102</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;%s is not a packfile\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>);</div>
<div class="line"><span class="lineno"> 1103</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>);</div>
<div class="line"><span class="lineno"> 1104</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1105</span>    }</div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(header.id, <span class="stringliteral">&quot;PACK&quot;</span>, 4))</div>
<div class="line"><span class="lineno"> 1107</span>    {</div>
<div class="line"><span class="lineno"> 1108</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;%s is not a packfile\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>);</div>
<div class="line"><span class="lineno"> 1109</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>);</div>
<div class="line"><span class="lineno"> 1110</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1111</span>    }</div>
<div class="line"><span class="lineno"> 1112</span>    header.dirofs = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a> (header.dirofs);</div>
<div class="line"><span class="lineno"> 1113</span>    header.dirlen = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a> (header.dirlen);</div>
<div class="line"><span class="lineno"> 1114</span> </div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keywordflow">if</span> (header.dirlen % <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structdpackfile__t.html">dpackfile_t</a>))</div>
<div class="line"><span class="lineno"> 1116</span>    {</div>
<div class="line"><span class="lineno"> 1117</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;%s has an invalid directory size\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>);</div>
<div class="line"><span class="lineno"> 1118</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>);</div>
<div class="line"><span class="lineno"> 1119</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1120</span>    }</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numpackfiles</a> = header.dirlen / <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structdpackfile__t.html">dpackfile_t</a>);</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numpackfiles &lt; 0 || numpackfiles &gt;</a> <a class="code hl_define" href="fs_8c.html#a7479d1be54798828680391846d42af42">MAX_FILES_IN_PACK</a>)</div>
<div class="line"><span class="lineno"> 1125</span>    {</div>
<div class="line"><span class="lineno"> 1126</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;%s has %i files\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numpackfiles</a>);</div>
<div class="line"><span class="lineno"> 1127</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>);</div>
<div class="line"><span class="lineno"> 1128</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1129</span>    }</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span>    info = (<a class="code hl_struct" href="structdpackfile__t.html">dpackfile_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">sizeof</span>(*info) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numpackfiles</a>);</div>
<div class="line"><span class="lineno"> 1132</span>    <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, header.dirofs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>);</div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keywordflow">if</span>(header.dirlen != <a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, (<span class="keywordtype">void</span> *)info, header.dirlen))</div>
<div class="line"><span class="lineno"> 1134</span>    {</div>
<div class="line"><span class="lineno"> 1135</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s is an incomplete PAK, not loading\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>);</div>
<div class="line"><span class="lineno"> 1136</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(info);</div>
<div class="line"><span class="lineno"> 1137</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>);</div>
<div class="line"><span class="lineno"> 1138</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1139</span>    }</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    pack = (<a class="code hl_struct" href="structpack__t.html">pack_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="structpack__t.html">pack_t</a>));</div>
<div class="line"><span class="lineno"> 1142</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">ignorecase</a> = <span class="keyword">true</span>; <span class="comment">// PAK is sensitive in Quake1 but insensitive in Quake2</span></div>
<div class="line"><span class="lineno"> 1143</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>));</div>
<div class="line"><span class="lineno"> 1144</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>;</div>
<div class="line"><span class="lineno"> 1145</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a> = 0;</div>
<div class="line"><span class="lineno"> 1146</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">files</a> = (<a class="code hl_struct" href="structpackfile__t.html">packfile_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numpackfiles</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpackfile__t.html">packfile_t</a>));</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    <span class="comment">// parse the directory</span></div>
<div class="line"><span class="lineno"> 1149</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numpackfiles</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1150</span>    {</div>
<div class="line"><span class="lineno"> 1151</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a> (info[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].filepos);</div>
<div class="line"><span class="lineno"> 1152</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a> (info[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].filelen);</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>        <span class="comment">// Ensure a zero terminated file name (required by format).</span></div>
<div class="line"><span class="lineno"> 1155</span>        info[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structpackfile__t.html#a6927487c0c081c7a66f18a000ca557cb">name</a>[<span class="keyword">sizeof</span>(info[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].name) - 1] = 0;</div>
<div class="line"><span class="lineno"> 1156</span> </div>
<div class="line"><span class="lineno"> 1157</span>        <a class="code hl_function" href="fs_8c.html#a49a332b6db61069192753fc9f76c045c">FS_AddFileToPack</a> (info[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, pack, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="code hl_define" href="fs_8c.html#afd935c9decbb58dd5a3423927347bec9">PACKFILE_FLAG_TRUEOFFS</a>);</div>
<div class="line"><span class="lineno"> 1158</span>    }</div>
<div class="line"><span class="lineno"> 1159</span> </div>
<div class="line"><span class="lineno"> 1160</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(info);</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Added packfile %s (%i files)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numpackfiles</a>);</div>
<div class="line"><span class="lineno"> 1163</span>    <span class="keywordflow">return</span> pack;</div>
<div class="line"><span class="lineno"> 1164</span>}</div>
<div class="ttc" id="acommon_8h_html_a847f080c3427d188d2a5ecd2935a2d93"><div class="ttname"><a href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a></div><div class="ttdeci">#define LittleLong(l)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00092">common.h:92</a></div></div>
<div class="ttc" id="afs_8c_html_a49a332b6db61069192753fc9f76c045c"><div class="ttname"><a href="fs_8c.html#a49a332b6db61069192753fc9f76c045c">FS_AddFileToPack</a></div><div class="ttdeci">static packfile_t * FS_AddFileToPack(const char *name, pack_t *pack, fs_offset_t offset, fs_offset_t packsize, fs_offset_t realsize, int flags)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00949">fs.c:949</a></div></div>
<div class="ttc" id="afs_8c_html_a5be675f7c96c5b5b6af64d38f328f3f3"><div class="ttname"><a href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a></div><div class="ttdeci">#define FILEDESC_READ</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00103">fs.c:103</a></div></div>
<div class="ttc" id="afs_8c_html_a60e7a7f32fe55e92536a777b17e7203e"><div class="ttname"><a href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a></div><div class="ttdeci">int filedesc_t</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00100">fs.c:100</a></div></div>
<div class="ttc" id="afs_8c_html_a63366b4f54083982ae222f9f6130d157"><div class="ttname"><a href="fs_8c.html#a63366b4f54083982ae222f9f6130d157">FILEDESC_ISVALID</a></div><div class="ttdeci">#define FILEDESC_ISVALID(fd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00102">fs.c:102</a></div></div>
<div class="ttc" id="afs_8c_html_a7479d1be54798828680391846d42af42"><div class="ttname"><a href="fs_8c.html#a7479d1be54798828680391846d42af42">MAX_FILES_IN_PACK</a></div><div class="ttdeci">#define MAX_FILES_IN_PACK</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00435">fs.c:435</a></div></div>
<div class="ttc" id="afs_8c_html_ad449c345b747297192b11c6cd4695f3c"><div class="ttname"><a href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a></div><div class="ttdeci">#define FILEDESC_SEEK</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00106">fs.c:106</a></div></div>
<div class="ttc" id="afs_8c_html_afd935c9decbb58dd5a3423927347bec9"><div class="ttname"><a href="fs_8c.html#afd935c9decbb58dd5a3423927347bec9">PACKFILE_FLAG_TRUEOFFS</a></div><div class="ttdeci">#define PACKFILE_FLAG_TRUEOFFS</div><div class="ttdoc">the offset in packfile_t is the true contents offset</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00365">fs.c:365</a></div></div>
<div class="ttc" id="astructdpackfile__t_html"><div class="ttname"><a href="structdpackfile__t.html">dpackfile_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00347">fs.c:348</a></div></div>
<div class="ttc" id="astructdpackheader__t_html"><div class="ttname"><a href="structdpackheader__t.html">dpackheader_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00353">fs.c:354</a></div></div>
<div class="ttc" id="astructpack__t_html_a1046b3bd9f236af95f432a3a5ac985ae"><div class="ttname"><a href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">pack_t::handle</a></div><div class="ttdeci">filedesc_t handle</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00384">fs.c:384</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01202">FS_AddPack_Fullpath()</a>.</p>

</div>
</div>
<a id="ac8d988fb6eae9039af1a98a2bbf12c69" name="ac8d988fb6eae9039af1a98a2bbf12c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d988fb6eae9039af1a98a2bbf12c69">&#9670;&#160;</a></span>FS_LoadPackPK3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> * FS_LoadPackPK3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>packfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00886">886</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  887</span>{</div>
<div class="line"><span class="lineno">  888</span>    <a class="code hl_typedef" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>;</div>
<div class="line"><span class="lineno">  889</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a> = <a class="code hl_function" href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <span class="stringliteral">&quot;rb&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  890</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="fs_8c.html#a63366b4f54083982ae222f9f6130d157">FILEDESC_ISVALID</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>))</div>
<div class="line"><span class="lineno">  891</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#a3dcf5b9349e0ac75ba5a4098f5269fb3">FS_LoadPackPK3FromFD</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  893</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01202">FS_AddPack_Fullpath()</a>.</p>

</div>
</div>
<a id="a3dcf5b9349e0ac75ba5a4098f5269fb3" name="a3dcf5b9349e0ac75ba5a4098f5269fb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dcf5b9349e0ac75ba5a4098f5269fb3">&#9670;&#160;</a></span>FS_LoadPackPK3FromFD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> * FS_LoadPackPK3FromFD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>packfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a>&#160;</td>
          <td class="paramname"><em>packhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>silent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00831">831</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  832</span>{</div>
<div class="line"><span class="lineno">  833</span>    <a class="code hl_struct" href="structpk3__endOfCentralDir__t.html">pk3_endOfCentralDir_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>;</div>
<div class="line"><span class="lineno">  834</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *pack;</div>
<div class="line"><span class="lineno">  835</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_nb_files</a>;</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>    <span class="keywordflow">if</span> (! <a class="code hl_function" href="fs_8c.html#a07cb35f21d570f90bcb203daa557f404">PK3_GetEndOfCentralDir</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>))</div>
<div class="line"><span class="lineno">  838</span>    {</div>
<div class="line"><span class="lineno">  839</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">silent</a>)</div>
<div class="line"><span class="lineno">  840</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;%s is not a PK3 file\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>);</div>
<div class="line"><span class="lineno">  841</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>);</div>
<div class="line"><span class="lineno">  842</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  843</span>    }</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>    <span class="comment">// Multi-volume ZIP archives are NOT allowed</span></div>
<div class="line"><span class="lineno">  846</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>.disknum != 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>.cdir_disknum != 0)</div>
<div class="line"><span class="lineno">  847</span>    {</div>
<div class="line"><span class="lineno">  848</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;%s is a multi-volume ZIP archive\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>);</div>
<div class="line"><span class="lineno">  849</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>);</div>
<div class="line"><span class="lineno">  850</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  851</span>    }</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>    <span class="comment">// We only need to do this test if MAX_FILES_IN_PACK is lesser than 65535</span></div>
<div class="line"><span class="lineno">  854</span>    <span class="comment">// since eocd.nbentries is an unsigned 16 bits integer</span></div>
<div class="line"><span class="lineno">  855</span><span class="preprocessor">#if MAX_FILES_IN_PACK &lt; 65535</span></div>
<div class="line"><span class="lineno">  856</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>.nbentries &gt; <a class="code hl_define" href="fs_8c.html#a7479d1be54798828680391846d42af42">MAX_FILES_IN_PACK</a>)</div>
<div class="line"><span class="lineno">  857</span>    {</div>
<div class="line"><span class="lineno">  858</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;%s contains too many files (%hu)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>.nbentries);</div>
<div class="line"><span class="lineno">  859</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>);</div>
<div class="line"><span class="lineno">  860</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  861</span>    }</div>
<div class="line"><span class="lineno">  862</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>    <span class="comment">// Create a package structure in memory</span></div>
<div class="line"><span class="lineno">  865</span>    pack = (<a class="code hl_struct" href="structpack__t.html">pack_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="structpack__t.html">pack_t</a>));</div>
<div class="line"><span class="lineno">  866</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">ignorecase</a> = <span class="keyword">true</span>; <span class="comment">// PK3 ignores case</span></div>
<div class="line"><span class="lineno">  867</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>));</div>
<div class="line"><span class="lineno">  868</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>;</div>
<div class="line"><span class="lineno">  869</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>.nbentries;</div>
<div class="line"><span class="lineno">  870</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">files</a> = (<a class="code hl_struct" href="structpackfile__t.html">packfile_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>.nbentries * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpackfile__t.html">packfile_t</a>));</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_nb_files</a> = <a class="code hl_function" href="fs_8c.html#a1f9e243d932290a01cfd42090951f31b">PK3_BuildFileList</a> (pack, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>);</div>
<div class="line"><span class="lineno">  873</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_nb_files</a> &lt; 0)</div>
<div class="line"><span class="lineno">  874</span>    {</div>
<div class="line"><span class="lineno">  875</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;%s is not a valid PK3 file\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>);</div>
<div class="line"><span class="lineno">  876</span>        <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a>);</div>
<div class="line"><span class="lineno">  877</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(pack);</div>
<div class="line"><span class="lineno">  878</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  879</span>    }</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Added packfile %s (%i files)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_nb_files</a>);</div>
<div class="line"><span class="lineno">  882</span>    <span class="keywordflow">return</span> pack;</div>
<div class="line"><span class="lineno">  883</span>}</div>
<div class="ttc" id="afs_8c_html_a07cb35f21d570f90bcb203daa557f404"><div class="ttname"><a href="fs_8c.html#a07cb35f21d570f90bcb203daa557f404">PK3_GetEndOfCentralDir</a></div><div class="ttdeci">static qbool PK3_GetEndOfCentralDir(const char *packfile, filedesc_t packhandle, pk3_endOfCentralDir_t *eocd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00632">fs.c:632</a></div></div>
<div class="ttc" id="afs_8c_html_a1f9e243d932290a01cfd42090951f31b"><div class="ttname"><a href="fs_8c.html#a1f9e243d932290a01cfd42090951f31b">PK3_BuildFileList</a></div><div class="ttdeci">static int PK3_BuildFileList(pack_t *pack, const pk3_endOfCentralDir_t *eocd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00707">fs.c:707</a></div></div>
<div class="ttc" id="astructpk3__endOfCentralDir__t_html"><div class="ttname"><a href="structpk3__endOfCentralDir__t.html">pk3_endOfCentralDir_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00332">fs.c:333</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02282">FS_Init_SelfPack()</a>, and <a class="el" href="fs_8c_source.html#l00886">FS_LoadPackPK3()</a>.</p>

</div>
</div>
<a id="ae7e308a0ba3ffa91dab5e0e09cf1daf7" name="ae7e308a0ba3ffa91dab5e0e09cf1daf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7e308a0ba3ffa91dab5e0e09cf1daf7">&#9670;&#160;</a></span>FS_LoadPackVirtual()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structpack__t.html">pack_t</a> * FS_LoadPackVirtual </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>dirname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01173">1173</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1174</span>{</div>
<div class="line"><span class="lineno"> 1175</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *pack;</div>
<div class="line"><span class="lineno"> 1176</span>    pack = (<a class="code hl_struct" href="structpack__t.html">pack_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="structpack__t.html">pack_t</a>));</div>
<div class="line"><span class="lineno"> 1177</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0c20c8595d1222b564aeb3f2ab802acd">vpack</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1178</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a5b563db5e503f99e79551e95e6a43f05">ignorecase</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1179</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirname</a>, <span class="keyword">sizeof</span>(pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>));</div>
<div class="line"><span class="lineno"> 1180</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a> = <a class="code hl_define" href="fs_8c.html#a240eecc445e8f632b1d2f1bb861d43a0">FILEDESC_INVALID</a>;</div>
<div class="line"><span class="lineno"> 1181</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a> = -1;</div>
<div class="line"><span class="lineno"> 1182</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">files</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1183</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Added packfile %s (virtual pack)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirname</a>);</div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keywordflow">return</span> pack;</div>
<div class="line"><span class="lineno"> 1185</span>}</div>
<div class="ttc" id="afs_8c_html_a240eecc445e8f632b1d2f1bb861d43a0"><div class="ttname"><a href="fs_8c.html#a240eecc445e8f632b1d2f1bb861d43a0">FILEDESC_INVALID</a></div><div class="ttdeci">#define FILEDESC_INVALID</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00101">fs.c:101</a></div></div>
<div class="ttc" id="astructpack__t_html_a0c20c8595d1222b564aeb3f2ab802acd"><div class="ttname"><a href="structpack__t.html#a0c20c8595d1222b564aeb3f2ab802acd">pack_t::vpack</a></div><div class="ttdeci">qbool vpack</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00387">fs.c:387</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01202">FS_AddPack_Fullpath()</a>.</p>

</div>
</div>
<a id="a3cf77729e431c214a621ca3acdce5f59" name="a3cf77729e431c214a621ca3acdce5f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf77729e431c214a621ca3acdce5f59">&#9670;&#160;</a></span>FS_Ls_f()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Ls_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04042">4042</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4043</span>{</div>
<div class="line"><span class="lineno"> 4044</span>    <a class="code hl_function" href="fs_8c.html#ae2256a61edc074b40e3c52e307df7140">FS_ListDirectoryCmd</a>(cmd, <span class="stringliteral">&quot;ls&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4045</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>.</p>

</div>
</div>
<a id="a402f23710e6092bb3ee899cd0bc38c93" name="a402f23710e6092bb3ee899cd0bc38c93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a402f23710e6092bb3ee899cd0bc38c93">&#9670;&#160;</a></span>FS_mkdir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_mkdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01007">1007</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1008</span>{</div>
<div class="line"><span class="lineno"> 1009</span><span class="preprocessor">#if WIN32</span></div>
<div class="line"><span class="lineno"> 1010</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WSTRBUF</a>] = {0};</div>
<div class="line"><span class="lineno"> 1011</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-readonly&quot;</span>))</div>
<div class="line"><span class="lineno"> 1013</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span><span class="preprocessor">#if WIN32</span></div>
<div class="line"><span class="lineno"> 1016</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widen</a>(path, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>);</div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_wmkdir</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>) == -1)</div>
<div class="line"><span class="lineno"> 1018</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mkdir</a> (path, 0777) == -1)</div>
<div class="line"><span class="lineno"> 1020</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1021</span>    {</div>
<div class="line"><span class="lineno"> 1022</span>        <span class="comment">// No logging for this. The only caller is FS_CreatePath (which</span></div>
<div class="line"><span class="lineno"> 1023</span>        <span class="comment">// calls it in ways that will intentionally produce EEXIST),</span></div>
<div class="line"><span class="lineno"> 1024</span>        <span class="comment">// and its own callers always use the directory afterwards and</span></div>
<div class="line"><span class="lineno"> 1025</span>        <span class="comment">// thus will detect failure that way.</span></div>
<div class="line"><span class="lineno"> 1026</span>    }</div>
<div class="line"><span class="lineno"> 1027</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01036">FS_CreatePath()</a>.</p>

</div>
</div>
<a id="ace89c9e394bb0f6ca8198211ea6af365" name="ace89c9e394bb0f6ca8198211ea6af365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace89c9e394bb0f6ca8198211ea6af365">&#9670;&#160;</a></span>FS_OpenPackedFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_OpenPackedFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpack__t.html">pack_t</a> *&#160;</td>
          <td class="paramname"><em>pack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>pack_ind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02503">2503</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2504</span>{</div>
<div class="line"><span class="lineno"> 2505</span>    <a class="code hl_struct" href="structpackfile__t.html">packfile_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>;</div>
<div class="line"><span class="lineno"> 2506</span>    <a class="code hl_typedef" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dup_handle</a>;</div>
<div class="line"><span class="lineno"> 2507</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a>* file;</div>
<div class="line"><span class="lineno"> 2508</span> </div>
<div class="line"><span class="lineno"> 2509</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a> = &amp;pack-&gt;<a class="code hl_variable" href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">files</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pack_ind</a>];</div>
<div class="line"><span class="lineno"> 2510</span> </div>
<div class="line"><span class="lineno"> 2511</span>    <span class="comment">// If we don&#39;t have the true offset, get it now</span></div>
<div class="line"><span class="lineno"> 2512</span>    <span class="keywordflow">if</span> (! (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#afd935c9decbb58dd5a3423927347bec9">PACKFILE_FLAG_TRUEOFFS</a>))</div>
<div class="line"><span class="lineno"> 2513</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="fs_8c.html#a3986d12d38ecedd93c955be575bef34d">PK3_GetTrueFileOffset</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>, pack))</div>
<div class="line"><span class="lineno"> 2514</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2515</span> </div>
<div class="line"><span class="lineno"> 2516</span><span class="preprocessor">#ifndef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno"> 2517</span>    <span class="comment">// No Zlib DLL = no compressed files</span></div>
<div class="line"><span class="lineno"> 2518</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#ad506061cba6c07010e9af9d7fb4c6722">PACKFILE_FLAG_DEFLATED</a>))</div>
<div class="line"><span class="lineno"> 2519</span>    {</div>
<div class="line"><span class="lineno"> 2520</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;WARNING: can&#39;t open the compressed file %s\n&quot;</span></div>
<div class="line"><span class="lineno"> 2521</span>                    <span class="stringliteral">&quot;You need the Zlib DLL to use compressed files\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2522</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 2523</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2524</span>    }</div>
<div class="line"><span class="lineno"> 2525</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2526</span> </div>
<div class="line"><span class="lineno"> 2527</span>    <span class="comment">// LadyHavoc: FILEDESC_SEEK affects all duplicates of a handle so we do it before</span></div>
<div class="line"><span class="lineno"> 2528</span>    <span class="comment">// the dup() call to avoid having to close the dup_handle on error here</span></div>
<div class="line"><span class="lineno"> 2529</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;offset, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 2530</span>    {</div>
<div class="line"><span class="lineno"> 2531</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_OpenPackedFile: can&#39;t lseek to %s in %s (offset: %08x%08x)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2532</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;name, pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;offset &gt;&gt; 32), (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;offset));</div>
<div class="line"><span class="lineno"> 2533</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2534</span>    }</div>
<div class="line"><span class="lineno"> 2535</span> </div>
<div class="line"><span class="lineno"> 2536</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dup_handle</a> = <a class="code hl_function" href="fs_8c.html#a2cba1fd1fb6bce9f310fa282318ccab4">FILEDESC_DUP</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>, pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a>);</div>
<div class="line"><span class="lineno"> 2537</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="fs_8c.html#a63366b4f54083982ae222f9f6130d157">FILEDESC_ISVALID</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dup_handle</a>))</div>
<div class="line"><span class="lineno"> 2538</span>    {</div>
<div class="line"><span class="lineno"> 2539</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_OpenPackedFile: can&#39;t dup package&#39;s handle (pack: %s)\n&quot;</span>, pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>);</div>
<div class="line"><span class="lineno"> 2540</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2541</span>    }</div>
<div class="line"><span class="lineno"> 2542</span> </div>
<div class="line"><span class="lineno"> 2543</span>    file = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (*file));</div>
<div class="line"><span class="lineno"> 2544</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a> (file, 0, <span class="keyword">sizeof</span> (*file));</div>
<div class="line"><span class="lineno"> 2545</span>    file-&gt;handle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dup_handle</a>;</div>
<div class="line"><span class="lineno"> 2546</span>    file-&gt;flags = <a class="code hl_define" href="fs_8c.html#a33212acd1454920bd74559aa726f9b1a">QFILE_FLAG_PACKED</a>;</div>
<div class="line"><span class="lineno"> 2547</span>    file-&gt;real_length = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;realsize;</div>
<div class="line"><span class="lineno"> 2548</span>    file-&gt;offset = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;offset;</div>
<div class="line"><span class="lineno"> 2549</span>    file-&gt;position = 0;</div>
<div class="line"><span class="lineno"> 2550</span>    file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 2551</span> </div>
<div class="line"><span class="lineno"> 2552</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#ad506061cba6c07010e9af9d7fb4c6722">PACKFILE_FLAG_DEFLATED</a>)</div>
<div class="line"><span class="lineno"> 2553</span>    {</div>
<div class="line"><span class="lineno"> 2554</span>        <a class="code hl_struct" href="structztoolkit__t.html">ztoolkit_t</a> *ztk;</div>
<div class="line"><span class="lineno"> 2555</span> </div>
<div class="line"><span class="lineno"> 2556</span>        file-&gt;flags |= <a class="code hl_define" href="fs_8c.html#a077f9f22119c315af3d69441ba971f71">QFILE_FLAG_DEFLATED</a>;</div>
<div class="line"><span class="lineno"> 2557</span> </div>
<div class="line"><span class="lineno"> 2558</span>        <span class="comment">// We need some more variables</span></div>
<div class="line"><span class="lineno"> 2559</span>        ztk = (<a class="code hl_struct" href="structztoolkit__t.html">ztoolkit_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (*ztk));</div>
<div class="line"><span class="lineno"> 2560</span> </div>
<div class="line"><span class="lineno"> 2561</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a221e70188cc5fdeb2a998ee06187faa8">comp_length</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;packsize;</div>
<div class="line"><span class="lineno"> 2562</span> </div>
<div class="line"><span class="lineno"> 2563</span>        <span class="comment">// Initialize zlib stream</span></div>
<div class="line"><span class="lineno"> 2564</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#ab58d6596041c08f46454b8394f8e6b7f">next_in</a> = ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>;</div>
<div class="line"><span class="lineno"> 2565</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a> = 0;</div>
<div class="line"><span class="lineno"> 2566</span> </div>
<div class="line"><span class="lineno"> 2567</span>        <span class="comment">/* From Zlib&#39;s &quot;unzip.c&quot;:</span></div>
<div class="line"><span class="lineno"> 2568</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno"> 2569</span><span class="comment">         * windowBits is passed &lt; 0 to tell that there is no zlib header.</span></div>
<div class="line"><span class="lineno"> 2570</span><span class="comment">         * Note that in this case inflate *requires* an extra &quot;dummy&quot; byte</span></div>
<div class="line"><span class="lineno"> 2571</span><span class="comment">         * after the compressed stream in order to complete decompression and</span></div>
<div class="line"><span class="lineno"> 2572</span><span class="comment">         * return Z_STREAM_END.</span></div>
<div class="line"><span class="lineno"> 2573</span><span class="comment">         * In unzip, i don&#39;t wait absolutely Z_STREAM_END because I known the</span></div>
<div class="line"><span class="lineno"> 2574</span><span class="comment">         * size of both compressed and uncompressed data</span></div>
<div class="line"><span class="lineno"> 2575</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 2576</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#aeac24933ccc3405abb3156f57b89eb1e">qz_inflateInit2</a> (&amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>, -<a class="code hl_define" href="fs_8c.html#abd2f406ac1f9c49236376115d78ccb5b">MAX_WBITS</a>) != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a>)</div>
<div class="line"><span class="lineno"> 2577</span>        {</div>
<div class="line"><span class="lineno"> 2578</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_OpenPackedFile: inflate init error (file: %s)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 2579</span>            <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dup_handle</a>);</div>
<div class="line"><span class="lineno"> 2580</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(file);</div>
<div class="line"><span class="lineno"> 2581</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2582</span>        }</div>
<div class="line"><span class="lineno"> 2583</span> </div>
<div class="line"><span class="lineno"> 2584</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a90b935509c7822fc0d5954daa29639de">next_out</a> = file-&gt;buff;</div>
<div class="line"><span class="lineno"> 2585</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a> = <span class="keyword">sizeof</span> (file-&gt;buff);</div>
<div class="line"><span class="lineno"> 2586</span> </div>
<div class="line"><span class="lineno"> 2587</span>        file-&gt;ztk = ztk;</div>
<div class="line"><span class="lineno"> 2588</span>    }</div>
<div class="line"><span class="lineno"> 2589</span> </div>
<div class="line"><span class="lineno"> 2590</span>    <span class="keywordflow">return</span> file;</div>
<div class="line"><span class="lineno"> 2591</span>}</div>
<div class="ttc" id="afs_8c_html_a077f9f22119c315af3d69441ba971f71"><div class="ttname"><a href="fs_8c.html#a077f9f22119c315af3d69441ba971f71">QFILE_FLAG_DEFLATED</a></div><div class="ttdeci">#define QFILE_FLAG_DEFLATED</div><div class="ttdoc">file is compressed using the deflate algorithm (PK3 only)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00291">fs.c:291</a></div></div>
<div class="ttc" id="afs_8c_html_a2cba1fd1fb6bce9f310fa282318ccab4"><div class="ttname"><a href="fs_8c.html#a2cba1fd1fb6bce9f310fa282318ccab4">FILEDESC_DUP</a></div><div class="ttdeci">static filedesc_t FILEDESC_DUP(const char *filename, filedesc_t fd)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00107">fs.c:107</a></div></div>
<div class="ttc" id="afs_8c_html_a33212acd1454920bd74559aa726f9b1a"><div class="ttname"><a href="fs_8c.html#a33212acd1454920bd74559aa726f9b1a">QFILE_FLAG_PACKED</a></div><div class="ttdeci">#define QFILE_FLAG_PACKED</div><div class="ttdoc">inside a package (PAK or PK3)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00289">fs.c:289</a></div></div>
<div class="ttc" id="afs_8c_html_a3986d12d38ecedd93c955be575bef34d"><div class="ttname"><a href="fs_8c.html#a3986d12d38ecedd93c955be575bef34d">PK3_GetTrueFileOffset</a></div><div class="ttdeci">static qbool PK3_GetTrueFileOffset(packfile_t *pfile, pack_t *pack)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00903">fs.c:903</a></div></div>
<div class="ttc" id="afs_8c_html_ad506061cba6c07010e9af9d7fb4c6722"><div class="ttname"><a href="fs_8c.html#ad506061cba6c07010e9af9d7fb4c6722">PACKFILE_FLAG_DEFLATED</a></div><div class="ttdeci">#define PACKFILE_FLAG_DEFLATED</div><div class="ttdoc">file compressed using the deflate algorithm</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00367">fs.c:367</a></div></div>
<div class="ttc" id="astructz__stream_html_a120aee70bf78ea7add192af3bb79e0c3"><div class="ttname"><a href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">z_stream::avail_in</a></div><div class="ttdeci">unsigned int avail_in</div><div class="ttdoc">number of bytes available at next_in</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00267">fs.c:267</a></div></div>
<div class="ttc" id="astructz__stream_html_a90b935509c7822fc0d5954daa29639de"><div class="ttname"><a href="structz__stream.html#a90b935509c7822fc0d5954daa29639de">z_stream::next_out</a></div><div class="ttdeci">unsigned char * next_out</div><div class="ttdoc">next output byte should be put there</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00270">fs.c:270</a></div></div>
<div class="ttc" id="astructz__stream_html_aa1e0139bcc68702ced838bfd51f6a9ea"><div class="ttname"><a href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">z_stream::avail_out</a></div><div class="ttdeci">unsigned int avail_out</div><div class="ttdoc">remaining free space at next_out</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00271">fs.c:271</a></div></div>
<div class="ttc" id="astructz__stream_html_ab58d6596041c08f46454b8394f8e6b7f"><div class="ttname"><a href="structz__stream.html#ab58d6596041c08f46454b8394f8e6b7f">z_stream::next_in</a></div><div class="ttdeci">unsigned char * next_in</div><div class="ttdoc">next input byte</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00266">fs.c:266</a></div></div>
<div class="ttc" id="astructztoolkit__t_html"><div class="ttname"><a href="structztoolkit__t.html">ztoolkit_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00298">fs.c:299</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a221e70188cc5fdeb2a998ee06187faa8"><div class="ttname"><a href="structztoolkit__t.html#a221e70188cc5fdeb2a998ee06187faa8">ztoolkit_t::comp_length</a></div><div class="ttdeci">size_t comp_length</div><div class="ttdoc">length of the compressed file</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00301">fs.c:301</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a86ba5bc9090e0c1718e931d96dc14751"><div class="ttname"><a href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">ztoolkit_t::input</a></div><div class="ttdeci">unsigned char input[FILE_BUFF_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00304">fs.c:304</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_adad2b634ea365b5288abd975d5a4719e"><div class="ttname"><a href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">ztoolkit_t::zstream</a></div><div class="ttdeci">z_stream zstream</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00300">fs.c:300</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02771">FS_OpenReadFile()</a>.</p>

</div>
</div>
<a id="ac670ff3b3d77872cadae38060bc92853" name="ac670ff3b3d77872cadae38060bc92853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac670ff3b3d77872cadae38060bc92853">&#9670;&#160;</a></span>FS_OpenReadFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_OpenReadFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>nonblocking</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>symlinkLevels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02771">2771</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2772</span>{</div>
<div class="line"><span class="lineno"> 2773</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 2774</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pack_ind</a>;</div>
<div class="line"><span class="lineno"> 2775</span> </div>
<div class="line"><span class="lineno"> 2776</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a> (filename, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pack_ind</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>);</div>
<div class="line"><span class="lineno"> 2777</span> </div>
<div class="line"><span class="lineno"> 2778</span>    <span class="comment">// Not found?</span></div>
<div class="line"><span class="lineno"> 2779</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 2780</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2781</span> </div>
<div class="line"><span class="lineno"> 2782</span>    <span class="comment">// Found in the filesystem?</span></div>
<div class="line"><span class="lineno"> 2783</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pack_ind</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 2784</span>    {</div>
<div class="line"><span class="lineno"> 2785</span>        <span class="comment">// this works with vpacks, so we are fine</span></div>
<div class="line"><span class="lineno"> 2786</span>        <span class="keywordtype">char</span> path [<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 2787</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a> (path, <span class="keyword">sizeof</span> (path), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filename, filename);</div>
<div class="line"><span class="lineno"> 2788</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a> (path, <span class="stringliteral">&quot;rb&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>);</div>
<div class="line"><span class="lineno"> 2789</span>    }</div>
<div class="line"><span class="lineno"> 2790</span> </div>
<div class="line"><span class="lineno"> 2791</span>    <span class="comment">// So, we found it in a package...</span></div>
<div class="line"><span class="lineno"> 2792</span> </div>
<div class="line"><span class="lineno"> 2793</span>    <span class="comment">// Is it a PK3 symlink?</span></div>
<div class="line"><span class="lineno"> 2794</span>    <span class="comment">// TODO also handle directory symlinks by parsing the whole structure...</span></div>
<div class="line"><span class="lineno"> 2795</span>    <span class="comment">// but heck, file symlinks are good enough for now</span></div>
<div class="line"><span class="lineno"> 2796</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;files[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pack_ind</a>].flags &amp; <a class="code hl_define" href="fs_8c.html#aa89b502790aa99c2a117674274fe7387">PACKFILE_FLAG_SYMLINK</a>)</div>
<div class="line"><span class="lineno"> 2797</span>    {</div>
<div class="line"><span class="lineno"> 2798</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">symlinkLevels</a> &lt;= 0)</div>
<div class="line"><span class="lineno"> 2799</span>        {</div>
<div class="line"><span class="lineno"> 2800</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;symlink: %s: too many levels of symbolic links\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 2801</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2802</span>        }</div>
<div class="line"><span class="lineno"> 2803</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2804</span>        {</div>
<div class="line"><span class="lineno"> 2805</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 2806</span>            <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2807</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkfile</a> = <a class="code hl_function" href="fs_8c.html#ace89c9e394bb0f6ca8198211ea6af365">FS_OpenPackedFile</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pack_ind</a>);</div>
<div class="line"><span class="lineno"> 2808</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a>;</div>
<div class="line"><span class="lineno"> 2809</span>            <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a>;</div>
<div class="line"><span class="lineno"> 2810</span> </div>
<div class="line"><span class="lineno"> 2811</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkfile</a>)</div>
<div class="line"><span class="lineno"> 2812</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2813</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>) - 1);</div>
<div class="line"><span class="lineno"> 2814</span>            <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkfile</a>);</div>
<div class="line"><span class="lineno"> 2815</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 2816</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2817</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>] = 0;</div>
<div class="line"><span class="lineno"> 2818</span> </div>
<div class="line"><span class="lineno"> 2819</span>            <span class="comment">// Now combine the paths...</span></div>
<div class="line"><span class="lineno"> 2820</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(filename, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 2821</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>;</div>
<div class="line"><span class="lineno"> 2822</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a>)</div>
<div class="line"><span class="lineno"> 2823</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a> = filename;</div>
<div class="line"><span class="lineno"> 2824</span>            <span class="keywordflow">while</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a>, <span class="stringliteral">&quot;../&quot;</span>, 3))</div>
<div class="line"><span class="lineno"> 2825</span>            {</div>
<div class="line"><span class="lineno"> 2826</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a> += 3;</div>
<div class="line"><span class="lineno"> 2827</span>                <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a> &gt; filename)</div>
<div class="line"><span class="lineno"> 2828</span>                {</div>
<div class="line"><span class="lineno"> 2829</span>                    --<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a>;</div>
<div class="line"><span class="lineno"> 2830</span>                    <span class="keywordflow">if</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a> == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 2831</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2832</span>                }</div>
<div class="line"><span class="lineno"> 2833</span>            }</div>
<div class="line"><span class="lineno"> 2834</span>            <span class="comment">// Now, mergestart will point to the path to be appended, and mergeslash points to where it should be appended</span></div>
<div class="line"><span class="lineno"> 2835</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a> == filename)</div>
<div class="line"><span class="lineno"> 2836</span>            {</div>
<div class="line"><span class="lineno"> 2837</span>                <span class="comment">// Either mergeslash == filename, then we just replace the name (done below)</span></div>
<div class="line"><span class="lineno"> 2838</span>            }</div>
<div class="line"><span class="lineno"> 2839</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2840</span>            {</div>
<div class="line"><span class="lineno"> 2841</span>                <span class="comment">// Or, we append the name after mergeslash;</span></div>
<div class="line"><span class="lineno"> 2842</span>                <span class="comment">// or rather, we can also shift the linkbuf so we can put everything up to and including mergeslash first</span></div>
<div class="line"><span class="lineno"> 2843</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceNeeded</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeslash</a> - filename + 1;</div>
<div class="line"><span class="lineno"> 2844</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceRemoved</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>;</div>
<div class="line"><span class="lineno"> 2845</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceRemoved</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceNeeded</a> &gt;= <a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>)</div>
<div class="line"><span class="lineno"> 2846</span>                {</div>
<div class="line"><span class="lineno"> 2847</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;symlink: too long path rejected\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2848</span>                    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2849</span>                }</div>
<div class="line"><span class="lineno"> 2850</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memmove</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceNeeded</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceRemoved</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceRemoved</a>);</div>
<div class="line"><span class="lineno"> 2851</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceNeeded</a>);</div>
<div class="line"><span class="lineno"> 2852</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceRemoved</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spaceNeeded</a>] = 0;</div>
<div class="line"><span class="lineno"> 2853</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linkbuf</a>;</div>
<div class="line"><span class="lineno"> 2854</span>            }</div>
<div class="line"><span class="lineno"> 2855</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2856</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;symlink: %s -&gt; %s\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a>);</div>
<div class="line"><span class="lineno"> 2857</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 2858</span>            {</div>
<div class="line"><span class="lineno"> 2859</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;symlink: nasty path %s rejected\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a>);</div>
<div class="line"><span class="lineno"> 2860</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2861</span>            }</div>
<div class="line"><span class="lineno"> 2862</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ac670ff3b3d77872cadae38060bc92853">FS_OpenReadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergestart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">symlinkLevels</a> - 1);</div>
<div class="line"><span class="lineno"> 2863</span>        }</div>
<div class="line"><span class="lineno"> 2864</span>    }</div>
<div class="line"><span class="lineno"> 2865</span> </div>
<div class="line"><span class="lineno"> 2866</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ace89c9e394bb0f6ca8198211ea6af365">FS_OpenPackedFile</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pack_ind</a>);</div>
<div class="line"><span class="lineno"> 2867</span>}</div>
<div class="ttc" id="afs_8c_html_a5098aecad23c311750ae649088f2d96d"><div class="ttname"><a href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a></div><div class="ttdeci">qfile_t * FS_SysOpen(const char *filepath, const char *mode, qbool nonblocking)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02469">fs.c:2469</a></div></div>
<div class="ttc" id="afs_8c_html_aa89b502790aa99c2a117674274fe7387"><div class="ttname"><a href="fs_8c.html#aa89b502790aa99c2a117674274fe7387">PACKFILE_FLAG_SYMLINK</a></div><div class="ttdeci">#define PACKFILE_FLAG_SYMLINK</div><div class="ttdoc">file is a symbolic link</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00369">fs.c:369</a></div></div>
<div class="ttc" id="afs_8c_html_ac670ff3b3d77872cadae38060bc92853"><div class="ttname"><a href="fs_8c.html#ac670ff3b3d77872cadae38060bc92853">FS_OpenReadFile</a></div><div class="ttdeci">static qfile_t * FS_OpenReadFile(const char *filename, qbool quiet, qbool nonblocking, int symlinkLevels)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02771">fs.c:2771</a></div></div>
<div class="ttc" id="afs_8c_html_ace89c9e394bb0f6ca8198211ea6af365"><div class="ttname"><a href="fs_8c.html#ace89c9e394bb0f6ca8198211ea6af365">FS_OpenPackedFile</a></div><div class="ttdeci">static qfile_t * FS_OpenPackedFile(pack_t *pack, int pack_ind)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02503">fs.c:2503</a></div></div>
<div class="ttc" id="aglquake_8h_html_a51af0e2e7aa22f9dc0c188ee8baa7a11"><div class="ttname"><a href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a></div><div class="ttdeci">GLenum GLenum GLsizei count</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="ahost_8c_html_a67a57130da6bf0ad0eb133c0b8bc7642"><div class="ttname"><a href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a></div><div class="ttdeci">cvar_t developer_loading</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00053">host.c:53</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02771">FS_OpenReadFile()</a>, and <a class="el" href="fs_8c_source.html#l02913">FS_OpenVirtualFile()</a>.</p>

</div>
</div>
<a id="a7757c6165ecaee803fba8e3d1db3e2e9" name="a7757c6165ecaee803fba8e3d1db3e2e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7757c6165ecaee803fba8e3d1db3e2e9">&#9670;&#160;</a></span>FS_OpenRealFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_OpenRealFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02886">2886</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2887</span>{</div>
<div class="line"><span class="lineno"> 2888</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a> [<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 2889</span> </div>
<div class="line"><span class="lineno"> 2890</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 2891</span>    {</div>
<div class="line"><span class="lineno"> 2892</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_OpenRealFile(\&quot;%s\&quot;, \&quot;%s\&quot;, %s): nasty filename rejected\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><span class="lineno"> 2893</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2894</span>    }</div>
<div class="line"><span class="lineno"> 2895</span> </div>
<div class="line"><span class="lineno"> 2896</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a>), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code hl_variable" href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>); <span class="comment">// this is never a vpack</span></div>
<div class="line"><span class="lineno"> 2897</span> </div>
<div class="line"><span class="lineno"> 2898</span>    <span class="comment">// If the file is opened in &quot;write&quot;, &quot;append&quot;, or &quot;read/write&quot; mode,</span></div>
<div class="line"><span class="lineno"> 2899</span>    <span class="comment">// create directories up to the file.</span></div>
<div class="line"><span class="lineno"> 2900</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[0] == <span class="charliteral">&#39;w&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[0] == <span class="charliteral">&#39;a&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a> (<a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <span class="charliteral">&#39;+&#39;</span>))</div>
<div class="line"><span class="lineno"> 2901</span>        <a class="code hl_function" href="fs_8c.html#acf6a6a671fddee50dbb3b0b1ec5d07ad">FS_CreatePath</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a>);</div>
<div class="line"><span class="lineno"> 2902</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">real_path</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2903</span>}</div>
<div class="ttc" id="afs_8c_html_acf6a6a671fddee50dbb3b0b1ec5d07ad"><div class="ttname"><a href="fs_8c.html#acf6a6a671fddee50dbb3b0b1ec5d07ad">FS_CreatePath</a></div><div class="ttdeci">void FS_CreatePath(char *path)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01036">fs.c:1036</a></div></div>
<div class="ttc" id="aglquake_8h_html_a26a9807262dc858feb31c318b02fc072"><div class="ttname"><a href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a></div><div class="ttdeci">GLenum mode</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00717">glquake.h:717</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l00683">CheckPendingDownloads()</a>, <a class="el" href="cl__demo_8c_source.html#l00137">CL_CutDemo()</a>, <a class="el" href="cl__main_8c_source.html#l02306">CL_Locs_Save_f()</a>, <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="cl__demo_8c_source.html#l00346">CL_Record_f()</a>, <a class="el" href="console_8c_source.html#l00806">Con_ConDump_f()</a>, <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, <a class="el" href="libcurl_8c_source.html#l00521">Curl_EndDownload()</a>, <a class="el" href="fs_8c_source.html#l03554">FS_WriteFileInBlocks()</a>, <a class="el" href="host_8c_source.html#l00190">Host_SaveConfig()</a>, <a class="el" href="jpeg_8c_source.html#l00818">JPEG_SaveImage_preflipped()</a>, <a class="el" href="keys_8c_source.html#l00050">Key_History_Init()</a>, <a class="el" href="keys_8c_source.html#l00093">Key_History_Shutdown()</a>, <a class="el" href="console_8c_source.html#l00507">Log_Open()</a>, <a class="el" href="console_8c_source.html#l00659">Log_Printf()</a>, <a class="el" href="menu_8c_source.html#l00841">M_ScanSaves()</a>, <a class="el" href="image__png_8c_source.html#l00477">PNG_SaveImage_preflipped()</a>, <a class="el" href="prvm__edict_8c_source.html#l02002">PRVM_Prog_Load()</a>, <a class="el" href="gl__rmain_8c_source.html#l01419">R_GLSL_DumpShader_f()</a>, <a class="el" href="cap__avi_8c_source.html#l00498">SCR_CaptureVideo_Avi_BeginVideo()</a>, <a class="el" href="cap__ogg_8c_source.html#l00921">SCR_CaptureVideo_Ogg_BeginVideo()</a>, <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>, <a class="el" href="sv__demo_8c_source.html#l00006">SV_StartDemoRecording()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l01917">VM_fopen()</a>.</p>

</div>
</div>
<a id="a146922363508573499a2391fd3e0bf1f" name="a146922363508573499a2391fd3e0bf1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146922363508573499a2391fd3e0bf1f">&#9670;&#160;</a></span>FS_OpenVirtualFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_OpenVirtualFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02913">2913</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2914</span>{</div>
<div class="line"><span class="lineno"> 2915</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *result = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2916</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#ae0629b94b2f8803b95c72571ac6f1558">FS_CheckNastyPath</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 2917</span>    {</div>
<div class="line"><span class="lineno"> 2918</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_OpenVirtualFile(\&quot;%s\&quot;, %s): nasty filename rejected\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><span class="lineno"> 2919</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2920</span>    }</div>
<div class="line"><span class="lineno"> 2921</span> </div>
<div class="line"><span class="lineno"> 2922</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>) <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>);</div>
<div class="line"><span class="lineno"> 2923</span>    result = <a class="code hl_function" href="fs_8c.html#ac670ff3b3d77872cadae38060bc92853">FS_OpenReadFile</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <span class="keyword">false</span>, 16);</div>
<div class="line"><span class="lineno"> 2924</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>) <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>);</div>
<div class="line"><span class="lineno"> 2925</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2926</span>}</div>
<div class="ttc" id="athread_8h_html_a7f3f3ae74fd58a8277941afd6a271b43"><div class="ttname"><a href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a></div><div class="ttdeci">#define Thread_LockMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00017">thread.h:17</a></div></div>
<div class="ttc" id="athread_8h_html_ada4fef8706961af60f0404fdbfa50be7"><div class="ttname"><a href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a></div><div class="ttdeci">#define Thread_UnlockMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00018">thread.h:18</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00413">CL_PlayDemo()</a>, <a class="el" href="fs_8c_source.html#l03525">FS_LoadFile()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="dpvsimpledecode_8c_source.html#l00056">hz_bitstream_read_open()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00047">jam_open()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00252">LibAvW_OpenVideo()</a>, <a class="el" href="cl__parse_8c_source.html#l00540">QW_CL_CheckOrDownloadFile()</a>, <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04336">VM_buf_loadfile()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01917">VM_fopen()</a>, and <a class="el" href="wad_8c_source.html#l00165">W_LoadTextureWadFile()</a>.</p>

</div>
</div>
<a id="af894b5591c7482a151cbba1737656233" name="af894b5591c7482a151cbba1737656233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af894b5591c7482a151cbba1737656233">&#9670;&#160;</a></span>FS_Path_f()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Path_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01060">1060</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1061</span>{</div>
<div class="line"><span class="lineno"> 1062</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *s;</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>    <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Current search path:\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keywordflow">for</span> (s=<a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> ; s ; s=s-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>)</div>
<div class="line"><span class="lineno"> 1066</span>    {</div>
<div class="line"><span class="lineno"> 1067</span>        <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">pack</a>)</div>
<div class="line"><span class="lineno"> 1068</span>        {</div>
<div class="line"><span class="lineno"> 1069</span>            <span class="keywordflow">if</span>(s-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">pack</a>-&gt;<a class="code hl_variable" href="structpack__t.html#a0c20c8595d1222b564aeb3f2ab802acd">vpack</a>)</div>
<div class="line"><span class="lineno"> 1070</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%sdir (virtual pack)\n&quot;</span>, s-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">pack</a>-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>);</div>
<div class="line"><span class="lineno"> 1071</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1072</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s (%i files)\n&quot;</span>, s-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">pack</a>-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>, s-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a5ac5f36b61b9066da0fb0c80336ba6b9">pack</a>-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a>);</div>
<div class="line"><span class="lineno"> 1073</span>        }</div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1075</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, s-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a756891bcca48632b524679636814839f">filename</a>);</div>
<div class="line"><span class="lineno"> 1076</span>    }</div>
<div class="line"><span class="lineno"> 1077</span>}</div>
<div class="ttc" id="astructsearchpath__t_html_a756891bcca48632b524679636814839f"><div class="ttname"><a href="structsearchpath__t.html#a756891bcca48632b524679636814839f">searchpath_t::filename</a></div><div class="ttdeci">char filename[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00397">fs.c:397</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>.</p>

</div>
</div>
<a id="ae1e3a888c966ea1276ad5dab8d731414" name="ae1e3a888c966ea1276ad5dab8d731414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e3a888c966ea1276ad5dab8d731414">&#9670;&#160;</a></span>FS_Print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03246">3246</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3247</span>{</div>
<div class="line"><span class="lineno"> 3248</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code hl_function" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a> (file, msg, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a> (msg));</div>
<div class="line"><span class="lineno"> 3249</span>}</div>
<div class="ttc" id="afs_8c_html_a2ef891979f8e7a5158ab1ade82cd733f"><div class="ttname"><a href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a></div><div class="ttdeci">fs_offset_t FS_Write(qfile_t *file, const void *data, size_t datasize)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03004">fs.c:3004</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="console_8c_source.html#l00525">Log_Close()</a>, <a class="el" href="console_8c_source.html#l00588">Log_ConPrint()</a>, <a class="el" href="console_8c_source.html#l00507">Log_Open()</a>, <a class="el" href="prvm__edict_8c_source.html#l00734">PRVM_ED_Write()</a>, <a class="el" href="prvm__edict_8c_source.html#l00896">PRVM_ED_WriteGlobals()</a>, <a class="el" href="gl__rmain_8c_source.html#l01419">R_GLSL_DumpShader_f()</a>, and <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>.</p>

</div>
</div>
<a id="acb2f91e19bc9adfe48467c7ade9201ab" name="acb2f91e19bc9adfe48467c7ade9201ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2f91e19bc9adfe48467c7ade9201ab">&#9670;&#160;</a></span>FS_Printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Printf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03258">3258</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3259</span>{</div>
<div class="line"><span class="lineno"> 3260</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 3261</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a> args;</div>
<div class="line"><span class="lineno"> 3262</span> </div>
<div class="line"><span class="lineno"> 3263</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_start</a> (args, <a class="code hl_variable" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>);</div>
<div class="line"><span class="lineno"> 3264</span>    result = <a class="code hl_function" href="fs_8c.html#a66af7e39cdce25212e2aae7bfccc9029">FS_VPrintf</a> (file, <a class="code hl_variable" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>, args);</div>
<div class="line"><span class="lineno"> 3265</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_end</a> (args);</div>
<div class="line"><span class="lineno"> 3266</span> </div>
<div class="line"><span class="lineno"> 3267</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3268</span>}</div>
<div class="ttc" id="afs_8c_html_a66af7e39cdce25212e2aae7bfccc9029"><div class="ttname"><a href="fs_8c.html#a66af7e39cdce25212e2aae7bfccc9029">FS_VPrintf</a></div><div class="ttdeci">int FS_VPrintf(qfile_t *file, const char *format, va_list ap)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03278">fs.c:3278</a></div></div>
<div class="ttc" id="aglquake_8h_html_a53da72788901530821f9326a25ae50f8"><div class="ttname"><a href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a></div><div class="ttdeci">GLint GLint GLint GLsizei GLsizei GLenum format</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00648">glquake.h:648</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00137">CL_CutDemo()</a>, <a class="el" href="cl__main_8c_source.html#l02306">CL_Locs_Save_f()</a>, <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="cl__demo_8c_source.html#l00346">CL_Record_f()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="cvar_8c_source.html#l00985">Cvar_WriteVariables()</a>, <a class="el" href="keys_8c_source.html#l00093">Key_History_Shutdown()</a>, <a class="el" href="keys_8c_source.html#l01681">Key_WriteBindings()</a>, <a class="el" href="prvm__edict_8c_source.html#l00734">PRVM_ED_Write()</a>, <a class="el" href="prvm__edict_8c_source.html#l00896">PRVM_ED_WriteGlobals()</a>, <a class="el" href="prvm__edict_8c_source.html#l02002">PRVM_Prog_Load()</a>, <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>, and <a class="el" href="sv__demo_8c_source.html#l00006">SV_StartDemoRecording()</a>.</p>

</div>
</div>
<a id="a68f2a03ca613c2c6c4c98beaa253928b" name="a68f2a03ca613c2c6c4c98beaa253928b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f2a03ca613c2c6c4c98beaa253928b">&#9670;&#160;</a></span>FS_Purge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Purge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03472">3472</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3473</span>{</div>
<div class="line"><span class="lineno"> 3474</span>    file-&gt;buff_len = 0;</div>
<div class="line"><span class="lineno"> 3475</span>    file-&gt;buff_ind = 0;</div>
<div class="line"><span class="lineno"> 3476</span>    file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 3477</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03051">FS_Read()</a>, <a class="el" href="fs_8c_source.html#l03344">FS_Seek()</a>, and <a class="el" href="fs_8c_source.html#l03004">FS_Write()</a>.</p>

</div>
</div>
<a id="a06be02d84167befd9817197abb0c2100" name="a06be02d84167befd9817197abb0c2100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06be02d84167befd9817197abb0c2100">&#9670;&#160;</a></span>FS_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> FS_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>buffersize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03051">3051</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3052</span>{</div>
<div class="line"><span class="lineno"> 3053</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, done;</div>
<div class="line"><span class="lineno"> 3054</span> </div>
<div class="line"><span class="lineno"> 3055</span>    <span class="keywordflow">if</span> (buffersize == 0 || !<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)</div>
<div class="line"><span class="lineno"> 3056</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3057</span> </div>
<div class="line"><span class="lineno"> 3058</span>    <span class="comment">// Get rid of the ungetc character</span></div>
<div class="line"><span class="lineno"> 3059</span>    <span class="keywordflow">if</span> (file-&gt;ungetc != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>)</div>
<div class="line"><span class="lineno"> 3060</span>    {</div>
<div class="line"><span class="lineno"> 3061</span>        ((<span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[0] = file-&gt;ungetc;</div>
<div class="line"><span class="lineno"> 3062</span>        buffersize--;</div>
<div class="line"><span class="lineno"> 3063</span>        file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 3064</span>        done = 1;</div>
<div class="line"><span class="lineno"> 3065</span>    }</div>
<div class="line"><span class="lineno"> 3066</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3067</span>        done = 0;</div>
<div class="line"><span class="lineno"> 3068</span> </div>
<div class="line"><span class="lineno"> 3069</span>    <span class="keywordflow">if</span>(file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>)</div>
<div class="line"><span class="lineno"> 3070</span>    {</div>
<div class="line"><span class="lineno"> 3071</span>        <span class="keywordtype">size_t</span> left = file-&gt;real_length - file-&gt;position;</div>
<div class="line"><span class="lineno"> 3072</span>        <span class="keywordflow">if</span>(buffersize &gt; left)</div>
<div class="line"><span class="lineno"> 3073</span>            buffersize = left;</div>
<div class="line"><span class="lineno"> 3074</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, file-&gt;data + file-&gt;position, buffersize);</div>
<div class="line"><span class="lineno"> 3075</span>        file-&gt;position += buffersize;</div>
<div class="line"><span class="lineno"> 3076</span>        <span class="keywordflow">return</span> buffersize;</div>
<div class="line"><span class="lineno"> 3077</span>    }</div>
<div class="line"><span class="lineno"> 3078</span> </div>
<div class="line"><span class="lineno"> 3079</span>    <span class="comment">// First, we copy as many bytes as we can from &quot;buff&quot;</span></div>
<div class="line"><span class="lineno"> 3080</span>    <span class="keywordflow">if</span> (file-&gt;buff_ind &lt; file-&gt;buff_len)</div>
<div class="line"><span class="lineno"> 3081</span>    {</div>
<div class="line"><span class="lineno"> 3082</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = file-&gt;buff_len - file-&gt;buff_ind;</div>
<div class="line"><span class="lineno"> 3083</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = ((<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize &gt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>) ? <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> : (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3084</span>        done += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3085</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, &amp;file-&gt;buff[file-&gt;buff_ind], <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3086</span>        file-&gt;buff_ind += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3087</span> </div>
<div class="line"><span class="lineno"> 3088</span>        buffersize -= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3089</span>        <span class="keywordflow">if</span> (buffersize == 0)</div>
<div class="line"><span class="lineno"> 3090</span>            <span class="keywordflow">return</span> done;</div>
<div class="line"><span class="lineno"> 3091</span>    }</div>
<div class="line"><span class="lineno"> 3092</span> </div>
<div class="line"><span class="lineno"> 3093</span>    <span class="comment">// NOTE: at this point, the read buffer is always empty</span></div>
<div class="line"><span class="lineno"> 3094</span> </div>
<div class="line"><span class="lineno"> 3095</span>    <span class="comment">// If the file isn&#39;t compressed</span></div>
<div class="line"><span class="lineno"> 3096</span>    <span class="keywordflow">if</span> (! (file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#a077f9f22119c315af3d69441ba971f71">QFILE_FLAG_DEFLATED</a>))</div>
<div class="line"><span class="lineno"> 3097</span>    {</div>
<div class="line"><span class="lineno"> 3098</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3099</span> </div>
<div class="line"><span class="lineno"> 3100</span>        <span class="comment">// We must take care to not read after the end of the file</span></div>
<div class="line"><span class="lineno"> 3101</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = file-&gt;real_length - file-&gt;position;</div>
<div class="line"><span class="lineno"> 3102</span> </div>
<div class="line"><span class="lineno"> 3103</span>        <span class="comment">// If we have a lot of data to get, put them directly into &quot;buffer&quot;</span></div>
<div class="line"><span class="lineno"> 3104</span>        <span class="keywordflow">if</span> (buffersize &gt; <span class="keyword">sizeof</span> (file-&gt;buff) / 2)</div>
<div class="line"><span class="lineno"> 3105</span>        {</div>
<div class="line"><span class="lineno"> 3106</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize)</div>
<div class="line"><span class="lineno"> 3107</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3108</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset + file-&gt;position, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 3109</span>            {</div>
<div class="line"><span class="lineno"> 3110</span>                <span class="comment">// Seek failed. When reading from a pipe, and</span></div>
<div class="line"><span class="lineno"> 3111</span>                <span class="comment">// the caller never called FS_Seek, this still</span></div>
<div class="line"><span class="lineno"> 3112</span>                <span class="comment">// works fine.  So no reporting this error.</span></div>
<div class="line"><span class="lineno"> 3113</span>            }</div>
<div class="line"><span class="lineno"> 3114</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a> = <a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (file-&gt;handle, &amp;((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[done], <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3115</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 3116</span>            {</div>
<div class="line"><span class="lineno"> 3117</span>                done += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3118</span>                file-&gt;position += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3119</span> </div>
<div class="line"><span class="lineno"> 3120</span>                <span class="comment">// Purge cached data</span></div>
<div class="line"><span class="lineno"> 3121</span>                <a class="code hl_function" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (file);</div>
<div class="line"><span class="lineno"> 3122</span>            }</div>
<div class="line"><span class="lineno"> 3123</span>        }</div>
<div class="line"><span class="lineno"> 3124</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3125</span>        {</div>
<div class="line"><span class="lineno"> 3126</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (file-&gt;buff))</div>
<div class="line"><span class="lineno"> 3127</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (file-&gt;buff);</div>
<div class="line"><span class="lineno"> 3128</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset + file-&gt;position, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 3129</span>            {</div>
<div class="line"><span class="lineno"> 3130</span>                <span class="comment">// Seek failed. When reading from a pipe, and</span></div>
<div class="line"><span class="lineno"> 3131</span>                <span class="comment">// the caller never called FS_Seek, this still</span></div>
<div class="line"><span class="lineno"> 3132</span>                <span class="comment">// works fine.  So no reporting this error.</span></div>
<div class="line"><span class="lineno"> 3133</span>            }</div>
<div class="line"><span class="lineno"> 3134</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a> = <a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (file-&gt;handle, file-&gt;buff, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3135</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 3136</span>            {</div>
<div class="line"><span class="lineno"> 3137</span>                file-&gt;buff_len = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3138</span>                file-&gt;position += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nb</a>;</div>
<div class="line"><span class="lineno"> 3139</span> </div>
<div class="line"><span class="lineno"> 3140</span>                <span class="comment">// Copy the requested data in &quot;buffer&quot; (as much as we can)</span></div>
<div class="line"><span class="lineno"> 3141</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize &gt; file-&gt;buff_len ? file-&gt;buff_len : (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3142</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (&amp;((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[done], file-&gt;buff, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3143</span>                file-&gt;buff_ind = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3144</span>                done += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3145</span>            }</div>
<div class="line"><span class="lineno"> 3146</span>        }</div>
<div class="line"><span class="lineno"> 3147</span> </div>
<div class="line"><span class="lineno"> 3148</span>        <span class="keywordflow">return</span> done;</div>
<div class="line"><span class="lineno"> 3149</span>    }</div>
<div class="line"><span class="lineno"> 3150</span> </div>
<div class="line"><span class="lineno"> 3151</span>    <span class="comment">// If the file is compressed, it&#39;s more complicated...</span></div>
<div class="line"><span class="lineno"> 3152</span>    <span class="comment">// We cycle through a few operations until we have read enough data</span></div>
<div class="line"><span class="lineno"> 3153</span>    <span class="keywordflow">while</span> (buffersize &gt; 0)</div>
<div class="line"><span class="lineno"> 3154</span>    {</div>
<div class="line"><span class="lineno"> 3155</span>        <a class="code hl_struct" href="structztoolkit__t.html">ztoolkit_t</a> *ztk = file-&gt;ztk;</div>
<div class="line"><span class="lineno"> 3156</span>        <span class="keywordtype">int</span> error;</div>
<div class="line"><span class="lineno"> 3157</span> </div>
<div class="line"><span class="lineno"> 3158</span>        <span class="comment">// NOTE: at this point, the read buffer is always empty</span></div>
<div class="line"><span class="lineno"> 3159</span> </div>
<div class="line"><span class="lineno"> 3160</span>        <span class="comment">// If &quot;input&quot; is also empty, we need to refill it</span></div>
<div class="line"><span class="lineno"> 3161</span>        <span class="keywordflow">if</span> (ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> == ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a>)</div>
<div class="line"><span class="lineno"> 3162</span>        {</div>
<div class="line"><span class="lineno"> 3163</span>            <span class="comment">// If we are at the end of the file</span></div>
<div class="line"><span class="lineno"> 3164</span>            <span class="keywordflow">if</span> (file-&gt;position == file-&gt;real_length)</div>
<div class="line"><span class="lineno"> 3165</span>                <span class="keywordflow">return</span> done;</div>
<div class="line"><span class="lineno"> 3166</span> </div>
<div class="line"><span class="lineno"> 3167</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)(ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a221e70188cc5fdeb2a998ee06187faa8">comp_length</a> - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">in_position</a>);</div>
<div class="line"><span class="lineno"> 3168</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>))</div>
<div class="line"><span class="lineno"> 3169</span>                <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>);</div>
<div class="line"><span class="lineno"> 3170</span>            <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset + (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">in_position</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>);</div>
<div class="line"><span class="lineno"> 3171</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (file-&gt;handle, ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>) != <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 3172</span>            {</div>
<div class="line"><span class="lineno"> 3173</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_Read: unexpected end of file\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3174</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3175</span>            }</div>
<div class="line"><span class="lineno"> 3176</span> </div>
<div class="line"><span class="lineno"> 3177</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> = 0;</div>
<div class="line"><span class="lineno"> 3178</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3179</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">in_position</a> += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3180</span>        }</div>
<div class="line"><span class="lineno"> 3181</span> </div>
<div class="line"><span class="lineno"> 3182</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#ab58d6596041c08f46454b8394f8e6b7f">next_in</a> = &amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>[ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a>];</div>
<div class="line"><span class="lineno"> 3183</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a>);</div>
<div class="line"><span class="lineno"> 3184</span> </div>
<div class="line"><span class="lineno"> 3185</span>        <span class="comment">// Now that we are sure we have compressed data available, we need to determine</span></div>
<div class="line"><span class="lineno"> 3186</span>        <span class="comment">// if it&#39;s better to inflate it in &quot;file-&gt;buff&quot; or directly in &quot;buffer&quot;</span></div>
<div class="line"><span class="lineno"> 3187</span> </div>
<div class="line"><span class="lineno"> 3188</span>        <span class="comment">// Inflate the data in &quot;file-&gt;buff&quot;</span></div>
<div class="line"><span class="lineno"> 3189</span>        <span class="keywordflow">if</span> (buffersize &lt; <span class="keyword">sizeof</span> (file-&gt;buff) / 2)</div>
<div class="line"><span class="lineno"> 3190</span>        {</div>
<div class="line"><span class="lineno"> 3191</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a90b935509c7822fc0d5954daa29639de">next_out</a> = file-&gt;buff;</div>
<div class="line"><span class="lineno"> 3192</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a> = <span class="keyword">sizeof</span> (file-&gt;buff);</div>
<div class="line"><span class="lineno"> 3193</span>            error = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a> (&amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>, <a class="code hl_define" href="fs_8c.html#aa32ca175522e0ef314f4dc0b0196bada">Z_SYNC_FLUSH</a>);</div>
<div class="line"><span class="lineno"> 3194</span>            <span class="keywordflow">if</span> (error != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; error != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno"> 3195</span>            {</div>
<div class="line"><span class="lineno"> 3196</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_Read: Can&#39;t inflate file\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3197</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3198</span>            }</div>
<div class="line"><span class="lineno"> 3199</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> = ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a>;</div>
<div class="line"><span class="lineno"> 3200</span> </div>
<div class="line"><span class="lineno"> 3201</span>            file-&gt;buff_len = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<span class="keyword">sizeof</span> (file-&gt;buff) - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a>;</div>
<div class="line"><span class="lineno"> 3202</span>            file-&gt;position += file-&gt;buff_len;</div>
<div class="line"><span class="lineno"> 3203</span> </div>
<div class="line"><span class="lineno"> 3204</span>            <span class="comment">// Copy the requested data in &quot;buffer&quot; (as much as we can)</span></div>
<div class="line"><span class="lineno"> 3205</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize &gt; file-&gt;buff_len ? file-&gt;buff_len : (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3206</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (&amp;((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[done], file-&gt;buff, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3207</span>            file-&gt;buff_ind = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3208</span>        }</div>
<div class="line"><span class="lineno"> 3209</span> </div>
<div class="line"><span class="lineno"> 3210</span>        <span class="comment">// Else, we inflate directly in &quot;buffer&quot;</span></div>
<div class="line"><span class="lineno"> 3211</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3212</span>        {</div>
<div class="line"><span class="lineno"> 3213</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a90b935509c7822fc0d5954daa29639de">next_out</a> = &amp;((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[done];</div>
<div class="line"><span class="lineno"> 3214</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)buffersize;</div>
<div class="line"><span class="lineno"> 3215</span>            error = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a> (&amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>, <a class="code hl_define" href="fs_8c.html#aa32ca175522e0ef314f4dc0b0196bada">Z_SYNC_FLUSH</a>);</div>
<div class="line"><span class="lineno"> 3216</span>            <span class="keywordflow">if</span> (error != <a class="code hl_define" href="fs_8c.html#a8cb802b6a11e926478dc6547c514c65c">Z_OK</a> &amp;&amp; error != <a class="code hl_define" href="fs_8c.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>)</div>
<div class="line"><span class="lineno"> 3217</span>            {</div>
<div class="line"><span class="lineno"> 3218</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;FS_Read: Can&#39;t inflate file\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3219</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3220</span>            }</div>
<div class="line"><span class="lineno"> 3221</span>            ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> = ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a>;</div>
<div class="line"><span class="lineno"> 3222</span> </div>
<div class="line"><span class="lineno"> 3223</span>            <span class="comment">// How much data did it inflate?</span></div>
<div class="line"><span class="lineno"> 3224</span>            <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)(buffersize - ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#aa1e0139bcc68702ced838bfd51f6a9ea">avail_out</a>);</div>
<div class="line"><span class="lineno"> 3225</span>            file-&gt;position += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3226</span> </div>
<div class="line"><span class="lineno"> 3227</span>            <span class="comment">// Purge cached data</span></div>
<div class="line"><span class="lineno"> 3228</span>            <a class="code hl_function" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (file);</div>
<div class="line"><span class="lineno"> 3229</span>        }</div>
<div class="line"><span class="lineno"> 3230</span> </div>
<div class="line"><span class="lineno"> 3231</span>        done += <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3232</span>        buffersize -= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3233</span>    }</div>
<div class="line"><span class="lineno"> 3234</span> </div>
<div class="line"><span class="lineno"> 3235</span>    <span class="keywordflow">return</span> done;</div>
<div class="line"><span class="lineno"> 3236</span>}</div>
<div class="ttc" id="afs_8c_html_a68f2a03ca613c2c6c4c98beaa253928b"><div class="ttname"><a href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a></div><div class="ttdeci">void FS_Purge(qfile_t *file)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03472">fs.c:3472</a></div></div>
<div class="ttc" id="afs_8c_html_aa32ca175522e0ef314f4dc0b0196bada"><div class="ttname"><a href="fs_8c.html#aa32ca175522e0ef314f4dc0b0196bada">Z_SYNC_FLUSH</a></div><div class="ttdeci">#define Z_SYNC_FLUSH</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00226">fs.c:226</a></div></div>
<div class="ttc" id="aglquake_8h_html_a39774db434725e51f4ad4c04150ed6a1"><div class="ttname"><a href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00629">glquake.h:629</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a0a55756c457d806c4b08110dd9dbe278"><div class="ttname"><a href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">ztoolkit_t::in_ind</a></div><div class="ttdeci">size_t in_ind</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00302">fs.c:302</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a4bd3e4d318d3f4a606af7afc30196735"><div class="ttname"><a href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">ztoolkit_t::in_position</a></div><div class="ttdeci">size_t in_position</div><div class="ttdoc">position in the compressed file</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00303">fs.c:303</a></div></div>
<div class="ttc" id="astructztoolkit__t_html_a8fe891ea75ce1170ae2cff851adbd0fc"><div class="ttname"><a href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">ztoolkit_t::in_len</a></div><div class="ttdeci">size_t in_len</div><div class="ttdoc">input buffer current index and length</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00302">fs.c:302</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00187">CL_ReadDemoMessage()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="libcurl_8c_source.html#l00886">Curl_Begin()</a>, <a class="el" href="fs_8c_source.html#l03308">FS_Getc()</a>, <a class="el" href="fs_8c_source.html#l03488">FS_LoadAndCloseQFile()</a>, <a class="el" href="fs_8c_source.html#l02771">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l03344">FS_Seek()</a>, <a class="el" href="fs_8c_source.html#l01768">FS_SysCheckGameDir()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="dpvsimpledecode_8c_source.html#l00109">hz_bitstream_read_blocks_read()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00047">jam_open()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00290">jam_video()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00238">LibAvW_FS_Read()</a>, <a class="el" href="menu_8c_source.html#l00841">M_ScanSaves()</a>, <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>, <a class="el" href="sv__send_8c_source.html#l01423">SV_SendClientDatagram()</a>, <a class="el" href="wad_8c_source.html#l00277">W_GetTextureBGRA()</a>, and <a class="el" href="wad_8c_source.html#l00165">W_LoadTextureWadFile()</a>.</p>

</div>
</div>
<a id="ab478ae89e52cbb0ffb24cd20cccec60a" name="ab478ae89e52cbb0ffb24cd20cccec60a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab478ae89e52cbb0ffb24cd20cccec60a">&#9670;&#160;</a></span>FS_RemoveOnClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_RemoveOnClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02992">2992</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2993</span>{</div>
<div class="line"><span class="lineno"> 2994</span>    file-&gt;flags |= <a class="code hl_define" href="fs_8c.html#af21a4ea898d2553316d98abbcf68bc67">QFILE_FLAG_REMOVE</a>;</div>
<div class="line"><span class="lineno"> 2995</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00307">CL_Stop_f()</a>, and <a class="el" href="sv__demo_8c_source.html#l00055">SV_StopDemoRecording()</a>.</p>

</div>
</div>
<a id="a2790033183896d4ab46de75305b40786" name="a2790033183896d4ab46de75305b40786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2790033183896d4ab46de75305b40786">&#9670;&#160;</a></span>FS_Rescan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Rescan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01546">1546</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1547</span>{</div>
<div class="line"><span class="lineno"> 1548</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1549</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fs_modified</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1550</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reset</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1551</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><span class="lineno"> 1552</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1553</span> </div>
<div class="line"><span class="lineno"> 1554</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>)</div>
<div class="line"><span class="lineno"> 1555</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reset</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1556</span>    <a class="code hl_function" href="fs_8c.html#a03c0f05d0f065c9fe6fc4adc8d1888d3">FS_ClearSearchPath</a>();</div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span>    <span class="comment">// automatically activate gamemode for the gamedirs specified</span></div>
<div class="line"><span class="lineno"> 1559</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reset</a>)</div>
<div class="line"><span class="lineno"> 1560</span>        <a class="code hl_function" href="com__game_8c.html#a1cffac5f2be2df1facafad9712cfd76d">COM_ChangeGameTypeForGameDirs</a>();</div>
<div class="line"><span class="lineno"> 1561</span> </div>
<div class="line"><span class="lineno"> 1562</span>    <span class="comment">// add the game-specific paths</span></div>
<div class="line"><span class="lineno"> 1563</span>    <span class="comment">// gamedirname1 (typically id1)</span></div>
<div class="line"><span class="lineno"> 1564</span>    <a class="code hl_function" href="fs_8c.html#a8c576745f65f4843ba073f977b97db84">FS_AddGameHierarchy</a> (<a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1565</span>    <span class="comment">// update the com_modname (used for server info)</span></div>
<div class="line"><span class="lineno"> 1566</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a> &amp;&amp; <a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>[0])</div>
<div class="line"><span class="lineno"> 1567</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>));</div>
<div class="line"><span class="lineno"> 1568</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1569</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>));</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>    <span class="comment">// add the secondary game-specific path, if any</span></div>
<div class="line"><span class="lineno"> 1572</span>    <span class="comment">// (only used for mission packs and the like, which should set fs_modified)</span></div>
<div class="line"><span class="lineno"> 1573</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a> &amp;&amp; <a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>[0])</div>
<div class="line"><span class="lineno"> 1574</span>    {</div>
<div class="line"><span class="lineno"> 1575</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fs_modified</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1576</span>        <a class="code hl_function" href="fs_8c.html#a8c576745f65f4843ba073f977b97db84">FS_AddGameHierarchy</a> (<a class="code hl_variable" href="com__game_8c.html#a542f48e6700410ee45161841384b2460">gamedirname2</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1577</span>    }</div>
<div class="line"><span class="lineno"> 1578</span> </div>
<div class="line"><span class="lineno"> 1579</span>    <span class="comment">// -game &lt;gamedir&gt;</span></div>
<div class="line"><span class="lineno"> 1580</span>    <span class="comment">// Adds basedir/gamedir as an override game</span></div>
<div class="line"><span class="lineno"> 1581</span>    <span class="comment">// LadyHavoc: now supports multiple -game directories</span></div>
<div class="line"><span class="lineno"> 1582</span>    <span class="comment">// set the com_modname (reported in server info)</span></div>
<div class="line"><span class="lineno"> 1583</span>    <span class="comment">// bones_was_here: does NOT set fs_gamedir in FS_AddGameHierarchy()</span></div>
<div class="line"><span class="lineno"> 1584</span>    <span class="comment">// so that we still save files in the right place.</span></div>
<div class="line"><span class="lineno"> 1585</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a> = 0;</div>
<div class="line"><span class="lineno"> 1586</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="fs_8c.html#adda51408d01fe25b934e4fd7b21a9698">fs_numgamedirs</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1587</span>    {</div>
<div class="line"><span class="lineno"> 1588</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fs_modified</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1589</span>        <a class="code hl_function" href="fs_8c.html#a8c576745f65f4843ba073f977b97db84">FS_AddGameHierarchy</a> (<a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1590</span>        <span class="comment">// update the com_modname (used server info)</span></div>
<div class="line"><span class="lineno"> 1591</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span> (<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>));</div>
<div class="line"><span class="lineno"> 1592</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1593</span>            <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot; %s&quot;</span>, <a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>));</div>
<div class="line"><span class="lineno"> 1594</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1595</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>, <a class="code hl_variable" href="fs_8c.html#a1ae37afe19022713da1c41aaf8e74b8a">fs_gamedirs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>));</div>
<div class="line"><span class="lineno"> 1596</span>    }</div>
<div class="line"><span class="lineno"> 1597</span>    <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a>(&amp;<a class="code hl_variable" href="fs_8c.html#a96cafb428e3f2059aa9fb50cd1cad67b">cvar_fs_gamedir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gamedirbuf</a>); <span class="comment">// so QC or console code can query it</span></div>
<div class="line"><span class="lineno"> 1598</span> </div>
<div class="line"><span class="lineno"> 1599</span>    <span class="comment">// add back the selfpack as new first item</span></div>
<div class="line"><span class="lineno"> 1600</span>    <a class="code hl_function" href="fs_8c.html#a764b9be01a515113f590f26417b3bdc1">FS_AddSelfPack</a>();</div>
<div class="line"><span class="lineno"> 1601</span> </div>
<div class="line"><span class="lineno"> 1602</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 1603</span>    {</div>
<div class="line"><span class="lineno"> 1604</span>        <span class="comment">// set the default screenshot name to either the mod name or the</span></div>
<div class="line"><span class="lineno"> 1605</span>        <span class="comment">// gamemode screenshot name</span></div>
<div class="line"><span class="lineno"> 1606</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="com__game_8c.html#a878b664b9eda93cab29b459501d96938">gamedirname1</a>))</div>
<div class="line"><span class="lineno"> 1607</span>            <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a> (&amp;<a class="code hl_variable" href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a>, <a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>);</div>
<div class="line"><span class="lineno"> 1608</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1609</span>            <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a> (&amp;<a class="code hl_variable" href="fs_8c.html#aebd7e09884a0b610f5ade286f7702166">scr_screenshot_name</a>, <a class="code hl_variable" href="com__game_8c.html#a4813864bbf79371511394a4c73c235a5">gamescreenshotname</a>);</div>
<div class="line"><span class="lineno"> 1610</span>    }</div>
<div class="line"><span class="lineno"> 1611</span> </div>
<div class="line"><span class="lineno"> 1612</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-modname&quot;</span>)) &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4fa71494699d7e84d29a1fd218ec3421">argc</a> - 1)</div>
<div class="line"><span class="lineno"> 1613</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>, <a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a8ac88df433bcd8ffc0fbb42cf2cd5602">argv</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a>));</div>
<div class="line"><span class="lineno"> 1614</span> </div>
<div class="line"><span class="lineno"> 1615</span>    <span class="comment">// If &quot;-condebug&quot; is in the command line, remove the previous log file</span></div>
<div class="line"><span class="lineno"> 1616</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a> (<span class="stringliteral">&quot;-condebug&quot;</span>) != 0)</div>
<div class="line"><span class="lineno"> 1617</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unlink</a> (<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s/qconsole.log&quot;</span>, <a class="code hl_variable" href="fs_8c.html#a0a0d4940920cae5cd03989225834c4bb">fs_gamedir</a>));</div>
<div class="line"><span class="lineno"> 1618</span> </div>
<div class="line"><span class="lineno"> 1619</span>    <span class="comment">// look for the pop.lmp file and set registered to true if it is found</span></div>
<div class="line"><span class="lineno"> 1620</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="fs_8c.html#ae5bb7ead56ab2c98c5b66a71e6141127">FS_FileExists</a>(<span class="stringliteral">&quot;gfx/pop.lmp&quot;</span>))</div>
<div class="line"><span class="lineno"> 1621</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="common_8c.html#ab005434d05d90be9b79565d72f11914b">registered</a>, 1);</div>
<div class="line"><span class="lineno"> 1622</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a>)</div>
<div class="line"><span class="lineno"> 1623</span>    {</div>
<div class="line"><span class="lineno"> 1624</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eaba17db6051a6fccbe2aafad46448a05a">GAME_NORMAL</a>:</div>
<div class="line"><span class="lineno"> 1625</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eafb03510ab6d06acefb4ac20cb9ae0c7e">GAME_HIPNOTIC</a>:</div>
<div class="line"><span class="lineno"> 1626</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea224f41434f3e5708b1fd8a4c60d2c2bb">GAME_ROGUE</a>:</div>
<div class="line"><span class="lineno"> 1627</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="common_8c.html#ab005434d05d90be9b79565d72f11914b">registered</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1628</span>        {</div>
<div class="line"><span class="lineno"> 1629</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fs_modified</a>)</div>
<div class="line"><span class="lineno"> 1630</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing shareware version, with modification.\nwarning: most mods require full quake data.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1631</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1632</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing shareware version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1633</span>        }</div>
<div class="line"><span class="lineno"> 1634</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1635</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing registered version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1636</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1637</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea36a31f57016e09de6fa9e76950073dcc">GAME_STEELSTORM</a>:</div>
<div class="line"><span class="lineno"> 1638</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#ab005434d05d90be9b79565d72f11914b">registered</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1639</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing registered version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1640</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1641</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Playing shareware version.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1642</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1643</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1644</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1645</span>    }</div>
<div class="line"><span class="lineno"> 1646</span> </div>
<div class="line"><span class="lineno"> 1647</span>    <span class="comment">// unload all wads so that future queries will return the new data</span></div>
<div class="line"><span class="lineno"> 1648</span>    <a class="code hl_function" href="wad_8c.html#ad551f91d4ae55d1207fdc66706876bc7">W_UnloadAll</a>();</div>
<div class="line"><span class="lineno"> 1649</span>}</div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a></div><div class="ttdeci">@ ca_dedicated</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00531">client.h:531</a></div></div>
<div class="ttc" id="acom__game_8c_html_a089b42925916fc1698399220e989dc47"><div class="ttname"><a href="com__game_8c.html#a089b42925916fc1698399220e989dc47">com_modname</a></div><div class="ttdeci">char com_modname[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00033">com_game.c:33</a></div></div>
<div class="ttc" id="acom__game_8c_html_a1cffac5f2be2df1facafad9712cfd76d"><div class="ttname"><a href="com__game_8c.html#a1cffac5f2be2df1facafad9712cfd76d">COM_ChangeGameTypeForGameDirs</a></div><div class="ttdeci">void COM_ChangeGameTypeForGameDirs(void)</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00119">com_game.c:119</a></div></div>
<div class="ttc" id="acom__game_8c_html_a4813864bbf79371511394a4c73c235a5"><div class="ttname"><a href="com__game_8c.html#a4813864bbf79371511394a4c73c235a5">gamescreenshotname</a></div><div class="ttdeci">const char * gamescreenshotname</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00031">com_game.c:31</a></div></div>
<div class="ttc" id="acom__game_8c_html_a8261ff184d55a220fafab13efd735946"><div class="ttname"><a href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a></div><div class="ttdeci">gamemode_t gamemode</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00026">com_game.c:26</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825ea224f41434f3e5708b1fd8a4c60d2c2bb"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea224f41434f3e5708b1fd8a4c60d2c2bb">GAME_ROGUE</a></div><div class="ttdeci">@ GAME_ROGUE</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00030">com_game.h:30</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825ea36a31f57016e09de6fa9e76950073dcc"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea36a31f57016e09de6fa9e76950073dcc">GAME_STEELSTORM</a></div><div class="ttdeci">@ GAME_STEELSTORM</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00053">com_game.h:53</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825eaba17db6051a6fccbe2aafad46448a05a"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eaba17db6051a6fccbe2aafad46448a05a">GAME_NORMAL</a></div><div class="ttdeci">@ GAME_NORMAL</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00028">com_game.h:28</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825eafb03510ab6d06acefb4ac20cb9ae0c7e"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eafb03510ab6d06acefb4ac20cb9ae0c7e">GAME_HIPNOTIC</a></div><div class="ttdeci">@ GAME_HIPNOTIC</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00029">com_game.h:29</a></div></div>
<div class="ttc" id="acommon_8c_html_ab005434d05d90be9b79565d72f11914b"><div class="ttname"><a href="common_8c.html#ab005434d05d90be9b79565d72f11914b">registered</a></div><div class="ttdeci">cvar_t registered</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00032">common.c:32</a></div></div>
<div class="ttc" id="acvar_8c_html_a65b55ce35a5bd18e379065651d5d6e15"><div class="ttname"><a href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a></div><div class="ttdeci">void Cvar_SetValueQuick(cvar_t *var, float value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00473">cvar.c:473</a></div></div>
<div class="ttc" id="acvar_8c_html_a6f37a084abf4715928f1a004181866f8"><div class="ttname"><a href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a></div><div class="ttdeci">void Cvar_SetQuick(cvar_t *var, const char *value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00436">cvar.c:436</a></div></div>
<div class="ttc" id="afs_8c_html_a03c0f05d0f065c9fe6fc4adc8d1888d3"><div class="ttname"><a href="fs_8c.html#a03c0f05d0f065c9fe6fc4adc8d1888d3">FS_ClearSearchPath</a></div><div class="ttdeci">static void FS_ClearSearchPath(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01460">fs.c:1460</a></div></div>
<div class="ttc" id="afs_8c_html_a8c576745f65f4843ba073f977b97db84"><div class="ttname"><a href="fs_8c.html#a8c576745f65f4843ba073f977b97db84">FS_AddGameHierarchy</a></div><div class="ttdeci">static void FS_AddGameHierarchy(const char *dir, qbool set_fs_gamedir)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01396">fs.c:1396</a></div></div>
<div class="ttc" id="afs_8c_html_ae5bb7ead56ab2c98c5b66a71e6141127"><div class="ttname"><a href="fs_8c.html#ae5bb7ead56ab2c98c5b66a71e6141127">FS_FileExists</a></div><div class="ttdeci">const char * FS_FileExists(const char *filename)</div><div class="ttdoc">Look for a file in the packages and in the filesystem Returns its canonical name (same case as used i...</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03678">fs.c:3678</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
<div class="ttc" id="awad_8c_html_ad551f91d4ae55d1207fdc66706876bc7"><div class="ttname"><a href="wad_8c.html#ad551f91d4ae55d1207fdc66706876bc7">W_UnloadAll</a></div><div class="ttdeci">void W_UnloadAll(void)</div><div class="ttdef"><b>Definition</b> <a href="wad_8c_source.html#l00087">wad.c:87</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="fs_8c_source.html#l01662">FS_ChangeGameDirs()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, and <a class="el" href="fs_8c_source.html#l01651">FS_Rescan_f()</a>.</p>

</div>
</div>
<a id="a8d640c9bc35832e159e445d31c987e1e" name="a8d640c9bc35832e159e445d31c987e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d640c9bc35832e159e445d31c987e1e">&#9670;&#160;</a></span>FS_Rescan_f()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Rescan_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01651">1651</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1652</span>{</div>
<div class="line"><span class="lineno"> 1653</span>    <a class="code hl_function" href="fs_8c.html#a2790033183896d4ab46de75305b40786">FS_Rescan</a>();</div>
<div class="line"><span class="lineno"> 1654</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>.</p>

</div>
</div>
<a id="ab0bdcd3ddc4eeae13ee7b56380c81b09" name="ab0bdcd3ddc4eeae13ee7b56380c81b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0bdcd3ddc4eeae13ee7b56380c81b09">&#9670;&#160;</a></span>FS_SanitizePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_SanitizePath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02658">2658</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2659</span>{</div>
<div class="line"><span class="lineno"> 2660</span>    <span class="keywordflow">for</span> (; *path; path++)</div>
<div class="line"><span class="lineno"> 2661</span>        <span class="keywordflow">if</span> (*path == <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><span class="lineno"> 2662</span>            *path = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><span class="lineno"> 2663</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="image_8c_source.html#l01043">loadimagepixelsbgra()</a>.</p>

</div>
</div>
<a id="a637b96ed07f8e70398c51a8bc3ce4fb9" name="a637b96ed07f8e70398c51a8bc3ce4fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a637b96ed07f8e70398c51a8bc3ce4fb9">&#9670;&#160;</a></span>FS_Search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfssearch__t.html">fssearch_t</a> * FS_Search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>caseinsensitive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>packfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03740">3740</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3741</span>{</div>
<div class="line"><span class="lineno"> 3742</span>    <a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 3743</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>;</div>
<div class="line"><span class="lineno"> 3744</span>    <a class="code hl_struct" href="structpack__t.html">pack_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>;</div>
<div class="line"><span class="lineno"> 3745</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a>, numfiles, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>;</div>
<div class="line"><span class="lineno"> 3746</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>;</div>
<div class="line"><span class="lineno"> 3747</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlist</a>;</div>
<div class="line"><span class="lineno"> 3748</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>;</div>
<div class="line"><span class="lineno"> 3749</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *start, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>;</div>
<div class="line"><span class="lineno"> 3750</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a>;</div>
<div class="line"><span class="lineno"> 3751</span> </div>
<div class="line"><span class="lineno"> 3752</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;.&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;:&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;/&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;\\&#39;</span>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3753</span>        ;</div>
<div class="line"><span class="lineno"> 3754</span> </div>
<div class="line"><span class="lineno"> 3755</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 3756</span>    {</div>
<div class="line"><span class="lineno"> 3757</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Don&#39;t use punctuation at the beginning of a search pattern!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3758</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3759</span>    }</div>
<div class="line"><span class="lineno"> 3760</span> </div>
<div class="line"><span class="lineno"> 3761</span>    <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>);</div>
<div class="line"><span class="lineno"> 3762</span>    <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlist</a>);</div>
<div class="line"><span class="lineno"> 3763</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3764</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 3765</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="charliteral">&#39;\\&#39;</span>);</div>
<div class="line"><span class="lineno"> 3766</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 3767</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>);</div>
<div class="line"><span class="lineno"> 3768</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>);</div>
<div class="line"><span class="lineno"> 3769</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> ? (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> + 1 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>) : 0;</div>
<div class="line"><span class="lineno"> 3770</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a> + 1);</div>
<div class="line"><span class="lineno"> 3771</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a>)</div>
<div class="line"><span class="lineno"> 3772</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a>);</div>
<div class="line"><span class="lineno"> 3773</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepathlength</a>] = 0;</div>
<div class="line"><span class="lineno"> 3774</span> </div>
<div class="line"><span class="lineno"> 3775</span>    <span class="comment">// search through the path, one element at a time</span></div>
<div class="line"><span class="lineno"> 3776</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>)</div>
<div class="line"><span class="lineno"> 3777</span>    {</div>
<div class="line"><span class="lineno"> 3778</span>        <span class="comment">// is the element a pak file?</span></div>
<div class="line"><span class="lineno"> 3779</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;pack &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;pack-&gt;vpack)</div>
<div class="line"><span class="lineno"> 3780</span>        {</div>
<div class="line"><span class="lineno"> 3781</span>            <span class="comment">// look through all the pak file elements</span></div>
<div class="line"><span class="lineno"> 3782</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;pack;</div>
<div class="line"><span class="lineno"> 3783</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>)</div>
<div class="line"><span class="lineno"> 3784</span>            {</div>
<div class="line"><span class="lineno"> 3785</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;shortname))</div>
<div class="line"><span class="lineno"> 3786</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3787</span>            }</div>
<div class="line"><span class="lineno"> 3788</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;numfiles;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3789</span>            {</div>
<div class="line"><span class="lineno"> 3790</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3791</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;files[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].name, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>));</div>
<div class="line"><span class="lineno"> 3792</span>                <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>[0])</div>
<div class="line"><span class="lineno"> 3793</span>                {</div>
<div class="line"><span class="lineno"> 3794</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="filematch_8c.html#a59a2069617e6cf22696e42cb203918d2">matchpattern</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, (<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3795</span>                    {</div>
<div class="line"><span class="lineno"> 3796</span>                        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3797</span>                            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>))</div>
<div class="line"><span class="lineno"> 3798</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3799</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings)</div>
<div class="line"><span class="lineno"> 3800</span>                        {</div>
<div class="line"><span class="lineno"> 3801</span>                            <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><span class="lineno"> 3802</span>                            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3803</span>                                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SearchPackFile: %s : %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><span class="lineno"> 3804</span>                        }</div>
<div class="line"><span class="lineno"> 3805</span>                    }</div>
<div class="line"><span class="lineno"> 3806</span>                    <span class="comment">// strip off one path element at a time until empty</span></div>
<div class="line"><span class="lineno"> 3807</span>                    <span class="comment">// this way directories are added to the listing if they match the pattern</span></div>
<div class="line"><span class="lineno"> 3808</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 3809</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <span class="charliteral">&#39;\\&#39;</span>);</div>
<div class="line"><span class="lineno"> 3810</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 3811</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>;</div>
<div class="line"><span class="lineno"> 3812</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>)</div>
<div class="line"><span class="lineno"> 3813</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>;</div>
<div class="line"><span class="lineno"> 3814</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>)</div>
<div class="line"><span class="lineno"> 3815</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backslash</a>;</div>
<div class="line"><span class="lineno"> 3816</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>)</div>
<div class="line"><span class="lineno"> 3817</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">colon</a>;</div>
<div class="line"><span class="lineno"> 3818</span>                    *((<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">separator</a>) = 0;</div>
<div class="line"><span class="lineno"> 3819</span>                }</div>
<div class="line"><span class="lineno"> 3820</span>            }</div>
<div class="line"><span class="lineno"> 3821</span>        }</div>
<div class="line"><span class="lineno"> 3822</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3823</span>        {</div>
<div class="line"><span class="lineno"> 3824</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packfile</a>)</div>
<div class="line"><span class="lineno"> 3825</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3826</span> </div>
<div class="line"><span class="lineno"> 3827</span>            start = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>;</div>
<div class="line"><span class="lineno"> 3828</span> </div>
<div class="line"><span class="lineno"> 3829</span>            <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>);</div>
<div class="line"><span class="lineno"> 3830</span>            <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>);</div>
<div class="line"><span class="lineno"> 3831</span>            <span class="comment">// add a first entry to the set</span></div>
<div class="line"><span class="lineno"> 3832</span>            <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3833</span>            <span class="comment">// iterate through pattern&#39;s path</span></div>
<div class="line"><span class="lineno"> 3834</span>            <span class="keywordflow">while</span> (*start)</div>
<div class="line"><span class="lineno"> 3835</span>            {</div>
<div class="line"><span class="lineno"> 3836</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a>;</div>
<div class="line"><span class="lineno"> 3837</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpath</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3838</span>                <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3839</span> </div>
<div class="line"><span class="lineno"> 3840</span>                <span class="comment">// find the next wildcard</span></div>
<div class="line"><span class="lineno"> 3841</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(start, <span class="charliteral">&#39;?&#39;</span>);</div>
<div class="line"><span class="lineno"> 3842</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(start, <span class="charliteral">&#39;*&#39;</span>);</div>
<div class="line"><span class="lineno"> 3843</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a> &amp;&amp; (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a>))</div>
<div class="line"><span class="lineno"> 3844</span>                {</div>
<div class="line"><span class="lineno"> 3845</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">asterisk</a>;</div>
<div class="line"><span class="lineno"> 3846</span>                }</div>
<div class="line"><span class="lineno"> 3847</span> </div>
<div class="line"><span class="lineno"> 3848</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a>)</div>
<div class="line"><span class="lineno"> 3849</span>                {</div>
<div class="line"><span class="lineno"> 3850</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wildcard</a>, <span class="charliteral">&#39;/&#39;</span> );</div>
<div class="line"><span class="lineno"> 3851</span>                }</div>
<div class="line"><span class="lineno"> 3852</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3853</span>                {</div>
<div class="line"><span class="lineno"> 3854</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3855</span>                }</div>
<div class="line"><span class="lineno"> 3856</span> </div>
<div class="line"><span class="lineno"> 3857</span>                <span class="keywordflow">if</span>( !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> ) {</div>
<div class="line"><span class="lineno"> 3858</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> = start + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>( start );</div>
<div class="line"><span class="lineno"> 3859</span>                }</div>
<div class="line"><span class="lineno"> 3860</span> </div>
<div class="line"><span class="lineno"> 3861</span>                <span class="comment">// prevseparator points past the &#39;/&#39; right before the wildcard and nextseparator at the one following it (or at the end of the string)</span></div>
<div class="line"><span class="lineno"> 3862</span>                <span class="comment">// copy everything up except nextseperator</span></div>
<div class="line"><span class="lineno"> 3863</span>                <a class="code hl_function" href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>);</div>
<div class="line"><span class="lineno"> 3864</span>                <span class="comment">// find the last &#39;/&#39; before the wildcard</span></div>
<div class="line"><span class="lineno"> 3865</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>, <span class="charliteral">&#39;/&#39;</span> );</div>
<div class="line"><span class="lineno"> 3866</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a>)</div>
<div class="line"><span class="lineno"> 3867</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>;</div>
<div class="line"><span class="lineno"> 3868</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3869</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a>++;</div>
<div class="line"><span class="lineno"> 3870</span>                <span class="comment">// copy everything from start to the previous including the &#39;/&#39; (before the wildcard)</span></div>
<div class="line"><span class="lineno"> 3871</span>                <span class="comment">// everything up to start is already included in the path of matchedSet&#39;s entries</span></div>
<div class="line"><span class="lineno"> 3872</span>                <a class="code hl_function" href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpath</a>), start, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevseparator</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>) - (start - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>));</div>
<div class="line"><span class="lineno"> 3873</span> </div>
<div class="line"><span class="lineno"> 3874</span>                <span class="comment">// for each entry in matchedSet try to open the subdirectories specified in subpath</span></div>
<div class="line"><span class="lineno"> 3875</span>                <span class="keywordflow">for</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> = 0 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>.numstrings ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>++ ) {</div>
<div class="line"><span class="lineno"> 3876</span>                    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>[<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>];</div>
<div class="line"><span class="lineno"> 3877</span>                    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>.strings[ <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> ], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>) );</div>
<div class="line"><span class="lineno"> 3878</span>                    <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpath</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>) );</div>
<div class="line"><span class="lineno"> 3879</span>                    <a class="code hl_function" href="filematch_8c.html#aa59d9bf858a98da656f509fe40678be6">listdirectory</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchpath</a>-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a> );</div>
<div class="line"><span class="lineno"> 3880</span>                }</div>
<div class="line"><span class="lineno"> 3881</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> == 0 ) {</div>
<div class="line"><span class="lineno"> 3882</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3883</span>                }</div>
<div class="line"><span class="lineno"> 3884</span>                <span class="comment">// reset the current result set</span></div>
<div class="line"><span class="lineno"> 3885</span>                <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a> );</div>
<div class="line"><span class="lineno"> 3886</span>                <span class="comment">// match against the pattern</span></div>
<div class="line"><span class="lineno"> 3887</span>                <span class="keywordflow">for</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> = 0 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>.numstrings ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>++ ) {</div>
<div class="line"><span class="lineno"> 3888</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direntry</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a>.strings[ <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> ];</div>
<div class="line"><span class="lineno"> 3889</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="filematch_8c.html#a59a2069617e6cf22696e42cb203918d2">matchpattern</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direntry</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subpattern</a>, <span class="keyword">true</span>)) {</div>
<div class="line"><span class="lineno"> 3890</span>                        <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">direntry</a> );</div>
<div class="line"><span class="lineno"> 3891</span>                    }</div>
<div class="line"><span class="lineno"> 3892</span>                }</div>
<div class="line"><span class="lineno"> 3893</span>                <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">foundSet</a> );</div>
<div class="line"><span class="lineno"> 3894</span> </div>
<div class="line"><span class="lineno"> 3895</span>                start = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextseparator</a>;</div>
<div class="line"><span class="lineno"> 3896</span>            }</div>
<div class="line"><span class="lineno"> 3897</span> </div>
<div class="line"><span class="lineno"> 3898</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3899</span>            {</div>
<div class="line"><span class="lineno"> 3900</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirlistindex</a>];</div>
<div class="line"><span class="lineno"> 3901</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="filematch_8c.html#a59a2069617e6cf22696e42cb203918d2">matchpattern</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a>, (<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pattern</a>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3902</span>                {</div>
<div class="line"><span class="lineno"> 3903</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3904</span>                        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a>))</div>
<div class="line"><span class="lineno"> 3905</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3906</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings)</div>
<div class="line"><span class="lineno"> 3907</span>                    {</div>
<div class="line"><span class="lineno"> 3908</span>                        <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a>);</div>
<div class="line"><span class="lineno"> 3909</span>                        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a> &amp;&amp; <a class="code hl_variable" href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3910</span>                            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SearchDirFile: %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchtemp</a>);</div>
<div class="line"><span class="lineno"> 3911</span>                    }</div>
<div class="line"><span class="lineno"> 3912</span>                }</div>
<div class="line"><span class="lineno"> 3913</span>            }</div>
<div class="line"><span class="lineno"> 3914</span>            <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>( &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchedSet</a> );</div>
<div class="line"><span class="lineno"> 3915</span>        }</div>
<div class="line"><span class="lineno"> 3916</span>    }</div>
<div class="line"><span class="lineno"> 3917</span> </div>
<div class="line"><span class="lineno"> 3918</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings)</div>
<div class="line"><span class="lineno"> 3919</span>    {</div>
<div class="line"><span class="lineno"> 3920</span>        <a class="code hl_function" href="filematch_8c.html#a3462b7b4d7253c46111da15a55b31906">stringlistsort</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3921</span>        numfiles = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;</div>
<div class="line"><span class="lineno"> 3922</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> = 0;</div>
<div class="line"><span class="lineno"> 3923</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3924</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> += (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>]) + 1;</div>
<div class="line"><span class="lineno"> 3925</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = (<a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a> *)<a class="code hl_define" href="zone_8h.html#a35deb8ef816a08fb1bc8feac8db020c5">Z_Malloc</a>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a>) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> + numfiles * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div>
<div class="line"><span class="lineno"> 3926</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames = (<span class="keywordtype">char</span> **)((<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> + <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a>));</div>
<div class="line"><span class="lineno"> 3927</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenamesbuffer = (<span class="keywordtype">char</span> *)((<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> + <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a>) + numfiles * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div>
<div class="line"><span class="lineno"> 3928</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;numfilenames = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)numfiles;</div>
<div class="line"><span class="lineno"> 3929</span>        numfiles = 0;</div>
<div class="line"><span class="lineno"> 3930</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> = 0;</div>
<div class="line"><span class="lineno"> 3931</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.numstrings;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>++)</div>
<div class="line"><span class="lineno"> 3932</span>        {</div>
<div class="line"><span class="lineno"> 3933</span>            <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textlen</a>;</div>
<div class="line"><span class="lineno"> 3934</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[numfiles] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenamesbuffer + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a>;</div>
<div class="line"><span class="lineno"> 3935</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textlen</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>]) + 1;</div>
<div class="line"><span class="lineno"> 3936</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[numfiles], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlistindex</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textlen</a>);</div>
<div class="line"><span class="lineno"> 3937</span>            numfiles++;</div>
<div class="line"><span class="lineno"> 3938</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textlen</a>;</div>
<div class="line"><span class="lineno"> 3939</span>        }</div>
<div class="line"><span class="lineno"> 3940</span>    }</div>
<div class="line"><span class="lineno"> 3941</span>    <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultlist</a>);</div>
<div class="line"><span class="lineno"> 3942</span> </div>
<div class="line"><span class="lineno"> 3943</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basepath</a>);</div>
<div class="line"><span class="lineno"> 3944</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 3945</span>}</div>
<div class="ttc" id="acommon_8c_html_a21e343fdc83c4695c7d0af3be8756795"><div class="ttname"><a href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a></div><div class="ttdeci">char * dp_ustr2stp(char *dst, size_t dsize, const char *src, size_t slen)</div><div class="ttdoc">Copies a measured byte sequence (unterminated string) to a null-terminated string.</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l01373">common.c:1373</a></div></div>
<div class="ttc" id="afilematch_8c_html_a59a2069617e6cf22696e42cb203918d2"><div class="ttname"><a href="filematch_8c.html#a59a2069617e6cf22696e42cb203918d2">matchpattern</a></div><div class="ttdeci">int matchpattern(const char *in, const char *pattern, int caseinsensitive)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00016">filematch.c:16</a></div></div>
<div class="ttc" id="azone_8h_html_a35deb8ef816a08fb1bc8feac8db020c5"><div class="ttname"><a href="zone_8h.html#a35deb8ef816a08fb1bc8feac8db020c5">Z_Malloc</a></div><div class="ttdeci">#define Z_Malloc(size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00154">zone.h:154</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cmd_8c_source.html#l00778">Cmd_Exec_f()</a>, <a class="el" href="console_8c_source.html#l02738">Con_CompleteCommandLine()</a>, <a class="el" href="fs_8c_source.html#l03953">FS_ListDirectory()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="image_8c_source.html#l01376">Image_FixTransparentPixels_f()</a>, <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l03179">VM_search_begin()</a>.</p>

</div>
</div>
<a id="a695442a3ff4506082973bc053c1ec983" name="a695442a3ff4506082973bc053c1ec983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695442a3ff4506082973bc053c1ec983">&#9670;&#160;</a></span>FS_Seek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_Seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>whence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03344">3344</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3345</span>{</div>
<div class="line"><span class="lineno"> 3346</span>    <a class="code hl_struct" href="structztoolkit__t.html">ztoolkit_t</a> *ztk;</div>
<div class="line"><span class="lineno"> 3347</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>;</div>
<div class="line"><span class="lineno"> 3348</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> buffersize;</div>
<div class="line"><span class="lineno"> 3349</span> </div>
<div class="line"><span class="lineno"> 3350</span>    <span class="comment">// Compute the file offset</span></div>
<div class="line"><span class="lineno"> 3351</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">whence</a>)</div>
<div class="line"><span class="lineno"> 3352</span>    {</div>
<div class="line"><span class="lineno"> 3353</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_CUR</a>:</div>
<div class="line"><span class="lineno"> 3354</span>            <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> += file-&gt;position - file-&gt;buff_len + file-&gt;buff_ind;</div>
<div class="line"><span class="lineno"> 3355</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3356</span> </div>
<div class="line"><span class="lineno"> 3357</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>:</div>
<div class="line"><span class="lineno"> 3358</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3359</span> </div>
<div class="line"><span class="lineno"> 3360</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_END</a>:</div>
<div class="line"><span class="lineno"> 3361</span>            <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> += file-&gt;real_length;</div>
<div class="line"><span class="lineno"> 3362</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3363</span> </div>
<div class="line"><span class="lineno"> 3364</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3365</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3366</span>    }</div>
<div class="line"><span class="lineno"> 3367</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt; 0 || offset &gt;</a> file-&gt;real_length)</div>
<div class="line"><span class="lineno"> 3368</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3369</span> </div>
<div class="line"><span class="lineno"> 3370</span>    <span class="keywordflow">if</span>(file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#af22de493a428075817e6040fca62767e">QFILE_FLAG_DATA</a>)</div>
<div class="line"><span class="lineno"> 3371</span>    {</div>
<div class="line"><span class="lineno"> 3372</span>        file-&gt;position = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>;</div>
<div class="line"><span class="lineno"> 3373</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3374</span>    }</div>
<div class="line"><span class="lineno"> 3375</span> </div>
<div class="line"><span class="lineno"> 3376</span>    <span class="comment">// If we have the data in our read buffer, we don&#39;t need to actually seek</span></div>
<div class="line"><span class="lineno"> 3377</span>    <span class="keywordflow">if</span> (file-&gt;position - file-&gt;buff_len &lt;= <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt;= file-&gt;</a><a class="code hl_variable" href="shader__glsl_8h.html#a5d20310f0fe31d45c02075ac5460ed35">position</a>)</div>
<div class="line"><span class="lineno"> 3378</span>    {</div>
<div class="line"><span class="lineno"> 3379</span>        file-&gt;buff_ind = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> + file-&gt;buff_len - file-&gt;position;</div>
<div class="line"><span class="lineno"> 3380</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3381</span>    }</div>
<div class="line"><span class="lineno"> 3382</span> </div>
<div class="line"><span class="lineno"> 3383</span>    <span class="comment">// Purge cached data</span></div>
<div class="line"><span class="lineno"> 3384</span>    <a class="code hl_function" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (file);</div>
<div class="line"><span class="lineno"> 3385</span> </div>
<div class="line"><span class="lineno"> 3386</span>    <span class="comment">// Unpacked or uncompressed files can seek directly</span></div>
<div class="line"><span class="lineno"> 3387</span>    <span class="keywordflow">if</span> (! (file-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#a077f9f22119c315af3d69441ba971f71">QFILE_FLAG_DEFLATED</a>))</div>
<div class="line"><span class="lineno"> 3388</span>    {</div>
<div class="line"><span class="lineno"> 3389</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset + <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 3390</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3391</span>        file-&gt;position = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>;</div>
<div class="line"><span class="lineno"> 3392</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3393</span>    }</div>
<div class="line"><span class="lineno"> 3394</span> </div>
<div class="line"><span class="lineno"> 3395</span>    <span class="comment">// Seeking in compressed files is more a hack than anything else,</span></div>
<div class="line"><span class="lineno"> 3396</span>    <span class="comment">// but we need to support it, so here we go.</span></div>
<div class="line"><span class="lineno"> 3397</span>    ztk = file-&gt;ztk;</div>
<div class="line"><span class="lineno"> 3398</span> </div>
<div class="line"><span class="lineno"> 3399</span>    <span class="comment">// If we have to go back in the file, we need to restart from the beginning</span></div>
<div class="line"><span class="lineno"> 3400</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt;= file-&gt;</a><a class="code hl_variable" href="shader__glsl_8h.html#a5d20310f0fe31d45c02075ac5460ed35">position</a>)</div>
<div class="line"><span class="lineno"> 3401</span>    {</div>
<div class="line"><span class="lineno"> 3402</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a0a55756c457d806c4b08110dd9dbe278">in_ind</a> = 0;</div>
<div class="line"><span class="lineno"> 3403</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a8fe891ea75ce1170ae2cff851adbd0fc">in_len</a> = 0;</div>
<div class="line"><span class="lineno"> 3404</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a4bd3e4d318d3f4a606af7afc30196735">in_position</a> = 0;</div>
<div class="line"><span class="lineno"> 3405</span>        file-&gt;position = 0;</div>
<div class="line"><span class="lineno"> 3406</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;offset, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno"> 3407</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;IMPOSSIBLE: couldn&#39;t seek in already opened pk3 file.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3408</span> </div>
<div class="line"><span class="lineno"> 3409</span>        <span class="comment">// Reset the Zlib stream</span></div>
<div class="line"><span class="lineno"> 3410</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#ab58d6596041c08f46454b8394f8e6b7f">next_in</a> = ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#a86ba5bc9090e0c1718e931d96dc14751">input</a>;</div>
<div class="line"><span class="lineno"> 3411</span>        ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>.<a class="code hl_variable" href="structz__stream.html#a120aee70bf78ea7add192af3bb79e0c3">avail_in</a> = 0;</div>
<div class="line"><span class="lineno"> 3412</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateReset</a> (&amp;ztk-&gt;<a class="code hl_variable" href="structztoolkit__t.html#adad2b634ea365b5288abd975d5a4719e">zstream</a>);</div>
<div class="line"><span class="lineno"> 3413</span>    }</div>
<div class="line"><span class="lineno"> 3414</span> </div>
<div class="line"><span class="lineno"> 3415</span>    <span class="comment">// We need a big buffer to force inflating into it directly</span></div>
<div class="line"><span class="lineno"> 3416</span>    buffersize = 2 * <span class="keyword">sizeof</span> (file-&gt;buff);</div>
<div class="line"><span class="lineno"> 3417</span>    <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, buffersize);</div>
<div class="line"><span class="lineno"> 3418</span> </div>
<div class="line"><span class="lineno"> 3419</span>    <span class="comment">// Skip all data until we reach the requested offset</span></div>
<div class="line"><span class="lineno"> 3420</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> &gt; (file-&gt;position - file-&gt;buff_len + file-&gt;buff_ind))</div>
<div class="line"><span class="lineno"> 3421</span>    {</div>
<div class="line"><span class="lineno"> 3422</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> = <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> - (file-&gt;position - file-&gt;buff_len + file-&gt;buff_ind);</div>
<div class="line"><span class="lineno"> 3423</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, len;</div>
<div class="line"><span class="lineno"> 3424</span> </div>
<div class="line"><span class="lineno"> 3425</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> &gt; buffersize) ? buffersize : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>;</div>
<div class="line"><span class="lineno"> 3426</span>        len = <a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a> (file, <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 3427</span>        <span class="keywordflow">if</span> (len != <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 3428</span>        {</div>
<div class="line"><span class="lineno"> 3429</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno"> 3430</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3431</span>        }</div>
<div class="line"><span class="lineno"> 3432</span>    }</div>
<div class="line"><span class="lineno"> 3433</span> </div>
<div class="line"><span class="lineno"> 3434</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno"> 3435</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3436</span>}</div>
<div class="ttc" id="ashader__glsl_8h_html_a5d20310f0fe31d45c02075ac5460ed35"><div class="ttname"><a href="shader__glsl_8h.html#a5d20310f0fe31d45c02075ac5460ed35">position</a></div><div class="ttdeci">return position</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00170">shader_glsl.h:170</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l00683">CheckPendingDownloads()</a>, <a class="el" href="cl__demo_8c_source.html#l00187">CL_ReadDemoMessage()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00242">LibAvW_FS_Seek()</a>, <a class="el" href="cap__avi_8c_source.html#l00498">SCR_CaptureVideo_Avi_BeginVideo()</a>, <a class="el" href="cap__avi_8c_source.html#l00407">SCR_CaptureVideo_Avi_EndVideo()</a>, <a class="el" href="cap__avi_8c_source.html#l00272">SCR_CaptureVideo_RIFF_Finish()</a>, <a class="el" href="cap__avi_8c_source.html#l00203">SCR_CaptureVideo_RIFF_MakeIxChunk()</a>, <a class="el" href="cap__avi_8c_source.html#l00132">SCR_CaptureVideo_RIFF_Pop()</a>, <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>, <a class="el" href="wad_8c_source.html#l00277">W_GetTextureBGRA()</a>, and <a class="el" href="wad_8c_source.html#l00165">W_LoadTextureWadFile()</a>.</p>

</div>
</div>
<a id="abebce4845c7c6f83b3241ae1c3d6c61a" name="abebce4845c7c6f83b3241ae1c3d6c61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abebce4845c7c6f83b3241ae1c3d6c61a">&#9670;&#160;</a></span>FS_Shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02347">2347</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2348</span>{</div>
<div class="line"><span class="lineno"> 2349</span>    <span class="comment">// close all pack files and such</span></div>
<div class="line"><span class="lineno"> 2350</span>    <span class="comment">// (hopefully there aren&#39;t any other open files, but they&#39;ll be cleaned up</span></div>
<div class="line"><span class="lineno"> 2351</span>    <span class="comment">//  by the OS anyway)</span></div>
<div class="line"><span class="lineno"> 2352</span>    <a class="code hl_function" href="fs_8c.html#a03c0f05d0f065c9fe6fc4adc8d1888d3">FS_ClearSearchPath</a>();</div>
<div class="line"><span class="lineno"> 2353</span>    <a class="code hl_define" href="zone_8h.html#a07374e605d328a588d2d738a56608ead">Mem_FreePool</a> (&amp;<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>);</div>
<div class="line"><span class="lineno"> 2354</span>    <a class="code hl_function" href="fs_8c.html#adc7a3cddbb7cb32d9e9299720d12b5f3">PK3_CloseLibrary</a> ();</div>
<div class="line"><span class="lineno"> 2355</span> </div>
<div class="line"><span class="lineno"> 2356</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="lineno"> 2357</span>    <a class="code hl_function" href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shfolder_dll</a>);</div>
<div class="line"><span class="lineno"> 2358</span>    <a class="code hl_function" href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shell32_dll</a>);</div>
<div class="line"><span class="lineno"> 2359</span>    <a class="code hl_function" href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ole32_dll</a>);</div>
<div class="line"><span class="lineno"> 2360</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2361</span> </div>
<div class="line"><span class="lineno"> 2362</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>)</div>
<div class="line"><span class="lineno"> 2363</span>        <a class="code hl_define" href="thread_8h.html#a269bbcbf27698a4ab30bede7c4feefa3">Thread_DestroyMutex</a>(<a class="code hl_variable" href="fs_8c.html#aac2514245460033b5ce54558ee2fe4a4">fs_mutex</a>);</div>
<div class="line"><span class="lineno"> 2364</span>}</div>
<div class="ttc" id="afs_8c_html_adc7a3cddbb7cb32d9e9299720d12b5f3"><div class="ttname"><a href="fs_8c.html#adc7a3cddbb7cb32d9e9299720d12b5f3">PK3_CloseLibrary</a></div><div class="ttdeci">static void PK3_CloseLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00561">fs.c:561</a></div></div>
<div class="ttc" id="asys_8h_html_ae1bd207c941d95e0bd80aae8dab178f2"><div class="ttname"><a href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a></div><div class="ttdeci">void Sys_FreeLibrary(dllhandle_t *handle)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00242">sys_shared.c:242</a></div></div>
<div class="ttc" id="athread_8h_html_a269bbcbf27698a4ab30bede7c4feefa3"><div class="ttname"><a href="thread_8h.html#a269bbcbf27698a4ab30bede7c4feefa3">Thread_DestroyMutex</a></div><div class="ttdeci">#define Thread_DestroyMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00016">thread.h:16</a></div></div>
<div class="ttc" id="azone_8h_html_a07374e605d328a588d2d738a56608ead"><div class="ttname"><a href="zone_8h.html#a07374e605d328a588d2d738a56608ead">Mem_FreePool</a></div><div class="ttdeci">#define Mem_FreePool(pool)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00105">zone.h:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fd7ebcbb75f140d76ab37664280555f" name="a9fd7ebcbb75f140d76ab37664280555f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fd7ebcbb75f140d76ab37664280555f">&#9670;&#160;</a></span>FS_StripExtension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_StripExtension </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>size_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03596">3596</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3597</span>{</div>
<div class="line"><span class="lineno"> 3598</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3599</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a>;</div>
<div class="line"><span class="lineno"> 3600</span> </div>
<div class="line"><span class="lineno"> 3601</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_out</a> == 0)</div>
<div class="line"><span class="lineno"> 3602</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3603</span> </div>
<div class="line"><span class="lineno"> 3604</span>    <span class="keywordflow">while</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> = *in) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_out</a> &gt; 1)</div>
<div class="line"><span class="lineno"> 3605</span>    {</div>
<div class="line"><span class="lineno"> 3606</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno"> 3607</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 3608</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> == <span class="charliteral">&#39;/&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> == <span class="charliteral">&#39;\\&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a> == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno"> 3609</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3610</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentchar</a>;</div>
<div class="line"><span class="lineno"> 3611</span>        in++;</div>
<div class="line"><span class="lineno"> 3612</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_out</a>--;</div>
<div class="line"><span class="lineno"> 3613</span>    }</div>
<div class="line"><span class="lineno"> 3614</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>)</div>
<div class="line"><span class="lineno"> 3615</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = 0;</div>
<div class="line"><span class="lineno"> 3616</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3617</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = 0;</div>
<div class="line"><span class="lineno"> 3618</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>, <a class="el" href="cl__parse_8c_source.html#l00479">CL_SetupWorldModel()</a>, <a class="el" href="com__game_8c_source.html#l00092">COM_InitGameType()</a>, <a class="el" href="dpvsimpledecode_8c_source.html#l00356">dpvsimpledecode_open()</a>, <a class="el" href="image_8c_source.html#l00913">Image_StripImageExtension()</a>, <a class="el" href="cl__video__jamdecode_8c_source.html#l00047">jam_open()</a>, <a class="el" href="cl__video__libavw_8c_source.html#l00252">LibAvW_OpenVideo()</a>, <a class="el" href="model__shared_8c_source.html#l03318">Mod_Decompile_f()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l02096">Mod_Q1BSP_LoadLighting()</a>, <a class="el" href="model__brush_8c_source.html#l03269">Mod_Q1BSP_LoadMapBrushes()</a>, <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>, <a class="el" href="model__brush_8c_source.html#l05493">Mod_Q3BSP_LoadLightmaps()</a>, <a class="el" href="prvm__edict_8c_source.html#l01946">PRVM_LoadLNO()</a>, <a class="el" href="gl__textures_8c_source.html#l01569">R_LoadTextureDDSFile()</a>, and <a class="el" href="sv__main_8c_source.html#l01799">SV_SpawnServer()</a>.</p>

</div>
</div>
<a id="a6dd81e13d3ce687a1321e09713158682" name="a6dd81e13d3ce687a1321e09713158682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dd81e13d3ce687a1321e09713158682">&#9670;&#160;</a></span>FS_SysCheckGameDir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_SysCheckGameDir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>gamedir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>buflength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01768">1768</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1769</span>{</div>
<div class="line"><span class="lineno"> 1770</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a>;</div>
<div class="line"><span class="lineno"> 1771</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><span class="lineno"> 1772</span>    <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> list;</div>
<div class="line"><span class="lineno"> 1773</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 1774</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1775</span> </div>
<div class="line"><span class="lineno"> 1776</span>    <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;list);</div>
<div class="line"><span class="lineno"> 1777</span>    <a class="code hl_function" href="filematch_8c.html#aa59d9bf858a98da656f509fe40678be6">listdirectory</a>(&amp;list, gamedir, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1778</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a> = list.<a class="code hl_variable" href="structstringlist__t.html#a3d32c6f326383f31d232751b91d7b605">numstrings</a> &gt; 0;</div>
<div class="line"><span class="lineno"> 1779</span>    <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>(&amp;list);</div>
<div class="line"><span class="lineno"> 1780</span> </div>
<div class="line"><span class="lineno"> 1781</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">success</a>)</div>
<div class="line"><span class="lineno"> 1782</span>    {</div>
<div class="line"><span class="lineno"> 1783</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_function" href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%smodinfo.txt&quot;</span>, gamedir), <span class="stringliteral">&quot;r&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1784</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>)</div>
<div class="line"><span class="lineno"> 1785</span>        {</div>
<div class="line"><span class="lineno"> 1786</span>            <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a> (<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buflength</a> - 1);</div>
<div class="line"><span class="lineno"> 1787</span>            <span class="keywordflow">if</span>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 1788</span>                <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>] = 0;</div>
<div class="line"><span class="lineno"> 1789</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1790</span>                *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = 0;</div>
<div class="line"><span class="lineno"> 1791</span>            <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>);</div>
<div class="line"><span class="lineno"> 1792</span>        }</div>
<div class="line"><span class="lineno"> 1793</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1794</span>            *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = 0;</div>
<div class="line"><span class="lineno"> 1795</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno"> 1796</span>    }</div>
<div class="line"><span class="lineno"> 1797</span> </div>
<div class="line"><span class="lineno"> 1798</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1799</span>}</div>
<div class="ttc" id="afractalnoise_8c_html_a86fdeed0593c5e3b95d1f2447350ca96"><div class="ttname"><a href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a></div><div class="ttdeci">#define n(x, y)</div></div>
<div class="ttc" id="ashader__glsl_8h_html_a731feb93da8dc28ee53e37b43daabd06"><div class="ttname"><a href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a></div><div class="ttdeci">float f</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00586">shader_glsl.h:586</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01806">FS_CheckGameDir()</a>.</p>

</div>
</div>
<a id="abb093a036480e1077111dcc49fecc227" name="abb093a036480e1077111dcc49fecc227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb093a036480e1077111dcc49fecc227">&#9670;&#160;</a></span>FS_SysFileExists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_SysFileExists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a file in the filesystem only. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03728">3728</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3729</span>{</div>
<div class="line"><span class="lineno"> 3730</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ad85ade8d917e7785a8c88a2db2d026bf">FS_SysFileType</a> (path) != <a class="code hl_define" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 3731</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02675">FS_FindFile()</a>, <a class="el" href="cl__screen_8c_source.html#l00906">SCR_ScreenShot_f()</a>, and <a class="el" href="sys__shared_8c_source.html#l00726">Sys_FindInPATH()</a>.</p>

</div>
</div>
<a id="ad85ade8d917e7785a8c88a2db2d026bf" name="ad85ade8d917e7785a8c88a2db2d026bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad85ade8d917e7785a8c88a2db2d026bf">&#9670;&#160;</a></span>FS_SysFileType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_SysFileType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a file in the filesystem only. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03693">3693</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3694</span>{</div>
<div class="line"><span class="lineno"> 3695</span><span class="preprocessor">#if WIN32</span></div>
<div class="line"><span class="lineno"> 3696</span><span class="comment">// Sajt - some older sdks are missing this define</span></div>
<div class="line"><span class="lineno"> 3697</span><span class="preprocessor"># ifndef INVALID_FILE_ATTRIBUTES</span></div>
<div class="line"><span class="lineno"> 3698</span><span class="preprocessor">#  define INVALID_FILE_ATTRIBUTES ((DWORD)-1)</span></div>
<div class="line"><span class="lineno"> 3699</span><span class="preprocessor"># endif</span></div>
<div class="line"><span class="lineno"> 3700</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WSTRBUF</a>] = {0};</div>
<div class="line"><span class="lineno"> 3701</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DWORD</a> result;</div>
<div class="line"><span class="lineno"> 3702</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widen</a>(path, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>);</div>
<div class="line"><span class="lineno"> 3703</span>    result = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">GetFileAttributesW</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pathw</a>);</div>
<div class="line"><span class="lineno"> 3704</span> </div>
<div class="line"><span class="lineno"> 3705</span>    <span class="keywordflow">if</span>(result == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">INVALID_FILE_ATTRIBUTES</a>)</div>
<div class="line"><span class="lineno"> 3706</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 3707</span> </div>
<div class="line"><span class="lineno"> 3708</span>    <span class="keywordflow">if</span>(result &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">FILE_ATTRIBUTE_DIRECTORY</a>)</div>
<div class="line"><span class="lineno"> 3709</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a>;</div>
<div class="line"><span class="lineno"> 3710</span> </div>
<div class="line"><span class="lineno"> 3711</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a>;</div>
<div class="line"><span class="lineno"> 3712</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 3713</span>    <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stat</a> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno"> 3714</span> </div>
<div class="line"><span class="lineno"> 3715</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stat</a> (path,&amp;<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>) == -1)</div>
<div class="line"><span class="lineno"> 3716</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#ab9550d878584be17086e5780df0073cf">FS_FILETYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 3717</span> </div>
<div class="line"><span class="lineno"> 3718</span><span class="preprocessor">#ifndef S_ISDIR</span></div>
<div class="line"><span class="lineno"> 3719</span><span class="preprocessor">#define S_ISDIR(a) (((a) &amp; S_IFMT) == S_IFDIR)</span></div>
<div class="line"><span class="lineno"> 3720</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3721</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="fs_8c.html#a38bc4750afca9cbad53914064bda7b21">S_ISDIR</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>.st_mode))</div>
<div class="line"><span class="lineno"> 3722</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a>;</div>
<div class="line"><span class="lineno"> 3723</span> </div>
<div class="line"><span class="lineno"> 3724</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a>;</div>
<div class="line"><span class="lineno"> 3725</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3726</span>}</div>
<div class="ttc" id="afs_8c_html_a38bc4750afca9cbad53914064bda7b21"><div class="ttname"><a href="fs_8c.html#a38bc4750afca9cbad53914064bda7b21">S_ISDIR</a></div><div class="ttdeci">#define S_ISDIR(a)</div></div>
<div class="ttc" id="afs_8h_html_a58576c47f72a4aac28e8f0dd21afcd6e"><div class="ttname"><a href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a></div><div class="ttdeci">#define FS_FILETYPE_DIRECTORY</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00133">fs.h:133</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03652">FS_FileType()</a>, and <a class="el" href="fs_8c_source.html#l03728">FS_SysFileExists()</a>.</p>

</div>
</div>
<a id="aadd82baa9c0e3ab7dc26282cb0eaae9e" name="aadd82baa9c0e3ab7dc26282cb0eaae9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd82baa9c0e3ab7dc26282cb0eaae9e">&#9670;&#160;</a></span>FS_SysLoadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_SysLoadFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmempool__t.html">mempool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *&#160;</td>
          <td class="paramname"><em>filesizepointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03540">3540</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3541</span>{</div>
<div class="line"><span class="lineno"> 3542</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file = <a class="code hl_function" href="fs_8c.html#a5098aecad23c311750ae649088f2d96d">FS_SysOpen</a>(path, <span class="stringliteral">&quot;rb&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3543</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ae4817b66640bf04c9a0c27887e7199e5">FS_LoadAndCloseQFile</a>(file, path, pool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quiet</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filesizepointer</a>);</div>
<div class="line"><span class="lineno"> 3544</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02282">FS_Init_SelfPack()</a>, and <a class="el" href="filematch_8c_source.html#l00198">listdirectory()</a>.</p>

</div>
</div>
<a id="a5098aecad23c311750ae649088f2d96d" name="a5098aecad23c311750ae649088f2d96d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5098aecad23c311750ae649088f2d96d">&#9670;&#160;</a></span>FS_SysOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> * FS_SysOpen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>nonblocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02469">2469</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2470</span>{</div>
<div class="line"><span class="lineno"> 2471</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a>* file;</div>
<div class="line"><span class="lineno"> 2472</span> </div>
<div class="line"><span class="lineno"> 2473</span>    file = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <span class="keyword">sizeof</span> (*file));</div>
<div class="line"><span class="lineno"> 2474</span>    file-&gt;ungetc = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 2475</span>    file-&gt;handle = <a class="code hl_function" href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>);</div>
<div class="line"><span class="lineno"> 2476</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="fs_8c.html#a63366b4f54083982ae222f9f6130d157">FILEDESC_ISVALID</a>(file-&gt;handle))</div>
<div class="line"><span class="lineno"> 2477</span>    {</div>
<div class="line"><span class="lineno"> 2478</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (file);</div>
<div class="line"><span class="lineno"> 2479</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2480</span>    }</div>
<div class="line"><span class="lineno"> 2481</span> </div>
<div class="line"><span class="lineno"> 2482</span>    file-&gt;filename = <a class="code hl_define" href="zone_8h.html#a7971beb752868216b6887b77086ce57b">Mem_strdup</a>(<a class="code hl_variable" href="fs_8c.html#acaa25479f01cbf5214475a82a0e44cb9">fs_mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>);</div>
<div class="line"><span class="lineno"> 2483</span> </div>
<div class="line"><span class="lineno"> 2484</span>    file-&gt;real_length = <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_END</a>);</div>
<div class="line"><span class="lineno"> 2485</span> </div>
<div class="line"><span class="lineno"> 2486</span>    <span class="comment">// For files opened in append mode, we start at the end of the file</span></div>
<div class="line"><span class="lineno"> 2487</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[0] == <span class="charliteral">&#39;a&#39;</span>)</div>
<div class="line"><span class="lineno"> 2488</span>        file-&gt;position = file-&gt;real_length;</div>
<div class="line"><span class="lineno"> 2489</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2490</span>        <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>);</div>
<div class="line"><span class="lineno"> 2491</span> </div>
<div class="line"><span class="lineno"> 2492</span>    <span class="keywordflow">return</span> file;</div>
<div class="line"><span class="lineno"> 2493</span>}</div>
<div class="ttc" id="azone_8h_html_a7971beb752868216b6887b77086ce57b"><div class="ttname"><a href="zone_8h.html#a7971beb752868216b6887b77086ce57b">Mem_strdup</a></div><div class="ttdeci">#define Mem_strdup(pool, s)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00097">zone.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="fs_8c_source.html#l02771">FS_OpenReadFile()</a>, <a class="el" href="fs_8c_source.html#l02886">FS_OpenRealFile()</a>, <a class="el" href="fs_8c_source.html#l01768">FS_SysCheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l03540">FS_SysLoadFile()</a>, and <a class="el" href="host_8c_source.html#l00323">Host_LockSession()</a>.</p>

</div>
</div>
<a id="a2c54d78cc27ab3f3e244ab3b17ba4da9" name="a2c54d78cc27ab3f3e244ab3b17ba4da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c54d78cc27ab3f3e244ab3b17ba4da9">&#9670;&#160;</a></span>FS_SysOpenFD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_SysOpenFD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>nonblocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02453">2453</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2454</span>{</div>
<div class="line"><span class="lineno"> 2455</span><span class="preprocessor">#ifdef USE_RWOPS</span></div>
<div class="line"><span class="lineno"> 2456</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2457</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2458</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#a996ef8c18fe9359c3a51368020559f32">FS_SysOpenFiledesc</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>);</div>
<div class="line"><span class="lineno"> 2459</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2460</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sys__shared_8c_source.html#l00779">Sys_ProvideSelfFD()</a>.</p>

</div>
</div>
<a id="a996ef8c18fe9359c3a51368020559f32" name="a996ef8c18fe9359c3a51368020559f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a996ef8c18fe9359c3a51368020559f32">&#9670;&#160;</a></span>FS_SysOpenFiledesc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> FS_SysOpenFiledesc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>nonblocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l02366">2366</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2367</span>{</div>
<div class="line"><span class="lineno"> 2368</span>    <a class="code hl_typedef" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a> handle = <a class="code hl_define" href="fs_8c.html#a240eecc445e8f632b1d2f1bb861d43a0">FILEDESC_INVALID</a>;</div>
<div class="line"><span class="lineno"> 2369</span>    <span class="keywordtype">int</span> mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a>;</div>
<div class="line"><span class="lineno"> 2370</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ind;</div>
<div class="line"><span class="lineno"> 2371</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dolock</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2372</span><span class="preprocessor">    #ifdef WIN32</span></div>
<div class="line"><span class="lineno"> 2373</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepathw</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WSTRBUF</a>] = {0};</div>
<div class="line"><span class="lineno"> 2374</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno"> 2375</span> </div>
<div class="line"><span class="lineno"> 2376</span>    <span class="comment">// Parse the mode string</span></div>
<div class="line"><span class="lineno"> 2377</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[0])</div>
<div class="line"><span class="lineno"> 2378</span>    {</div>
<div class="line"><span class="lineno"> 2379</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div>
<div class="line"><span class="lineno"> 2380</span>            mod = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_RDONLY</a>;</div>
<div class="line"><span class="lineno"> 2381</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a> = 0;</div>
<div class="line"><span class="lineno"> 2382</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2383</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:</div>
<div class="line"><span class="lineno"> 2384</span>            mod = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_WRONLY</a>;</div>
<div class="line"><span class="lineno"> 2385</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_CREAT</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_TRUNC</a>;</div>
<div class="line"><span class="lineno"> 2386</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2387</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line"><span class="lineno"> 2388</span>            mod = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_WRONLY</a>;</div>
<div class="line"><span class="lineno"> 2389</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_CREAT</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_APPEND</a>;</div>
<div class="line"><span class="lineno"> 2390</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2391</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2392</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;FS_SysOpen(%s, %s): invalid mode\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>);</div>
<div class="line"><span class="lineno"> 2393</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8c.html#a240eecc445e8f632b1d2f1bb861d43a0">FILEDESC_INVALID</a>;</div>
<div class="line"><span class="lineno"> 2394</span>    }</div>
<div class="line"><span class="lineno"> 2395</span>    <span class="keywordflow">for</span> (ind = 1; <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[ind] != <span class="charliteral">&#39;\0&#39;</span>; ind++)</div>
<div class="line"><span class="lineno"> 2396</span>    {</div>
<div class="line"><span class="lineno"> 2397</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[ind])</div>
<div class="line"><span class="lineno"> 2398</span>        {</div>
<div class="line"><span class="lineno"> 2399</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>:</div>
<div class="line"><span class="lineno"> 2400</span>                mod = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_RDWR</a>;</div>
<div class="line"><span class="lineno"> 2401</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2402</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line"><span class="lineno"> 2403</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a> |= <a class="code hl_define" href="fs_8c.html#a36fa9b2e726512bc17a7a6d3e39002be">O_BINARY</a>;</div>
<div class="line"><span class="lineno"> 2404</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2405</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line"><span class="lineno"> 2406</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dolock</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2407</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2408</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2409</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;FS_SysOpen(%s, %s): unknown character in mode (%c)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2410</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>[ind]);</div>
<div class="line"><span class="lineno"> 2411</span>        }</div>
<div class="line"><span class="lineno"> 2412</span>    }</div>
<div class="line"><span class="lineno"> 2413</span> </div>
<div class="line"><span class="lineno"> 2414</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nonblocking</a>)</div>
<div class="line"><span class="lineno"> 2415</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a> |= <a class="code hl_define" href="fs_8c.html#a39d33ce33804efd4d52606d59071c6d8">O_NONBLOCK</a>;</div>
<div class="line"><span class="lineno"> 2416</span> </div>
<div class="line"><span class="lineno"> 2417</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-readonly&quot;</span>) &amp;&amp; mod != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_RDONLY</a>)</div>
<div class="line"><span class="lineno"> 2418</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8c.html#a240eecc445e8f632b1d2f1bb861d43a0">FILEDESC_INVALID</a>;</div>
<div class="line"><span class="lineno"> 2419</span> </div>
<div class="line"><span class="lineno"> 2420</span><span class="preprocessor">#if USE_RWOPS</span></div>
<div class="line"><span class="lineno"> 2421</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dolock</a>)</div>
<div class="line"><span class="lineno"> 2422</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="fs_8c.html#a240eecc445e8f632b1d2f1bb861d43a0">FILEDESC_INVALID</a>;</div>
<div class="line"><span class="lineno"> 2423</span>    handle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SDL_RWFromFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>);</div>
<div class="line"><span class="lineno"> 2424</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2425</span><span class="preprocessor"># ifdef WIN32</span></div>
<div class="line"><span class="lineno"> 2426</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepathw</a>);</div>
<div class="line"><span class="lineno"> 2427</span><span class="preprocessor">#  if _MSC_VER &gt;= 1400</span></div>
<div class="line"><span class="lineno"> 2428</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_wsopen_s</a>(&amp;handle, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepathw</a>, mod | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dolock</a> ? ((mod == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_RDONLY</a>) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_SH_DENYRD</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_SH_DENYRW</a>) : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_SH_DENYNO</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_S_IREAD</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_S_IWRITE</a>);</div>
<div class="line"><span class="lineno"> 2429</span><span class="preprocessor">#  else</span></div>
<div class="line"><span class="lineno"> 2430</span>    handle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_wsopen</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepathw</a>, mod | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dolock</a> ? ((mod == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_RDONLY</a>) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_SH_DENYRD</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_SH_DENYRW</a>) : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_SH_DENYNO</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_S_IREAD</a> | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_S_IWRITE</a>);</div>
<div class="line"><span class="lineno"> 2431</span><span class="preprocessor">#  endif</span></div>
<div class="line"><span class="lineno"> 2432</span><span class="preprocessor"># else</span></div>
<div class="line"><span class="lineno"> 2433</span>    handle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">open</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filepath</a>, mod | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opt</a>, 0666);</div>
<div class="line"><span class="lineno"> 2434</span>    <span class="keywordflow">if</span>(handle &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dolock</a>)</div>
<div class="line"><span class="lineno"> 2435</span>    {</div>
<div class="line"><span class="lineno"> 2436</span>        <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">flock</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><span class="lineno"> 2437</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>.l_type = ((mod == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">O_RDONLY</a>) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">F_RDLCK</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">F_WRLCK</a>);</div>
<div class="line"><span class="lineno"> 2438</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>.l_whence = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>;</div>
<div class="line"><span class="lineno"> 2439</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>.l_start = 0;</div>
<div class="line"><span class="lineno"> 2440</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>.l_len = 0;</div>
<div class="line"><span class="lineno"> 2441</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fcntl</a>(handle, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">F_SETLK</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>) == -1)</div>
<div class="line"><span class="lineno"> 2442</span>        {</div>
<div class="line"><span class="lineno"> 2443</span>            <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(handle);</div>
<div class="line"><span class="lineno"> 2444</span>            handle = -1;</div>
<div class="line"><span class="lineno"> 2445</span>        }</div>
<div class="line"><span class="lineno"> 2446</span>    }</div>
<div class="line"><span class="lineno"> 2447</span><span class="preprocessor"># endif</span></div>
<div class="line"><span class="lineno"> 2448</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2449</span> </div>
<div class="line"><span class="lineno"> 2450</span>    <span class="keywordflow">return</span> handle;</div>
<div class="line"><span class="lineno"> 2451</span>}</div>
<div class="ttc" id="afs_8c_html_a36fa9b2e726512bc17a7a6d3e39002be"><div class="ttname"><a href="fs_8c.html#a36fa9b2e726512bc17a7a6d3e39002be">O_BINARY</a></div><div class="ttdeci">#define O_BINARY</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00058">fs.c:58</a></div></div>
<div class="ttc" id="afs_8c_html_a39d33ce33804efd4d52606d59071c6d8"><div class="ttname"><a href="fs_8c.html#a39d33ce33804efd4d52606d59071c6d8">O_NONBLOCK</a></div><div class="ttdeci">#define O_NONBLOCK</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00063">fs.c:63</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01928">FS_ChooseUserDir()</a>, <a class="el" href="fs_8c_source.html#l01089">FS_LoadPackPAK()</a>, <a class="el" href="fs_8c_source.html#l00886">FS_LoadPackPK3()</a>, <a class="el" href="fs_8c_source.html#l02469">FS_SysOpen()</a>, and <a class="el" href="fs_8c_source.html#l02453">FS_SysOpenFD()</a>.</p>

</div>
</div>
<a id="a64c66a9e0422a0b350194c2fe7a0015a" name="a64c66a9e0422a0b350194c2fe7a0015a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c66a9e0422a0b350194c2fe7a0015a">&#9670;&#160;</a></span>FS_Tell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> FS_Tell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03446">3446</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3447</span>{</div>
<div class="line"><span class="lineno"> 3448</span>    <span class="keywordflow">return</span> file-&gt;position - file-&gt;buff_len + file-&gt;buff_ind;</div>
<div class="line"><span class="lineno"> 3449</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l00683">CheckPendingDownloads()</a>, <a class="el" href="cap__avi_8c_source.html#l00187">SCR_CaptureVideo_RIFF_IndexEntry()</a>, and <a class="el" href="sv__send_8c_source.html#l01423">SV_SendClientDatagram()</a>.</p>

</div>
</div>
<a id="a9546d12cbb0b991063c9d8c3c05a4272" name="a9546d12cbb0b991063c9d8c3c05a4272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9546d12cbb0b991063c9d8c3c05a4272">&#9670;&#160;</a></span>FS_UnGetc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_UnGetc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03326">3326</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3327</span>{</div>
<div class="line"><span class="lineno"> 3328</span>    <span class="comment">// If there&#39;s already a character waiting to be read</span></div>
<div class="line"><span class="lineno"> 3329</span>    <span class="keywordflow">if</span> (file-&gt;ungetc != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>)</div>
<div class="line"><span class="lineno"> 3330</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EOF</a>;</div>
<div class="line"><span class="lineno"> 3331</span> </div>
<div class="line"><span class="lineno"> 3332</span>    file-&gt;ungetc = c;</div>
<div class="line"><span class="lineno"> 3333</span>    <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno"> 3334</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="prvm__cmds_8c_source.html#l04336">VM_buf_loadfile()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l02014">VM_fgets()</a>.</p>

</div>
</div>
<a id="a7b5791a275b4f7a76d747179bc571694" name="a7b5791a275b4f7a76d747179bc571694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b5791a275b4f7a76d747179bc571694">&#9670;&#160;</a></span>FS_UnloadPacks_dlcache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_UnloadPacks_dlcache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l01494">1494</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1495</span>{</div>
<div class="line"><span class="lineno"> 1496</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchprev</a> = <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchnext</a>;</div>
<div class="line"><span class="lineno"> 1497</span> </div>
<div class="line"><span class="lineno"> 1498</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="fs_8c.html#ac14f7e0927785f091bb31a880847c29d">fs_unload_dlcache</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1499</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1500</span> </div>
<div class="line"><span class="lineno"> 1501</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</div>
<div class="line"><span class="lineno"> 1502</span>    {</div>
<div class="line"><span class="lineno"> 1503</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchnext</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>;</div>
<div class="line"><span class="lineno"> 1504</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;dlcache)</div>
<div class="line"><span class="lineno"> 1505</span>        {</div>
<div class="line"><span class="lineno"> 1506</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Unloading pack: %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;shortname);</div>
<div class="line"><span class="lineno"> 1507</span> </div>
<div class="line"><span class="lineno"> 1508</span>            <span class="comment">// remove it from the search path list</span></div>
<div class="line"><span class="lineno"> 1509</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> == <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a>)</div>
<div class="line"><span class="lineno"> 1510</span>                <a class="code hl_variable" href="fs_8c.html#a708b7c81b06465508d84fee7e40aa257">fs_searchpaths</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;<a class="code hl_variable" href="structsearchpath__t.html#a628ca8e964d0cae9ae487a94de235235">next</a>;</div>
<div class="line"><span class="lineno"> 1511</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1512</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchprev</a>-&gt;next = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;next;</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span>            <span class="comment">// close the file</span></div>
<div class="line"><span class="lineno"> 1515</span>            <a class="code hl_define" href="fs_8c.html#a6a7c99ee654a553e7613885f1446b06d">FILEDESC_CLOSE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;handle);</div>
<div class="line"><span class="lineno"> 1516</span>            <span class="comment">// free any memory associated with it</span></div>
<div class="line"><span class="lineno"> 1517</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;files)</div>
<div class="line"><span class="lineno"> 1518</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack-&gt;files);</div>
<div class="line"><span class="lineno"> 1519</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;pack);</div>
<div class="line"><span class="lineno"> 1520</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>);</div>
<div class="line"><span class="lineno"> 1521</span>        }</div>
<div class="line"><span class="lineno"> 1522</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1523</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchprev</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><span class="lineno"> 1524</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">searchnext</a>;</div>
<div class="line"><span class="lineno"> 1525</span>    }</div>
<div class="line"><span class="lineno"> 1526</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l00368">CL_DisconnectEx()</a>, and <a class="el" href="cl__parse_8c_source.html#l01678">CL_ParseServerInfo()</a>.</p>

</div>
</div>
<a id="a66af7e39cdce25212e2aae7bfccc9029" name="a66af7e39cdce25212e2aae7bfccc9029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66af7e39cdce25212e2aae7bfccc9029">&#9670;&#160;</a></span>FS_VPrintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> FS_VPrintf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a>&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03278">3278</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3279</span>{</div>
<div class="line"><span class="lineno"> 3280</span>    <span class="keywordtype">int</span> len;</div>
<div class="line"><span class="lineno"> 3281</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a> = <a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>;</div>
<div class="line"><span class="lineno"> 3282</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>;</div>
<div class="line"><span class="lineno"> 3283</span> </div>
<div class="line"><span class="lineno"> 3284</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno"> 3285</span>    {</div>
<div class="line"><span class="lineno"> 3286</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a>);</div>
<div class="line"><span class="lineno"> 3287</span>        len = <a class="code hl_function" href="common_8c.html#a17e9040af1baa7e1a61a6a47f776eca5">dpvsnprintf</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a>, <a class="code hl_variable" href="glquake_8h.html#a53da72788901530821f9326a25ae50f8">format</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ap</a>);</div>
<div class="line"><span class="lineno"> 3288</span>        <span class="keywordflow">if</span> (len &gt;= 0 &amp;&amp; len &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a>)</div>
<div class="line"><span class="lineno"> 3289</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3290</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>);</div>
<div class="line"><span class="lineno"> 3291</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">buff_size</a> *= 2;</div>
<div class="line"><span class="lineno"> 3292</span>    }</div>
<div class="line"><span class="lineno"> 3293</span> </div>
<div class="line"><span class="lineno"> 3294</span>    len = <a class="code hl_define" href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a> (file-&gt;handle, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>, len);</div>
<div class="line"><span class="lineno"> 3295</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempbuff</a>);</div>
<div class="line"><span class="lineno"> 3296</span> </div>
<div class="line"><span class="lineno"> 3297</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno"> 3298</span>}</div>
<div class="ttc" id="acommon_8c_html_a17e9040af1baa7e1a61a6a47f776eca5"><div class="ttname"><a href="common_8c.html#a17e9040af1baa7e1a61a6a47f776eca5">dpvsnprintf</a></div><div class="ttdeci">int dpvsnprintf(char *buffer, size_t buffersize, const char *format, va_list args)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l01010">common.c:1010</a></div></div>
<div class="ttc" id="afs_8c_html_a27e1e1b02dbbe51f51576d46c8a4ba8d"><div class="ttname"><a href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a></div><div class="ttdeci">#define FILEDESC_WRITE</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00104">fs.c:104</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03258">FS_Printf()</a>, and <a class="el" href="console_8c_source.html#l00659">Log_Printf()</a>.</p>

</div>
</div>
<a id="ace56a73ea7abcc1eff8e265286da7a87" name="ace56a73ea7abcc1eff8e265286da7a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace56a73ea7abcc1eff8e265286da7a87">&#9670;&#160;</a></span>FS_Which_f()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> FS_Which_f </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmd__state__t.html">cmd_state_t</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04047">4047</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4048</span>{</div>
<div class="line"><span class="lineno"> 4049</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *filename;</div>
<div class="line"><span class="lineno"> 4050</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>;</div>
<div class="line"><span class="lineno"> 4051</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>;</div>
<div class="line"><span class="lineno"> 4052</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) != 2)</div>
<div class="line"><span class="lineno"> 4053</span>    {</div>
<div class="line"><span class="lineno"> 4054</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;usage:\n%s &lt;file&gt;\n&quot;</span>, <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 0));</div>
<div class="line"><span class="lineno"> 4055</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4056</span>    }</div>
<div class="line"><span class="lineno"> 4057</span>    filename = <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1);</div>
<div class="line"><span class="lineno"> 4058</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a> = <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a>(filename, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 4059</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>) {</div>
<div class="line"><span class="lineno"> 4060</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s isn&#39;t anywhere\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 4061</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4062</span>    }</div>
<div class="line"><span class="lineno"> 4063</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;pack)</div>
<div class="line"><span class="lineno"> 4064</span>    {</div>
<div class="line"><span class="lineno"> 4065</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;pack-&gt;vpack)</div>
<div class="line"><span class="lineno"> 4066</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s is in virtual package %sdir\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;pack-&gt;shortname);</div>
<div class="line"><span class="lineno"> 4067</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4068</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s is in package %s\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;pack-&gt;shortname);</div>
<div class="line"><span class="lineno"> 4069</span>    }</div>
<div class="line"><span class="lineno"> 4070</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4071</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s is file %s%s\n&quot;</span>, filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;filename, filename);</div>
<div class="line"><span class="lineno"> 4072</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>.</p>

</div>
</div>
<a id="abe52b4bf57293de544b7813828bb05ce" name="abe52b4bf57293de544b7813828bb05ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe52b4bf57293de544b7813828bb05ce">&#9670;&#160;</a></span>FS_WhichPack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * FS_WhichPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l04075">4075</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4076</span>{</div>
<div class="line"><span class="lineno"> 4077</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>;</div>
<div class="line"><span class="lineno"> 4078</span>    <a class="code hl_struct" href="structsearchpath__t.html">searchpath_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a> = <a class="code hl_function" href="fs_8c.html#a31ca66034633d9f05e8c7199d4494f53">FS_FindFile</a>(filename, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 4079</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;pack)</div>
<div class="line"><span class="lineno"> 4080</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>-&gt;pack-&gt;shortname;</div>
<div class="line"><span class="lineno"> 4081</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sp</a>)</div>
<div class="line"><span class="lineno"> 4082</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 4083</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4084</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4085</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="libcurl_8c_source.html#l01818">Curl_SendRequirement()</a>, <a class="el" href="sv__main_8c_source.html#l01197">SV_Download_f()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l05382">VM_whichpack()</a>.</p>

</div>
</div>
<a id="a2ef891979f8e7a5158ab1ade82cd733f" name="a2ef891979f8e7a5158ab1ade82cd733f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef891979f8e7a5158ab1ade82cd733f">&#9670;&#160;</a></span>FS_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> FS_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>datasize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03004">3004</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3005</span>{</div>
<div class="line"><span class="lineno"> 3006</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a> = 0;</div>
<div class="line"><span class="lineno"> 3007</span> </div>
<div class="line"><span class="lineno"> 3008</span>    <span class="comment">// If necessary, seek to the exact file position we&#39;re supposed to be</span></div>
<div class="line"><span class="lineno"> 3009</span>    <span class="keywordflow">if</span> (file-&gt;buff_ind != file-&gt;buff_len)</div>
<div class="line"><span class="lineno"> 3010</span>    {</div>
<div class="line"><span class="lineno"> 3011</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, file-&gt;buff_ind - file-&gt;buff_len, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_CUR</a>) == -1)</div>
<div class="line"><span class="lineno"> 3012</span>        {</div>
<div class="line"><span class="lineno"> 3013</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;WARNING: could not seek in %s.\n&quot;</span>, file-&gt;filename);</div>
<div class="line"><span class="lineno"> 3014</span>        }</div>
<div class="line"><span class="lineno"> 3015</span>    }</div>
<div class="line"><span class="lineno"> 3016</span> </div>
<div class="line"><span class="lineno"> 3017</span>    <span class="comment">// Purge cached data</span></div>
<div class="line"><span class="lineno"> 3018</span>    <a class="code hl_function" href="fs_8c.html#a68f2a03ca613c2c6c4c98beaa253928b">FS_Purge</a> (file);</div>
<div class="line"><span class="lineno"> 3019</span> </div>
<div class="line"><span class="lineno"> 3020</span>    <span class="comment">// Write the buffer and update the position</span></div>
<div class="line"><span class="lineno"> 3021</span>    <span class="comment">// LadyHavoc: to hush a warning about passing size_t to an unsigned int parameter on Win64 we do this as multiple writes if the size would be too big for an integer (we never write that big in one go, but it&#39;s a theory)</span></div>
<div class="line"><span class="lineno"> 3022</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a> &lt; (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a>)</div>
<div class="line"><span class="lineno"> 3023</span>    {</div>
<div class="line"><span class="lineno"> 3024</span>        <span class="comment">// figure out how much to write in one chunk</span></div>
<div class="line"><span class="lineno"> 3025</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxchunk</a> = 1&lt;&lt;30; <span class="comment">// 1 GiB</span></div>
<div class="line"><span class="lineno"> 3026</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chunk</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>((<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datasize</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxchunk</a>);</div>
<div class="line"><span class="lineno"> 3027</span>        <span class="keywordtype">int</span> result = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a> (file-&gt;handle, (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chunk</a>);</div>
<div class="line"><span class="lineno"> 3028</span>        <span class="comment">// if at least some was written, add it to our accumulator</span></div>
<div class="line"><span class="lineno"> 3029</span>        <span class="keywordflow">if</span> (result &gt; 0)</div>
<div class="line"><span class="lineno"> 3030</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a> += result;</div>
<div class="line"><span class="lineno"> 3031</span>        <span class="comment">// if the result is not what we expected, consider the write to be incomplete</span></div>
<div class="line"><span class="lineno"> 3032</span>        <span class="keywordflow">if</span> (result != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chunk</a>)</div>
<div class="line"><span class="lineno"> 3033</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3034</span>    }</div>
<div class="line"><span class="lineno"> 3035</span>    file-&gt;position = <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (file-&gt;handle, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_CUR</a>);</div>
<div class="line"><span class="lineno"> 3036</span>    <span class="keywordflow">if</span> (file-&gt;real_length &lt; file-&gt;position)</div>
<div class="line"><span class="lineno"> 3037</span>        file-&gt;real_length = file-&gt;position;</div>
<div class="line"><span class="lineno"> 3038</span> </div>
<div class="line"><span class="lineno"> 3039</span>    <span class="comment">// note that this will never be less than 0 even if the write failed</span></div>
<div class="line"><span class="lineno"> 3040</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">written</a>;</div>
<div class="line"><span class="lineno"> 3041</span>}</div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__demo_8c_source.html#l00160">CL_PasteDemo()</a>, <a class="el" href="cl__demo_8c_source.html#l00110">CL_WriteDemoMessage()</a>, <a class="el" href="console_8c_source.html#l00806">Con_ConDump_f()</a>, <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="libcurl_8c_source.html#l00416">CURL_fwrite()</a>, <a class="el" href="fs_8c_source.html#l03246">FS_Print()</a>, <a class="el" href="fs_8c_source.html#l03554">FS_WriteFileInBlocks()</a>, <a class="el" href="jpeg_8c_source.html#l00733">JPEG_EmptyOutputBuffer()</a>, <a class="el" href="jpeg_8c_source.html#l00745">JPEG_TermDestination()</a>, <a class="el" href="console_8c_source.html#l00546">Log_Start()</a>, <a class="el" href="image__png_8c_source.html#l00275">PNG_fWriteData()</a>, <a class="el" href="cap__ogg_8c_source.html#l00921">SCR_CaptureVideo_Ogg_BeginVideo()</a>, <a class="el" href="cap__ogg_8c_source.html#l00715">SCR_CaptureVideo_Ogg_EndVideo()</a>, <a class="el" href="cap__ogg_8c_source.html#l00697">SCR_CaptureVideo_Ogg_FlushInterleaving()</a>, <a class="el" href="cap__ogg_8c_source.html#l00639">SCR_CaptureVideo_Ogg_Interleave()</a>, <a class="el" href="cap__avi_8c_source.html#l00042">SCR_CaptureVideo_RIFF_Flush()</a>, <a class="el" href="cap__avi_8c_source.html#l00055">SCR_CaptureVideo_RIFF_FlushNoIncrease()</a>, <a class="el" href="cap__avi_8c_source.html#l00132">SCR_CaptureVideo_RIFF_Pop()</a>, <a class="el" href="cap__avi_8c_source.html#l00067">SCR_CaptureVideo_RIFF_WriteBytes()</a>, <a class="el" href="sv__demo_8c_source.html#l00032">SV_WriteDemoMessage()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04419">VM_buf_writefile()</a>, and <a class="el" href="prvm__cmds_8c_source.html#l02067">VM_fputs()</a>.</p>

</div>
</div>
<a id="a2a2eae59234c2478341fea0a380e99ac" name="a2a2eae59234c2478341fea0a380e99ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2eae59234c2478341fea0a380e99ac">&#9670;&#160;</a></span>FS_WriteFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_WriteFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03577">3577</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3578</span>{</div>
<div class="line"><span class="lineno"> 3579</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="fs_8c.html#ae34d06bd66fbed0ee1a72a3ad726af11">FS_WriteFileInBlocks</a>(filename, &amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, &amp;len, 1);</div>
<div class="line"><span class="lineno"> 3580</span>}</div>
<div class="ttc" id="afs_8c_html_ae34d06bd66fbed0ee1a72a3ad726af11"><div class="ttname"><a href="fs_8c.html#ae34d06bd66fbed0ee1a72a3ad726af11">FS_WriteFileInBlocks</a></div><div class="ttdeci">qbool FS_WriteFileInBlocks(const char *filename, const void *const *data, const fs_offset_t *len, size_t count)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03554">fs.c:3554</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="image_8c_source.html#l01436">Image_WriteTGABGRA()</a>, <a class="el" href="model__shared_8c_source.html#l03318">Mod_Decompile_f()</a>, <a class="el" href="model__shared_8c_source.html#l03033">Mod_Decompile_OBJ()</a>, <a class="el" href="model__shared_8c_source.html#l03154">Mod_Decompile_SMD()</a>, <a class="el" href="cl__parse_8c_source.html#l00756">QW_CL_ParseDownload()</a>, <a class="el" href="gl__textures_8c_source.html#l01431">R_SaveTextureDDSFile()</a>, <a class="el" href="r__shadow_8c_source.html#l04945">R_Shadow_SaveWorldLights()</a>, and <a class="el" href="sv__main_8c_source.html#l00714">SV_SaveEntFile_f()</a>.</p>

</div>
</div>
<a id="ae34d06bd66fbed0ee1a72a3ad726af11" name="ae34d06bd66fbed0ee1a72a3ad726af11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae34d06bd66fbed0ee1a72a3ad726af11">&#9670;&#160;</a></span>FS_WriteFileInBlocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> FS_WriteFileInBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l03554">3554</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3555</span>{</div>
<div class="line"><span class="lineno"> 3556</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file;</div>
<div class="line"><span class="lineno"> 3557</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3558</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lentotal</a>;</div>
<div class="line"><span class="lineno"> 3559</span> </div>
<div class="line"><span class="lineno"> 3560</span>    file = <a class="code hl_function" href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a>(filename, <span class="stringliteral">&quot;wb&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3561</span>    <span class="keywordflow">if</span> (!file)</div>
<div class="line"><span class="lineno"> 3562</span>    {</div>
<div class="line"><span class="lineno"> 3563</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FS_WriteFile: failed on %s\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 3564</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3565</span>    }</div>
<div class="line"><span class="lineno"> 3566</span> </div>
<div class="line"><span class="lineno"> 3567</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lentotal</a> = 0;</div>
<div class="line"><span class="lineno"> 3568</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 3569</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lentotal</a> += len[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3570</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;FS_WriteFile: %s (%u bytes)\n&quot;</span>, filename, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lentotal</a>);</div>
<div class="line"><span class="lineno"> 3571</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 3572</span>        <a class="code hl_function" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a> (file, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], len[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 3573</span>    <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a> (file);</div>
<div class="line"><span class="lineno"> 3574</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3575</span>}</div>
<div class="ttc" id="afs_8c_html_a7757c6165ecaee803fba8e3d1db3e2e9"><div class="ttname"><a href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a></div><div class="ttdeci">qfile_t * FS_OpenRealFile(const char *filepath, const char *mode, qbool quiet)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02886">fs.c:2886</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03577">FS_WriteFile()</a>, and <a class="el" href="image_8c_source.html#l01412">Image_WriteTGABGR_preflipped()</a>.</p>

</div>
</div>
<a id="a93257bedba32e45fc3f07bea139c0604" name="a93257bedba32e45fc3f07bea139c0604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93257bedba32e45fc3f07bea139c0604">&#9670;&#160;</a></span>int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a181415878f03b95a7094309d824a14b6">ZEXPORT</a> *&#160;</td>
          <td class="paramname"><em>qz_inflate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="prvm__cmds_8c_source.html#l06156">animatemodel()</a>, <a class="el" href="snd__sdl_8c_source.html#l00033">Buffer_Callback()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03961">BufStr_Flush()</a>, <a class="el" href="palette_8c_source.html#l00240">BuildGammaTable16()</a>, <a class="el" href="palette_8c_source.html#l00219">BuildGammaTable8()</a>, <a class="el" href="cd__shared_8c_source.html#l00119">CDAudio_Play_byName()</a>, <a class="el" href="cd__shared_8c_source.html#l00447">CDAudio_StartPlaylist()</a>, <a class="el" href="r__lightning_8c_source.html#l00129">CL_Beam_AddPolygons()</a>, <a class="el" href="r__lightning_8c_source.html#l00028">CL_Beams_SetupBuiltinTexture()</a>, <a class="el" href="cl__video_8c_source.html#l00447">CL_DrawVideo_DisplaySubtitleLine()</a>, <a class="el" href="cl__main_8c_source.html#l02804">CL_Frame()</a>, <a class="el" href="cl__collision_8c_source.html#l00175">CL_GenericHitSuperContentsMask()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03266">CL_GetTagMatrix()</a>, <a class="el" href="cl__main_8c_source.html#l02249">CL_Locs_AddNode()</a>, <a class="el" href="cl__main_8c_source.html#l02379">CL_Locs_Reload_f()</a>, <a class="el" href="cl__main_8c_source.html#l02306">CL_Locs_Save_f()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04322">CL_movestep()</a>, <a class="el" href="cl__particles_8c_source.html#l00659">CL_NewParticle()</a>, <a class="el" href="cl__particles_8c_source.html#l01462">CL_NewParticlesFromEffectinfo()</a>, <a class="el" href="cl__cmd_8c_source.html#l00413">CL_Packet_f()</a>, <a class="el" href="cl__parse_8c_source.html#l01478">CL_ParseDownload()</a>, <a class="el" href="cl__parse_8c_source.html#l03437">CL_ParseServerMessage()</a>, <a class="el" href="cl__particles_8c_source.html#l01940">CL_ParticleCube()</a>, <a class="el" href="cl__particles_8c_source.html#l01955">CL_ParticleRain()</a>, <a class="el" href="cl__particles_8c_source.html#l00313">CL_Particles_ParseEffectInfo()</a>, <a class="el" href="cl__cmd_8c_source.html#l00486">CL_PQRcon_f()</a>, <a class="el" href="cl__cmd_8c_source.html#l00544">CL_Rcon_f()</a>, <a class="el" href="cl__main_8c_source.html#l01791">CL_RelinkEffects()</a>, <a class="el" href="cl__main_8c_source.html#l00937">CL_RelinkLightFlashes()</a>, <a class="el" href="cl__main_8c_source.html#l01719">CL_RelinkWorld()</a>, <a class="el" href="cl__screen_8c_source.html#l00792">CL_Screen_Init()</a>, <a class="el" href="cl__particles_8c_source.html#l00869">CL_SpawnDecalParticleForSurface()</a>, <a class="el" href="cl__parse_8c_source.html#l01384">CL_StopDownload()</a>, <a class="el" href="cl__collision_8c_source.html#l00651">CL_TraceBox()</a>, <a class="el" href="cl__collision_8c_source.html#l00427">CL_TraceLine()</a>, <a class="el" href="cl__collision_8c_source.html#l00206">CL_TracePoint()</a>, <a class="el" href="cl__video_8c_source.html#l00355">CL_Video_Frame()</a>, <a class="el" href="cmd_8c_source.html#l01694">Cmd_TokenizeString()</a>, <a class="el" href="collision_8c_source.html#l01583">Collision_Cache_Lookup()</a>, <a class="el" href="com__game_8c_source.html#l00092">COM_InitGameType()</a>, <a class="el" href="common_8c_source.html#l01116">COM_ReadAndTokenizeLine()</a>, <a class="el" href="console_8c_source.html#l00767">Con_CheckResize()</a>, <a class="el" href="console_8c_source.html#l02738">Con_CompleteCommandLine()</a>, <a class="el" href="console_8c_source.html#l01682">Con_DisplayLineFunc()</a>, <a class="el" href="console_8c_source.html#l02292">Con_DisplayList()</a>, <a class="el" href="console_8c_source.html#l01978">Con_DrawConsole()</a>, <a class="el" href="console_8c_source.html#l01524">Con_DrawInput()</a>, <a class="el" href="console_8c_source.html#l01703">Con_DrawNotifyRect()</a>, <a class="el" href="csprogs_8c_source.html#l00305">CSQC_AddRenderEdict()</a>, <a class="el" href="cvar_8c_source.html#l00695">Cvar_Get()</a>, <a class="el" href="cvar_8c_source.html#l00599">Cvar_RegisterVariable()</a>, <a class="el" href="cvar_8c_source.html#l00390">Cvar_SetQuick_Internal()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04500">detect_match_rule()</a>, <a class="el" href="gl__draw_8c_source.html#l01426">DrawQ_SetClipArea()</a>, <a class="el" href="gl__draw_8c_source.html#l01083">DrawQ_String_Scale()</a>, <a class="el" href="gl__draw_8c_source.html#l00926">DrawQ_TextWidth_UntilWidth_TrackColors_Scale()</a>, <a class="el" href="sv__ents5_8c_source.html#l00038">EntityFrame5_ExpandEdicts()</a>, <a class="el" href="cl__ents__nq_8c_source.html#l00004">EntityFrameQuake_ReadEntity()</a>, <a class="el" href="sv__ents__nq_8c_source.html#l00004">EntityFrameQuake_WriteFrame()</a>, <a class="el" href="cl__ents5_8c_source.html#l00004">EntityState5_ReadUpdate()</a>, <a class="el" href="common_8c_source.html#l01421">FindFraction()</a>, <a class="el" href="ft2_8c_source.html#l00787">Font_Postprocess()</a>, <a class="el" href="ft2_8c_source.html#l01059">Font_SetSize()</a>, <a class="el" href="ft2_8c_source.html#l01184">Font_UnloadFont()</a>, <a class="el" href="ft2_8c_source.html#l00496">Font_VirtualToRealSize()</a>, <a class="el" href="fractalnoise_8c_source.html#l00074">fractalnoisequick()</a>, <a class="el" href="fs_8c_source.html#l00949">FS_AddFileToPack()</a>, <a class="el" href="fs_8c_source.html#l04162">FS_Deflate()</a>, <a class="el" href="fs_8c_source.html#l02675">FS_FindFile()</a>, <a class="el" href="fs_8c_source.html#l04257">FS_Inflate()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l04096">FS_IsRegisteredQuakePack()</a>, <a class="el" href="fs_8c_source.html#l03953">FS_ListDirectory()</a>, <a class="el" href="fs_8c_source.html#l01089">FS_LoadPackPAK()</a>, <a class="el" href="fs_8c_source.html#l03051">FS_Read()</a>, <a class="el" href="fs_8c_source.html#l03740">FS_Search()</a>, <a class="el" href="fs_8c_source.html#l03004">FS_Write()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01345">getdrawfont()</a>, <a class="el" href="console_8c_source.html#l02115">GetMapList()</a>, <a class="el" href="gl__backend_8c_source.html#l00305">gl_backend_devicelost()</a>, <a class="el" href="gl__backend_8c_source.html#l01854">GL_Mesh_ListVBOs()</a>, <a class="el" href="vid__shared_8c_source.html#l00713">GL_Setup()</a>, <a class="el" href="gl__textures_8c_source.html#l00442">GL_TextureMode_f()</a>, <a class="el" href="image_8c_source.html#l01769">Image_HeightmapToNormalmap_BGRA()</a>, <a class="el" href="image_8c_source.html#l01529">Image_Resample32Lerp()</a>, <a class="el" href="image_8c_source.html#l01497">Image_Resample32LerpLine()</a>, <a class="el" href="com__infostring_8c_source.html#l00074">InfoString_SetValue()</a>, <a class="el" href="jpeg_8c_source.html#l00931">JPEG_SaveImage_to_Buffer()</a>, <a class="el" href="keys_8c_source.html#l00703">Key_AddChar()</a>, <a class="el" href="keys_8c_source.html#l00163">Key_History_Down()</a>, <a class="el" href="keys_8c_source.html#l00278">Key_History_Find_All()</a>, <a class="el" href="keys_8c_source.html#l00185">Key_History_First()</a>, <a class="el" href="keys_8c_source.html#l00128">Key_History_Get_foundCommand()</a>, <a class="el" href="keys_8c_source.html#l00198">Key_History_Last()</a>, <a class="el" href="keys_8c_source.html#l00138">Key_History_Up()</a>, <a class="el" href="keys_8c_source.html#l00750">Key_Parse_CommonKeys()</a>, <a class="el" href="keys_8c_source.html#l01589">Key_PrintBindList()</a>, <a class="el" href="keys_8c_source.html#l01354">Key_StringToKeynum()</a>, <a class="el" href="keys_8c_source.html#l01578">Key_Unbindall_f()</a>, <a class="el" href="keys_8c_source.html#l01681">Key_WriteBindings()</a>, <a class="el" href="lhnet_8c_source.html#l00204">LHNETADDRESS_FromString()</a>, <a class="el" href="image_8c_source.html#l01043">loadimagepixelsbgra()</a>, <a class="el" href="menu_8c_source.html#l04769">M_Draw()</a>, <a class="el" href="menu_8c_source.html#l04291">M_GameOptions_Key()</a>, <a class="el" href="menu_8c_source.html#l03397">M_LanConfig_Key()</a>, <a class="el" href="menu_8c_source.html#l00424">M_Main_Draw()</a>, <a class="el" href="menu_8c_source.html#l03947">M_Menu_GameOptions_f()</a>, <a class="el" href="menu_8c_source.html#l04642">M_ModList_Draw()</a>, <a class="el" href="menu_8c_source.html#l01198">M_MultiPlayer_Draw()</a>, <a class="el" href="menu_8c_source.html#l02205">M_Options_ColorControl_Draw()</a>, <a class="el" href="menu_8c_source.html#l01665">M_Options_Draw()</a>, <a class="el" href="menu_8c_source.html#l01872">M_Options_Effects_Draw()</a>, <a class="el" href="menu_8c_source.html#l02019">M_Options_Graphics_Draw()</a>, <a class="el" href="menu_8c_source.html#l01424">M_Setup_Key()</a>, <a class="el" href="menu_8c_source.html#l00738">M_SinglePlayer_Draw()</a>, <a class="el" href="menu_8c_source.html#l02582">M_UnbindCommand()</a>, <a class="el" href="crypto-keygen-standalone_8c_source.html#l00275">main()</a>, <a class="el" href="csprogs_8c_source.html#l00894">MakeDownloadPacket()</a>, <a class="el" href="model__brush_8c_source.html#l03399">Mod_BSP_FinalizePortals()</a>, <a class="el" href="model__brush_8c_source.html#l01184">Mod_BSP_LightPoint_RecursiveBSPNode()</a>, <a class="el" href="model__shared_8c_source.html#l00564">Mod_ClearUsed()</a>, <a class="el" href="model__alias_8c_source.html#l02163">Mod_DARKPLACESMODEL_Load()</a>, <a class="el" href="model__shared_8c_source.html#l00595">Mod_FindName()</a>, <a class="el" href="model__shared_8c_source.html#l04123">Mod_GenerateLightmaps_CreateLightmaps()</a>, <a class="el" href="model__alias_8c_source.html#l00972">Mod_IDP0_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01324">Mod_IDP2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01578">Mod_IDP3_Load()</a>, <a class="el" href="model__sprite_8c_source.html#l00382">Mod_IDS2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l03219">Mod_INTERQUAKEMODEL_Load()</a>, <a class="el" href="model__shared_8c_source.html#l00406">Mod_LoadModel()</a>, <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>, <a class="el" href="model__shared_8c_source.html#l04554">Mod_Mesh_IndexForVertex()</a>, <a class="el" href="model__shared_8c_source.html#l00122">mod_newmap()</a>, <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>, <a class="el" href="model__shared_8c_source.html#l00692">Mod_Print_f()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__shared_8c_source.html#l00574">Mod_PurgeUnused()</a>, <a class="el" href="model__brush_8c_source.html#l02324">Mod_Q1BSP_LoadEdges()</a>, <a class="el" href="model__brush_8c_source.html#l02560">Mod_Q1BSP_LoadFaces()</a>, <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>, <a class="el" href="model__brush_8c_source.html#l02192">Mod_Q1BSP_ParseWadsFromEntityLump()</a>, <a class="el" href="model__brush_8c_source.html#l04350">Mod_Q2BSP_LoadTexinfo()</a>, <a class="el" href="model__brush_8c_source.html#l06619">Mod_Q3BSP_LightPoint()</a>, <a class="el" href="model__brush_8c_source.html#l06419">Mod_Q3BSP_LoadLightGrid()</a>, <a class="el" href="model__brush_8c_source.html#l05493">Mod_Q3BSP_LoadLightmaps()</a>, <a class="el" href="model__shared_8c_source.html#l00661">Mod_Reload()</a>, <a class="el" href="model__shared_8c_source.html#l01019">Mod_ShadowMesh_AddVertex()</a>, <a class="el" href="model__shared_8c_source.html#l00108">mod_shutdown()</a>, <a class="el" href="mod__skeletal__animatevertices__generic_8c_source.html#l00003">Mod_Skeletal_AnimateVertices_Generic()</a>, <a class="el" href="model__sprite_8c_source.html#l00091">Mod_Sprite_SharedSetup()</a>, <a class="el" href="model__shared_8c_source.html#l00085">mod_start()</a>, <a class="el" href="model__brush_8c_source.html#l07703">Mod_VBSP_LoadEdges()</a>, <a class="el" href="model__brush_8c_source.html#l07824">Mod_VBSP_LoadFaces()</a>, <a class="el" href="model__alias_8c_source.html#l01768">Mod_ZYMOTICMODEL_Load()</a>, <a class="el" href="menu_8c_source.html#l05501">MR_Init()</a>, <a class="el" href="netconn_8c_source.html#l02706">NetConn_BuildStatusResponse()</a>, <a class="el" href="netconn_8c_source.html#l02002">NetConn_ClientParsePacket()</a>, <a class="el" href="netconn_8c_source.html#l01321">NetConn_ReceivedMessage()</a>, <a class="el" href="netconn_8c_source.html#l00834">NetConn_SendUnreliableMessage()</a>, <a class="el" href="netconn_8c_source.html#l03142">NetConn_ServerParsePacket()</a>, <a class="el" href="console_8c_source.html#l02521">Nicks_CutMatchesAlphaNumeric()</a>, <a class="el" href="console_8c_source.html#l02483">Nicks_CutMatchesNormal()</a>, <a class="el" href="console_8c_source.html#l02580">Nicks_CutMatchesNoSpaces()</a>, <a class="el" href="fractalnoise_8c_source.html#l00128">noise4f()</a>, <a class="el" href="snd__ogg_8c_source.html#l00540">OGG_DecodeTags()</a>, <a class="el" href="cl__particles_8c_source.html#l02073">particletextureblotch()</a>, <a class="el" href="fs_8c_source.html#l00707">PK3_BuildFileList()</a>, <a class="el" href="image__png_8c_source.html#l00258">PNG_fReadData()</a>, <a class="el" href="image__png_8c_source.html#l00294">PNG_LoadImage_BGRA()</a>, <a class="el" href="prvm__cmds_8c_source.html#l00068">PRVM_ConsoleCommand()</a>, <a class="el" href="prvm__edict_8c_source.html#l00986">PRVM_ED_ParseEpair()</a>, <a class="el" href="prvm__edict_8c_source.html#l03630">PRVM_LeakTest()</a>, <a class="el" href="prvm__edict_8c_source.html#l01946">PRVM_LoadLNO()</a>, <a class="el" href="prvm__exec_8c_source.html#l00304">PRVM_PrintStatement()</a>, <a class="el" href="prvm__edict_8c_source.html#l02002">PRVM_Prog_Load()</a>, <a class="el" href="prvm__edict_8c_source.html#l00508">PRVM_UglyValueString()</a>, <a class="el" href="gl__rmain_8c_source.html#l05027">R_Bloom_StartFrame()</a>, <a class="el" href="gl__rmain_8c_source.html#l03715">R_BufferData_Store()</a>, <a class="el" href="gl__rmain_8c_source.html#l00470">R_BuildFogTexture()</a>, <a class="el" href="gl__rsurf_8c_source.html#l00050">R_BuildLightMap()</a>, <a class="el" href="r__shadow_8c_source.html#l06027">R_CompleteLightPoint()</a>, <a class="el" href="gl__rmain_8c_source.html#l08782">R_DrawTextureSurfaceList_ShowSurfaces()</a>, <a class="el" href="gl__rmain_8c_source.html#l06585">R_GetCurrentTexture()</a>, <a class="el" href="gl__rmain_8c_source.html#l01394">R_GLSL_Restart_f()</a>, <a class="el" href="gl__rmain_8c_source.html#l04152">R_HDR_UpdateIrisAdaptation()</a>, <a class="el" href="cl__particles_8c_source.html#l02163">R_InitParticleTexture()</a>, <a class="el" href="gl__textures_8c_source.html#l01569">R_LoadTextureDDSFile()</a>, <a class="el" href="gl__backend_8c_source.html#l01666">R_Mesh_Draw()</a>, <a class="el" href="gl__backend_8c_source.html#l01781">R_Mesh_UpdateMeshBuffer()</a>, <a class="el" href="gl__rmain_8c_source.html#l04531">R_RenderTarget_FreeUnused()</a>, <a class="el" href="gl__rmain_8c_source.html#l04572">R_RenderTarget_Get()</a>, <a class="el" href="r__shadow_8c_source.html#l03023">R_RTLight_Compile()</a>, <a class="el" href="gl__backend_8c_source.html#l00429">R_ScissorForBBox()</a>, <a class="el" href="r__shadow_8c_source.html#l01922">R_Shadow_BounceGrid_AssignPhotons_Task()</a>, <a class="el" href="r__shadow_8c_source.html#l01674">R_Shadow_BounceGrid_CheckEnable()</a>, <a class="el" href="r__shadow_8c_source.html#l02418">R_Shadow_BounceGrid_ConvertPixelsAndUpload()</a>, <a class="el" href="r__shadow_8c_source.html#l02170">R_Shadow_BounceGrid_Slice()</a>, <a class="el" href="r__shadow_8c_source.html#l01751">R_Shadow_BounceGrid_UpdateSpacing()</a>, <a class="el" href="r__shadow_8c_source.html#l04541">R_Shadow_DrawCoronas()</a>, <a class="el" href="r__shadow_8c_source.html#l05726">R_Shadow_EditLights_DrawSelectedLightProperties()</a>, <a class="el" href="r__shadow_8c_source.html#l04790">R_Shadow_GetRTLightInfo()</a>, <a class="el" href="r__shadow_8c_source.html#l05051">R_Shadow_LoadWorldLightsFromMap_LightArghliteTyrlite()</a>, <a class="el" href="r__shadow_8c_source.html#l01202">R_Shadow_MakeTextures_MakeCorona()</a>, <a class="el" href="gl__rsurf_8c_source.html#l00176">R_StainNode()</a>, <a class="el" href="gl__rmain_8c_source.html#l06481">R_tcMod_ApplyToMatrix()</a>, <a class="el" href="gl__textures_8c_source.html#l00681">r_textures_devicelost()</a>, <a class="el" href="gl__textures_8c_source.html#l00700">r_textures_devicerestored()</a>, <a class="el" href="r__stats_8c_source.html#l00193">R_TimeReport()</a>, <a class="el" href="r__stats_8c_source.html#l00255">R_TimeReport_EndFrame()</a>, <a class="el" href="gl__rmain_8c_source.html#l04616">R_Water_StartFrame()</a>, <a class="el" href="netconn_8c_source.html#l03003">RCon_Authenticate()</a>, <a class="el" href="gl__rmain_8c_source.html#l07344">RSurf_FogPoint()</a>, <a class="el" href="gl__rmain_8c_source.html#l07360">RSurf_FogVertex()</a>, <a class="el" href="snd__mix_8c_source.html#l00129">S_ConvertPaintBuffer()</a>, <a class="el" href="snd__mix_8c_source.html#l00381">S_MixToBuffer()</a>, <a class="el" href="snd__main_8c_source.html#l01919">S_PaintAndSubmit()</a>, <a class="el" href="snd__main_8c_source.html#l01538">S_PlaySfxOnChannel()</a>, <a class="el" href="snd__main_8c_source.html#l00321">S_SoundList_f()</a>, <a class="el" href="snd__main_8c_source.html#l01595">S_StartSound_StartPosition_Flags()</a>, <a class="el" href="snd__main_8c_source.html#l00867">S_UnloadAllSounds_f()</a>, <a class="el" href="sbar_8c_source.html#l01865">Sbar_DeathmatchOverlay()</a>, <a class="el" href="sbar_8c_source.html#l01371">Sbar_Draw()</a>, <a class="el" href="sbar_8c_source.html#l00782">Sbar_DrawInventory()</a>, <a class="el" href="sbar_8c_source.html#l02204">Sbar_IntermissionOverlay()</a>, <a class="el" href="sbar_8c_source.html#l01952">Sbar_MiniDeathmatchOverlay()</a>, <a class="el" href="sbar_8c_source.html#l01795">Sbar_PrintScoreboardItem()</a>, <a class="el" href="sbar_8c_source.html#l02058">Sbar_Score()</a>, <a class="el" href="sbar_8c_source.html#l00660">Sbar_SoloScoreboard()</a>, <a class="el" href="cap__avi_8c_source.html#l00452">SCR_CaptureVideo_Avi_SoundFrame()</a>, <a class="el" href="cap__ogg_8c_source.html#l00921">SCR_CaptureVideo_Ogg_BeginVideo()</a>, <a class="el" href="cap__avi_8c_source.html#l00132">SCR_CaptureVideo_RIFF_Pop()</a>, <a class="el" href="cl__screen_8c_source.html#l00166">SCR_Centerprint_f()</a>, <a class="el" href="cl__screen_8c_source.html#l00202">SCR_DrawCenterString()</a>, <a class="el" href="cl__screen_8c_source.html#l00585">SCR_DrawCurlDownload()</a>, <a class="el" href="cl__screen_8c_source.html#l00566">SCR_DrawInfobarString()</a>, <a class="el" href="cl__screen_8c_source.html#l00529">SCR_DrawQWDownload()</a>, <a class="el" href="cl__screen_8c_source.html#l01605">SCR_DrawScreen()</a>, <a class="el" href="ft2_8c_source.html#l01922">should_use_incmap()</a>, <a class="el" href="gl__draw_8c_source.html#l00517">snap_to_pixel_x()</a>, <a class="el" href="gl__draw_8c_source.html#l00530">snap_to_pixel_y()</a>, <a class="el" href="snd__main_8c_source.html#l01142">SND_PickChannel()</a>, <a class="el" href="snd__oss_8c_source.html#l00049">SndSys_Init()</a>, <a class="el" href="snd__sdl_8c_source.html#l00106">SndSys_Init()</a>, <a class="el" href="sv__send_8c_source.html#l01074">SV_CleanupEnts()</a>, <a class="el" href="sv__main_8c_source.html#l01616">SV_CreateBaseline()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00148">SV_DisableCheats_c()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01493">SV_Ent_Remove_f()</a>, <a class="el" href="sv__user_8c_source.html#l00775">SV_ExecuteClientMoves()</a>, <a class="el" href="sv__move_8c_source.html#l00295">SV_FixCheckBottom()</a>, <a class="el" href="sv__phys_8c_source.html#l01199">SV_FlyMove()</a>, <a class="el" href="sv__phys_8c_source.html#l00073">SV_GenericHitSuperContentsMask()</a>, <a class="el" href="sv__main_8c_source.html#l01600">SV_GetModelFromEdict()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02486">SV_GetTagIndex()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02558">SV_GetTagMatrix()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00214">SV_Give_f()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00178">SV_God_f()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01016">SV_Kick_f()</a>, <a class="el" href="sv__phys_8c_source.html#l00804">SV_LinkEdict()</a>, <a class="el" href="sv__save_8c_source.html#l00245">SV_Loadgame_f()</a>, <a class="el" href="sv__move_8c_source.html#l00109">SV_movestep()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00354">SV_Notarget_f()</a>, <a class="el" href="sv__phys_8c_source.html#l02758">SV_Physics_Step()</a>, <a class="el" href="sv__phys_8c_source.html#l02602">SV_Physics_Toss()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00641">SV_Pings_f()</a>, <a class="el" href="sv__user_8c_source.html#l00571">SV_PlayerPhysics()</a>, <a class="el" href="sv__phys_8c_source.html#l00611">SV_PointSuperContents()</a>, <a class="el" href="sv__main_8c_source.html#l01700">SV_Prepare_CSQC()</a>, <a class="el" href="sv__send_8c_source.html#l00394">SV_PrepareEntityForSending()</a>, <a class="el" href="sv__phys_8c_source.html#l01562">SV_PushEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l01668">SV_PushMove()</a>, <a class="el" href="sv__user_8c_source.html#l00985">SV_ReadClientMessage()</a>, <a class="el" href="sv__user_8c_source.html#l00643">SV_ReadClientMove()</a>, <a class="el" href="sv__save_8c_source.html#l00034">SV_Savegame_to()</a>, <a class="el" href="sv__main_8c_source.html#l01749">SV_SaveSpawnparms()</a>, <a class="el" href="sv__send_8c_source.html#l01423">SV_SendClientDatagram()</a>, <a class="el" href="sv__main_8c_source.html#l01799">SV_SpawnServer()</a>, <a class="el" href="sv__send_8c_source.html#l00320">SV_StartPointSound()</a>, <a class="el" href="sv__send_8c_source.html#l00228">SV_StartSound()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00698">SV_Status_f()</a>, <a class="el" href="sv__ccmds_8c_source.html#l00485">SV_Tell_f()</a>, <a class="el" href="sv__phys_8c_source.html#l00414">SV_TraceBox()</a>, <a class="el" href="sv__phys_8c_source.html#l00256">SV_TraceLine()</a>, <a class="el" href="sv__phys_8c_source.html#l00104">SV_TracePoint()</a>, <a class="el" href="sv__phys_8c_source.html#l02043">SV_UnstickEntityReturnOffset()</a>, <a class="el" href="sv__send_8c_source.html#l01594">SV_UpdateToReliableMessages()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01286">SV_Viewframe_f()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01258">SV_Viewmodel_f()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01322">SV_Viewnext_f()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01349">SV_Viewprev_f()</a>, <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>, <a class="el" href="sv__user_8c_source.html#l00493">SV_WaterJump()</a>, <a class="el" href="sv__send_8c_source.html#l01091">SV_WriteClientdataToMessage()</a>, <a class="el" href="svbsp_8c_source.html#l00157">SVBSP_InsertOccluderPolygonNodes()</a>, <a class="el" href="console_8c_source.html#l01094">Sys_Con_NearestColor()</a>, <a class="el" href="utf8lib_8c_source.html#l00881">u8_strpad()</a>, <a class="el" href="utf8lib_8c_source.html#l00899">u8_strpad_colorcodes()</a>, <a class="el" href="view_8c_source.html#l00512">V_CalcRefdefUsing()</a>, <a class="el" href="vid__shared_8c_source.html#l01014">VID_ApplyJoyState()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03701">VM_altstr_get()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03793">VM_altstr_ins()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03749">VM_altstr_set()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02822">VM_argv()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02858">VM_argv_end_index()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02840">VM_argv_start_index()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04057">VM_buf_copy()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03982">VM_buf_create()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04111">VM_buf_sort()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04419">VM_buf_writefile()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04253">VM_bufstr_add()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04582">VM_bufstr_find()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04300">VM_bufstr_free()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04190">VM_bufstr_get()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04220">VM_bufstr_set()</a>, <a class="el" href="mvm__cmds_8c_source.html#l01019">VM_cin_getstate()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02175">VM_CL_boxparticles()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00559">VM_CL_droptofloor()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04874">VM_CL_frameduration()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04854">VM_CL_frameforname()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02265">VM_CL_getinputstate()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02376">VM_CL_getplayerkey()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02008">VM_CL_getstatf()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02028">VM_CL_getstati()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02062">VM_CL_getstats()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03390">VM_CL_gettaginfo()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00607">VM_CL_lightstyle()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02562">VM_CL_makestatic()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00707">VM_CL_particle()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03643">VM_CL_ParticleTheme()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03714">VM_CL_ParticleThemeFree()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03587">VM_CL_ParticleThemeFromGlobals()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03672">VM_CL_ParticleThemeSave()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02159">VM_CL_pointparticles()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01136">VM_CL_R_AddDynamicLight()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00790">VM_CL_R_AddEntities()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04111">VM_CL_R_PolygonBegin()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00840">VM_CL_R_SetView()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02309">VM_CL_runplayerphysics()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03119">VM_CL_setattachment()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02080">VM_CL_setmodelindex()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04605">VM_CL_skel_build()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04822">VM_CL_skel_copybones()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04581">VM_CL_skel_create()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04843">VM_CL_skel_delete()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04686">VM_CL_skel_find_bone()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04722">VM_CL_skel_get_boneabs()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04658">VM_CL_skel_get_bonename()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04672">VM_CL_skel_get_boneparent()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04698">VM_CL_skel_get_bonerel()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04647">VM_CL_skel_get_numbones()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04773">VM_CL_skel_mul_bone()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04795">VM_CL_skel_mul_bones()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04753">VM_CL_skel_set_bone()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00168">VM_CL_sound()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03744">VM_CL_SpawnParticle()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03866">VM_CL_SpawnParticleDelayed()</a>, <a class="el" href="clvm__cmds_8c_source.html#l03030">VM_CL_te_explosion2()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00320">VM_CL_tracebox()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00281">VM_CL_traceline()</a>, <a class="el" href="clvm__cmds_8c_source.html#l02140">VM_CL_trailparticles()</a>, <a class="el" href="clvm__cmds_8c_source.html#l04939">VM_CL_V_CalcRefdef()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01360">VM_drawcharacter()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01463">VM_drawcolorcodedstring()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01907">VM_drawfill()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01242">VM_drawline()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01753">VM_drawpic()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01801">VM_drawrotpic()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01413">VM_drawstring()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01850">VM_drawsubpic()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02147">VM_entityfieldname()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02171">VM_entityfieldtype()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01981">VM_fclose()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02014">VM_fgets()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01917">VM_fopen()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02067">VM_fputs()</a>, <a class="el" href="prvm__cmds_8c_source.html#l00125">VM_FrameBlendFromFrameGroupBlend()</a>, <a class="el" href="prvm__cmds_8c_source.html#l00096">VM_GenerateFrameGroupBlend()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02195">VM_getentityfieldstring()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03012">VM_getsoundtime()</a>, <a class="el" href="prvm__cmds_8c_source.html#l06316">VM_getsurfacepoint()</a>, <a class="el" href="prvm__cmds_8c_source.html#l06344">VM_getsurfacepointattribute()</a>, <a class="el" href="prvm__cmds_8c_source.html#l06530">VM_getsurfacetriangle()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02966">VM_gettime()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00210">VM_M_getgamedirinfo()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00179">VM_M_getresolution()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00518">VM_M_getserverlistnumber()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00247">VM_M_getserverliststat()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00453">VM_M_getserverliststring()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00373">VM_M_setserverlistmasknumber()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00309">VM_M_setserverlistmaskstring()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00583">VM_M_setserverlistsort()</a>, <a class="el" href="mvm__cmds_8c_source.html#l00687">VM_M_WriteDest()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04637">VM_matchpattern()</a>, <a class="el" href="prvm__cmds_8c_source.html#l05608">VM_netaddress_resolve()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02247">VM_putentityfieldstring()</a>, <a class="el" href="prvm__cmds_8c_source.html#l01754">VM_registercvar()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03179">VM_search_begin()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03225">VM_search_end()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03284">VM_search_getfilename()</a>, <a class="el" href="prvm__cmds_8c_source.html#l03256">VM_search_getsize()</a>, <a class="el" href="prvm__cmds_8c_source.html#l00465">VM_sprint()</a>, <a class="el" href="prvm__cmds_8c_source.html#l05790">VM_sprintf()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04914">VM_str2chr()</a>, <a class="el" href="prvm__cmds_8c_source.html#l05040">VM_strconv()</a>, <a class="el" href="clvm__cmds_8c_source.html#l01528">VM_stringwidth()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02554">VM_strireplace()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02323">VM_strlennocol()</a>, <a class="el" href="prvm__cmds_8c_source.html#l05088">VM_strpad()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02487">VM_strreplace()</a>, <a class="el" href="prvm__cmds_8c_source.html#l04890">VM_strstrofs()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02415">VM_substring()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01774">VM_SV_AddStat()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01189">VM_SV_droptofloor()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03253">VM_SV_frameduration()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03233">VM_SV_frameforname()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02658">VM_SV_gettaginfo()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01286">VM_SV_lightstyle()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02842">VM_SV_modelnameforindex()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00448">VM_SV_particle()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02895">VM_SV_pointparticles()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00607">VM_SV_pointsound()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01877">VM_SV_setcolor()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02795">VM_SV_setmodelindex()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02942">VM_SV_setpause()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02984">VM_SV_skel_build()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03201">VM_SV_skel_copybones()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02960">VM_SV_skel_create()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03222">VM_SV_skel_delete()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03065">VM_SV_skel_find_bone()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03101">VM_SV_skel_get_boneabs()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03037">VM_SV_skel_get_bonename()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03051">VM_SV_skel_get_boneparent()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03077">VM_SV_skel_get_bonerel()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03026">VM_SV_skel_get_numbones()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03152">VM_SV_skel_mul_bone()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03174">VM_SV_skel_mul_bones()</a>, <a class="el" href="svvm__cmds_8c_source.html#l03132">VM_SV_skel_set_bone()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00531">VM_SV_sound()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00686">VM_SV_tracebox()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00649">VM_SV_traceline()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01724">VM_SV_UpdateCustomStats()</a>, <a class="el" href="prvm__cmds_8c_source.html#l02756">VM_tokenizebyseparator()</a>, <a class="el" href="prvm__cmds_8c_source.html#l00226">VM_UpdateEdictSkeleton()</a>, <a class="el" href="prvm__cmds_8c_source.html#l00557">VM_vectoyaw()</a>, <a class="el" href="wad_8c_source.html#l00277">W_GetTextureBGRA()</a>, <a class="el" href="world_8c_source.html#l00188">World_EntitiesInBox()</a>, <a class="el" href="world_8c_source.html#l00280">World_LinkEdict_AreaGrid()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01457">WriteDest()</a>, and <a class="el" href="snd__xmp_8c_source.html#l00436">XMP_GetSamplesFloat()</a>.</p>

</div>
</div>
<a id="a1f9e243d932290a01cfd42090951f31b" name="a1f9e243d932290a01cfd42090951f31b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f9e243d932290a01cfd42090951f31b">&#9670;&#160;</a></span>PK3_BuildFileList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> PK3_BuildFileList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpack__t.html">pack_t</a> *&#160;</td>
          <td class="paramname"><em>pack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structpk3__endOfCentralDir__t.html">pk3_endOfCentralDir_t</a> *&#160;</td>
          <td class="paramname"><em>eocd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00707">707</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  708</span>{</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>, *ptr;</div>
<div class="line"><span class="lineno">  710</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ind;</div>
<div class="line"><span class="lineno">  711</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remaining</a>;</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>    <span class="comment">// Load the central directory in memory</span></div>
<div class="line"><span class="lineno">  714</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size);</div>
<div class="line"><span class="lineno">  715</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_offset, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno">  716</span>    {</div>
<div class="line"><span class="lineno">  717</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>);</div>
<div class="line"><span class="lineno">  718</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  719</span>    }</div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size) != (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size)</div>
<div class="line"><span class="lineno">  721</span>    {</div>
<div class="line"><span class="lineno">  722</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>);</div>
<div class="line"><span class="lineno">  723</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  724</span>    }</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>    <span class="comment">// Extract the files properties</span></div>
<div class="line"><span class="lineno">  727</span>    <span class="comment">// The parsing is done &quot;by hand&quot; because some fields have variable sizes and</span></div>
<div class="line"><span class="lineno">  728</span>    <span class="comment">// the constant part isn&#39;t 4-bytes aligned, which makes the use of structs difficult</span></div>
<div class="line"><span class="lineno">  729</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remaining</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size;</div>
<div class="line"><span class="lineno">  730</span>    pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a> = 0;</div>
<div class="line"><span class="lineno">  731</span>    ptr = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>;</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordflow">for</span> (ind = 0; ind &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;nbentries; ind++)</div>
<div class="line"><span class="lineno">  733</span>    {</div>
<div class="line"><span class="lineno">  734</span>        <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">namesize</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>        <span class="comment">// Checking the remaining size</span></div>
<div class="line"><span class="lineno">  737</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remaining</a> &lt; <a class="code hl_define" href="fs_8c.html#aaa8d6ffba2404920e5222c72432c648a">ZIP_CDIR_CHUNK_BASE_SIZE</a>)</div>
<div class="line"><span class="lineno">  738</span>        {</div>
<div class="line"><span class="lineno">  739</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>);</div>
<div class="line"><span class="lineno">  740</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  741</span>        }</div>
<div class="line"><span class="lineno">  742</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remaining</a> -= <a class="code hl_define" href="fs_8c.html#aaa8d6ffba2404920e5222c72432c648a">ZIP_CDIR_CHUNK_BASE_SIZE</a>;</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>        <span class="comment">// Check header</span></div>
<div class="line"><span class="lineno">  745</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a> (ptr) != <a class="code hl_define" href="fs_8c.html#a29ecbaec88614ede09ab24394ba2d85a">ZIP_CDIR_HEADER</a>)</div>
<div class="line"><span class="lineno">  746</span>        {</div>
<div class="line"><span class="lineno">  747</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>);</div>
<div class="line"><span class="lineno">  748</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  749</span>        }</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">namesize</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a> (&amp;ptr[28]);  <span class="comment">// filename length</span></div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>        <span class="comment">// Check encryption, compression, and attributes</span></div>
<div class="line"><span class="lineno">  754</span>        <span class="comment">// 1st uint8  : general purpose bit flag</span></div>
<div class="line"><span class="lineno">  755</span>        <span class="comment">//    Check bits 0 (encryption), 3 (data descriptor after the file), and 5 (compressed patched data (?))</span></div>
<div class="line"><span class="lineno">  756</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  757</span>        <span class="comment">// LadyHavoc: bit 3 would be a problem if we were scanning the archive</span></div>
<div class="line"><span class="lineno">  758</span>        <span class="comment">// but is not a problem in the central directory where the values are</span></div>
<div class="line"><span class="lineno">  759</span>        <span class="comment">// always real.</span></div>
<div class="line"><span class="lineno">  760</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  761</span>        <span class="comment">// bit 3 seems to always be set by the standard Mac OSX zip maker</span></div>
<div class="line"><span class="lineno">  762</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  763</span>        <span class="comment">// 2nd uint8 : external file attributes</span></div>
<div class="line"><span class="lineno">  764</span>        <span class="comment">//    Check bits 3 (file is a directory) and 5 (file is a volume (?))</span></div>
<div class="line"><span class="lineno">  765</span>        <span class="keywordflow">if</span> ((ptr[8] &amp; 0x21) == 0 &amp;&amp; (ptr[38] &amp; 0x18) == 0)</div>
<div class="line"><span class="lineno">  766</span>        {</div>
<div class="line"><span class="lineno">  767</span>            <span class="comment">// Still enough bytes for the name?</span></div>
<div class="line"><span class="lineno">  768</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remaining &lt; namesize || namesize &gt;</a>= (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span> (*pack-&gt;<a class="code hl_variable" href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">files</a>))</div>
<div class="line"><span class="lineno">  769</span>            {</div>
<div class="line"><span class="lineno">  770</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>);</div>
<div class="line"><span class="lineno">  771</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  772</span>            }</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>            <span class="comment">// WinZip doesn&#39;t use the &quot;directory&quot; attribute, so we need to check the name directly</span></div>
<div class="line"><span class="lineno">  775</span>            <span class="keywordflow">if</span> (ptr[<a class="code hl_define" href="fs_8c.html#aaa8d6ffba2404920e5222c72432c648a">ZIP_CDIR_CHUNK_BASE_SIZE</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">namesize</a> - 1] != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno">  776</span>            {</div>
<div class="line"><span class="lineno">  777</span>                <span class="keywordtype">char</span> filename [<span class="keyword">sizeof</span> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#af14c2561ac15ac82edb3172fade4f7d3">files</a>[0].<a class="code hl_variable" href="structpackfile__t.html#a6927487c0c081c7a66f18a000ca557cb">name</a>)];</div>
<div class="line"><span class="lineno">  778</span>                <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, packsize, realsize;</div>
<div class="line"><span class="lineno">  779</span>                <span class="keywordtype">int</span> flags;</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>                <span class="comment">// Extract the name (strip it if necessary)</span></div>
<div class="line"><span class="lineno">  782</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">namesize</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">namesize</a>, (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span> (filename) - 1);</div>
<div class="line"><span class="lineno">  783</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (filename, &amp;ptr[<a class="code hl_define" href="fs_8c.html#aaa8d6ffba2404920e5222c72432c648a">ZIP_CDIR_CHUNK_BASE_SIZE</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">namesize</a>);</div>
<div class="line"><span class="lineno">  784</span>                filename[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">namesize</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a> (&amp;ptr[10]))</div>
<div class="line"><span class="lineno">  787</span>                    flags = <a class="code hl_define" href="fs_8c.html#ad506061cba6c07010e9af9d7fb4c6722">PACKFILE_FLAG_DEFLATED</a>;</div>
<div class="line"><span class="lineno">  788</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  789</span>                    flags = 0;</div>
<div class="line"><span class="lineno">  790</span>                <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a> (&amp;ptr[42]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;prepended_garbage);</div>
<div class="line"><span class="lineno">  791</span>                packsize = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a> (&amp;ptr[20]);</div>
<div class="line"><span class="lineno">  792</span>                realsize = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a> (&amp;ptr[24]);</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>                <span class="keywordflow">switch</span>(ptr[5]) <span class="comment">// C_VERSION_MADE_BY_1</span></div>
<div class="line"><span class="lineno">  795</span>                {</div>
<div class="line"><span class="lineno">  796</span>                    <span class="keywordflow">case</span> 3: <span class="comment">// UNIX_</span></div>
<div class="line"><span class="lineno">  797</span>                    <span class="keywordflow">case</span> 2: <span class="comment">// VMS_</span></div>
<div class="line"><span class="lineno">  798</span>                    <span class="keywordflow">case</span> 16: <span class="comment">// BEOS_</span></div>
<div class="line"><span class="lineno">  799</span>                        <span class="keywordflow">if</span>((<a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a>(&amp;ptr[40]) &amp; 0120000) == 0120000)</div>
<div class="line"><span class="lineno">  800</span>                            <span class="comment">// can&#39;t use S_ISLNK here, as this has to compile on non-UNIX too</span></div>
<div class="line"><span class="lineno">  801</span>                            flags |= <a class="code hl_define" href="fs_8c.html#aa89b502790aa99c2a117674274fe7387">PACKFILE_FLAG_SYMLINK</a>;</div>
<div class="line"><span class="lineno">  802</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  803</span>                }</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>                <a class="code hl_function" href="fs_8c.html#a49a332b6db61069192753fc9f76c045c">FS_AddFileToPack</a> (filename, pack, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, packsize, realsize, flags);</div>
<div class="line"><span class="lineno">  806</span>            }</div>
<div class="line"><span class="lineno">  807</span>        }</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>        <span class="comment">// Skip the name, additionnal field, and comment</span></div>
<div class="line"><span class="lineno">  810</span>        <span class="comment">// 1er uint16 : extra field length</span></div>
<div class="line"><span class="lineno">  811</span>        <span class="comment">// 2eme uint16 : file comment length</span></div>
<div class="line"><span class="lineno">  812</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">namesize</a> + (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a> (&amp;ptr[30]) + (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a> (&amp;ptr[32]);</div>
<div class="line"><span class="lineno">  813</span>        ptr += <a class="code hl_define" href="fs_8c.html#aaa8d6ffba2404920e5222c72432c648a">ZIP_CDIR_CHUNK_BASE_SIZE</a> + <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno">  814</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remaining</a> -= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno">  815</span>    }</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>    <span class="comment">// If the package is empty, central_dir is NULL here</span></div>
<div class="line"><span class="lineno">  818</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">  819</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">central_dir</a>);</div>
<div class="line"><span class="lineno">  820</span>    <span class="keywordflow">return</span> pack-&gt;<a class="code hl_variable" href="structpack__t.html#a0a5041adb1336a5ff6b8a22a1fe80949">numfiles</a>;</div>
<div class="line"><span class="lineno">  821</span>}</div>
<div class="ttc" id="acom__msg_8c_html_a562c9519cec6edc084492ba2bf856063"><div class="ttname"><a href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a></div><div class="ttdeci">short BuffLittleShort(const unsigned char *buffer)</div><div class="ttdoc">Extract a little endian 16bit short from the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00076">com_msg.c:76</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a9375c7a4c8e2a5785acd5a71078378bb"><div class="ttname"><a href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a></div><div class="ttdeci">int BuffLittleLong(const unsigned char *buffer)</div><div class="ttdoc">Extract a little endian 32bit int from the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00071">com_msg.c:71</a></div></div>
<div class="ttc" id="acom__msg_8c_html_acd30e83205c1a8193744237c44ad0f01"><div class="ttname"><a href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a></div><div class="ttdeci">int BuffBigLong(const unsigned char *buffer)</div><div class="ttdoc">Extract a big endian 32bit int from the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00049">com_msg.c:49</a></div></div>
<div class="ttc" id="afs_8c_html_a29ecbaec88614ede09ab24394ba2d85a"><div class="ttname"><a href="fs_8c.html#a29ecbaec88614ede09ab24394ba2d85a">ZIP_CDIR_HEADER</a></div><div class="ttdeci">#define ZIP_CDIR_HEADER</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00203">fs.c:203</a></div></div>
<div class="ttc" id="afs_8c_html_aaa8d6ffba2404920e5222c72432c648a"><div class="ttname"><a href="fs_8c.html#aaa8d6ffba2404920e5222c72432c648a">ZIP_CDIR_CHUNK_BASE_SIZE</a></div><div class="ttdeci">#define ZIP_CDIR_CHUNK_BASE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00209">fs.c:209</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l00831">FS_LoadPackPK3FromFD()</a>.</p>

</div>
</div>
<a id="adc7a3cddbb7cb32d9e9299720d12b5f3" name="adc7a3cddbb7cb32d9e9299720d12b5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc7a3cddbb7cb32d9e9299720d12b5f3">&#9670;&#160;</a></span>PK3_CloseLibrary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> PK3_CloseLibrary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00561">561</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  562</span>{</div>
<div class="line"><span class="lineno">  563</span><span class="preprocessor">#ifndef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno">  564</span>    <a class="code hl_function" href="sys_8h.html#ae1bd207c941d95e0bd80aae8dab178f2">Sys_FreeLibrary</a> (&amp;<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a>);</div>
<div class="line"><span class="lineno">  565</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  566</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02347">FS_Shutdown()</a>.</p>

</div>
</div>
<a id="a07cb35f21d570f90bcb203daa557f404" name="a07cb35f21d570f90bcb203daa557f404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07cb35f21d570f90bcb203daa557f404">&#9670;&#160;</a></span>PK3_GetEndOfCentralDir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> PK3_GetEndOfCentralDir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>packfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a>&#160;</td>
          <td class="paramname"><em>packhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpk3__endOfCentralDir__t.html">pk3_endOfCentralDir_t</a> *&#160;</td>
          <td class="paramname"><em>eocd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00632">632</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  633</span>{</div>
<div class="line"><span class="lineno">  634</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> filesize, maxsize;</div>
<div class="line"><span class="lineno">  635</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, *ptr;</div>
<div class="line"><span class="lineno">  636</span>    <span class="keywordtype">int</span> ind;</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <span class="comment">// Get the package size</span></div>
<div class="line"><span class="lineno">  639</span>    filesize = <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_END</a>);</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordflow">if</span> (filesize &lt; <a class="code hl_define" href="fs_8c.html#adb7768a7aa52f368eb38ff07557db4f3">ZIP_END_CDIR_SIZE</a>)</div>
<div class="line"><span class="lineno">  641</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    <span class="comment">// Load the end of the file in memory</span></div>
<div class="line"><span class="lineno">  644</span>    <span class="keywordflow">if</span> (filesize &lt; <a class="code hl_define" href="fs_8c.html#a2469d72269baee21c5da08c7f3bd32fd">ZIP_MAX_COMMENTS_SIZE</a> + <a class="code hl_define" href="fs_8c.html#adb7768a7aa52f368eb38ff07557db4f3">ZIP_END_CDIR_SIZE</a>)</div>
<div class="line"><span class="lineno">  645</span>        maxsize = filesize;</div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  647</span>        maxsize = <a class="code hl_define" href="fs_8c.html#a2469d72269baee21c5da08c7f3bd32fd">ZIP_MAX_COMMENTS_SIZE</a> + <a class="code hl_define" href="fs_8c.html#adb7768a7aa52f368eb38ff07557db4f3">ZIP_END_CDIR_SIZE</a>;</div>
<div class="line"><span class="lineno">  648</span>    <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, maxsize);</div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, filesize - maxsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>);</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packhandle</a>, <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, maxsize) != (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>) maxsize)</div>
<div class="line"><span class="lineno">  651</span>    {</div>
<div class="line"><span class="lineno">  652</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno">  653</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  654</span>    }</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>    <span class="comment">// Look for the end of central dir signature around the end of the file</span></div>
<div class="line"><span class="lineno">  657</span>    maxsize -= <a class="code hl_define" href="fs_8c.html#adb7768a7aa52f368eb38ff07557db4f3">ZIP_END_CDIR_SIZE</a>;</div>
<div class="line"><span class="lineno">  658</span>    ptr = &amp;<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[maxsize];</div>
<div class="line"><span class="lineno">  659</span>    ind = 0;</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">while</span> (<a class="code hl_function" href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a> (ptr) != <a class="code hl_define" href="fs_8c.html#a8ae1dca705c451db34103130968c1a8c">ZIP_END_HEADER</a>)</div>
<div class="line"><span class="lineno">  661</span>    {</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">if</span> (ind == maxsize)</div>
<div class="line"><span class="lineno">  663</span>        {</div>
<div class="line"><span class="lineno">  664</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno">  665</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  666</span>        }</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>        ind++;</div>
<div class="line"><span class="lineno">  669</span>        ptr--;</div>
<div class="line"><span class="lineno">  670</span>    }</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>, ptr, <a class="code hl_define" href="fs_8c.html#adb7768a7aa52f368eb38ff07557db4f3">ZIP_END_CDIR_SIZE</a>);</div>
<div class="line"><span class="lineno">  673</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;signature = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;signature);</div>
<div class="line"><span class="lineno">  674</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;disknum = <a class="code hl_define" href="common_8h.html#a57da51d1adc687976e75633147d7c184">LittleShort</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;disknum);</div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_disknum = <a class="code hl_define" href="common_8h.html#a57da51d1adc687976e75633147d7c184">LittleShort</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_disknum);</div>
<div class="line"><span class="lineno">  676</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;localentries = <a class="code hl_define" href="common_8h.html#a57da51d1adc687976e75633147d7c184">LittleShort</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;localentries);</div>
<div class="line"><span class="lineno">  677</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;nbentries = <a class="code hl_define" href="common_8h.html#a57da51d1adc687976e75633147d7c184">LittleShort</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;nbentries);</div>
<div class="line"><span class="lineno">  678</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size);</div>
<div class="line"><span class="lineno">  679</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_offset = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_offset);</div>
<div class="line"><span class="lineno">  680</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;comment_size = <a class="code hl_define" href="common_8h.html#a57da51d1adc687976e75633147d7c184">LittleShort</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;comment_size);</div>
<div class="line"><span class="lineno">  681</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;prepended_garbage = filesize - (ind + <a class="code hl_define" href="fs_8c.html#adb7768a7aa52f368eb38ff07557db4f3">ZIP_END_CDIR_SIZE</a>) - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_offset - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size; <span class="comment">// this detects &quot;SFX&quot; zip files</span></div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_offset += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;prepended_garbage;</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  687</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size &gt; filesize ||</div>
<div class="line"><span class="lineno">  688</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_offset &gt;= filesize ||</div>
<div class="line"><span class="lineno">  689</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_offset + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">eocd</a>-&gt;cdir_size &gt; filesize</div>
<div class="line"><span class="lineno">  690</span>       )</div>
<div class="line"><span class="lineno">  691</span>    {</div>
<div class="line"><span class="lineno">  692</span>        <span class="comment">// Obviously invalid central directory.</span></div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  694</span>    }</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  697</span>}</div>
<div class="ttc" id="acommon_8h_html_a57da51d1adc687976e75633147d7c184"><div class="ttname"><a href="common_8h.html#a57da51d1adc687976e75633147d7c184">LittleShort</a></div><div class="ttdeci">#define LittleShort(l)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00090">common.h:90</a></div></div>
<div class="ttc" id="afs_8c_html_a2469d72269baee21c5da08c7f3bd32fd"><div class="ttname"><a href="fs_8c.html#a2469d72269baee21c5da08c7f3bd32fd">ZIP_MAX_COMMENTS_SIZE</a></div><div class="ttdeci">#define ZIP_MAX_COMMENTS_SIZE</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00207">fs.c:207</a></div></div>
<div class="ttc" id="afs_8c_html_a8ae1dca705c451db34103130968c1a8c"><div class="ttname"><a href="fs_8c.html#a8ae1dca705c451db34103130968c1a8c">ZIP_END_HEADER</a></div><div class="ttdeci">#define ZIP_END_HEADER</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00204">fs.c:204</a></div></div>
<div class="ttc" id="afs_8c_html_adb7768a7aa52f368eb38ff07557db4f3"><div class="ttname"><a href="fs_8c.html#adb7768a7aa52f368eb38ff07557db4f3">ZIP_END_CDIR_SIZE</a></div><div class="ttdeci">#define ZIP_END_CDIR_SIZE</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00208">fs.c:208</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l00831">FS_LoadPackPK3FromFD()</a>.</p>

</div>
</div>
<a id="a3986d12d38ecedd93c955be575bef34d" name="a3986d12d38ecedd93c955be575bef34d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3986d12d38ecedd93c955be575bef34d">&#9670;&#160;</a></span>PK3_GetTrueFileOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> PK3_GetTrueFileOffset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpackfile__t.html">packfile_t</a> *&#160;</td>
          <td class="paramname"><em>pfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpack__t.html">pack_t</a> *&#160;</td>
          <td class="paramname"><em>pack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00903">903</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  904</span>{</div>
<div class="line"><span class="lineno">  905</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a> [<a class="code hl_define" href="fs_8c.html#aa0fd83a986fce7ea932b998763ecd484">ZIP_LOCAL_CHUNK_BASE_SIZE</a>];</div>
<div class="line"><span class="lineno">  906</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>    <span class="comment">// Already found?</span></div>
<div class="line"><span class="lineno">  909</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;flags &amp; <a class="code hl_define" href="fs_8c.html#afd935c9decbb58dd5a3423927347bec9">PACKFILE_FLAG_TRUEOFFS</a>)</div>
<div class="line"><span class="lineno">  910</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>    <span class="comment">// Load the local file description</span></div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="fs_8c.html#ad449c345b747297192b11c6cd4695f3c">FILEDESC_SEEK</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;offset, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>) == -1)</div>
<div class="line"><span class="lineno">  914</span>    {</div>
<div class="line"><span class="lineno">  915</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;Can&#39;t seek in package %s\n&quot;</span>, pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>);</div>
<div class="line"><span class="lineno">  916</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  917</span>    }</div>
<div class="line"><span class="lineno">  918</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a> (pack-&gt;<a class="code hl_variable" href="structpack__t.html#a1046b3bd9f236af95f432a3a5ac985ae">handle</a>, <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="code hl_define" href="fs_8c.html#aa0fd83a986fce7ea932b998763ecd484">ZIP_LOCAL_CHUNK_BASE_SIZE</a>);</div>
<div class="line"><span class="lineno">  919</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> != <a class="code hl_define" href="fs_8c.html#aa0fd83a986fce7ea932b998763ecd484">ZIP_LOCAL_CHUNK_BASE_SIZE</a> || <a class="code hl_function" href="com__msg_8c.html#acd30e83205c1a8193744237c44ad0f01">BuffBigLong</a> (<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>) != <a class="code hl_define" href="fs_8c.html#a289b3bed51e99226d0a796daf7979e48">ZIP_DATA_HEADER</a>)</div>
<div class="line"><span class="lineno">  920</span>    {</div>
<div class="line"><span class="lineno">  921</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;Can&#39;t retrieve file %s in package %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;name, pack-&gt;<a class="code hl_variable" href="structpack__t.html#a76b35abdfd8ae20f73c1e0609d82629c">filename</a>);</div>
<div class="line"><span class="lineno">  922</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  923</span>    }</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>    <span class="comment">// Skip name and extra field</span></div>
<div class="line"><span class="lineno">  926</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;offset += <a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[26]) + <a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[28]) + <a class="code hl_define" href="fs_8c.html#aa0fd83a986fce7ea932b998763ecd484">ZIP_LOCAL_CHUNK_BASE_SIZE</a>;</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pfile</a>-&gt;flags |= <a class="code hl_define" href="fs_8c.html#afd935c9decbb58dd5a3423927347bec9">PACKFILE_FLAG_TRUEOFFS</a>;</div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  930</span>}</div>
<div class="ttc" id="afs_8c_html_a289b3bed51e99226d0a796daf7979e48"><div class="ttname"><a href="fs_8c.html#a289b3bed51e99226d0a796daf7979e48">ZIP_DATA_HEADER</a></div><div class="ttdeci">#define ZIP_DATA_HEADER</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00202">fs.c:202</a></div></div>
<div class="ttc" id="afs_8c_html_aa0fd83a986fce7ea932b998763ecd484"><div class="ttname"><a href="fs_8c.html#aa0fd83a986fce7ea932b998763ecd484">ZIP_LOCAL_CHUNK_BASE_SIZE</a></div><div class="ttdeci">#define ZIP_LOCAL_CHUNK_BASE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00210">fs.c:210</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02503">FS_OpenPackedFile()</a>.</p>

</div>
</div>
<a id="a88402d87eb304d652f6d3edd1dbb62bc" name="a88402d87eb304d652f6d3edd1dbb62bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88402d87eb304d652f6d3edd1dbb62bc">&#9670;&#160;</a></span>PK3_OpenLibrary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> PK3_OpenLibrary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00576">576</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  577</span>{</div>
<div class="line"><span class="lineno">  578</span><span class="preprocessor">#ifdef LINK_TO_ZLIB</span></div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  580</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  581</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dllnames</a> [] =</div>
<div class="line"><span class="lineno">  582</span>    {</div>
<div class="line"><span class="lineno">  583</span><span class="preprocessor">#if defined(WIN32)</span></div>
<div class="line"><span class="lineno">  584</span><span class="preprocessor"># ifdef ZLIB_USES_WINAPI</span></div>
<div class="line"><span class="lineno">  585</span>        <span class="stringliteral">&quot;zlibwapi.dll&quot;</span>,</div>
<div class="line"><span class="lineno">  586</span>        <span class="stringliteral">&quot;zlib.dll&quot;</span>,</div>
<div class="line"><span class="lineno">  587</span><span class="preprocessor"># else</span></div>
<div class="line"><span class="lineno">  588</span>        <span class="stringliteral">&quot;zlib1.dll&quot;</span>,</div>
<div class="line"><span class="lineno">  589</span><span class="preprocessor"># endif</span></div>
<div class="line"><span class="lineno">  590</span><span class="preprocessor">#elif defined(MACOSX)</span></div>
<div class="line"><span class="lineno">  591</span>        <span class="stringliteral">&quot;libz.dylib&quot;</span>,</div>
<div class="line"><span class="lineno">  592</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  593</span>        <span class="stringliteral">&quot;libz.so.1&quot;</span>,</div>
<div class="line"><span class="lineno">  594</span>        <span class="stringliteral">&quot;libz.so&quot;</span>,</div>
<div class="line"><span class="lineno">  595</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  596</span>        <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><span class="lineno">  597</span>    };</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <span class="comment">// Already loaded?</span></div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a>)</div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    <span class="comment">// Load the DLL</span></div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="sys_8h.html#a7d5fb719236d753c6487958a306b51c6">Sys_LoadDependency</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dllnames</a>, &amp;<a class="code hl_variable" href="fs_8c.html#a6293ae0302d8c803fa5100fc55f4f071">zlib_dll</a>, <a class="code hl_variable" href="fs_8c.html#a08e3a86a5cdbff138cbb5aa107dc9b25">zlibfuncs</a>);</div>
<div class="line"><span class="lineno">  605</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  606</span>}</div>
<div class="ttc" id="afs_8c_html_a08e3a86a5cdbff138cbb5aa107dc9b25"><div class="ttname"><a href="fs_8c.html#a08e3a86a5cdbff138cbb5aa107dc9b25">zlibfuncs</a></div><div class="ttdeci">static dllfunction_t zlibfuncs[]</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l00489">fs.c:489</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l00615">FS_HasZlib()</a>, and <a class="el" href="fs_8c_source.html#l02325">FS_Init()</a>.</p>

</div>
</div>
<a id="a2d3a9eaf976b6873017edf26a4e7d565" name="a2d3a9eaf976b6873017edf26a4e7d565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d3a9eaf976b6873017edf26a4e7d565">&#9670;&#160;</a></span>ReadAll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> ReadAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00129">129</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  130</span>{</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordtype">char</span> *<span class="keyword">const</span> p = (<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a> = 0;</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  134</span>    {</div>
<div class="line"><span class="lineno">  135</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> result = <a class="code hl_define" href="fs_8c.html#a5be675f7c96c5b5b6af64d38f328f3f3">FILEDESC_READ</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>, p + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a>);</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">if</span> (result &lt; 0) <span class="comment">// Error</span></div>
<div class="line"><span class="lineno">  137</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">if</span> (result == 0) <span class="comment">// EOF</span></div>
<div class="line"><span class="lineno">  139</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  140</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a> += result;</div>
<div class="line"><span class="lineno">  141</span>    } <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a>;</div>
<div class="line"><span class="lineno">  143</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa46ef8c7487dca2b2fef9ebd80644f14" name="aa46ef8c7487dca2b2fef9ebd80644f14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46ef8c7487dca2b2fef9ebd80644f14">&#9670;&#160;</a></span>WriteAll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> WriteAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8c.html#a60e7a7f32fe55e92536a777b17e7203e">filedesc_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a>&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00153">153</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>{</div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> p = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a> = 0;</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  158</span>    {</div>
<div class="line"><span class="lineno">  159</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> result = <a class="code hl_define" href="fs_8c.html#a27e1e1b02dbbe51f51576d46c8a4ba8d">FILEDESC_WRITE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fd</a>, p + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a>);</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">if</span> (result &lt; 0) <span class="comment">// Error</span></div>
<div class="line"><span class="lineno">  161</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  162</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a> += result;</div>
<div class="line"><span class="lineno">  163</span>    } <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>);</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cursor</a>;</div>
<div class="line"><span class="lineno">  165</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af3cd1a17fe286da8d797e4706db935b2" name="af3cd1a17fe286da8d797e4706db935b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3cd1a17fe286da8d797e4706db935b2">&#9670;&#160;</a></span>con_linewidth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> con_linewidth</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="console_8c_source.html#l00098">98</a> of file <a class="el" href="console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l03953">FS_ListDirectory()</a>.</p>

</div>
</div>
<a id="a96cafb428e3f2059aa9fb50cd1cad67b" name="a96cafb428e3f2059aa9fb50cd1cad67b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96cafb428e3f2059aa9fb50cd1cad67b">&#9670;&#160;</a></span>cvar_fs_gamedir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> cvar_fs_gamedir = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="el" href="cmd_8h.html#a1ceb1009a0782737c801ddd240583952">CF_READONLY</a> | <a class="el" href="cmd_8h.html#a29504783a1fb4f2c374f28ad239455f2">CF_PERSISTENT</a>, &quot;fs_gamedir&quot;, &quot;&quot;, &quot;the list <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currently</a> selected gamedirs (use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> 'gamedir' <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">command</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">change</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00453">453</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  453</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#a1ceb1009a0782737c801ddd240583952">CF_READONLY</a> | <a class="code hl_define" href="cmd_8h.html#a29504783a1fb4f2c374f28ad239455f2">CF_PERSISTENT</a>, <span class="stringliteral">&quot;fs_gamedir&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;the list of currently selected gamedirs (use the &#39;gamedir&#39; command to change this)&quot;</span>};</div>
<div class="ttc" id="acmd_8h_html_a1ceb1009a0782737c801ddd240583952"><div class="ttname"><a href="cmd_8h.html#a1ceb1009a0782737c801ddd240583952">CF_READONLY</a></div><div class="ttdeci">#define CF_READONLY</div><div class="ttdoc">cvar cannot be changed from the console or the command buffer, and is considered CF_PERSISTENT</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00054">cmd.h:54</a></div></div>
<div class="ttc" id="acmd_8h_html_a29504783a1fb4f2c374f28ad239455f2"><div class="ttname"><a href="cmd_8h.html#a29504783a1fb4f2c374f28ad239455f2">CF_PERSISTENT</a></div><div class="ttdeci">#define CF_PERSISTENT</div><div class="ttdoc">cvar must not be reset on gametype switch (such as scr_screenshot_name, which otherwise isn't set to ...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00058">cmd.h:58</a></div></div>
<div class="ttc" id="acmd_8h_html_aadf0879ce7511e76eeea9da766b31c6b"><div class="ttname"><a href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a></div><div class="ttdeci">#define CF_SERVER</div><div class="ttdoc">cvar/command that only the server can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00049">cmd.h:49</a></div></div>
<div class="ttc" id="acmd_8h_html_abba64dce6a45541317c5508aa83436e5"><div class="ttname"><a href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a></div><div class="ttdeci">#define CF_CLIENT</div><div class="ttdoc">cvar/command that only the client can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00048">cmd.h:48</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>, and <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>.</p>

</div>
</div>
<a id="a9424aa81f06ef1acd3be2be644eda54a" name="a9424aa81f06ef1acd3be2be644eda54a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9424aa81f06ef1acd3be2be644eda54a">&#9670;&#160;</a></span>flush</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> flush</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00472">472</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a1273a0774bd79c98e6a9d707e363142e" name="a1273a0774bd79c98e6a9d707e363142e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1273a0774bd79c98e6a9d707e363142e">&#9670;&#160;</a></span>fs_all_gamedirs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgamedir__t.html">gamedir_t</a>* fs_all_gamedirs = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00447">447</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01836">FS_ListGameDirs()</a>, and <a class="el" href="mvm__cmds_8c_source.html#l00210">VM_M_getgamedirinfo()</a>.</p>

</div>
</div>
<a id="ad9bba4c2e6cdbfcaea842f33320e6467" name="ad9bba4c2e6cdbfcaea842f33320e6467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9bba4c2e6cdbfcaea842f33320e6467">&#9670;&#160;</a></span>fs_all_gamedirs_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> fs_all_gamedirs_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00448">448</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01836">FS_ListGameDirs()</a>, and <a class="el" href="mvm__cmds_8c_source.html#l00210">VM_M_getgamedirinfo()</a>.</p>

</div>
</div>
<a id="ad14136292432bbbe329d4ab28ea04b37" name="ad14136292432bbbe329d4ab28ea04b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad14136292432bbbe329d4ab28ea04b37">&#9670;&#160;</a></span>fs_basedir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> fs_basedir[<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00439">439</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="fs_8c_source.html#l01396">FS_AddGameHierarchy()</a>, <a class="el" href="fs_8c_source.html#l01662">FS_ChangeGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01806">FS_CheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l01928">FS_ChooseUserDir()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l01836">FS_ListGameDirs()</a>, <a class="el" href="host_8c_source.html#l00323">Host_LockSession()</a>, and <a class="el" href="menu_8c_source.html#l04531">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="acb0173e463d50a2da05a01efcb48670b" name="acb0173e463d50a2da05a01efcb48670b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb0173e463d50a2da05a01efcb48670b">&#9670;&#160;</a></span>fs_checkgamedir_missing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>* <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> fs_checkgamedir_missing = &quot;missing&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00433">433</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01662">FS_ChangeGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01806">FS_CheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l01836">FS_ListGameDirs()</a>, and <a class="el" href="menu_8c_source.html#l04531">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="ad3dada3504d3aa866f170ac2874ef4b9" name="ad3dada3504d3aa866f170ac2874ef4b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3dada3504d3aa866f170ac2874ef4b9">&#9670;&#160;</a></span>fs_empty_files_in_pack_mark_deletions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> fs_empty_files_in_pack_mark_deletions = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;fs_empty_files_in_pack_mark_deletions&quot;, &quot;0&quot;, &quot;if <a class="el" href="cd__shared_8c.html#ac51aa3f549acb5c30ba825c266472f50">enabled</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">empty</a> files in <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pk3</a> <a class="el" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">existing</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">but</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cancel</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">further</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">packs</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">effectively</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allowing</a> patch <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pk3</a> files to '<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">delete</a>' <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">files&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00451">451</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  451</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;fs_empty_files_in_pack_mark_deletions&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;if enabled, empty files in a pak/pk3 count as not existing but cancel the search in further packs, effectively allowing patch pak/pk3 files to &#39;delete&#39; files&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02675">FS_FindFile()</a>, and <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>.</p>

</div>
</div>
<a id="a0a0d4940920cae5cd03989225834c4bb" name="a0a0d4940920cae5cd03989225834c4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0d4940920cae5cd03989225834c4bb">&#9670;&#160;</a></span>fs_gamedir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> fs_gamedir[<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Files will be saved in this gamedir. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00438">438</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01348">FS_AddGameDirectory()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l02886">FS_OpenRealFile()</a>, <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>, and <a class="el" href="cl__screen_8c_source.html#l00906">SCR_ScreenShot_f()</a>.</p>

</div>
</div>
<a id="a1ae37afe19022713da1c41aaf8e74b8a" name="a1ae37afe19022713da1c41aaf8e74b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ae37afe19022713da1c41aaf8e74b8a">&#9670;&#160;</a></span>fs_gamedirs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> fs_gamedirs[<a class="el" href="fs_8h.html#a28d7415b6e8333c22d3d5d842543669d">MAX_GAMEDIRS</a>][<a class="el" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00444">444</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="com__game_8c_source.html#l00119">COM_ChangeGameTypeForGameDirs()</a>, <a class="el" href="com__game_8c_source.html#l00162">COM_SetGameType()</a>, <a class="el" href="fs_8c_source.html#l01662">FS_ChangeGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01730">FS_GameDir_f()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>, <a class="el" href="menu_8c_source.html#l04574">ModList_Enable()</a>, and <a class="el" href="menu_8c_source.html#l04531">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="acaa25479f01cbf5214475a82a0e44cb9" name="acaa25479f01cbf5214475a82a0e44cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaa25479f01cbf5214475a82a0e44cb9">&#9670;&#160;</a></span>fs_mempool</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmempool__t.html">mempool_t</a>* fs_mempool</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00429">429</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01893">COM_InsertFlags()</a>, <a class="el" href="fs_8c_source.html#l01348">FS_AddGameDirectory()</a>, <a class="el" href="fs_8c_source.html#l01202">FS_AddPack_Fullpath()</a>, <a class="el" href="fs_8c_source.html#l01528">FS_AddSelfPack()</a>, <a class="el" href="fs_8c_source.html#l02936">FS_FileFromData()</a>, <a class="el" href="fs_8c_source.html#l02325">FS_Init()</a>, <a class="el" href="fs_8c_source.html#l01836">FS_ListGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01089">FS_LoadPackPAK()</a>, <a class="el" href="fs_8c_source.html#l00831">FS_LoadPackPK3FromFD()</a>, <a class="el" href="fs_8c_source.html#l01173">FS_LoadPackVirtual()</a>, <a class="el" href="fs_8c_source.html#l02503">FS_OpenPackedFile()</a>, <a class="el" href="fs_8c_source.html#l02347">FS_Shutdown()</a>, and <a class="el" href="fs_8c_source.html#l02469">FS_SysOpen()</a>.</p>

</div>
</div>
<a id="aac2514245460033b5ce54558ee2fe4a4" name="aac2514245460033b5ce54558ee2fe4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac2514245460033b5ce54558ee2fe4a4">&#9670;&#160;</a></span>fs_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>* fs_mutex = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00430">430</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l02913">FS_OpenVirtualFile()</a>, and <a class="el" href="fs_8c_source.html#l02347">FS_Shutdown()</a>.</p>

</div>
</div>
<a id="adda51408d01fe25b934e4fd7b21a9698" name="adda51408d01fe25b934e4fd7b21a9698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda51408d01fe25b934e4fd7b21a9698">&#9670;&#160;</a></span>fs_numgamedirs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> fs_numgamedirs = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00443">443</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="com__game_8c_source.html#l00119">COM_ChangeGameTypeForGameDirs()</a>, <a class="el" href="com__game_8c_source.html#l00162">COM_SetGameType()</a>, <a class="el" href="fs_8c_source.html#l01662">FS_ChangeGameDirs()</a>, <a class="el" href="fs_8c_source.html#l01730">FS_GameDir_f()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>, <a class="el" href="menu_8c_source.html#l04574">ModList_Enable()</a>, and <a class="el" href="menu_8c_source.html#l04531">ModList_RebuildList()</a>.</p>

</div>
</div>
<a id="a708b7c81b06465508d84fee7e40aa257" name="a708b7c81b06465508d84fee7e40aa257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a708b7c81b06465508d84fee7e40aa257">&#9670;&#160;</a></span>fs_searchpaths</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsearchpath__t.html">searchpath_t</a>* fs_searchpaths = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00432">432</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01348">FS_AddGameDirectory()</a>, <a class="el" href="fs_8c_source.html#l01202">FS_AddPack_Fullpath()</a>, <a class="el" href="fs_8c_source.html#l01528">FS_AddSelfPack()</a>, <a class="el" href="fs_8c_source.html#l01460">FS_ClearSearchPath()</a>, <a class="el" href="fs_8c_source.html#l02675">FS_FindFile()</a>, <a class="el" href="fs_8c_source.html#l04096">FS_IsRegisteredQuakePack()</a>, <a class="el" href="fs_8c_source.html#l01060">FS_Path_f()</a>, <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>, <a class="el" href="fs_8c_source.html#l03740">FS_Search()</a>, and <a class="el" href="fs_8c_source.html#l01494">FS_UnloadPacks_dlcache()</a>.</p>

</div>
</div>
<a id="ac5556a951783a7a5154a770f880b27ef" name="ac5556a951783a7a5154a770f880b27ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5556a951783a7a5154a770f880b27ef">&#9670;&#160;</a></span>fs_selfpack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpack__t.html">pack_t</a>* fs_selfpack = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00440">440</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l01528">FS_AddSelfPack()</a>, <a class="el" href="fs_8c_source.html#l01460">FS_ClearSearchPath()</a>, and <a class="el" href="fs_8c_source.html#l02282">FS_Init_SelfPack()</a>.</p>

</div>
</div>
<a id="ac14f7e0927785f091bb31a880847c29d" name="ac14f7e0927785f091bb31a880847c29d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac14f7e0927785f091bb31a880847c29d">&#9670;&#160;</a></span>fs_unload_dlcache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> fs_unload_dlcache = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;fs_unload_dlcache&quot;, &quot;1&quot;, &quot;if <a class="el" href="cd__shared_8c.html#ac51aa3f549acb5c30ba825c266472f50">enabled</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unload</a> dlcache's loaded <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pak</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pk3</a> files <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">changing</a> server <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">or</a> map <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">WARNING:</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">disabling</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unloading</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">can</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cause</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">servers</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">override</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">assets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> other <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">servers</a>, \&quot;<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memory</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaking\&quot;</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> dlcache <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">assets</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">never</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unloading</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">more</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">issues&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00452">452</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  452</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;fs_unload_dlcache&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;if enabled, unload dlcache&#39;s loaded pak/pk3 files when changing server and/or map WARNING: disabling unloading can cause servers to override assets of other servers, \&quot;memory leaking\&quot; by dlcache assets never unloading and many more issues&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>, and <a class="el" href="fs_8c_source.html#l01494">FS_UnloadPacks_dlcache()</a>.</p>

</div>
</div>
<a id="afffc20194b866aa9ea07bed3f2c5a30d" name="afffc20194b866aa9ea07bed3f2c5a30d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afffc20194b866aa9ea07bed3f2c5a30d">&#9670;&#160;</a></span>fs_userdir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> fs_userdir[<a class="el" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00437">437</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="crypto_8c_source.html#l01217">Crypto_KeyGen_f()</a>, <a class="el" href="crypto_8c_source.html#l01105">Crypto_KeyGen_Finished()</a>, <a class="el" href="crypto_8c_source.html#l00388">Crypto_LoadFile()</a>, <a class="el" href="crypto_8c_source.html#l00814">Crypto_SavePubKeyTextFile()</a>, <a class="el" href="fs_8c_source.html#l01396">FS_AddGameHierarchy()</a>, <a class="el" href="fs_8c_source.html#l01806">FS_CheckGameDir()</a>, <a class="el" href="fs_8c_source.html#l02114">FS_Init_Dir()</a>, <a class="el" href="fs_8c_source.html#l01836">FS_ListGameDirs()</a>, and <a class="el" href="host_8c_source.html#l00323">Host_LockSession()</a>.</p>

</div>
</div>
<a id="aac6e8d3b3465804e2be1198b2a2a3143" name="aac6e8d3b3465804e2be1198b2a2a3143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6e8d3b3465804e2be1198b2a2a3143">&#9670;&#160;</a></span>level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#a1df7fac5bc539d8661f0690e59a3c1b8">GLint</a> level</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00476">476</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l04162">FS_Deflate()</a>, and <a class="el" href="cl__video__libavw_8c_source.html#l00346">libavw_message()</a>.</p>

</div>
</div>
<a id="a7b51a06a8ddfc23fd4014e391ed442b7" name="a7b51a06a8ddfc23fd4014e391ed442b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b51a06a8ddfc23fd4014e391ed442b7">&#9670;&#160;</a></span>memLevel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> memLevel</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00476">476</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a105ad7c8a41c68d0fd76c4240ad2f974" name="a105ad7c8a41c68d0fd76c4240ad2f974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a105ad7c8a41c68d0fd76c4240ad2f974">&#9670;&#160;</a></span>method</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> method</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00476">476</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aebd7e09884a0b610f5ade286f7702166" name="aebd7e09884a0b610f5ade286f7702166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd7e09884a0b610f5ade286f7702166">&#9670;&#160;</a></span>scr_screenshot_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> scr_screenshot_name = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#a29504783a1fb4f2c374f28ad239455f2">CF_PERSISTENT</a>, &quot;scr_screenshot_name&quot;,&quot;dp&quot;, &quot;prefix <a class="el" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">saved</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">screenshots</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">changes</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">based</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> -<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">commandline</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">well</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">which</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">game</a> <a class="el" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">running</a>; <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">date</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">encoded</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strftime</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">escapes</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00450">450</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  450</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#a29504783a1fb4f2c374f28ad239455f2">CF_PERSISTENT</a>, <span class="stringliteral">&quot;scr_screenshot_name&quot;</span>,<span class="stringliteral">&quot;dp&quot;</span>, <span class="stringliteral">&quot;prefix name for saved screenshots (changes based on -game commandline, as well as which game mode is running; the date is encoded using strftime escapes)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l02099">FS_Init_Commands()</a>, <a class="el" href="fs_8c_source.html#l01546">FS_Rescan()</a>, and <a class="el" href="cl__screen_8c_source.html#l00906">SCR_ScreenShot_f()</a>.</p>

</div>
</div>
<a id="aeacc51c972da9df48c2ed42427999ad4" name="aeacc51c972da9df48c2ed42427999ad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeacc51c972da9df48c2ed42427999ad4">&#9670;&#160;</a></span>strategy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> strategy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00476">476</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="aa03ef5da0b3c23d3266823add5507b2d" name="aa03ef5da0b3c23d3266823add5507b2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03ef5da0b3c23d3266823add5507b2d">&#9670;&#160;</a></span>stream_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> stream_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00474">474</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a93793de2dc55e58d203e4c24b4038be6" name="a93793de2dc55e58d203e4c24b4038be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93793de2dc55e58d203e4c24b4038be6">&#9670;&#160;</a></span>version</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * version</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00474">474</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__alias_8c_source.html#l00972">Mod_IDP0_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01324">Mod_IDP2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01578">Mod_IDP3_Load()</a>, <a class="el" href="model__sprite_8c_source.html#l00382">Mod_IDS2_Load()</a>, <a class="el" href="model__sprite_8c_source.html#l00266">Mod_IDSP_Load()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__sprite_8c_source.html#l00091">Mod_Sprite_SharedSetup()</a>, <a class="el" href="protocol_8c_source.html#l00077">Protocol_NameForEnum()</a>, <a class="el" href="protocol_8c_source.html#l00095">Protocol_NumberForEnum()</a>, <a class="el" href="sv__save_8c_source.html#l00245">SV_Loadgame_f()</a>, <a class="el" href="sv__send_8c_source.html#l00394">SV_PrepareEntityForSending()</a>, and <a class="el" href="vid__sdl_8c_source.html#l01502">VID_Init()</a>.</p>

</div>
</div>
<a id="a1cffd3fe0d4f339cbc89948a2c405984" name="a1cffd3fe0d4f339cbc89948a2c405984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cffd3fe0d4f339cbc89948a2c405984">&#9670;&#160;</a></span>vid_opened</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> vid_opened</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cl__main_8c_source.html#l02787">2787</a> of file <a class="el" href="cl__main_8c_source.html">cl_main.c</a>.</p>

</div>
</div>
<a id="a9ecfa46241fc420acdff8d6cd1f751fb" name="a9ecfa46241fc420acdff8d6cd1f751fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ecfa46241fc420acdff8d6cd1f751fb">&#9670;&#160;</a></span>windowBits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> windowBits</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00474">474</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

</div>
</div>
<a id="a6293ae0302d8c803fa5100fc55f4f071" name="a6293ae0302d8c803fa5100fc55f4f071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6293ae0302d8c803fa5100fc55f4f071">&#9670;&#160;</a></span>zlib_dll</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sys_8h.html#a6adb43a47c235f59ea1333f385eef73d">dllhandle_t</a> zlib_dll = <a class="el" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle for Zlib DLL. </p>

<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00502">502</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l04162">FS_Deflate()</a>, <a class="el" href="fs_8c_source.html#l00615">FS_HasZlib()</a>, <a class="el" href="fs_8c_source.html#l04257">FS_Inflate()</a>, <a class="el" href="fs_8c_source.html#l02503">FS_OpenPackedFile()</a>, <a class="el" href="fs_8c_source.html#l00561">PK3_CloseLibrary()</a>, and <a class="el" href="fs_8c_source.html#l00576">PK3_OpenLibrary()</a>.</p>

</div>
</div>
<a id="a08e3a86a5cdbff138cbb5aa107dc9b25" name="a08e3a86a5cdbff138cbb5aa107dc9b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e3a86a5cdbff138cbb5aa107dc9b25">&#9670;&#160;</a></span>zlibfuncs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdllfunction__t.html">dllfunction_t</a> zlibfuncs[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    {<span class="stringliteral">&quot;inflate&quot;</span>,         (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;inflateEnd&quot;</span>,      (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateEnd</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;inflateInit2_&quot;</span>,   (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateInit2_</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;inflateReset&quot;</span>,    (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateReset</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;deflateInit2_&quot;</span>,   (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateInit2_</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;deflateEnd&quot;</span>,      (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateEnd</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;deflate&quot;</span>,         (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflate</a>},</div>
<div class="line">    {<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="fs_8c_source.html#l00489">489</a> of file <a class="el" href="fs_8c_source.html">fs.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  490</span>{</div>
<div class="line"><span class="lineno">  491</span>    {<span class="stringliteral">&quot;inflate&quot;</span>,         (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflate</a>},</div>
<div class="line"><span class="lineno">  492</span>    {<span class="stringliteral">&quot;inflateEnd&quot;</span>,      (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateEnd</a>},</div>
<div class="line"><span class="lineno">  493</span>    {<span class="stringliteral">&quot;inflateInit2_&quot;</span>,   (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateInit2_</a>},</div>
<div class="line"><span class="lineno">  494</span>    {<span class="stringliteral">&quot;inflateReset&quot;</span>,    (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_inflateReset</a>},</div>
<div class="line"><span class="lineno">  495</span>    {<span class="stringliteral">&quot;deflateInit2_&quot;</span>,   (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateInit2_</a>},</div>
<div class="line"><span class="lineno">  496</span>    {<span class="stringliteral">&quot;deflateEnd&quot;</span>,      (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflateEnd</a>},</div>
<div class="line"><span class="lineno">  497</span>    {<span class="stringliteral">&quot;deflate&quot;</span>,         (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qz_deflate</a>},</div>
<div class="line"><span class="lineno">  498</span>    {<a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}</div>
<div class="line"><span class="lineno">  499</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="fs_8c_source.html#l00576">PK3_OpenLibrary()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="fs_8c.html">fs.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
