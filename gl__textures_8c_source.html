<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: gl_textures.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gl__textures_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">gl_textures.c</div></div>
</div><!--header-->
<div class="contents">
<a href="gl__textures_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">Copyright (C) 2000-2020 DarkPlaces contributors</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"></span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">This program is free software; you can redistribute it and/or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">modify it under the terms of the GNU General Public License</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">as published by the Free Software Foundation; either version 2</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">of the License, or (at your option) any later version.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"></span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"></span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">See the GNU General Public License for more details.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"></span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">along with this program; if not, write to the Free Software</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment"></span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">*/</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="quakedef_8h.html">quakedef.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="image_8h.html">image.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="jpeg_8h.html">jpeg.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="image__png_8h.html">image_png.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a3132bc97c879c8ace9ee25dade438226">   27</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a3132bc97c879c8ace9ee25dade438226">gl_max_size</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_max_size&quot;</span>, <span class="stringliteral">&quot;2048&quot;</span>, <span class="stringliteral">&quot;maximum allowed texture size, can be used to reduce video memory usage, limited by hardware capabilities (typically 2048, 4096, or 8192)&quot;</span>};</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ada114ab9ac14d4164089d1652a502f2c">   28</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_max_lightmapsize&quot;</span>, <span class="stringliteral">&quot;512&quot;</span>, <span class="stringliteral">&quot;maximum allowed texture size for lightmap textures, use larger values to improve rendering speed, as long as there is enough video memory available (setting it too high for the hardware will cause very bad performance)&quot;</span>};</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="gl__rmain_8c.html#a5ec933a4d1f7165da22ff1ad39c99351">   29</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a5ec933a4d1f7165da22ff1ad39c99351">gl_picmip</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_picmip&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;reduces resolution of textures by powers of 2, for example 1 will halve width/height, reducing texture memory usage by 75%&quot;</span>};</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a7369c39fb00026cf182f3b9dd7733fab">   30</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a7369c39fb00026cf182f3b9dd7733fab">gl_picmip_world</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_picmip_world&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;extra picmip level for world textures (may be negative, which will then reduce gl_picmip for these)&quot;</span>};</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a32cfa077828d4e287df1b35b6af9c11a">   31</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a32cfa077828d4e287df1b35b6af9c11a">r_picmipworld</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_picmipworld&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;whether gl_picmip shall apply to world textures too (setting this to 0 is a shorthand for gl_picmip_world -9999999)&quot;</span>};</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a51c73613de733cdfc9ec2aedc8e6bb12">   32</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a51c73613de733cdfc9ec2aedc8e6bb12">gl_picmip_sprites</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_picmip_sprites&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;extra picmip level for sprite textures (may be negative, which will then reduce gl_picmip for these)&quot;</span>};</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ad6bba9e331bb3be98910371db696164c">   33</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#ad6bba9e331bb3be98910371db696164c">r_picmipsprites</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_picmipsprites&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;make gl_picmip affect sprites too (saves some graphics memory in sprite heavy games) (setting this to 0 is a shorthand for gl_picmip_sprites -9999999)&quot;</span>};</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a909440b2c1a9c2ddf2cdae522f02b258">   34</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a909440b2c1a9c2ddf2cdae522f02b258">gl_picmip_other</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_picmip_other&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;extra picmip level for other textures (may be negative, which will then reduce gl_picmip for these)&quot;</span>};</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#af665d40d132ff6714f9404c51c01eee4">   35</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#af665d40d132ff6714f9404c51c01eee4">r_lerpimages</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_lerpimages&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;bilinear filters images when scaling them up to power of 2 size (mode 1), looks better than glquake (mode 0)&quot;</span>};</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">   36</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texture_anisotropy&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;anisotropic filtering quality (if supported by hardware), 1 sample (no anisotropy) and 8 sample (8 tap anisotropy) are recommended values&quot;</span>};</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a2ce62af3cf57b4b23d8010843814c594">   37</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a2ce62af3cf57b4b23d8010843814c594">gl_texturecompression</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;whether to compress textures, a value of 0 disables compression (even if the individual cvars are 1), 1 enables fast (low quality) compression at startup, 2 enables slow (high quality) compression at startup&quot;</span>};</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a797912ffb0cb154ee02b0c8b8fdfbe99">   38</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a797912ffb0cb154ee02b0c8b8fdfbe99">gl_texturecompression_color</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_color&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;whether to compress colormap (diffuse) textures&quot;</span>};</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#afe9eb4b07bd325ff520effdb8bec9a14">   39</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#afe9eb4b07bd325ff520effdb8bec9a14">gl_texturecompression_normal</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_normal&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;whether to compress normalmap (normalmap) textures&quot;</span>};</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ae2ea4ac46847560b1a3a64b71076483c">   40</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#ae2ea4ac46847560b1a3a64b71076483c">gl_texturecompression_gloss</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_gloss&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;whether to compress glossmap (specular) textures&quot;</span>};</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aa75cf786b4c52ea69ad05666e032c6ff">   41</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#aa75cf786b4c52ea69ad05666e032c6ff">gl_texturecompression_glow</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_glow&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;whether to compress glowmap (luma) textures&quot;</span>};</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ac31280d743c57f22a9b4eef367bddc0b">   42</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#ac31280d743c57f22a9b4eef367bddc0b">gl_texturecompression_2d</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_2d&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;whether to compress 2d (hud/menu) textures other than the font&quot;</span>};</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a117555a3ab42975f16c7396c743bd2e9">   43</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a117555a3ab42975f16c7396c743bd2e9">gl_texturecompression_q3bsplightmaps</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_q3bsplightmaps&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;whether to compress lightmaps in q3bsp format levels&quot;</span>};</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ad983d911021d66737868a5a177cf7943">   44</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#ad983d911021d66737868a5a177cf7943">gl_texturecompression_q3bspdeluxemaps</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_q3bspdeluxemaps&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;whether to compress deluxemaps in q3bsp format levels (only levels compiled with q3map2 -deluxe have these)&quot;</span>};</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a521999ba28df624fef49f84217af6fad">   45</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a521999ba28df624fef49f84217af6fad">gl_texturecompression_sky</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_sky&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;whether to compress sky textures&quot;</span>};</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a2717e6e3391061506800c58823b68c94">   46</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a2717e6e3391061506800c58823b68c94">gl_texturecompression_lightcubemaps</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_lightcubemaps&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;whether to compress light cubemaps (spotlights and other light projection images)&quot;</span>};</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a7323815aa8d83cdf58fa9f1f57e5f981">   47</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a7323815aa8d83cdf58fa9f1f57e5f981">gl_texturecompression_reflectmask</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_reflectmask&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;whether to compress reflection cubemap masks (mask of which areas of the texture should reflect the generic shiny cubemap)&quot;</span>};</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a4a9f6bff32d5288e97268771f4fb4c4f">   48</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a4a9f6bff32d5288e97268771f4fb4c4f">gl_texturecompression_sprites</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_texturecompression_sprites&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;whether to compress sprites&quot;</span>};</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ab93a4e19d0393d3572104095a50b7240">   49</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#ab93a4e19d0393d3572104095a50b7240">r_texture_dds_load_alphamode</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_texture_dds_load_alphamode&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;0: trust DDPF_ALPHAPIXELS flag, 1: texture format and brute force search if ambiguous, 2: texture format only&quot;</span>};</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#abea2c0f96504988f0120a63dca996137">   50</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#abea2c0f96504988f0120a63dca996137">r_texture_dds_load_logfailure</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_texture_dds_load_logfailure&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;log missing DDS textures to ddstexturefailures.log, 0: done log, 1: log with no optional textures (_norm, glow etc.). 2: log all&quot;</span>};</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a3e74cecd1292f8564cac2765e4bc8338">   51</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a3e74cecd1292f8564cac2765e4bc8338">r_texture_dds_swdecode</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_texture_dds_swdecode&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;0: don&#39;t software decode DDS, 1: software decode DDS if unsupported, 2: always software decode DDS&quot;</span>};</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a4508c46802c185ed46fb24723cfde9b8">   53</a></span><a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>   <a class="code hl_variable" href="gl__textures_8c.html#a4508c46802c185ed46fb24723cfde9b8">gl_filter_force</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">   54</a></span><span class="keywordtype">int</span>     <a class="code hl_variable" href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">gl_filter_min</a> = <a class="code hl_define" href="glquake_8h.html#a724edc4d9d6f3c1770ff3688f0747acb">GL_LINEAR_MIPMAP_LINEAR</a>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a7ca7799714cb960a99ab8b67d0b26a63">   55</a></span><span class="keywordtype">int</span>     <a class="code hl_variable" href="gl__textures_8c.html#a7ca7799714cb960a99ab8b67d0b26a63">gl_filter_mag</a> = <a class="code hl_define" href="glquake_8h.html#a4e682f218130b98b27a1e33fa7325080">GL_LINEAR</a>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">   58</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structmempool__t.html">mempool_t</a> *<a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">   59</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structmemexpandablearray__t.html">memexpandablearray_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment">// note: this must not conflict with TEXF_ flags in r_textures.h</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment">// bitmask for mismatch checking</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a5621f4731aff937c67fcb76da6342fe9">   63</a></span><span class="preprocessor">#define GLTEXF_IMPORTANTBITS (0)</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">// dynamic texture (treat texnum == 0 differently)</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#af1f25c7cff229124f7c7fe8fe5b8b8d1">   65</a></span><span class="preprocessor">#define GLTEXF_DYNAMIC      0x00080000</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="foldopen" id="foldopen00067" data-start="{" data-end="};">
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html">   67</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textypeinfo_s</a></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>{</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html#a9603f3dcffd932e8a6f4822f9bde9ddb">   69</a></span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="structtextypeinfo__t.html#a9603f3dcffd932e8a6f4822f9bde9ddb">name</a>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html#a29aa6ba16d0f5fea8e851ce1bee914cb">   70</a></span>    <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> <a class="code hl_variable" href="structtextypeinfo__t.html#a29aa6ba16d0f5fea8e851ce1bee914cb">textype</a>;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html#a3839a5a4dcb52893361bef2acde3b468">   71</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structtextypeinfo__t.html#a3839a5a4dcb52893361bef2acde3b468">inputbytesperpixel</a>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html#a257c0142b42b6b07f09d49b2d2e6c3d3">   72</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structtextypeinfo__t.html#a257c0142b42b6b07f09d49b2d2e6c3d3">internalbytesperpixel</a>;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html#ad0b18a28e56e43bb2db25f2f2c1eb3d3">   73</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structtextypeinfo__t.html#ad0b18a28e56e43bb2db25f2f2c1eb3d3">glinternalbytesperpixel</a>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">   74</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">glinternalformat</a>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html#a3d186ac94886c4d8aaaad148a6f9eefe">   75</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structtextypeinfo__t.html#a3d186ac94886c4d8aaaad148a6f9eefe">glformat</a>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="structtextypeinfo__t.html#a0984fa10721f8a105460cc9079890808">   76</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structtextypeinfo__t.html#a0984fa10721f8a105460cc9079890808">gltype</a>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>}</div>
</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="preprocessor">#ifdef USE_GLES2</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">// we use these internally even if we never deliver such data to the driver</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="preprocessor">#define GL_BGR                  0x80E0</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="preprocessor">#define GL_BGRA                 0x80E1</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">// framebuffer texture formats</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">// GLES2 devices rarely support depth textures, so we actually use a renderbuffer there</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a74da095098940ac3b2e771dc0e5f511a">textype_shadowmap16_comp</a>            = {<span class="stringliteral">&quot;shadowmap16_comp&quot;</span>,         <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8aa45b002c0da7b51b90b3d980dde237">TEXTYPE_SHADOWMAP16_COMP</a>     ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a2adadaee5d773f27da7e3e0ef3eab87f">textype_shadowmap16_raw</a>             = {<span class="stringliteral">&quot;shadowmap16_raw&quot;</span>,          <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a3de163d8565fc8aabd0cf9c6b8a09f3e">TEXTYPE_SHADOWMAP16_RAW</a>      ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#af4a9126dd14ba1326adfd481197a8304">textype_shadowmap24_comp</a>            = {<span class="stringliteral">&quot;shadowmap24_comp&quot;</span>,         <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aebd75dc810a90799cf24bc6a2b1fdd86">TEXTYPE_SHADOWMAP24_COMP</a>     ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#aa561adbe2919f8a93d3f7cc1dab483ec">textype_shadowmap24_raw</a>             = {<span class="stringliteral">&quot;shadowmap24_raw&quot;</span>,          <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49addcdfd96b68683438678b6a2a4d5f298">TEXTYPE_SHADOWMAP24_RAW</a>      ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#acae3d8a1c201ed61165dec109904df83">textype_depth16</a>                     = {<span class="stringliteral">&quot;depth16&quot;</span>,                  <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab1c740b5f5da1c8392ab8615a7f786e5">TEXTYPE_DEPTHBUFFER16</a>        ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#af11a0b6794e385ee16018d8835333a84">textype_depth24</a>                     = {<span class="stringliteral">&quot;depth24&quot;</span>,                  <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aa2466cecf47c58a7989d45c5b45273f3">TEXTYPE_DEPTHBUFFER24</a>        ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a0259f49f0608eac4991f4f524ef4d5ac">textype_depth24stencil8</a>             = {<span class="stringliteral">&quot;depth24stencil8&quot;</span>,          <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ae5b7ba5d8409f9149b39c2147d3ffa20">TEXTYPE_DEPTHBUFFER24STENCIL8</a>,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a43db348dd66825ddc58c70a3b3a0aa87">textype_colorbuffer</a>                 = {<span class="stringliteral">&quot;colorbuffer&quot;</span>,              <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a78217cdbd846be90ada3c3e6e34b54e2">TEXTYPE_COLORBUFFER</a>          ,  2,  2,  2.0f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">GL_RGB565</a>                         , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">GL_UNSIGNED_SHORT_5_6_5</a>};</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a83e88a8ae644ba0ed7b1a2b6550cf385">textype_colorbuffer16f</a>              = {<span class="stringliteral">&quot;colorbuffer16f&quot;</span>,           <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aff2b1b2f2f1450232e4c087a7ef6df1b">TEXTYPE_COLORBUFFER16F</a>       ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a38fc920bede90cc2821cfde675ce10e2">GL_RGBA16F</a>                        , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#aa3d4d84d7e1458e03145d5db96bde045">GL_HALF_FLOAT</a>};</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#abe15075e854bddbbd3dca8092727e64e">textype_colorbuffer32f</a>              = {<span class="stringliteral">&quot;colorbuffer32f&quot;</span>,           <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a99bf132eb3b3d5fedaa8e07719e126ed">TEXTYPE_COLORBUFFER32F</a>       ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#ace8155682f86789a9af13e7026df4615">GL_RGBA32F</a>                        , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a6d19915d4237cb559505bd3e5dcfcf3c">GL_FLOAT</a>};</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment">// image formats:</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a31a6a980f09e31d48607e8e15e3a3007">textype_alpha</a>                       = {<span class="stringliteral">&quot;alpha&quot;</span>,                    <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a664bec53bde56aea1719d74bf10415ce">TEXTYPE_ALPHA</a>         ,  1,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#acf684a80b8a32988e8232d978c60c582">GL_ALPHA</a>                              , <a class="code hl_define" href="glquake_8h.html#acf684a80b8a32988e8232d978c60c582">GL_ALPHA</a>          , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a85169090197b87809e91fce50ca1ca1b">textype_palette</a>                     = {<span class="stringliteral">&quot;palette&quot;</span>,                  <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>       ,  1,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a8c53d755608ee84866d65b5cb755311a">textype_palette_alpha</a>               = {<span class="stringliteral">&quot;palette_alpha&quot;</span>,            <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>       ,  1,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a5ae4322b0b336eba95a76242b391face">textype_rgba</a>                        = {<span class="stringliteral">&quot;rgba&quot;</span>,                     <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a6c0c3b096e3c6e664dace7ba4508e630">textype_rgba_alpha</a>                  = {<span class="stringliteral">&quot;rgba_alpha&quot;</span>,               <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a6b1dce2049f3b2a4ac181c333d164d68">textype_bgra</a>                        = {<span class="stringliteral">&quot;bgra&quot;</span>,                     <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a25d35d149f93fb075082973621b3b6d7">textype_bgra_alpha</a>                  = {<span class="stringliteral">&quot;bgra_alpha&quot;</span>,               <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="preprocessor">#ifdef __ANDROID__</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textype_etc1</a>                        = {<span class="stringliteral">&quot;etc1&quot;</span>,                     <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1804c7b4ffa7ec8901b4ad26ad126d1c">TEXTYPE_ETC1</a>          ,  1,  3,  0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">GL_ETC1_RGB8_OES</a>                         , 0                 , 0                };</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment">// framebuffer texture formats</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a74da095098940ac3b2e771dc0e5f511a">  112</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a74da095098940ac3b2e771dc0e5f511a">textype_shadowmap16_comp</a>            = {<span class="stringliteral">&quot;shadowmap16_comp&quot;</span>,         <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8aa45b002c0da7b51b90b3d980dde237">TEXTYPE_SHADOWMAP16_COMP</a>     ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a2adadaee5d773f27da7e3e0ef3eab87f">  113</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a2adadaee5d773f27da7e3e0ef3eab87f">textype_shadowmap16_raw</a>             = {<span class="stringliteral">&quot;shadowmap16_raw&quot;</span>,          <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a3de163d8565fc8aabd0cf9c6b8a09f3e">TEXTYPE_SHADOWMAP16_RAW</a>      ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#af4a9126dd14ba1326adfd481197a8304">  114</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#af4a9126dd14ba1326adfd481197a8304">textype_shadowmap24_comp</a>            = {<span class="stringliteral">&quot;shadowmap24_comp&quot;</span>,         <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aebd75dc810a90799cf24bc6a2b1fdd86">TEXTYPE_SHADOWMAP24_COMP</a>     ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#ad871b289b8410082db98e4b3af0301f1">GL_DEPTH_COMPONENT24</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a69b1c02ba0bd93c643c6d82e0c16eb99">GL_UNSIGNED_INT</a>  };</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aa561adbe2919f8a93d3f7cc1dab483ec">  115</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#aa561adbe2919f8a93d3f7cc1dab483ec">textype_shadowmap24_raw</a>             = {<span class="stringliteral">&quot;shadowmap24_raw&quot;</span>,          <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49addcdfd96b68683438678b6a2a4d5f298">TEXTYPE_SHADOWMAP24_RAW</a>      ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#ad871b289b8410082db98e4b3af0301f1">GL_DEPTH_COMPONENT24</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a69b1c02ba0bd93c643c6d82e0c16eb99">GL_UNSIGNED_INT</a>  };</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#acae3d8a1c201ed61165dec109904df83">  116</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#acae3d8a1c201ed61165dec109904df83">textype_depth16</a>                     = {<span class="stringliteral">&quot;depth16&quot;</span>,                  <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab1c740b5f5da1c8392ab8615a7f786e5">TEXTYPE_DEPTHBUFFER16</a>        ,  2,  2,  2.0f, <a class="code hl_define" href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>};</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#af11a0b6794e385ee16018d8835333a84">  117</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#af11a0b6794e385ee16018d8835333a84">textype_depth24</a>                     = {<span class="stringliteral">&quot;depth24&quot;</span>,                  <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aa2466cecf47c58a7989d45c5b45273f3">TEXTYPE_DEPTHBUFFER24</a>        ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#ad871b289b8410082db98e4b3af0301f1">GL_DEPTH_COMPONENT24</a>              , <a class="code hl_define" href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a>, <a class="code hl_define" href="glquake_8h.html#a69b1c02ba0bd93c643c6d82e0c16eb99">GL_UNSIGNED_INT</a>  };</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a0259f49f0608eac4991f4f524ef4d5ac">  118</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a0259f49f0608eac4991f4f524ef4d5ac">textype_depth24stencil8</a>             = {<span class="stringliteral">&quot;depth24stencil8&quot;</span>,          <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ae5b7ba5d8409f9149b39c2147d3ffa20">TEXTYPE_DEPTHBUFFER24STENCIL8</a>,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a2308c4ffa71335adb12ba6db2d937c7f">GL_DEPTH24_STENCIL8</a>               , <a class="code hl_define" href="glquake_8h.html#aaec6f87dc3b72b3175f3e127062cfc5b">GL_DEPTH_STENCIL</a>  , <a class="code hl_define" href="glquake_8h.html#a6e9e9f45468754a0b59bf3406d3b5009">GL_UNSIGNED_INT_24_8</a>};</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a43db348dd66825ddc58c70a3b3a0aa87">  119</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a43db348dd66825ddc58c70a3b3a0aa87">textype_colorbuffer</a>                 = {<span class="stringliteral">&quot;colorbuffer&quot;</span>,              <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a78217cdbd846be90ada3c3e6e34b54e2">TEXTYPE_COLORBUFFER</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                           , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a83e88a8ae644ba0ed7b1a2b6550cf385">  120</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a83e88a8ae644ba0ed7b1a2b6550cf385">textype_colorbuffer16f</a>              = {<span class="stringliteral">&quot;colorbuffer16f&quot;</span>,           <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aff2b1b2f2f1450232e4c087a7ef6df1b">TEXTYPE_COLORBUFFER16F</a>       ,  8,  8,  8.0f, <a class="code hl_define" href="glquake_8h.html#a38fc920bede90cc2821cfde675ce10e2">GL_RGBA16F</a>                        , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#aa3d4d84d7e1458e03145d5db96bde045">GL_HALF_FLOAT</a>    };</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#abe15075e854bddbbd3dca8092727e64e">  121</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#abe15075e854bddbbd3dca8092727e64e">textype_colorbuffer32f</a>              = {<span class="stringliteral">&quot;colorbuffer32f&quot;</span>,           <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a99bf132eb3b3d5fedaa8e07719e126ed">TEXTYPE_COLORBUFFER32F</a>       , 16, 16, 16.0f, <a class="code hl_define" href="glquake_8h.html#ace8155682f86789a9af13e7026df4615">GL_RGBA32F</a>                        , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a6d19915d4237cb559505bd3e5dcfcf3c">GL_FLOAT</a>         };</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment">// image formats:</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a31a6a980f09e31d48607e8e15e3a3007">  124</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a31a6a980f09e31d48607e8e15e3a3007">textype_alpha</a>                       = {<span class="stringliteral">&quot;alpha&quot;</span>,                    <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a664bec53bde56aea1719d74bf10415ce">TEXTYPE_ALPHA</a>         ,  1,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#acf684a80b8a32988e8232d978c60c582">GL_ALPHA</a>                              , <a class="code hl_define" href="glquake_8h.html#acf684a80b8a32988e8232d978c60c582">GL_ALPHA</a>          , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a85169090197b87809e91fce50ca1ca1b">  125</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a85169090197b87809e91fce50ca1ca1b">textype_palette</a>                     = {<span class="stringliteral">&quot;palette&quot;</span>,                  <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>       ,  1,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a69f1c49996aca30177171c7b086cfb34">GL_RGB</a>                                , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a8c53d755608ee84866d65b5cb755311a">  126</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a8c53d755608ee84866d65b5cb755311a">textype_palette_alpha</a>               = {<span class="stringliteral">&quot;palette_alpha&quot;</span>,            <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>       ,  1,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a5ae4322b0b336eba95a76242b391face">  127</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a5ae4322b0b336eba95a76242b391face">textype_rgba</a>                        = {<span class="stringliteral">&quot;rgba&quot;</span>,                     <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a69f1c49996aca30177171c7b086cfb34">GL_RGB</a>                                , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a6c0c3b096e3c6e664dace7ba4508e630">  128</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a6c0c3b096e3c6e664dace7ba4508e630">textype_rgba_alpha</a>                  = {<span class="stringliteral">&quot;rgba_alpha&quot;</span>,               <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a02d601b1d50f2583fc1f7bcf7bb47557">  129</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a02d601b1d50f2583fc1f7bcf7bb47557">textype_rgba_compress</a>               = {<span class="stringliteral">&quot;rgba_compress&quot;</span>,            <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  0.5f, <a class="code hl_define" href="glquake_8h.html#a76871dbc9ac35424b25ebc707ca11390">GL_COMPRESSED_RGB_S3TC_DXT1_EXT</a>       , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a2efdcb5fb480518046cf54e7d3fc7b6d">  130</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a2efdcb5fb480518046cf54e7d3fc7b6d">textype_rgba_alpha_compress</a>         = {<span class="stringliteral">&quot;rgba_alpha_compress&quot;</span>,      <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  1.0f, <a class="code hl_define" href="glquake_8h.html#a5f6e032bc5f877d09491c9a8ed191571">GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</a>      , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a6b1dce2049f3b2a4ac181c333d164d68">  131</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a6b1dce2049f3b2a4ac181c333d164d68">textype_bgra</a>                        = {<span class="stringliteral">&quot;bgra&quot;</span>,                     <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a69f1c49996aca30177171c7b086cfb34">GL_RGB</a>                                , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a25d35d149f93fb075082973621b3b6d7">  132</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a25d35d149f93fb075082973621b3b6d7">textype_bgra_alpha</a>                  = {<span class="stringliteral">&quot;bgra_alpha&quot;</span>,               <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>                               , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a06a491cafab2cdd27c94d6ca65fc9994">  133</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a06a491cafab2cdd27c94d6ca65fc9994">textype_bgra_compress</a>               = {<span class="stringliteral">&quot;bgra_compress&quot;</span>,            <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  0.5f, <a class="code hl_define" href="glquake_8h.html#a76871dbc9ac35424b25ebc707ca11390">GL_COMPRESSED_RGB_S3TC_DXT1_EXT</a>       , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a802fd12046027319590c29fe200e61e6">  134</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a802fd12046027319590c29fe200e61e6">textype_bgra_alpha_compress</a>         = {<span class="stringliteral">&quot;bgra_alpha_compress&quot;</span>,      <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  1.0f, <a class="code hl_define" href="glquake_8h.html#a5f6e032bc5f877d09491c9a8ed191571">GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</a>      , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ae156e1d95a808ede36502cd154ba828f">  135</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#ae156e1d95a808ede36502cd154ba828f">textype_dxt1</a>                        = {<span class="stringliteral">&quot;dxt1&quot;</span>,                     <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>          ,  4,  0,  0.5f, <a class="code hl_define" href="glquake_8h.html#a76871dbc9ac35424b25ebc707ca11390">GL_COMPRESSED_RGB_S3TC_DXT1_EXT</a>       , 0                 , 0                };</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a547a8ac1cf0900a50f37ac830221c3cd">  136</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a547a8ac1cf0900a50f37ac830221c3cd">textype_dxt1a</a>                       = {<span class="stringliteral">&quot;dxt1a&quot;</span>,                    <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>         ,  4,  0,  0.5f, <a class="code hl_define" href="glquake_8h.html#aaeed69f7c55e377901d9ff6d00463efa">GL_COMPRESSED_RGBA_S3TC_DXT1_EXT</a>      , 0                 , 0                };</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ab98b6aae61ce8424f513f5ec15856652">  137</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#ab98b6aae61ce8424f513f5ec15856652">textype_dxt3</a>                        = {<span class="stringliteral">&quot;dxt3&quot;</span>,                     <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>          ,  4,  0,  1.0f, <a class="code hl_define" href="glquake_8h.html#aababc4e27a4845063f8d1b7b91c20b2e">GL_COMPRESSED_RGBA_S3TC_DXT3_EXT</a>      , 0                 , 0                };</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a453404a42a469e85c93df4b38203d8e1">  138</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a453404a42a469e85c93df4b38203d8e1">textype_dxt5</a>                        = {<span class="stringliteral">&quot;dxt5&quot;</span>,                     <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>          ,  4,  0,  1.0f, <a class="code hl_define" href="glquake_8h.html#a5f6e032bc5f877d09491c9a8ed191571">GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</a>      , 0                 , 0                };</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a1c218452a6f217c92ee48ba426caabac">  139</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a1c218452a6f217c92ee48ba426caabac">textype_sRGB_palette</a>                = {<span class="stringliteral">&quot;sRGB_palette&quot;</span>,             <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>       ,  1,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#ad48339b0f8a7055390d2d6d0f8b31dae">GL_SRGB</a>                               , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a6ac885ca8a23701af55bc1748514699d">  140</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a6ac885ca8a23701af55bc1748514699d">textype_sRGB_palette_alpha</a>          = {<span class="stringliteral">&quot;sRGB_palette_alpha&quot;</span>,       <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>       ,  1,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a5bc33677c0708553a3dc8a6dbddd2107">GL_SRGB_ALPHA</a>                         , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aaa04f1b526a4bb1056d6212a6a972ffa">  141</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#aaa04f1b526a4bb1056d6212a6a972ffa">textype_sRGB_rgba</a>                   = {<span class="stringliteral">&quot;sRGB_rgba&quot;</span>,                <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#ad48339b0f8a7055390d2d6d0f8b31dae">GL_SRGB</a>                               , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a71869a04fb8b86637a21a27b685cbb38">  142</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a71869a04fb8b86637a21a27b685cbb38">textype_sRGB_rgba_alpha</a>             = {<span class="stringliteral">&quot;sRGB_rgba_alpha&quot;</span>,          <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a5bc33677c0708553a3dc8a6dbddd2107">GL_SRGB_ALPHA</a>                         , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a9bbc00f4a6a8bf194badca615b1f7063">  143</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a9bbc00f4a6a8bf194badca615b1f7063">textype_sRGB_rgba_compress</a>          = {<span class="stringliteral">&quot;sRGB_rgba_compress&quot;</span>,       <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  0.5f, <a class="code hl_define" href="glquake_8h.html#add24c893fc041cea9ba721cb8c9f3755">GL_COMPRESSED_SRGB_S3TC_DXT1_EXT</a>      , <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a55716fbb7c0dc170c0f94ad5200dfaf1">  144</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a55716fbb7c0dc170c0f94ad5200dfaf1">textype_sRGB_rgba_alpha_compress</a>    = {<span class="stringliteral">&quot;sRGB_rgba_alpha_compress&quot;</span>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>          ,  4,  4,  1.0f, <a class="code hl_define" href="glquake_8h.html#a395018cd2caaae0ed13483d0adb1680e">GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT</a>, <a class="code hl_define" href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a6b79650a455ae4e7ab713d3e0595f3e4">  145</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a6b79650a455ae4e7ab713d3e0595f3e4">textype_sRGB_bgra</a>                   = {<span class="stringliteral">&quot;sRGB_bgra&quot;</span>,                <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#ad48339b0f8a7055390d2d6d0f8b31dae">GL_SRGB</a>                               , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a2d97bb4cfed57ff4637855da053087b4">  146</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a2d97bb4cfed57ff4637855da053087b4">textype_sRGB_bgra_alpha</a>             = {<span class="stringliteral">&quot;sRGB_bgra_alpha&quot;</span>,          <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  4.0f, <a class="code hl_define" href="glquake_8h.html#a5bc33677c0708553a3dc8a6dbddd2107">GL_SRGB_ALPHA</a>                         , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a2fc5bb3df5b205df1133030573badfa2">  147</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a2fc5bb3df5b205df1133030573badfa2">textype_sRGB_bgra_compress</a>          = {<span class="stringliteral">&quot;sRGB_bgra_compress&quot;</span>,       <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  0.5f, <a class="code hl_define" href="glquake_8h.html#add24c893fc041cea9ba721cb8c9f3755">GL_COMPRESSED_SRGB_S3TC_DXT1_EXT</a>      , <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a466f4d0c6a8866f19959fb8cafb99c84">  148</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a466f4d0c6a8866f19959fb8cafb99c84">textype_sRGB_bgra_alpha_compress</a>    = {<span class="stringliteral">&quot;sRGB_bgra_alpha_compress&quot;</span>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>          ,  4,  4,  1.0f, <a class="code hl_define" href="glquake_8h.html#a395018cd2caaae0ed13483d0adb1680e">GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT</a>, <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>           , <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a> };</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a031862ebc445441d31bec9eea075214f">  149</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a031862ebc445441d31bec9eea075214f">textype_sRGB_dxt1</a>                   = {<span class="stringliteral">&quot;sRGB_dxt1&quot;</span>,                <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>          ,  4,  0,  0.5f, <a class="code hl_define" href="glquake_8h.html#add24c893fc041cea9ba721cb8c9f3755">GL_COMPRESSED_SRGB_S3TC_DXT1_EXT</a>      , 0                 , 0                };</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aca913aeb13ef69bd8e836d294259cfb1">  150</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#aca913aeb13ef69bd8e836d294259cfb1">textype_sRGB_dxt1a</a>                  = {<span class="stringliteral">&quot;sRGB_dxt1a&quot;</span>,               <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>         ,  4,  0,  0.5f, <a class="code hl_define" href="glquake_8h.html#ad19377002e628e741137eb70eb05a936">GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT</a>, 0                 , 0                };</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a61218c71e50936731a269ccfb6595933">  151</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a61218c71e50936731a269ccfb6595933">textype_sRGB_dxt3</a>                   = {<span class="stringliteral">&quot;sRGB_dxt3&quot;</span>,                <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>          ,  4,  0,  1.0f, <a class="code hl_define" href="glquake_8h.html#a893e97f8ef7726415045e76780461737">GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT</a>, 0                 , 0                };</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aed38b9d853cd5faa658e9e840f96a66d">  152</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> <a class="code hl_variable" href="gl__textures_8c.html#aed38b9d853cd5faa658e9e840f96a66d">textype_sRGB_dxt5</a>                   = {<span class="stringliteral">&quot;sRGB_dxt5&quot;</span>,                <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>          ,  4,  0,  1.0f, <a class="code hl_define" href="glquake_8h.html#a395018cd2caaae0ed13483d0adb1680e">GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT</a>, 0                 , 0                };</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="foldopen" id="foldopen00155" data-start="{" data-end="};">
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4">  155</a></span><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltexturetype_e</a></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>{</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">  157</a></span>    <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>,</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ae36e23c20aa991d283947cef10b1c828">  158</a></span>    <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ae36e23c20aa991d283947cef10b1c828">GLTEXTURETYPE_3D</a>,</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b">  159</a></span>    <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b">GLTEXTURETYPE_CUBEMAP</a>,</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ac69d117a2e8cb0e3bbabca342d7a3cb7">GLTEXTURETYPE_TOTAL</a></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ac69d117a2e8cb0e3bbabca342d7a3cb7">  161</a></span>}</div>
</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><a class="code hl_enumeration" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4">gltexturetype_t</a>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">  164</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ac69d117a2e8cb0e3bbabca342d7a3cb7">GLTEXTURETYPE_TOTAL</a>] = {<a class="code hl_define" href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, <a class="code hl_define" href="glquake_8h.html#a6c865f303c89ec764158e0016e50d4a8">GL_TEXTURE_3D</a>, <a class="code hl_define" href="glquake_8h.html#a26e189fe84285eb8fae26721662dbe8c">GL_TEXTURE_CUBE_MAP</a>};</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="preprocessor">#ifdef GL_TEXTURE_WRAP_R</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a1a27dea307cbbf1849e47f03b5ab0e12">  166</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="gl__textures_8c.html#a1a27dea307cbbf1849e47f03b5ab0e12">gltexturetypedimensions</a>[<a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ac69d117a2e8cb0e3bbabca342d7a3cb7">GLTEXTURETYPE_TOTAL</a>] = {2, 3, 2};</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="preprocessor">#endif</span></div>
<div class="foldopen" id="foldopen00168" data-start="{" data-end="};">
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a6fc82fb747cd52b3f1d88eb7d1de43d2">  168</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="gl__textures_8c.html#a6fc82fb747cd52b3f1d88eb7d1de43d2">cubemapside</a>[6] =</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>{</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <a class="code hl_define" href="glquake_8h.html#ab83eb56dce8e1f7900585d35016abf39">GL_TEXTURE_CUBE_MAP_POSITIVE_X</a>,</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <a class="code hl_define" href="glquake_8h.html#ae642ad8e3baa2512e2e27be2cf17373d">GL_TEXTURE_CUBE_MAP_NEGATIVE_X</a>,</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <a class="code hl_define" href="glquake_8h.html#a0605d5ef41613665b34391f9ba398997">GL_TEXTURE_CUBE_MAP_POSITIVE_Y</a>,</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_define" href="glquake_8h.html#a8d31f977b3490eb05832ecc261313462">GL_TEXTURE_CUBE_MAP_NEGATIVE_Y</a>,</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <a class="code hl_define" href="glquake_8h.html#a9c63e51b23baa3e2abc01cc0c892a111">GL_TEXTURE_CUBE_MAP_POSITIVE_Z</a>,</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_define" href="glquake_8h.html#a2d568ba9541df33fb21dc5bacbe7b4a3">GL_TEXTURE_CUBE_MAP_NEGATIVE_Z</a></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>};</div>
</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="foldopen" id="foldopen00178" data-start="{" data-end="};">
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="structgltexture__t.html">  178</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltexture_s</a></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>{</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// this portion of the struct is exposed to the R_GetTexture macro for</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// speed reasons, must be identical in rtexture_t!</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="structgltexture__t.html#afcaebf6f0e4f36bc5c9dfdb6501d6919">  182</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#afcaebf6f0e4f36bc5c9dfdb6501d6919">texnum</a>; <span class="comment">// GL texture slot number</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a31eaad95efa2fcccf386f19648101794">  183</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#a31eaad95efa2fcccf386f19648101794">renderbuffernum</a>; <span class="comment">// GL renderbuffer slot number</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a48ed2341af96f42ca2f525920be2cfb0">  184</a></span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="structgltexture__t.html#a48ed2341af96f42ca2f525920be2cfb0">dirty</a>; <span class="comment">// indicates that R_RealGetTexture should be called</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a950badc1b22caf09bbbab848dddb6ac6">  185</a></span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="structgltexture__t.html#a950badc1b22caf09bbbab848dddb6ac6">glisdepthstencil</a>; <span class="comment">// indicates that FBO attachment has to be GL_DEPTH_STENCIL_ATTACHMENT</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a3d5e71cccf96123c68b7f3acb77785ed">  186</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#a3d5e71cccf96123c68b7f3acb77785ed">gltexturetypeenum</a>; <span class="comment">// used by R_Mesh_TexBind</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="comment">// dynamic texture stuff [11/22/2007 Black]</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno"><a class="line" href="structgltexture__t.html#addeb4488b07a8cd41f662a3929051223">  189</a></span>    <a class="code hl_typedef" href="r__textures_8h.html#ad06f238dcdecf27514652b043111514c">updatecallback_t</a> <a class="code hl_variable" href="structgltexture__t.html#addeb4488b07a8cd41f662a3929051223">updatecallback</a>;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="structgltexture__t.html#ad8c8244e561f85650174b9e1c3671acb">  190</a></span>    <span class="keywordtype">void</span> *<a class="code hl_variable" href="structgltexture__t.html#ad8c8244e561f85650174b9e1c3671acb">updatecallback_data</a>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="comment">// --- [11/22/2007 Black]</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="comment">// stores backup copy of texture for deferred texture updates (R_UpdateTexture when combine = true)</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a72a48ecf7cf8d11f1ed7cb2343c066a0">  194</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="structgltexture__t.html#a72a48ecf7cf8d11f1ed7cb2343c066a0">bufferpixels</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a9484926cef22f720f52befe6a6bd3872">  195</a></span>    <span class="keywordtype">int</span> modified_mins[3], modified_maxs[3];</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="structgltexture__t.html#ab51f8a9e8695de91679b2a63dbd23a97">  196</a></span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="structgltexture__t.html#ab51f8a9e8695de91679b2a63dbd23a97">buffermodified</a>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="comment">// pointer to texturepool (check this to see if the texture is allocated)</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a5bf8eb32459af66101f71b70510c5aa0">  199</a></span>    <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltexturepool_s</a> *<a class="code hl_variable" href="structgltexture__t.html#a5bf8eb32459af66101f71b70510c5aa0">pool</a>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="comment">// pointer to next texture in texturepool chain</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno"><a class="line" href="structgltexture__t.html#aaf03d8de89a6bdba3537650054ec4ea0">  201</a></span>    <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltexture_s</a> *<a class="code hl_variable" href="structgltexture__t.html#aaf03d8de89a6bdba3537650054ec4ea0">chain</a>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="comment">// name of the texture (this might be removed someday), no duplicates</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a59c331a9d4dee0f31577e08f87381389">  203</a></span>    <span class="keywordtype">char</span> identifier[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a> + 32];</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="comment">// original data size in *inputtexels</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="structgltexture__t.html#abe6dc9a6899d327acf89a586a64d7d43">  205</a></span>    <span class="keywordtype">int</span> inputwidth, inputheight, <a class="code hl_variable" href="structgltexture__t.html#abe6dc9a6899d327acf89a586a64d7d43">inputdepth</a>;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="comment">// copy of the original texture(s) supplied to the upload function, for</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="comment">// delayed uploads (non-precached)</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno"><a class="line" href="structgltexture__t.html#af744eafc7cd141dd8c5eb82a13e8f9ed">  208</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="structgltexture__t.html#af744eafc7cd141dd8c5eb82a13e8f9ed">inputtexels</a>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="comment">// original data size in *inputtexels</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a243ab440349312ad97a495ecc9631d8e">  210</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#a243ab440349312ad97a495ecc9631d8e">inputdatasize</a>;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="comment">// flags supplied to the LoadTexture function</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="comment">// (might be altered to remove TEXF_ALPHA), and GLTEXF_ private flags</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="structgltexture__t.html#ac1ec18284e25d7998b9b4e6a6fab074d">  213</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#ac1ec18284e25d7998b9b4e6a6fab074d">flags</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="comment">// picmip level</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno"><a class="line" href="structgltexture__t.html#ad5e8a57eb7d4290f17c639280bc04cc4">  215</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#ad5e8a57eb7d4290f17c639280bc04cc4">miplevel</a>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="comment">// pointer to one of the textype_ structs</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a9e21def5ab3b84eb7cf93681ccaa5a2e">  217</a></span>    <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> *<a class="code hl_variable" href="structgltexture__t.html#a9e21def5ab3b84eb7cf93681ccaa5a2e">textype</a>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="comment">// one of the GLTEXTURETYPE_ values</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="structgltexture__t.html#ad30fcb5a5ddf13c218b8b21e49c754ef">  219</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#ad30fcb5a5ddf13c218b8b21e49c754ef">texturetype</a>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="comment">// palette if the texture is TEXTYPE_PALETTE</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a49328c181d673d6a54756f268943802c">  221</a></span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<a class="code hl_variable" href="structgltexture__t.html#a49328c181d673d6a54756f268943802c">palette</a>;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="comment">// actual stored texture size after gl_picmip and gl_max_size are applied</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="structgltexture__t.html#aed86eb809f75fde332d1181e358c372e">  223</a></span>    <span class="keywordtype">int</span> tilewidth, tileheight, <a class="code hl_variable" href="structgltexture__t.html#aed86eb809f75fde332d1181e358c372e">tiledepth</a>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="comment">// 1 or 6 depending on texturetype</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno"><a class="line" href="structgltexture__t.html#aa2c3a7ef06f260779379ab780554237a">  225</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#aa2c3a7ef06f260779379ab780554237a">sides</a>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="comment">// how many mipmap levels in this texture</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a0a8d84a7d6f1fe4c0b4df6e88cd6b6db">  227</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#a0a8d84a7d6f1fe4c0b4df6e88cd6b6db">miplevels</a>;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// bytes per pixel</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a2283884bc8435f9372854f7b6b5368b7">  229</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#a2283884bc8435f9372854f7b6b5368b7">bytesperpixel</a>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="comment">// GL_RGB or GL_RGBA or GL_DEPTH_COMPONENT</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno"><a class="line" href="structgltexture__t.html#aee07e0f81960f182895ad619aa329bf3">  231</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#aee07e0f81960f182895ad619aa329bf3">glformat</a>;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="comment">// 3 or 4</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="structgltexture__t.html#a71178775ea8e7161b82cbeaff4bae441">  233</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#a71178775ea8e7161b82cbeaff4bae441">glinternalformat</a>;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="comment">// GL_UNSIGNED_BYTE or GL_UNSIGNED_INT or GL_UNSIGNED_SHORT or GL_FLOAT</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno"><a class="line" href="structgltexture__t.html#ad8ef9531f68a3816c2cc24fae8a52c16">  235</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexture__t.html#ad8ef9531f68a3816c2cc24fae8a52c16">gltype</a>;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>}</div>
</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a9cbfcbf3c8f8a6755b4a8adeb8e11f2e">  239</a></span><span class="preprocessor">#define TEXTUREPOOL_SENTINEL 0xC0DEDBAD</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="foldopen" id="foldopen00241" data-start="{" data-end="};">
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno"><a class="line" href="structgltexturepool__t.html">  241</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltexturepool_s</a></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>{</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="structgltexturepool__t.html#a54cc48cfca74f0dc79e04d5e2032c21c">  243</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structgltexturepool__t.html#a54cc48cfca74f0dc79e04d5e2032c21c">sentinel</a>;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">  244</a></span>    <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltexture_s</a> *<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">  245</a></span>    <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltexturepool_s</a> *<a class="code hl_variable" href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">next</a>;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>}</div>
</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">  249</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *<a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">  251</a></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">  252</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">resizebuffersize</a> = 0;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a7c3d1b73c257c8f8f052bb9ca565289f">  253</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="gl__textures_8c.html#a7c3d1b73c257c8f8f052bb9ca565289f">texturebuffer</a>;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="foldopen" id="foldopen00255" data-start="{" data-end="}">
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a0c91677391e7eec8e780120857d28cee">  255</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> *<a class="code hl_function" href="gl__textures_8c.html#a0c91677391e7eec8e780120857d28cee">R_GetTexTypeInfo</a>(<a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype, <span class="keywordtype">int</span> flags)</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>{</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="keywordflow">switch</span>(textype)</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="preprocessor">#ifdef USE_GLES2</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>: <span class="keywordflow">return</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a8c53d755608ee84866d65b5cb755311a">textype_palette_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a85169090197b87809e91fce50ca1ca1b">textype_palette</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>: <span class="keywordflow">return</span> ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a6c0c3b096e3c6e664dace7ba4508e630">textype_rgba_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a5ae4322b0b336eba95a76242b391face">textype_rgba</a>);</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>: <span class="keywordflow">return</span> ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a25d35d149f93fb075082973621b3b6d7">textype_bgra_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a6b1dce2049f3b2a4ac181c333d164d68">textype_bgra</a>);</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="preprocessor">#ifdef __ANDROID__</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1804c7b4ffa7ec8901b4ad26ad126d1c">TEXTYPE_ETC1</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textype_etc1</a>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a664bec53bde56aea1719d74bf10415ce">TEXTYPE_ALPHA</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a31a6a980f09e31d48607e8e15e3a3007">textype_alpha</a>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a78217cdbd846be90ada3c3e6e34b54e2">TEXTYPE_COLORBUFFER</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a43db348dd66825ddc58c70a3b3a0aa87">textype_colorbuffer</a>;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aff2b1b2f2f1450232e4c087a7ef6df1b">TEXTYPE_COLORBUFFER16F</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a83e88a8ae644ba0ed7b1a2b6550cf385">textype_colorbuffer16f</a>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a99bf132eb3b3d5fedaa8e07719e126ed">TEXTYPE_COLORBUFFER32F</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#abe15075e854bddbbd3dca8092727e64e">textype_colorbuffer32f</a>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab1c740b5f5da1c8392ab8615a7f786e5">TEXTYPE_DEPTHBUFFER16</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#acae3d8a1c201ed61165dec109904df83">textype_depth16</a>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aa2466cecf47c58a7989d45c5b45273f3">TEXTYPE_DEPTHBUFFER24</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#af11a0b6794e385ee16018d8835333a84">textype_depth24</a>;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ae5b7ba5d8409f9149b39c2147d3ffa20">TEXTYPE_DEPTHBUFFER24STENCIL8</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a0259f49f0608eac4991f4f524ef4d5ac">textype_depth24stencil8</a>;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8aa45b002c0da7b51b90b3d980dde237">TEXTYPE_SHADOWMAP16_COMP</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a74da095098940ac3b2e771dc0e5f511a">textype_shadowmap16_comp</a>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a3de163d8565fc8aabd0cf9c6b8a09f3e">TEXTYPE_SHADOWMAP16_RAW</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a2adadaee5d773f27da7e3e0ef3eab87f">textype_shadowmap16_raw</a>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aebd75dc810a90799cf24bc6a2b1fdd86">TEXTYPE_SHADOWMAP24_COMP</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#af4a9126dd14ba1326adfd481197a8304">textype_shadowmap24_comp</a>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49addcdfd96b68683438678b6a2a4d5f298">TEXTYPE_SHADOWMAP24_RAW</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#aa561adbe2919f8a93d3f7cc1dab483ec">textype_shadowmap24_raw</a>;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#ae156e1d95a808ede36502cd154ba828f">textype_dxt1</a>;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a547a8ac1cf0900a50f37ac830221c3cd">textype_dxt1a</a>;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#ab98b6aae61ce8424f513f5ec15856652">textype_dxt3</a>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a453404a42a469e85c93df4b38203d8e1">textype_dxt5</a>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>: <span class="keywordflow">return</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a8c53d755608ee84866d65b5cb755311a">textype_palette_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a85169090197b87809e91fce50ca1ca1b">textype_palette</a>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>: <span class="keywordflow">return</span> ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>) &amp;&amp; <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">support</a>.<a class="code hl_variable" href="structviddef__support__t.html#a4533325c0b90bb9bfd4c7656f53bf201">ext_texture_compression_s3tc</a>) ? ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a2efdcb5fb480518046cf54e7d3fc7b6d">textype_rgba_alpha_compress</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a02d601b1d50f2583fc1f7bcf7bb47557">textype_rgba_compress</a>) : ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a6c0c3b096e3c6e664dace7ba4508e630">textype_rgba_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a5ae4322b0b336eba95a76242b391face">textype_rgba</a>);</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>: <span class="keywordflow">return</span> ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>) &amp;&amp; <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">support</a>.<a class="code hl_variable" href="structviddef__support__t.html#a4533325c0b90bb9bfd4c7656f53bf201">ext_texture_compression_s3tc</a>) ? ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a802fd12046027319590c29fe200e61e6">textype_bgra_alpha_compress</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a06a491cafab2cdd27c94d6ca65fc9994">textype_bgra_compress</a>) : ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a25d35d149f93fb075082973621b3b6d7">textype_bgra_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a6b1dce2049f3b2a4ac181c333d164d68">textype_bgra</a>);</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a664bec53bde56aea1719d74bf10415ce">TEXTYPE_ALPHA</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a31a6a980f09e31d48607e8e15e3a3007">textype_alpha</a>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a78217cdbd846be90ada3c3e6e34b54e2">TEXTYPE_COLORBUFFER</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a43db348dd66825ddc58c70a3b3a0aa87">textype_colorbuffer</a>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aff2b1b2f2f1450232e4c087a7ef6df1b">TEXTYPE_COLORBUFFER16F</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a83e88a8ae644ba0ed7b1a2b6550cf385">textype_colorbuffer16f</a>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a99bf132eb3b3d5fedaa8e07719e126ed">TEXTYPE_COLORBUFFER32F</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#abe15075e854bddbbd3dca8092727e64e">textype_colorbuffer32f</a>;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab1c740b5f5da1c8392ab8615a7f786e5">TEXTYPE_DEPTHBUFFER16</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#acae3d8a1c201ed61165dec109904df83">textype_depth16</a>;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aa2466cecf47c58a7989d45c5b45273f3">TEXTYPE_DEPTHBUFFER24</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#af11a0b6794e385ee16018d8835333a84">textype_depth24</a>;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ae5b7ba5d8409f9149b39c2147d3ffa20">TEXTYPE_DEPTHBUFFER24STENCIL8</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a0259f49f0608eac4991f4f524ef4d5ac">textype_depth24stencil8</a>;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8aa45b002c0da7b51b90b3d980dde237">TEXTYPE_SHADOWMAP16_COMP</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a74da095098940ac3b2e771dc0e5f511a">textype_shadowmap16_comp</a>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a3de163d8565fc8aabd0cf9c6b8a09f3e">TEXTYPE_SHADOWMAP16_RAW</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a2adadaee5d773f27da7e3e0ef3eab87f">textype_shadowmap16_raw</a>;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aebd75dc810a90799cf24bc6a2b1fdd86">TEXTYPE_SHADOWMAP24_COMP</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#af4a9126dd14ba1326adfd481197a8304">textype_shadowmap24_comp</a>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49addcdfd96b68683438678b6a2a4d5f298">TEXTYPE_SHADOWMAP24_RAW</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#aa561adbe2919f8a93d3f7cc1dab483ec">textype_shadowmap24_raw</a>;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a097d99b3e8dc9a6b3d55dc9a0f222db1">TEXTYPE_SRGB_DXT1</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a031862ebc445441d31bec9eea075214f">textype_sRGB_dxt1</a>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ac5defd59cdb910ae9b64009b32d960bd">TEXTYPE_SRGB_DXT1A</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#aca913aeb13ef69bd8e836d294259cfb1">textype_sRGB_dxt1a</a>;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a96ad45a0f26a7674d9bd8b81dbb7713a">TEXTYPE_SRGB_DXT3</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#a61218c71e50936731a269ccfb6595933">textype_sRGB_dxt3</a>;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8da0781911296792d297467881d3dc90">TEXTYPE_SRGB_DXT5</a>: <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__textures_8c.html#aed38b9d853cd5faa658e9e840f96a66d">textype_sRGB_dxt5</a>;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a932ace49f643197a23aae06d5397bff8">TEXTYPE_SRGB_PALETTE</a>: <span class="keywordflow">return</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a6ac885ca8a23701af55bc1748514699d">textype_sRGB_palette_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a1c218452a6f217c92ee48ba426caabac">textype_sRGB_palette</a>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7223103d7fdb53da14b2c1bd9f9b8f71">TEXTYPE_SRGB_RGBA</a>: <span class="keywordflow">return</span> ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>) &amp;&amp; <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">support</a>.<a class="code hl_variable" href="structviddef__support__t.html#a4533325c0b90bb9bfd4c7656f53bf201">ext_texture_compression_s3tc</a>) ? ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a55716fbb7c0dc170c0f94ad5200dfaf1">textype_sRGB_rgba_alpha_compress</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a9bbc00f4a6a8bf194badca615b1f7063">textype_sRGB_rgba_compress</a>) : ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a71869a04fb8b86637a21a27b685cbb38">textype_sRGB_rgba_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#aaa04f1b526a4bb1056d6212a6a972ffa">textype_sRGB_rgba</a>);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20">TEXTYPE_SRGB_BGRA</a>: <span class="keywordflow">return</span> ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>) &amp;&amp; <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">support</a>.<a class="code hl_variable" href="structviddef__support__t.html#a4533325c0b90bb9bfd4c7656f53bf201">ext_texture_compression_s3tc</a>) ? ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a466f4d0c6a8866f19959fb8cafb99c84">textype_sRGB_bgra_alpha_compress</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a2fc5bb3df5b205df1133030573badfa2">textype_sRGB_bgra_compress</a>) : ((flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? &amp;<a class="code hl_variable" href="gl__textures_8c.html#a2d97bb4cfed57ff4637855da053087b4">textype_sRGB_bgra_alpha</a> : &amp;<a class="code hl_variable" href="gl__textures_8c.html#a6b79650a455ae4e7ab713d3e0595f3e4">textype_sRGB_bgra</a>);</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_GetTexTypeInfo: unknown texture format %i with flags %x&quot;</span>, (<span class="keywordtype">int</span>)textype, flags);</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>}</div>
</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="comment">// dynamic texture code [11/22/2007 Black]</span></div>
<div class="foldopen" id="foldopen00312" data-start="{" data-end="}">
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ad1af1abc226ad21cf0f43b00f90afd70">  312</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#ad1af1abc226ad21cf0f43b00f90afd70">R_MarkDirtyTexture</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>) {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a>*) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> ) {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="comment">// dont do anything if the texture is already dirty (and make sure this *is* a dynamic texture after all!)</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="gl__textures_8c.html#af1f25c7cff229124f7c7fe8fe5b8b8d1">GLTEXF_DYNAMIC</a>)</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    {</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>        <span class="comment">// mark it as dirty, so R_RealGetTexture gets called</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;<a class="code hl_variable" href="structgltexture__t.html#a48ed2341af96f42ca2f525920be2cfb0">dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>}</div>
</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="foldopen" id="foldopen00326" data-start="{" data-end="}">
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a25f71b614773cdfbc85c0f70615298f2">  326</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a25f71b614773cdfbc85c0f70615298f2">R_MakeTextureDynamic</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>, <a class="code hl_typedef" href="r__textures_8h.html#ad06f238dcdecf27514652b043111514c">updatecallback_t</a> updatecallback, <span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a>*) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> ) {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;<a class="code hl_variable" href="structgltexture__t.html#ac1ec18284e25d7998b9b4e6a6fab074d">flags</a> |= <a class="code hl_define" href="gl__textures_8c.html#af1f25c7cff229124f7c7fe8fe5b8b8d1">GLTEXF_DYNAMIC</a>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback = updatecallback;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback_data = <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>}</div>
</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="foldopen" id="foldopen00337" data-start="{" data-end="}">
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a70a607298878ea1a1bdc6cfa0c7654f6">  337</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a70a607298878ea1a1bdc6cfa0c7654f6">R_UpdateDynamicTexture</a>(<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;dirty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback ) {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback( (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a>*) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback_data );</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>}</div>
</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span> </div>
<div class="foldopen" id="foldopen00344" data-start="{" data-end="}">
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a049a5fb42407ce79c203dbc9aba977d4">  344</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a049a5fb42407ce79c203dbc9aba977d4">R_PurgeTexture</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>{</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a> &amp;&amp; !(((<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a>*) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#ae60892774c5afd64b46479fee4006009">TEXF_PERSISTENT</a>)) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <a class="code hl_function" href="gl__textures_8c.html#ab79bf8e042a462735d6d70f02822d98d">R_FreeTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    }</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>}</div>
</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="foldopen" id="foldopen00351" data-start="{" data-end="}">
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ab79bf8e042a462735d6d70f02822d98d">  351</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#ab79bf8e042a462735d6d70f02822d98d">R_FreeTexture</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>{</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, **<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltpointer</a>;</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span> </div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_FreeTexture: texture == NULL&quot;</span>);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltpointer</a> = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;pool-&gt;gltchain;*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltpointer</a> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltpointer</a> != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltpointer</a> = &amp;(*gltpointer)-&gt;chain);</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltpointer</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>)</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">gltpointer</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;chain;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_FreeTexture: texture \&quot;%s\&quot; not linked in pool&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <a class="code hl_function" href="gl__backend_8c.html#a67dc91856064908ccadf5e03ed78fc1d">R_Mesh_ClearBindingsForTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum)</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>            <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglDeleteTextures</a>(1, (<a class="code hl_typedef" href="glquake_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> *)&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        }</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;renderbuffernum)</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglDeleteRenderbuffers</a>(1, (<a class="code hl_typedef" href="glquake_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> *)&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;renderbuffernum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>        }</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    }</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputtexels)</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputtexels);</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <a class="code hl_function" href="zone_8c.html#a6809e6e38abd59c5583dc9b83843a7ee">Mem_ExpandableArray_FreeRecord</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>}</div>
</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="foldopen" id="foldopen00389" data-start="{" data-end="}">
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">  389</a></span><a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>{</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *pool;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    pool = (<a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a>));</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="keywordflow">if</span> (pool == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">next</a> = <a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a>;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a> = pool;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a54cc48cfca74f0dc79e04d5e2032c21c">sentinel</a> = <a class="code hl_define" href="gl__textures_8c.html#a9cbfcbf3c8f8a6755b4a8adeb8e11f2e">TEXTUREPOOL_SENTINEL</a>;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *)pool;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>}</div>
</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="foldopen" id="foldopen00403" data-start="{" data-end="}">
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">  403</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a>(<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> **<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>)</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>{</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *pool, **<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolpointer</a>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    pool = (<a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *)(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>);</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="keywordflow">if</span> (pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a54cc48cfca74f0dc79e04d5e2032c21c">sentinel</a> != <a class="code hl_define" href="gl__textures_8c.html#a9cbfcbf3c8f8a6755b4a8adeb8e11f2e">TEXTUREPOOL_SENTINEL</a>)</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_FreeTexturePool: pool already freed&quot;</span>);</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolpointer</a> = &amp;<a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a>;*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolpointer</a> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolpointer</a> != pool;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolpointer</a> = &amp;(*poolpointer)-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">next</a>);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolpointer</a> == pool)</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolpointer</a> = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">next</a>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_FreeTexturePool: pool not linked&quot;</span>);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="keywordflow">while</span> (pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>)</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        <a class="code hl_function" href="gl__textures_8c.html#ab79bf8e042a462735d6d70f02822d98d">R_FreeTexture</a>((<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *)pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>);</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(pool);</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>}</div>
</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span> </div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="foldopen" id="foldopen00425" data-start="{" data-end="};">
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="structglmode__t.html">  425</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glmode_s</a></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>{</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno"><a class="line" href="structglmode__t.html#a6e90d0e3294bf61a9fbe062be638177a">  427</a></span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="structglmode__t.html#a6e90d0e3294bf61a9fbe062be638177a">name</a>;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno"><a class="line" href="structglmode__t.html#a0392ffb45b328550682a51699a7b903a">  428</a></span>    <span class="keywordtype">int</span> minification, <a class="code hl_variable" href="structglmode__t.html#a0392ffb45b328550682a51699a7b903a">magnification</a>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>}</div>
</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><a class="code hl_struct" href="structglmode__t.html">glmode_t</a>;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="foldopen" id="foldopen00432" data-start="{" data-end="};">
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">  432</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structglmode__t.html">glmode_t</a> <a class="code hl_variable" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a>[6] =</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>{</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    {<span class="stringliteral">&quot;GL_NEAREST&quot;</span>, <a class="code hl_define" href="glquake_8h.html#a7ec02582a9b1c390908a2230c8e26c0b">GL_NEAREST</a>, <a class="code hl_define" href="glquake_8h.html#a7ec02582a9b1c390908a2230c8e26c0b">GL_NEAREST</a>},</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    {<span class="stringliteral">&quot;GL_LINEAR&quot;</span>, <a class="code hl_define" href="glquake_8h.html#a4e682f218130b98b27a1e33fa7325080">GL_LINEAR</a>, <a class="code hl_define" href="glquake_8h.html#a4e682f218130b98b27a1e33fa7325080">GL_LINEAR</a>},</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    {<span class="stringliteral">&quot;GL_NEAREST_MIPMAP_NEAREST&quot;</span>, <a class="code hl_define" href="glquake_8h.html#a318a0c53e89e0bc5fdd162a405f77a9d">GL_NEAREST_MIPMAP_NEAREST</a>, <a class="code hl_define" href="glquake_8h.html#a7ec02582a9b1c390908a2230c8e26c0b">GL_NEAREST</a>},</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    {<span class="stringliteral">&quot;GL_LINEAR_MIPMAP_NEAREST&quot;</span>, <a class="code hl_define" href="glquake_8h.html#a9fba5da0aafd194b7eb2fcd359511622">GL_LINEAR_MIPMAP_NEAREST</a>, <a class="code hl_define" href="glquake_8h.html#a4e682f218130b98b27a1e33fa7325080">GL_LINEAR</a>},</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    {<span class="stringliteral">&quot;GL_NEAREST_MIPMAP_LINEAR&quot;</span>, <a class="code hl_define" href="glquake_8h.html#a5665daac108402324f1db7b89006c0b6">GL_NEAREST_MIPMAP_LINEAR</a>, <a class="code hl_define" href="glquake_8h.html#a7ec02582a9b1c390908a2230c8e26c0b">GL_NEAREST</a>},</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    {<span class="stringliteral">&quot;GL_LINEAR_MIPMAP_LINEAR&quot;</span>, <a class="code hl_define" href="glquake_8h.html#a724edc4d9d6f3c1770ff3688f0747acb">GL_LINEAR_MIPMAP_LINEAR</a>, <a class="code hl_define" href="glquake_8h.html#a4e682f218130b98b27a1e33fa7325080">GL_LINEAR</a>}</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>};</div>
</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="foldopen" id="foldopen00442" data-start="{" data-end="}">
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a888040d299f2e6454f91939a9fc919fd">  442</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a888040d299f2e6454f91939a9fc919fd">GL_TextureMode_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>{</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <a class="code hl_typedef" href="glquake_8h.html#a1df7fac5bc539d8661f0690e59a3c1b8">GLint</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *pool;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span> </div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) == 1)</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Texture mode is %sforced\n&quot;</span>, <a class="code hl_variable" href="gl__textures_8c.html#a4508c46802c185ed46fb24723cfde9b8">gl_filter_force</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;not &quot;</span>);</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">gl_filter_min</a> == <a class="code hl_variable" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].minification)</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            {</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_variable" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            }</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;current filter is unknown???\n&quot;</span>);</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a>)/<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a>));<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a> (<a class="code hl_variable" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1) ) )</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 6)</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    {</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;bad filter name\n&quot;</span>);</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    }</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <a class="code hl_variable" href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">gl_filter_min</a> = <a class="code hl_variable" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structglmode__t.html#aa1c6ac98c87b5cb91f63638d2c806e42">minification</a>;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <a class="code hl_variable" href="gl__textures_8c.html#a7ca7799714cb960a99ab8b67d0b26a63">gl_filter_mag</a> = <a class="code hl_variable" href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structglmode__t.html#a0392ffb45b328550682a51699a7b903a">magnification</a>;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <a class="code hl_variable" href="gl__textures_8c.html#a4508c46802c185ed46fb24723cfde9b8">gl_filter_force</a> = ((<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &gt; 2) &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 2), <span class="stringliteral">&quot;force&quot;</span>));</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>        <span class="comment">// change all the existing mipmap texture objects</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>        <span class="comment">// FIXME: force renderer(/client/something?) restart instead?</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>        <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        <a class="code hl_function" href="gl__backend_8c.html#a0b2dead0877ad8931b2887e1db6d8e1b">GL_ActiveTexture</a>(0);</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>        <span class="keywordflow">for</span> (pool = <a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a>;pool;pool = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">next</a>)</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>        {</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;chain)</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>            {</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>                <span class="comment">// only update already uploaded images</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum &amp;&amp; (<a class="code hl_variable" href="gl__textures_8c.html#a4508c46802c185ed46fb24723cfde9b8">gl_filter_force</a> || !(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; (<a class="code hl_define" href="r__textures_8h.html#aa97b4aaf90cefe1dff4cb00f2b232127">TEXF_FORCENEAREST</a> | <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a>))))</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>                {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = <a class="code hl_function" href="gl__backend_8c.html#a47892b50a3a14b0aac522099722d6092">R_Mesh_TexBound</a>(0, <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype]);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                    {</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_variable" href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">gl_filter_min</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                    }</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>                    {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_variable" href="gl__textures_8c.html#a7ca7799714cb960a99ab8b67d0b26a63">gl_filter_mag</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                    }</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_define" href="glquake_8h.html#acb47a41b5963d44826f44b7370bccc26">GL_TEXTURE_MAG_FILTER</a>, <a class="code hl_variable" href="gl__textures_8c.html#a7ca7799714cb960a99ab8b67d0b26a63">gl_filter_mag</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>                }</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            }</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    }</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>}</div>
</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="foldopen" id="foldopen00511" data-start="{" data-end="}">
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a4da15e90c5f2022db2b74cf69fd77b9d">  511</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a4da15e90c5f2022db2b74cf69fd77b9d">GL_Texture_CalcImageSize</a>(<span class="keywordtype">int</span> texturetype, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> miplevel, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inwidth</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inheight</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">indepth</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outwidth</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outheight</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outdepth</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outmiplevels</a>)</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>{</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picmip</a> = 0, maxsize = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a> = 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a> = 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a> = 1, miplevels = 1;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span> </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <span class="keywordflow">switch</span> (texturetype)</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>:</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        maxsize = <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a06a669057f01a0d02c34aa0ebc781a54">maxtexturesize_2d</a>;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a>)</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>        {</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>            maxsize = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(1, <a class="code hl_variable" href="gl__textures_8c.html#a3132bc97c879c8ace9ee25dade438226">gl_max_size</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, maxsize);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picmip</a> = miplevel;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        }</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ae36e23c20aa991d283947cef10b1c828">GLTEXTURETYPE_3D</a>:</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        maxsize = <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a1da5ca679bbe12b196fc8af97dac46be">maxtexturesize_3d</a>;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b">GLTEXTURETYPE_CUBEMAP</a>:</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        maxsize = <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a26e022a80a7fec29ffa2db3e8b6940cb">maxtexturesize_cubemap</a>;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    }</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inwidth</a> &gt;&gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picmip</a>, maxsize);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inheight</a> &gt;&gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picmip</a>, maxsize);</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">indepth</a> &gt;&gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picmip</a>, maxsize);</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    miplevels = 1;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    {</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">extent</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a>, <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a>));</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">extent</a> &gt;&gt;= 1)</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            miplevels++;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    }</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outwidth</a>)</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outwidth</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a>);</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outheight</a>)</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outheight</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a>);</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outdepth</a>)</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outdepth</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a>);</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outmiplevels</a>)</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outmiplevels</a> = miplevels;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>}</div>
</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span> </div>
<div class="foldopen" id="foldopen00557" data-start="{" data-end="}">
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ade01b6f3cf881f656a96be9c90571740">  557</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="gl__textures_8c.html#ade01b6f3cf881f656a96be9c90571740">R_CalcTexelDataSize</a> (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>)</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>{</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <a class="code hl_function" href="gl__textures_8c.html#a4da15e90c5f2022db2b74cf69fd77b9d">GL_Texture_CalcImageSize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevel, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a>;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span> </div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a> &gt; 1 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a> &gt; 1 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a> &gt; 1)</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>        {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a> &gt; 1)</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a> &gt;&gt;= 1;</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a> &gt; 1)</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a> &gt;&gt;= 1;</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a> &gt; 1)</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a> &gt;&gt;= 1;</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">width2</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">height2</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">depth2</a>;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    }</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype-&gt;glinternalbytesperpixel) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>}</div>
</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="foldopen" id="foldopen00582" data-start="{" data-end="}">
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a563cf92dcf86947dcf8c2d9d4379b106">  582</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a563cf92dcf86947dcf8c2d9d4379b106">R_TextureStats_Print</a>(<a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printeach</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printpool</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printtotal</a>)</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>{</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glsize</a>;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isloaded</a>;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotal</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalt</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalp</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloaded</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedt</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedp</a> = 0;</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotal</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotalt</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotalp</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloaded</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloadedt</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloadedp</a> = 0;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *pool;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printeach</a>)</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;glsize input loaded mip alpha name\n&quot;</span>);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <span class="keywordflow">for</span> (pool = <a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a>;pool;pool = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">next</a>)</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    {</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotal</a> = 0;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalt</a> = 0;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalp</a> = 0;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloaded</a> = 0;</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedt</a> = 0;</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedp</a> = 0;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;chain)</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>        {</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glsize</a> = <a class="code hl_function" href="gl__textures_8c.html#ade01b6f3cf881f656a96be9c90571740">R_CalcTexelDataSize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>);</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isloaded</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum != 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;renderbuffernum != 0;</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotal</a>++;</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalt</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glsize</a>;</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalp</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdatasize;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isloaded</a>)</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>            {</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloaded</a>++;</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedt</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glsize</a>;</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedp</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdatasize;</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            }</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printeach</a>)</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%c%4i%c%c%4i%c %-24s %s %s %s %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isloaded</a> ? <span class="charliteral">&#39;[&#39;</span> : <span class="charliteral">&#39; &#39;</span>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glsize</a> + 1023) / 1024, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isloaded</a> ? <span class="charliteral">&#39;]&#39;</span> : <span class="charliteral">&#39; &#39;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputtexels ? <span class="charliteral">&#39;[&#39;</span> : <span class="charliteral">&#39; &#39;</span>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdatasize + 1023) / 1024, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputtexels ? <span class="charliteral">&#39;]&#39;</span> : <span class="charliteral">&#39; &#39;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype-&gt;name, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isloaded</a> ? <span class="stringliteral">&quot;loaded&quot;</span> : <span class="stringliteral">&quot;      &quot;</span>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>) ? <span class="stringliteral">&quot;mip&quot;</span> : <span class="stringliteral">&quot;   &quot;</span>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) ? <span class="stringliteral">&quot;alpha&quot;</span> : <span class="stringliteral">&quot;     &quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier);</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        }</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printpool</a>)</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;texturepool %10p total: %i (%.3fMB, %.3fMB original), uploaded %i (%.3fMB, %.3fMB original), upload on demand %i (%.3fMB, %.3fMB original)\n&quot;</span>, (<span class="keywordtype">void</span> *)pool, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalt</a> / 1048576.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalp</a> / 1048576.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloaded</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedt</a> / 1048576.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedp</a> / 1048576.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotal</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloaded</a>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalt</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedt</a>) / 1048576.0, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalp</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedp</a>) / 1048576.0);</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotal</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotal</a>;</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotalt</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalt</a>;</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotalp</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pooltotalp</a>;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloaded</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloaded</a>;</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloadedt</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedt</a>;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloadedp</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">poolloadedp</a>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printtotal</a>)</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;textures total: %i (%.3fMB, %.3fMB original), uploaded %i (%.3fMB, %.3fMB original), upload on demand %i (%.3fMB, %.3fMB original)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotalt</a> / 1048576.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotalp</a> / 1048576.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloaded</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloadedt</a> / 1048576.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloadedp</a> / 1048576.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotal</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloaded</a>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotalt</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloadedt</a>) / 1048576.0, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumtotalp</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sumloadedp</a>) / 1048576.0);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>}</div>
</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="foldopen" id="foldopen00629" data-start="{" data-end="}">
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#afa11265eef3bf02d90cd7131777f5d25">  629</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#afa11265eef3bf02d90cd7131777f5d25">R_TextureStats_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>{</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <a class="code hl_function" href="gl__textures_8c.html#a563cf92dcf86947dcf8c2d9d4379b106">R_TextureStats_Print</a>(<span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>}</div>
</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span> </div>
<div class="foldopen" id="foldopen00634" data-start="{" data-end="}">
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a9764e802b0375a43b6626a93a40dcd7d">  634</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a9764e802b0375a43b6626a93a40dcd7d">r_textures_start</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>{</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <span class="comment">// LadyHavoc: allow any alignment</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglPixelStorei</a>(<a class="code hl_define" href="glquake_8h.html#a8e71ccb4538d4f8f5e8ff074fc5b6754">GL_UNPACK_ALIGNMENT</a>, 1);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglPixelStorei</a>(<a class="code hl_define" href="glquake_8h.html#a4a8f0a4e3ca93f56e40f144e199263fc">GL_PACK_ALIGNMENT</a>, 1);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    }</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span> </div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    <a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a> = <a class="code hl_define" href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a>(<span class="stringliteral">&quot;texture management&quot;</span>, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <a class="code hl_function" href="zone_8c.html#a211e7367323b1791e87715797bdee714">Mem_ExpandableArray_NewArray</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>, <a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a>), 512);</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="comment">// Disable JPEG screenshots if the DLL isn&#39;t loaded</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <span class="keywordflow">if</span> (! <a class="code hl_function" href="jpeg_8c.html#aa11ad53af48f7a9158cbfe2913e227d6">JPEG_OpenLibrary</a> ())</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a> (&amp;<a class="code hl_variable" href="cl__screen_8c.html#a847c9012dc8dbaad3a0809ab7862ce37">scr_screenshot_jpeg</a>, 0);</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <span class="keywordflow">if</span> (! <a class="code hl_function" href="image__png_8c.html#ab2cde959841139dac426ea8b3ad72042">PNG_OpenLibrary</a> ())</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a> (&amp;<a class="code hl_variable" href="cl__screen_8c.html#afba88daa998d2600737339002616193b">scr_screenshot_png</a>, 0);</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>}</div>
</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span> </div>
<div class="foldopen" id="foldopen00657" data-start="{" data-end="}">
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a171761ba63fd5e87898834f0aa551415">  657</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a171761ba63fd5e87898834f0aa551415">r_textures_shutdown</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>{</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span> </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <a class="code hl_function" href="jpeg_8c.html#aaac04bbe4602f5ed3e81bf0090f220ff">JPEG_CloseLibrary</a> ();</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <span class="keywordflow">while</span>(<a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a>)</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a> = (<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *) <a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a>;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>        <a class="code hl_function" href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    }</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span> </div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <a class="code hl_variable" href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">resizebuffersize</a> = 0;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <a class="code hl_variable" href="gl__textures_8c.html#a7c3d1b73c257c8f8f052bb9ca565289f">texturebuffer</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <a class="code hl_function" href="zone_8c.html#af23fe0fce9cfaf4fdbc6a6989ac24821">Mem_ExpandableArray_FreeArray</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>);</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <a class="code hl_define" href="zone_8h.html#a07374e605d328a588d2d738a56608ead">Mem_FreePool</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a>);</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>}</div>
</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="foldopen" id="foldopen00677" data-start="{" data-end="}">
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a24bc7a65255e77cf48598a8ef3d18100">  677</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a24bc7a65255e77cf48598a8ef3d18100">r_textures_newmap</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>{</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>}</div>
</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span> </div>
<div class="foldopen" id="foldopen00681" data-start="{" data-end="}">
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aacc5d4082107e85a97065dc16eac47ea">  681</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#aacc5d4082107e85a97065dc16eac47ea">r_textures_devicelost</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>{</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endindex</a>;</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endindex</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_function" href="zone_8c.html#a1b1599deb1c7db8a64afe5cf4cdbd539">Mem_ExpandableArray_IndexRange</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>);</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endindex</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *) <a class="code hl_function" href="zone_8c.html#ac3c570c2a60e19b44ed16e7e0ba844fa">Mem_ExpandableArray_RecordAtIndex</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> || !(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#ae7321fcd751438a62912cc8cf7715d6e">TEXF_RENDERTARGET</a>))</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        {</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>        }</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    }</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>}</div>
</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span> </div>
<div class="foldopen" id="foldopen00700" data-start="{" data-end="}">
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a421a67068c37a9db90e6651a37bafc2f">  700</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a421a67068c37a9db90e6651a37bafc2f">r_textures_devicerestored</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>{</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endindex</a>;</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endindex</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_function" href="zone_8c.html#a1b1599deb1c7db8a64afe5cf4cdbd539">Mem_ExpandableArray_IndexRange</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>);</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endindex</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *) <a class="code hl_function" href="zone_8c.html#ac3c570c2a60e19b44ed16e7e0ba844fa">Mem_ExpandableArray_RecordAtIndex</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> || !(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#ae7321fcd751438a62912cc8cf7715d6e">TEXF_RENDERTARGET</a>))</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        {</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        }</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    }</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>}</div>
</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span> </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="foldopen" id="foldopen00720" data-start="{" data-end="}">
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ac584bca6c31f98497bdf973e8c406d44">  720</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#ac584bca6c31f98497bdf973e8c406d44">R_Textures_Init</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>{</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;gl_texturemode&quot;</span>, &amp;<a class="code hl_function" href="gl__textures_8c.html#a888040d299f2e6454f91939a9fc919fd">GL_TextureMode_f</a>, <span class="stringliteral">&quot;set texture filtering mode (GL_NEAREST, GL_LINEAR, GL_LINEAR_MIPMAP_LINEAR, etc); an additional argument &#39;force&#39; forces the texture mode even in cases where it may not be appropriate&quot;</span>);</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_texturestats&quot;</span>, <a class="code hl_function" href="gl__textures_8c.html#afa11265eef3bf02d90cd7131777f5d25">R_TextureStats_f</a>, <span class="stringliteral">&quot;print information about all loaded textures and some statistics&quot;</span>);</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a3132bc97c879c8ace9ee25dade438226">gl_max_size</a>);</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a5ec933a4d1f7165da22ff1ad39c99351">gl_picmip</a>);</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a7369c39fb00026cf182f3b9dd7733fab">gl_picmip_world</a>);</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a32cfa077828d4e287df1b35b6af9c11a">r_picmipworld</a>);</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a51c73613de733cdfc9ec2aedc8e6bb12">gl_picmip_sprites</a>);</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#ad6bba9e331bb3be98910371db696164c">r_picmipsprites</a>);</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a909440b2c1a9c2ddf2cdae522f02b258">gl_picmip_other</a>);</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a>);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#af665d40d132ff6714f9404c51c01eee4">r_lerpimages</a>);</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a>);</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2ce62af3cf57b4b23d8010843814c594">gl_texturecompression</a>);</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a797912ffb0cb154ee02b0c8b8fdfbe99">gl_texturecompression_color</a>);</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#afe9eb4b07bd325ff520effdb8bec9a14">gl_texturecompression_normal</a>);</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#ae2ea4ac46847560b1a3a64b71076483c">gl_texturecompression_gloss</a>);</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#aa75cf786b4c52ea69ad05666e032c6ff">gl_texturecompression_glow</a>);</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#ac31280d743c57f22a9b4eef367bddc0b">gl_texturecompression_2d</a>);</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a117555a3ab42975f16c7396c743bd2e9">gl_texturecompression_q3bsplightmaps</a>);</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#ad983d911021d66737868a5a177cf7943">gl_texturecompression_q3bspdeluxemaps</a>);</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a521999ba28df624fef49f84217af6fad">gl_texturecompression_sky</a>);</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2717e6e3391061506800c58823b68c94">gl_texturecompression_lightcubemaps</a>);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a7323815aa8d83cdf58fa9f1f57e5f981">gl_texturecompression_reflectmask</a>);</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a4a9f6bff32d5288e97268771f4fb4c4f">gl_texturecompression_sprites</a>);</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#ab93a4e19d0393d3572104095a50b7240">r_texture_dds_load_alphamode</a>);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#abea2c0f96504988f0120a63dca996137">r_texture_dds_load_logfailure</a>);</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="gl__textures_8c.html#a3e74cecd1292f8564cac2765e4bc8338">r_texture_dds_swdecode</a>);</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span> </div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    <a class="code hl_function" href="r__modules_8c.html#a7f982eee49a26b26f015596ac96edea0">R_RegisterModule</a>(<span class="stringliteral">&quot;R_Textures&quot;</span>, <a class="code hl_function" href="gl__textures_8c.html#a9764e802b0375a43b6626a93a40dcd7d">r_textures_start</a>, <a class="code hl_function" href="gl__textures_8c.html#a171761ba63fd5e87898834f0aa551415">r_textures_shutdown</a>, <a class="code hl_function" href="gl__textures_8c.html#a24bc7a65255e77cf48598a8ef3d18100">r_textures_newmap</a>, <a class="code hl_function" href="gl__textures_8c.html#aacc5d4082107e85a97065dc16eac47ea">r_textures_devicelost</a>, <a class="code hl_function" href="gl__textures_8c.html#a421a67068c37a9db90e6651a37bafc2f">r_textures_devicerestored</a>);</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>}</div>
</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span> </div>
<div class="foldopen" id="foldopen00753" data-start="{" data-end="}">
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#adfb41b95d3f8c3b8938b4526dc77352f">  753</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#adfb41b95d3f8c3b8938b4526dc77352f">R_Textures_Frame</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>{</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span><span class="preprocessor">#ifdef GL_TEXTURE_MAX_ANISOTROPY_EXT</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_aniso</a> = 0;</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    <span class="keyword">static</span> <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">first_time_aniso</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span> </div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    <span class="comment">// could do procedural texture animation here, if we keep track of which</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    <span class="comment">// textures were accessed this frame...</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span> </div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    <span class="comment">// free the resize buffers</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    <a class="code hl_variable" href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">resizebuffersize</a> = 0;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>)</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    {</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>);</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    }</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>)</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>);</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span> </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span><span class="preprocessor">#ifdef GL_TEXTURE_MAX_ANISOTROPY_EXT</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_aniso</a> != <a class="code hl_variable" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    {</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *pool;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <a class="code hl_typedef" href="glquake_8h.html#a1df7fac5bc539d8661f0690e59a3c1b8">GLint</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span> </div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_aniso</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(1, <a class="code hl_variable" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a92b20aa97d753058d20322451faa3650">max_anisotropy</a>);</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span> </div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_aniso</a>);</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        {</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>            <span class="comment">// ignore the first difference, any textures loaded by now probably had the same aniso value</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">first_time_aniso</a>)</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            {</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">first_time_aniso</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            }</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            <a class="code hl_function" href="gl__backend_8c.html#a0b2dead0877ad8931b2887e1db6d8e1b">GL_ActiveTexture</a>(0);</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            <span class="keywordflow">for</span> (pool = <a class="code hl_variable" href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a>;pool;pool = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">next</a>)</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;chain)</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>                {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>                    <span class="comment">// only update already uploaded images</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>) == <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>                    {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = <a class="code hl_function" href="gl__backend_8c.html#a47892b50a3a14b0aac522099722d6092">R_Mesh_TexBound</a>(0, <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype]);</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span> </div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_define" href="glquake_8h.html#a00b65957cb070504d8e364031b176737">GL_TEXTURE_MAX_ANISOTROPY_EXT</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_aniso</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span> </div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>                    }</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>                }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>            }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        }</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    }</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>}</div>
</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span> </div>
<div class="foldopen" id="foldopen00821" data-start="{" data-end="}">
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">  821</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>)</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>{</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">resizebuffersize</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>)</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    {</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        <a class="code hl_variable" href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">resizebuffersize</a> = <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>)</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>);</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>)</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>);</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a>, <a class="code hl_variable" href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">resizebuffersize</a>);</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>        <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a>, <a class="code hl_variable" href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">resizebuffersize</a>);</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a> || !<a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>)</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_Upload: out of memory&quot;</span>);</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>}</div>
</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span> </div>
<div class="foldopen" id="foldopen00837" data-start="{" data-end="}">
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a1ddecb645464a10b57916cb79c16bd4c">  837</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a1ddecb645464a10b57916cb79c16bd4c">GL_SetupTextureParameters</a>(<span class="keywordtype">int</span> flags, <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype, <span class="keywordtype">int</span> texturetype)</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>{</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a> = <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[texturetype];</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wrapmode</a> = (flags &amp; <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>) ? <a class="code hl_define" href="glquake_8h.html#ae90f81f48642444b4ba7fa5cacf40569">GL_CLAMP_TO_EDGE</a> : <a class="code hl_define" href="glquake_8h.html#aa402fcab9f814ff88b2b19ca2823a594">GL_REPEAT</a>;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span> </div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span> </div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span><span class="preprocessor">#ifdef GL_TEXTURE_MAX_ANISOTROPY_EXT</span></div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">support</a>.<a class="code hl_variable" href="structviddef__support__t.html#a00d3c00fd72f18355f301c03e328d734">ext_texture_filter_anisotropic</a> &amp;&amp; (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>))</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>    {</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">aniso</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(1, <a class="code hl_variable" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a92b20aa97d753058d20322451faa3650">max_anisotropy</a>);</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">aniso</a>)</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">aniso</a>);</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a00b65957cb070504d8e364031b176737">GL_TEXTURE_MAX_ANISOTROPY_EXT</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">aniso</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    }</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a23a0bc2909cc2f79fe7287aaa044e880">GL_TEXTURE_WRAP_S</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wrapmode</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#ac307a4772e1d3decd5b6f36192113ab6">GL_TEXTURE_WRAP_T</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wrapmode</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span><span class="preprocessor">#ifdef GL_TEXTURE_WRAP_R</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#a1a27dea307cbbf1849e47f03b5ab0e12">gltexturetypedimensions</a>[texturetype] &gt;= 3)</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    {</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a1b69ad7ea841f21165a25e58411b6bab">GL_TEXTURE_WRAP_R</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">wrapmode</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    }</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="gl__textures_8c.html#a4508c46802c185ed46fb24723cfde9b8">gl_filter_force</a> &amp;&amp; flags &amp; <a class="code hl_define" href="r__textures_8h.html#aa97b4aaf90cefe1dff4cb00f2b232127">TEXF_FORCENEAREST</a>)</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    {</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>        {</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_define" href="glquake_8h.html#a318a0c53e89e0bc5fdd162a405f77a9d">GL_NEAREST_MIPMAP_NEAREST</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        }</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        {</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_define" href="glquake_8h.html#a7ec02582a9b1c390908a2230c8e26c0b">GL_NEAREST</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        }</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#acb47a41b5963d44826f44b7370bccc26">GL_TEXTURE_MAG_FILTER</a>, <a class="code hl_define" href="glquake_8h.html#a7ec02582a9b1c390908a2230c8e26c0b">GL_NEAREST</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    }</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="gl__textures_8c.html#a4508c46802c185ed46fb24723cfde9b8">gl_filter_force</a> &amp;&amp; flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a>)</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    {</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>        {</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">gl_filter_min</a> == <a class="code hl_define" href="glquake_8h.html#a5665daac108402324f1db7b89006c0b6">GL_NEAREST_MIPMAP_LINEAR</a> || <a class="code hl_variable" href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">gl_filter_min</a> == <a class="code hl_define" href="glquake_8h.html#a724edc4d9d6f3c1770ff3688f0747acb">GL_LINEAR_MIPMAP_LINEAR</a>)</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>            {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_define" href="glquake_8h.html#a724edc4d9d6f3c1770ff3688f0747acb">GL_LINEAR_MIPMAP_LINEAR</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>            }</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>            {</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_define" href="glquake_8h.html#a9fba5da0aafd194b7eb2fcd359511622">GL_LINEAR_MIPMAP_NEAREST</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>            }</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        }</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        {</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_define" href="glquake_8h.html#a4e682f218130b98b27a1e33fa7325080">GL_LINEAR</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>        }</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#acb47a41b5963d44826f44b7370bccc26">GL_TEXTURE_MAG_FILTER</a>, <a class="code hl_define" href="glquake_8h.html#a4e682f218130b98b27a1e33fa7325080">GL_LINEAR</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    }</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    {</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>        {</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_variable" href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">gl_filter_min</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>        }</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>        {</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a>, <a class="code hl_variable" href="gl__textures_8c.html#a7ca7799714cb960a99ab8b67d0b26a63">gl_filter_mag</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        }</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#acb47a41b5963d44826f44b7370bccc26">GL_TEXTURE_MAG_FILTER</a>, <a class="code hl_variable" href="gl__textures_8c.html#a7ca7799714cb960a99ab8b67d0b26a63">gl_filter_mag</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span> </div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span><span class="preprocessor">#ifndef USE_GLES2</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <span class="keywordflow">switch</span>(textype)</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>    {</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8aa45b002c0da7b51b90b3d980dde237">TEXTYPE_SHADOWMAP16_COMP</a>:</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aebd75dc810a90799cf24bc6a2b1fdd86">TEXTYPE_SHADOWMAP24_COMP</a>:</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#af5a50515d121e0ef24a67977c667add0">GL_TEXTURE_COMPARE_MODE</a>, <a class="code hl_define" href="glquake_8h.html#a1dc7d6e1f3357d3b9e686b800d2d4ae4">GL_COMPARE_R_TO_TEXTURE</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a06b8fecef765b110cff1a8aa1adbd794">GL_TEXTURE_COMPARE_FUNC</a>, <a class="code hl_define" href="glquake_8h.html#a8b778a06f153b4d59ebc6aa1d0996191">GL_LEQUAL</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a3de163d8565fc8aabd0cf9c6b8a09f3e">TEXTYPE_SHADOWMAP16_RAW</a>:</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49addcdfd96b68683438678b6a2a4d5f298">TEXTYPE_SHADOWMAP24_RAW</a>:</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#af5a50515d121e0ef24a67977c667add0">GL_TEXTURE_COMPARE_MODE</a>, <a class="code hl_define" href="glquake_8h.html#a089a3736e5280b9c7cc50129e2659974">GL_NONE</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textureenum</a>, <a class="code hl_define" href="glquake_8h.html#a06b8fecef765b110cff1a8aa1adbd794">GL_TEXTURE_COMPARE_FUNC</a>, <a class="code hl_define" href="glquake_8h.html#a8b778a06f153b4d59ebc6aa1d0996191">GL_LEQUAL</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    }</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span> </div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>}</div>
</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="foldopen" id="foldopen00928" data-start="{" data-end="}">
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a22649d292f9daa6aac55492cdfae2639">  928</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a22649d292f9daa6aac55492cdfae2639">R_UploadPartialTexture</a>(<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragx</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragy</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragz</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragwidth</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragheight</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragdepth</a>)</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>{</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>        <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;R_UploadPartialTexture \&quot;%s\&quot;: partial update with NULL pixels&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier);</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span> </div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype != <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>)</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>        <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;R_UploadPartialTexture \&quot;%s\&quot;: partial update of type other than 2D&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier);</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span> </div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype-&gt;textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>)</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>        <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;R_UploadPartialTexture \&quot;%s\&quot;: partial update of paletted texture&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier);</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span> </div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; (<a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a>))</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;R_UploadPartialTexture \&quot;%s\&quot;: partial update not supported with MIPMAP or PICMIP flags&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier);</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span> </div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth != 1)</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;R_UploadPartialTexture \&quot;%s\&quot;: partial update not supported with stretched or special textures&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier);</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span> </div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="comment">// update a portion of the image</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span> </div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    {</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        {</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>;</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>            <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>            <span class="comment">// we need to restore the texture binding after finishing the upload</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>            <a class="code hl_function" href="gl__backend_8c.html#a0b2dead0877ad8931b2887e1db6d8e1b">GL_ActiveTexture</a>(0);</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = <a class="code hl_function" href="gl__backend_8c.html#a47892b50a3a14b0aac522099722d6092">R_Mesh_TexBound</a>(0, <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype]);</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexSubImage2D</a>(<a class="code hl_define" href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fragheight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>        }</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    }</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>}</div>
</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span> </div>
<div class="foldopen" id="foldopen00965" data-start="{" data-end="}">
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ad94936028216d33162edc80fe5145eb7">  965</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#ad94936028216d33162edc80fe5145eb7">R_UploadFullTexture</a>(<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>{</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> = 0, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>;</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <a class="code hl_typedef" href="glquake_8h.html#a1df7fac5bc539d8661f0690e59a3c1b8">GLint</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = 0;</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>;</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span> </div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="comment">// error out if a stretch is needed on special texture types</span></div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype != <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth))</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;R_UploadFullTexture \&quot;%s\&quot;: stretch uploads allowed only on 2D textures\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier);</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span> </div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    <span class="comment">// when picmip or maxsize is applied, we scale up to a power of 2 multiple</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    <span class="comment">// of the target size and then use the mipmap reduction function to get</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="comment">// high quality supersampled results</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>  = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth;<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>  &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth ;<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>  &lt;&lt;= 1);</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight;<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight;<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> &lt;&lt;= 1);</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>  = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth;<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>  &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth ;<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>  &lt;&lt;= 1);</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span> </div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    {</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth;</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>        <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight;</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>        <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth;</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span><span class="comment">//      R_MakeResizeBufferBigger(width * height * depth * glt-&gt;sides * glt-&gt;bytesperpixel);</span></div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span><span class="comment">//      memset(resizebuffer, 0, width * height * depth * glt-&gt;sides * glt-&gt;bytesperpixel);</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span><span class="comment">//      prevbuffer = resizebuffer;</span></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>    }</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    {</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype-&gt;textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>)</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>        {</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>            <span class="comment">// promote paletted to BGRA, so we only have to worry about BGRA in the rest of this code</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>            <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>            <a class="code hl_function" href="image_8c.html#a90a86c90b143411780177d9e8adb8348">Image_Copy8bitBGRA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>, <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;palette);</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>;</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>        }</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>)</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        {</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>            <span class="comment">// multiply RGB channels by A channel before uploading</span></div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>            <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth*4;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += 4)</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>            {</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>                <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3];</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>                <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>) &gt;&gt; 8;</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>                <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>) &gt;&gt; 8;</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>                <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+2] = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+2] * <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>) &gt;&gt; 8;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>                <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3] = <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>;</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>            }</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a>;</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>        }</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>        <span class="comment">// scale up to a power of 2 size (if appropriate)</span></div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth != <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight != <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth != <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>)</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>        {</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>            <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>            <a class="code hl_function" href="image_8c.html#a45eeb5c3c9dd146b445d75e96b09fc3c">Image_Resample32</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth, <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, <a class="code hl_variable" href="gl__textures_8c.html#af665d40d132ff6714f9404c51c01eee4">r_lerpimages</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>;</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>        }</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        <span class="comment">// apply mipmap reduction algorithm to get down to picmip/max_size</span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth || <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight || <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth)</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>        {</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>            <a class="code hl_function" href="image_8c.html#a927509a9eae628b6572999c4b9898181">Image_MipReduce32</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>, <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth);</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>;</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>        }</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    }</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span> </div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>    <span class="comment">// do the appropriate upload type...</span></div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>    {</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum) <span class="comment">// not renderbuffers</span></div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        {</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>            <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span> </div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>            <span class="comment">// we need to restore the texture binding after finishing the upload</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>            <a class="code hl_function" href="gl__backend_8c.html#a0b2dead0877ad8931b2887e1db6d8e1b">GL_ActiveTexture</a>(0);</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = <a class="code hl_function" href="gl__backend_8c.html#a47892b50a3a14b0aac522099722d6092">R_Mesh_TexBound</a>(0, <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype]);</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span> </div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span><span class="preprocessor">#ifndef USE_GLES2</span></div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#a2ce62af3cf57b4b23d8010843814c594">gl_texturecompression</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt;= 2)</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglHint</a>(<a class="code hl_define" href="glquake_8h.html#a7970d7bc60644feb1efd44ac9ce1e796">GL_TEXTURE_COMPRESSION_HINT</a>, <a class="code hl_define" href="glquake_8h.html#a128a26f81010e89a69d8707419a99566">GL_NICEST</a>);</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglHint</a>(<a class="code hl_define" href="glquake_8h.html#a7970d7bc60644feb1efd44ac9ce1e796">GL_TEXTURE_COMPRESSION_HINT</a>, <a class="code hl_define" href="glquake_8h.html#a0ca47e506982d2b8d378f5b7e0e7c833">GL_FASTEST</a>);</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>            <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>            <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype)</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>            {</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>:</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexImage2D</a>(<a class="code hl_define" href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>                {</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>                    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> &gt; 1 || <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> &gt; 1 || <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> &gt; 1)</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>                    {</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>                        <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>                        <a class="code hl_function" href="image_8c.html#a927509a9eae628b6572999c4b9898181">Image_MipReduce32</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>, <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, 1, 1, 1);</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>;</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexImage2D</a>(<a class="code hl_define" href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>                    }</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>                }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ae36e23c20aa991d283947cef10b1c828">GLTEXTURETYPE_3D</a>:</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span><span class="preprocessor">#ifndef USE_GLES2</span></div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexImage3D</a>(<a class="code hl_define" href="glquake_8h.html#a6c865f303c89ec764158e0016e50d4a8">GL_TEXTURE_3D</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>                {</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>                    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> &gt; 1 || <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> &gt; 1 || <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> &gt; 1)</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>                    {</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>                        <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>                        <a class="code hl_function" href="image_8c.html#a927509a9eae628b6572999c4b9898181">Image_MipReduce32</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>, <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, 1, 1, 1);</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>;</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexImage3D</a>(<a class="code hl_define" href="glquake_8h.html#a6c865f303c89ec764158e0016e50d4a8">GL_TEXTURE_3D</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>                    }</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>                }</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b">GLTEXTURETYPE_CUBEMAP</a>:</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>                <span class="comment">// convert and upload each side in turn,</span></div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>                <span class="comment">// from a continuous block of input texels</span></div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>                <a class="code hl_variable" href="gl__textures_8c.html#a7c3d1b73c257c8f8f052bb9ca565289f">texturebuffer</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>;</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>                {</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#a7c3d1b73c257c8f8f052bb9ca565289f">texturebuffer</a>;</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>                    <a class="code hl_variable" href="gl__textures_8c.html#a7c3d1b73c257c8f8f052bb9ca565289f">texturebuffer</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype-&gt;inputbytesperpixel;</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth != <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight != <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth != <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>)</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>                    {</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>                        <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>                        <a class="code hl_function" href="image_8c.html#a45eeb5c3c9dd146b445d75e96b09fc3c">Image_Resample32</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth, <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, <a class="code hl_variable" href="gl__textures_8c.html#af665d40d132ff6714f9404c51c01eee4">r_lerpimages</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>;</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>                    }</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>                    <span class="comment">// picmip/max_size</span></div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>                    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth || <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight || <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth)</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>                    {</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>                        <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>                        <a class="code hl_function" href="image_8c.html#a927509a9eae628b6572999c4b9898181">Image_MipReduce32</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>, <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth);</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>;</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>                    }</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> = 0;</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexImage2D</a>(<a class="code hl_variable" href="gl__textures_8c.html#a6fc82fb747cd52b3f1d88eb7d1de43d2">cubemapside</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>)</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>                    {</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>                        <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> &gt; 1 || <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> &gt; 1 || <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> &gt; 1)</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>                        {</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>                            <a class="code hl_function" href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a>(<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>                            <a class="code hl_function" href="image_8c.html#a927509a9eae628b6572999c4b9898181">Image_MipReduce32</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>, <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, 1, 1, 1);</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a> = <a class="code hl_variable" href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a>;</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexImage2D</a>(<a class="code hl_variable" href="gl__textures_8c.html#a6fc82fb747cd52b3f1d88eb7d1de43d2">cubemapside</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevbuffer</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>                        }</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>                    }</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>                }</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>            }</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>            <a class="code hl_function" href="gl__textures_8c.html#a1ddecb645464a10b57916cb79c16bd4c">GL_SetupTextureParameters</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype-&gt;textype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype);</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        }</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>    }</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>}</div>
</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span> </div>
<div class="foldopen" id="foldopen01126" data-start="{" data-end="}">
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a75b53126e085ffee3023c351c3c8bbcf"> 1126</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_function" href="gl__textures_8c.html#a75b53126e085ffee3023c351c3c8bbcf">R_SetupTexture</a>(<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, <span class="keywordtype">int</span> sides, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> miplevel, <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype, <span class="keywordtype">int</span> texturetype, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *palette)</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>{</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *pool = (<a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>;</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> *texinfo, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfo2</a>;</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">swaprb</a>;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span> </div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span> </div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>    <span class="comment">// see if we need to swap red and blue (BGRA &lt;-&gt; RGBA conversion)</span></div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>    <span class="keywordflow">if</span> (textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a> &amp;&amp; <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a1c0221f7b714a977f0336becebbe928a">forcetextype</a> == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>)</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    {</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>        <span class="keywordtype">int</span> numpixels = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * sides;</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>        <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = numpixels * 4;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>        {</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>;</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numpixels;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a> += 4)</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>            {</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>                p = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)palette + 4*<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a>[0] = p[2];</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a>[1] = p[1];</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a>[2] = p[0];</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a>[3] = p[3];</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>            }</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        }</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>;</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>        textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>;</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    }</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">swaprb</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>    <span class="keywordflow">switch</span>(textype)</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    {</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>: <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a1c0221f7b714a977f0336becebbe928a">forcetextype</a> == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>) {<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">swaprb</a> = <span class="keyword">true</span>;textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>;} <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>: <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a1c0221f7b714a977f0336becebbe928a">forcetextype</a> == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>) {<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">swaprb</a> = <span class="keyword">true</span>;textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>;} <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7223103d7fdb53da14b2c1bd9f9b8f71">TEXTYPE_SRGB_RGBA</a>: <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a1c0221f7b714a977f0336becebbe928a">forcetextype</a> == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>) {<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">swaprb</a> = <span class="keyword">true</span>;textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20">TEXTYPE_SRGB_BGRA</a>;} <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20">TEXTYPE_SRGB_BGRA</a>: <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a1c0221f7b714a977f0336becebbe928a">forcetextype</a> == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>) {<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">swaprb</a> = <span class="keyword">true</span>;textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7223103d7fdb53da14b2c1bd9f9b8f71">TEXTYPE_SRGB_RGBA</a>;} <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>    }</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">swaprb</a>)</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    {</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>        <span class="comment">// swap bytes</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>        <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbaswapindices</a>[4] = {2, 1, 0, 3};</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>        <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * sides * 4;</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>            <a class="code hl_function" href="image_8c.html#ab264e6bc5c9178f4a425ab90f581325a">Image_CopyMux</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>*<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>*sides, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 4, 4, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbaswapindices</a>);</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>;</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>    }</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span> </div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>    <span class="comment">// if sRGB texture formats are not supported, convert input to linear and upload as normal types</span></div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">support</a>.<a class="code hl_variable" href="structviddef__support__t.html#a5a955edfc1c3d61db78f10d01b6a82f9">ext_texture_srgb</a>)</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    {</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>        <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">convertsRGB</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        <span class="keywordflow">switch</span>(textype)</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>        {</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a097d99b3e8dc9a6b3d55dc9a0f222db1">TEXTYPE_SRGB_DXT1</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>   ;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">convertsRGB</a> = <span class="keyword">true</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ac5defd59cdb910ae9b64009b32d960bd">TEXTYPE_SRGB_DXT1A</a>:   textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>  ;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">convertsRGB</a> = <span class="keyword">true</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a96ad45a0f26a7674d9bd8b81dbb7713a">TEXTYPE_SRGB_DXT3</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>   ;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">convertsRGB</a> = <span class="keyword">true</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8da0781911296792d297467881d3dc90">TEXTYPE_SRGB_DXT5</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>   ;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">convertsRGB</a> = <span class="keyword">true</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a932ace49f643197a23aae06d5397bff8">TEXTYPE_SRGB_PALETTE</a>: textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>;<span class="comment">/*convertsRGB = true;*/</span><span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7223103d7fdb53da14b2c1bd9f9b8f71">TEXTYPE_SRGB_RGBA</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>   ;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">convertsRGB</a> = <span class="keyword">true</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20">TEXTYPE_SRGB_BGRA</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>   ;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">convertsRGB</a> = <span class="keyword">true</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        }</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">convertsRGB</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>        {</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>            <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * sides * 4;</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>)</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>            {</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>;</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>            }</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>            <a class="code hl_function" href="image_8c.html#a046186d5387cfd4ccae31db2bc2d3585">Image_MakeLinearColorsFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>*<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>*<a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>*sides);</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        }</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    }</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span> </div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>    texinfo = <a class="code hl_function" href="gl__textures_8c.html#a0c91677391e7eec8e780120857d28cee">R_GetTexTypeInfo</a>(textype, flags);</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * sides * texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a3839a5a4dcb52893361bef2acde3b468">inputbytesperpixel</a>;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> &lt; 1)</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>    {</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;R_LoadTexture: bogus texture size (%dx%dx%dx%dbppx%dsides = %d bytes)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a3839a5a4dcb52893361bef2acde3b468">inputbytesperpixel</a> * 8, sides, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    }</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span> </div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    <span class="comment">// clear the alpha flag if the texture has no transparent pixels</span></div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    <span class="keywordflow">switch</span>(textype)</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>    {</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a>:</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a932ace49f643197a23aae06d5397bff8">TEXTYPE_SRGB_PALETTE</a>:</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>)</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        {</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>            flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>            {</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>                {</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>                    <span class="keywordflow">if</span> (((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;palette[<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]])[3] &lt; 255)</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>                    {</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>                        flags |= <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>                    }</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                }</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>            }</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>        }</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>:</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>:</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7223103d7fdb53da14b2c1bd9f9b8f71">TEXTYPE_SRGB_RGBA</a>:</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20">TEXTYPE_SRGB_BGRA</a>:</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>)</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>        {</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>            {</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += 4)</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>                {</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; 255)</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>                    {</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>                        flags |= <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>                    }</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                }</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>            }</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>        }</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8aa45b002c0da7b51b90b3d980dde237">TEXTYPE_SHADOWMAP16_COMP</a>:</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a3de163d8565fc8aabd0cf9c6b8a09f3e">TEXTYPE_SHADOWMAP16_RAW</a>:</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aebd75dc810a90799cf24bc6a2b1fdd86">TEXTYPE_SHADOWMAP24_COMP</a>:</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49addcdfd96b68683438678b6a2a4d5f298">TEXTYPE_SHADOWMAP24_RAW</a>:</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>:</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a097d99b3e8dc9a6b3d55dc9a0f222db1">TEXTYPE_SRGB_DXT1</a>:</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>:</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ac5defd59cdb910ae9b64009b32d960bd">TEXTYPE_SRGB_DXT1A</a>:</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>:</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a96ad45a0f26a7674d9bd8b81dbb7713a">TEXTYPE_SRGB_DXT3</a>:</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>:</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8da0781911296792d297467881d3dc90">TEXTYPE_SRGB_DXT5</a>:</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>        flags |= <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a664bec53bde56aea1719d74bf10415ce">TEXTYPE_ALPHA</a>:</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>        flags |= <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a78217cdbd846be90ada3c3e6e34b54e2">TEXTYPE_COLORBUFFER</a>:</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aff2b1b2f2f1450232e4c087a7ef6df1b">TEXTYPE_COLORBUFFER16F</a>:</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a99bf132eb3b3d5fedaa8e07719e126ed">TEXTYPE_COLORBUFFER32F</a>:</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>        flags |= <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>        <a class="code hl_function" href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a>(<span class="stringliteral">&quot;R_LoadTexture: unknown texture type&quot;</span>);</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    }</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span> </div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfo2</a> = <a class="code hl_function" href="gl__textures_8c.html#a0c91677391e7eec8e780120857d28cee">R_GetTexTypeInfo</a>(textype, flags);</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> == <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> * sides * texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a3839a5a4dcb52893361bef2acde3b468">inputbytesperpixel</a>)</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>        texinfo = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfo2</a>;</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;R_LoadTexture: input size changed after alpha fallback\n&quot;</span>);</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span> </div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_function" href="zone_8c.html#a6e8351ce990cc9c3c7eb1c6ac8c91921">Mem_ExpandableArray_AllocRecord</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>);</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    <span class="keywordflow">if</span> (identifier)</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier, identifier, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier));</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;pool = pool;</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;chain = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>;</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight = <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>;</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth = <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>;</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags = flags;</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevel = (miplevel &lt; 0) ? <a class="code hl_function" href="gl__textures_8c.html#aec07eb55a9842dfe14c818815a0068a7">R_PicmipForFlags</a>(flags) : miplevel; <span class="comment">// note: if miplevel is -1, we know the texture is in original size and we can picmip it normally</span></div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype = texinfo;</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype = texturetype;</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdatasize = <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;palette = palette;</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">glinternalformat</a> = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">glinternalformat</a>;</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a3d186ac94886c4d8aaaad148a6f9eefe">glformat</a>;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a0984fa10721f8a105460cc9079890808">gltype</a>;</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a257c0142b42b6b07f09d49b2d2e6c3d3">internalbytesperpixel</a>;</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype == <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b">GLTEXTURETYPE_CUBEMAP</a> ? 6 : 1;</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum = 0;</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;dirty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glisdepthstencil = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltexturetypeenum = <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype];</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>    <span class="comment">// init the dynamic texture attributes, too [11/22/2007 Black]</span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback_data = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span> </div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>    <a class="code hl_function" href="gl__textures_8c.html#a4da15e90c5f2022db2b74cf69fd77b9d">GL_Texture_CalcImageSize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevel, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevels);</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span> </div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    <span class="comment">// upload the texture</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>    <span class="comment">// data may be NULL (blank texture for dynamic rendering)</span></div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>    {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>        <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglGenTextures</a>(1, (<a class="code hl_typedef" href="glquake_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> *)&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>    }</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span> </div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    <a class="code hl_function" href="gl__textures_8c.html#ad94936028216d33162edc80fe5145eb7">R_UploadFullTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a621c5bf8f9aad67354954c08a2603e05">TEXF_ALLOWUPDATES</a>)</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bufferpixels = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel);</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span> </div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;buffermodified = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins);</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs);</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span> </div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>    <span class="comment">// free any temporary processing buffer we allocated...</span></div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>)</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temppixels</a>);</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span> </div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>    <span class="comment">// texture converting and uploading can take a while, so make sure we&#39;re sending keepalives</span></div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>    <span class="comment">// FIXME: this causes rendering during R_Shadow_DrawLights</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span><span class="comment">//  CL_KeepaliveMessage(false);</span></div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span> </div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>}</div>
</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span> </div>
<div class="foldopen" id="foldopen01352" data-start="{" data-end="}">
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384"> 1352</a></span><a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> miplevel, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *palette)</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>{</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__textures_8c.html#a75b53126e085ffee3023c351c3c8bbcf">R_SetupTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, identifier, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 1, 1, flags, miplevel, textype, <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, palette);</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>}</div>
</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span> </div>
<div class="foldopen" id="foldopen01357" data-start="{" data-end="}">
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#ad4df59df0b150a5f85d36b5f3f8be05d"> 1357</a></span><a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_function" href="gl__textures_8c.html#ad4df59df0b150a5f85d36b5f3f8be05d">R_LoadTexture3D</a>(<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> miplevel, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *palette)</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>{</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__textures_8c.html#a75b53126e085ffee3023c351c3c8bbcf">R_SetupTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, identifier, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, 1, flags, miplevel, textype, <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ae36e23c20aa991d283947cef10b1c828">GLTEXTURETYPE_3D</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, palette);</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>}</div>
</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span> </div>
<div class="foldopen" id="foldopen01362" data-start="{" data-end="}">
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aae064c0cd5965363555303294ef23873"> 1362</a></span><a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_function" href="gl__textures_8c.html#aae064c0cd5965363555303294ef23873">R_LoadTextureCubeMap</a>(<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> miplevel, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *palette)</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>{</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__textures_8c.html#a75b53126e085ffee3023c351c3c8bbcf">R_SetupTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, identifier, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, 1, 6, flags, miplevel, textype, <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b">GLTEXTURETYPE_CUBEMAP</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, palette);</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>}</div>
</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span> </div>
<div class="foldopen" id="foldopen01367" data-start="{" data-end="}">
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a626964d959ef3a7dbf9bb4800d519a0d"> 1367</a></span><a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_function" href="gl__textures_8c.html#a626964d959ef3a7dbf9bb4800d519a0d">R_LoadTextureShadowMap2D</a>(<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#a4ce1ca5c9ebc5ced8ab53ca569f1fe65">filter</a>)</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>{</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__textures_8c.html#a75b53126e085ffee3023c351c3c8bbcf">R_SetupTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, identifier, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 1, 1, <a class="code hl_define" href="r__textures_8h.html#ae7321fcd751438a62912cc8cf7715d6e">TEXF_RENDERTARGET</a> | <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a> | (<a class="code hl_variable" href="glquake_8h.html#a4ce1ca5c9ebc5ced8ab53ca569f1fe65">filter</a> ? <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> : <a class="code hl_define" href="r__textures_8h.html#aa97b4aaf90cefe1dff4cb00f2b232127">TEXF_FORCENEAREST</a>), -1, textype, <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>}</div>
</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span> </div>
<div class="foldopen" id="foldopen01372" data-start="{" data-end="}">
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a347f3b0720f84542111247e0033f768e"> 1372</a></span><a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_function" href="gl__textures_8c.html#a347f3b0720f84542111247e0033f768e">R_LoadTextureRenderBuffer</a>(<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype)</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>{</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>    <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *pool = (<a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>;</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>    <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> *texinfo;</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span> </div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span> </div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    texinfo = <a class="code hl_function" href="gl__textures_8c.html#a0c91677391e7eec8e780120857d28cee">R_GetTexTypeInfo</a>(textype, <a class="code hl_define" href="r__textures_8h.html#ae7321fcd751438a62912cc8cf7715d6e">TEXF_RENDERTARGET</a> | <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>);</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_function" href="zone_8c.html#a6e8351ce990cc9c3c7eb1c6ac8c91921">Mem_ExpandableArray_AllocRecord</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>);</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>    <span class="keywordflow">if</span> (identifier)</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier, identifier, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier));</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;pool = pool;</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;chain = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>;</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight = <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>;</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth = 1;</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags = <a class="code hl_define" href="r__textures_8h.html#ae7321fcd751438a62912cc8cf7715d6e">TEXF_RENDERTARGET</a> | <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a> | <a class="code hl_define" href="r__textures_8h.html#aa97b4aaf90cefe1dff4cb00f2b232127">TEXF_FORCENEAREST</a>;</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevel = 0;</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype = texinfo;</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype = textype;</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdatasize = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>*<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>*texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a257c0142b42b6b07f09d49b2d2e6c3d3">internalbytesperpixel</a>;</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;palette = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">glinternalformat</a>;</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a3d186ac94886c4d8aaaad148a6f9eefe">glformat</a>;</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a0984fa10721f8a105460cc9079890808">gltype</a>;</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a257c0142b42b6b07f09d49b2d2e6c3d3">internalbytesperpixel</a>;</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype == <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b">GLTEXTURETYPE_CUBEMAP</a> ? 6 : 1;</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum = 0;</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;dirty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glisdepthstencil = textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ae5b7ba5d8409f9149b39c2147d3ffa20">TEXTYPE_DEPTHBUFFER24STENCIL8</a>;</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltexturetypeenum = <a class="code hl_define" href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>;</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>    <span class="comment">// init the dynamic texture attributes, too [11/22/2007 Black]</span></div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;updatecallback_data = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span> </div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    <a class="code hl_function" href="gl__textures_8c.html#a4da15e90c5f2022db2b74cf69fd77b9d">GL_Texture_CalcImageSize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevel, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevels);</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span> </div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    <span class="comment">// upload the texture</span></div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>    <span class="comment">// data may be NULL (blank texture for dynamic rendering)</span></div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>    {</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>        <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglGenRenderbuffers</a>(1, (<a class="code hl_typedef" href="glquake_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> *)&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;renderbuffernum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindRenderbuffer</a>(<a class="code hl_define" href="glquake_8h.html#a8ac689a8905a064025cbe41d4cf8fcf5">GL_RENDERBUFFER</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;renderbuffernum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglRenderbufferStorage</a>(<a class="code hl_define" href="glquake_8h.html#a8ac689a8905a064025cbe41d4cf8fcf5">GL_RENDERBUFFER</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>        <span class="comment">// note we can query the renderbuffer for info with glGetRenderbufferParameteriv for GL_WIDTH, GL_HEIGHt, GL_RED_SIZE, GL_GREEN_SIZE, GL_BLUE_SIZE, GL_GL_ALPHA_SIZE, GL_DEPTH_SIZE, GL_STENCIL_SIZE, GL_INTERNAL_FORMAT</span></div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindRenderbuffer</a>(<a class="code hl_define" href="glquake_8h.html#a8ac689a8905a064025cbe41d4cf8fcf5">GL_RENDERBUFFER</a>, 0);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>    }</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span> </div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>}</div>
</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span> </div>
<div class="foldopen" id="foldopen01431" data-start="{" data-end="}">
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aa2b47118bece0b52e2301a1b6d80cd2e"> 1431</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="gl__textures_8c.html#aa2b47118bece0b52e2301a1b6d80cd2e">R_SaveTextureDDSFile</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skipuncompressed</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> hasalpha)</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>{</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span><span class="preprocessor">#ifdef USE_GLES2</span></div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>    <span class="keywordflow">return</span> -1; <span class="comment">// unsupported on this platform</span></div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>;</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>;</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>;</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    <span class="keywordtype">int</span> bytesperpixel = 0;</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 0;</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_flags</a>;</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a>;</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_caps1</a>;</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_caps2</a>;</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>;</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipmaps</a>;</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[16][4];</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> = 128;</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>    <a class="code hl_typedef" href="glquake_8h.html#a1df7fac5bc539d8661f0690e59a3c1b8">GLint</a> <a class="code hl_variable" href="glquake_8h.html#a9325beace1bf7e7a0540e1361a3ad15b">internalformat</a>;</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfourcc</a>;</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>        <span class="keywordflow">return</span> -1; <span class="comment">// NULL pointer</span></div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="vid_8h.html#a8ad4fd4a0fc26d32b2587f36584ec528">gl_version</a>, <span class="stringliteral">&quot;2.0.5885 WinXP Release&quot;</span>))</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>        <span class="keywordflow">return</span> -2; <span class="comment">// broken driver - crashes on reading internal format</span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglGetTexLevelParameteriv</a>)</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>        <span class="keywordflow">return</span> -2;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>    <a class="code hl_function" href="gl__backend_8c.html#a0b2dead0877ad8931b2887e1db6d8e1b">GL_ActiveTexture</a>(0);</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = <a class="code hl_function" href="gl__backend_8c.html#a47892b50a3a14b0aac522099722d6092">R_Mesh_TexBound</a>(0, <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype]);</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglGetTexLevelParameteriv</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], 0, <a class="code hl_define" href="glquake_8h.html#aa00e7c44b6e75517063f9aa442396c69">GL_TEXTURE_INTERNAL_FORMAT</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a9325beace1bf7e7a0540e1361a3ad15b">internalformat</a>);</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#a9325beace1bf7e7a0540e1361a3ad15b">internalformat</a>)</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>    {</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    <span class="keywordflow">default</span>: <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfourcc</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;bytesperpixel = 4;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="glquake_8h.html#a76871dbc9ac35424b25ebc707ca11390">GL_COMPRESSED_RGB_S3TC_DXT1_EXT</a>:</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="glquake_8h.html#aaeed69f7c55e377901d9ff6d00463efa">GL_COMPRESSED_RGBA_S3TC_DXT1_EXT</a>: <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfourcc</a> = <span class="stringliteral">&quot;DXT1&quot;</span>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 8;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="glquake_8h.html#aababc4e27a4845063f8d1b7b91c20b2e">GL_COMPRESSED_RGBA_S3TC_DXT3_EXT</a>: <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfourcc</a> = <span class="stringliteral">&quot;DXT3&quot;</span>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 16;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="glquake_8h.html#a5f6e032bc5f877d09491c9a8ed191571">GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</a>: <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfourcc</a> = <span class="stringliteral">&quot;DXT5&quot;</span>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 16;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    }</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>    <span class="comment">// if premultiplied alpha, say so in the DDS file</span></div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>)</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    {</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#a9325beace1bf7e7a0540e1361a3ad15b">internalformat</a>)</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        {</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="glquake_8h.html#aababc4e27a4845063f8d1b7b91c20b2e">GL_COMPRESSED_RGBA_S3TC_DXT3_EXT</a>: <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfourcc</a> = <span class="stringliteral">&quot;DXT2&quot;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="glquake_8h.html#a5f6e032bc5f877d09491c9a8ed191571">GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</a>: <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfourcc</a> = <span class="stringliteral">&quot;DXT4&quot;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>        }</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>    }</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skipuncompressed</a>)</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>        <span class="keywordflow">return</span> -3; <span class="comment">// skipped</span></div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>));</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[0][0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[0][1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight;</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipmaps</a> = 1;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>) &amp;&amp; !(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth == 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight == 1))</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>    {</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> = 1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> &lt; 16;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++)</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>        {</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>-1][0] &gt; 1 ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>-1][0] &gt;&gt; 1 : 1;</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>-1][1] &gt; 1 ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>-1][1] &gt;&gt; 1 : 1;</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][0] == 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][1] == 1)</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>            {</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++;</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>            }</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>        }</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipmaps</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>;</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    }</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipmaps</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++)</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    {</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> ? ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][0]+3)/4)*((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][1]+3)/4)*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][1]*bytesperpixel;</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][3] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a>;</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][2];</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    }</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a>);</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>)</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>        <span class="keywordflow">return</span> -4;</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_caps1</a> = 0x1000; <span class="comment">// DDSCAPS_TEXTURE</span></div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_caps2</a> = 0;</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    {</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_flags</a> = 0x81007; <span class="comment">// DDSD_CAPS | DDSD_PIXELFORMAT | DDSD_WIDTH | DDSD_HEIGHT | DDSD_LINEARSIZE</span></div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a> = 0x4; <span class="comment">// DDPF_FOURCC</span></div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    }</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>    {</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_flags</a> = 0x100F; <span class="comment">// DDSD_CAPS | DDSD_PIXELFORMAT | DDSD_WIDTH | DDSD_HEIGHT | DDSD_PITCH</span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a> = 0x40; <span class="comment">// DDPF_RGB</span></div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    }</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipmaps</a>)</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>    {</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_flags</a> |= 0x20000; <span class="comment">// DDSD_MIPMAPCOUNT</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_caps1</a> |= 0x400008; <span class="comment">// DDSCAPS_MIPMAP | DDSCAPS_COMPLEX</span></div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    }</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>    <span class="keywordflow">if</span>(hasalpha)</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a> |= 0x1; <span class="comment">// DDPF_ALPHAPIXELS</span></div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>, <span class="stringliteral">&quot;DDS &quot;</span>, 4);</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+4, 124); <span class="comment">// http://msdn.microsoft.com/en-us/library/bb943982%28v=vs.85%29.aspx says so</span></div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+8, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_flags</a>);</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+12, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[0][1]); <span class="comment">// height</span></div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+16, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[0][0]); <span class="comment">// width</span></div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+24, 0); <span class="comment">// depth</span></div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+28, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipmaps</a>); <span class="comment">// mipmaps</span></div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+76, 32); <span class="comment">// format size</span></div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+80, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a>);</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+108, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_caps1</a>);</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+112, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_caps2</a>);</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    {</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>        <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+20, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[0][2]); <span class="comment">// linear size</span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+84, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfourcc</a>, 4);</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipmaps</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++)</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>        {</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglGetCompressedTexImage</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][3]);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>        }</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>    }</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>    {</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>        <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+20, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[0][0]*bytesperpixel); <span class="comment">// pitch</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>        <a class="code hl_function" href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+88, bytesperpixel*8); <span class="comment">// bits per pixel</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>[94] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>[97] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>[100] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>[107] = 255; <span class="comment">// bgra byte order masks</span></div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipmaps</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++)</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>        {</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglGetTexImage</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>, <a class="code hl_define" href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a>, <a class="code hl_define" href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>][3]);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>        }</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>    }</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="fs_8c.html#a2a2eae59234c2478341fea0a380e99ac">FS_WriteFile</a>(filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a>);</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> : -5;</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>}</div>
</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span> </div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span><span class="preprocessor">#ifdef __ANDROID__</span></div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span><span class="comment">// ELUAN: FIXME: separate this code</span></div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span><span class="preprocessor">#include &quot;ktx10/include/ktx.h&quot;</span></div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span> </div>
<div class="foldopen" id="foldopen01569" data-start="{" data-end="}">
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a7f4d5f40defd0780a649baa35554753e"> 1569</a></span><a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_function" href="gl__textures_8c.html#a7f4d5f40defd0780a649baa35554753e">R_LoadTextureDDSFile</a>(<a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">srgb</a>, <span class="keywordtype">int</span> flags, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hasalphaflag</a>, <span class="keywordtype">float</span> *avgcolor, <span class="keywordtype">int</span> miplevel, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">optionaltexture</a>) <span class="comment">// DDS textures are opaque, so miplevel isn&#39;t a pointer but just seen as a hint</span></div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>{</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_width</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_height</a>;</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>    <span class="comment">//int dds_flags;</span></div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>    <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype;</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>, bytesperpixel;</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipcomplete</a>;</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>    <a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *pool = (<a class="code hl_struct" href="structgltexturepool__t.html">gltexturepool_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rtexturepool</a>;</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>    <a class="code hl_struct" href="structtextypeinfo__t.html">textypeinfo_t</a> *texinfo;</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_total</a>;</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c, <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>    <a class="code hl_typedef" href="glquake_8h.html#a1df7fac5bc539d8661f0690e59a3c1b8">GLint</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = 0;</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>;</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>;</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>;</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>;</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>;</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a>;</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force_swdecode</a>;</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span><span class="preprocessor">#ifdef __ANDROID__</span></div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    <span class="comment">// ELUAN: FIXME: separate this code</span></div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf2</a>[1024];</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strsize</a>;</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">KTX_dimensions</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>;</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span> </div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span> </div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span><span class="preprocessor">#ifdef __ANDROID__</span></div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    <span class="comment">// ELUAN: FIXME: separate this code</span></div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a> != <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>)</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    {</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;KTX texture format is only supported on the GLES2 renderpath\n&quot;</span>);</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>    }</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span> </div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>    <span class="comment">// some textures are specified with extensions, so it becomes .tga.dds</span></div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>    <a class="code hl_function" href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a> (filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf2</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf2</a>));</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>    <a class="code hl_function" href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>));</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    <a class="code hl_function" href="fs_8c.html#a37e1e4de914927db015a75a5a2817a8f">FS_DefaultExtension</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="stringliteral">&quot;.ktx&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>));</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strsize</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>);</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strsize</a> &gt; 5)</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strsize</a> - 4; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) <span class="comment">// copy null termination</span></div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 4];</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span> </div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Loading %s...\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>);</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a> = <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>);</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>;</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span> </div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>)</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    {</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Not found!\n&quot;</span>);</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">// not found</span></div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>    }</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Found!\n&quot;</span>);</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span> </div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>    <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>)</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>    {</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;KTX texture with alpha not supported yet, disabling\n&quot;</span>);</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>        flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>    }</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span> </div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>    {</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>        <a class="code hl_typedef" href="glquake_8h.html#a927f9e229ec7a64384ed1fdf889d0e9c">GLenum</a> target;</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>        <a class="code hl_typedef" href="glquake_8h.html#a927f9e229ec7a64384ed1fdf889d0e9c">GLenum</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glerror</a>;</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>        <a class="code hl_typedef" href="glquake_8h.html#a53c5acd584fe74e6090441964a422dee">GLboolean</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isMipmapped</a>;</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">KTX_error_code</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ktxerror</a>;</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span> </div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_function" href="zone_8c.html#a6e8351ce990cc9c3c7eb1c6ac8c91921">Mem_ExpandableArray_AllocRecord</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>);</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span> </div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>        <span class="comment">// texture uploading can take a while, so make sure we&#39;re sending keepalives</span></div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>        <a class="code hl_function" href="cl__parse_8c.html#ac6ab3e260289abd4d92f1e4974190626">CL_KeepaliveMessage</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span> </div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>        <span class="comment">// create the texture object</span></div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>        <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>        <a class="code hl_function" href="gl__backend_8c.html#a0b2dead0877ad8931b2887e1db6d8e1b">GL_ActiveTexture</a>(0);</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = <a class="code hl_function" href="gl__backend_8c.html#a47892b50a3a14b0aac522099722d6092">R_Mesh_TexBound</a>(0, <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>]);</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglGenTextures</a>(1, (<a class="code hl_typedef" href="glquake_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> *)&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span> </div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>        <span class="comment">// upload the texture</span></div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>        <span class="comment">// we need to restore the texture binding after finishing the upload</span></div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span> </div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>        <span class="comment">// NOTE: some drivers fail with ETC1 NPOT (only PowerVR?). This may make the driver crash later.</span></div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ktxerror</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ktxLoadTextureM</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum, &amp;target, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isMipmapped</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glerror</a>,</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>                                0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);<span class="comment">// can&#39;t CHECKGLERROR, the lib catches it</span></div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span> </div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>        <span class="comment">// FIXME: delete texture if we fail here</span></div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>        <span class="keywordflow">if</span> (target != <a class="code hl_define" href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>)</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>        {</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;%s target != GL_TEXTURE_2D, target == %x\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, target);</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">// FIXME: delete the texture from memory</span></div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>        }</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span> </div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">KTX_SUCCESS</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ktxerror</a>)</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>        {</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>            textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1804c7b4ffa7ec8901b4ad26ad126d1c">TEXTYPE_ETC1</a>;</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>            flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_COMPRESS</a>; <span class="comment">// don&#39;t let the textype be wrong</span></div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span> </div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>            <span class="comment">// return whether this texture is transparent</span></div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hasalphaflag</a>)</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>                *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hasalphaflag</a> = (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) != 0;</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span> </div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>            <span class="comment">// TODO: apply gl_picmip</span></div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>            <span class="comment">// TODO: avgcolor</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>            <span class="comment">// TODO: srgb</span></div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>            <span class="comment">// TODO: only load mipmaps if requested</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span> </div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isMipmapped</a>)</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>                flags |= <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>;</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>                flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_MIPMAP</a>;</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span> </div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>            texinfo = <a class="code hl_function" href="gl__textures_8c.html#a0c91677391e7eec8e780120857d28cee">R_GetTexTypeInfo</a>(textype, flags);</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span> </div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier));</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;pool = pool;</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;chain = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>;</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>            pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>.width;</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>.height;</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth = 1;</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags = flags;</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype = texinfo;</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype = <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>;</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdatasize = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a>;</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">glinternalformat</a> = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">glinternalformat</a>;</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a3d186ac94886c4d8aaaad148a6f9eefe">glformat</a>;</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a0984fa10721f8a105460cc9079890808">gltype</a>;</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a257c0142b42b6b07f09d49b2d2e6c3d3">internalbytesperpixel</a>;</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides = 1;</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltexturetypeenum = <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype];</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>.width;</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>.height;</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth = 1;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevels = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isMipmapped</a> ? 1 : 0; <span class="comment">// FIXME</span></div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span> </div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>                <span class="comment">// after upload we have to set some parameters...</span></div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span><span class="preprocessor">#ifdef GL_TEXTURE_MAX_LEVEL</span></div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>            <span class="comment">/* FIXME</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span><span class="comment">                if (dds_miplevels &gt;= 1 &amp;&amp; !mipcomplete)</span></div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span><span class="comment">                {</span></div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span><span class="comment">                    // need to set GL_TEXTURE_MAX_LEVEL</span></div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span><span class="comment">                    qglTexParameteri(gltexturetypeenums[glt-&gt;texturetype], GL_TEXTURE_MAX_LEVEL, dds_miplevels - 1);CHECKGLERROR</span></div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span><span class="comment">                }</span></div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span><span class="comment">            */</span></div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>                <a class="code hl_function" href="gl__textures_8c.html#a1ddecb645464a10b57916cb79c16bd4c">GL_SetupTextureParameters</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype-&gt;textype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype);</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span> </div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>                <span class="keywordflow">return</span> (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>        }</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>        {</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;KTX texture %s failed to load: %x\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ktxerror</a>);</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>        }</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>    }</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span><span class="preprocessor">#endif </span><span class="comment">// __ANDROID__</span></div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span> </div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a> = <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(filename, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>);</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>;</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span> </div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>)</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>    {</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#abea2c0f96504988f0120a63dca996137">r_texture_dds_load_logfailure</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; (<a class="code hl_variable" href="gl__textures_8c.html#abea2c0f96504988f0120a63dca996137">r_texture_dds_load_logfailure</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt;= 2 || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">optionaltexture</a>))</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>            <a class="code hl_function" href="console_8c.html#afd8f8b9bd0352435b1a96b4e77b965e3">Log_Printf</a>(<span class="stringliteral">&quot;ddstexturefailures.log&quot;</span>, <span class="stringliteral">&quot;%s\n&quot;</span>, filename);</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">// not found</span></div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>    }</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span> </div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a> &lt;= 128 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>, <span class="stringliteral">&quot;DDS &quot;</span>, 4) || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> &lt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+4) || <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+76) != 32)</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>    {</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: not a DDS image\n&quot;</span>, filename);</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    }</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span> </div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>    <span class="comment">//dds_flags = BuffLittleLong(dds+8);</span></div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+80);</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a> = (<a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+108) &amp; 0x400000) ? <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+28) : 1;</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_width</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+16);</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_height</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+12);</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a> + 128;</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span> </div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="gl__textures_8c.html#ab93a4e19d0393d3572104095a50b7240">r_texture_dds_load_alphamode</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> == 0)</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>        <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a> &amp; 0x1)) <span class="comment">// DDPF_ALPHAPIXELS</span></div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>            flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span> </div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>    <span class="comment">//flags &amp;= ~TEXF_ALPHA; // disabled, as we DISABLE TEXF_ALPHA in the alpha detection, not enable it!</span></div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_format_flags</a> &amp; 0x40) &amp;&amp; <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+88) == 32)</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    {</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>        <span class="comment">// very sloppy BGRA 32bit identification</span></div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>;</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_COMPRESS</a>; <span class="comment">// don&#39;t let the textype be wrong</span></div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 0;</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        bytesperpixel = 4;</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_define" href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a>(<a class="code hl_define" href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_width</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_height</a>), bytesperpixel);</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(128, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>) &gt; <a class="code hl_define" href="qdefs_8h.html#a6710c91437844bebbe49a2bbcc09ff49">INTOVERFLOW_NORMALIZE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>))</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>        {</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: invalid BGRA DDS image\n&quot;</span>, filename);</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>        }</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>        <span class="keywordflow">if</span>((<a class="code hl_variable" href="gl__textures_8c.html#ab93a4e19d0393d3572104095a50b7240">r_texture_dds_load_alphamode</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> == 1) &amp;&amp; (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>))</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>        {</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>            <span class="comment">// check alpha</span></div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += 4)</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; 255)</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>)</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>                flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>        }</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    }</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+84, <span class="stringliteral">&quot;DXT1&quot;</span>, 4))</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    {</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>        <span class="comment">// we need to find out if this is DXT1 (opaque) or DXT1A (transparent)</span></div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>        <span class="comment">// LadyHavoc: it is my belief that this does not infringe on the</span></div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>        <span class="comment">// patent because it is not decoding pixels...</span></div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>        textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>;</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 8;</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>        bytesperpixel = 0;</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>        <span class="comment">//size = ((dds_width+3)/4)*((dds_height+3)/4)*bytesperblock;</span></div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>        <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_define" href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a>(<a class="code hl_define" href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a>(<a class="code hl_define" href="qdefs_8h.html#aee78a41fb89f0b15c27197014d6b311a">INTOVERFLOW_DIV</a>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_width</a>, 3), 4), <a class="code hl_define" href="qdefs_8h.html#aee78a41fb89f0b15c27197014d6b311a">INTOVERFLOW_DIV</a>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_height</a>, 3), 4)), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>);</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(128, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>) &gt; <a class="code hl_define" href="qdefs_8h.html#a6710c91437844bebbe49a2bbcc09ff49">INTOVERFLOW_NORMALIZE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>))</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>        {</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: invalid DXT1 DDS image\n&quot;</span>, filename);</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>        }</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>)</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>        {</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#ab93a4e19d0393d3572104095a50b7240">r_texture_dds_load_alphamode</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> == 1)</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>            {</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>                <span class="comment">// check alpha</span></div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+0] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] * 256 &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+2] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3] * 256)</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>                    {</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>                        <span class="comment">// NOTE: this assumes sizeof(unsigned int) == 4</span></div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = * (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) &amp;(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+4]);</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>                        <span class="comment">// check if data, in base 4, contains a digit 3 (DXT1: transparent pixel)</span></div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> &amp; (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>&lt;&lt;1) &amp; 0xAAAAAAAA)<span class="comment">//rgh</span></div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>                    }</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>)</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>                    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>;</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>                    flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>            }</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#ab93a4e19d0393d3572104095a50b7240">r_texture_dds_load_alphamode</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> == 0)</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>                textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>;</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>            {</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>                flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_ALPHA</a>;</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>            }</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>        }</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>    }</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+84, <span class="stringliteral">&quot;DXT3&quot;</span>, 4) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+84, <span class="stringliteral">&quot;DXT2&quot;</span>, 4))</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>    {</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+84, <span class="stringliteral">&quot;DXT2&quot;</span>, 4))</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>        {</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>            <span class="keywordflow">if</span>(!(flags &amp; <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>))</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>            {</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: expecting DXT3 image without premultiplied alpha, got DXT2 image with premultiplied alpha\n&quot;</span>, filename);</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>            }</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>        }</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>        {</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>            <span class="keywordflow">if</span>(flags &amp; <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>)</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>            {</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: expecting DXT2 image without premultiplied alpha, got DXT3 image without premultiplied alpha\n&quot;</span>, filename);</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>            }</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>        }</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>        textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>;</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 16;</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>        bytesperpixel = 0;</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>        <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_define" href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a>(<a class="code hl_define" href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a>(<a class="code hl_define" href="qdefs_8h.html#aee78a41fb89f0b15c27197014d6b311a">INTOVERFLOW_DIV</a>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_width</a>, 3), 4), <a class="code hl_define" href="qdefs_8h.html#aee78a41fb89f0b15c27197014d6b311a">INTOVERFLOW_DIV</a>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_height</a>, 3), 4)), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>);</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(128, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>) &gt; <a class="code hl_define" href="qdefs_8h.html#a6710c91437844bebbe49a2bbcc09ff49">INTOVERFLOW_NORMALIZE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>))</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>        {</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: invalid DXT3 DDS image\n&quot;</span>, filename);</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>        }</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>        <span class="comment">// we currently always assume alpha</span></div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>    }</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+84, <span class="stringliteral">&quot;DXT5&quot;</span>, 4) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+84, <span class="stringliteral">&quot;DXT4&quot;</span>, 4))</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>    {</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>+84, <span class="stringliteral">&quot;DXT4&quot;</span>, 4))</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>        {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>            <span class="keywordflow">if</span>(!(flags &amp; <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>))</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>            {</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: expecting DXT5 image without premultiplied alpha, got DXT4 image with premultiplied alpha\n&quot;</span>, filename);</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>            }</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>        }</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>        {</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>            <span class="keywordflow">if</span>(flags &amp; <a class="code hl_define" href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a>)</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>            {</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: expecting DXT4 image without premultiplied alpha, got DXT5 image without premultiplied alpha\n&quot;</span>, filename);</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>            }</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>        }</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>        textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>;</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 16;</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>        bytesperpixel = 0;</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>        <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_define" href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a>(<a class="code hl_define" href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a>(<a class="code hl_define" href="qdefs_8h.html#aee78a41fb89f0b15c27197014d6b311a">INTOVERFLOW_DIV</a>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_width</a>, 3), 4), <a class="code hl_define" href="qdefs_8h.html#aee78a41fb89f0b15c27197014d6b311a">INTOVERFLOW_DIV</a>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_height</a>, 3), 4)), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>);</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a>(128, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>) &gt; <a class="code hl_define" href="qdefs_8h.html#a6710c91437844bebbe49a2bbcc09ff49">INTOVERFLOW_NORMALIZE</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddsfilesize</a>))</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>        {</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: invalid DXT5 DDS image\n&quot;</span>, filename);</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>        }</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>        <span class="comment">// we currently always assume alpha</span></div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>    }</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>    {</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1%s: unrecognized/unsupported DDS format\n&quot;</span>, filename);</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    }</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span> </div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>    <span class="comment">// when requesting a non-alpha texture and we have DXT3/5, convert to DXT1</span></div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>    <span class="keywordflow">if</span>(!(flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) &amp;&amp; (textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a> || textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>))</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>    {</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>        textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>;</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 8;</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> -= 128;</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> /= 2;</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>[(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;&lt;1)+8], 8);</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> += 128;</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>    }</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span> </div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force_swdecode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>    {</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">support</a>.<a class="code hl_variable" href="structviddef__support__t.html#a4533325c0b90bb9bfd4c7656f53bf201">ext_texture_compression_s3tc</a>)</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>        {</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="gl__textures_8c.html#a3e74cecd1292f8564cac2765e4bc8338">r_texture_dds_swdecode</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; 1)</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force_swdecode</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>        }</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>        {</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="gl__textures_8c.html#a3e74cecd1292f8564cac2765e4bc8338">r_texture_dds_swdecode</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &lt; 1)</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>            {</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>                <span class="comment">// unsupported</span></div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>            }</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force_swdecode</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>        }</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>    }</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span> </div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>    <span class="comment">// return whether this texture is transparent</span></div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hasalphaflag</a>)</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hasalphaflag</a> = (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>) != 0;</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span> </div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>    <span class="comment">// if we SW decode, choose 2 sizes bigger</span></div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force_swdecode</a>)</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>    {</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>        <span class="comment">// this is quarter res, so do not scale down more than we have to</span></div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>        miplevel -= 2;</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span> </div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>        <span class="keywordflow">if</span>(miplevel &lt; 0)</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;WARNING: fake software decoding of compressed texture %s degraded quality\n&quot;</span>, filename);</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>    }</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span> </div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>    <span class="comment">// this is where we apply gl_picmip</span></div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>;</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_width</a>;</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_height</a>;</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>    <span class="keywordflow">while</span>(miplevel &gt;= 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a> &gt;= 1)</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    {</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> &lt;= 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> &lt;= 1)</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> ? ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>+3)/4)*((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>+3)/4)*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>*bytesperpixel;</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a>; <span class="comment">// just skip</span></div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>        --<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a>;</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>        --miplevel;</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> &gt; 1)</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> &gt;&gt;= 1;</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> &gt; 1)</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> &gt;&gt;= 1;</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>    }</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_total</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a> - 128 - (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddspixels</a>);</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> ? ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>+3)/4)*((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>+3)/4)*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>*bytesperpixel;</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span> </div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>    <span class="comment">// from here on, we do not need the ddspixels and ddssize any more (apart from the statistics entry in glt)</span></div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span> </div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>    <span class="comment">// fake decode S3TC if needed</span></div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force_swdecode</a>)</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>    {</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_new</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_total</a> / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> * 4;</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipnewpixels</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_new</a>);</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipnewpixels</a>;</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> == 16 ? 8 : 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_total</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>, p += 4)</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>        {</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>            <span class="comment">// UBSan: unsigned literals because promotion to int causes signed overflow when mippixels_start &gt;= 128</span></div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>            c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 256u*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] + 65536u*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+2] + 16777216u*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3];</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>            p[2] = (((c &gt;&gt; 11) &amp; 0x1F) + ((c &gt;&gt; 27) &amp; 0x1F)) * (0.5f / 31.0f * 255.0f);</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>            p[1] = (((c &gt;&gt;  5) &amp; 0x3F) + ((c &gt;&gt; 21) &amp; 0x3F)) * (0.5f / 63.0f * 255.0f);</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>            p[0] = (((c      ) &amp; 0x1F) + ((c &gt;&gt; 16) &amp; 0x1F)) * (0.5f / 31.0f * 255.0f);</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>            <span class="keywordflow">if</span>(textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>)</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>                p[3] = (0.5 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-8] + 0.5 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-7]);</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>)</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>                p[3] = (</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>                      (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-8] &amp; 0x0F)</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>                    + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-8] &gt;&gt; 4)</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>                    + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-7] &amp; 0x0F)</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>                    + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-7] &gt;&gt; 4)</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>                    + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-6] &amp; 0x0F)</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>                    + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-6] &gt;&gt; 4)</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>                    + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-5] &amp; 0x0F)</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>                    + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-5] &gt;&gt; 4)</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>                       ) * (0.125f / 15.0f * 255.0f);</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>                p[3] = 255;</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>        }</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span> </div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>        textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>;</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> = 0;</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>        bytesperpixel = 4;</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span> </div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>        <span class="comment">// as each block becomes a pixel, we must use pixel count for this</span></div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> + 3) / 4;</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> + 3) / 4;</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a> = bytesperpixel * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>;</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipnewpixels</a>;</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_total</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_new</a>;</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>    }</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span> </div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>    <span class="comment">// start mip counting</span></div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>;</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span> </div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>    <span class="comment">// calculate average color if requested</span></div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>    <span class="keywordflow">if</span> (avgcolor)</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    {</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>        <a class="code hl_define" href="mathlib_8h.html#a8c00bebab00439f2b30d33bcdc183904">Vector4Clear</a>(avgcolor);</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>        {</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> == 16 ? 8 : 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>            {</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>                <span class="comment">// UBSan: unsigned literals because promotion to int causes signed overflow when mippixels &gt;= 128</span></div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>                c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 256u*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] + 65536u*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+2] + 16777216u*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3];</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>                avgcolor[0] += ((c &gt;&gt; 11) &amp; 0x1F) + ((c &gt;&gt; 27) &amp; 0x1F);</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>                avgcolor[1] += ((c &gt;&gt;  5) &amp; 0x3F) + ((c &gt;&gt; 21) &amp; 0x3F);</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>                avgcolor[2] += ((c      ) &amp; 0x1F) + ((c &gt;&gt; 16) &amp; 0x1F);</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>                <span class="keywordflow">if</span>(textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>)</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>                    avgcolor[3] += (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-8] + (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-7]) * (0.5f / 255.0f);</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(textype == <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>)</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>                    avgcolor[3] += (</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>                          (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-8] &amp; 0x0F)</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>                        + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-8] &gt;&gt; 4)</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>                        + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-7] &amp; 0x0F)</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>                        + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-7] &gt;&gt; 4)</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>                        + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-6] &amp; 0x0F)</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>                        + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-6] &gt;&gt; 4)</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>                        + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-5] &amp; 0x0F)</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>                        + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>-5] &gt;&gt; 4)</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>                           ) * (0.125f / 15.0f);</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>                    avgcolor[3] += 1.0f;</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>            }</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = (<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a>;</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>            avgcolor[0] *= (0.5f / 31.0f) * <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>            avgcolor[1] *= (0.5f / 63.0f) * <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>            avgcolor[2] *= (0.5f / 31.0f) * <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>            avgcolor[3] *= <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>        }</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>        {</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += 4)</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>            {</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>                avgcolor[0] += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+2];</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>                avgcolor[1] += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1];</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>                avgcolor[2] += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>                avgcolor[3] += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3];</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>            }</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = (1.0f / 255.0f) * bytesperpixel / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a>;</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>            avgcolor[0] *= <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>            avgcolor[1] *= <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>            avgcolor[2] *= <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>            avgcolor[3] *= <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>        }</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    }</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span> </div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>    <span class="comment">// if we want sRGB, convert now</span></div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">srgb</a>)</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>    {</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">support</a>.<a class="code hl_variable" href="structviddef__support__t.html#a5a955edfc1c3d61db78f10d01b6a82f9">ext_texture_srgb</a>)</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>        {</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>            <span class="keywordflow">switch</span>(textype)</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>            {</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a097d99b3e8dc9a6b3d55dc9a0f222db1">TEXTYPE_SRGB_DXT1</a>   ;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>:   textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ac5defd59cdb910ae9b64009b32d960bd">TEXTYPE_SRGB_DXT1A</a>  ;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a96ad45a0f26a7674d9bd8b81dbb7713a">TEXTYPE_SRGB_DXT3</a>   ;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8da0781911296792d297467881d3dc90">TEXTYPE_SRGB_DXT5</a>   ;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>:    textype = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7223103d7fdb53da14b2c1bd9f9b8f71">TEXTYPE_SRGB_RGBA</a>   ;<span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>            }</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>        }</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>        {</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>            <span class="keywordflow">switch</span>(textype)</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>            {</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a>:</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a>:</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a>:</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a>:</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>                {</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> == 16 ? 8 : 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_total</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>                    {</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>                        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a>;</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 256*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1];</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0</a> &gt;&gt; 11) &amp; 0x1F);</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0</a> &gt;&gt;  5) &amp; 0x3F);</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0</a>      ) &amp; 0x1F);</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> * (255.0f / 31.0f)) * 31.0f + 0.5f); <span class="comment">// these multiplications here get combined with multiplications in Image_LinearFloatFromsRGB</span></div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> * (255.0f / 63.0f)) * 63.0f + 0.5f); <span class="comment">// these multiplications here get combined with multiplications in Image_LinearFloatFromsRGB</span></div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> * (255.0f / 31.0f)) * 31.0f + 0.5f); <span class="comment">// these multiplications here get combined with multiplications in Image_LinearFloatFromsRGB</span></div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> = (<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> &lt;&lt; 11) | (<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> &lt;&lt; 5) | <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+2] + 256*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3];</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1</a> &gt;&gt; 11) &amp; 0x1F);</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1</a> &gt;&gt;  5) &amp; 0x3F);</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1</a>      ) &amp; 0x1F);</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> * (255.0f / 31.0f)) * 31.0f + 0.5f); <span class="comment">// these multiplications here get combined with multiplications in Image_LinearFloatFromsRGB</span></div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> * (255.0f / 63.0f)) * 63.0f + 0.5f); <span class="comment">// these multiplications here get combined with multiplications in Image_LinearFloatFromsRGB</span></div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> * (255.0f / 31.0f)) * 31.0f + 0.5f); <span class="comment">// these multiplications here get combined with multiplications in Image_LinearFloatFromsRGB</span></div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a> = (<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> &lt;&lt; 11) | (<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> &lt;&lt; 5) | <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>                        <span class="comment">// swap the colors if needed to fix order</span></div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1</a>) <span class="comment">// thirds</span></div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>                        {</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>                            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a>)</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>                            {</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>                                c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a>;</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a>;</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a> = c;</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>                                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a>)</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+4] ^= 0x55;</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+5] ^= 0x55;</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+6] ^= 0x55;</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+7] ^= 0x55;</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>                            }</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>                            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a>)</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>                            {</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+4] = 0x00;</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+5] = 0x00;</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+6] = 0x00;</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+7] = 0x00;</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>                            }</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>                        }</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>                        <span class="keywordflow">else</span> <span class="comment">// half + transparent</span></div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>                        {</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>                            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a>)</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>                            {</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>                                c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a>;</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a>;</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a> = c;</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+4] ^= (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+4] &gt;&gt; 1) &amp; 0x55;</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+5] ^= (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+5] &gt;&gt; 1) &amp; 0x55;</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+6] ^= (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+6] &gt;&gt; 1) &amp; 0x55;</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+7] ^= (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+7] &gt;&gt; 1) &amp; 0x55;</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>                            }</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>                        }</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> &amp; 255;</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c0new</a> &gt;&gt; 8;</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a> &amp; 255;</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">c1new</a> &gt;&gt; 8;</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>                    }</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>                }</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>:</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>                <a class="code hl_function" href="image_8c.html#a046186d5387cfd4ccae31db2bc2d3585">Image_MakeLinearColorsFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_total</a> / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>);</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>            }</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>        }</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>    }</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span> </div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>    <span class="comment">// when not requesting mipmaps, do not load them</span></div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>    <span class="keywordflow">if</span>(!(flags &amp; <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>))</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a> = 0;</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span> </div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a> &gt;= 1)</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>        flags |= <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>;</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>        flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~TEXF_MIPMAP</a>;</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span> </div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>    texinfo = <a class="code hl_function" href="gl__textures_8c.html#a0c91677391e7eec8e780120857d28cee">R_GetTexTypeInfo</a>(textype, flags);</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span> </div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_function" href="zone_8c.html#a6e8351ce990cc9c3c7eb1c6ac8c91921">Mem_ExpandableArray_AllocRecord</a>(&amp;<a class="code hl_variable" href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a>);</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier, filename, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier));</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;pool = pool;</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;chain = pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a>;</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>    pool-&gt;<a class="code hl_variable" href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltchain</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputwidth = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>;</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputheight = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>;</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth = 1;</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags = flags;</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype = texinfo;</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype = <a class="code hl_enumvalue" href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a>;</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdatasize = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ddssize</a>;</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">glinternalformat</a> = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">glinternalformat</a>;</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a3d186ac94886c4d8aaaad148a6f9eefe">glformat</a>;</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a0984fa10721f8a105460cc9079890808">gltype</a>;</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel = texinfo-&gt;<a class="code hl_variable" href="structtextypeinfo__t.html#a257c0142b42b6b07f09d49b2d2e6c3d3">internalbytesperpixel</a>;</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides = 1;</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltexturetypeenum = <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype];</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>;</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>;</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth = 1;</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;miplevels = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a>;</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span> </div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>    <span class="comment">// texture uploading can take a while, so make sure we&#39;re sending keepalives</span></div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>    <a class="code hl_function" href="cl__parse_8c.html#ac6ab3e260289abd4d92f1e4974190626">CL_KeepaliveMessage</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span> </div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>    <span class="comment">// create the texture object</span></div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>    {</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>        <a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>        <a class="code hl_function" href="gl__backend_8c.html#a0b2dead0877ad8931b2887e1db6d8e1b">GL_ActiveTexture</a>(0);</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a> = <a class="code hl_function" href="gl__backend_8c.html#a47892b50a3a14b0aac522099722d6092">R_Mesh_TexBound</a>(0, <a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype]);</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglGenTextures</a>(1, (<a class="code hl_typedef" href="glquake_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> *)&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>    }</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span> </div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    <span class="comment">// upload the texture</span></div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>    <span class="comment">// we need to restore the texture binding after finishing the upload</span></div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipcomplete</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span> </div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a> &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>++) <span class="comment">// &lt;= to include the not-counted &quot;largest&quot; miplevel</span></div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>    {</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mippixels</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>;</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mipwidth</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>;</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mipheight</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>;</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> ? ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>+3)/4)*((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>+3)/4)*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a>*bytesperpixel;</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize_total</a>)</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>        {</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytesperblock</a>)</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>            {</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglCompressedTexImage2D</a>(<a class="code hl_define" href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mipwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mipheight</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mippixels</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>            }</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>            {</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexImage2D</a>(<a class="code hl_define" href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mip</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glinternalformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mipwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mipheight</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;glformat, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;gltype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mippixels</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>            }</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>        }</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mippixels</a> != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a>)</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">upload_mippixels</a>);</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipsize</a>;</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> &lt;= 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> &lt;= 1)</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>        {</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipcomplete</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>        }</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> &gt; 1)</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipwidth</a> &gt;&gt;= 1;</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> &gt; 1)</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipheight</a> &gt;&gt;= 1;</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>    }</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span> </div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>    <span class="comment">// after upload we have to set some parameters...</span></div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>    {</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span><span class="preprocessor">#ifdef GL_TEXTURE_MAX_LEVEL</span></div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a> &gt;= 1 &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mipcomplete</a>)</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>        {</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>            <span class="comment">// need to set GL_TEXTURE_MAX_LEVEL</span></div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglTexParameteri</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_define" href="glquake_8h.html#a48898b4f27c2e100bd856fd4ea66d774">GL_TEXTURE_MAX_LEVEL</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds_miplevels</a> - 1);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>        }</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>        <a class="code hl_function" href="gl__textures_8c.html#a1ddecb645464a10b57916cb79c16bd4c">GL_SetupTextureParameters</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;textype-&gt;textype, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype);</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qglBindTexture</a>(<a class="code hl_variable" href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texturetype], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldbindtexnum</a>);<a class="code hl_define" href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>    }</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span> </div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dds</a>);</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force_swdecode</a>)</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mippixels_start</a>);</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>}</div>
</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span> </div>
<div class="foldopen" id="foldopen02270" data-start="{" data-end="}">
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a738ec012beff0c3bc4bfb9b023130534"> 2270</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="gl__textures_8c.html#a738ec012beff0c3bc4bfb9b023130534">R_TextureWidth</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>{</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a> ? ((<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)-&gt;inputwidth : 0;</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>}</div>
</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span> </div>
<div class="foldopen" id="foldopen02275" data-start="{" data-end="}">
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a4bc984e9e2d032d8cd37aaa4fef168bd"> 2275</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="gl__textures_8c.html#a4bc984e9e2d032d8cd37aaa4fef168bd">R_TextureHeight</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>{</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a> ? ((<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)-&gt;inputheight : 0;</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>}</div>
</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span> </div>
<div class="foldopen" id="foldopen02280" data-start="{" data-end="}">
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a13bb29cc25801f2f1e50e26871850427"> 2280</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="gl__textures_8c.html#a13bb29cc25801f2f1e50e26871850427">R_TextureFlags</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>{</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a> ? ((<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)-&gt;flags : 0;</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>}</div>
</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span> </div>
<div class="foldopen" id="foldopen02285" data-start="{" data-end="}">
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a558d3efbd11eedd4f9e47c0dbc704090"> 2285</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a558d3efbd11eedd4f9e47c0dbc704090">R_UpdateTexture</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">combine</a>)</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>{</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>;</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_UpdateTexture: no data supplied&quot;</span>);</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_UpdateTexture: no texture supplied&quot;</span>);</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum)</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>    {</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;R_UpdateTexture: texture %p \&quot;%s\&quot; in pool %p has not been uploaded yet\n&quot;</span>, (<span class="keywordtype">void</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;identifier, (<span class="keywordtype">void</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;pool);</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>    }</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>    <span class="comment">// update part of the texture</span></div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bufferpixels)</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>    {</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, bpp = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel;</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span> </div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>        <span class="comment">// depth and sides are not fully implemented here - can still do full updates but not partial.</span></div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;inputdepth != 1 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;sides != 1)</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_UpdateTexture on buffered texture that is not 2D\n&quot;</span>);</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; 0 || <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">z &lt; 0 || glt-&gt;</a><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tilewidth &lt; x + width || glt-&gt;</a><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tileheight &lt; y + height || glt-&gt;</a>tiledepth &lt; <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a> + <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>)</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;R_UpdateTexture on buffered texture with out of bounds coordinates (%i %i %i to %i %i %i is not within 0 0 0 to %i %i %i)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a> + <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth);</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span> </div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size_t</a>)<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bufferpixels + ((<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth + <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>) * bpp, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * bpp, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * bpp);</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span> </div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">combine</a>)</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>        {</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>            <span class="comment">// immediately update the part of the texture, no combining</span></div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>            <a class="code hl_function" href="gl__textures_8c.html#a22649d292f9daa6aac55492cdfae2639">R_UploadPartialTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>);</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>            <span class="comment">// keep track of the region that is modified, decide later how big the partial update area is</span></div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;buffermodified)</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>            {</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[0], <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>);</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[1], <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>);</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[2], <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>);</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[0], <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>);</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[1], <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>);</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[2], <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a> + <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>);</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>            }</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>            {</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;buffermodified = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[0] = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>;</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[1] = <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>;</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[2] = <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>;</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[0] = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[1] = <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>;</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[2] = <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a> + <a class="code hl_variable" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a>;</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>            }</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;dirty = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>            <span class="comment">// mark the entire texture as dirty, it will be uploaded later</span></div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;buffermodified = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[0] = 0;</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[1] = 0;</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[2] = 0;</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth;</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight;</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tiledepth;</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;dirty = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>        }</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>    }</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>        <a class="code hl_function" href="gl__textures_8c.html#ad94936028216d33162edc80fe5145eb7">R_UploadFullTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>}</div>
</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span> </div>
<div class="foldopen" id="foldopen02358" data-start="{" data-end="}">
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a0d8cbeefe5a7f260c98772d9a2b12b8d"> 2358</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="gl__textures_8c.html#a0d8cbeefe5a7f260c98772d9a2b12b8d">R_RealGetTexture</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>{</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>    {</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>        <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>;</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>;</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;flags &amp; <a class="code hl_define" href="gl__textures_8c.html#af1f25c7cff229124f7c7fe8fe5b8b8d1">GLTEXF_DYNAMIC</a>)</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>            <a class="code hl_function" href="gl__textures_8c.html#a70a607298878ea1a1bdc6cfa0c7654f6">R_UpdateDynamicTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>);</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;buffermodified &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bufferpixels)</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>        {</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;buffermodified = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>            <span class="comment">// Because we currently don&#39;t set the relevant upload stride parameters, just make it full width.</span></div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[0] = 0;</div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth;</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>            <span class="comment">// Check also if it&#39;s updating at least half the height of the texture.</span></div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[1] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[1] &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tileheight / 2)</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>                <a class="code hl_function" href="gl__textures_8c.html#ad94936028216d33162edc80fe5145eb7">R_UploadFullTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bufferpixels);</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>                <a class="code hl_function" href="gl__textures_8c.html#a22649d292f9daa6aac55492cdfae2639">R_UploadPartialTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bufferpixels + (<span class="keywordtype">size_t</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;tilewidth * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;bytesperpixel, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[0] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[1] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs[2] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins[2]);</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>        }</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_mins);</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;modified_maxs);</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;dirty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>-&gt;texnum;</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>    }</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="gl__rmain_8c.html#ae599efd119197a24529fcaae20b562f6">r_texture_white</a>-&gt;<a class="code hl_variable" href="structrtexture__t.html#a10598707ccf9a33f500c2021c56df423">texnum</a>;</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>}</div>
</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span> </div>
<div class="foldopen" id="foldopen02387" data-start="{" data-end="}">
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#a139206cb51f4a063a9662fc9e4d09f11"> 2387</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__textures_8c.html#a139206cb51f4a063a9662fc9e4d09f11">R_ClearTexture</a> (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>)</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>{</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>    <a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a> = (<a class="code hl_struct" href="structgltexture__t.html">gltexture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>;</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span> </div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>    <a class="code hl_function" href="gl__textures_8c.html#ad94936028216d33162edc80fe5145eb7">R_UploadFullTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glt</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>}</div>
</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span> </div>
<div class="foldopen" id="foldopen02394" data-start="{" data-end="}">
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"><a class="line" href="gl__textures_8c.html#aec07eb55a9842dfe14c818815a0068a7"> 2394</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="gl__textures_8c.html#aec07eb55a9842dfe14c818815a0068a7">R_PicmipForFlags</a>(<span class="keywordtype">int</span> flags)</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>{</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>    <span class="keywordtype">int</span> miplevel = 0;</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>    <span class="keywordflow">if</span>(flags &amp; <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a>)</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>    {</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>        miplevel += <a class="code hl_variable" href="gl__textures_8c.html#a5ec933a4d1f7165da22ff1ad39c99351">gl_picmip</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a>)</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>        {</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#a32cfa077828d4e287df1b35b6af9c11a">r_picmipworld</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>                miplevel += <a class="code hl_variable" href="gl__textures_8c.html#a7369c39fb00026cf182f3b9dd7733fab">gl_picmip_world</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>                miplevel = 0;</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>        }</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="r__textures_8h.html#a951133ab2f845125172cb91a802c4a58">TEXF_ISSPRITE</a>)</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>        {</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__textures_8c.html#ad6bba9e331bb3be98910371db696164c">r_picmipsprites</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>                miplevel += <a class="code hl_variable" href="gl__textures_8c.html#a51c73613de733cdfc9ec2aedc8e6bb12">gl_picmip_sprites</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>                miplevel = 0;</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>        }</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>            miplevel += <a class="code hl_variable" href="gl__textures_8c.html#a909440b2c1a9c2ddf2cdae522f02b258">gl_picmip_other</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>    }</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(0, miplevel);</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>}</div>
</div>
<div class="ttc" id="acl__main_8c_html_ab4b4e0f12a72d330ee0869bdf1b372cd"><div class="ttname"><a href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a></div><div class="ttdeci">client_static_t cls</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00114">cl_main.c:114</a></div></div>
<div class="ttc" id="acl__parse_8c_html_ac6ab3e260289abd4d92f1e4974190626"><div class="ttname"><a href="cl__parse_8c.html#ac6ab3e260289abd4d92f1e4974190626">CL_KeepaliveMessage</a></div><div class="ttdeci">void CL_KeepaliveMessage(qbool readmessages)</div><div class="ttdef"><b>Definition</b> <a href="cl__parse_8c_source.html#l00314">cl_parse.c:314</a></div></div>
<div class="ttc" id="acl__screen_8c_html_a847c9012dc8dbaad3a0809ab7862ce37"><div class="ttname"><a href="cl__screen_8c.html#a847c9012dc8dbaad3a0809ab7862ce37">scr_screenshot_jpeg</a></div><div class="ttdeci">cvar_t scr_screenshot_jpeg</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00058">cl_screen.c:58</a></div></div>
<div class="ttc" id="acl__screen_8c_html_afba88daa998d2600737339002616193b"><div class="ttname"><a href="cl__screen_8c.html#afba88daa998d2600737339002616193b">scr_screenshot_png</a></div><div class="ttdeci">cvar_t scr_screenshot_png</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00060">cl_screen.c:60</a></div></div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a></div><div class="ttdeci">@ ca_dedicated</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00531">client.h:531</a></div></div>
<div class="ttc" id="acmd_8c_html_a86fa905462db75436af48f27298204e5"><div class="ttname"><a href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a></div><div class="ttdeci">void Cmd_AddCommand(unsigned flags, const char *cmd_name, xcommand_t function, const char *description)</div><div class="ttdoc">called by the init functions of other parts of the program to register commands and functions to call...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01754">cmd.c:1754</a></div></div>
<div class="ttc" id="acmd_8h_html_ab070abb7f2ebb842c8e67bef4e317314"><div class="ttname"><a href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a></div><div class="ttdeci">static int Cmd_Argc(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00248">cmd.h:248</a></div></div>
<div class="ttc" id="acmd_8h_html_ab49017bdcb3104823452a9ed7597aaf5"><div class="ttname"><a href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a></div><div class="ttdeci">static const char * Cmd_Argv(cmd_state_t *cmd, int arg)</div><div class="ttdoc">Cmd_Argv(cmd, ) will return an empty string (not a NULL) if arg &gt; argc, so string operations are alwa...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00253">cmd.h:253</a></div></div>
<div class="ttc" id="acmd_8h_html_abba64dce6a45541317c5508aa83436e5"><div class="ttname"><a href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a></div><div class="ttdeci">#define CF_CLIENT</div><div class="ttdoc">cvar/command that only the client can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00048">cmd.h:48</a></div></div>
<div class="ttc" id="acmd_8h_html_aeeecb68995736ab90434173e64fd14e5"><div class="ttname"><a href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a></div><div class="ttdeci">#define CF_ARCHIVE</div><div class="ttdoc">cvar should have its set value saved to config.cfg and persist across sessions</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00053">cmd.h:53</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a9375c7a4c8e2a5785acd5a71078378bb"><div class="ttname"><a href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a></div><div class="ttdeci">int BuffLittleLong(const unsigned char *buffer)</div><div class="ttdoc">Extract a little endian 32bit int from the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00071">com_msg.c:71</a></div></div>
<div class="ttc" id="acom__msg_8c_html_ac3accfbf1e3613f53879f65e0013a7f7"><div class="ttname"><a href="com__msg_8c.html#ac3accfbf1e3613f53879f65e0013a7f7">StoreLittleLong</a></div><div class="ttdeci">void StoreLittleLong(unsigned char *buffer, unsigned int i)</div><div class="ttdoc">Encode a little endian 32bit int to the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00095">com_msg.c:95</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00298">common.h:298</a></div></div>
<div class="ttc" id="aconsole_8c_html_a1cf9711475097b11dc41f743254ec77e"><div class="ttname"><a href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a></div><div class="ttdeci">void Con_Print(const char *msg)</div><div class="ttdoc">Prints to all appropriate console targets, and adds timestamps.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01450">console.c:1450</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="aconsole_8c_html_afd8f8b9bd0352435b1a96b4e77b965e3"><div class="ttname"><a href="console_8c.html#afd8f8b9bd0352435b1a96b4e77b965e3">Log_Printf</a></div><div class="ttdeci">void Log_Printf(const char *logfilename, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00659">console.c:659</a></div></div>
<div class="ttc" id="acvar_8c_html_a65b55ce35a5bd18e379065651d5d6e15"><div class="ttname"><a href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a></div><div class="ttdeci">void Cvar_SetValueQuick(cvar_t *var, float value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00473">cvar.c:473</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="afs_8c_html_a2a2eae59234c2478341fea0a380e99ac"><div class="ttname"><a href="fs_8c.html#a2a2eae59234c2478341fea0a380e99ac">FS_WriteFile</a></div><div class="ttdeci">qbool FS_WriteFile(const char *filename, const void *data, fs_offset_t len)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03577">fs.c:3577</a></div></div>
<div class="ttc" id="afs_8c_html_a37e1e4de914927db015a75a5a2817a8f"><div class="ttname"><a href="fs_8c.html#a37e1e4de914927db015a75a5a2817a8f">FS_DefaultExtension</a></div><div class="ttdeci">void FS_DefaultExtension(char *path, const char *extension, size_t size_path)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03626">fs.c:3626</a></div></div>
<div class="ttc" id="afs_8c_html_a46b9b5ad3cc14f77ae63016505163128"><div class="ttname"><a href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a></div><div class="ttdeci">unsigned char * FS_LoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03525">fs.c:3525</a></div></div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="afs_8c_html_a9fd7ebcbb75f140d76ab37664280555f"><div class="ttname"><a href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a></div><div class="ttdeci">void FS_StripExtension(const char *in, char *out, size_t size_out)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03596">fs.c:3596</a></div></div>
<div class="ttc" id="afs_8h_html_a5bcbce6d6c29888adf596671d6acd44b"><div class="ttname"><a href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a></div><div class="ttdeci">int64_t fs_offset_t</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00037">fs.h:37</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a0b2dead0877ad8931b2887e1db6d8e1b"><div class="ttname"><a href="gl__backend_8c.html#a0b2dead0877ad8931b2887e1db6d8e1b">GL_ActiveTexture</a></div><div class="ttdeci">void GL_ActiveTexture(unsigned int num)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01147">gl_backend.c:1147</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a47892b50a3a14b0aac522099722d6092"><div class="ttname"><a href="gl__backend_8c.html#a47892b50a3a14b0aac522099722d6092">R_Mesh_TexBound</a></div><div class="ttdeci">int R_Mesh_TexBound(unsigned int unitnum, int id)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l02026">gl_backend.c:2026</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a67dc91856064908ccadf5e03ed78fc1d"><div class="ttname"><a href="gl__backend_8c.html#a67dc91856064908ccadf5e03ed78fc1d">R_Mesh_ClearBindingsForTexture</a></div><div class="ttdeci">void R_Mesh_ClearBindingsForTexture(int texnum)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l02053">gl_backend.c:2053</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ae599efd119197a24529fcaae20b562f6"><div class="ttname"><a href="gl__rmain_8c.html#ae599efd119197a24529fcaae20b562f6">r_texture_white</a></div><div class="ttdeci">rtexture_t * r_texture_white</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00273">gl_rmain.c:273</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a0259f49f0608eac4991f4f524ef4d5ac"><div class="ttname"><a href="gl__textures_8c.html#a0259f49f0608eac4991f4f524ef4d5ac">textype_depth24stencil8</a></div><div class="ttdeci">static textypeinfo_t textype_depth24stencil8</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00118">gl_textures.c:118</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a02d601b1d50f2583fc1f7bcf7bb47557"><div class="ttname"><a href="gl__textures_8c.html#a02d601b1d50f2583fc1f7bcf7bb47557">textype_rgba_compress</a></div><div class="ttdeci">static textypeinfo_t textype_rgba_compress</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00129">gl_textures.c:129</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a031862ebc445441d31bec9eea075214f"><div class="ttname"><a href="gl__textures_8c.html#a031862ebc445441d31bec9eea075214f">textype_sRGB_dxt1</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_dxt1</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00149">gl_textures.c:149</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a049a5fb42407ce79c203dbc9aba977d4"><div class="ttname"><a href="gl__textures_8c.html#a049a5fb42407ce79c203dbc9aba977d4">R_PurgeTexture</a></div><div class="ttdeci">void R_PurgeTexture(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00344">gl_textures.c:344</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a06a491cafab2cdd27c94d6ca65fc9994"><div class="ttname"><a href="gl__textures_8c.html#a06a491cafab2cdd27c94d6ca65fc9994">textype_bgra_compress</a></div><div class="ttdeci">static textypeinfo_t textype_bgra_compress</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00133">gl_textures.c:133</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a0c91677391e7eec8e780120857d28cee"><div class="ttname"><a href="gl__textures_8c.html#a0c91677391e7eec8e780120857d28cee">R_GetTexTypeInfo</a></div><div class="ttdeci">static textypeinfo_t * R_GetTexTypeInfo(textype_t textype, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00255">gl_textures.c:255</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a0d8cbeefe5a7f260c98772d9a2b12b8d"><div class="ttname"><a href="gl__textures_8c.html#a0d8cbeefe5a7f260c98772d9a2b12b8d">R_RealGetTexture</a></div><div class="ttdeci">int R_RealGetTexture(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02358">gl_textures.c:2358</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a114f2477dc7b969704fce4025b2a4b1b"><div class="ttname"><a href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a></div><div class="ttdeci">void R_FreeTexturePool(rtexturepool_t **rtexturepool)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00403">gl_textures.c:403</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a117555a3ab42975f16c7396c743bd2e9"><div class="ttname"><a href="gl__textures_8c.html#a117555a3ab42975f16c7396c743bd2e9">gl_texturecompression_q3bsplightmaps</a></div><div class="ttdeci">cvar_t gl_texturecompression_q3bsplightmaps</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00043">gl_textures.c:43</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a139206cb51f4a063a9662fc9e4d09f11"><div class="ttname"><a href="gl__textures_8c.html#a139206cb51f4a063a9662fc9e4d09f11">R_ClearTexture</a></div><div class="ttdeci">void R_ClearTexture(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02387">gl_textures.c:2387</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a13bb29cc25801f2f1e50e26871850427"><div class="ttname"><a href="gl__textures_8c.html#a13bb29cc25801f2f1e50e26871850427">R_TextureFlags</a></div><div class="ttdeci">int R_TextureFlags(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02280">gl_textures.c:2280</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a171761ba63fd5e87898834f0aa551415"><div class="ttname"><a href="gl__textures_8c.html#a171761ba63fd5e87898834f0aa551415">r_textures_shutdown</a></div><div class="ttdeci">static void r_textures_shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00657">gl_textures.c:657</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a19ff2b97cdad66edb38f25bb09ae72a4"><div class="ttname"><a href="gl__textures_8c.html#a19ff2b97cdad66edb38f25bb09ae72a4">gltexturepoolchain</a></div><div class="ttdeci">static gltexturepool_t * gltexturepoolchain</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00249">gl_textures.c:249</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a1a27dea307cbbf1849e47f03b5ab0e12"><div class="ttname"><a href="gl__textures_8c.html#a1a27dea307cbbf1849e47f03b5ab0e12">gltexturetypedimensions</a></div><div class="ttdeci">static int gltexturetypedimensions[GLTEXTURETYPE_TOTAL]</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00166">gl_textures.c:166</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a1c218452a6f217c92ee48ba426caabac"><div class="ttname"><a href="gl__textures_8c.html#a1c218452a6f217c92ee48ba426caabac">textype_sRGB_palette</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_palette</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00139">gl_textures.c:139</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a1ddecb645464a10b57916cb79c16bd4c"><div class="ttname"><a href="gl__textures_8c.html#a1ddecb645464a10b57916cb79c16bd4c">GL_SetupTextureParameters</a></div><div class="ttdeci">static void GL_SetupTextureParameters(int flags, textype_t textype, int texturetype)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00837">gl_textures.c:837</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a22649d292f9daa6aac55492cdfae2639"><div class="ttname"><a href="gl__textures_8c.html#a22649d292f9daa6aac55492cdfae2639">R_UploadPartialTexture</a></div><div class="ttdeci">static void R_UploadPartialTexture(gltexture_t *glt, const unsigned char *data, int fragx, int fragy, int fragz, int fragwidth, int fragheight, int fragdepth)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00928">gl_textures.c:928</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a24bc7a65255e77cf48598a8ef3d18100"><div class="ttname"><a href="gl__textures_8c.html#a24bc7a65255e77cf48598a8ef3d18100">r_textures_newmap</a></div><div class="ttdeci">static void r_textures_newmap(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00677">gl_textures.c:677</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a25d35d149f93fb075082973621b3b6d7"><div class="ttname"><a href="gl__textures_8c.html#a25d35d149f93fb075082973621b3b6d7">textype_bgra_alpha</a></div><div class="ttdeci">static textypeinfo_t textype_bgra_alpha</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00132">gl_textures.c:132</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a25f71b614773cdfbc85c0f70615298f2"><div class="ttname"><a href="gl__textures_8c.html#a25f71b614773cdfbc85c0f70615298f2">R_MakeTextureDynamic</a></div><div class="ttdeci">void R_MakeTextureDynamic(rtexture_t *rt, updatecallback_t updatecallback, void *data)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00326">gl_textures.c:326</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a2717e6e3391061506800c58823b68c94"><div class="ttname"><a href="gl__textures_8c.html#a2717e6e3391061506800c58823b68c94">gl_texturecompression_lightcubemaps</a></div><div class="ttdeci">cvar_t gl_texturecompression_lightcubemaps</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00046">gl_textures.c:46</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a2adadaee5d773f27da7e3e0ef3eab87f"><div class="ttname"><a href="gl__textures_8c.html#a2adadaee5d773f27da7e3e0ef3eab87f">textype_shadowmap16_raw</a></div><div class="ttdeci">static textypeinfo_t textype_shadowmap16_raw</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00113">gl_textures.c:113</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a2ce62af3cf57b4b23d8010843814c594"><div class="ttname"><a href="gl__textures_8c.html#a2ce62af3cf57b4b23d8010843814c594">gl_texturecompression</a></div><div class="ttdeci">cvar_t gl_texturecompression</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00037">gl_textures.c:37</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a2d97bb4cfed57ff4637855da053087b4"><div class="ttname"><a href="gl__textures_8c.html#a2d97bb4cfed57ff4637855da053087b4">textype_sRGB_bgra_alpha</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_bgra_alpha</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00146">gl_textures.c:146</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a2efdcb5fb480518046cf54e7d3fc7b6d"><div class="ttname"><a href="gl__textures_8c.html#a2efdcb5fb480518046cf54e7d3fc7b6d">textype_rgba_alpha_compress</a></div><div class="ttdeci">static textypeinfo_t textype_rgba_alpha_compress</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00130">gl_textures.c:130</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a2f756d67be8e3d7f57c4d3d8f26e9845"><div class="ttname"><a href="gl__textures_8c.html#a2f756d67be8e3d7f57c4d3d8f26e9845">texturearray</a></div><div class="ttdeci">static memexpandablearray_t texturearray</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00059">gl_textures.c:59</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a2fc5bb3df5b205df1133030573badfa2"><div class="ttname"><a href="gl__textures_8c.html#a2fc5bb3df5b205df1133030573badfa2">textype_sRGB_bgra_compress</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_bgra_compress</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00147">gl_textures.c:147</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a3132bc97c879c8ace9ee25dade438226"><div class="ttname"><a href="gl__textures_8c.html#a3132bc97c879c8ace9ee25dade438226">gl_max_size</a></div><div class="ttdeci">cvar_t gl_max_size</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00027">gl_textures.c:27</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a31a6a980f09e31d48607e8e15e3a3007"><div class="ttname"><a href="gl__textures_8c.html#a31a6a980f09e31d48607e8e15e3a3007">textype_alpha</a></div><div class="ttdeci">static textypeinfo_t textype_alpha</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00124">gl_textures.c:124</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a32cfa077828d4e287df1b35b6af9c11a"><div class="ttname"><a href="gl__textures_8c.html#a32cfa077828d4e287df1b35b6af9c11a">r_picmipworld</a></div><div class="ttdeci">cvar_t r_picmipworld</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00031">gl_textures.c:31</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a347f3b0720f84542111247e0033f768e"><div class="ttname"><a href="gl__textures_8c.html#a347f3b0720f84542111247e0033f768e">R_LoadTextureRenderBuffer</a></div><div class="ttdeci">rtexture_t * R_LoadTextureRenderBuffer(rtexturepool_t *rtexturepool, const char *identifier, int width, int height, textype_t textype)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01372">gl_textures.c:1372</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a3e74cecd1292f8564cac2765e4bc8338"><div class="ttname"><a href="gl__textures_8c.html#a3e74cecd1292f8564cac2765e4bc8338">r_texture_dds_swdecode</a></div><div class="ttdeci">cvar_t r_texture_dds_swdecode</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00051">gl_textures.c:51</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a3f1e7da3e3b38023e07f20d3e3311fb6"><div class="ttname"><a href="gl__textures_8c.html#a3f1e7da3e3b38023e07f20d3e3311fb6">texturemempool</a></div><div class="ttdeci">static mempool_t * texturemempool</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00058">gl_textures.c:58</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a421a67068c37a9db90e6651a37bafc2f"><div class="ttname"><a href="gl__textures_8c.html#a421a67068c37a9db90e6651a37bafc2f">r_textures_devicerestored</a></div><div class="ttdeci">static void r_textures_devicerestored(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00700">gl_textures.c:700</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a43db348dd66825ddc58c70a3b3a0aa87"><div class="ttname"><a href="gl__textures_8c.html#a43db348dd66825ddc58c70a3b3a0aa87">textype_colorbuffer</a></div><div class="ttdeci">static textypeinfo_t textype_colorbuffer</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00119">gl_textures.c:119</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a4508c46802c185ed46fb24723cfde9b8"><div class="ttname"><a href="gl__textures_8c.html#a4508c46802c185ed46fb24723cfde9b8">gl_filter_force</a></div><div class="ttdeci">qbool gl_filter_force</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00053">gl_textures.c:53</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a453404a42a469e85c93df4b38203d8e1"><div class="ttname"><a href="gl__textures_8c.html#a453404a42a469e85c93df4b38203d8e1">textype_dxt5</a></div><div class="ttdeci">static textypeinfo_t textype_dxt5</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00138">gl_textures.c:138</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a466f4d0c6a8866f19959fb8cafb99c84"><div class="ttname"><a href="gl__textures_8c.html#a466f4d0c6a8866f19959fb8cafb99c84">textype_sRGB_bgra_alpha_compress</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_bgra_alpha_compress</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00148">gl_textures.c:148</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a4a9f6bff32d5288e97268771f4fb4c4f"><div class="ttname"><a href="gl__textures_8c.html#a4a9f6bff32d5288e97268771f4fb4c4f">gl_texturecompression_sprites</a></div><div class="ttdeci">cvar_t gl_texturecompression_sprites</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00048">gl_textures.c:48</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a4bc984e9e2d032d8cd37aaa4fef168bd"><div class="ttname"><a href="gl__textures_8c.html#a4bc984e9e2d032d8cd37aaa4fef168bd">R_TextureHeight</a></div><div class="ttdeci">int R_TextureHeight(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02275">gl_textures.c:2275</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a4da15e90c5f2022db2b74cf69fd77b9d"><div class="ttname"><a href="gl__textures_8c.html#a4da15e90c5f2022db2b74cf69fd77b9d">GL_Texture_CalcImageSize</a></div><div class="ttdeci">static void GL_Texture_CalcImageSize(int texturetype, int flags, int miplevel, int inwidth, int inheight, int indepth, int *outwidth, int *outheight, int *outdepth, int *outmiplevels)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00511">gl_textures.c:511</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a51c73613de733cdfc9ec2aedc8e6bb12"><div class="ttname"><a href="gl__textures_8c.html#a51c73613de733cdfc9ec2aedc8e6bb12">gl_picmip_sprites</a></div><div class="ttdeci">cvar_t gl_picmip_sprites</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00032">gl_textures.c:32</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a521999ba28df624fef49f84217af6fad"><div class="ttname"><a href="gl__textures_8c.html#a521999ba28df624fef49f84217af6fad">gl_texturecompression_sky</a></div><div class="ttdeci">cvar_t gl_texturecompression_sky</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00045">gl_textures.c:45</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a52ffcf619534b929b4af209842d654e6"><div class="ttname"><a href="gl__textures_8c.html#a52ffcf619534b929b4af209842d654e6">modes</a></div><div class="ttdeci">static glmode_t modes[6]</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00432">gl_textures.c:432</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a547a8ac1cf0900a50f37ac830221c3cd"><div class="ttname"><a href="gl__textures_8c.html#a547a8ac1cf0900a50f37ac830221c3cd">textype_dxt1a</a></div><div class="ttdeci">static textypeinfo_t textype_dxt1a</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00136">gl_textures.c:136</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a55716fbb7c0dc170c0f94ad5200dfaf1"><div class="ttname"><a href="gl__textures_8c.html#a55716fbb7c0dc170c0f94ad5200dfaf1">textype_sRGB_rgba_alpha_compress</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_rgba_alpha_compress</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00144">gl_textures.c:144</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a558d3efbd11eedd4f9e47c0dbc704090"><div class="ttname"><a href="gl__textures_8c.html#a558d3efbd11eedd4f9e47c0dbc704090">R_UpdateTexture</a></div><div class="ttdeci">void R_UpdateTexture(rtexture_t *rt, const unsigned char *data, int x, int y, int z, int width, int height, int depth, int combine)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02285">gl_textures.c:2285</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a563cf92dcf86947dcf8c2d9d4379b106"><div class="ttname"><a href="gl__textures_8c.html#a563cf92dcf86947dcf8c2d9d4379b106">R_TextureStats_Print</a></div><div class="ttdeci">void R_TextureStats_Print(qbool printeach, qbool printpool, qbool printtotal)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00582">gl_textures.c:582</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a5ae4322b0b336eba95a76242b391face"><div class="ttname"><a href="gl__textures_8c.html#a5ae4322b0b336eba95a76242b391face">textype_rgba</a></div><div class="ttdeci">static textypeinfo_t textype_rgba</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00127">gl_textures.c:127</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a5ec933a4d1f7165da22ff1ad39c99351"><div class="ttname"><a href="gl__textures_8c.html#a5ec933a4d1f7165da22ff1ad39c99351">gl_picmip</a></div><div class="ttdeci">cvar_t gl_picmip</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00029">gl_textures.c:29</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a61218c71e50936731a269ccfb6595933"><div class="ttname"><a href="gl__textures_8c.html#a61218c71e50936731a269ccfb6595933">textype_sRGB_dxt3</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_dxt3</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00151">gl_textures.c:151</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a61683ae1fcf12fff8f3cf962bef91437"><div class="ttname"><a href="gl__textures_8c.html#a61683ae1fcf12fff8f3cf962bef91437">resizebuffer</a></div><div class="ttdeci">static unsigned char * resizebuffer</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00251">gl_textures.c:251</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a626964d959ef3a7dbf9bb4800d519a0d"><div class="ttname"><a href="gl__textures_8c.html#a626964d959ef3a7dbf9bb4800d519a0d">R_LoadTextureShadowMap2D</a></div><div class="ttdeci">rtexture_t * R_LoadTextureShadowMap2D(rtexturepool_t *rtexturepool, const char *identifier, int width, int height, textype_t textype, qbool filter)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01367">gl_textures.c:1367</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a6ac885ca8a23701af55bc1748514699d"><div class="ttname"><a href="gl__textures_8c.html#a6ac885ca8a23701af55bc1748514699d">textype_sRGB_palette_alpha</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_palette_alpha</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00140">gl_textures.c:140</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a6b1dce2049f3b2a4ac181c333d164d68"><div class="ttname"><a href="gl__textures_8c.html#a6b1dce2049f3b2a4ac181c333d164d68">textype_bgra</a></div><div class="ttdeci">static textypeinfo_t textype_bgra</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00131">gl_textures.c:131</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a6b79650a455ae4e7ab713d3e0595f3e4"><div class="ttname"><a href="gl__textures_8c.html#a6b79650a455ae4e7ab713d3e0595f3e4">textype_sRGB_bgra</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_bgra</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00145">gl_textures.c:145</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a6c0c3b096e3c6e664dace7ba4508e630"><div class="ttname"><a href="gl__textures_8c.html#a6c0c3b096e3c6e664dace7ba4508e630">textype_rgba_alpha</a></div><div class="ttdeci">static textypeinfo_t textype_rgba_alpha</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00128">gl_textures.c:128</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a6fc82fb747cd52b3f1d88eb7d1de43d2"><div class="ttname"><a href="gl__textures_8c.html#a6fc82fb747cd52b3f1d88eb7d1de43d2">cubemapside</a></div><div class="ttdeci">static int cubemapside[6]</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00168">gl_textures.c:168</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a70a607298878ea1a1bdc6cfa0c7654f6"><div class="ttname"><a href="gl__textures_8c.html#a70a607298878ea1a1bdc6cfa0c7654f6">R_UpdateDynamicTexture</a></div><div class="ttdeci">static void R_UpdateDynamicTexture(gltexture_t *glt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00337">gl_textures.c:337</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a71869a04fb8b86637a21a27b685cbb38"><div class="ttname"><a href="gl__textures_8c.html#a71869a04fb8b86637a21a27b685cbb38">textype_sRGB_rgba_alpha</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_rgba_alpha</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00142">gl_textures.c:142</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a7323815aa8d83cdf58fa9f1f57e5f981"><div class="ttname"><a href="gl__textures_8c.html#a7323815aa8d83cdf58fa9f1f57e5f981">gl_texturecompression_reflectmask</a></div><div class="ttdeci">cvar_t gl_texturecompression_reflectmask</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00047">gl_textures.c:47</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a7369c39fb00026cf182f3b9dd7733fab"><div class="ttname"><a href="gl__textures_8c.html#a7369c39fb00026cf182f3b9dd7733fab">gl_picmip_world</a></div><div class="ttdeci">cvar_t gl_picmip_world</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00030">gl_textures.c:30</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a738ec012beff0c3bc4bfb9b023130534"><div class="ttname"><a href="gl__textures_8c.html#a738ec012beff0c3bc4bfb9b023130534">R_TextureWidth</a></div><div class="ttdeci">int R_TextureWidth(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02270">gl_textures.c:2270</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a74da095098940ac3b2e771dc0e5f511a"><div class="ttname"><a href="gl__textures_8c.html#a74da095098940ac3b2e771dc0e5f511a">textype_shadowmap16_comp</a></div><div class="ttdeci">static textypeinfo_t textype_shadowmap16_comp</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00112">gl_textures.c:112</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a75b53126e085ffee3023c351c3c8bbcf"><div class="ttname"><a href="gl__textures_8c.html#a75b53126e085ffee3023c351c3c8bbcf">R_SetupTexture</a></div><div class="ttdeci">static rtexture_t * R_SetupTexture(rtexturepool_t *rtexturepool, const char *identifier, int width, int height, int depth, int sides, int flags, int miplevel, textype_t textype, int texturetype, const unsigned char *data, const unsigned int *palette)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01126">gl_textures.c:1126</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a797912ffb0cb154ee02b0c8b8fdfbe99"><div class="ttname"><a href="gl__textures_8c.html#a797912ffb0cb154ee02b0c8b8fdfbe99">gl_texturecompression_color</a></div><div class="ttdeci">cvar_t gl_texturecompression_color</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00038">gl_textures.c:38</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a7c3d1b73c257c8f8f052bb9ca565289f"><div class="ttname"><a href="gl__textures_8c.html#a7c3d1b73c257c8f8f052bb9ca565289f">texturebuffer</a></div><div class="ttdeci">static const unsigned char * texturebuffer</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00253">gl_textures.c:253</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a7ca7799714cb960a99ab8b67d0b26a63"><div class="ttname"><a href="gl__textures_8c.html#a7ca7799714cb960a99ab8b67d0b26a63">gl_filter_mag</a></div><div class="ttdeci">int gl_filter_mag</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00055">gl_textures.c:55</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a7f4d5f40defd0780a649baa35554753e"><div class="ttname"><a href="gl__textures_8c.html#a7f4d5f40defd0780a649baa35554753e">R_LoadTextureDDSFile</a></div><div class="ttdeci">rtexture_t * R_LoadTextureDDSFile(rtexturepool_t *rtexturepool, const char *filename, qbool srgb, int flags, qbool *hasalphaflag, float *avgcolor, int miplevel, qbool optionaltexture)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01569">gl_textures.c:1569</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a802fd12046027319590c29fe200e61e6"><div class="ttname"><a href="gl__textures_8c.html#a802fd12046027319590c29fe200e61e6">textype_bgra_alpha_compress</a></div><div class="ttdeci">static textypeinfo_t textype_bgra_alpha_compress</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00134">gl_textures.c:134</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a83e88a8ae644ba0ed7b1a2b6550cf385"><div class="ttname"><a href="gl__textures_8c.html#a83e88a8ae644ba0ed7b1a2b6550cf385">textype_colorbuffer16f</a></div><div class="ttdeci">static textypeinfo_t textype_colorbuffer16f</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00120">gl_textures.c:120</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a85169090197b87809e91fce50ca1ca1b"><div class="ttname"><a href="gl__textures_8c.html#a85169090197b87809e91fce50ca1ca1b">textype_palette</a></div><div class="ttdeci">static textypeinfo_t textype_palette</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00125">gl_textures.c:125</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a888040d299f2e6454f91939a9fc919fd"><div class="ttname"><a href="gl__textures_8c.html#a888040d299f2e6454f91939a9fc919fd">GL_TextureMode_f</a></div><div class="ttdeci">static void GL_TextureMode_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00442">gl_textures.c:442</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a8c53d755608ee84866d65b5cb755311a"><div class="ttname"><a href="gl__textures_8c.html#a8c53d755608ee84866d65b5cb755311a">textype_palette_alpha</a></div><div class="ttdeci">static textypeinfo_t textype_palette_alpha</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00126">gl_textures.c:126</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a909440b2c1a9c2ddf2cdae522f02b258"><div class="ttname"><a href="gl__textures_8c.html#a909440b2c1a9c2ddf2cdae522f02b258">gl_picmip_other</a></div><div class="ttdeci">cvar_t gl_picmip_other</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00034">gl_textures.c:34</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a9764e802b0375a43b6626a93a40dcd7d"><div class="ttname"><a href="gl__textures_8c.html#a9764e802b0375a43b6626a93a40dcd7d">r_textures_start</a></div><div class="ttdeci">static void r_textures_start(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00634">gl_textures.c:634</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a9bbc00f4a6a8bf194badca615b1f7063"><div class="ttname"><a href="gl__textures_8c.html#a9bbc00f4a6a8bf194badca615b1f7063">textype_sRGB_rgba_compress</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_rgba_compress</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00143">gl_textures.c:143</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a9cbfcbf3c8f8a6755b4a8adeb8e11f2e"><div class="ttname"><a href="gl__textures_8c.html#a9cbfcbf3c8f8a6755b4a8adeb8e11f2e">TEXTUREPOOL_SENTINEL</a></div><div class="ttdeci">#define TEXTUREPOOL_SENTINEL</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00239">gl_textures.c:239</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aa2b47118bece0b52e2301a1b6d80cd2e"><div class="ttname"><a href="gl__textures_8c.html#aa2b47118bece0b52e2301a1b6d80cd2e">R_SaveTextureDDSFile</a></div><div class="ttdeci">int R_SaveTextureDDSFile(rtexture_t *rt, const char *filename, qbool skipuncompressed, qbool hasalpha)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01431">gl_textures.c:1431</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aa561adbe2919f8a93d3f7cc1dab483ec"><div class="ttname"><a href="gl__textures_8c.html#aa561adbe2919f8a93d3f7cc1dab483ec">textype_shadowmap24_raw</a></div><div class="ttdeci">static textypeinfo_t textype_shadowmap24_raw</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00115">gl_textures.c:115</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aa75cf786b4c52ea69ad05666e032c6ff"><div class="ttname"><a href="gl__textures_8c.html#aa75cf786b4c52ea69ad05666e032c6ff">gl_texturecompression_glow</a></div><div class="ttdeci">cvar_t gl_texturecompression_glow</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00041">gl_textures.c:41</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aaa04f1b526a4bb1056d6212a6a972ffa"><div class="ttname"><a href="gl__textures_8c.html#aaa04f1b526a4bb1056d6212a6a972ffa">textype_sRGB_rgba</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_rgba</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00141">gl_textures.c:141</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aab70c9c1ea2ac3aa65757002b0247033"><div class="ttname"><a href="gl__textures_8c.html#aab70c9c1ea2ac3aa65757002b0247033">gltexturetypeenums</a></div><div class="ttdeci">static int gltexturetypeenums[GLTEXTURETYPE_TOTAL]</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00164">gl_textures.c:164</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aacc5d4082107e85a97065dc16eac47ea"><div class="ttname"><a href="gl__textures_8c.html#aacc5d4082107e85a97065dc16eac47ea">r_textures_devicelost</a></div><div class="ttdeci">static void r_textures_devicelost(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00681">gl_textures.c:681</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aae064c0cd5965363555303294ef23873"><div class="ttname"><a href="gl__textures_8c.html#aae064c0cd5965363555303294ef23873">R_LoadTextureCubeMap</a></div><div class="ttdeci">rtexture_t * R_LoadTextureCubeMap(rtexturepool_t *rtexturepool, const char *identifier, int width, const unsigned char *data, textype_t textype, int flags, int miplevel, const unsigned int *palette)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01362">gl_textures.c:1362</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ab60a02391841e828427f5cc24cb5dd29"><div class="ttname"><a href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a></div><div class="ttdeci">rtexturepool_t * R_AllocTexturePool(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00389">gl_textures.c:389</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ab79bf8e042a462735d6d70f02822d98d"><div class="ttname"><a href="gl__textures_8c.html#ab79bf8e042a462735d6d70f02822d98d">R_FreeTexture</a></div><div class="ttdeci">void R_FreeTexture(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00351">gl_textures.c:351</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ab93a4e19d0393d3572104095a50b7240"><div class="ttname"><a href="gl__textures_8c.html#ab93a4e19d0393d3572104095a50b7240">r_texture_dds_load_alphamode</a></div><div class="ttdeci">cvar_t r_texture_dds_load_alphamode</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00049">gl_textures.c:49</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ab98b6aae61ce8424f513f5ec15856652"><div class="ttname"><a href="gl__textures_8c.html#ab98b6aae61ce8424f513f5ec15856652">textype_dxt3</a></div><div class="ttdeci">static textypeinfo_t textype_dxt3</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00137">gl_textures.c:137</a></div></div>
<div class="ttc" id="agl__textures_8c_html_abe15075e854bddbbd3dca8092727e64e"><div class="ttname"><a href="gl__textures_8c.html#abe15075e854bddbbd3dca8092727e64e">textype_colorbuffer32f</a></div><div class="ttdeci">static textypeinfo_t textype_colorbuffer32f</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00121">gl_textures.c:121</a></div></div>
<div class="ttc" id="agl__textures_8c_html_abea2c0f96504988f0120a63dca996137"><div class="ttname"><a href="gl__textures_8c.html#abea2c0f96504988f0120a63dca996137">r_texture_dds_load_logfailure</a></div><div class="ttdeci">cvar_t r_texture_dds_load_logfailure</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00050">gl_textures.c:50</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ac31280d743c57f22a9b4eef367bddc0b"><div class="ttname"><a href="gl__textures_8c.html#ac31280d743c57f22a9b4eef367bddc0b">gl_texturecompression_2d</a></div><div class="ttdeci">cvar_t gl_texturecompression_2d</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00042">gl_textures.c:42</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ac584bca6c31f98497bdf973e8c406d44"><div class="ttname"><a href="gl__textures_8c.html#ac584bca6c31f98497bdf973e8c406d44">R_Textures_Init</a></div><div class="ttdeci">void R_Textures_Init(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00720">gl_textures.c:720</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ac596b0c4b93a4748cf967f5c249dd0b4"><div class="ttname"><a href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4">gltexturetype_t</a></div><div class="ttdeci">gltexturetype_t</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00155">gl_textures.c:156</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b"><div class="ttname"><a href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4a028e7f1f40cb1e1fc12d3330b8b4d71b">GLTEXTURETYPE_CUBEMAP</a></div><div class="ttdeci">@ GLTEXTURETYPE_CUBEMAP</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00159">gl_textures.c:159</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ac596b0c4b93a4748cf967f5c249dd0b4ac69d117a2e8cb0e3bbabca342d7a3cb7"><div class="ttname"><a href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ac69d117a2e8cb0e3bbabca342d7a3cb7">GLTEXTURETYPE_TOTAL</a></div><div class="ttdeci">@ GLTEXTURETYPE_TOTAL</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00161">gl_textures.c:160</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ac596b0c4b93a4748cf967f5c249dd0b4ae36e23c20aa991d283947cef10b1c828"><div class="ttname"><a href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4ae36e23c20aa991d283947cef10b1c828">GLTEXTURETYPE_3D</a></div><div class="ttdeci">@ GLTEXTURETYPE_3D</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00158">gl_textures.c:158</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101"><div class="ttname"><a href="gl__textures_8c.html#ac596b0c4b93a4748cf967f5c249dd0b4aece2804431c1242a6668d1478cd29101">GLTEXTURETYPE_2D</a></div><div class="ttdeci">@ GLTEXTURETYPE_2D</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00157">gl_textures.c:157</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aca0c1cc9319c9c6c9179df3dd816b09a"><div class="ttname"><a href="gl__textures_8c.html#aca0c1cc9319c9c6c9179df3dd816b09a">gl_texture_anisotropy</a></div><div class="ttdeci">cvar_t gl_texture_anisotropy</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00036">gl_textures.c:36</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aca6624e056efce3a25a1a35a93f38121"><div class="ttname"><a href="gl__textures_8c.html#aca6624e056efce3a25a1a35a93f38121">R_MakeResizeBufferBigger</a></div><div class="ttdeci">static void R_MakeResizeBufferBigger(int size)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00821">gl_textures.c:821</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aca913aeb13ef69bd8e836d294259cfb1"><div class="ttname"><a href="gl__textures_8c.html#aca913aeb13ef69bd8e836d294259cfb1">textype_sRGB_dxt1a</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_dxt1a</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00150">gl_textures.c:150</a></div></div>
<div class="ttc" id="agl__textures_8c_html_acae3d8a1c201ed61165dec109904df83"><div class="ttname"><a href="gl__textures_8c.html#acae3d8a1c201ed61165dec109904df83">textype_depth16</a></div><div class="ttdeci">static textypeinfo_t textype_depth16</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00116">gl_textures.c:116</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ad1af1abc226ad21cf0f43b00f90afd70"><div class="ttname"><a href="gl__textures_8c.html#ad1af1abc226ad21cf0f43b00f90afd70">R_MarkDirtyTexture</a></div><div class="ttdeci">void R_MarkDirtyTexture(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00312">gl_textures.c:312</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ad4df59df0b150a5f85d36b5f3f8be05d"><div class="ttname"><a href="gl__textures_8c.html#ad4df59df0b150a5f85d36b5f3f8be05d">R_LoadTexture3D</a></div><div class="ttdeci">rtexture_t * R_LoadTexture3D(rtexturepool_t *rtexturepool, const char *identifier, int width, int height, int depth, const unsigned char *data, textype_t textype, int flags, int miplevel, const unsigned int *palette)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01357">gl_textures.c:1357</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ad6bba9e331bb3be98910371db696164c"><div class="ttname"><a href="gl__textures_8c.html#ad6bba9e331bb3be98910371db696164c">r_picmipsprites</a></div><div class="ttdeci">cvar_t r_picmipsprites</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00033">gl_textures.c:33</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ad94936028216d33162edc80fe5145eb7"><div class="ttname"><a href="gl__textures_8c.html#ad94936028216d33162edc80fe5145eb7">R_UploadFullTexture</a></div><div class="ttdeci">static void R_UploadFullTexture(gltexture_t *glt, const unsigned char *data)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00965">gl_textures.c:965</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ad983d911021d66737868a5a177cf7943"><div class="ttname"><a href="gl__textures_8c.html#ad983d911021d66737868a5a177cf7943">gl_texturecompression_q3bspdeluxemaps</a></div><div class="ttdeci">cvar_t gl_texturecompression_q3bspdeluxemaps</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00044">gl_textures.c:44</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ada114ab9ac14d4164089d1652a502f2c"><div class="ttname"><a href="gl__textures_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a></div><div class="ttdeci">cvar_t gl_max_lightmapsize</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00028">gl_textures.c:28</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ade01b6f3cf881f656a96be9c90571740"><div class="ttname"><a href="gl__textures_8c.html#ade01b6f3cf881f656a96be9c90571740">R_CalcTexelDataSize</a></div><div class="ttdeci">static int R_CalcTexelDataSize(gltexture_t *glt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00557">gl_textures.c:557</a></div></div>
<div class="ttc" id="agl__textures_8c_html_adfb41b95d3f8c3b8938b4526dc77352f"><div class="ttname"><a href="gl__textures_8c.html#adfb41b95d3f8c3b8938b4526dc77352f">R_Textures_Frame</a></div><div class="ttdeci">void R_Textures_Frame(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00753">gl_textures.c:753</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ae156e1d95a808ede36502cd154ba828f"><div class="ttname"><a href="gl__textures_8c.html#ae156e1d95a808ede36502cd154ba828f">textype_dxt1</a></div><div class="ttdeci">static textypeinfo_t textype_dxt1</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00135">gl_textures.c:135</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ae2ea4ac46847560b1a3a64b71076483c"><div class="ttname"><a href="gl__textures_8c.html#ae2ea4ac46847560b1a3a64b71076483c">gl_texturecompression_gloss</a></div><div class="ttdeci">cvar_t gl_texturecompression_gloss</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00040">gl_textures.c:40</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aec07eb55a9842dfe14c818815a0068a7"><div class="ttname"><a href="gl__textures_8c.html#aec07eb55a9842dfe14c818815a0068a7">R_PicmipForFlags</a></div><div class="ttdeci">int R_PicmipForFlags(int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02394">gl_textures.c:2394</a></div></div>
<div class="ttc" id="agl__textures_8c_html_aed38b9d853cd5faa658e9e840f96a66d"><div class="ttname"><a href="gl__textures_8c.html#aed38b9d853cd5faa658e9e840f96a66d">textype_sRGB_dxt5</a></div><div class="ttdeci">static textypeinfo_t textype_sRGB_dxt5</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00152">gl_textures.c:152</a></div></div>
<div class="ttc" id="agl__textures_8c_html_af11a0b6794e385ee16018d8835333a84"><div class="ttname"><a href="gl__textures_8c.html#af11a0b6794e385ee16018d8835333a84">textype_depth24</a></div><div class="ttdeci">static textypeinfo_t textype_depth24</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00117">gl_textures.c:117</a></div></div>
<div class="ttc" id="agl__textures_8c_html_af1f25c7cff229124f7c7fe8fe5b8b8d1"><div class="ttname"><a href="gl__textures_8c.html#af1f25c7cff229124f7c7fe8fe5b8b8d1">GLTEXF_DYNAMIC</a></div><div class="ttdeci">#define GLTEXF_DYNAMIC</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00065">gl_textures.c:65</a></div></div>
<div class="ttc" id="agl__textures_8c_html_af4a9126dd14ba1326adfd481197a8304"><div class="ttname"><a href="gl__textures_8c.html#af4a9126dd14ba1326adfd481197a8304">textype_shadowmap24_comp</a></div><div class="ttdeci">static textypeinfo_t textype_shadowmap24_comp</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00114">gl_textures.c:114</a></div></div>
<div class="ttc" id="agl__textures_8c_html_af62796f0954956545cefc65a89d40081"><div class="ttname"><a href="gl__textures_8c.html#af62796f0954956545cefc65a89d40081">colorconvertbuffer</a></div><div class="ttdeci">static unsigned char * colorconvertbuffer</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00251">gl_textures.c:251</a></div></div>
<div class="ttc" id="agl__textures_8c_html_af665d40d132ff6714f9404c51c01eee4"><div class="ttname"><a href="gl__textures_8c.html#af665d40d132ff6714f9404c51c01eee4">r_lerpimages</a></div><div class="ttdeci">cvar_t r_lerpimages</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00035">gl_textures.c:35</a></div></div>
<div class="ttc" id="agl__textures_8c_html_afa11265eef3bf02d90cd7131777f5d25"><div class="ttname"><a href="gl__textures_8c.html#afa11265eef3bf02d90cd7131777f5d25">R_TextureStats_f</a></div><div class="ttdeci">static void R_TextureStats_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00629">gl_textures.c:629</a></div></div>
<div class="ttc" id="agl__textures_8c_html_afca9eb759327d2d5662066bc14696178"><div class="ttname"><a href="gl__textures_8c.html#afca9eb759327d2d5662066bc14696178">resizebuffersize</a></div><div class="ttdeci">static int resizebuffersize</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00252">gl_textures.c:252</a></div></div>
<div class="ttc" id="agl__textures_8c_html_afe230b94a55edbb13f0e02d51a252568"><div class="ttname"><a href="gl__textures_8c.html#afe230b94a55edbb13f0e02d51a252568">gl_filter_min</a></div><div class="ttdeci">int gl_filter_min</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00054">gl_textures.c:54</a></div></div>
<div class="ttc" id="agl__textures_8c_html_afe6f33ec05da1bce9cd3a847610e7384"><div class="ttname"><a href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a></div><div class="ttdeci">rtexture_t * R_LoadTexture2D(rtexturepool_t *rtexturepool, const char *identifier, int width, int height, const unsigned char *data, textype_t textype, int flags, int miplevel, const unsigned int *palette)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01352">gl_textures.c:1352</a></div></div>
<div class="ttc" id="agl__textures_8c_html_afe9eb4b07bd325ff520effdb8bec9a14"><div class="ttname"><a href="gl__textures_8c.html#afe9eb4b07bd325ff520effdb8bec9a14">gl_texturecompression_normal</a></div><div class="ttdeci">cvar_t gl_texturecompression_normal</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00039">gl_textures.c:39</a></div></div>
<div class="ttc" id="aglquake_8h_html_a00b65957cb070504d8e364031b176737"><div class="ttname"><a href="glquake_8h.html#a00b65957cb070504d8e364031b176737">GL_TEXTURE_MAX_ANISOTROPY_EXT</a></div><div class="ttdeci">#define GL_TEXTURE_MAX_ANISOTROPY_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00198">glquake.h:198</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0208b298f4c65e680a58434efb699fe8"><div class="ttname"><a href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a></div><div class="ttdeci">GLuint GLuint GLintptr GLsizeiptr size</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0462a1894bf0c9123d1e81d1234b62fc"><div class="ttname"><a href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a></div><div class="ttdeci">GLubyte GLubyte GLubyte z</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00781">glquake.h:781</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0605d5ef41613665b34391f9ba398997"><div class="ttname"><a href="glquake_8h.html#a0605d5ef41613665b34391f9ba398997">GL_TEXTURE_CUBE_MAP_POSITIVE_Y</a></div><div class="ttdeci">#define GL_TEXTURE_CUBE_MAP_POSITIVE_Y</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00265">glquake.h:265</a></div></div>
<div class="ttc" id="aglquake_8h_html_a06b8fecef765b110cff1a8aa1adbd794"><div class="ttname"><a href="glquake_8h.html#a06b8fecef765b110cff1a8aa1adbd794">GL_TEXTURE_COMPARE_FUNC</a></div><div class="ttdeci">#define GL_TEXTURE_COMPARE_FUNC</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00208">glquake.h:208</a></div></div>
<div class="ttc" id="aglquake_8h_html_a087030f771e19c7145d9de2db60d773b"><div class="ttname"><a href="glquake_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a></div><div class="ttdeci">unsigned int GLuint</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00054">glquake.h:54</a></div></div>
<div class="ttc" id="aglquake_8h_html_a089a3736e5280b9c7cc50129e2659974"><div class="ttname"><a href="glquake_8h.html#a089a3736e5280b9c7cc50129e2659974">GL_NONE</a></div><div class="ttdeci">#define GL_NONE</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00127">glquake.h:127</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0ca47e506982d2b8d378f5b7e0e7c833"><div class="ttname"><a href="glquake_8h.html#a0ca47e506982d2b8d378f5b7e0e7c833">GL_FASTEST</a></div><div class="ttdeci">#define GL_FASTEST</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00067">glquake.h:67</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0e843e6cb4b0547b3a2b414af3d53a53"><div class="ttname"><a href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a></div><div class="ttdeci">GLenum GLsizei width</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a128a26f81010e89a69d8707419a99566"><div class="ttname"><a href="glquake_8h.html#a128a26f81010e89a69d8707419a99566">GL_NICEST</a></div><div class="ttdeci">#define GL_NICEST</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00068">glquake.h:68</a></div></div>
<div class="ttc" id="aglquake_8h_html_a136cce2f78c36b837ec3c8cf72c96aad"><div class="ttname"><a href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a></div><div class="ttdeci">GLenum GLsizei GLsizei height</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a13d5b3c6abcb5d2aa1a2b479fabbe779"><div class="ttname"><a href="glquake_8h.html#a13d5b3c6abcb5d2aa1a2b479fabbe779">CHECKGLERROR</a></div><div class="ttdeci">#define CHECKGLERROR</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l01058">glquake.h:1058</a></div></div>
<div class="ttc" id="aglquake_8h_html_a173a2b2453322dd8d613df6cf2e72480"><div class="ttname"><a href="glquake_8h.html#a173a2b2453322dd8d613df6cf2e72480">GL_TEXTURE_MIN_FILTER</a></div><div class="ttdeci">#define GL_TEXTURE_MIN_FILTER</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00094">glquake.h:94</a></div></div>
<div class="ttc" id="aglquake_8h_html_a1b69ad7ea841f21165a25e58411b6bab"><div class="ttname"><a href="glquake_8h.html#a1b69ad7ea841f21165a25e58411b6bab">GL_TEXTURE_WRAP_R</a></div><div class="ttdeci">#define GL_TEXTURE_WRAP_R</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00092">glquake.h:92</a></div></div>
<div class="ttc" id="aglquake_8h_html_a1dc7d6e1f3357d3b9e686b800d2d4ae4"><div class="ttname"><a href="glquake_8h.html#a1dc7d6e1f3357d3b9e686b800d2d4ae4">GL_COMPARE_R_TO_TEXTURE</a></div><div class="ttdeci">#define GL_COMPARE_R_TO_TEXTURE</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00209">glquake.h:209</a></div></div>
<div class="ttc" id="aglquake_8h_html_a1df7fac5bc539d8661f0690e59a3c1b8"><div class="ttname"><a href="glquake_8h.html#a1df7fac5bc539d8661f0690e59a3c1b8">GLint</a></div><div class="ttdeci">int GLint</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00051">glquake.h:51</a></div></div>
<div class="ttc" id="aglquake_8h_html_a2308c4ffa71335adb12ba6db2d937c7f"><div class="ttname"><a href="glquake_8h.html#a2308c4ffa71335adb12ba6db2d937c7f">GL_DEPTH24_STENCIL8</a></div><div class="ttdeci">#define GL_DEPTH24_STENCIL8</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00373">glquake.h:373</a></div></div>
<div class="ttc" id="aglquake_8h_html_a23a0bc2909cc2f79fe7287aaa044e880"><div class="ttname"><a href="glquake_8h.html#a23a0bc2909cc2f79fe7287aaa044e880">GL_TEXTURE_WRAP_S</a></div><div class="ttdeci">#define GL_TEXTURE_WRAP_S</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00090">glquake.h:90</a></div></div>
<div class="ttc" id="aglquake_8h_html_a26b057c4fa415d8de41d43990828b0da"><div class="ttname"><a href="glquake_8h.html#a26b057c4fa415d8de41d43990828b0da">GL_DEPTH_COMPONENT16</a></div><div class="ttdeci">#define GL_DEPTH_COMPONENT16</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00201">glquake.h:201</a></div></div>
<div class="ttc" id="aglquake_8h_html_a26e189fe84285eb8fae26721662dbe8c"><div class="ttname"><a href="glquake_8h.html#a26e189fe84285eb8fae26721662dbe8c">GL_TEXTURE_CUBE_MAP</a></div><div class="ttdeci">#define GL_TEXTURE_CUBE_MAP</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00261">glquake.h:261</a></div></div>
<div class="ttc" id="aglquake_8h_html_a2d568ba9541df33fb21dc5bacbe7b4a3"><div class="ttname"><a href="glquake_8h.html#a2d568ba9541df33fb21dc5bacbe7b4a3">GL_TEXTURE_CUBE_MAP_NEGATIVE_Z</a></div><div class="ttdeci">#define GL_TEXTURE_CUBE_MAP_NEGATIVE_Z</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00268">glquake.h:268</a></div></div>
<div class="ttc" id="aglquake_8h_html_a318a0c53e89e0bc5fdd162a405f77a9d"><div class="ttname"><a href="glquake_8h.html#a318a0c53e89e0bc5fdd162a405f77a9d">GL_NEAREST_MIPMAP_NEAREST</a></div><div class="ttdeci">#define GL_NEAREST_MIPMAP_NEAREST</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00102">glquake.h:102</a></div></div>
<div class="ttc" id="aglquake_8h_html_a36c3f955599ab92217a70cce8a22e11f"><div class="ttname"><a href="glquake_8h.html#a36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a></div><div class="ttdeci">#define GL_UNSIGNED_SHORT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00121">glquake.h:121</a></div></div>
<div class="ttc" id="aglquake_8h_html_a38fc920bede90cc2821cfde675ce10e2"><div class="ttname"><a href="glquake_8h.html#a38fc920bede90cc2821cfde675ce10e2">GL_RGBA16F</a></div><div class="ttdeci">#define GL_RGBA16F</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l01027">glquake.h:1027</a></div></div>
<div class="ttc" id="aglquake_8h_html_a395018cd2caaae0ed13483d0adb1680e"><div class="ttname"><a href="glquake_8h.html#a395018cd2caaae0ed13483d0adb1680e">GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT</a></div><div class="ttdeci">#define GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00410">glquake.h:410</a></div></div>
<div class="ttc" id="aglquake_8h_html_a48898b4f27c2e100bd856fd4ea66d774"><div class="ttname"><a href="glquake_8h.html#a48898b4f27c2e100bd856fd4ea66d774">GL_TEXTURE_MAX_LEVEL</a></div><div class="ttdeci">#define GL_TEXTURE_MAX_LEVEL</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00098">glquake.h:98</a></div></div>
<div class="ttc" id="aglquake_8h_html_a4a8f0a4e3ca93f56e40f144e199263fc"><div class="ttname"><a href="glquake_8h.html#a4a8f0a4e3ca93f56e40f144e199263fc">GL_PACK_ALIGNMENT</a></div><div class="ttdeci">#define GL_PACK_ALIGNMENT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00095">glquake.h:95</a></div></div>
<div class="ttc" id="aglquake_8h_html_a4ce1ca5c9ebc5ced8ab53ca569f1fe65"><div class="ttname"><a href="glquake_8h.html#a4ce1ca5c9ebc5ced8ab53ca569f1fe65">filter</a></div><div class="ttdeci">GLint GLint GLint GLint GLint GLint GLint GLbitfield GLenum filter</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00608">glquake.h:608</a></div></div>
<div class="ttc" id="aglquake_8h_html_a4e682f218130b98b27a1e33fa7325080"><div class="ttname"><a href="glquake_8h.html#a4e682f218130b98b27a1e33fa7325080">GL_LINEAR</a></div><div class="ttdeci">#define GL_LINEAR</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00101">glquake.h:101</a></div></div>
<div class="ttc" id="aglquake_8h_html_a53c5acd584fe74e6090441964a422dee"><div class="ttname"><a href="glquake_8h.html#a53c5acd584fe74e6090441964a422dee">GLboolean</a></div><div class="ttdeci">unsigned char GLboolean</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00046">glquake.h:46</a></div></div>
<div class="ttc" id="aglquake_8h_html_a563ae63395ca802a7c65b4f461fbf0d4"><div class="ttname"><a href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a></div><div class="ttdeci">GLint GLenum GLint GLint y</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a5665daac108402324f1db7b89006c0b6"><div class="ttname"><a href="glquake_8h.html#a5665daac108402324f1db7b89006c0b6">GL_NEAREST_MIPMAP_LINEAR</a></div><div class="ttdeci">#define GL_NEAREST_MIPMAP_LINEAR</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00103">glquake.h:103</a></div></div>
<div class="ttc" id="aglquake_8h_html_a56707576fd3e2da55343c25da155294d"><div class="ttname"><a href="glquake_8h.html#a56707576fd3e2da55343c25da155294d">GL_BGRA</a></div><div class="ttdeci">#define GL_BGRA</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00546">glquake.h:546</a></div></div>
<div class="ttc" id="aglquake_8h_html_a5bc33677c0708553a3dc8a6dbddd2107"><div class="ttname"><a href="glquake_8h.html#a5bc33677c0708553a3dc8a6dbddd2107">GL_SRGB_ALPHA</a></div><div class="ttdeci">#define GL_SRGB_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00397">glquake.h:397</a></div></div>
<div class="ttc" id="aglquake_8h_html_a5f6e032bc5f877d09491c9a8ed191571"><div class="ttname"><a href="glquake_8h.html#a5f6e032bc5f877d09491c9a8ed191571">GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</a></div><div class="ttdeci">#define GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00532">glquake.h:532</a></div></div>
<div class="ttc" id="aglquake_8h_html_a648a40c6e970071a8c8cadcc0f798ba4"><div class="ttname"><a href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a></div><div class="ttdeci">GLint GLenum GLsizei GLsizei GLsizei depth</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00647">glquake.h:647</a></div></div>
<div class="ttc" id="aglquake_8h_html_a69b1c02ba0bd93c643c6d82e0c16eb99"><div class="ttname"><a href="glquake_8h.html#a69b1c02ba0bd93c643c6d82e0c16eb99">GL_UNSIGNED_INT</a></div><div class="ttdeci">#define GL_UNSIGNED_INT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00123">glquake.h:123</a></div></div>
<div class="ttc" id="aglquake_8h_html_a69f1c49996aca30177171c7b086cfb34"><div class="ttname"><a href="glquake_8h.html#a69f1c49996aca30177171c7b086cfb34">GL_RGB</a></div><div class="ttdeci">#define GL_RGB</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00153">glquake.h:153</a></div></div>
<div class="ttc" id="aglquake_8h_html_a6c865f303c89ec764158e0016e50d4a8"><div class="ttname"><a href="glquake_8h.html#a6c865f303c89ec764158e0016e50d4a8">GL_TEXTURE_3D</a></div><div class="ttdeci">#define GL_TEXTURE_3D</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l01034">glquake.h:1034</a></div></div>
<div class="ttc" id="aglquake_8h_html_a6d19915d4237cb559505bd3e5dcfcf3c"><div class="ttname"><a href="glquake_8h.html#a6d19915d4237cb559505bd3e5dcfcf3c">GL_FLOAT</a></div><div class="ttdeci">#define GL_FLOAT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00124">glquake.h:124</a></div></div>
<div class="ttc" id="aglquake_8h_html_a6e9e9f45468754a0b59bf3406d3b5009"><div class="ttname"><a href="glquake_8h.html#a6e9e9f45468754a0b59bf3406d3b5009">GL_UNSIGNED_INT_24_8</a></div><div class="ttdeci">#define GL_UNSIGNED_INT_24_8</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00372">glquake.h:372</a></div></div>
<div class="ttc" id="aglquake_8h_html_a724edc4d9d6f3c1770ff3688f0747acb"><div class="ttname"><a href="glquake_8h.html#a724edc4d9d6f3c1770ff3688f0747acb">GL_LINEAR_MIPMAP_LINEAR</a></div><div class="ttdeci">#define GL_LINEAR_MIPMAP_LINEAR</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00105">glquake.h:105</a></div></div>
<div class="ttc" id="aglquake_8h_html_a75c9c896e11dc1eed9f9f1180b86d099"><div class="ttname"><a href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a76871dbc9ac35424b25ebc707ca11390"><div class="ttname"><a href="glquake_8h.html#a76871dbc9ac35424b25ebc707ca11390">GL_COMPRESSED_RGB_S3TC_DXT1_EXT</a></div><div class="ttdeci">#define GL_COMPRESSED_RGB_S3TC_DXT1_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00529">glquake.h:529</a></div></div>
<div class="ttc" id="aglquake_8h_html_a7970d7bc60644feb1efd44ac9ce1e796"><div class="ttname"><a href="glquake_8h.html#a7970d7bc60644feb1efd44ac9ce1e796">GL_TEXTURE_COMPRESSION_HINT</a></div><div class="ttdeci">#define GL_TEXTURE_COMPRESSION_HINT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00523">glquake.h:523</a></div></div>
<div class="ttc" id="aglquake_8h_html_a7ec02582a9b1c390908a2230c8e26c0b"><div class="ttname"><a href="glquake_8h.html#a7ec02582a9b1c390908a2230c8e26c0b">GL_NEAREST</a></div><div class="ttdeci">#define GL_NEAREST</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00100">glquake.h:100</a></div></div>
<div class="ttc" id="aglquake_8h_html_a80a33c79f69417372d65d2a65ca36d49"><div class="ttname"><a href="glquake_8h.html#a80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a></div><div class="ttdeci">#define GL_UNSIGNED_BYTE</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00119">glquake.h:119</a></div></div>
<div class="ttc" id="aglquake_8h_html_a820662f5b80a48256e2503352e9f51b9"><div class="ttname"><a href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a></div><div class="ttdeci">GLsizeiptr const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00638">glquake.h:638</a></div></div>
<div class="ttc" id="aglquake_8h_html_a893e97f8ef7726415045e76780461737"><div class="ttname"><a href="glquake_8h.html#a893e97f8ef7726415045e76780461737">GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT</a></div><div class="ttdeci">#define GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00409">glquake.h:409</a></div></div>
<div class="ttc" id="aglquake_8h_html_a8ac689a8905a064025cbe41d4cf8fcf5"><div class="ttname"><a href="glquake_8h.html#a8ac689a8905a064025cbe41d4cf8fcf5">GL_RENDERBUFFER</a></div><div class="ttdeci">#define GL_RENDERBUFFER</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00320">glquake.h:320</a></div></div>
<div class="ttc" id="aglquake_8h_html_a8b778a06f153b4d59ebc6aa1d0996191"><div class="ttname"><a href="glquake_8h.html#a8b778a06f153b4d59ebc6aa1d0996191">GL_LEQUAL</a></div><div class="ttdeci">#define GL_LEQUAL</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00161">glquake.h:161</a></div></div>
<div class="ttc" id="aglquake_8h_html_a8d31f977b3490eb05832ecc261313462"><div class="ttname"><a href="glquake_8h.html#a8d31f977b3490eb05832ecc261313462">GL_TEXTURE_CUBE_MAP_NEGATIVE_Y</a></div><div class="ttdeci">#define GL_TEXTURE_CUBE_MAP_NEGATIVE_Y</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00266">glquake.h:266</a></div></div>
<div class="ttc" id="aglquake_8h_html_a8e71ccb4538d4f8f5e8ff074fc5b6754"><div class="ttname"><a href="glquake_8h.html#a8e71ccb4538d4f8f5e8ff074fc5b6754">GL_UNPACK_ALIGNMENT</a></div><div class="ttdeci">#define GL_UNPACK_ALIGNMENT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00096">glquake.h:96</a></div></div>
<div class="ttc" id="aglquake_8h_html_a927f9e229ec7a64384ed1fdf889d0e9c"><div class="ttname"><a href="glquake_8h.html#a927f9e229ec7a64384ed1fdf889d0e9c">GLenum</a></div><div class="ttdeci">unsigned int GLenum</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00045">glquake.h:45</a></div></div>
<div class="ttc" id="aglquake_8h_html_a9325beace1bf7e7a0540e1361a3ad15b"><div class="ttname"><a href="glquake_8h.html#a9325beace1bf7e7a0540e1361a3ad15b">internalformat</a></div><div class="ttdeci">GLenum internalformat</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a9c63e51b23baa3e2abc01cc0c892a111"><div class="ttname"><a href="glquake_8h.html#a9c63e51b23baa3e2abc01cc0c892a111">GL_TEXTURE_CUBE_MAP_POSITIVE_Z</a></div><div class="ttdeci">#define GL_TEXTURE_CUBE_MAP_POSITIVE_Z</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00267">glquake.h:267</a></div></div>
<div class="ttc" id="aglquake_8h_html_a9f2854f4a91a0d83d2d54cb8110bfca4"><div class="ttname"><a href="glquake_8h.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a></div><div class="ttdeci">#define GL_RGBA</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00154">glquake.h:154</a></div></div>
<div class="ttc" id="aglquake_8h_html_a9fba5da0aafd194b7eb2fcd359511622"><div class="ttname"><a href="glquake_8h.html#a9fba5da0aafd194b7eb2fcd359511622">GL_LINEAR_MIPMAP_NEAREST</a></div><div class="ttdeci">#define GL_LINEAR_MIPMAP_NEAREST</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00104">glquake.h:104</a></div></div>
<div class="ttc" id="aglquake_8h_html_aa00e7c44b6e75517063f9aa442396c69"><div class="ttname"><a href="glquake_8h.html#aa00e7c44b6e75517063f9aa442396c69">GL_TEXTURE_INTERNAL_FORMAT</a></div><div class="ttdeci">#define GL_TEXTURE_INTERNAL_FORMAT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00097">glquake.h:97</a></div></div>
<div class="ttc" id="aglquake_8h_html_aa3d4d84d7e1458e03145d5db96bde045"><div class="ttname"><a href="glquake_8h.html#aa3d4d84d7e1458e03145d5db96bde045">GL_HALF_FLOAT</a></div><div class="ttdeci">#define GL_HALF_FLOAT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l01036">glquake.h:1036</a></div></div>
<div class="ttc" id="aglquake_8h_html_aa402fcab9f814ff88b2b19ca2823a594"><div class="ttname"><a href="glquake_8h.html#aa402fcab9f814ff88b2b19ca2823a594">GL_REPEAT</a></div><div class="ttdeci">#define GL_REPEAT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00110">glquake.h:110</a></div></div>
<div class="ttc" id="aglquake_8h_html_aababc4e27a4845063f8d1b7b91c20b2e"><div class="ttname"><a href="glquake_8h.html#aababc4e27a4845063f8d1b7b91c20b2e">GL_COMPRESSED_RGBA_S3TC_DXT3_EXT</a></div><div class="ttdeci">#define GL_COMPRESSED_RGBA_S3TC_DXT3_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00531">glquake.h:531</a></div></div>
<div class="ttc" id="aglquake_8h_html_aac16527902deb1ddf6b84a9ce3da6e84"><div class="ttname"><a href="glquake_8h.html#aac16527902deb1ddf6b84a9ce3da6e84">GL_DEPTH_COMPONENT</a></div><div class="ttdeci">#define GL_DEPTH_COMPONENT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00191">glquake.h:191</a></div></div>
<div class="ttc" id="aglquake_8h_html_aaec6f87dc3b72b3175f3e127062cfc5b"><div class="ttname"><a href="glquake_8h.html#aaec6f87dc3b72b3175f3e127062cfc5b">GL_DEPTH_STENCIL</a></div><div class="ttdeci">#define GL_DEPTH_STENCIL</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00371">glquake.h:371</a></div></div>
<div class="ttc" id="aglquake_8h_html_aaeed69f7c55e377901d9ff6d00463efa"><div class="ttname"><a href="glquake_8h.html#aaeed69f7c55e377901d9ff6d00463efa">GL_COMPRESSED_RGBA_S3TC_DXT1_EXT</a></div><div class="ttdeci">#define GL_COMPRESSED_RGBA_S3TC_DXT1_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00530">glquake.h:530</a></div></div>
<div class="ttc" id="aglquake_8h_html_ab83eb56dce8e1f7900585d35016abf39"><div class="ttname"><a href="glquake_8h.html#ab83eb56dce8e1f7900585d35016abf39">GL_TEXTURE_CUBE_MAP_POSITIVE_X</a></div><div class="ttdeci">#define GL_TEXTURE_CUBE_MAP_POSITIVE_X</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00263">glquake.h:263</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac307a4772e1d3decd5b6f36192113ab6"><div class="ttname"><a href="glquake_8h.html#ac307a4772e1d3decd5b6f36192113ab6">GL_TEXTURE_WRAP_T</a></div><div class="ttdeci">#define GL_TEXTURE_WRAP_T</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00091">glquake.h:91</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac615821e7cf9469189648617cb1275be"><div class="ttname"><a href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00600">glquake.h:600</a></div></div>
<div class="ttc" id="aglquake_8h_html_acb47a41b5963d44826f44b7370bccc26"><div class="ttname"><a href="glquake_8h.html#acb47a41b5963d44826f44b7370bccc26">GL_TEXTURE_MAG_FILTER</a></div><div class="ttdeci">#define GL_TEXTURE_MAG_FILTER</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00093">glquake.h:93</a></div></div>
<div class="ttc" id="aglquake_8h_html_ace8155682f86789a9af13e7026df4615"><div class="ttname"><a href="glquake_8h.html#ace8155682f86789a9af13e7026df4615">GL_RGBA32F</a></div><div class="ttdeci">#define GL_RGBA32F</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l01021">glquake.h:1021</a></div></div>
<div class="ttc" id="aglquake_8h_html_acf684a80b8a32988e8232d978c60c582"><div class="ttname"><a href="glquake_8h.html#acf684a80b8a32988e8232d978c60c582">GL_ALPHA</a></div><div class="ttdeci">#define GL_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00152">glquake.h:152</a></div></div>
<div class="ttc" id="aglquake_8h_html_ad19377002e628e741137eb70eb05a936"><div class="ttname"><a href="glquake_8h.html#ad19377002e628e741137eb70eb05a936">GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT</a></div><div class="ttdeci">#define GL_COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00408">glquake.h:408</a></div></div>
<div class="ttc" id="aglquake_8h_html_ad48339b0f8a7055390d2d6d0f8b31dae"><div class="ttname"><a href="glquake_8h.html#ad48339b0f8a7055390d2d6d0f8b31dae">GL_SRGB</a></div><div class="ttdeci">#define GL_SRGB</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00348">glquake.h:348</a></div></div>
<div class="ttc" id="aglquake_8h_html_ad4de17abefa73fa2ef53379f73b734be"><div class="ttname"><a href="glquake_8h.html#ad4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a></div><div class="ttdeci">#define GL_TEXTURE_2D</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00089">glquake.h:89</a></div></div>
<div class="ttc" id="aglquake_8h_html_ad871b289b8410082db98e4b3af0301f1"><div class="ttname"><a href="glquake_8h.html#ad871b289b8410082db98e4b3af0301f1">GL_DEPTH_COMPONENT24</a></div><div class="ttdeci">#define GL_DEPTH_COMPONENT24</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00202">glquake.h:202</a></div></div>
<div class="ttc" id="aglquake_8h_html_add24c893fc041cea9ba721cb8c9f3755"><div class="ttname"><a href="glquake_8h.html#add24c893fc041cea9ba721cb8c9f3755">GL_COMPRESSED_SRGB_S3TC_DXT1_EXT</a></div><div class="ttdeci">#define GL_COMPRESSED_SRGB_S3TC_DXT1_EXT</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00407">glquake.h:407</a></div></div>
<div class="ttc" id="aglquake_8h_html_adf0eeccd56a868827e37e4dacdfa7c32"><div class="ttname"><a href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a></div><div class="ttdeci">GLclampf GLclampf GLclampf alpha</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00641">glquake.h:641</a></div></div>
<div class="ttc" id="aglquake_8h_html_ae642ad8e3baa2512e2e27be2cf17373d"><div class="ttname"><a href="glquake_8h.html#ae642ad8e3baa2512e2e27be2cf17373d">GL_TEXTURE_CUBE_MAP_NEGATIVE_X</a></div><div class="ttdeci">#define GL_TEXTURE_CUBE_MAP_NEGATIVE_X</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00264">glquake.h:264</a></div></div>
<div class="ttc" id="aglquake_8h_html_ae90f81f48642444b4ba7fa5cacf40569"><div class="ttname"><a href="glquake_8h.html#ae90f81f48642444b4ba7fa5cacf40569">GL_CLAMP_TO_EDGE</a></div><div class="ttdeci">#define GL_CLAMP_TO_EDGE</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00275">glquake.h:275</a></div></div>
<div class="ttc" id="aglquake_8h_html_af5a50515d121e0ef24a67977c667add0"><div class="ttname"><a href="glquake_8h.html#af5a50515d121e0ef24a67977c667add0">GL_TEXTURE_COMPARE_MODE</a></div><div class="ttdeci">#define GL_TEXTURE_COMPARE_MODE</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00207">glquake.h:207</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="ahost_8c_html_a6207a721d43b13be42aa21a2bb4d3350"><div class="ttname"><a href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a></div><div class="ttdeci">void Host_Error(const char *error,...)</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00086">host.c:86</a></div></div>
<div class="ttc" id="aimage_8c_html_a046186d5387cfd4ccae31db2bc2d3585"><div class="ttname"><a href="image_8c.html#a046186d5387cfd4ccae31db2bc2d3585">Image_MakeLinearColorsFromsRGB</a></div><div class="ttdeci">void Image_MakeLinearColorsFromsRGB(unsigned char *pout, const unsigned char *pin, int numpixels)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00930">image.c:930</a></div></div>
<div class="ttc" id="aimage_8c_html_a45eeb5c3c9dd146b445d75e96b09fc3c"><div class="ttname"><a href="image_8c.html#a45eeb5c3c9dd146b445d75e96b09fc3c">Image_Resample32</a></div><div class="ttdeci">void Image_Resample32(const void *indata, int inwidth, int inheight, int indepth, void *outdata, int outwidth, int outheight, int outdepth, int quality)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l01675">image.c:1675</a></div></div>
<div class="ttc" id="aimage_8c_html_a90a86c90b143411780177d9e8adb8348"><div class="ttname"><a href="image_8c.html#a90a86c90b143411780177d9e8adb8348">Image_Copy8bitBGRA</a></div><div class="ttdeci">void Image_Copy8bitBGRA(const unsigned char *in, unsigned char *out, int pixels, const unsigned int *pal)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00129">image.c:129</a></div></div>
<div class="ttc" id="aimage_8c_html_a927509a9eae628b6572999c4b9898181"><div class="ttname"><a href="image_8c.html#a927509a9eae628b6572999c4b9898181">Image_MipReduce32</a></div><div class="ttdeci">void Image_MipReduce32(const unsigned char *in, unsigned char *out, int *width, int *height, int *depth, int destwidth, int destheight, int destdepth)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l01689">image.c:1689</a></div></div>
<div class="ttc" id="aimage_8c_html_ab264e6bc5c9178f4a425ab90f581325a"><div class="ttname"><a href="image_8c.html#ab264e6bc5c9178f4a425ab90f581325a">Image_CopyMux</a></div><div class="ttdeci">void Image_CopyMux(unsigned char *outpixels, const unsigned char *inpixels, int inputwidth, int inputheight, qbool inputflipx, qbool inputflipy, qbool inputflipdiagonal, int numoutputcomponents, int numinputcomponents, int *outputinputcomponentindices)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00024">image.c:24</a></div></div>
<div class="ttc" id="aimage_8h_html"><div class="ttname"><a href="image_8h.html">image.h</a></div></div>
<div class="ttc" id="aimage_8h_html_a2316f13de51459537db621e950f812e2"><div class="ttname"><a href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a></div><div class="ttdeci">#define Image_LinearFloatFromsRGB(c)</div><div class="ttdef"><b>Definition</b> <a href="image_8h_source.html#l00069">image.h:69</a></div></div>
<div class="ttc" id="aimage__png_8c_html_ab2cde959841139dac426ea8b3ad72042"><div class="ttname"><a href="image__png_8c.html#ab2cde959841139dac426ea8b3ad72042">PNG_OpenLibrary</a></div><div class="ttdeci">qbool PNG_OpenLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="image__png_8c_source.html#l00143">image_png.c:143</a></div></div>
<div class="ttc" id="aimage__png_8h_html"><div class="ttname"><a href="image__png_8h.html">image_png.h</a></div></div>
<div class="ttc" id="ajpeg_8c_html_aa11ad53af48f7a9158cbfe2913e227d6"><div class="ttname"><a href="jpeg_8c.html#aa11ad53af48f7a9158cbfe2913e227d6">JPEG_OpenLibrary</a></div><div class="ttdeci">qbool JPEG_OpenLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="jpeg_8c_source.html#l00492">jpeg.c:492</a></div></div>
<div class="ttc" id="ajpeg_8c_html_aaac04bbe4602f5ed3e81bf0090f220ff"><div class="ttname"><a href="jpeg_8c.html#aaac04bbe4602f5ed3e81bf0090f220ff">JPEG_CloseLibrary</a></div><div class="ttdeci">void JPEG_CloseLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="jpeg_8c_source.html#l00538">jpeg.c:538</a></div></div>
<div class="ttc" id="ajpeg_8h_html"><div class="ttname"><a href="jpeg_8h.html">jpeg.h</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
<div class="ttc" id="amathlib_8h_html_a547609f6e7dbcd2c93a0adf5430ef665"><div class="ttname"><a href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a></div><div class="ttdeci">#define VectorClear(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00096">mathlib.h:96</a></div></div>
<div class="ttc" id="amathlib_8h_html_a553641b2aac0b2a7c43f9f74f8333fd5"><div class="ttname"><a href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a></div><div class="ttdeci">#define bound(min, num, max)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00034">mathlib.h:34</a></div></div>
<div class="ttc" id="amathlib_8h_html_a8c00bebab00439f2b30d33bcdc183904"><div class="ttname"><a href="mathlib_8h.html#a8c00bebab00439f2b30d33bcdc183904">Vector4Clear</a></div><div class="ttdeci">#define Vector4Clear(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00081">mathlib.h:81</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a37004d1020cc31d3163f24e590015962"><div class="ttname"><a href="qdefs_8h.html#a37004d1020cc31d3163f24e590015962">INTOVERFLOW_ADD</a></div><div class="ttdeci">#define INTOVERFLOW_ADD(a, b)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00220">qdefs.h:220</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a6710c91437844bebbe49a2bbcc09ff49"><div class="ttname"><a href="qdefs_8h.html#a6710c91437844bebbe49a2bbcc09ff49">INTOVERFLOW_NORMALIZE</a></div><div class="ttdeci">#define INTOVERFLOW_NORMALIZE(a)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00225">qdefs.h:225</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a88ded3227cfc1f6383d496d5389ae37f"><div class="ttname"><a href="qdefs_8h.html#a88ded3227cfc1f6383d496d5389ae37f">INTOVERFLOW_MUL</a></div><div class="ttdeci">#define INTOVERFLOW_MUL(a, b)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00222">qdefs.h:222</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abd4ae30fcfdcbbff51bbf3f4e6daeee7"><div class="ttname"><a href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a></div><div class="ttdeci">#define MAX_QPATH</div><div class="ttdoc">max length of a quake game pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00169">qdefs.h:169</a></div></div>
<div class="ttc" id="aqdefs_8h_html_aee78a41fb89f0b15c27197014d6b311a"><div class="ttname"><a href="qdefs_8h.html#aee78a41fb89f0b15c27197014d6b311a">INTOVERFLOW_DIV</a></div><div class="ttdeci">#define INTOVERFLOW_DIV(a, b)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00223">qdefs.h:223</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
<div class="ttc" id="aquakedef_8h_html"><div class="ttname"><a href="quakedef_8h.html">quakedef.h</a></div></div>
<div class="ttc" id="ar__modules_8c_html_a7f982eee49a26b26f015596ac96edea0"><div class="ttname"><a href="r__modules_8c.html#a7f982eee49a26b26f015596ac96edea0">R_RegisterModule</a></div><div class="ttdeci">void R_RegisterModule(const char *name, void(*start)(void), void(*shutdown)(void), void(*newmap)(void), void(*devicelost)(void), void(*devicerestored)(void))</div><div class="ttdef"><b>Definition</b> <a href="r__modules_8c_source.html#l00025">r_modules.c:25</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a0f332820a9902f49fad5dbd44b4cf1a9"><div class="ttname"><a href="r__textures_8h.html#a0f332820a9902f49fad5dbd44b4cf1a9">TEXF_RGBMULTIPLYBYALPHA</a></div><div class="ttdeci">#define TEXF_RGBMULTIPLYBYALPHA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00013">r_textures.h:13</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a1e458ef28d5c5978bc1315f4a5b54aef"><div class="ttname"><a href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a></div><div class="ttdeci">#define TEXF_PICMIP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00021">r_textures.h:21</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a621c5bf8f9aad67354954c08a2603e05"><div class="ttname"><a href="r__textures_8h.html#a621c5bf8f9aad67354954c08a2603e05">TEXF_ALLOWUPDATES</a></div><div class="ttdeci">#define TEXF_ALLOWUPDATES</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00031">r_textures.h:31</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7e88b1d25d2969b53f6e967801f991ca"><div class="ttname"><a href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a></div><div class="ttdeci">#define TEXF_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00009">r_textures.h:9</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7ebf18782aefc1f1ff9fc5cb169e2dbb"><div class="ttname"><a href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a></div><div class="ttdeci">#define TEXF_FORCELINEAR</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00019">r_textures.h:19</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7ed15e202aa5ce1ef37ef412348a6468"><div class="ttname"><a href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a></div><div class="ttdeci">#define TEXF_MIPMAP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00011">r_textures.h:11</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a8367a0dbf5389896f956ab599fc394d8"><div class="ttname"><a href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a></div><div class="ttdeci">#define TEXF_ISWORLD</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00033">r_textures.h:33</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a951133ab2f845125172cb91a802c4a58"><div class="ttname"><a href="r__textures_8h.html#a951133ab2f845125172cb91a802c4a58">TEXF_ISSPRITE</a></div><div class="ttdeci">#define TEXF_ISSPRITE</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00035">r_textures.h:35</a></div></div>
<div class="ttc" id="ar__textures_8h_html_aa97b4aaf90cefe1dff4cb00f2b232127"><div class="ttname"><a href="r__textures_8h.html#aa97b4aaf90cefe1dff4cb00f2b232127">TEXF_FORCENEAREST</a></div><div class="ttdeci">#define TEXF_FORCENEAREST</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00017">r_textures.h:17</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab19c18de47f490e8f226052c34b577b8"><div class="ttname"><a href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a></div><div class="ttdeci">#define TEXF_COMPRESS</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00023">r_textures.h:23</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a></div><div class="ttdeci">textype_t</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00043">r_textures.h:44</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a097d99b3e8dc9a6b3d55dc9a0f222db1"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a097d99b3e8dc9a6b3d55dc9a0f222db1">TEXTYPE_SRGB_DXT1</a></div><div class="ttdeci">@ TEXTYPE_SRGB_DXT1</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00075">r_textures.h:75</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a0ee85a9638825161406e18997119e376">TEXTYPE_DXT5</a></div><div class="ttdeci">@ TEXTYPE_DXT5</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00063">r_textures.h:63</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1771b9038d4d04803cd636c391b58b2d">TEXTYPE_PALETTE</a></div><div class="ttdeci">@ TEXTYPE_PALETTE</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00049">r_textures.h:49</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a1804c7b4ffa7ec8901b4ad26ad126d1c"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a1804c7b4ffa7ec8901b4ad26ad126d1c">TEXTYPE_ETC1</a></div><div class="ttdeci">@ TEXTYPE_ETC1</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00066">r_textures.h:66</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a3de163d8565fc8aabd0cf9c6b8a09f3e"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a3de163d8565fc8aabd0cf9c6b8a09f3e">TEXTYPE_SHADOWMAP16_RAW</a></div><div class="ttdeci">@ TEXTYPE_SHADOWMAP16_RAW</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00098">r_textures.h:98</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20">TEXTYPE_SRGB_BGRA</a></div><div class="ttdeci">@ TEXTYPE_SRGB_BGRA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00073">r_textures.h:73</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a664bec53bde56aea1719d74bf10415ce"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a664bec53bde56aea1719d74bf10415ce">TEXTYPE_ALPHA</a></div><div class="ttdeci">@ TEXTYPE_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00055">r_textures.h:55</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a7223103d7fdb53da14b2c1bd9f9b8f71"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7223103d7fdb53da14b2c1bd9f9b8f71">TEXTYPE_SRGB_RGBA</a></div><div class="ttdeci">@ TEXTYPE_SRGB_RGBA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00071">r_textures.h:71</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a78217cdbd846be90ada3c3e6e34b54e2"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a78217cdbd846be90ada3c3e6e34b54e2">TEXTYPE_COLORBUFFER</a></div><div class="ttdeci">@ TEXTYPE_COLORBUFFER</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00084">r_textures.h:84</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a7cc81492a32521918482594267f76724">TEXTYPE_DXT1</a></div><div class="ttdeci">@ TEXTYPE_DXT1</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00057">r_textures.h:57</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a8aa45b002c0da7b51b90b3d980dde237"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8aa45b002c0da7b51b90b3d980dde237">TEXTYPE_SHADOWMAP16_COMP</a></div><div class="ttdeci">@ TEXTYPE_SHADOWMAP16_COMP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00096">r_textures.h:96</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a8da0781911296792d297467881d3dc90"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a8da0781911296792d297467881d3dc90">TEXTYPE_SRGB_DXT5</a></div><div class="ttdeci">@ TEXTYPE_SRGB_DXT5</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00081">r_textures.h:81</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a932ace49f643197a23aae06d5397bff8"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a932ace49f643197a23aae06d5397bff8">TEXTYPE_SRGB_PALETTE</a></div><div class="ttdeci">@ TEXTYPE_SRGB_PALETTE</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00069">r_textures.h:69</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a96ad45a0f26a7674d9bd8b81dbb7713a"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a96ad45a0f26a7674d9bd8b81dbb7713a">TEXTYPE_SRGB_DXT3</a></div><div class="ttdeci">@ TEXTYPE_SRGB_DXT3</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00079">r_textures.h:79</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a99bf132eb3b3d5fedaa8e07719e126ed"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a99bf132eb3b3d5fedaa8e07719e126ed">TEXTYPE_COLORBUFFER32F</a></div><div class="ttdeci">@ TEXTYPE_COLORBUFFER32F</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00088">r_textures.h:88</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49aa2466cecf47c58a7989d45c5b45273f3"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aa2466cecf47c58a7989d45c5b45273f3">TEXTYPE_DEPTHBUFFER24</a></div><div class="ttdeci">@ TEXTYPE_DEPTHBUFFER24</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00092">r_textures.h:92</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aab0bd274d451c3dc242d7d0e86394e19">TEXTYPE_DXT1A</a></div><div class="ttdeci">@ TEXTYPE_DXT1A</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00059">r_textures.h:59</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49ab1c740b5f5da1c8392ab8615a7f786e5"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab1c740b5f5da1c8392ab8615a7f786e5">TEXTYPE_DEPTHBUFFER16</a></div><div class="ttdeci">@ TEXTYPE_DEPTHBUFFER16</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00090">r_textures.h:90</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a></div><div class="ttdeci">@ TEXTYPE_BGRA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00053">r_textures.h:53</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49abe4a70fd8e3247fdc0ec57c276ca3c53">TEXTYPE_DXT3</a></div><div class="ttdeci">@ TEXTYPE_DXT3</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00061">r_textures.h:61</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49ac5defd59cdb910ae9b64009b32d960bd"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ac5defd59cdb910ae9b64009b32d960bd">TEXTYPE_SRGB_DXT1A</a></div><div class="ttdeci">@ TEXTYPE_SRGB_DXT1A</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00077">r_textures.h:77</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a></div><div class="ttdeci">@ TEXTYPE_RGBA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00051">r_textures.h:51</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49addcdfd96b68683438678b6a2a4d5f298"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49addcdfd96b68683438678b6a2a4d5f298">TEXTYPE_SHADOWMAP24_RAW</a></div><div class="ttdeci">@ TEXTYPE_SHADOWMAP24_RAW</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00102">r_textures.h:102</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49ae5b7ba5d8409f9149b39c2147d3ffa20"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ae5b7ba5d8409f9149b39c2147d3ffa20">TEXTYPE_DEPTHBUFFER24STENCIL8</a></div><div class="ttdeci">@ TEXTYPE_DEPTHBUFFER24STENCIL8</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00094">r_textures.h:94</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49aebd75dc810a90799cf24bc6a2b1fdd86"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aebd75dc810a90799cf24bc6a2b1fdd86">TEXTYPE_SHADOWMAP24_COMP</a></div><div class="ttdeci">@ TEXTYPE_SHADOWMAP24_COMP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00100">r_textures.h:100</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49aff2b1b2f2f1450232e4c087a7ef6df1b"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49aff2b1b2f2f1450232e4c087a7ef6df1b">TEXTYPE_COLORBUFFER16F</a></div><div class="ttdeci">@ TEXTYPE_COLORBUFFER16F</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00086">r_textures.h:86</a></div></div>
<div class="ttc" id="ar__textures_8h_html_abe4e0ad1d375c912287a2f199bf6352a"><div class="ttname"><a href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a></div><div class="ttdeci">#define TEXF_CLAMP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00015">r_textures.h:15</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ad06f238dcdecf27514652b043111514c"><div class="ttname"><a href="r__textures_8h.html#ad06f238dcdecf27514652b043111514c">updatecallback_t</a></div><div class="ttdeci">void(* updatecallback_t)(rtexture_t *rt, void *data)</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00168">r_textures.h:168</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ae60892774c5afd64b46479fee4006009"><div class="ttname"><a href="r__textures_8h.html#ae60892774c5afd64b46479fee4006009">TEXF_PERSISTENT</a></div><div class="ttdeci">#define TEXF_PERSISTENT</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00025">r_textures.h:25</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ae7321fcd751438a62912cc8cf7715d6e"><div class="ttname"><a href="r__textures_8h.html#ae7321fcd751438a62912cc8cf7715d6e">TEXF_RENDERTARGET</a></div><div class="ttdeci">#define TEXF_RENDERTARGET</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00037">r_textures.h:37</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a008e65201d4481545ed89903a22f667a"><div class="ttname"><a href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a></div><div class="ttdeci">dp_FragColor r</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00375">shader_glsl.h:375</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a2ab77c89eb79b49ccd22bb1b2ad48bf1"><div class="ttname"><a href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a></div><div class="ttdeci">precision highp float</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00045">shader_glsl.h:45</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a339672ff94e6199019102f50d317c3d7"><div class="ttname"><a href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a></div><div class="ttdeci">return ret</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00297">shader_glsl.h:297</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a5ec19189388a37fcddc7258e29a40335"><div class="ttname"><a href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a></div><div class="ttdeci">dp_FragColor g</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00385">shader_glsl.h:385</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a731feb93da8dc28ee53e37b43daabd06"><div class="ttname"><a href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a></div><div class="ttdeci">float f</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00586">shader_glsl.h:586</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ac369ee41cd9c6dc18e09c3293e27cf81"><div class="ttname"><a href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a></div><div class="ttdeci">dp_FragColor b</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00386">shader_glsl.h:386</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a6722e47d64e69141af5cdf392fcf95eb"><div class="ttname"><a href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">client_static_t::state</a></div><div class="ttdeci">cactive_t state</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00569">client.h:569</a></div></div>
<div class="ttc" id="astructcmd__state__t_html"><div class="ttname"><a href="structcmd__state__t.html">cmd_state_t</a></div><div class="ttdoc">command interpreter state - the tokenizing and execution of commands, as well as pointers to which cv...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00126">cmd.h:127</a></div></div>
<div class="ttc" id="astructcvar__t_html"><div class="ttname"><a href="structcvar__t.html">cvar_t</a></div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00065">cvar.h:66</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
<div class="ttc" id="astructglmode__t_html"><div class="ttname"><a href="structglmode__t.html">glmode_t</a></div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00425">gl_textures.c:426</a></div></div>
<div class="ttc" id="astructglmode__t_html_a0392ffb45b328550682a51699a7b903a"><div class="ttname"><a href="structglmode__t.html#a0392ffb45b328550682a51699a7b903a">glmode_t::magnification</a></div><div class="ttdeci">int magnification</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00428">gl_textures.c:428</a></div></div>
<div class="ttc" id="astructglmode__t_html_a6e90d0e3294bf61a9fbe062be638177a"><div class="ttname"><a href="structglmode__t.html#a6e90d0e3294bf61a9fbe062be638177a">glmode_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00427">gl_textures.c:427</a></div></div>
<div class="ttc" id="astructglmode__t_html_aa1c6ac98c87b5cb91f63638d2c806e42"><div class="ttname"><a href="structglmode__t.html#aa1c6ac98c87b5cb91f63638d2c806e42">glmode_t::minification</a></div><div class="ttdeci">int minification</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00428">gl_textures.c:428</a></div></div>
<div class="ttc" id="astructgltexture__t_html"><div class="ttname"><a href="structgltexture__t.html">gltexture_t</a></div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00178">gl_textures.c:179</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a0a8d84a7d6f1fe4c0b4df6e88cd6b6db"><div class="ttname"><a href="structgltexture__t.html#a0a8d84a7d6f1fe4c0b4df6e88cd6b6db">gltexture_t::miplevels</a></div><div class="ttdeci">int miplevels</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00227">gl_textures.c:227</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a2283884bc8435f9372854f7b6b5368b7"><div class="ttname"><a href="structgltexture__t.html#a2283884bc8435f9372854f7b6b5368b7">gltexture_t::bytesperpixel</a></div><div class="ttdeci">int bytesperpixel</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00229">gl_textures.c:229</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a243ab440349312ad97a495ecc9631d8e"><div class="ttname"><a href="structgltexture__t.html#a243ab440349312ad97a495ecc9631d8e">gltexture_t::inputdatasize</a></div><div class="ttdeci">int inputdatasize</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00210">gl_textures.c:210</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a31eaad95efa2fcccf386f19648101794"><div class="ttname"><a href="structgltexture__t.html#a31eaad95efa2fcccf386f19648101794">gltexture_t::renderbuffernum</a></div><div class="ttdeci">int renderbuffernum</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00183">gl_textures.c:183</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a3d5e71cccf96123c68b7f3acb77785ed"><div class="ttname"><a href="structgltexture__t.html#a3d5e71cccf96123c68b7f3acb77785ed">gltexture_t::gltexturetypeenum</a></div><div class="ttdeci">int gltexturetypeenum</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00186">gl_textures.c:186</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a48ed2341af96f42ca2f525920be2cfb0"><div class="ttname"><a href="structgltexture__t.html#a48ed2341af96f42ca2f525920be2cfb0">gltexture_t::dirty</a></div><div class="ttdeci">qbool dirty</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00184">gl_textures.c:184</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a49328c181d673d6a54756f268943802c"><div class="ttname"><a href="structgltexture__t.html#a49328c181d673d6a54756f268943802c">gltexture_t::palette</a></div><div class="ttdeci">const unsigned int * palette</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00221">gl_textures.c:221</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a5bf8eb32459af66101f71b70510c5aa0"><div class="ttname"><a href="structgltexture__t.html#a5bf8eb32459af66101f71b70510c5aa0">gltexture_t::pool</a></div><div class="ttdeci">struct gltexturepool_s * pool</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00199">gl_textures.c:199</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a71178775ea8e7161b82cbeaff4bae441"><div class="ttname"><a href="structgltexture__t.html#a71178775ea8e7161b82cbeaff4bae441">gltexture_t::glinternalformat</a></div><div class="ttdeci">int glinternalformat</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00233">gl_textures.c:233</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a72a48ecf7cf8d11f1ed7cb2343c066a0"><div class="ttname"><a href="structgltexture__t.html#a72a48ecf7cf8d11f1ed7cb2343c066a0">gltexture_t::bufferpixels</a></div><div class="ttdeci">unsigned char * bufferpixels</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00194">gl_textures.c:194</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a950badc1b22caf09bbbab848dddb6ac6"><div class="ttname"><a href="structgltexture__t.html#a950badc1b22caf09bbbab848dddb6ac6">gltexture_t::glisdepthstencil</a></div><div class="ttdeci">qbool glisdepthstencil</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00185">gl_textures.c:185</a></div></div>
<div class="ttc" id="astructgltexture__t_html_a9e21def5ab3b84eb7cf93681ccaa5a2e"><div class="ttname"><a href="structgltexture__t.html#a9e21def5ab3b84eb7cf93681ccaa5a2e">gltexture_t::textype</a></div><div class="ttdeci">textypeinfo_t * textype</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00217">gl_textures.c:217</a></div></div>
<div class="ttc" id="astructgltexture__t_html_aa2c3a7ef06f260779379ab780554237a"><div class="ttname"><a href="structgltexture__t.html#aa2c3a7ef06f260779379ab780554237a">gltexture_t::sides</a></div><div class="ttdeci">int sides</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00225">gl_textures.c:225</a></div></div>
<div class="ttc" id="astructgltexture__t_html_aaf03d8de89a6bdba3537650054ec4ea0"><div class="ttname"><a href="structgltexture__t.html#aaf03d8de89a6bdba3537650054ec4ea0">gltexture_t::chain</a></div><div class="ttdeci">struct gltexture_s * chain</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00201">gl_textures.c:201</a></div></div>
<div class="ttc" id="astructgltexture__t_html_ab51f8a9e8695de91679b2a63dbd23a97"><div class="ttname"><a href="structgltexture__t.html#ab51f8a9e8695de91679b2a63dbd23a97">gltexture_t::buffermodified</a></div><div class="ttdeci">qbool buffermodified</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00196">gl_textures.c:196</a></div></div>
<div class="ttc" id="astructgltexture__t_html_abe6dc9a6899d327acf89a586a64d7d43"><div class="ttname"><a href="structgltexture__t.html#abe6dc9a6899d327acf89a586a64d7d43">gltexture_t::inputdepth</a></div><div class="ttdeci">int inputdepth</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00205">gl_textures.c:205</a></div></div>
<div class="ttc" id="astructgltexture__t_html_ac1ec18284e25d7998b9b4e6a6fab074d"><div class="ttname"><a href="structgltexture__t.html#ac1ec18284e25d7998b9b4e6a6fab074d">gltexture_t::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00213">gl_textures.c:213</a></div></div>
<div class="ttc" id="astructgltexture__t_html_ad30fcb5a5ddf13c218b8b21e49c754ef"><div class="ttname"><a href="structgltexture__t.html#ad30fcb5a5ddf13c218b8b21e49c754ef">gltexture_t::texturetype</a></div><div class="ttdeci">int texturetype</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00219">gl_textures.c:219</a></div></div>
<div class="ttc" id="astructgltexture__t_html_ad5e8a57eb7d4290f17c639280bc04cc4"><div class="ttname"><a href="structgltexture__t.html#ad5e8a57eb7d4290f17c639280bc04cc4">gltexture_t::miplevel</a></div><div class="ttdeci">int miplevel</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00215">gl_textures.c:215</a></div></div>
<div class="ttc" id="astructgltexture__t_html_ad8c8244e561f85650174b9e1c3671acb"><div class="ttname"><a href="structgltexture__t.html#ad8c8244e561f85650174b9e1c3671acb">gltexture_t::updatecallback_data</a></div><div class="ttdeci">void * updatecallback_data</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00190">gl_textures.c:190</a></div></div>
<div class="ttc" id="astructgltexture__t_html_ad8ef9531f68a3816c2cc24fae8a52c16"><div class="ttname"><a href="structgltexture__t.html#ad8ef9531f68a3816c2cc24fae8a52c16">gltexture_t::gltype</a></div><div class="ttdeci">int gltype</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00235">gl_textures.c:235</a></div></div>
<div class="ttc" id="astructgltexture__t_html_addeb4488b07a8cd41f662a3929051223"><div class="ttname"><a href="structgltexture__t.html#addeb4488b07a8cd41f662a3929051223">gltexture_t::updatecallback</a></div><div class="ttdeci">updatecallback_t updatecallback</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00189">gl_textures.c:189</a></div></div>
<div class="ttc" id="astructgltexture__t_html_aed86eb809f75fde332d1181e358c372e"><div class="ttname"><a href="structgltexture__t.html#aed86eb809f75fde332d1181e358c372e">gltexture_t::tiledepth</a></div><div class="ttdeci">int tiledepth</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00223">gl_textures.c:223</a></div></div>
<div class="ttc" id="astructgltexture__t_html_aee07e0f81960f182895ad619aa329bf3"><div class="ttname"><a href="structgltexture__t.html#aee07e0f81960f182895ad619aa329bf3">gltexture_t::glformat</a></div><div class="ttdeci">int glformat</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00231">gl_textures.c:231</a></div></div>
<div class="ttc" id="astructgltexture__t_html_af744eafc7cd141dd8c5eb82a13e8f9ed"><div class="ttname"><a href="structgltexture__t.html#af744eafc7cd141dd8c5eb82a13e8f9ed">gltexture_t::inputtexels</a></div><div class="ttdeci">unsigned char * inputtexels</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00208">gl_textures.c:208</a></div></div>
<div class="ttc" id="astructgltexture__t_html_afcaebf6f0e4f36bc5c9dfdb6501d6919"><div class="ttname"><a href="structgltexture__t.html#afcaebf6f0e4f36bc5c9dfdb6501d6919">gltexture_t::texnum</a></div><div class="ttdeci">int texnum</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00182">gl_textures.c:182</a></div></div>
<div class="ttc" id="astructgltexturepool__t_html"><div class="ttname"><a href="structgltexturepool__t.html">gltexturepool_t</a></div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00241">gl_textures.c:242</a></div></div>
<div class="ttc" id="astructgltexturepool__t_html_a42aad781f931c0cd9514ce2589b47c16"><div class="ttname"><a href="structgltexturepool__t.html#a42aad781f931c0cd9514ce2589b47c16">gltexturepool_t::gltchain</a></div><div class="ttdeci">struct gltexture_s * gltchain</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00244">gl_textures.c:244</a></div></div>
<div class="ttc" id="astructgltexturepool__t_html_a54cc48cfca74f0dc79e04d5e2032c21c"><div class="ttname"><a href="structgltexturepool__t.html#a54cc48cfca74f0dc79e04d5e2032c21c">gltexturepool_t::sentinel</a></div><div class="ttdeci">unsigned int sentinel</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00243">gl_textures.c:243</a></div></div>
<div class="ttc" id="astructgltexturepool__t_html_afc4e71a6d92b76b6f5b5ee03eac72e55"><div class="ttname"><a href="structgltexturepool__t.html#afc4e71a6d92b76b6f5b5ee03eac72e55">gltexturepool_t::next</a></div><div class="ttdeci">struct gltexturepool_s * next</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00245">gl_textures.c:245</a></div></div>
<div class="ttc" id="astructmemexpandablearray__t_html"><div class="ttname"><a href="structmemexpandablearray__t.html">memexpandablearray_t</a></div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00128">zone.h:129</a></div></div>
<div class="ttc" id="astructmempool__t_html"><div class="ttname"><a href="structmempool__t.html">mempool_t</a></div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00064">zone.h:65</a></div></div>
<div class="ttc" id="astructrtexture__t_html"><div class="ttname"><a href="structrtexture__t.html">rtexture_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00107">r_textures.h:108</a></div></div>
<div class="ttc" id="astructrtexture__t_html_a10598707ccf9a33f500c2021c56df423"><div class="ttname"><a href="structrtexture__t.html#a10598707ccf9a33f500c2021c56df423">rtexture_t::texnum</a></div><div class="ttdeci">int texnum</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00110">r_textures.h:110</a></div></div>
<div class="ttc" id="astructrtexturepool__t_html"><div class="ttname"><a href="structrtexturepool__t.html">rtexturepool_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00119">r_textures.h:120</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html"><div class="ttname"><a href="structtextypeinfo__t.html">textypeinfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00067">gl_textures.c:68</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html_a0984fa10721f8a105460cc9079890808"><div class="ttname"><a href="structtextypeinfo__t.html#a0984fa10721f8a105460cc9079890808">textypeinfo_t::gltype</a></div><div class="ttdeci">int gltype</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00076">gl_textures.c:76</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html_a257c0142b42b6b07f09d49b2d2e6c3d3"><div class="ttname"><a href="structtextypeinfo__t.html#a257c0142b42b6b07f09d49b2d2e6c3d3">textypeinfo_t::internalbytesperpixel</a></div><div class="ttdeci">int internalbytesperpixel</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00072">gl_textures.c:72</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html_a29aa6ba16d0f5fea8e851ce1bee914cb"><div class="ttname"><a href="structtextypeinfo__t.html#a29aa6ba16d0f5fea8e851ce1bee914cb">textypeinfo_t::textype</a></div><div class="ttdeci">textype_t textype</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00070">gl_textures.c:70</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html_a3839a5a4dcb52893361bef2acde3b468"><div class="ttname"><a href="structtextypeinfo__t.html#a3839a5a4dcb52893361bef2acde3b468">textypeinfo_t::inputbytesperpixel</a></div><div class="ttdeci">int inputbytesperpixel</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00071">gl_textures.c:71</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html_a3d186ac94886c4d8aaaad148a6f9eefe"><div class="ttname"><a href="structtextypeinfo__t.html#a3d186ac94886c4d8aaaad148a6f9eefe">textypeinfo_t::glformat</a></div><div class="ttdeci">int glformat</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00075">gl_textures.c:75</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html_a9603f3dcffd932e8a6f4822f9bde9ddb"><div class="ttname"><a href="structtextypeinfo__t.html#a9603f3dcffd932e8a6f4822f9bde9ddb">textypeinfo_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00069">gl_textures.c:69</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html_aca36b7b621254e27cbd2b8d6f2d66601"><div class="ttname"><a href="structtextypeinfo__t.html#aca36b7b621254e27cbd2b8d6f2d66601">textypeinfo_t::glinternalformat</a></div><div class="ttdeci">int glinternalformat</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00074">gl_textures.c:74</a></div></div>
<div class="ttc" id="astructtextypeinfo__t_html_ad0b18a28e56e43bb2db25f2f2c1eb3d3"><div class="ttname"><a href="structtextypeinfo__t.html#ad0b18a28e56e43bb2db25f2f2c1eb3d3">textypeinfo_t::glinternalbytesperpixel</a></div><div class="ttdeci">float glinternalbytesperpixel</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00073">gl_textures.c:73</a></div></div>
<div class="ttc" id="astructviddef__support__t_html_a00d3c00fd72f18355f301c03e328d734"><div class="ttname"><a href="structviddef__support__t.html#a00d3c00fd72f18355f301c03e328d734">viddef_support_t::ext_texture_filter_anisotropic</a></div><div class="ttdeci">qbool ext_texture_filter_anisotropic</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00049">vid.h:49</a></div></div>
<div class="ttc" id="astructviddef__support__t_html_a4533325c0b90bb9bfd4c7656f53bf201"><div class="ttname"><a href="structviddef__support__t.html#a4533325c0b90bb9bfd4c7656f53bf201">viddef_support_t::ext_texture_compression_s3tc</a></div><div class="ttdeci">qbool ext_texture_compression_s3tc</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00048">vid.h:48</a></div></div>
<div class="ttc" id="astructviddef__support__t_html_a5a955edfc1c3d61db78f10d01b6a82f9"><div class="ttname"><a href="structviddef__support__t.html#a5a955edfc1c3d61db78f10d01b6a82f9">viddef_support_t::ext_texture_srgb</a></div><div class="ttdeci">qbool ext_texture_srgb</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00050">vid.h:50</a></div></div>
<div class="ttc" id="astructviddef__t_html_a06a669057f01a0d02c34aa0ebc781a54"><div class="ttname"><a href="structviddef__t.html#a06a669057f01a0d02c34aa0ebc781a54">viddef_t::maxtexturesize_2d</a></div><div class="ttdeci">unsigned int maxtexturesize_2d</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00090">vid.h:90</a></div></div>
<div class="ttc" id="astructviddef__t_html_a1c0221f7b714a977f0336becebbe928a"><div class="ttname"><a href="structviddef__t.html#a1c0221f7b714a977f0336becebbe928a">viddef_t::forcetextype</a></div><div class="ttdeci">int forcetextype</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00098">vid.h:98</a></div></div>
<div class="ttc" id="astructviddef__t_html_a1da5ca679bbe12b196fc8af97dac46be"><div class="ttname"><a href="structviddef__t.html#a1da5ca679bbe12b196fc8af97dac46be">viddef_t::maxtexturesize_3d</a></div><div class="ttdeci">unsigned int maxtexturesize_3d</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00091">vid.h:91</a></div></div>
<div class="ttc" id="astructviddef__t_html_a26e022a80a7fec29ffa2db3e8b6940cb"><div class="ttname"><a href="structviddef__t.html#a26e022a80a7fec29ffa2db3e8b6940cb">viddef_t::maxtexturesize_cubemap</a></div><div class="ttdeci">unsigned int maxtexturesize_cubemap</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00092">vid.h:92</a></div></div>
<div class="ttc" id="astructviddef__t_html_a77ee51e56202df8258781a0aa1dc1a2d"><div class="ttname"><a href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">viddef_t::renderpath</a></div><div class="ttdeci">renderpath_t renderpath</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00087">vid.h:87</a></div></div>
<div class="ttc" id="astructviddef__t_html_a92b20aa97d753058d20322451faa3650"><div class="ttname"><a href="structviddef__t.html#a92b20aa97d753058d20322451faa3650">viddef_t::max_anisotropy</a></div><div class="ttdeci">unsigned int max_anisotropy</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00093">vid.h:93</a></div></div>
<div class="ttc" id="astructviddef__t_html_a993a26a349fe3edd4be4cc65b42d261e"><div class="ttname"><a href="structviddef__t.html#a993a26a349fe3edd4be4cc65b42d261e">viddef_t::support</a></div><div class="ttdeci">viddef_support_t support</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00096">vid.h:96</a></div></div>
<div class="ttc" id="asys_8h_html_a373bafd608adfe542c636ccfdfb2368e"><div class="ttname"><a href="sys_8h.html#a373bafd608adfe542c636ccfdfb2368e">Sys_Error</a></div><div class="ttdeci">void Sys_Error(const char *error,...) DP_FUNC_PRINTF(1) DP_FUNC_NORETURN</div><div class="ttdoc">Causes the entire program to exit ASAP.</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00677">sys_shared.c:677</a></div></div>
<div class="ttc" id="avid_8h_html_a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b"><div class="ttname"><a href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a></div><div class="ttdeci">@ RENDERPATH_GLES2</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00039">vid.h:38</a></div></div>
<div class="ttc" id="avid_8h_html_a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a"><div class="ttname"><a href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a></div><div class="ttdeci">@ RENDERPATH_GL32</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00037">vid.h:37</a></div></div>
<div class="ttc" id="avid_8h_html_a8ad4fd4a0fc26d32b2587f36584ec528"><div class="ttname"><a href="vid_8h.html#a8ad4fd4a0fc26d32b2587f36584ec528">gl_version</a></div><div class="ttdeci">const char * gl_version</div><div class="ttdef"><b>Definition</b> <a href="vid__shared_8c_source.html#l00195">vid_shared.c:195</a></div></div>
<div class="ttc" id="avid_8h_html_aa5f05f6f860c65da5834d6ff3d5655af"><div class="ttname"><a href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a></div><div class="ttdeci">viddef_t vid</div><div class="ttdef"><b>Definition</b> <a href="vid__shared_8c_source.html#l00064">vid_shared.c:64</a></div></div>
<div class="ttc" id="azone_8c_html_a1b1599deb1c7db8a64afe5cf4cdbd539"><div class="ttname"><a href="zone_8c.html#a1b1599deb1c7db8a64afe5cf4cdbd539">Mem_ExpandableArray_IndexRange</a></div><div class="ttdeci">size_t Mem_ExpandableArray_IndexRange(const memexpandablearray_t *l)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00763">zone.c:763</a></div></div>
<div class="ttc" id="azone_8c_html_a211e7367323b1791e87715797bdee714"><div class="ttname"><a href="zone_8c.html#a211e7367323b1791e87715797bdee714">Mem_ExpandableArray_NewArray</a></div><div class="ttdeci">void Mem_ExpandableArray_NewArray(memexpandablearray_t *l, mempool_t *mempool, size_t recordsize, int numrecordsperarray)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00675">zone.c:675</a></div></div>
<div class="ttc" id="azone_8c_html_a6809e6e38abd59c5583dc9b83843a7ee"><div class="ttname"><a href="zone_8c.html#a6809e6e38abd59c5583dc9b83843a7ee">Mem_ExpandableArray_FreeRecord</a></div><div class="ttdeci">void Mem_ExpandableArray_FreeRecord(memexpandablearray_t *l, void *record)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00743">zone.c:743</a></div></div>
<div class="ttc" id="azone_8c_html_a6e8351ce990cc9c3c7eb1c6ac8c91921"><div class="ttname"><a href="zone_8c.html#a6e8351ce990cc9c3c7eb1c6ac8c91921">Mem_ExpandableArray_AllocRecord</a></div><div class="ttdeci">void * Mem_ExpandableArray_AllocRecord(memexpandablearray_t *l)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00695">zone.c:695</a></div></div>
<div class="ttc" id="azone_8c_html_ac3c570c2a60e19b44ed16e7e0ba844fa"><div class="ttname"><a href="zone_8c.html#ac3c570c2a60e19b44ed16e7e0ba844fa">Mem_ExpandableArray_RecordAtIndex</a></div><div class="ttdeci">void * Mem_ExpandableArray_RecordAtIndex(const memexpandablearray_t *l, size_t index)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00780">zone.c:780</a></div></div>
<div class="ttc" id="azone_8c_html_ac742acee1395c22ccf6d2370d465f844"><div class="ttname"><a href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a></div><div class="ttdeci">mempool_t * tempmempool</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00794">zone.c:794</a></div></div>
<div class="ttc" id="azone_8c_html_af23fe0fce9cfaf4fdbc6a6989ac24821"><div class="ttname"><a href="zone_8c.html#af23fe0fce9cfaf4fdbc6a6989ac24821">Mem_ExpandableArray_FreeArray</a></div><div class="ttdeci">void Mem_ExpandableArray_FreeArray(memexpandablearray_t *l)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00683">zone.c:683</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
<div class="ttc" id="azone_8h_html_a07374e605d328a588d2d738a56608ead"><div class="ttname"><a href="zone_8h.html#a07374e605d328a588d2d738a56608ead">Mem_FreePool</a></div><div class="ttdeci">#define Mem_FreePool(pool)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00105">zone.h:105</a></div></div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
<div class="ttc" id="azone_8h_html_a7da6ffdd01b3d31cb7c89e68fad87d0d"><div class="ttname"><a href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a></div><div class="ttdeci">#define Mem_AllocPool(name, flags, parent)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00104">zone.h:104</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="gl__textures_8c.html">gl_textures.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
