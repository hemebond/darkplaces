<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: console.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('console_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">console.c</div></div>
</div><!--header-->
<div class="contents">
<a href="console_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">Copyright (C) 1996-1997 Id Software, Inc.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">Copyright (C) 2000-2020 DarkPlaces contributors</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"></span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">This program is free software; you can redistribute it and/or</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">modify it under the terms of the GNU General Public License</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">as published by the Free Software Foundation; either version 2</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">of the License, or (at your option) any later version.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"></span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"></span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">See the GNU General Public License for more details.</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"></span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">along with this program; if not, write to the Free Software</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment"></span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">*/</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// console.c</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#if !defined(WIN32) || defined(__MINGW32__)</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor"># include &lt;unistd.h&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="quakedef_8h.html">quakedef.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="thread_8h.html">thread.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment">// for u8_encodech</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="ft2_8h.html">ft2.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="console_8c.html#af34b8f601f36273c1e2145c3664bf85a">   34</a></span><span class="keywordtype">float</span> <a class="code hl_variable" href="console_8c.html#af34b8f601f36273c1e2145c3664bf85a">con_cursorspeed</a> = 4;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">// lines up from bottom to display</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">   37</a></span><span class="keywordtype">int</span> <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a>;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">   39</a></span><a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> <a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">   40</a></span><span class="keywordtype">void</span> *<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">   42</a></span><span class="preprocessor">#define CON_LINES(i) CONBUFFER_LINES(&amp;con, i)</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="console_8c.html#a6b25db9863c1d1290c850e00c1608970">   43</a></span><span class="preprocessor">#define CON_LINES_LAST CONBUFFER_LINES_LAST(&amp;con)</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">   44</a></span><span class="preprocessor">#define CON_LINES_COUNT CONBUFFER_LINES_COUNT(&amp;con)</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="console_8c.html#a522819a9be9353e9d9d1cb6cf739fa73">   46</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a522819a9be9353e9d9d1cb6cf739fa73">con_notifytime</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_notifytime&quot;</span>,<span class="stringliteral">&quot;3&quot;</span>, <span class="stringliteral">&quot;how long notify lines last, in seconds&quot;</span>};</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="console_8c.html#a7306d2ff1b85fc916029f45b1ca143bb">   47</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a7306d2ff1b85fc916029f45b1ca143bb">con_notify</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_notify&quot;</span>,<span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;how many notify lines to show&quot;</span>};</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="console_8c.html#a85a0f3d0b16ed369f6fe970f7cd19cf2">   48</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a85a0f3d0b16ed369f6fe970f7cd19cf2">con_notifyalign</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_notifyalign&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;how to align notify lines: 0 = left, 0.5 = center, 1 = right, empty string = game default)&quot;</span>};</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="console_8c.html#a18b81ae0ebe29178a5a53565139f6c5a">   50</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a18b81ae0ebe29178a5a53565139f6c5a">con_chattime</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chattime&quot;</span>,<span class="stringliteral">&quot;30&quot;</span>, <span class="stringliteral">&quot;how long chat lines last, in seconds&quot;</span>};</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="console_8c.html#a65af6079c3991750c9dcf8d99548ff4d">   51</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a65af6079c3991750c9dcf8d99548ff4d">con_chat</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chat&quot;</span>,<span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;how many chat lines to show in a dedicated chat area&quot;</span>};</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="console_8c.html#adeeb3525c0753f464d464b7676a75d82">   52</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#adeeb3525c0753f464d464b7676a75d82">con_chatpos</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chatpos&quot;</span>,<span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;where to put chat (negative: lines from bottom of screen, positive: lines below notify, 0: at top)&quot;</span>};</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="console_8c.html#afa2bb27a9e0ac65b21ce054bc911e958">   53</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#afa2bb27a9e0ac65b21ce054bc911e958">con_chatrect</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chatrect&quot;</span>,<span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;use con_chatrect_x and _y to position con_notify and con_chat freely instead of con_chatpos&quot;</span>};</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="console_8c.html#a55aa530881c3941b21503dc335c205dc">   54</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a55aa530881c3941b21503dc335c205dc">con_chatrect_x</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chatrect_x&quot;</span>,<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;where to put chat, relative x coordinate of left edge on screen (use con_chatwidth for width)&quot;</span>};</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="console_8c.html#a6545a04504cc84e5ce63d0342de98aff">   55</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a6545a04504cc84e5ce63d0342de98aff">con_chatrect_y</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chatrect_y&quot;</span>,<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;where to put chat, relative y coordinate of top edge on screen (use con_chat for line count)&quot;</span>};</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="console_8c.html#ac48355b62fd33d64c8a5d4331f175f46">   56</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#ac48355b62fd33d64c8a5d4331f175f46">con_chatwidth</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chatwidth&quot;</span>,<span class="stringliteral">&quot;1.0&quot;</span>, <span class="stringliteral">&quot;relative chat window width&quot;</span>};</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">   57</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_textsize&quot;</span>,<span class="stringliteral">&quot;8&quot;</span>, <span class="stringliteral">&quot;console text size in virtual 2D pixels&quot;</span>};</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">   58</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">con_notifysize</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_notifysize&quot;</span>,<span class="stringliteral">&quot;8&quot;</span>, <span class="stringliteral">&quot;notify text size in virtual 2D pixels&quot;</span>};</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">   59</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">con_chatsize</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chatsize&quot;</span>,<span class="stringliteral">&quot;8&quot;</span>, <span class="stringliteral">&quot;chat text size in virtual 2D pixels (if con_chat is enabled)&quot;</span>};</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="console_8c.html#a53ed24953636cba97bd6b20634c4cbca">   60</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a53ed24953636cba97bd6b20634c4cbca">con_chatsound</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_chatsound&quot;</span>,<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables chat sound to play on message&quot;</span>};</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="console_8c.html#ae158c424d65985b77bed2ba54a39af0a">   61</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#ae158c424d65985b77bed2ba54a39af0a">con_chatsound_file</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;con_chatsound_file&quot;</span>,<span class="stringliteral">&quot;sound/misc/talk.wav&quot;</span>, <span class="stringliteral">&quot;The sound to play for chat messages&quot;</span>};</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="cl__parse_8c.html#a03d0a273e6a8f42f6424e58f76460fe1">   62</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a03d0a273e6a8f42f6424e58f76460fe1">con_chatsound_team_file</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;con_chatsound_team_file&quot;</span>,<span class="stringliteral">&quot;sound/misc/talk2.wav&quot;</span>, <span class="stringliteral">&quot;The sound to play for team chat messages&quot;</span>};</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="console_8c.html#ab958d83f888537859fe184406b41d73a">   63</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#ab958d83f888537859fe184406b41d73a">con_chatsound_team_mask</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;con_chatsound_team_mask&quot;</span>,<span class="stringliteral">&quot;40&quot;</span>,<span class="stringliteral">&quot;Magic ASCII code that denotes a team chat message&quot;</span>};</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="console_8c.html#a193e5c23cb9078c6db0316b600e3c6a6">   65</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a193e5c23cb9078c6db0316b600e3c6a6">sys_specialcharactertranslation</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sys_specialcharactertranslation&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;terminal console conchars to ASCII translation (set to 0 if your conchars.tga is for an 8bit character set or if you want raw output)&quot;</span>};</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#adade6350603ae71cd32aeeb2156ccf9f">sys_colortranslation</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sys_colortranslation&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;terminal console color translation (supported values: 0 = strip color codes, 1 = translate to ANSI codes, 2 = no translation)&quot;</span>};</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="console_8c.html#adade6350603ae71cd32aeeb2156ccf9f">   69</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#adade6350603ae71cd32aeeb2156ccf9f">sys_colortranslation</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;sys_colortranslation&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;terminal console color translation (supported values: 0 = strip color codes, 1 = translate to ANSI codes, 2 = no translation)&quot;</span>};</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="console_8c.html#ab0fba76b1a508af0844d7795159bbe54">   73</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#ab0fba76b1a508af0844d7795159bbe54">con_nickcompletion</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_nickcompletion&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;tab-complete nicks in console and message input&quot;</span>};</div>
<div class="foldopen" id="foldopen00074" data-start="{" data-end="};">
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">   74</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_nickcompletion_flags&quot;</span>, <span class="stringliteral">&quot;11&quot;</span>, <span class="stringliteral">&quot;Bitfield: &quot;</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>                   <span class="stringliteral">&quot;0: add nothing after completion. &quot;</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>                   <span class="stringliteral">&quot;1: add the last color after completion. &quot;</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>                   <span class="stringliteral">&quot;2: add a quote when starting a quote instead of the color. &quot;</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>                   <span class="stringliteral">&quot;4: will replace 1, will force color, even after a quote. &quot;</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>                   <span class="stringliteral">&quot;8: ignore non-alphanumerics. &quot;</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>                   <span class="stringliteral">&quot;16: ignore spaces. &quot;</span>};</div>
</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="console_8c.html#a0c2578e616393e3f31b915f266afd1f2">   81</a></span><span class="preprocessor">#define NICKS_ADD_COLOR 1</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="console_8c.html#a8727d646d3291d247ea451bf99f199df">   82</a></span><span class="preprocessor">#define NICKS_ADD_QUOTE 2</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="console_8c.html#a782808907db5d7ebcae51ff70936caff">   83</a></span><span class="preprocessor">#define NICKS_FORCE_COLOR 4</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="console_8c.html#a54752c5055971ff2d8395e99b15afc20">   84</a></span><span class="preprocessor">#define NICKS_ALPHANUMERICS_ONLY 8</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="console_8c.html#a30fd640d02642add01ccd0d793bd8e19">   85</a></span><span class="preprocessor">#define NICKS_NO_SPACES 16</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="console_8c.html#a94065b66bf79bbc2c448857360b040b4">   87</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a94065b66bf79bbc2c448857360b040b4">con_completion_playdemo</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_completion_playdemo&quot;</span>, <span class="stringliteral">&quot;*.dem&quot;</span>, <span class="stringliteral">&quot;completion pattern for the playdemo command&quot;</span>};</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="console_8c.html#aca67592bd2c231db9cd42cf1f8d7a3b9">   88</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#aca67592bd2c231db9cd42cf1f8d7a3b9">con_completion_timedemo</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_completion_timedemo&quot;</span>, <span class="stringliteral">&quot;*.dem&quot;</span>, <span class="stringliteral">&quot;completion pattern for the timedemo command&quot;</span>};</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="console_8c.html#a4911e9e104c1a9e037f8c3b58bffa4be">   89</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a4911e9e104c1a9e037f8c3b58bffa4be">con_completion_exec</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;con_completion_exec&quot;</span>, <span class="stringliteral">&quot;*.cfg&quot;</span>, <span class="stringliteral">&quot;completion pattern for the exec command&quot;</span>};</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="console_8c.html#a70458b42ee176f6f78fa8951d3493f57">   91</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a70458b42ee176f6f78fa8951d3493f57">condump_stripcolors</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>| <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;condump_stripcolors&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;strip color codes from console dumps&quot;</span>};</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="client_8h.html#a084a5a94b5c54c502b53f4b0beb75cbd">   93</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a> | <a class="code hl_define" href="cmd_8h.html#afc7ff54d18aaa67429a4706241a5aa79">CF_PRIVATE</a>, <span class="stringliteral">&quot;rcon_password&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;password to authenticate rcon commands; NOTE: changing rcon_secure clears rcon_password, so set rcon_secure always before rcon_password; may be set to a string of the form user1:pass1 user2:pass2 user3:pass3 to allow multiple user accounts - the client then has to specify ONE of these combinations&quot;</span>};</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno"><a class="line" href="cl__cmd_8c.html#a91eb541dbcdf27e99a58540f296db255">   94</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;rcon_secure&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;force secure rcon authentication (1 = time based, 2 = challenge based); NOTE: changing rcon_secure clears rcon_password, so set rcon_secure always before rcon_password&quot;</span>};</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="cl__cmd_8c.html#a90295c0585be4dc5bfac2be3e973effb">   95</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a90295c0585be4dc5bfac2be3e973effb">rcon_secure_challengetimeout</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;rcon_secure_challengetimeout&quot;</span>, <span class="stringliteral">&quot;5&quot;</span>, <span class="stringliteral">&quot;challenge-based secure rcon: time out requests if no challenge came within this time interval&quot;</span>};</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="client_8h.html#ab8091653566962382eff239bbfaf08a2">   96</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#ab8091653566962382eff239bbfaf08a2">rcon_address</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;rcon_address&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;server address to send rcon commands to (when not connected to a server)&quot;</span>};</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="console_8c.html#af3cd1a17fe286da8d797e4706db935b2">   98</a></span><span class="keywordtype">int</span> <a class="code hl_variable" href="console_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a>;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="cl__screen_8c.html#acdae77962f6ca032365eb4681a73a4a7">   99</a></span><span class="keywordtype">int</span> <a class="code hl_variable" href="console_8c.html#acdae77962f6ca032365eb4681a73a4a7">con_vislines</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="console_8c.html#a8949602b592f226ebfd2b93e2b76286c">  101</a></span><a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="console_8c.html#a8949602b592f226ebfd2b93e2b76286c">con_initialized</a>;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment">// used for server replies to rcon command</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="console_8c.html#ade2722aeebecd284874c8a349ebdc834">  104</a></span><a class="code hl_struct" href="structlhnetsocket__t.html">lhnetsocket_t</a> *<a class="code hl_variable" href="console_8c.html#ade2722aeebecd284874c8a349ebdc834">rcon_redirect_sock</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="console_8c.html#a677edc38b62baf5ea5206fa10c1e6e84">  105</a></span><a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> *<a class="code hl_variable" href="console_8c.html#a677edc38b62baf5ea5206fa10c1e6e84">rcon_redirect_dest</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">  106</a></span><span class="keywordtype">int</span> <a class="code hl_variable" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a> = 0;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">  107</a></span><span class="keywordtype">char</span> <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>[1400];</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="console_8c.html#af7137a5272c3743313cb3168931c38de">  108</a></span><a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="console_8c.html#af7137a5272c3743313cb3168931c38de">rcon_redirect_proquakeprotocol</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment">// generic functions for console buffers</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="foldopen" id="foldopen00112" data-start="{" data-end="}">
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="console_8c.html#aca73098926ff38b00a694d08ac197e3e">  112</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aca73098926ff38b00a694d08ac197e3e">ConBuffer_Init</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keywordtype">int</span> textsize, <span class="keywordtype">int</span> maxlines, <a class="code hl_struct" href="structmempool__t.html">mempool_t</a> *mempool)</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>{</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;active = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;textsize = textsize;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;text = (<span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(mempool, textsize);</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;maxlines = maxlines;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines = (<a class="code hl_struct" href="structcon__lineinfo__t.html">con_lineinfo_t</a> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(mempool, maxlines * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines));</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_first = 0;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count = 0;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>}</div>
</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="foldopen" id="foldopen00124" data-start="{" data-end="};">
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="console_8c.html#adea1698bae193a88e857c3042e63ab5e">  124</a></span><span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="console_8c.html#adea1698bae193a88e857c3042e63ab5e">qfont_table</a>[256] = {</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="charliteral">&#39;\0&#39;</span>, <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="charliteral">&#39;#&#39;</span>,  9,    10,   <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39; &#39;</span>,  13,   <span class="charliteral">&#39;.&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="charliteral">&#39;[&#39;</span>,  <span class="charliteral">&#39;]&#39;</span>,  <span class="charliteral">&#39;0&#39;</span>,  <span class="charliteral">&#39;1&#39;</span>,  <span class="charliteral">&#39;2&#39;</span>,  <span class="charliteral">&#39;3&#39;</span>,  <span class="charliteral">&#39;4&#39;</span>,  <span class="charliteral">&#39;5&#39;</span>,</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="charliteral">&#39;6&#39;</span>,  <span class="charliteral">&#39;7&#39;</span>,  <span class="charliteral">&#39;8&#39;</span>,  <span class="charliteral">&#39;9&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,  <span class="charliteral">&#39;&lt;&#39;</span>,  <span class="charliteral">&#39;=&#39;</span>,  <span class="charliteral">&#39;&gt;&#39;</span>,</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="charliteral">&#39; &#39;</span>,  <span class="charliteral">&#39;!&#39;</span>,  <span class="charliteral">&#39;&quot;&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;$&#39;</span>,  <span class="charliteral">&#39;%&#39;</span>,  <span class="charliteral">&#39;&amp;&#39;</span>,  <span class="charliteral">&#39;\&#39;&#39;</span>,</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="charliteral">&#39;(&#39;</span>,  <span class="charliteral">&#39;)&#39;</span>,  <span class="charliteral">&#39;*&#39;</span>,  <span class="charliteral">&#39;+&#39;</span>,  <span class="charliteral">&#39;,&#39;</span>,  <span class="charliteral">&#39;-&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,  <span class="charliteral">&#39;/&#39;</span>,</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="charliteral">&#39;0&#39;</span>,  <span class="charliteral">&#39;1&#39;</span>,  <span class="charliteral">&#39;2&#39;</span>,  <span class="charliteral">&#39;3&#39;</span>,  <span class="charliteral">&#39;4&#39;</span>,  <span class="charliteral">&#39;5&#39;</span>,  <span class="charliteral">&#39;6&#39;</span>,  <span class="charliteral">&#39;7&#39;</span>,</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="charliteral">&#39;8&#39;</span>,  <span class="charliteral">&#39;9&#39;</span>,  <span class="charliteral">&#39;:&#39;</span>,  <span class="charliteral">&#39;;&#39;</span>,  <span class="charliteral">&#39;&lt;&#39;</span>,  <span class="charliteral">&#39;=&#39;</span>,  <span class="charliteral">&#39;&gt;&#39;</span>,  <span class="charliteral">&#39;?&#39;</span>,</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="charliteral">&#39;@&#39;</span>,  <span class="charliteral">&#39;A&#39;</span>,  <span class="charliteral">&#39;B&#39;</span>,  <span class="charliteral">&#39;C&#39;</span>,  <span class="charliteral">&#39;D&#39;</span>,  <span class="charliteral">&#39;E&#39;</span>,  <span class="charliteral">&#39;F&#39;</span>,  <span class="charliteral">&#39;G&#39;</span>,</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="charliteral">&#39;H&#39;</span>,  <span class="charliteral">&#39;I&#39;</span>,  <span class="charliteral">&#39;J&#39;</span>,  <span class="charliteral">&#39;K&#39;</span>,  <span class="charliteral">&#39;L&#39;</span>,  <span class="charliteral">&#39;M&#39;</span>,  <span class="charliteral">&#39;N&#39;</span>,  <span class="charliteral">&#39;O&#39;</span>,</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="charliteral">&#39;P&#39;</span>,  <span class="charliteral">&#39;Q&#39;</span>,  <span class="charliteral">&#39;R&#39;</span>,  <span class="charliteral">&#39;S&#39;</span>,  <span class="charliteral">&#39;T&#39;</span>,  <span class="charliteral">&#39;U&#39;</span>,  <span class="charliteral">&#39;V&#39;</span>,  <span class="charliteral">&#39;W&#39;</span>,</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="charliteral">&#39;X&#39;</span>,  <span class="charliteral">&#39;Y&#39;</span>,  <span class="charliteral">&#39;Z&#39;</span>,  <span class="charliteral">&#39;[&#39;</span>,  <span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;]&#39;</span>,  <span class="charliteral">&#39;^&#39;</span>,  <span class="charliteral">&#39;_&#39;</span>,</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="charliteral">&#39;`&#39;</span>,  <span class="charliteral">&#39;a&#39;</span>,  <span class="charliteral">&#39;b&#39;</span>,  <span class="charliteral">&#39;c&#39;</span>,  <span class="charliteral">&#39;d&#39;</span>,  <span class="charliteral">&#39;e&#39;</span>,  <span class="charliteral">&#39;f&#39;</span>,  <span class="charliteral">&#39;g&#39;</span>,</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="charliteral">&#39;h&#39;</span>,  <span class="charliteral">&#39;i&#39;</span>,  <span class="charliteral">&#39;j&#39;</span>,  <span class="charliteral">&#39;k&#39;</span>,  <span class="charliteral">&#39;l&#39;</span>,  <span class="charliteral">&#39;m&#39;</span>,  <span class="charliteral">&#39;n&#39;</span>,  <span class="charliteral">&#39;o&#39;</span>,</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="charliteral">&#39;p&#39;</span>,  <span class="charliteral">&#39;q&#39;</span>,  <span class="charliteral">&#39;r&#39;</span>,  <span class="charliteral">&#39;s&#39;</span>,  <span class="charliteral">&#39;t&#39;</span>,  <span class="charliteral">&#39;u&#39;</span>,  <span class="charliteral">&#39;v&#39;</span>,  <span class="charliteral">&#39;w&#39;</span>,</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="charliteral">&#39;x&#39;</span>,  <span class="charliteral">&#39;y&#39;</span>,  <span class="charliteral">&#39;z&#39;</span>,  <span class="charliteral">&#39;{&#39;</span>,  <span class="charliteral">&#39;|&#39;</span>,  <span class="charliteral">&#39;}&#39;</span>,  <span class="charliteral">&#39;~&#39;</span>,  <span class="charliteral">&#39;&lt;&#39;</span>,</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="charliteral">&#39;&lt;&#39;</span>,  <span class="charliteral">&#39;=&#39;</span>,  <span class="charliteral">&#39;&gt;&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39; &#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39; &#39;</span>,  <span class="charliteral">&#39;&gt;&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="charliteral">&#39;[&#39;</span>,  <span class="charliteral">&#39;]&#39;</span>,  <span class="charliteral">&#39;0&#39;</span>,  <span class="charliteral">&#39;1&#39;</span>,  <span class="charliteral">&#39;2&#39;</span>,  <span class="charliteral">&#39;3&#39;</span>,  <span class="charliteral">&#39;4&#39;</span>,  <span class="charliteral">&#39;5&#39;</span>,</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="charliteral">&#39;6&#39;</span>,  <span class="charliteral">&#39;7&#39;</span>,  <span class="charliteral">&#39;8&#39;</span>,  <span class="charliteral">&#39;9&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,  <span class="charliteral">&#39;&lt;&#39;</span>,  <span class="charliteral">&#39;=&#39;</span>,  <span class="charliteral">&#39;&gt;&#39;</span>,</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="charliteral">&#39; &#39;</span>,  <span class="charliteral">&#39;!&#39;</span>,  <span class="charliteral">&#39;&quot;&#39;</span>,  <span class="charliteral">&#39;#&#39;</span>,  <span class="charliteral">&#39;$&#39;</span>,  <span class="charliteral">&#39;%&#39;</span>,  <span class="charliteral">&#39;&amp;&#39;</span>,  <span class="charliteral">&#39;\&#39;&#39;</span>,</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="charliteral">&#39;(&#39;</span>,  <span class="charliteral">&#39;)&#39;</span>,  <span class="charliteral">&#39;*&#39;</span>,  <span class="charliteral">&#39;+&#39;</span>,  <span class="charliteral">&#39;,&#39;</span>,  <span class="charliteral">&#39;-&#39;</span>,  <span class="charliteral">&#39;.&#39;</span>,  <span class="charliteral">&#39;/&#39;</span>,</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="charliteral">&#39;0&#39;</span>,  <span class="charliteral">&#39;1&#39;</span>,  <span class="charliteral">&#39;2&#39;</span>,  <span class="charliteral">&#39;3&#39;</span>,  <span class="charliteral">&#39;4&#39;</span>,  <span class="charliteral">&#39;5&#39;</span>,  <span class="charliteral">&#39;6&#39;</span>,  <span class="charliteral">&#39;7&#39;</span>,</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="charliteral">&#39;8&#39;</span>,  <span class="charliteral">&#39;9&#39;</span>,  <span class="charliteral">&#39;:&#39;</span>,  <span class="charliteral">&#39;;&#39;</span>,  <span class="charliteral">&#39;&lt;&#39;</span>,  <span class="charliteral">&#39;=&#39;</span>,  <span class="charliteral">&#39;&gt;&#39;</span>,  <span class="charliteral">&#39;?&#39;</span>,</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="charliteral">&#39;@&#39;</span>,  <span class="charliteral">&#39;A&#39;</span>,  <span class="charliteral">&#39;B&#39;</span>,  <span class="charliteral">&#39;C&#39;</span>,  <span class="charliteral">&#39;D&#39;</span>,  <span class="charliteral">&#39;E&#39;</span>,  <span class="charliteral">&#39;F&#39;</span>,  <span class="charliteral">&#39;G&#39;</span>,</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="charliteral">&#39;H&#39;</span>,  <span class="charliteral">&#39;I&#39;</span>,  <span class="charliteral">&#39;J&#39;</span>,  <span class="charliteral">&#39;K&#39;</span>,  <span class="charliteral">&#39;L&#39;</span>,  <span class="charliteral">&#39;M&#39;</span>,  <span class="charliteral">&#39;N&#39;</span>,  <span class="charliteral">&#39;O&#39;</span>,</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="charliteral">&#39;P&#39;</span>,  <span class="charliteral">&#39;Q&#39;</span>,  <span class="charliteral">&#39;R&#39;</span>,  <span class="charliteral">&#39;S&#39;</span>,  <span class="charliteral">&#39;T&#39;</span>,  <span class="charliteral">&#39;U&#39;</span>,  <span class="charliteral">&#39;V&#39;</span>,  <span class="charliteral">&#39;W&#39;</span>,</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="charliteral">&#39;X&#39;</span>,  <span class="charliteral">&#39;Y&#39;</span>,  <span class="charliteral">&#39;Z&#39;</span>,  <span class="charliteral">&#39;[&#39;</span>,  <span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;]&#39;</span>,  <span class="charliteral">&#39;^&#39;</span>,  <span class="charliteral">&#39;_&#39;</span>,</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="charliteral">&#39;`&#39;</span>,  <span class="charliteral">&#39;a&#39;</span>,  <span class="charliteral">&#39;b&#39;</span>,  <span class="charliteral">&#39;c&#39;</span>,  <span class="charliteral">&#39;d&#39;</span>,  <span class="charliteral">&#39;e&#39;</span>,  <span class="charliteral">&#39;f&#39;</span>,  <span class="charliteral">&#39;g&#39;</span>,</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="charliteral">&#39;h&#39;</span>,  <span class="charliteral">&#39;i&#39;</span>,  <span class="charliteral">&#39;j&#39;</span>,  <span class="charliteral">&#39;k&#39;</span>,  <span class="charliteral">&#39;l&#39;</span>,  <span class="charliteral">&#39;m&#39;</span>,  <span class="charliteral">&#39;n&#39;</span>,  <span class="charliteral">&#39;o&#39;</span>,</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="charliteral">&#39;p&#39;</span>,  <span class="charliteral">&#39;q&#39;</span>,  <span class="charliteral">&#39;r&#39;</span>,  <span class="charliteral">&#39;s&#39;</span>,  <span class="charliteral">&#39;t&#39;</span>,  <span class="charliteral">&#39;u&#39;</span>,  <span class="charliteral">&#39;v&#39;</span>,  <span class="charliteral">&#39;w&#39;</span>,</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="charliteral">&#39;x&#39;</span>,  <span class="charliteral">&#39;y&#39;</span>,  <span class="charliteral">&#39;z&#39;</span>,  <span class="charliteral">&#39;{&#39;</span>,  <span class="charliteral">&#39;|&#39;</span>,  <span class="charliteral">&#39;}&#39;</span>,  <span class="charliteral">&#39;~&#39;</span>,  <span class="charliteral">&#39;&lt;&#39;</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>};</div>
</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="comment">/*</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment">    SanitizeString strips color tags from the string in</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">    and writes the result on string out</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00164" data-start="{" data-end="}">
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="console_8c.html#adcade1efc869f19ff7f2f26152574e05">  164</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#adcade1efc869f19ff7f2f26152574e05">SanitizeString</a>(<span class="keywordtype">char</span> *in, <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>)</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>{</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="keywordflow">while</span>(*in)</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    {</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        <span class="keywordflow">if</span>(*in == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>)</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>            ++in;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>            <span class="keywordflow">if</span>(!*in)</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            {</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[0] = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[1] = 0;</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>            }</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*in &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *in &lt;= <span class="charliteral">&#39;9&#39;</span>) <span class="comment">// ^[0-9] found</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            {</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>                ++in;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>                <span class="keywordflow">if</span>(!*in)</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>                {</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = 0;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*in == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>) <span class="comment">// ^[0-9]^ found, don&#39;t print ^[0-9]</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>            }</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*in == <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a>) <span class="comment">// ^x found</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>            {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>                <span class="keywordflow">if</span> ( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[1]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[2]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[3]) )</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>                    in+=4;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                    <span class="keywordflow">if</span> (!*in)</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                    {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = 0;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*in == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>) <span class="comment">// ^xrgb^ found, don&#39;t print ^xrgb</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>                }</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                <span class="keywordflow">else</span> in--;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>            }</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*in != <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>)</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>                --in;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_variable" href="console_8c.html#adea1698bae193a88e857c3042e63ab5e">qfont_table</a>[*(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)in];</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        ++in;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    }</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = 0;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>}</div>
</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">/*</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">================</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="comment">ConBuffer_Clear</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="comment">================</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00216" data-start="{" data-end="}">
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="console_8c.html#a39520b350a49efab5ef8a4b53c31c9d6">  216</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a39520b350a49efab5ef8a4b53c31c9d6">ConBuffer_Clear</a> (<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>{</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count = 0;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>}</div>
</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="comment">/*</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="comment">================</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span><span class="comment">ConBuffer_Shutdown</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="comment">================</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00226" data-start="{" data-end="}">
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno"><a class="line" href="console_8c.html#a52c01934737f4f758cb1c1863c9586fe">  226</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a52c01934737f4f758cb1c1863c9586fe">ConBuffer_Shutdown</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>{</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;active = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;text)</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;text);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines)</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines);</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;text = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>}</div>
</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment">/*</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="comment">================</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="comment">ConBuffer_FixTimes</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="comment"></span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="comment">Notifies the console code about the current time</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="comment">(and shifts back times of other entries when the time</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="comment">went backwards)</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="comment">================</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00246" data-start="{" data-end="}">
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno"><a class="line" href="console_8c.html#a254291ab0a3e6c4bec025b7c83538310">  246</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a254291ab0a3e6c4bec025b7c83538310">ConBuffer_FixTimes</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>{</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count &gt;= 1)</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a> - <a class="code hl_define" href="console_8h.html#a2ba31a297227b3176b6a985edff208d0">CONBUFFER_LINES_LAST</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>).addtime;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a> &lt; 0)</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        {</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                <a class="code hl_define" href="console_8h.html#a17088a3df936633ec27c6200e2cd2e2c">CONBUFFER_LINES</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).addtime += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diff</a>;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        }</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    }</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>}</div>
</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="comment">/*</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="comment">================</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="comment">ConBuffer_DeleteLine</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="comment"></span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">Deletes the first line from the console history.</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="comment">================</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00267" data-start="{" data-end="}">
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="console_8c.html#a54e572d817a4b16e430bb528e4de8f29">  267</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a54e572d817a4b16e430bb528e4de8f29">ConBuffer_DeleteLine</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>{</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count == 0)</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    --<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_first = (<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_first + 1) % <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;maxlines;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>}</div>
</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span><span class="comment">/*</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span><span class="comment">================</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="comment">ConBuffer_DeleteLastLine</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="comment"></span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span><span class="comment">Deletes the last line from the console history.</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span><span class="comment">================</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00282" data-start="{" data-end="}">
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno"><a class="line" href="console_8c.html#a8c90a28ef4b2e62022bdcf9b1ee7582a">  282</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a8c90a28ef4b2e62022bdcf9b1ee7582a">ConBuffer_DeleteLastLine</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>{</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count == 0)</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    --<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>}</div>
</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="comment">/*</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="comment">================</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span><span class="comment">ConBuffer_BytesLeft</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="comment"></span> </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span><span class="comment">Checks if there is space for a line of the given length, and if yes, returns a</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="comment">pointer to the start of such a space, and NULL otherwise.</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="comment">================</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00297" data-start="{" data-end="}">
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="console_8c.html#af894c57d604438464aac8127041c3305">  297</a></span><span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="console_8c.html#af894c57d604438464aac8127041c3305">ConBuffer_BytesLeft</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keywordtype">int</span> len)</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>{</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    <span class="keywordflow">if</span>(len &gt; <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;textsize)</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count == 0)</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;text;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstline_start</a> = <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines[<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_first].start;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastline_onepastend</a> = <a class="code hl_define" href="console_8h.html#a2ba31a297227b3176b6a985edff208d0">CONBUFFER_LINES_LAST</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>).start + <a class="code hl_define" href="console_8h.html#a2ba31a297227b3176b6a985edff208d0">CONBUFFER_LINES_LAST</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>).len;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        <span class="comment">// the buffer is cyclic, so we first have two cases...</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstline_start</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastline_onepastend</a>) <span class="comment">// buffer is contiguous</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            <span class="comment">// put at end?</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">len &lt;= buf-&gt;</a>text + <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;textsize - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastline_onepastend</a>)</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastline_onepastend</a>;</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            <span class="comment">// put at beginning?</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">len &lt;= firstline_start - buf-&gt;</a>text)</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;text;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        }</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <span class="keywordflow">else</span> <span class="comment">// buffer has a contiguous hole</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        {</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            <span class="keywordflow">if</span>(len &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstline_start</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastline_onepastend</a>)</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastline_onepastend</a>;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        }</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    }</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>}</div>
</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="comment">/*</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="comment">================</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment">ConBuffer_AddLine</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span><span class="comment"></span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span><span class="comment">Appends a given string as a new line to the console.</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span><span class="comment">================</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00336" data-start="{" data-end="}">
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno"><a class="line" href="console_8c.html#aad3bff4e5412ad9503d18e82812d305d">  336</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aad3bff4e5412ad9503d18e82812d305d">ConBuffer_AddLine</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <span class="keywordtype">int</span> len, <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>)</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>{</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">putpos</a>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <a class="code hl_struct" href="structcon__lineinfo__t.html">con_lineinfo_t</a> *p;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span> </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="comment">// developer_memory 1 during shutdown prints while conbuffer_t is being freed</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;active)</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <a class="code hl_function" href="console_8c.html#a254291ab0a3e6c4bec025b7c83538310">ConBuffer_FixTimes</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="keywordflow">if</span>(len &gt;= <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;textsize)</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <span class="comment">// line too large?</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        <span class="comment">// only display end of line.</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> += len - <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;textsize + 1;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>        len = <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;textsize - 1;</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="keywordflow">while</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">putpos</a> = <a class="code hl_function" href="console_8c.html#af894c57d604438464aac8127041c3305">ConBuffer_BytesLeft</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, len + 1)) || <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count &gt;= <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;maxlines)</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <a class="code hl_function" href="console_8c.html#a54e572d817a4b16e430bb528e4de8f29">ConBuffer_DeleteLine</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">putpos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, len);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">putpos</a>[len] = 0;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    ++<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="comment">//fprintf(stderr, &quot;Now have %d lines (%d -&gt; %d).\n&quot;, buf-&gt;lines_count, buf-&gt;lines_first, CON_LINES_LAST);</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    p = &amp;<a class="code hl_define" href="console_8h.html#a2ba31a297227b3176b6a985edff208d0">CONBUFFER_LINES_LAST</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    p-&gt;<a class="code hl_variable" href="structcon__lineinfo__t.html#ac7382b91a7b6cf118930401da52d49f0">start</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">putpos</a>;</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    p-&gt;<a class="code hl_variable" href="structcon__lineinfo__t.html#a1388ca2960b942d92912584ca44bf0a7">len</a> = len;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    p-&gt;<a class="code hl_variable" href="structcon__lineinfo__t.html#a6c4d83f1b89b0588a1c904cf42fa28ad">addtime</a> = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a>;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    p-&gt;<a class="code hl_variable" href="structcon__lineinfo__t.html#a37f591a7d070284bb40db65e0c73a5dc">mask</a> = <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    p-&gt;<a class="code hl_variable" href="structcon__lineinfo__t.html#aed11de203530b405824ce31b63b5bcdc">height</a> = -1; <span class="comment">// calculate when needed</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>}</div>
</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="foldopen" id="foldopen00370" data-start="{" data-end="}">
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno"><a class="line" href="console_8c.html#a65b4862c5675c8d8549e55a4ec556590">  370</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#a65b4862c5675c8d8549e55a4ec556590">ConBuffer_FindPrevLine</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>, <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>, <span class="keywordtype">int</span> start)</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>{</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="keywordflow">if</span>(start == -1)</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        start = <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>-&gt;lines_count;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = start - 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; --<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        <a class="code hl_struct" href="structcon__lineinfo__t.html">con_lineinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = &amp;<a class="code hl_define" href="console_8h.html#a17088a3df936633ec27c6200e2cd2e2c">CONBUFFER_LINES</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>        <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;mask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>)</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;mask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>)</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    }</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span> </div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>}</div>
</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="foldopen" id="foldopen00390" data-start="{" data-end="}">
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno"><a class="line" href="console_8c.html#a0cfa888e90bbfd5b77e5fd94d308b03a">  390</a></span><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="console_8c.html#a0cfa888e90bbfd5b77e5fd94d308b03a">ConBuffer_GetLine</a>(<a class="code hl_struct" href="structconbuffer__t.html">conbuffer_t</a> *<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>{</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">copybuf</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>]; <span class="comment">// client only</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_struct" href="structcon__lineinfo__t.html">con_lineinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = &amp;<a class="code hl_define" href="console_8h.html#a17088a3df936633ec27c6200e2cd2e2c">CONBUFFER_LINES</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <a class="code hl_function" href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">copybuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">copybuf</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;len);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">copybuf</a>;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>}</div>
</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="comment">/*</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="comment">==============================================================================</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span><span class="comment"></span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span><span class="comment">LOGGING</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="comment"></span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span><span class="comment">==============================================================================</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span><span class="comment">*/</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno"><a class="line" href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">  409</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">log_file</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;log_file&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;filename to log messages to&quot;</span>};</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno"><a class="line" href="console_8c.html#ab089c100369bfbf869075a0c71b7ed46">  410</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#ab089c100369bfbf869075a0c71b7ed46">log_file_stripcolors</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;log_file_stripcolors&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;strip color codes from log messages&quot;</span>};</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno"><a class="line" href="console_8c.html#a4350111ef553fbe917d95cbe68c4d36b">  411</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a4350111ef553fbe917d95cbe68c4d36b">log_dest_udp</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;log_dest_udp&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;UDP address to log messages to (in QW rcon compatible format); multiple destinations can be separated by spaces; DO NOT SPECIFY DNS NAMES HERE&quot;</span>};</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno"><a class="line" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">  412</a></span><span class="keywordtype">char</span> <a class="code hl_variable" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a>[1400]; <span class="comment">// UDP packet</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno"><a class="line" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">  413</a></span><span class="keywordtype">size_t</span> <a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno"><a class="line" href="console_8c.html#aa878cef9cb8f40cbe8e1395ae4178644">  414</a></span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="console_8c.html#aa878cef9cb8f40cbe8e1395ae4178644">log_dest_buffer_appending</a>;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno"><a class="line" href="console_8c.html#a6f1caf3a839f5f419931d4c6349f69ee">  415</a></span><span class="keywordtype">char</span> <a class="code hl_variable" href="console_8c.html#a6f1caf3a839f5f419931d4c6349f69ee">crt_log_file</a> [<a class="code hl_define" href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno"><a class="line" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">  416</a></span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a>* <a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno"><a class="line" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">  418</a></span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno"><a class="line" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">  419</a></span><span class="keywordtype">size_t</span> <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a> = 0;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno"><a class="line" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">  420</a></span><span class="keywordtype">size_t</span> <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a> = 0;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#afeef974bf24a95e24835386574edd36f">Log_ConPrint</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *msg);</div>
<div class="foldopen" id="foldopen00424" data-start="{" data-end="}">
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno"><a class="line" href="console_8c.html#a94144694bcb6630ecd0453b3457f178c">  424</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a94144694bcb6630ecd0453b3457f178c">Log_DestBuffer_Init</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>{</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a>, <span class="stringliteral">&quot;\377\377\377\377n&quot;</span>, 5); <span class="comment">// QW rcon print</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> = 5;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>}</div>
</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="foldopen" id="foldopen00430" data-start="{" data-end="}">
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno"><a class="line" href="console_8c.html#aed36512cea0e62cc788c4b8ede734351">  430</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aed36512cea0e62cc788c4b8ede734351">Log_DestBuffer_Flush_NoLock</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>{</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_addr</a>;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <a class="code hl_struct" href="structlhnetsocket__t.html">lhnetsocket_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_socket</a>;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <a class="code hl_variable" href="console_8c.html#a4350111ef553fbe917d95cbe68c4d36b">log_dest_udp</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have_opened_temp_sockets</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordflow">if</span>(s) <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> &gt; 5)</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        ++<a class="code hl_variable" href="console_8c.html#aa878cef9cb8f40cbe8e1395ae4178644">log_dest_buffer_appending</a>;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <a class="code hl_variable" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a>[<a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a>++] = 0;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="netconn_8c.html#a6e8283a1941210dbd930b075f06f47be">NetConn_HaveServerPorts</a>() &amp;&amp; !<a class="code hl_function" href="netconn_8c.html#aa53835dcfee384f2ae5dfb8dae2054ce">NetConn_HaveClientPorts</a>()) <span class="comment">// then temporarily open one</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have_opened_temp_sockets</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>            <a class="code hl_function" href="netconn_8c.html#ac66d2369a44114a1c4ec19d7ce9acdbb">NetConn_OpenServerPorts</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        }</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span> </div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        <span class="keywordflow">while</span>(<a class="code hl_function" href="common_8c.html#a7d8e38022cb81cc407c53a1cb3b33866">COM_ParseToken_Console</a>(&amp;s))</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="lhnet_8c.html#a5dbacd69a7b0e891167efa403d24be29">LHNETADDRESS_FromString</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_addr</a>, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, 26000))</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>            {</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_socket</a> = <a class="code hl_function" href="netconn_8c.html#a4bbc5734d010c1d64a87a9449cdeff73">NetConn_ChooseClientSocketForAddress</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_addr</a>);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>                <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_socket</a>)</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_socket</a> = <a class="code hl_function" href="netconn_8c.html#a905461d7c70f462cee1bfa2b71a55212">NetConn_ChooseServerSocketForAddress</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_addr</a>);</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_socket</a>)</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                    <a class="code hl_function" href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_socket</a>, <a class="code hl_variable" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">log_dest_addr</a>);</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have_opened_temp_sockets</a>)</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            <a class="code hl_function" href="netconn_8c.html#ad45b0918fbf9513a47eaf51b27b1c6de">NetConn_CloseServerPorts</a>();</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        --<a class="code hl_variable" href="console_8c.html#aa878cef9cb8f40cbe8e1395ae4178644">log_dest_buffer_appending</a>;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    }</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    <a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> = 0;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>}</div>
</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span><span class="comment">/*</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="comment">====================</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="comment">Log_DestBuffer_Flush</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span><span class="comment">====================</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00469" data-start="{" data-end="}">
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno"><a class="line" href="console_8c.html#aae090d8b9b4c2d4462e5f5236dea8601">  469</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aae090d8b9b4c2d4462e5f5236dea8601">Log_DestBuffer_Flush</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>{</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>)</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <a class="code hl_function" href="console_8c.html#aed36512cea0e62cc788c4b8ede734351">Log_DestBuffer_Flush_NoLock</a>();</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>)</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>        <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>}</div>
</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="foldopen" id="foldopen00478" data-start="{" data-end="}">
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno"><a class="line" href="console_8c.html#a92cedd4cbe755e05855c7ee1463dff11">  478</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="console_8c.html#a92cedd4cbe755e05855c7ee1463dff11">Log_Timestamp</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *desc)</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>{</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a> [128]; <span class="comment">// init/shutdown only</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">time_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_time</a>;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span><span class="preprocessor">#if _MSC_VER &gt;= 1400</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tm</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_tm</a>;</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <span class="keyword">struct </span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tm</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_tm</a>;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestring</a> [64];</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    <span class="comment">// Build the time stamp (ex: &quot;Wed Jun 30 21:49:08 1993&quot;);</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    time (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_time</a>);</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span><span class="preprocessor">#if _MSC_VER &gt;= 1400</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">localtime_s</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_tm</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_time</a>);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strftime</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestring</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestring</a>), <span class="stringliteral">&quot;%a %b %d %H:%M:%S %Y&quot;</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_tm</a>);</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_tm</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">localtime</a> (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_time</a>);</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strftime</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestring</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestring</a>), <span class="stringliteral">&quot;%a %b %d %H:%M:%S %Y&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crt_tm</a>);</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="keywordflow">if</span> (desc != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a>), <span class="stringliteral">&quot;====== %s (%s) ======\n&quot;</span>, desc, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestring</a>);</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a>), <span class="stringliteral">&quot;====== %s ======\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestring</a>);</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span> </div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a>;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>}</div>
</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span> </div>
<div class="foldopen" id="foldopen00507" data-start="{" data-end="}">
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno"><a class="line" href="console_8c.html#a2ccf96fa46dd9fcb1ddb838c9a1b92e1">  507</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a2ccf96fa46dd9fcb1ddb838c9a1b92e1">Log_Open</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>{</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <a class="code hl_variable" href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">log_file</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>[0] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a> = <a class="code hl_function" href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a>(<a class="code hl_variable" href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">log_file</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <span class="stringliteral">&quot;a&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    {</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="console_8c.html#a6f1caf3a839f5f419931d4c6349f69ee">crt_log_file</a>, <a class="code hl_variable" href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">log_file</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (<a class="code hl_variable" href="console_8c.html#a6f1caf3a839f5f419931d4c6349f69ee">crt_log_file</a>));</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        <a class="code hl_function" href="fs_8c.html#ae1e3a888c966ea1276ad5dab8d731414">FS_Print</a> (<a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a>, <a class="code hl_function" href="console_8c.html#a92cedd4cbe755e05855c7ee1463dff11">Log_Timestamp</a> (<span class="stringliteral">&quot;Log started&quot;</span>));</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    }</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>}</div>
</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="comment">/*</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span><span class="comment">====================</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span><span class="comment">Log_Close</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span><span class="comment">====================</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00525" data-start="{" data-end="}">
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno"><a class="line" href="console_8c.html#afd9699f7f4b58a97d95e3c4f21d9ad68">  525</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#afd9699f7f4b58a97d95e3c4f21d9ad68">Log_Close</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>{</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a>;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <a class="code hl_function" href="fs_8c.html#ae1e3a888c966ea1276ad5dab8d731414">FS_Print</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>, <a class="code hl_function" href="console_8c.html#a92cedd4cbe755e05855c7ee1463dff11">Log_Timestamp</a> (<span class="stringliteral">&quot;Log stopped&quot;</span>));</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <a class="code hl_function" href="fs_8c.html#ae1e3a888c966ea1276ad5dab8d731414">FS_Print</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>);</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span> </div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <a class="code hl_variable" href="console_8c.html#a6f1caf3a839f5f419931d4c6349f69ee">crt_log_file</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>}</div>
</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span> </div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span><span class="comment">/*</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span><span class="comment">====================</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span><span class="comment">Log_Start</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="comment">====================</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00546" data-start="{" data-end="}">
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno"><a class="line" href="console_8c.html#aaad0c94b53acc9313ceef2bed27bc745">  546</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aaad0c94b53acc9313ceef2bed27bc745">Log_Start</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>{</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordtype">size_t</span> pos;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <span class="keywordtype">size_t</span> <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <a class="code hl_function" href="console_8c.html#a2ccf96fa46dd9fcb1ddb838c9a1b92e1">Log_Open</a> ();</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    <span class="comment">// Dump the contents of the log queue into the log file and free it</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    {</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a> = <a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a>;</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a> != 0)</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                <a class="code hl_function" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a> (<a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>, <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a>);</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>            <span class="keywordflow">if</span>(*<a class="code hl_variable" href="console_8c.html#a4350111ef553fbe917d95cbe68c4d36b">log_dest_udp</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>)</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>            {</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                <span class="keywordflow">for</span>(pos = 0; pos &lt; <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a>; )</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> == 0)</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                        <a class="code hl_function" href="console_8c.html#a94144694bcb6630ecd0453b3457f178c">Log_DestBuffer_Init</a>();</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                    <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a>) - <a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> - 1, <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a> - pos);</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a> + <a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a> + pos, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>);</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                    <a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> += <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                    <a class="code hl_function" href="console_8c.html#aed36512cea0e62cc788c4b8ede734351">Log_DestBuffer_Flush_NoLock</a>();</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                    pos += <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                }</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            }</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a> = 0;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a> = 0;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    }</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>}</div>
</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span> </div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span> </div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span><span class="comment">/*</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span><span class="comment">================</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span><span class="comment">Log_ConPrint</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span><span class="comment">================</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00588" data-start="{" data-end="}">
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno"><a class="line" href="console_8c.html#afeef974bf24a95e24835386574edd36f">  588</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#afeef974bf24a95e24835386574edd36f">Log_ConPrint</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *msg)</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>{</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <span class="keyword">static</span> <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inprogress</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <span class="comment">// don&#39;t allow feedback loops with memory error reports</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inprogress</a>)</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inprogress</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span> </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <span class="comment">// Until the host is completely initialized, we maintain a log queue</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="comment">// to store the messages, since the log can&#39;t be started before</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remain</a> = <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a> - <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a>;</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="keywordtype">size_t</span> len = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a> (msg);</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span> </div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>        <span class="comment">// If we need to enlarge the log queue</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordflow">if</span> (len &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remain</a>)</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>        {</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">factor</a> = ((<a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a> + len) / <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a>) + 1;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newqueue</a>;</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>            <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a> *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">factor</a>;</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newqueue</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a>);</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newqueue</a>, <a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a>, <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a>);</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a> (<a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a>);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>            <a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">newqueue</a>;</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remain</a> = <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a> - <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a>;</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        }</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (&amp;<a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a>[<a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a>], msg, len);</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a> += len;</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inprogress</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    }</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span> </div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    <span class="comment">// Check if log_file has changed</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a> (<a class="code hl_variable" href="console_8c.html#a6f1caf3a839f5f419931d4c6349f69ee">crt_log_file</a>, <a class="code hl_variable" href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">log_file</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>) != 0)</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    {</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <a class="code hl_function" href="console_8c.html#afd9699f7f4b58a97d95e3c4f21d9ad68">Log_Close</a> ();</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        <a class="code hl_function" href="console_8c.html#a2ccf96fa46dd9fcb1ddb838c9a1b92e1">Log_Open</a> ();</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span> </div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <span class="comment">// If a log file is available</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#ab089c100369bfbf869075a0c71b7ed46">log_file_stripcolors</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        {</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>            <span class="comment">// sanitize msg</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>            <span class="keywordtype">size_t</span> len = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(msg);</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a> = (<span class="keywordtype">char</span>*)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, len + 1);</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>, msg, len);</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            <a class="code hl_function" href="console_8c.html#adcade1efc869f19ff7f2f26152574e05">SanitizeString</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>); <span class="comment">// SanitizeString&#39;s in pointer is always ahead of the out pointer, so this should work.</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>            <a class="code hl_function" href="fs_8c.html#ae1e3a888c966ea1276ad5dab8d731414">FS_Print</a> (<a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>);</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>);</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>        }</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <span class="keywordflow">else</span> </div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        {</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>            <a class="code hl_function" href="fs_8c.html#ae1e3a888c966ea1276ad5dab8d731414">FS_Print</a> (<a class="code hl_variable" href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a>, msg);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        }</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    }</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inprogress</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>}</div>
</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span> </div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span><span class="comment">/*</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span><span class="comment">================</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span><span class="comment">Log_Printf</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span><span class="comment">================</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00659" data-start="{" data-end="}">
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno"><a class="line" href="console_8c.html#afd8f8b9bd0352435b1a96b4e77b965e3">  659</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#afd8f8b9bd0352435b1a96b4e77b965e3">Log_Printf</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">logfilename</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>, ...)</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>{</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    file = <a class="code hl_function" href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">logfilename</a>, <span class="stringliteral">&quot;a&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <span class="keywordflow">if</span> (file != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span> </div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_start</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>);</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        <a class="code hl_function" href="fs_8c.html#a66af7e39cdce25212e2aae7bfccc9029">FS_VPrintf</a> (file, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_end</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>);</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span> </div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a> (file);</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    }</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>}</div>
</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span> </div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span><span class="comment">/*</span></div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span><span class="comment">==============================================================================</span></div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span><span class="comment"></span> </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span><span class="comment">CONSOLE</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span><span class="comment"></span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span><span class="comment">==============================================================================</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="comment">*/</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span><span class="comment">/*</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span><span class="comment">================</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><span class="comment">Con_ToggleConsole_f</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="comment">================</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00690" data-start="{" data-end="}">
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno"><a class="line" href="console_8c.html#af54260ba4947c51b7238692b55ff8867">  690</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#af54260ba4947c51b7238692b55ff8867">Con_ToggleConsole_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>{</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a> (<span class="stringliteral">&quot;-noconsole&quot;</span>))</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="keys_8c.html#aeffe36d6db440e4616c9d7eabe56f16a">key_consoleactive</a> &amp; <a class="code hl_define" href="keys_8h.html#a8dc85da7f82f88153f2244c7214405e2">KEY_CONSOLEACTIVE_USER</a>))</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>            <span class="keywordflow">return</span>; <span class="comment">// only allow the key bind to turn off console</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span> </div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="comment">// toggle the &#39;user wants console&#39; bit</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <a class="code hl_variable" href="keys_8c.html#aeffe36d6db440e4616c9d7eabe56f16a">key_consoleactive</a> ^= <a class="code hl_define" href="keys_8h.html#a8dc85da7f82f88153f2244c7214405e2">KEY_CONSOLEACTIVE_USER</a>;</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <a class="code hl_function" href="console_8c.html#a958c190a19d0bb291707c154fa41112e">Con_ClearNotify</a>();</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>}</div>
</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span> </div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span><span class="comment">/*</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span><span class="comment">================</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span><span class="comment">Con_ClearNotify</span></div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span><span class="comment">================</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00706" data-start="{" data-end="}">
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno"><a class="line" href="console_8c.html#a958c190a19d0bb291707c154fa41112e">  706</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a958c190a19d0bb291707c154fa41112e">Con_ClearNotify</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>{</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        <span class="keywordflow">if</span>(!(<a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a> &amp; <a class="code hl_define" href="console_8h.html#a5279de6acde9d2be2caa28fc3e19f5c2">CON_MASK_CHAT</a>))</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>            <a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).mask |= <a class="code hl_define" href="console_8h.html#a2001a323865934b60e098bf5a58b39c0">CON_MASK_HIDENOTIFY</a>;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>}</div>
</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="foldopen" id="foldopen00714" data-start="{" data-end="}">
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno"><a class="line" href="console_8c.html#af2e650dd684490adc1d195df4fc278a7">  714</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#af2e650dd684490adc1d195df4fc278a7">Con_MsgCmdMode</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd, <span class="keywordtype">signed</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>)</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>{</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">demoplayback</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a> &gt;= 0)</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    <a class="code hl_variable" href="keys_8c.html#acf4f352e2f3ec64ff93004bd5cd52ff0">key_dest</a> = <a class="code hl_enumvalue" href="keys_8h.html#aadf1384626a83f4eb163aaa209c84972a66791fcb621ea8dd8efe85bdd4ec649d">key_message</a>;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    <a class="code hl_variable" href="keys_8c.html#a679e79ce9d301b41385b64d779770346">chat_mode</a> = <a class="code hl_variable" href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a>;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &gt; 1)</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    {</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <a class="code hl_variable" href="keys_8c.html#a491d45305a5c9f8e96a29a620fd715dd">chat_bufferpos</a> = <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="keys_8c.html#a8b4736750c9296fb08952a514f2a6836">chat_buffer</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="keys_8c.html#a8b4736750c9296fb08952a514f2a6836">chat_buffer</a>), <span class="stringliteral">&quot;%s &quot;</span>, <a class="code hl_function" href="cmd_8h.html#ae952d3a9ac36599adabef1144f68ec22">Cmd_Args</a>(cmd));</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="keys_8c.html#a491d45305a5c9f8e96a29a620fd715dd">chat_bufferpos</a> &lt; 0)</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            <a class="code hl_variable" href="keys_8c.html#a491d45305a5c9f8e96a29a620fd715dd">chat_bufferpos</a> = 0;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    }</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>}</div>
</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span> </div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span><span class="comment">/*</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span><span class="comment">================</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span><span class="comment">Con_MessageMode_f</span></div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span><span class="comment"></span> </div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span><span class="comment">&quot;say&quot;</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span><span class="comment">================</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00735" data-start="{" data-end="}">
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno"><a class="line" href="console_8c.html#a0cff021080081f45de3daa085e7c47ab">  735</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a0cff021080081f45de3daa085e7c47ab">Con_MessageMode_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>{</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <a class="code hl_function" href="console_8c.html#af2e650dd684490adc1d195df4fc278a7">Con_MsgCmdMode</a>(cmd, 0);</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>}</div>
</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span><span class="comment">/*</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span><span class="comment">================</span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span><span class="comment">Con_MessageMode2_f</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span><span class="comment"></span> </div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span><span class="comment">&quot;say_team&quot;</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span><span class="comment">================</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00747" data-start="{" data-end="}">
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno"><a class="line" href="console_8c.html#a44186febafb02bc53ab9e8fc9f401686">  747</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a44186febafb02bc53ab9e8fc9f401686">Con_MessageMode2_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>{</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    <a class="code hl_function" href="console_8c.html#af2e650dd684490adc1d195df4fc278a7">Con_MsgCmdMode</a>(cmd, 1);</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>}</div>
</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span> </div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span><span class="comment">/*</span></div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span><span class="comment">================</span></div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span><span class="comment">Con_CommandMode_f</span></div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span><span class="comment">================</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00757" data-start="{" data-end="}">
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno"><a class="line" href="console_8c.html#a19b960ee10eb9b16e600a000378348ba">  757</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a19b960ee10eb9b16e600a000378348ba">Con_CommandMode_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>{</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <a class="code hl_function" href="console_8c.html#af2e650dd684490adc1d195df4fc278a7">Con_MsgCmdMode</a>(cmd, -1);</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>}</div>
</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span> </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span><span class="comment">/*</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span><span class="comment">================</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span><span class="comment">Con_CheckResize</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="comment">================</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00767" data-start="{" data-end="}">
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno"><a class="line" href="console_8c.html#adbef141f15e227ae2eeb079b8092833b">  767</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#adbef141f15e227ae2eeb079b8092833b">Con_CheckResize</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>{</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span> </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(1, <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, 128);</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> != <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>);</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> / <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(1, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>.<a class="code hl_variable" href="structconbuffer__t.html#ad0fc0a209a4adf54ada6954c5fcdf4a8">textsize</a>/4);</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="comment">// FIXME uses con in a non abstracted way</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> == <a class="code hl_variable" href="console_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a>)</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span> </div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    <a class="code hl_variable" href="console_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a> = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        <a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).height = -1; <span class="comment">// recalculate when next needed</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <a class="code hl_function" href="console_8c.html#a958c190a19d0bb291707c154fa41112e">Con_ClearNotify</a>();</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> = 0;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>}</div>
</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span><span class="comment">//[515]: the simplest command ever</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span><span class="comment">//LadyHavoc: not so simple after I made it print usage...</span></div>
<div class="foldopen" id="foldopen00793" data-start="{" data-end="}">
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno"><a class="line" href="console_8c.html#a7ac3f3abdb1374a079cb0635bf175a2d">  793</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a7ac3f3abdb1374a079cb0635bf175a2d">Con_Maps_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>{</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &gt; 2)</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;usage: maps [mapnameprefix]\n&quot;</span>);</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    }</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) == 2)</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        <a class="code hl_function" href="console_8c.html#a308ed0b467e439bea4b1cf0d142becca">GetMapList</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1), <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>        <a class="code hl_function" href="console_8c.html#a308ed0b467e439bea4b1cf0d142becca">GetMapList</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>}</div>
</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span> </div>
<div class="foldopen" id="foldopen00806" data-start="{" data-end="}">
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno"><a class="line" href="console_8c.html#a2d7a99d388305dbda9969f62c3af3861">  806</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a2d7a99d388305dbda9969f62c3af3861">Con_ConDump_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>{</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a> *file;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) != 2)</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    {</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;usage: condump &lt;filename&gt;\n&quot;</span>);</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    file = <a class="code hl_function" href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1), <span class="stringliteral">&quot;w&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="keywordflow">if</span> (!file)</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;condump: unable to write file \&quot;%s\&quot;\n&quot;</span>, <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1));</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    }</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a70458b42ee176f6f78fa8951d3493f57">condump_stripcolors</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>            <span class="comment">// sanitize msg</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>            <span class="keywordtype">size_t</span> len = <a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).len;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>            <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a> = (<span class="keywordtype">char</span>*)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, len + 1);</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>, <a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).start, len);</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            <a class="code hl_function" href="console_8c.html#adcade1efc869f19ff7f2f26152574e05">SanitizeString</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>); <span class="comment">// SanitizeString&#39;s in pointer is always ahead of the out pointer, so this should work.</span></div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <a class="code hl_function" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a>(file, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>));</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sanitizedmsg</a>);</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        <span class="keywordflow">else</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>            <a class="code hl_function" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a>(file, <a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).start, <a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).len);</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>        }</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        <a class="code hl_function" href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a>(file, <span class="stringliteral">&quot;\n&quot;</span>, 1);</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a>(file);</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>}</div>
</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span> </div>
<div class="foldopen" id="foldopen00844" data-start="{" data-end="}">
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno"><a class="line" href="console_8c.html#a0014ab1f7271c9cb311d8f0823dd0ac5">  844</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a0014ab1f7271c9cb311d8f0823dd0ac5">Con_Clear_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>{</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    <a class="code hl_function" href="console_8c.html#a39520b350a49efab5ef8a4b53c31c9d6">ConBuffer_Clear</a>(&amp;<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>);</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>}</div>
</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span> </div>
<div class="foldopen" id="foldopen00851" data-start="{" data-end="}">
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno"><a class="line" href="console_8c.html#a8c11d02e558fb76b8e59235b0ccaa879">  851</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a8c11d02e558fb76b8e59235b0ccaa879">Con_RCon_ClearPassword_c</a>(<a class="code hl_struct" href="structcvar__t.html">cvar_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>)</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>{</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <span class="comment">// whenever rcon_secure is changed to 0, clear rcon_password for</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <span class="comment">// security reasons (prevents a send-rcon-password-as-plaintext</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="comment">// attack based on NQ protocol session takeover and svc_stufftext)</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">var</a>-&gt;integer &lt;= 0)</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>        <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a>(&amp;<a class="code hl_variable" href="console_8c.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>}</div>
</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span> </div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="comment">/*</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span><span class="comment">================</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span><span class="comment">Con_Init</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span><span class="comment">================</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00865" data-start="{" data-end="}">
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno"><a class="line" href="console_8c.html#a020f7c3c712324e75a10e2321875cae9">  865</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a020f7c3c712324e75a10e2321875cae9">Con_Init</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>{</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    <a class="code hl_variable" href="console_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a> = 80;</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    <a class="code hl_function" href="console_8c.html#aca73098926ff38b00a694d08ac197e3e">ConBuffer_Init</a>(&amp;<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>, <a class="code hl_define" href="qdefs_8h.html#a710a6657447f76bcb225a827902f4ff9">CON_TEXTSIZE</a>, <a class="code hl_define" href="qdefs_8h.html#ae5218da78268f57fde3aa61b58b23ab7">CON_MAXLINES</a>, <a class="code hl_variable" href="zone_8c.html#af84dea797f657b725abb91f5bad5224d">zonemempool</a>);</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="thread_8h.html#a4af21639b1ace74ffbc47e953f7a0970">Thread_HasThreads</a>())</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        <a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a> = <a class="code hl_define" href="thread_8h.html#a4fe4e5bb1feca332e6957d1c27a87b58">Thread_CreateMutex</a>();</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span> </div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="comment">// Allocate a log queue, this will be freed after configs are parsed</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a> = <a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>;</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <a class="code hl_variable" href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a>);</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <a class="code hl_variable" href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a> = 0;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span> </div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#adade6350603ae71cd32aeeb2156ccf9f">sys_colortranslation</a>);</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a193e5c23cb9078c6db0316b600e3c6a6">sys_specialcharactertranslation</a>);</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span> </div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">log_file</a>);</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#ab089c100369bfbf869075a0c71b7ed46">log_file_stripcolors</a>);</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a4350111ef553fbe917d95cbe68c4d36b">log_dest_udp</a>);</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span> </div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="comment">// support for the classic Quake option</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span><span class="comment">// COMMANDLINEOPTION: Console: -condebug logs console messages to qconsole.log, see also log_file</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a> (<span class="stringliteral">&quot;-condebug&quot;</span>) != 0)</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a> (&amp;<a class="code hl_variable" href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">log_file</a>, <span class="stringliteral">&quot;qconsole.log&quot;</span>);</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span> </div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    <span class="comment">// register our cvars</span></div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a65af6079c3991750c9dcf8d99548ff4d">con_chat</a>);</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#adeeb3525c0753f464d464b7676a75d82">con_chatpos</a>);</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a55aa530881c3941b21503dc335c205dc">con_chatrect_x</a>);</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a6545a04504cc84e5ce63d0342de98aff">con_chatrect_y</a>);</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#afa2bb27a9e0ac65b21ce054bc911e958">con_chatrect</a>);</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">con_chatsize</a>);</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a18b81ae0ebe29178a5a53565139f6c5a">con_chattime</a>);</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#ac48355b62fd33d64c8a5d4331f175f46">con_chatwidth</a>);</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a7306d2ff1b85fc916029f45b1ca143bb">con_notify</a>);</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a85a0f3d0b16ed369f6fe970f7cd19cf2">con_notifyalign</a>);</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">con_notifysize</a>);</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a522819a9be9353e9d9d1cb6cf739fa73">con_notifytime</a>);</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>);</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a53ed24953636cba97bd6b20634c4cbca">con_chatsound</a>);</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#ae158c424d65985b77bed2ba54a39af0a">con_chatsound_file</a>);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a03d0a273e6a8f42f6424e58f76460fe1">con_chatsound_team_file</a>);</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#ab958d83f888537859fe184406b41d73a">con_chatsound_team_mask</a>);</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span> </div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <span class="comment">// --blub</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#ab0fba76b1a508af0844d7795159bbe54">con_nickcompletion</a>);</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>);</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span> </div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a94065b66bf79bbc2c448857360b040b4">con_completion_playdemo</a>); <span class="comment">// *.dem</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#aca67592bd2c231db9cd42cf1f8d7a3b9">con_completion_timedemo</a>); <span class="comment">// *.dem</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a4911e9e104c1a9e037f8c3b58bffa4be">con_completion_exec</a>); <span class="comment">// *.cfg</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span> </div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a> (&amp;<a class="code hl_variable" href="console_8c.html#a70458b42ee176f6f78fa8951d3493f57">condump_stripcolors</a>);</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span> </div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="console_8c.html#ab8091653566962382eff239bbfaf08a2">rcon_address</a>);</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="console_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a>);</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <a class="code hl_function" href="cvar_8c.html#aea52742d731f4311621f013389d04a35">Cvar_RegisterCallback</a>(&amp;<a class="code hl_variable" href="console_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a>, <a class="code hl_function" href="console_8c.html#a8c11d02e558fb76b8e59235b0ccaa879">Con_RCon_ClearPassword_c</a>);</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="console_8c.html#a90295c0585be4dc5bfac2be3e973effb">rcon_secure_challengetimeout</a>);</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="console_8c.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a>);</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span> </div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    <span class="comment">// register our commands</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;toggleconsole&quot;</span>, <a class="code hl_function" href="console_8c.html#af54260ba4947c51b7238692b55ff8867">Con_ToggleConsole_f</a>, <span class="stringliteral">&quot;opens or closes the console&quot;</span>);</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;messagemode&quot;</span>, <a class="code hl_function" href="console_8c.html#a0cff021080081f45de3daa085e7c47ab">Con_MessageMode_f</a>, <span class="stringliteral">&quot;input a chat message to say to everyone&quot;</span>);</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;messagemode2&quot;</span>, <a class="code hl_function" href="console_8c.html#a44186febafb02bc53ab9e8fc9f401686">Con_MessageMode2_f</a>, <span class="stringliteral">&quot;input a chat message to say to only your team&quot;</span>);</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;commandmode&quot;</span>, <a class="code hl_function" href="console_8c.html#a19b960ee10eb9b16e600a000378348ba">Con_CommandMode_f</a>, <span class="stringliteral">&quot;input a console command&quot;</span>);</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;clear&quot;</span>, <a class="code hl_function" href="console_8c.html#a0014ab1f7271c9cb311d8f0823dd0ac5">Con_Clear_f</a>, <span class="stringliteral">&quot;clear console history&quot;</span>);</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;maps&quot;</span>, <a class="code hl_function" href="console_8c.html#a7ac3f3abdb1374a079cb0635bf175a2d">Con_Maps_f</a>, <span class="stringliteral">&quot;list information about available maps&quot;</span>);</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a>, <span class="stringliteral">&quot;condump&quot;</span>, <a class="code hl_function" href="console_8c.html#a2d7a99d388305dbda9969f62c3af3861">Con_ConDump_f</a>, <span class="stringliteral">&quot;output console history to a file (see also log_file)&quot;</span>);</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span> </div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <a class="code hl_variable" href="console_8c.html#a8949602b592f226ebfd2b93e2b76286c">con_initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>}</div>
</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span> </div>
<div class="foldopen" id="foldopen00936" data-start="{" data-end="}">
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno"><a class="line" href="console_8c.html#ae0cedf94dfcc5af9011ed2c5de1f1c3c">  936</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#ae0cedf94dfcc5af9011ed2c5de1f1c3c">Con_Shutdown</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>{</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <a class="code hl_function" href="console_8c.html#a52c01934737f4f758cb1c1863c9586fe">ConBuffer_Shutdown</a>(&amp;<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>);</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#a269bbcbf27698a4ab30bede7c4feefa3">Thread_DestroyMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>}</div>
</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span> </div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span><span class="comment">/*</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span><span class="comment">================</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span><span class="comment">Con_PrintToHistory</span></div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span><span class="comment"></span> </div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span><span class="comment">Handles cursor positioning, line wrapping, etc</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span><span class="comment">All console printing must go through this in order to be displayed</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span><span class="comment">If no console is visible, the notify window will pop up.</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span><span class="comment">================</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00954" data-start="{" data-end="}">
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno"><a class="line" href="console_8c.html#a8e0657caeb6bb575cc920bceb1fb4ad1">  954</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a8e0657caeb6bb575cc920bceb1fb4ad1">Con_PrintToHistory</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txt</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>)</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>{</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <span class="comment">// process:</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <span class="comment">//   \n goes to next line</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>    <span class="comment">//   \r deletes current line and makes a new one</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span> </div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cr_pending</a> = 0;</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[<a class="code hl_define" href="qdefs_8h.html#a710a6657447f76bcb225a827902f4ff9">CON_TEXTSIZE</a>]; <span class="comment">// con_mutex</span></div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a> = 0;</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span> </div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>.<a class="code hl_variable" href="structconbuffer__t.html#abd66334c34fcb94034ea0bb72afe1913">text</a>) <span class="comment">// FIXME uses a non-abstracted property of con</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span> </div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    <span class="keywordflow">for</span>(; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txt</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txt</a>)</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    {</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cr_pending</a>)</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>        {</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>            <a class="code hl_function" href="console_8c.html#a8c90a28ef4b2e62022bdcf9b1ee7582a">ConBuffer_DeleteLastLine</a>(&amp;<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>);</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cr_pending</a> = 0;</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>        }</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        <span class="keywordflow">switch</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txt</a>)</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>        {</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;\r&#39;</span>:</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>                <a class="code hl_function" href="console_8c.html#aad3bff4e5412ad9503d18e82812d305d">ConBuffer_AddLine</a>(&amp;<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a>, <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>);</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a> = 0;</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cr_pending</a> = 1;</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>                <a class="code hl_function" href="console_8c.html#aad3bff4e5412ad9503d18e82812d305d">ConBuffer_AddLine</a>(&amp;<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a>, <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>);</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a> = 0;</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>                <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a>++] = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txt</a>;</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a> &gt;= <a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>.<a class="code hl_variable" href="structconbuffer__t.html#ad0fc0a209a4adf54ada6954c5fcdf4a8">textsize</a> - 1) <span class="comment">// FIXME uses a non-abstracted property of con</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>                {</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>                    <a class="code hl_function" href="console_8c.html#aad3bff4e5412ad9503d18e82812d305d">ConBuffer_AddLine</a>(&amp;<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a>, <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>);</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufpos</a> = 0;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>                }</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>        }</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    }</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>}</div>
</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span> </div>
<div class="foldopen" id="foldopen00999" data-start="{" data-end="}">
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno"><a class="line" href="console_8c.html#aa8e634daa84ab1e4dff4e51e4196b5af">  999</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aa8e634daa84ab1e4dff4e51e4196b5af">Con_Rcon_Redirect_Init</a>(<a class="code hl_struct" href="structlhnetsocket__t.html">lhnetsocket_t</a> *sock, <a class="code hl_struct" href="structlhnetaddress__t.html">lhnetaddress_t</a> *dest, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">proquakeprotocol</a>)</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>{</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    <a class="code hl_variable" href="console_8c.html#ade2722aeebecd284874c8a349ebdc834">rcon_redirect_sock</a> = sock;</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    <a class="code hl_variable" href="console_8c.html#a677edc38b62baf5ea5206fa10c1e6e84">rcon_redirect_dest</a> = dest;</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>    <a class="code hl_variable" href="console_8c.html#af7137a5272c3743313cb3168931c38de">rcon_redirect_proquakeprotocol</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">proquakeprotocol</a>;</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#af7137a5272c3743313cb3168931c38de">rcon_redirect_proquakeprotocol</a>)</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    {</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>        <span class="comment">// reserve space for the packet header</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>[0] = 0;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>        <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>[1] = 0;</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>[2] = 0;</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>        <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>[3] = 0;</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>        <span class="comment">// this is a reply to a CCREQ_RCON</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>[4] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>)<a class="code hl_define" href="netconn_8h.html#acb3c0eab3fea68fb640acc8f8bb622b7">CCREP_RCON</a>;</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>    }</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>, <span class="stringliteral">&quot;\377\377\377\377n&quot;</span>, 5); <span class="comment">// QW rcon print</span></div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>    <a class="code hl_variable" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a> = 5;</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>}</div>
</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span> </div>
<div class="foldopen" id="foldopen01019" data-start="{" data-end="}">
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"><a class="line" href="console_8c.html#ac540aec9d5bdd1ea39282e99232cc68b"> 1019</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#ac540aec9d5bdd1ea39282e99232cc68b">Con_Rcon_Redirect_Flush</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>{</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#ade2722aeebecd284874c8a349ebdc834">rcon_redirect_sock</a>)</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>    {</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>[<a class="code hl_variable" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a>] = 0;</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#af7137a5272c3743313cb3168931c38de">rcon_redirect_proquakeprotocol</a>)</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>        {</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            <span class="comment">// update the length in the packet header</span></div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>            <a class="code hl_function" href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>, <a class="code hl_define" href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a> | (<a class="code hl_variable" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a> &amp; <a class="code hl_define" href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a>));</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>        }</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>        <a class="code hl_function" href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a>(<a class="code hl_variable" href="console_8c.html#ade2722aeebecd284874c8a349ebdc834">rcon_redirect_sock</a>, <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>, <a class="code hl_variable" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a>, <a class="code hl_variable" href="console_8c.html#a677edc38b62baf5ea5206fa10c1e6e84">rcon_redirect_dest</a>);</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    }</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>, <span class="stringliteral">&quot;\377\377\377\377n&quot;</span>, 5); <span class="comment">// QW rcon print</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>    <a class="code hl_variable" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a> = 5;</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>    <a class="code hl_variable" href="console_8c.html#af7137a5272c3743313cb3168931c38de">rcon_redirect_proquakeprotocol</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>}</div>
</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="foldopen" id="foldopen01036" data-start="{" data-end="}">
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"><a class="line" href="console_8c.html#ab29171f857b814dcb9f7ad804540a9ba"> 1036</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#ab29171f857b814dcb9f7ad804540a9ba">Con_Rcon_Redirect_End</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>{</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>    <a class="code hl_function" href="console_8c.html#ac540aec9d5bdd1ea39282e99232cc68b">Con_Rcon_Redirect_Flush</a>();</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    <a class="code hl_variable" href="console_8c.html#a677edc38b62baf5ea5206fa10c1e6e84">rcon_redirect_dest</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>    <a class="code hl_variable" href="console_8c.html#ade2722aeebecd284874c8a349ebdc834">rcon_redirect_sock</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>}</div>
</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span> </div>
<div class="foldopen" id="foldopen01043" data-start="{" data-end="}">
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"><a class="line" href="console_8c.html#aca66c24bf2a6c22d4037c146630c60d3"> 1043</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aca66c24bf2a6c22d4037c146630c60d3">Con_Rcon_Redirect_Abort</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>{</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>    <a class="code hl_variable" href="console_8c.html#a677edc38b62baf5ea5206fa10c1e6e84">rcon_redirect_dest</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>    <a class="code hl_variable" href="console_8c.html#ade2722aeebecd284874c8a349ebdc834">rcon_redirect_sock</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>}</div>
</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span> </div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span><span class="comment">/*</span></div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span><span class="comment">================</span></div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span><span class="comment">Con_Rcon_AddChar</span></div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span><span class="comment">================</span></div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01055" data-start="{" data-end="}">
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"><a class="line" href="console_8c.html#a24a636223043ca60e69d1aeaa1741262"> 1055</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a24a636223043ca60e69d1aeaa1741262">Con_Rcon_AddChar</a>(<span class="keywordtype">int</span> c)</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>{</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#aa878cef9cb8f40cbe8e1395ae4178644">log_dest_buffer_appending</a>)</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    ++<a class="code hl_variable" href="console_8c.html#aa878cef9cb8f40cbe8e1395ae4178644">log_dest_buffer_appending</a>;</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span> </div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>    <span class="comment">// if this print is in response to an rcon command, add the character</span></div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    <span class="comment">// to the rcon redirect buffer</span></div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span> </div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a677edc38b62baf5ea5206fa10c1e6e84">rcon_redirect_dest</a>)</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    {</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>        <a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>[<a class="code hl_variable" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a>++] = c;</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a> &gt;= (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a>) - 1)</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            <a class="code hl_function" href="console_8c.html#ac540aec9d5bdd1ea39282e99232cc68b">Con_Rcon_Redirect_Flush</a>();</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    }</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(*<a class="code hl_variable" href="console_8c.html#a4350111ef553fbe917d95cbe68c4d36b">log_dest_udp</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>) <span class="comment">// don&#39;t duplicate rcon command responses here, these are sent another way</span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    {</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> == 0)</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>            <a class="code hl_function" href="console_8c.html#a94144694bcb6630ecd0453b3457f178c">Log_DestBuffer_Init</a>();</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>        <a class="code hl_variable" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a>[<a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a>++] = c;</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> &gt;= <span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a>) - 1) <span class="comment">// minus one, to allow for terminating zero</span></div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>            <a class="code hl_function" href="console_8c.html#aed36512cea0e62cc788c4b8ede734351">Log_DestBuffer_Flush_NoLock</a>();</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    }</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>        <a class="code hl_variable" href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a> = 0;</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span> </div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    --<a class="code hl_variable" href="console_8c.html#aa878cef9cb8f40cbe8e1395ae4178644">log_dest_buffer_appending</a>;</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>}</div>
</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span> </div>
<div class="foldopen" id="foldopen01094" data-start="{" data-end="}">
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"><a class="line" href="console_8c.html#a4ae153c2b2c17823048c30b439f41fda"> 1094</a></span><span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_function" href="console_8c.html#a4ae153c2b2c17823048c30b439f41fda">Sys_Con_NearestColor</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_r</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_g</a>, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_b</a>)</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>{</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = ((<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_r</a>)/255.0;</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = ((<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_g</a>)/255.0;</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = ((<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">_b</a>)/255.0;</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>    <span class="keywordtype">float</span> <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>));</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    <span class="keywordtype">float</span> <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>));</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span> </div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    <span class="keywordtype">int</span> h; </div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    <span class="keywordtype">float</span> s; </div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>; </div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span> </div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> == <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>)</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>        s = 0;</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        s = 1.0 - (<a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>/<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>);</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span> </div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>    <span class="comment">// Saturation threshold. We now say 0.2 is the minimum value for a color!</span></div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    <span class="keywordflow">if</span>(s &lt; 0.2)</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>    {</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>        <span class="comment">// If the value is less than half, return a black color code.</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>        <span class="comment">// Otherwise return a white one.</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> &lt; 0.5)</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>            <span class="keywordflow">return</span> <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        <span class="keywordflow">return</span> <span class="charliteral">&#39;7&#39;</span>;</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    }</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span> </div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>    <span class="comment">// Let&#39;s get the hue angle to define some colors:</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> == <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>)</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        h = 0;</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> == <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>)</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        h = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(60.0 * (<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>-<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>)/(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>-<a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>))%360;</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> == <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>)</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>        h = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(60.0 * (<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>-<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>)/(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>-<a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>) + 120);</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <span class="keywordflow">else</span> <span class="comment">// if(max == b) redundant check</span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>        h = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(60.0 * (<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>-<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>)/(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>-<a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>) + 240);</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span> </div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <span class="keywordflow">if</span>(h &lt; 36) <span class="comment">// *red* to orange</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>        <span class="keywordflow">return</span> <span class="charliteral">&#39;1&#39;</span>;</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(h &lt; 80) <span class="comment">// orange over *yellow* to evilish-bright-green</span></div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>        <span class="keywordflow">return</span> <span class="charliteral">&#39;3&#39;</span>;</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(h &lt; 150) <span class="comment">// evilish-bright-green over *green* to ugly bright blue</span></div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <span class="keywordflow">return</span> <span class="charliteral">&#39;2&#39;</span>;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(h &lt; 200) <span class="comment">// ugly bright blue over *bright blue* to darkish blue</span></div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>        <span class="keywordflow">return</span> <span class="charliteral">&#39;5&#39;</span>;</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(h &lt; 270) <span class="comment">// darkish blue over *dark blue* to cool purple</span></div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>        <span class="keywordflow">return</span> <span class="charliteral">&#39;4&#39;</span>;</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(h &lt; 330) <span class="comment">// cool purple over *purple* to ugly swiny red</span></div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>        <span class="keywordflow">return</span> <span class="charliteral">&#39;6&#39;</span>;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>    <span class="keywordflow">else</span> <span class="comment">// ugly red to red closes the circly</span></div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <span class="keywordflow">return</span> <span class="charliteral">&#39;1&#39;</span>;</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>}</div>
</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span> </div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span><span class="comment">/*</span></div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span><span class="comment">================</span></div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span><span class="comment">Con_MaskPrint</span></div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span><span class="comment">================</span></div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span><span class="comment">*/</span></div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span><span class="keyword">extern</span> <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#af5c02666ccc59ad9269b5f3fc37fe243">timestamps</a>;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span><span class="keyword">extern</span> <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="console_8c.html#a0ae9055059790f863ac03ab03af2455c">timeformat</a>;</div>
<div class="foldopen" id="foldopen01154" data-start="{" data-end="}">
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"><a class="line" href="console_8c.html#a55b3f844b84c24b5f23cc1a077017f87"> 1154</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a55b3f844b84c24b5f23cc1a077017f87">Con_MaskPrint</a>(<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">additionalmask</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *msg)</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>{</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a> = 0;</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> = 0;</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span> </div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>)</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>        <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span> </div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>    <span class="keywordflow">for</span> (;*msg;msg++)</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    {</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>        <a class="code hl_function" href="console_8c.html#a24a636223043ca60e69d1aeaa1741262">Con_Rcon_AddChar</a>(*msg);</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>        <span class="comment">// if this is the beginning of a new line, print timestamp</span></div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> == 0)</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>        {</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a> = <a class="code hl_variable" href="console_8c.html#af5c02666ccc59ad9269b5f3fc37fe243">timestamps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? <a class="code hl_function" href="sys_8h.html#a104b651171bb21edbdf976dc0b236f01">Sys_TimeString</a>(<a class="code hl_variable" href="console_8c.html#a0ae9055059790f863ac03ab03af2455c">timeformat</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>            <span class="comment">// reset the color</span></div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>            <span class="comment">// FIXME: 1. perhaps we should use a terminal system 2. use a constant instead of 7!</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>++] = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>            <span class="comment">// assert( STRING_COLOR_DEFAULT &lt; 10 )</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>++] = <a class="code hl_define" href="draw_8h.html#adb77a905f94280bd1251a75e005ab496">STRING_COLOR_DEFAULT</a> + <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>            <span class="comment">// special color codes for chat messages must always come first</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>            <span class="comment">// for Con_PrintToHistory to work properly</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>            <span class="keywordflow">if</span> (*msg == 1 || *msg == 2 || *msg == 3)</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>            {</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>                <span class="comment">// play talk wav</span></div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>                <span class="keywordflow">if</span> (*msg == 1)</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>                {</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a53ed24953636cba97bd6b20634c4cbca">con_chatsound</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>                    {</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>                        <span class="keywordflow">if</span>(msg[1] == <a class="code hl_variable" href="console_8c.html#ab958d83f888537859fe184406b41d73a">con_chatsound_team_mask</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a3272915ab2b2a751f50ba2f848ca34bf">foundteamchatsound</a>)</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>                            <a class="code hl_function" href="snd__main_8c.html#a4d633abdbed318fd5b12833e0ca6cbcf">S_LocalSound</a> (<a class="code hl_variable" href="console_8c.html#a03d0a273e6a8f42f6424e58f76460fe1">con_chatsound_team_file</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>);</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                            <a class="code hl_function" href="snd__main_8c.html#a4d633abdbed318fd5b12833e0ca6cbcf">S_LocalSound</a> (<a class="code hl_variable" href="console_8c.html#ae158c424d65985b77bed2ba54a39af0a">con_chatsound_file</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>);</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>                    }</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>                }</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>                <span class="comment">// Send to chatbox for say/tell (1) and messages (3)</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                <span class="comment">// 3 is just so that a message can be sent to the chatbox without a sound.</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>                <span class="keywordflow">if</span> (*msg == 1 || *msg == 3)</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>                    <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a> = <a class="code hl_define" href="console_8h.html#a5279de6acde9d2be2caa28fc3e19f5c2">CON_MASK_CHAT</a>;</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span> </div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>++] = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>++] = <span class="charliteral">&#39;3&#39;</span>;</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>                msg++;</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>                <a class="code hl_function" href="console_8c.html#a24a636223043ca60e69d1aeaa1741262">Con_Rcon_AddChar</a>(*msg);</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>            }</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>            <span class="comment">// store timestamp</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>            <span class="keywordflow">for</span> (;*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a>++)</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> &lt; (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>) - 2)</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>] = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">timestamp</a>;</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>            <span class="comment">// add the mask</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>            <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a> |= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">additionalmask</a>;</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        }</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>        <span class="comment">// append the character</span></div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>++] = *msg;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>        <span class="comment">// if this is a newline character, we have a complete line to print</span></div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>        <span class="keywordflow">if</span> (*msg == <span class="charliteral">&#39;\n&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> &gt;= (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>) / 2)</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>        {</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>            <span class="comment">// terminate the line</span></div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>] = 0;</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>            <span class="comment">// send to log file</span></div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>            <a class="code hl_function" href="console_8c.html#afeef974bf24a95e24835386574edd36f">Log_ConPrint</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>);</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>            <span class="comment">// send to scrollable buffer</span></div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a8949602b592f226ebfd2b93e2b76286c">con_initialized</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>            {</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>                <a class="code hl_function" href="console_8c.html#a8e0657caeb6bb575cc920bceb1fb4ad1">Con_PrintToHistory</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>);</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>            }</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>            <span class="comment">// send to terminal or dedicated server window</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a>.<a class="code hl_variable" href="structsys__t.html#a4b67f9dbc0f037afd7f521669292e798">outfd</a> &gt;= 0)</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a0f852a9c1ca7535482bd2917bc62ff41">developer</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> || !(<a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a> &amp; <a class="code hl_define" href="console_8h.html#a2f4f6bacee3ae55de9c669b17335381f">CON_MASK_DEVELOPER</a>))</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>            {</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#a193e5c23cb9078c6db0316b600e3c6a6">sys_specialcharactertranslation</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>                {</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>                    <span class="keywordtype">char</span> *p;</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>;</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>                    p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>;</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>                    <span class="keywordflow">while</span>(*p)</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>                    {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>                        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = <a class="code hl_define" href="utf8lib_8h.html#a6a0423dead3b0ed883b7dd659ab370d3">u8_getchar</a>(p, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>);</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;= 0xE000 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt;= 0xE0FF &amp;&amp; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) <a class="code hl_variable" href="console_8c.html#adea1698bae193a88e857c3042e63ab5e">qfont_table</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> - 0xE000]) &gt;= 0x20)</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                        {</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>                            *p = <a class="code hl_variable" href="console_8c.html#adea1698bae193a88e857c3042e63ab5e">qfont_table</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> - 0xE000];</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>                            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> &gt; p+1)</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memmove</a>(p+1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>)+1);</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>                            p = p + 1;</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>                        }</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>                            p = p + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> - p);</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>                    }</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>                }</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span> </div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#adade6350603ae71cd32aeeb2156ccf9f">sys_colortranslation</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> == 1) <span class="comment">// ANSI</span></div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>                {</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>                    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printline</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a> * 4 + 3];</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>                        <span class="comment">// 2 can become 7 bytes, rounding that up to 8, and 3 bytes are added at the end</span></div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>                        <span class="comment">// a newline can transform into four bytes, but then prevents the three extra bytes from appearing</span></div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 0;</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *in;</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>                    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>;</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                    <span class="keywordflow">for</span>(in = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printline</a>; *in; ++in)</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>                    {</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>                        <span class="keywordflow">switch</span>(*in)</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>                        {</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>                            <span class="keywordflow">case</span> <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>:</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>                                <span class="keywordflow">if</span>( in[1] == <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[2]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[3]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[4]) )</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>                                {</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>                                    <span class="keywordtype">char</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(in[2]);</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>                                    <span class="keywordtype">char</span> <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(in[3]);</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>                                    <span class="keywordtype">char</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(in[4]);</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>                                    <span class="comment">// it&#39;s a hex digit already, so the else part needs no check --blub</span></div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>                                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isdigit</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>)) <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> -= <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>                                    <span class="keywordflow">else</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> -= 87;</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>                                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isdigit</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>)) <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> -= <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>                                    <span class="keywordflow">else</span> <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> -= 87;</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>                                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isdigit</a>(<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>)) <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> -= <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>                                    <span class="keywordflow">else</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> -= 87;</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>                                    </div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>                                    <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_function" href="console_8c.html#a4ae153c2b2c17823048c30b439f41fda">Sys_Con_NearestColor</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> * 17, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> * 17, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> * 17);</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>                                    in += 3; <span class="comment">// 3 only, the switch down there does the fourth</span></div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>                                }</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>                                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>                                    <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = in[1];</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>                                </div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>                                <span class="keywordflow">switch</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>)</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>                                {</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>                                    <span class="keywordflow">case</span> <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>:</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>                                        ++in;</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>:</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>                                        <span class="comment">// normal color</span></div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>                                        ++in;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>                                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> == 0) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 0;</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>                                        <span class="comment">// light red</span></div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>                                        ++in;</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>                                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> == 1) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 1;</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;1&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;;&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;3&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;1&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>                                        <span class="comment">// light green</span></div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>                                        ++in;</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>                                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> == 2) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 2;</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;1&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;;&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;3&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;2&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>                                        <span class="comment">// yellow</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>                                        ++in;</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>                                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> == 3) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 3;</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;1&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;;&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;3&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;3&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>                                        <span class="comment">// light blue</span></div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>                                        ++in;</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>                                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> == 4) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 4;</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;1&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;;&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;3&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;4&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>                                        <span class="comment">// light cyan</span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>                                        ++in;</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>                                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> == 5) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 5;</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;1&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;;&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;3&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;6&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>:</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>                                        <span class="comment">// light magenta</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>                                        ++in;</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>                                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> == 6) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 6;</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;1&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;;&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;3&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;5&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>                                    <span class="comment">// 7 handled above</span></div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>:</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>:</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>                                        <span class="comment">// bold normal color</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>                                        ++in;</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>                                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> == 8) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 8;</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;0&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;;&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;1&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>                                    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>                                }</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>                            <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>                                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> != 0)</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>                                {</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>                                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>                                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> = 0;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>                                }</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>                                *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = *in;</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>                            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>                                *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = *in;</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>                        }</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>                    }</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastcolor</a> != 0)</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                    {</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0x1B;</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;[&#39;</span>;</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>                    }</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                    <a class="code hl_function" href="sys_8h.html#a277828e69bb595765f2e8fbd5e5eeb7c">Sys_Print</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printline</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printline</a>);</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                }</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#adade6350603ae71cd32aeeb2156ccf9f">sys_colortranslation</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> == 2) <span class="comment">// Quake</span></div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>                {</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>                    <a class="code hl_function" href="sys_8h.html#a277828e69bb595765f2e8fbd5e5eeb7c">Sys_Print</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>);</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                }</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>                <span class="keywordflow">else</span> <span class="comment">// strip</span></div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>                {</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>                    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printline</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>]; <span class="comment">// it can only get shorter here</span></div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *in;</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>                    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>                    <span class="keywordflow">for</span>(in = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printline</a>; *in; ++in)</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>                    {</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>                        <span class="keywordflow">switch</span>(*in)</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>                        {</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>                            <span class="keywordflow">case</span> <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>:</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>                                <span class="keywordflow">switch</span>(in[1])</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>                                {</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>                                    <span class="keywordflow">case</span> <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a>:</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>                                        <span class="keywordflow">if</span> ( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[2]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[3]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(in[4]) )</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>                                        {</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>                                            in+=4;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>                                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>                                        }</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a>;</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>                                        ++in;</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>                                    <span class="keywordflow">case</span> <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>:</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>                                        ++in;</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>:</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>:</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>:</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>                                    <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>:</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>                                        ++in;</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>                                    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>                                        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>                                }</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>                            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>                                *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = *in;</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>                        }</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>                    }</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>                    <a class="code hl_function" href="sys_8h.html#a277828e69bb595765f2e8fbd5e5eeb7c">Sys_Print</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printline</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">printline</a>);</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>                }</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>            }</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>            <span class="comment">// empty the line buffer</span></div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> = 0;</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>            <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a> = 0;</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>        }</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>    }</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span> </div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>)</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>        <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>}</div>
</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span> </div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span><span class="comment">/*</span></div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span><span class="comment">================</span></div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span><span class="comment">Con_MaskPrintf</span></div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span><span class="comment">================</span></div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01433" data-start="{" data-end="}">
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"><a class="line" href="console_8c.html#a349329eb315198abd1f580bf040447df"> 1433</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a349329eb315198abd1f580bf040447df">Con_MaskPrintf</a>(<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>, ...)</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>{</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    <span class="keywordtype">char</span> msg[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span> </div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_start</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>);</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    <a class="code hl_function" href="common_8c.html#a17e9040af1baa7e1a61a6a47f776eca5">dpvsnprintf</a>(msg,<span class="keyword">sizeof</span>(msg),<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>);</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_end</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>);</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span> </div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    <a class="code hl_function" href="console_8c.html#a55b3f844b84c24b5f23cc1a077017f87">Con_MaskPrint</a>(<a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a>, msg);</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>}</div>
</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span> </div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span><span class="comment">/*</span></div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span><span class="comment">================</span></div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span><span class="comment">Con_Print</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span><span class="comment">================</span></div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01450" data-start="{" data-end="}">
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"><a class="line" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e"> 1450</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msg)</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>{</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>    <a class="code hl_function" href="console_8c.html#a55b3f844b84c24b5f23cc1a077017f87">Con_MaskPrint</a>(<a class="code hl_define" href="console_8h.html#a4b845e6fa0b65870818e9f0605771bde">CON_MASK_PRINT</a>, msg);</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>}</div>
</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span> </div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span><span class="comment">/*</span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span><span class="comment">================</span></div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span><span class="comment">Con_Printf</span></div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span><span class="comment">================</span></div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01460" data-start="{" data-end="}">
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"><a class="line" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6"> 1460</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>, ...)</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>{</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>;</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>    <span class="keywordtype">char</span> msg[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span> </div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_start</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>);</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    <a class="code hl_function" href="common_8c.html#a17e9040af1baa7e1a61a6a47f776eca5">dpvsnprintf</a>(msg,<span class="keyword">sizeof</span>(msg),<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>);</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_end</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>);</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span> </div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    <a class="code hl_function" href="console_8c.html#a55b3f844b84c24b5f23cc1a077017f87">Con_MaskPrint</a>(<a class="code hl_define" href="console_8h.html#a4b845e6fa0b65870818e9f0605771bde">CON_MASK_PRINT</a>, msg);</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>}</div>
</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span> </div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span><span class="comment">/*</span></div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span><span class="comment">================</span></div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span><span class="comment">Con_DPrint</span></div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span><span class="comment">================</span></div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01477" data-start="{" data-end="}">
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"><a class="line" href="console_8c.html#aae665de4dbcbf2047ee305901e2f6627"> 1477</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aae665de4dbcbf2047ee305901e2f6627">Con_DPrint</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msg)</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>{</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="host_8c.html#a0f852a9c1ca7535482bd2917bc62ff41">developer</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &lt; 0) <span class="comment">// at 0, we still add to the buffer but hide</span></div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span> </div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    <a class="code hl_function" href="console_8c.html#a55b3f844b84c24b5f23cc1a077017f87">Con_MaskPrint</a>(<a class="code hl_define" href="console_8h.html#a2f4f6bacee3ae55de9c669b17335381f">CON_MASK_DEVELOPER</a>, msg);</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>}</div>
</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span> </div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span><span class="comment">/*</span></div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span><span class="comment">================</span></div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span><span class="comment">Con_DPrintf</span></div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span><span class="comment">================</span></div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01490" data-start="{" data-end="}">
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"><a class="line" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc"> 1490</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>, ...)</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>{</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_list</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>;</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>    <span class="keywordtype">char</span> msg[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span> </div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="host_8c.html#a0f852a9c1ca7535482bd2917bc62ff41">developer</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &lt; 0) <span class="comment">// at 0, we still add to the buffer but hide</span></div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span> </div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_start</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>);</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    <a class="code hl_function" href="common_8c.html#a17e9040af1baa7e1a61a6a47f776eca5">dpvsnprintf</a>(msg,<span class="keyword">sizeof</span>(msg),<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fmt</a>,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>);</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">va_end</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">argptr</a>);</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span> </div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>    <a class="code hl_function" href="console_8c.html#a55b3f844b84c24b5f23cc1a077017f87">Con_MaskPrint</a>(<a class="code hl_define" href="console_8h.html#a2f4f6bacee3ae55de9c669b17335381f">CON_MASK_DEVELOPER</a>, msg);</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>}</div>
</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span> </div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span> </div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span><span class="comment">/*</span></div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span><span class="comment">==============================================================================</span></div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span><span class="comment"></span> </div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span><span class="comment">DRAWING</span></div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span><span class="comment"></span> </div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span><span class="comment">==============================================================================</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span><span class="comment">*/</span></div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span> </div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span><span class="comment">/*</span></div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span><span class="comment">================</span></div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span><span class="comment">Con_DrawInput</span></div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span><span class="comment"></span> </div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span><span class="comment">It draws either the console input line or the chat input line (if is_console is false)</span></div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span><span class="comment">The input line scrolls horizontally if typing goes beyond the right edge</span></div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span><span class="comment"></span> </div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span><span class="comment">Modified by EvilTypeGuy eviltypeguy@qeradiant.com</span></div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span><span class="comment">================</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01524" data-start="{" data-end="}">
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"><a class="line" href="console_8c.html#a1966264ce06e32f82125a479240b9dbb"> 1524</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a1966264ce06e32f82125a479240b9dbb">Con_DrawInput</a>(<a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>)</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>{</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">col_out</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prefix_start</a> = 0;</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>    <span class="keywordtype">char</span> text[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a> + 5 + 9 + 1]; <span class="comment">// space for ^xRGB, &quot;say_team:&quot; and \0</span></div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">xo</a>;</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">len_out</a>;</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="crypto-keygen-standalone_8c.html#a5b41c5ae4505891e6c53e26df197e02b">prefix</a>;</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>;</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span> </div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a> &amp;&amp; !<a class="code hl_variable" href="keys_8c.html#aeffe36d6db440e4616c9d7eabe56f16a">key_consoleactive</a>)</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>        <span class="keywordflow">return</span>;     <span class="comment">// don&#39;t draw anything</span></div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span> </div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    {</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>        <span class="comment">// empty prefix because ] is part of the console edit line</span></div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>        <a class="code hl_variable" href="crypto-keygen-standalone_8c.html#a5b41c5ae4505891e6c53e26df197e02b">prefix</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(text, <a class="code hl_variable" href="keys_8c.html#ab7f45c2a8b99637d13968926e75916af">key_line</a>, <span class="keyword">sizeof</span>(text));</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = <a class="code hl_variable" href="keys_8c.html#a5eb44539079166018cc9bc3f8a257a2e">key_linepos</a>;</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a> = <a class="code hl_define" href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a>;</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>    }</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>    {</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="keys_8c.html#a679e79ce9d301b41385b64d779770346">chat_mode</a> &lt; 0)</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>            <a class="code hl_variable" href="crypto-keygen-standalone_8c.html#a5b41c5ae4505891e6c53e26df197e02b">prefix</a> = <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="keys_8c.html#a679e79ce9d301b41385b64d779770346">chat_mode</a>)</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>            <a class="code hl_variable" href="crypto-keygen-standalone_8c.html#a5b41c5ae4505891e6c53e26df197e02b">prefix</a> = <span class="stringliteral">&quot;say_team:&quot;</span>;</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>            <a class="code hl_variable" href="crypto-keygen-standalone_8c.html#a5b41c5ae4505891e6c53e26df197e02b">prefix</a> = <span class="stringliteral">&quot;say:&quot;</span>;</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(text, <a class="code hl_variable" href="keys_8c.html#a8b4736750c9296fb08952a514f2a6836">chat_buffer</a>, <span class="keyword">sizeof</span>(text));</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = <a class="code hl_variable" href="keys_8c.html#a491d45305a5c9f8e96a29a620fd715dd">chat_bufferpos</a>;</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a> = <a class="code hl_define" href="draw_8h.html#a62b36ff097e22b63619ac86835c012f7">FONT_CHAT</a>;</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>    }</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span> </div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(text);</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span> </div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    <span class="comment">// make the color code visible when the cursor is inside it</span></div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    <span class="keywordflow">if</span>(text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>] != 0)</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>    {</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> - <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>            <span class="keywordflow">if</span>(text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>-<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>)</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>            {</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>, ofs = 0;</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> - <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 1 &amp;&amp; text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>+1] == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>)</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>                    ofs = 1;</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isdigit</a>(text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>+1]))</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>                    ofs = 2;</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>+1] == <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>+2]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>+3]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>+4]))</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>                    ofs = 5;</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>                <span class="keywordflow">if</span>(ofs &amp;&amp; (<span class="keywordtype">size_t</span>)(<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + ofs + 1) &lt; <span class="keyword">sizeof</span>(text))</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>                {</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">carets</a> = 1;</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>                    <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">carets</a> &gt;= 1 &amp;&amp; text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">carets</a>] == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>)</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>                        ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">carets</a>;</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">carets</a> &amp; 1)</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>                    {</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>                        <span class="comment">// str^2ing (displayed as string) --&gt; str^2^^2ing (displayed as str^2ing)</span></div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>                        <span class="comment">// str^^ing (displayed as str^ing) --&gt; str^^^^ing (displayed as str^^ing)</span></div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memmove</a>(&amp;text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a> + ofs + 1], &amp;text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>], <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a>);</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>                        text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">caret_pos</a> + ofs] = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>                        <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> += ofs + 1;</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>                        text[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>] = 0;</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>                    }</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>                }</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>            }</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    }</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span> </div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    {</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prefix_start</a> = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>;</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>        <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += <a class="code hl_function" href="draw_8h.html#aa4629677424af2c7a2d8b6771723cfeb">DrawQ_TextWidth</a>(<a class="code hl_variable" href="crypto-keygen-standalone_8c.html#a5b41c5ae4505891e6c53e26df197e02b">prefix</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>);</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>    }</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span> </div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">len_out</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>;</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">col_out</a> = -1;</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">xo</a> = 0;</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> &gt; 0)</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">xo</a> = <a class="code hl_function" href="draw_8h.html#a1cf461d84ebe0feb95c54152b29651f1">DrawQ_TextWidth_UntilWidth_TrackColors</a>(text, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">len_out</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">col_out</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, 1000000000);</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span> </div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a> = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + (<a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> - <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>) * 0.95 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">xo</a>; <span class="comment">// scroll</span></div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a> &gt;= <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>)</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a> = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>;</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prefix_start</a> -= (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a>);</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span> </div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>        <a class="code hl_function" href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prefix_start</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="crypto-keygen-standalone_8c.html#a5b41c5ae4505891e6c53e26df197e02b">prefix</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, 1.0, 1.0, 1.0, 1.0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>);</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span> </div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    <a class="code hl_function" href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, text, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + 3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, 1.0, 1.0, 1.0, 1.0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>);</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span> </div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>    <span class="comment">// draw a cursor on top of this</span></div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)(<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>*<a class="code hl_variable" href="console_8c.html#af34b8f601f36273c1e2145c3664bf85a">con_cursorspeed</a>) &amp; 1)       <span class="comment">// cursor is visible</span></div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    {</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="utf8lib_8c.html#a38eb74903a08e481c50fc47a2b49778e">utf8_enable</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>        {</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>            text[0] = 11 + 130 * <a class="code hl_variable" href="keys_8c.html#ae5cf43f2afedfc432378809293de8b87">key_insert</a>;    <span class="comment">// either solid or triangle facing right</span></div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>            text[1] = 0;</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>        }</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>        {</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>            <span class="keywordtype">size_t</span> len;</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curbuf</a>;</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">charbuf16</a>[16];</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curbuf</a> = <a class="code hl_function" href="utf8lib_8c.html#a079fa47b8803d8fe1b2cd1103dc6788f">u8_encodech</a>(0xE000 + 11 + 130 * <a class="code hl_variable" href="keys_8c.html#ae5cf43f2afedfc432378809293de8b87">key_insert</a>, &amp;len, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">charbuf16</a>);</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(text, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curbuf</a>, len);</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>            text[len] = 0;</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>        }</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>        <a class="code hl_function" href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">xo</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, text, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, 1.0, 1.0, 1.0, 1.0, 0, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">col_out</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>);</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>    }</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>}</div>
</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span> </div>
<div class="foldopen" id="foldopen01636" data-start="{" data-end="};">
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html"> 1636</a></span><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>{</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#ae405665c2f432a7df841b911571684e0"> 1638</a></span>    <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="structcon__text__info__t.html#ae405665c2f432a7df841b911571684e0">font</a>;</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#a6bb0d2fd8d7d33120ab35586dc1a6411"> 1639</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcon__text__info__t.html#a6bb0d2fd8d7d33120ab35586dc1a6411">alignment</a>; <span class="comment">// 0 = left, 0.5 = center, 1 = right</span></div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#a2e7b2015e0b10b11a2d56e755b736bee"> 1640</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcon__text__info__t.html#a2e7b2015e0b10b11a2d56e755b736bee">fontsize</a>;</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#aa5655dd7a54a196304efbb923bf33987"> 1641</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcon__text__info__t.html#aa5655dd7a54a196304efbb923bf33987">x</a>;</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#a892e7d524a1f2ed95ee85e0e87b79158"> 1642</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcon__text__info__t.html#a892e7d524a1f2ed95ee85e0e87b79158">y</a>;</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#aa4b36e6cde79d115af7c439024c70d07"> 1643</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcon__text__info__t.html#aa4b36e6cde79d115af7c439024c70d07">width</a>;</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#ab5ed123f075385f2639ff036691048ed"> 1644</a></span>    <span class="keywordtype">float</span> ymin, <a class="code hl_variable" href="structcon__text__info__t.html#ab5ed123f075385f2639ff036691048ed">ymax</a>;</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#a5e78d5325743d4d6cced94a85d6f7253"> 1645</a></span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="structcon__text__info__t.html#a5e78d5325743d4d6cced94a85d6f7253">continuationString</a>;</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span> </div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>    <span class="comment">// PRIVATE:</span></div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"><a class="line" href="structcon__text__info__t.html#a7f383ba1c1aebac062b9f8be98fa73ce"> 1648</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcon__text__info__t.html#a7f383ba1c1aebac062b9f8be98fa73ce">colorindex</a>; <span class="comment">// init to -1</span></div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>}</div>
</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span><a class="code hl_struct" href="structcon__text__info__t.html">con_text_info_t</a>;</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span> </div>
<div class="foldopen" id="foldopen01652" data-start="{" data-end="}">
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"><a class="line" href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4"> 1652</a></span><span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code hl_function" href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4">Con_WordWidthFunc</a>(<span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <span class="keywordtype">size_t</span> *<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a>)</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>{</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>    <a class="code hl_struct" href="structcon__text__info__t.html">con_text_info_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a> = (<a class="code hl_struct" href="structcon__text__info__t.html">con_text_info_t</a> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>;</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>    {</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;<a class="code hl_variable" href="structcon__text__info__t.html#a7f383ba1c1aebac062b9f8be98fa73ce">colorindex</a> = -1;</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;font-&gt;maxwidth;</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>    }</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a> &gt;= 0)</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="draw_8h.html#acb02c3ade677ca95cc43f3febab11208">DrawQ_TextWidth_UntilWidth</a>(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;font, -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a>); <span class="comment">// -maxWidth: we want at least one char</span></div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a> == -1)</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="draw_8h.html#aa4629677424af2c7a2d8b6771723cfeb">DrawQ_TextWidth</a>(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, *<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;font);</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>    {</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>        <a class="code hl_function" href="sys_8h.html#a2e96c9ccfa6d43e1677769d19dbc1a21">Sys_Printf</a>(<span class="stringliteral">&quot;Con_WordWidthFunc: can&#39;t get here (maxWidth should never be %f)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a>);</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>        <span class="comment">// Note: this is NOT a Con_Printf, as it could print recursively</span></div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>    }</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>}</div>
</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span> </div>
<div class="foldopen" id="foldopen01672" data-start="{" data-end="}">
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"><a class="line" href="console_8c.html#a306e7cc0dc7fddecdc2c30c5ab472554"> 1672</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#a306e7cc0dc7fddecdc2c30c5ab472554">Con_CountLineFunc</a>(<span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isContinuation</a>)</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>{</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>    (<a class="code hl_function" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>;</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>    (<a class="code hl_function" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>;</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>    (<a class="code hl_function" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>) <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>;</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>    (<a class="code hl_function" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>) <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>    (<a class="code hl_function" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isContinuation</a>;</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>}</div>
</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span> </div>
<div class="foldopen" id="foldopen01682" data-start="{" data-end="}">
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"><a class="line" href="console_8c.html#af4072df423a6f658275214d233d17678"> 1682</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#af4072df423a6f658275214d233d17678">Con_DisplayLineFunc</a>(<span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isContinuation</a>)</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>{</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>    <a class="code hl_struct" href="structcon__text__info__t.html">con_text_info_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a> = (<a class="code hl_struct" href="structcon__text__info__t.html">con_text_info_t</a> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>;</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span> </div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;y &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;ymin - 0.001)</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>        (<a class="code hl_function" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>) 0;</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;y &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;ymax - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize + 0.001)</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>        (<a class="code hl_function" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>) 0;</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>    {</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;x + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;width - <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;alignment);</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isContinuation</a> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;continuationString)</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>            <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_function" href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a>(<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;y, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;continuationString, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;continuationString), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize, 1.0, 1.0, 1.0, 1.0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;font);</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 0)</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>            <a class="code hl_function" href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a>(<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;y, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize, 1.0, 1.0, 1.0, 1.0, 0, &amp;(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;colorindex), <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;font);</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    }</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span> </div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;y += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>-&gt;fontsize;</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>}</div>
</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span> </div>
<div class="foldopen" id="foldopen01703" data-start="{" data-end="}">
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"><a class="line" href="console_8c.html#aa40bfc0a4f7f64af64ceb82c530ee6dc"> 1703</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#aa40bfc0a4f7f64af64ceb82c530ee6dc">Con_DrawNotifyRect</a>(<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>, <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxage</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">float</span> fontsize, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alignment_x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alignment_y</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *continuationString)</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>{</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>    <span class="keywordtype">int</span> lines = 0;</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    <span class="keywordtype">int</span> maxlines = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> / fontsize + 0.01f);</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startidx</a>;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nskip</a> = 0;</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">continuationWidth</a> = 0;</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>    <span class="keywordtype">size_t</span> len;</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>    <span class="keywordtype">double</span> t = <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">time</a>; <span class="comment">// saved so it won&#39;t change</span></div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <a class="code hl_struct" href="structcon__text__info__t.html">con_text_info_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>;</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span> </div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.<a class="code hl_variable" href="structcon__text__info__t.html#ae405665c2f432a7df841b911571684e0">font</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a> &amp; <a class="code hl_define" href="console_8h.html#a5279de6acde9d2be2caa28fc3e19f5c2">CON_MASK_CHAT</a>) ? <a class="code hl_define" href="draw_8h.html#a62b36ff097e22b63619ac86835c012f7">FONT_CHAT</a> : <a class="code hl_define" href="draw_8h.html#a9fc49f8bafec6291dd041c965b4849e4">FONT_NOTIFY</a>;</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.fontsize = fontsize;</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.alignment = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alignment_x</a>;</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.width = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.ymin = <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>;</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.ymax = <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>;</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.continuationString = continuationString;</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span> </div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>    len = 0;</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>    <a class="code hl_function" href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4">Con_WordWidthFunc</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;len, -1);</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    len = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(continuationString);</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">continuationWidth</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_function" href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4">Con_WordWidthFunc</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>, continuationString, &amp;len, -1);</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span> </div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    <span class="comment">// first find the first line to draw by backwards iterating and word wrapping to find their length...</span></div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startidx</a> = <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a>;</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a> - 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; --<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>    {</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>        <a class="code hl_struct" href="structcon__lineinfo__t.html">con_lineinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = &amp;<a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mylines</a>;</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span> </div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>        <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;mask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>)</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;mask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>)</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxage</a> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;addtime &lt; t - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxage</a>))</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span> </div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <span class="comment">// WE FOUND ONE!</span></div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>        <span class="comment">// Calculate its actual height...</span></div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mylines</a> = <a class="code hl_function" href="common_8c.html#a31eae03d733e25ab670dd2ac7689f74c">COM_Wordwrap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;len, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">continuationWidth</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_function" href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4">Con_WordWidthFunc</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>, <a class="code hl_function" href="console_8c.html#a306e7cc0dc7fddecdc2c30c5ab472554">Con_CountLineFunc</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>);</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>        <span class="keywordflow">if</span>(lines + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mylines</a> &gt;= maxlines)</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>        {</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nskip</a> = lines + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mylines</a> - maxlines;</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>            lines = maxlines;</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startidx</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>        }</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>        lines += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mylines</a>;</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startidx</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>    }</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span> </div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <span class="comment">// then center according to the calculated amount of lines...</span></div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.x = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>;</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.y = <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alignment_y</a> * (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> - lines * fontsize) - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nskip</a> * fontsize;</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span> </div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    <span class="comment">// then actually draw</span></div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startidx</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>    {</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>        <a class="code hl_struct" href="structcon__lineinfo__t.html">con_lineinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = &amp;<a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span> </div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>        <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;mask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>)</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;mask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>)</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxage</a> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;addtime &lt; t - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxage</a>))</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span> </div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        <a class="code hl_function" href="common_8c.html#a31eae03d733e25ab670dd2ac7689f74c">COM_Wordwrap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;len, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">continuationWidth</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_function" href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4">Con_WordWidthFunc</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>, <a class="code hl_function" href="console_8c.html#af4072df423a6f658275214d233d17678">Con_DisplayLineFunc</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>);</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>    }</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span> </div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>    <span class="keywordflow">return</span> lines;</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>}</div>
</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span> </div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span><span class="comment">/*</span></div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span><span class="comment">================</span></div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span><span class="comment">Con_DrawNotify</span></div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span><span class="comment"></span> </div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span><span class="comment">Draws the last few lines of output transparently over the game top</span></div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span><span class="comment">================</span></div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01785" data-start="{" data-end="}">
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"><a class="line" href="console_8c.html#a3d12d1ba70924a345c9d4065ab6ba508"> 1785</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a3d12d1ba70924a345c9d4065ab6ba508">Con_DrawNotify</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>{</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">notifystart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>;</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">align</a>;</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a>;</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatpos</a>;</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span> </div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>    <a class="code hl_function" href="console_8c.html#a254291ab0a3e6c4bec025b7c83538310">ConBuffer_FixTimes</a>(&amp;<a class="code hl_variable" href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a>);</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span> </div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a> = <a class="code hl_variable" href="console_8c.html#a65af6079c3991750c9dcf8d99548ff4d">con_chat</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span> </div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatpos</a> = <a class="code hl_variable" href="console_8c.html#adeeb3525c0753f464d464b7676a75d82">con_chatpos</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span> </div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a7306d2ff1b85fc916029f45b1ca143bb">con_notify</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &lt; 0)</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="console_8c.html#a7306d2ff1b85fc916029f45b1ca143bb">con_notify</a>, 0);</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea27da098badcdb79e49f4a62376e71f9f">GAME_TRANSFUSION</a>)</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = 8; <span class="comment">// vertical offset</span></div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = 0;</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span> </div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>    <span class="comment">// GAME_NEXUIZ: center, otherwise left justify</span></div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">align</a> = <a class="code hl_variable" href="console_8c.html#a85a0f3d0b16ed369f6fe970f7cd19cf2">con_notifyalign</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>    <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="console_8c.html#a85a0f3d0b16ed369f6fe970f7cd19cf2">con_notifyalign</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>) <span class="comment">// empty string, evaluated to 0 above</span></div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    {</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="com__game_8h.html#a83b243a3e308a07f75151cb904f240d4">IS_OLDNEXUIZ_DERIVED</a>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a>))</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">align</a> = 0.5;</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>    }</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span> </div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a> || !<a class="code hl_variable" href="console_8c.html#afa2bb27a9e0ac65b21ce054bc911e958">con_chatrect</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>    {</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatpos</a> == 0)</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>        {</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>            <span class="comment">// first chat, input line, then notify</span></div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatstart</a> = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">notifystart</a> = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a> + 1) * <a class="code hl_variable" href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">con_chatsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>        }</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatpos</a> &gt; 0)</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>        {</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>            <span class="comment">// first notify, then (chatpos-1) empty lines, then chat, then input</span></div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">notifystart</a> = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatstart</a> = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> + (<a class="code hl_variable" href="console_8c.html#a7306d2ff1b85fc916029f45b1ca143bb">con_notify</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatpos</a> - 1)) * <a class="code hl_variable" href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">con_notifysize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>        }</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>        <span class="keywordflow">else</span> <span class="comment">// if(chatpos &lt; 0)</span></div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>        {</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>            <span class="comment">// first notify, then much space, then chat, then input, then -chatpos-1 empty lines</span></div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">notifystart</a> = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatstart</a> = <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> - (-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatpos</a>-1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a> + 1) * <a class="code hl_variable" href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">con_chatsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>        }</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>    }</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>    {</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>        <span class="comment">// just notify and input</span></div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">notifystart</a> = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatstart</a> = 0; <span class="comment">// shut off gcc warning</span></div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>    }</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span> </div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">notifystart</a> + <a class="code hl_variable" href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">con_notifysize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_function" href="console_8c.html#aa40bfc0a4f7f64af64ceb82c530ee6dc">Con_DrawNotifyRect</a>(0, <a class="code hl_define" href="console_8h.html#aafd666f4a8297af5872370bc79108257">CON_MASK_INPUT</a> | <a class="code hl_define" href="console_8h.html#a2001a323865934b60e098bf5a58b39c0">CON_MASK_HIDENOTIFY</a> | (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a> ? <a class="code hl_define" href="console_8h.html#a5279de6acde9d2be2caa28fc3e19f5c2">CON_MASK_CHAT</a> : 0) | <a class="code hl_define" href="console_8h.html#a2f4f6bacee3ae55de9c669b17335381f">CON_MASK_DEVELOPER</a>, <a class="code hl_variable" href="console_8c.html#a522819a9be9353e9d9d1cb6cf739fa73">con_notifytime</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">notifystart</a>, <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="console_8c.html#a7306d2ff1b85fc916029f45b1ca143bb">con_notify</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">con_notifysize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">con_notifysize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">align</a>, 0.0, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span> </div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#afa2bb27a9e0ac65b21ce054bc911e958">con_chatrect</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>    {</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>        <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = <a class="code hl_variable" href="console_8c.html#a55aa530881c3941b21503dc335c205dc">con_chatrect_x</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = <a class="code hl_variable" href="console_8c.html#a6545a04504cc84e5ce63d0342de98aff">con_chatrect_y</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>    }</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>    {</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>        <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a>) <span class="comment">// only do this if chat area is enabled, or this would move the input line wrong</span></div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>            <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">chatstart</a>;</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>    }</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>    <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a> * <a class="code hl_variable" href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">con_chatsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span> </div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a>)</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    {</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>        <a class="code hl_function" href="console_8c.html#aa40bfc0a4f7f64af64ceb82c530ee6dc">Con_DrawNotifyRect</a>(<a class="code hl_define" href="console_8h.html#a5279de6acde9d2be2caa28fc3e19f5c2">CON_MASK_CHAT</a>, <a class="code hl_define" href="console_8h.html#aafd666f4a8297af5872370bc79108257">CON_MASK_INPUT</a>, <a class="code hl_variable" href="console_8c.html#a18b81ae0ebe29178a5a53565139f6c5a">con_chattime</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="console_8c.html#ac48355b62fd33d64c8a5d4331f175f46">con_chatwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">con_chatsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, 0.0, 1.0, <span class="stringliteral">&quot;^3 ... &quot;</span>);</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> += <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>;</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>    }</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="keys_8c.html#acf4f352e2f3ec64ff93004bd5cd52ff0">key_dest</a> == <a class="code hl_enumvalue" href="keys_8h.html#aadf1384626a83f4eb163aaa209c84972a66791fcb621ea8dd8efe85bdd4ec649d">key_message</a>)</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numChatlines</a> ? <a class="code hl_variable" href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">con_chatsize</a> : <a class="code hl_variable" href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">con_notifysize</a>).<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>;</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>        <a class="code hl_function" href="console_8c.html#a1966264ce06e32f82125a479240b9dbb">Con_DrawInput</a>(<span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inputsize</a>);</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>    }</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>        <a class="code hl_variable" href="keys_8c.html#a491d45305a5c9f8e96a29a620fd715dd">chat_bufferpos</a> = 0;</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span> </div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>}</div>
</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span> </div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span><span class="comment">/*</span></div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span><span class="comment">================</span></div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span><span class="comment">Con_LineHeight</span></div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span><span class="comment"></span> </div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span><span class="comment">Returns the height of a given console line; calculates it if necessary.</span></div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span><span class="comment">================</span></div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01881" data-start="{" data-end="}">
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"><a class="line" href="console_8c.html#a9e2eb2c313d4381c00583a66265453ae"> 1881</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#a9e2eb2c313d4381c00583a66265453ae">Con_LineHeight</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lineno</a>)</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>{</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>    <a class="code hl_struct" href="structcon__lineinfo__t.html">con_lineinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a> = &amp;<a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lineno</a>);</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;height == -1)</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>    {</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>        <a class="code hl_struct" href="structcon__text__info__t.html">con_text_info_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>;</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.<a class="code hl_variable" href="structcon__text__info__t.html#a2e7b2015e0b10b11a2d56e755b736bee">fontsize</a> = <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.font = <a class="code hl_define" href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a>;</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;height = <a class="code hl_function" href="common_8c.html#a31eae03d733e25ab670dd2ac7689f74c">COM_Wordwrap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;len, 0, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_function" href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4">Con_WordWidthFunc</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>, <a class="code hl_function" href="console_8c.html#a306e7cc0dc7fddecdc2c30c5ab472554">Con_CountLineFunc</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    }</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;height;</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>}</div>
</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span> </div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span><span class="comment">/*</span></div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span><span class="comment">================</span></div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span><span class="comment">Con_DrawConsoleLine</span></div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span><span class="comment"></span> </div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span><span class="comment">Draws a line of the console; returns its height in lines.</span></div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span><span class="comment">If alpha is 0, the line is not drawn, but still wrapped and its height</span></div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span><span class="comment">returned.</span></div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span><span class="comment">================</span></div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01904" data-start="{" data-end="}">
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"><a class="line" href="console_8c.html#a672e115bafbbeddcad54702cd9358289"> 1904</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#a672e115bafbbeddcad54702cd9358289">Con_DrawConsoleLine</a>(<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>, <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lineno</a>, <span class="keywordtype">float</span> ymin, <span class="keywordtype">float</span> ymax)</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>{</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>    <a class="code hl_struct" href="structcon__text__info__t.html">con_text_info_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>;</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>    <a class="code hl_struct" href="structcon__lineinfo__t.html">con_lineinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a> = &amp;<a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lineno</a>);</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span> </div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;mask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>)</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;mask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>) != 0)</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span> </div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.continuationString = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.alignment = 0;</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.fontsize = <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.font = <a class="code hl_define" href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a>;</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.x = 0;</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.y = <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - (<a class="code hl_function" href="console_8c.html#a9e2eb2c313d4381c00583a66265453ae">Con_LineHeight</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lineno</a>) - 1) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.fontsize;</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.ymin = ymin;</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.ymax = ymax;</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>.width = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span> </div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="common_8c.html#a31eae03d733e25ab670dd2ac7689f74c">COM_Wordwrap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">li</a>-&gt;len, 0, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_function" href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4">Con_WordWidthFunc</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>, <a class="code hl_function" href="console_8c.html#af4072df423a6f658275214d233d17678">Con_DisplayLineFunc</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ti</a>);</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>}</div>
</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span> </div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span><span class="comment">/*</span></div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span><span class="comment">================</span></div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span><span class="comment">Con_LastVisibleLine</span></div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span><span class="comment"></span> </div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span><span class="comment">Calculates the last visible line index and how much to show of it based on</span></div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span><span class="comment">con_backscroll.</span></div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span><span class="comment">================</span></div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01936" data-start="{" data-end="}">
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"><a class="line" href="console_8c.html#a7c3dcfa689ea552c3af479ecce98cd1e"> 1936</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a7c3dcfa689ea552c3af479ecce98cd1e">Con_LastVisibleLine</a>(<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>, <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limitlast</a>)</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>{</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lines_seen</a> = 0;</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span> </div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> &lt; 0)</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>        <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> = 0;</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span> </div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = 0;</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span> </div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>    <span class="comment">// now count until we saw con_backscroll actual lines</span></div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a> - 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; --<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>    <span class="keywordflow">if</span>((<a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a> &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>)</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    <span class="keywordflow">if</span>((<a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>).<a class="code hl_variable" href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a> &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>) == 0)</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>    {</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>        <span class="keywordtype">int</span> h = <a class="code hl_function" href="console_8c.html#a9e2eb2c313d4381c00583a66265453ae">Con_LineHeight</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span> </div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>        <span class="comment">// line is the last visible line?</span></div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lines_seen</a> + h &gt; <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lines_seen</a> &lt;= <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a>)</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        {</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limitlast</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lines_seen</a> + h - <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a>;</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>        }</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span> </div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lines_seen</a> += h;</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>    }</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span> </div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>    <span class="comment">// if we get here, no line was on screen - scroll so that one line is</span></div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>    <span class="comment">// visible then.</span></div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>    <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lines_seen</a> - 1;</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limitlast</a> = 1;</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>}</div>
</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span> </div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span><span class="comment">/*</span></div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span><span class="comment">================</span></div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span><span class="comment">Con_DrawConsole</span></div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span><span class="comment"></span> </div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span><span class="comment">Draws the console with the solid background</span></div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span><span class="comment">The typing input line at the bottom should only be drawn if typing is allowed</span></div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span><span class="comment">================</span></div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen01978" data-start="{" data-end="}">
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"><a class="line" href="console_8c.html#a526766c2bfde6ea15c935ca4928ba494"> 1978</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a526766c2bfde6ea15c935ca4928ba494">Con_DrawConsole</a> (<span class="keywordtype">int</span> lines, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">forcedfullscreen</a>)</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>{</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alpha0</a>;</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>;</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a> = 0;</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a> = (<a class="code hl_variable" href="host_8c.html#a0f852a9c1ca7535482bd2917bc62ff41">developer</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>&gt;0) ? 0 : <a class="code hl_define" href="console_8h.html#a2f4f6bacee3ae55de9c669b17335381f">CON_MASK_DEVELOPER</a>;</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a>;</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackflags</a>;</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span> </div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>    <span class="keywordflow">if</span> (lines &lt;= 0)</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span> </div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span> </div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> &lt; 0)</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>        <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> = 0;</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span> </div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>    <a class="code hl_variable" href="console_8c.html#acdae77962f6ca032365eb4681a73a4a7">con_vislines</a> = lines;</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span> </div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>    <a class="code hl_variable" href="gl__draw_8c.html#a44f620c02d4d161cb05101d8788db4de">r_draw2d_force</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span> </div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span><span class="comment">// draw the background</span></div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alpha0</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">forcedfullscreen</a> ? 1.0f : <a class="code hl_variable" href="cl__screen_8c.html#a95c303f88adef710d4ce605ab49e6413">scr_conalpha</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>; <span class="comment">// always full alpha when not forced fullscreen</span></div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alpha0</a> * <a class="code hl_variable" href="cl__screen_8c.html#a8302fcccec6a239b2211beaf7d1d400b">scr_conalphafactor</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>) &gt; 0)</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>    {</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> = <a class="code hl_variable" href="cl__screen_8c.html#aae1e9dbc9c56c9c7ce35b732f17acbe5">scr_conscroll_x</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> = <a class="code hl_variable" href="cl__screen_8c.html#ac8ba59ffd6f51cacacff57e43a0d7157">scr_conscroll_y</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackflags</a> = <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2">CACHEPICFLAG_FAILONMISSING</a>; <span class="comment">// So console is readable when game content is missing</span></div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> != 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> != 0)</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackflags</a> &amp;= <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0">CACHEPICFLAG_NOCLAMP</a>;</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a> = <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &gt;= 0.01f ? <a class="code hl_function" href="draw_8h.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a>(<span class="stringliteral">&quot;gfx/conback&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackflags</a>) : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> *= <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> *= <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>);</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="draw_8h.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a>))</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>            <a class="code hl_function" href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a>(0, lines - <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a>, <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>,</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>                    0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>                    1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>                    0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>                    1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>                    0);</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>            <a class="code hl_function" href="draw_8h.html#a22c12f7dabc03f2e086052521a2ec2fc">DrawQ_Fill</a>(0, lines - <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, 0.0f, 0.0f, 0.0f, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, 0);</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>    }</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alpha0</a> * <a class="code hl_variable" href="cl__screen_8c.html#ac7c41d1d191eacf571d5c8041284ae71">scr_conalpha2factor</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>) &gt; 0)</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>    {</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> = <a class="code hl_variable" href="cl__screen_8c.html#a46d1772c17009ba9062f340650cf292a">scr_conscroll2_x</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> = <a class="code hl_variable" href="cl__screen_8c.html#a0c393948bb12a7b9a36321c206682738">scr_conscroll2_y</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a> = <a class="code hl_function" href="draw_8h.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a>(<span class="stringliteral">&quot;gfx/conback2&quot;</span>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> != 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> != 0) ? <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0">CACHEPICFLAG_NOCLAMP</a> : 0);</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> *= <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> *= <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>);</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="draw_8h.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a>))</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>            <a class="code hl_function" href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a>(0, lines - <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a>, <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>,</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>                    0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>                    1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>                    0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>                    1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>                    0);</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>    }</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alpha0</a> * <a class="code hl_variable" href="cl__screen_8c.html#ad445fc25054946541895627ee3253e24">scr_conalpha3factor</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>) &gt; 0)</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>    {</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> = <a class="code hl_variable" href="cl__screen_8c.html#ab34481c3dcb9672d73039a6b7da1f423">scr_conscroll3_x</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> = <a class="code hl_variable" href="cl__screen_8c.html#a6648c063f184d3048dfb8b9e982c7e02">scr_conscroll3_y</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a> = <a class="code hl_function" href="draw_8h.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a>(<span class="stringliteral">&quot;gfx/conback3&quot;</span>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> != 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> != 0) ? <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0">CACHEPICFLAG_NOCLAMP</a> : 0);</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> *= <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> *= <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>);</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="draw_8h.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a>))</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>            <a class="code hl_function" href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a>(0, lines - <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conbackpic</a>, <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>,</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>                    0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>                    1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>                    0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>                    1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>,</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>                    0);</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>    }</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>    <a class="code hl_function" href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a>(<a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> - <a class="code hl_function" href="draw_8h.html#aa4629677424af2c7a2d8b6771723cfeb">DrawQ_TextWidth</a>(<a class="code hl_variable" href="darkplaces_8h.html#a2265930497ce2df118a49e66be5b6d9e">engineversion</a>, 0, <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <span class="keyword">false</span>, <a class="code hl_define" href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a>), lines - <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="darkplaces_8h.html#a2265930497ce2df118a49e66be5b6d9e">engineversion</a>, 0, <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, 1, 0, 0, 1, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>, <a class="code hl_define" href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a>);</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span> </div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span><span class="comment">// draw the text</span></div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>    {</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a>;</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>        <span class="keywordtype">float</span> ymax = <a class="code hl_variable" href="console_8c.html#acdae77962f6ca032365eb4681a73a4a7">con_vislines</a> - 2 * <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = ymax + <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a>;</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">i &lt; count &amp;&amp; y &gt;</a>= 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>            <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> -= <a class="code hl_function" href="console_8c.html#a672e115bafbbeddcad54702cd9358289">Con_DrawConsoleLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a> - 1 - <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, 0, ymax) * <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>        <span class="comment">// fix any excessive scrollback for the next frame</span></div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &gt;= 0)</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>        {</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>            <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> -= (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> / <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> &lt; 0)</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>                <a class="code hl_variable" href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a> = 0;</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>        }</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>    }</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a> &gt; 0)</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>    {</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limitlast</a>;</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>;</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>        <span class="keywordtype">float</span> ymax = <a class="code hl_variable" href="console_8c.html#acdae77962f6ca032365eb4681a73a4a7">con_vislines</a> - 2 * <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>        <a class="code hl_function" href="console_8c.html#a7c3dcfa689ea552c3af479ecce98cd1e">Con_LastVisibleLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limitlast</a>);</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>        <span class="comment">//Con_LastVisibleLine(mask_must, mask_mustnot, &amp;last, &amp;limitlast);</span></div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>        <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = ymax - <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span> </div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limitlast</a>)</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>            <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> += (<a class="code hl_define" href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>).height - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limitlast</a>) * <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>;</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span> </div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>        <span class="keywordflow">for</span>(;;)</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>        {</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>            <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> -= <a class="code hl_function" href="console_8c.html#a672e115bafbbeddcad54702cd9358289">Con_DrawConsoleLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_must</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mask_mustnot</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, 0, ymax) * <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0)</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>                <span class="keywordflow">break</span>; <span class="comment">// top of console buffer</span></div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; 0)</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>                <span class="keywordflow">break</span>; <span class="comment">// top of console window</span></div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limitlast</a> = 0;</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>            --<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>        }</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>    }</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span> </div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span><span class="comment">// draw the input prompt, user text, and cursor if desired</span></div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>    <a class="code hl_function" href="console_8c.html#a1966264ce06e32f82125a479240b9dbb">Con_DrawInput</a>(<span class="keyword">true</span>, 0, <a class="code hl_variable" href="console_8c.html#acdae77962f6ca032365eb4681a73a4a7">con_vislines</a> - <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * 2, <a class="code hl_variable" href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span> </div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>    <a class="code hl_variable" href="gl__draw_8c.html#a44f620c02d4d161cb05101d8788db4de">r_draw2d_force</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>) <a class="code hl_define" href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a>(<a class="code hl_variable" href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a>);</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>}</div>
</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span> </div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span><span class="comment">/*</span></div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span><span class="comment">GetMapList</span></div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span><span class="comment"></span> </div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span><span class="comment">Made by [515]</span></div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span><span class="comment">Prints not only map filename, but also</span></div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span><span class="comment">its format (q1/q2/q3/hl) and even its message</span></div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span><span class="comment">*/</span></div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span><span class="comment">//[515]: here is an ugly hack.. two gotos... oh my... *but it works*</span></div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span><span class="comment">//LadyHavoc: rewrote bsp type detection, rewrote message extraction to do proper worldspawn parsing</span></div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span><span class="comment">//LadyHavoc: added .ent file loading, and redesigned error handling to still try the .ent file even if the map format is not recognized, this also eliminated one goto</span></div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span><span class="comment">//LadyHavoc: FIXME: man this GetMapList is STILL ugly code even after my cleanups...</span></div>
<div class="foldopen" id="foldopen02115" data-start="{" data-end="}">
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"><a class="line" href="console_8c.html#a308ed0b467e439bea4b1cf0d142becca"> 2115</a></span><a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_function" href="console_8c.html#a308ed0b467e439bea4b1cf0d142becca">GetMapList</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">completedname</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">completednamebufferlength</a>)</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>{</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>    <a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a>  *t;</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>    <span class="keywordtype">char</span>        message[1024];</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>, p, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a>, <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>;</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *len;</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">qfile_t</a>     *<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[1024];</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span> </div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(message, <span class="keyword">sizeof</span>(message), <span class="stringliteral">&quot;maps/%s*.bsp&quot;</span>, s);</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>    t = <a class="code hl_function" href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a>(message, 1, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>    <span class="keywordflow">if</span>(!t)</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>    <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structfssearch__t.html#acf25e45394beadf778f0ad46a16da534">numfilenames</a> &gt; 1)</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^1 %i maps found :\n&quot;</span>, t-&gt;<a class="code hl_variable" href="structfssearch__t.html#acf25e45394beadf778f0ad46a16da534">numfilenames</a>);</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>    len = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a35deb8ef816a08fb1bc8feac8db020c5">Z_Malloc</a>(t-&gt;<a class="code hl_variable" href="structfssearch__t.html#acf25e45394beadf778f0ad46a16da534">numfilenames</a>);</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>    <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a> = 666;</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>    <span class="keywordflow">for</span>(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>=<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;t-&gt;<a class="code hl_variable" href="structfssearch__t.html#acf25e45394beadf778f0ad46a16da534">numfilenames</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>    {</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(t-&gt;<a class="code hl_variable" href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">filenames</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> -= 9;</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>            <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>            <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>        len[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>    }</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(s);</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;t-&gt;<a class="code hl_variable" href="structfssearch__t.html#acf25e45394beadf778f0ad46a16da534">numfilenames</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    {</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> = 0;</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>        <span class="keywordtype">char</span> *entities = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keyname</a>[64];</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entfilename</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>        <span class="keywordtype">char</span> desc[64];</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>        desc[0] = 0;</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(message, <span class="stringliteral">&quot;^1ERROR: open failed^7&quot;</span>, <span class="keyword">sizeof</span>(message));</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>        p = 0;</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_function" href="fs_8c.html#a146922363508573499a2391fd3e0bf1f">FS_OpenVirtualFile</a>(t-&gt;<a class="code hl_variable" href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">filenames</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">true</span>);</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>)</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>        {</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(message, <span class="stringliteral">&quot;^1ERROR: not a known map format^7&quot;</span>, <span class="keyword">sizeof</span>(message));</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, 0, 1024);</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>            <a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, 1024);</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="stringliteral">&quot;IBSP&quot;</span>, 4))</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>            {</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>                p = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(((<span class="keywordtype">int</span> *)<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)[1]);</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>                <span class="keywordflow">if</span> (p == <a class="code hl_define" href="model__q3bsp_8h.html#afa2ad4ff1291015382d9b4bc76493bbf">Q3BSPVERSION</a> || p == <a class="code hl_define" href="model__q3bsp_8h.html#a87d5d3f72d94456869a6babe9ddd8f6e">Q3BSPVERSION_LIVE</a> || p == <a class="code hl_define" href="model__q3bsp_8h.html#a60f1802e42cb9ab26b7d528c9eb667bc">Q3BSPVERSION_IG</a>)</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>                {</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>                    <a class="code hl_struct" href="structq3dheader__t.html">q3dheader_t</a> *header = (<a class="code hl_struct" href="structq3dheader__t.html">q3dheader_t</a> *)<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a9b5ad0acdbf58d3e7ca623aec169769e">Q3LUMP_ENTITIES</a>].<a class="code hl_variable" href="structlump__t.html#a8507a3815e7f17c0a4c6caac5f5655ac">fileofs</a>);</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a9b5ad0acdbf58d3e7ca623aec169769e">Q3LUMP_ENTITIES</a>].<a class="code hl_variable" href="structlump__t.html#aa8725ca1f4de1d11f2b1a95d4610d4a6">filelen</a>);</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>                    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;Q3BSP%i&quot;</span>, p);</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>                }</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p == <a class="code hl_define" href="model__q2bsp_8h.html#ad263d0ae9d22f8f811b8ce50ff906fee">Q2BSPVERSION</a>)</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>                {</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>                    <a class="code hl_struct" href="structq2dheader__t.html">q2dheader_t</a> *header = (<a class="code hl_struct" href="structq2dheader__t.html">q2dheader_t</a> *)<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq2dheader__t.html#a2cb0678b1516204778c5a9cec4e15b9e">lumps</a>[<a class="code hl_define" href="model__q2bsp_8h.html#aab35c56c2580d29ecaed8ec5e0b25179">Q2LUMP_ENTITIES</a>].<a class="code hl_variable" href="structlump__t.html#a8507a3815e7f17c0a4c6caac5f5655ac">fileofs</a>);</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq2dheader__t.html#a2cb0678b1516204778c5a9cec4e15b9e">lumps</a>[<a class="code hl_define" href="model__q2bsp_8h.html#aab35c56c2580d29ecaed8ec5e0b25179">Q2LUMP_ENTITIES</a>].<a class="code hl_variable" href="structlump__t.html#aa8725ca1f4de1d11f2b1a95d4610d4a6">filelen</a>);</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>                    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;Q2BSP%i&quot;</span>, p);</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>                }</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>                    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;IBSP%i&quot;</span>, p);</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>            }</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>) == <a class="code hl_define" href="bspfile_8h.html#a7e26e3a5633ffba7c492d65875edcd87">BSPVERSION</a>)</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>            {</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 4 + 8 * <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a>);</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 4 + 8 * <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a> + 4);</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;BSP29&quot;</span>);</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>            }</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>) == 30)</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>            {</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 4 + 8 * <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a>);</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 4 + 8 * <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a> + 4);</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;BSPHL&quot;</span>);</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>            }</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="stringliteral">&quot;BSP2&quot;</span>, 4))</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>            {</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 4 + 8 * <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a>);</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 4 + 8 * <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a> + 4);</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;BSP2&quot;</span>);</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>            }</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="stringliteral">&quot;2PSB&quot;</span>, 4))</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>            {</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 4 + 8 * <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a>);</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> + 4 + 8 * <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a> + 4);</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;BSP2RMQe&quot;</span>);</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>            }</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcmp</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>, <span class="stringliteral">&quot;VBSP&quot;</span>, 4))</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>            {</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>                <a class="code hl_struct" href="structhl2dheader__t.html">hl2dheader_t</a> *header = (<a class="code hl_struct" href="structhl2dheader__t.html">hl2dheader_t</a> *)<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structhl2dheader__t.html#a495c4715440039c60b1b56ed30c9148e">lumps</a>[<a class="code hl_define" href="model__vbsp_8h.html#ad2b6dc61860c0ab82a7d99ee1135279f">HL2LUMP_ENTITIES</a>].<a class="code hl_variable" href="structhl2lump__t.html#ae026e2535bcafe994af20da9af6cac95">fileofs</a>);</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structhl2dheader__t.html#a495c4715440039c60b1b56ed30c9148e">lumps</a>[<a class="code hl_define" href="model__vbsp_8h.html#ad2b6dc61860c0ab82a7d99ee1135279f">HL2LUMP_ENTITIES</a>].<a class="code hl_variable" href="structhl2lump__t.html#a0711c879e064aaefaf6d1f7fcb8060fb">filelen</a>);</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;VBSP%i&quot;</span>, <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(((<span class="keywordtype">int</span> *)<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>)[1]));</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>            }</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(desc, <span class="keyword">sizeof</span>(desc), <span class="stringliteral">&quot;unknown%i&quot;</span>, <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>));</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entfilename</a>, t-&gt;<a class="code hl_variable" href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">filenames</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entfilename</a>));</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entfilename</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entfilename</a>) - 4, <span class="stringliteral">&quot;.ent&quot;</span>, 5);</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>            entities = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entfilename</a>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>            <span class="keywordflow">if</span> (!entities &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> &gt;= 10)</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>            {</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>                <a class="code hl_function" href="fs_8c.html#a695442a3ff4506082973bc053c1ec983">FS_Seek</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpofs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SEEK_SET</a>);</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>                entities = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a35deb8ef816a08fb1bc8feac8db020c5">Z_Malloc</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a> + 1);</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>                <a class="code hl_function" href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, entities, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumplen</a>);</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>            }</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>            <span class="keywordflow">if</span> (entities)</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>            {</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>                <span class="comment">// if there are entities to parse, a missing message key just</span></div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>                <span class="comment">// means there is no title, so clear the message string now</span></div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>                message[0] = 0;</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = entities;</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>                <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>                {</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;}&#39;</span>)</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>                    <span class="comment">// skip leading whitespace</span></div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] &amp;&amp; <a class="code hl_define" href="qdefs_8h.html#a4e301d35bcc309254e72cb99af785ce5">ISWHITESPACE</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>]);<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++);</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keyname</a>) - 1 &amp;&amp; <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>] &amp;&amp; !<a class="code hl_define" href="qdefs_8h.html#a4e301d35bcc309254e72cb99af785ce5">ISWHITESPACE</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>]);<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>++)</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keyname</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>] = <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>];</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keyname</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>] = 0;</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>                        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;key: %s %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keyname</a>, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">keyname</a>, <span class="stringliteral">&quot;message&quot;</span>))</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>                    {</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>                        <span class="comment">// get the message contents</span></div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(message, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(message));</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>                    }</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>                }</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>            }</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>        }</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>        <span class="keywordflow">if</span> (entities)</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>            <a class="code hl_define" href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a>(entities);</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>)</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>            <a class="code hl_function" href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>);</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>        *(t-&gt;<a class="code hl_variable" href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">filenames</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]+len[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]+5) = 0;</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%16s (%-8s) %s\n&quot;</span>, t-&gt;<a class="code hl_variable" href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">filenames</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]+5, desc, message);</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>    }</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>    <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>    <span class="keywordflow">for</span>(p=<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a>;p&lt;<a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>;p++)</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>    {</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = *(t-&gt;<a class="code hl_variable" href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">filenames</a>[0]+5+p);</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> == 0)</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>            <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endcomplete</a>;</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=1;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;t-&gt;<a class="code hl_variable" href="structfssearch__t.html#acf25e45394beadf778f0ad46a16da534">numfilenames</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>            <span class="keywordflow">if</span>(*(t-&gt;<a class="code hl_variable" href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">filenames</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]+5+p) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endcomplete</a>;</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>    }</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endcomplete</a>:</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>    <span class="keywordflow">if</span>(p &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">completedname</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">completednamebufferlength</a> &gt; 0)</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>    {</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">completedname</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">completednamebufferlength</a>);</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">completedname</a>, (t-&gt;<a class="code hl_variable" href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">filenames</a>[0]+5), <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(p, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">completednamebufferlength</a> - 1));</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>    }</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>    <a class="code hl_define" href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a>(len);</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>    <a class="code hl_function" href="fs_8c.html#a507c1fe37a20105eb2c08896f0d399a1">FS_FreeSearch</a>(t);</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>    <span class="keywordflow">return</span> p &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">o</a>;</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>}</div>
</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span> </div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span><span class="comment">/*</span></div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span><span class="comment">    Con_DisplayList</span></div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span><span class="comment"></span> </div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span><span class="comment">    New function for tab-completion system</span></div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span><span class="comment">    Added by EvilTypeGuy</span></div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span><span class="comment">    MEGA Thanks to Taniwha</span></div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span><span class="comment"></span> </div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen02292" data-start="{" data-end="}">
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"><a class="line" href="console_8c.html#af27143432d3a889ef925e8b689e59f1b"> 2292</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#af27143432d3a889ef925e8b689e59f1b">Con_DisplayList</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> **list)</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>{</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, pos = 0, len = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> = 0, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = (<a class="code hl_variable" href="console_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a> - 4);</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> **<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walk</a> = list;</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span> </div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>    <span class="keywordflow">while</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walk</a>) {</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>        len = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walk</a>);</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>        <span class="keywordflow">if</span> (len &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>)</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> = len;</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walk</a>++;</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>    }</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> += 1;</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span> </div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>    <span class="keywordflow">while</span> (*list) {</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>        len = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(*list);</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>        <span class="keywordflow">if</span> (pos + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> &gt;= <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>) {</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>            pos = 0;</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>        }</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span> </div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(*list);</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> - len); <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span> </div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>        pos += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>;</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>        list++;</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>    }</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span> </div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>    <span class="keywordflow">if</span> (pos)</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>}</div>
</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span> </div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span> </div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span><span class="comment">// Now it becomes TRICKY :D --blub</span></div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"><a class="line" href="console_8c.html#ad337fca62356ff14bd58a3ea8b78b6c6"> 2326</a></span><span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="console_8c.html#ad337fca62356ff14bd58a3ea8b78b6c6">Nicks_list</a>[<a class="code hl_define" href="qdefs_8h.html#aed8574780769dc8889d87ccf4076eb4d">MAX_SCOREBOARD</a>][<a class="code hl_define" href="qdefs_8h.html#abd087fbdacf85b4c7bbd6936c5460ff9">MAX_SCOREBOARDNAME</a>]; <span class="comment">// contains the nicks with colors and all that</span></div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"><a class="line" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a"> 2327</a></span><span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[<a class="code hl_define" href="qdefs_8h.html#aed8574780769dc8889d87ccf4076eb4d">MAX_SCOREBOARD</a>][<a class="code hl_define" href="qdefs_8h.html#abd087fbdacf85b4c7bbd6936c5460ff9">MAX_SCOREBOARDNAME</a>];  <span class="comment">// sanitized list for completion when there are other possible matches.</span></div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span><span class="comment">// means: when somebody uses a cvar&#39;s name as his name, we won&#39;t ever get his colors in there...</span></div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"><a class="line" href="console_8c.html#ac75f89e15adebda575497ec4d3739cd4"> 2329</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="console_8c.html#ac75f89e15adebda575497ec4d3739cd4">Nicks_offset</a>[<a class="code hl_define" href="qdefs_8h.html#aed8574780769dc8889d87ccf4076eb4d">MAX_SCOREBOARD</a>]; <span class="comment">// when nicks use a space, we need this to move the completion list string starts to avoid invalid memcpys</span></div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"><a class="line" href="console_8c.html#ab2fa7f1b5ab09ffb42bff666deb6e179"> 2330</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="console_8c.html#ab2fa7f1b5ab09ffb42bff666deb6e179">Nicks_matchpos</a>;</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span> </div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span><span class="comment">// co against &lt;&lt;:BLASTER:&gt;&gt; is true!?</span></div>
<div class="foldopen" id="foldopen02333" data-start="{" data-end="}">
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"><a class="line" href="console_8c.html#ac188062ec5460881df372e292695fb68"> 2333</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#ac188062ec5460881df372e292695fb68">Nicks_strncasecmp_nospaces</a>(<span class="keywordtype">char</span> *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <span class="keywordtype">char</span> *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a_len</a>)</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>{</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>    <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a_len</a>)</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>    {</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>))</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>        {</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>            <span class="keywordflow">if</span>(*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> == 0)</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>            --<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a_len</a>;</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>            ++<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>;</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>            ++<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>        }</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>        <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>        <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>)</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>        <span class="keywordflow">if</span>(*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>            <span class="keywordflow">return</span> (*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>) ? -1 : 1;</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>        <span class="keywordflow">if</span>(*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>            ++<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>            <span class="keywordflow">return</span> (*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>) ? -1 : 1;</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>    }</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>}</div>
</div>
<div class="foldopen" id="foldopen02359" data-start="{" data-end="}">
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"><a class="line" href="console_8c.html#a4a6d5a098bbaaa14336dcb68b3fa773b"> 2359</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#a4a6d5a098bbaaa14336dcb68b3fa773b">Nicks_strncasecmp</a>(<span class="keywordtype">char</span> *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <span class="keywordtype">char</span> *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a_len</a>)</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>{</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space_char</a>;</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>    <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a54752c5055971ff2d8395e99b15afc20">NICKS_ALPHANUMERICS_ONLY</a>))</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>    {</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a30fd640d02642add01ccd0d793bd8e19">NICKS_NO_SPACES</a>)</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="console_8c.html#ac188062ec5460881df372e292695fb68">Nicks_strncasecmp_nospaces</a>(<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a_len</a>);</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncasecmp</a>(<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a_len</a>);</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>    }</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span> </div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space_char</a> = (<a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a30fd640d02642add01ccd0d793bd8e19">NICKS_NO_SPACES</a>) ? <span class="charliteral">&#39;a&#39;</span> : <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span> </div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>    <span class="comment">// ignore non alphanumerics of B</span></div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>    <span class="comment">// if A contains a non-alphanumeric, B must contain it as well though!</span></div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>    <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a_len</a>)</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>    {</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>        <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alnum_a</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alnum_b</a>;</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span> </div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>))</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>        {</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>            <span class="keywordflow">if</span>(*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> == 0) <span class="comment">// end of both strings, they&#39;re equal</span></div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>            --<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a_len</a>;</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>            ++<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>;</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>            ++<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>        }</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>        <span class="comment">// not equal, end of one string?</span></div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>        <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>        <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>)</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>        <span class="comment">// ignore non alphanumerics</span></div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alnum_a</a> = ( (*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt;= <span class="charliteral">&#39;z&#39;</span>) || (*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt;= <span class="charliteral">&#39;Z&#39;</span>) || (*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt;= <span class="charliteral">&#39;9&#39;</span>) || *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space_char</a>);</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alnum_b</a> = ( (*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &lt;= <span class="charliteral">&#39;z&#39;</span>) || (*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &lt;= <span class="charliteral">&#39;Z&#39;</span>) || (*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &lt;= <span class="charliteral">&#39;9&#39;</span>) || *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space_char</a>);</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alnum_a</a>) <span class="comment">// b must contain this</span></div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>            <span class="keywordflow">return</span> (*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>) ? -1 : 1;</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alnum_b</a>)</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>            ++<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>        <span class="comment">// otherwise, both are alnum, they&#39;re just not equal, return the appropriate number</span></div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>            <span class="keywordflow">return</span> (*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>) ? -1 : 1;</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>    }</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>}</div>
</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span> </div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span> </div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span><span class="comment">/* Nicks_CompleteCountPossible</span></div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span><span class="comment"></span> </div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span><span class="comment">   Count the number of possible nicks to complete</span></div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen02410" data-start="{" data-end="}">
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"><a class="line" href="console_8c.html#a5ba90636effc694cb897af330e7e8b6a"> 2410</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#a5ba90636effc694cb897af330e7e8b6a">Nicks_CompleteCountPossible</a>(<span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <span class="keywordtype">int</span> pos, <span class="keywordtype">char</span> *s, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isCon</a>)</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>{</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_define" href="qdefs_8h.html#abd087fbdacf85b4c7bbd6936c5460ff9">MAX_SCOREBOARDNAME</a>];</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, p;</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>;</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>;</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = 0;</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span> </div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="console_8c.html#ab0fba76b1a508af0844d7795159bbe54">con_nickcompletion</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span> </div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>    <span class="comment">// changed that to 1</span></div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[0])<span class="comment">// || !line[1]) // we want at least... 2 written characters</span></div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span> </div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a86c0d436e5ea559d44b857ac77e5218c">maxclients</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>    {</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>        p = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5af0ce993d147b541f367af584bac085">scores</a>[p].<a class="code hl_variable" href="structscoreboard__t.html#a5d9917fcab74d53e05b934c1c95f680e">name</a>[0])</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span> </div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>        <a class="code hl_function" href="console_8c.html#adcade1efc869f19ff7f2f26152574e05">SanitizeString</a>(<a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5af0ce993d147b541f367af584bac085">scores</a>[p].<a class="code hl_variable" href="structscoreboard__t.html#a5d9917fcab74d53e05b934c1c95f680e">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>        <span class="comment">//Con_Printf(&quot; ^2Sanitized: ^7%s -&gt; %s&quot;, cl.scores[p].name, name);</span></div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span> </div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[0])</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span> </div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a> = -1;</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a> = pos - 1; <span class="comment">// no need for a minimum of characters :)</span></div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span> </div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a> &gt;= 0)</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>        {</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>-1] != <span class="charliteral">&#39; &#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>-1] != <span class="charliteral">&#39;;&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>-1] != <span class="charliteral">&#39;\&quot;&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>-1] != <span class="charliteral">&#39;\&#39;&#39;</span>)</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>            {</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>                <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isCon</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a> == 1)) <span class="comment">// console start</span></div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>                {</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>                    --<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>;</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>                }</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>            }</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isCon</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a> == 0)</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="console_8c.html#a4a6d5a098bbaaa14336dcb68b3fa773b">Nicks_strncasecmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, pos-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>) == 0)</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>;</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>            --<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">spos</a>;</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>        }</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a> &lt; 0)</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>        <span class="comment">//Con_Printf(&quot;Possible match: %s|%s\n&quot;, cl.scores[p].name, name);</span></div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="console_8c.html#ad337fca62356ff14bd58a3ea8b78b6c6">Nicks_list</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>], <a class="code hl_variable" href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a>.<a class="code hl_variable" href="structclient__state__t.html#a5af0ce993d147b541f367af584bac085">scores</a>[p].<a class="code hl_variable" href="structscoreboard__t.html#a5d9917fcab74d53e05b934c1c95f680e">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#ad337fca62356ff14bd58a3ea8b78b6c6">Nicks_list</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>]));</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span> </div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>        <span class="comment">// the sanitized list</span></div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>], <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>]));</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>        {</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>            <a class="code hl_variable" href="console_8c.html#ab2fa7f1b5ab09ffb42bff666deb6e179">Nicks_matchpos</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>;</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>        }</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span> </div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>        <a class="code hl_variable" href="console_8c.html#ac75f89e15adebda575497ec4d3739cd4">Nicks_offset</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>] = s - (&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>]);</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>        <span class="comment">//Con_Printf(&quot;offset for %s: %i\n&quot;, name, Nicks_offset[count]);</span></div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span> </div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>        ++<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>    }</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>}</div>
</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span> </div>
<div class="foldopen" id="foldopen02476" data-start="{" data-end="}">
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"><a class="line" href="console_8c.html#aafd38b231ce187bff88af9fbf7fba222"> 2476</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aafd38b231ce187bff88af9fbf7fba222">Cmd_CompleteNicksPrint</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>{</div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_variable" href="console_8c.html#ad337fca62356ff14bd58a3ea8b78b6c6">Nicks_list</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>}</div>
</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span> </div>
<div class="foldopen" id="foldopen02483" data-start="{" data-end="}">
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"><a class="line" href="console_8c.html#a85909920217ae8f2e78f1bc2e2255f6a"> 2483</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a85909920217ae8f2e78f1bc2e2255f6a">Nicks_CutMatchesNormal</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>{</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>    <span class="comment">// cut match 0 down to the longest possible completion</span></div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>    c = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0]) - 1;</div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>    {</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) - 1;</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> &lt; c)</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>            c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span> </div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> &lt;= c; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>]) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>]))</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>            {</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>                c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-1;</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>            }</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>    }</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>    <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][c+1] = 0;</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>    <span class="comment">//Con_Printf(&quot;List0: %s\n&quot;, Nicks_sanlist[0]);</span></div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>}</div>
</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span> </div>
<div class="foldopen" id="foldopen02506" data-start="{" data-end="}">
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"><a class="line" href="console_8c.html#a27736645dc97afa2b7c34d6e9696f8cd"> 2506</a></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#a27736645dc97afa2b7c34d6e9696f8cd">Nicks_strcleanlen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s)</div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>{</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = 0;</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>    <span class="keywordflow">while</span>(*s)</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>    {</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>        <span class="keywordflow">if</span>( (*s &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; *s &lt;= <span class="charliteral">&#39;z&#39;</span>) ||</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>            (*s &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; *s &lt;= <span class="charliteral">&#39;Z&#39;</span>) ||</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>            (*s &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *s &lt;= <span class="charliteral">&#39;9&#39;</span>) ||</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>            *s == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>            ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>        ++s;</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>    }</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>}</div>
</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span> </div>
<div class="foldopen" id="foldopen02521" data-start="{" data-end="}">
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"><a class="line" href="console_8c.html#ac2e7ceec067b3a9c025a16b848e2dcd7"> 2521</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#ac2e7ceec067b3a9c025a16b848e2dcd7">Nicks_CutMatchesAlphaNumeric</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>{</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>    <span class="comment">// cut match 0 down to the longest possible completion</span></div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>[<span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0])];</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space_char</a> = (<a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a30fd640d02642add01ccd0d793bd8e19">NICKS_NO_SPACES</a>) ? <span class="charliteral">&#39;a&#39;</span> : <span class="charliteral">&#39; &#39;</span>; <span class="comment">// yes this is correct, we want NO spaces when no spaces</span></div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span> </div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>    c = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0]);</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)c; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>    {</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>        <span class="keywordflow">if</span>( (<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;= <span class="charliteral">&#39;z&#39;</span>) ||</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>            (<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;= <span class="charliteral">&#39;Z&#39;</span>) ||</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>            (<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;= <span class="charliteral">&#39;9&#39;</span>) || <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space_char</a>) <span class="comment">// this is what&#39;s COPIED</span></div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>        {</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>++] = <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>        }</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>    }</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>] = 0;</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span> </div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>    {</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>        <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>;</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>        <span class="keywordflow">while</span>(1)</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>        {</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>            <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>            <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>)</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span>            {</div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>                *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = 0;</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>            }</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>))</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>            {</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>                ++<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>;</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>                ++<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>            }</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>            <span class="keywordflow">if</span>( (*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &lt;= <span class="charliteral">&#39;z&#39;</span>) || (*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &lt;= <span class="charliteral">&#39;Z&#39;</span>) || (*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> &lt;= <span class="charliteral">&#39;9&#39;</span>) || *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space_char</a>)</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>            {</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>                <span class="comment">// b is alnum, so cut</span></div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>                *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = 0;</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>            }</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>            ++<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>        }</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>    }</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>    <span class="comment">// Just so you know, if cutmatchesnormal doesn&#39;t kill the first entry, then even the non-alnums fit</span></div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>    <a class="code hl_function" href="console_8c.html#a85909920217ae8f2e78f1bc2e2255f6a">Nicks_CutMatchesNormal</a>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>    <span class="comment">//if(!Nicks_sanlist[0][0])</span></div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="console_8c.html#a27736645dc97afa2b7c34d6e9696f8cd">Nicks_strcleanlen</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0]) &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>))</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>    {</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>        <span class="comment">// if the clean sanitized one is longer than the current one, use it, it has crap chars which definitely are in there</span></div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0]));</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>    }</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span>}</div>
</div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span> </div>
<div class="foldopen" id="foldopen02580" data-start="{" data-end="}">
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"><a class="line" href="console_8c.html#a08192c48d2f4d37c8d84363cfe1bf9da"> 2580</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#a08192c48d2f4d37c8d84363cfe1bf9da">Nicks_CutMatchesNoSpaces</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>{</div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>    <span class="comment">// cut match 0 down to the longest possible completion</span></div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>[<span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0])];</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, *<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span> </div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span>    c = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0]);</div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)c; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>    {</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39; &#39;</span>) <span class="comment">// here it&#39;s what&#39;s NOT copied</span></div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>        {</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>++] = <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>        }</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>    }</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>] = 0;</div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span> </div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>    {</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>        <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>;</div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span>        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span>        <span class="keywordflow">while</span>(1)</div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>        {</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>            <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>            <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>)</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>            {</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>                *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = 0;</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>            }</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>))</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>            {</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>                ++<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>;</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>                ++<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span>            }</div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>            <span class="keywordflow">if</span>(*<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> != <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>            {</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>                *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = 0;</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>            }</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>            ++<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>        }</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>    }</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>    <span class="comment">// Just so you know, if cutmatchesnormal doesn&#39;t kill the first entry, then even the non-alnums fit</span></div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>    <a class="code hl_function" href="console_8c.html#a85909920217ae8f2e78f1bc2e2255f6a">Nicks_CutMatchesNormal</a>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>    <span class="comment">//if(!Nicks_sanlist[0][0])</span></div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>    <span class="comment">//Con_Printf(&quot;TS: %s\n&quot;, tempstr);</span></div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="console_8c.html#a27736645dc97afa2b7c34d6e9696f8cd">Nicks_strcleanlen</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0]) &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>))</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>    {</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span>        <span class="comment">// if the clean sanitized one is longer than the current one, use it, it has crap chars which definitely are in there</span></div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempstr</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[0]));</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>    }</div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>}</div>
</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span> </div>
<div class="foldopen" id="foldopen02636" data-start="{" data-end="}">
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"><a class="line" href="console_8c.html#aaa5fb68a1b9093313f61befa506bb9b7"> 2636</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="console_8c.html#aaa5fb68a1b9093313f61befa506bb9b7">Nicks_CutMatches</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>{</div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a54752c5055971ff2d8395e99b15afc20">NICKS_ALPHANUMERICS_ONLY</a>)</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>        <a class="code hl_function" href="console_8c.html#ac2e7ceec067b3a9c025a16b848e2dcd7">Nicks_CutMatchesAlphaNumeric</a>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a30fd640d02642add01ccd0d793bd8e19">NICKS_NO_SPACES</a>)</div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>        <a class="code hl_function" href="console_8c.html#a08192c48d2f4d37c8d84363cfe1bf9da">Nicks_CutMatchesNoSpaces</a>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>        <a class="code hl_function" href="console_8c.html#a85909920217ae8f2e78f1bc2e2255f6a">Nicks_CutMatchesNormal</a>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>}</div>
</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span> </div>
<div class="foldopen" id="foldopen02646" data-start="{" data-end="}">
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"><a class="line" href="console_8c.html#ac12f10a0eebe569e6a010b254011cf3f"> 2646</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> **<a class="code hl_function" href="console_8c.html#ac12f10a0eebe569e6a010b254011cf3f">Nicks_CompleteBuildList</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>{</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> **<a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bpos</a> = 0;</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>    <span class="comment">// the list is freed by Con_CompleteCommandLine, so create a char**</span></div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span> **)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> *) + <span class="keyword">sizeof</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *));</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span> </div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>    <span class="keywordflow">for</span>(; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bpos</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bpos</a>)</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>        <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bpos</a>] = <a class="code hl_variable" href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bpos</a>] + <a class="code hl_variable" href="console_8c.html#ac75f89e15adebda575497ec4d3739cd4">Nicks_offset</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bpos</a>];</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span> </div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>    <a class="code hl_function" href="console_8c.html#aaa5fb68a1b9093313f61befa506bb9b7">Nicks_CutMatches</a>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span> </div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>    <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bpos</a>] = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a>;</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>}</div>
</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span> </div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span><span class="comment">/*</span></div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span><span class="comment">    Nicks_AddLastColor</span></div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span><span class="comment">    Restores the previous used color, after the autocompleted name.</span></div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen02666" data-start="{" data-end="}">
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"><a class="line" href="console_8c.html#a409fa098f3bb71bc5b73402ebd1b9c97"> 2666</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#a409fa098f3bb71bc5b73402ebd1b9c97">Nicks_AddLastColor</a>(<span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <span class="keywordtype">int</span> pos)</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>{</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quote_added</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>;</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_define" href="draw_8h.html#adb77a905f94280bd1251a75e005ab496">STRING_COLOR_DEFAULT</a> + <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = 0, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = 0, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = 0;</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span> </div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a8727d646d3291d247ea451bf99f199df">NICKS_ADD_QUOTE</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="console_8c.html#ab2fa7f1b5ab09ffb42bff666deb6e179">Nicks_matchpos</a>-1] == <span class="charliteral">&#39;\&quot;&#39;</span>)</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>    {</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>        <span class="comment">// we&#39;ll have to add a quote :)</span></div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>        <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos++] = <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quote_added</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>    }</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span> </div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>    <span class="keywordflow">if</span>((!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quote_added</a> &amp;&amp; <a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a0c2578e616393e3f31b915f266afd1f2">NICKS_ADD_COLOR</a>) || <a class="code hl_variable" href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp; <a class="code hl_define" href="console_8c.html#a782808907db5d7ebcae51ff70936caff">NICKS_FORCE_COLOR</a>)</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>    {</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span>        <span class="comment">// add color when no quote was added, or when flags &amp;4?</span></div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span>        <span class="comment">// find last color</span></div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a> = <a class="code hl_variable" href="console_8c.html#ab2fa7f1b5ab09ffb42bff666deb6e179">Nicks_matchpos</a>-1; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a> &gt;= 0; --<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>)</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>        {</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>] == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>)</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>            {</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isdigit</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+1]) )</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>                {</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>                    <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+1];</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>                }</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+1] == <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a>)</div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>                {</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span>                    <span class="keywordflow">if</span> ( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+2]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+3]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+4]) )</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>                    {</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+2];</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+3];</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">match</a>+4];</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>                        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = -1;</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>                    }</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>                }</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>            }</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>        }</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quote_added</a>)</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>        {</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>            <span class="keywordflow">if</span>( pos &gt;= 2 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos-2] == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isdigit</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos-1]) ) <span class="comment">// when thes use &amp;4</span></div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>                pos -= 2;</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pos &gt;= 5 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos-5] == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos-4] == <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a></div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>                     &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos-3]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos-2]) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isxdigit</a>(<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos-1]) )</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>                pos -= 5;</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>        }</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>        <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos++] = <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>;</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> == -1)</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>        {</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>            <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos++] = <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a>;</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>            <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos++] = <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>;</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>            <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos++] = <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>;</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>            <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos++] = <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>        }</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>            <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>[pos++] = <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>;</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>    }</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>    <span class="keywordflow">return</span> pos;</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>}</div>
</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span> </div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span><span class="comment">/*</span></div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span><span class="comment">    Con_CompleteCommandLine</span></div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span><span class="comment"></span> </div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span><span class="comment">    New function for tab-completion system</span></div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span><span class="comment">    Added by EvilTypeGuy</span></div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span><span class="comment">    Thanks to Fett erich@heintz.com</span></div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span><span class="comment">    Thanks to taniwha</span></div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span><span class="comment">    Enhanced to tab-complete map names by [515]</span></div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span><span class="comment"></span> </div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen02738" data-start="{" data-end="}">
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"><a class="line" href="console_8c.html#aa4dfce592919a5d4ec1937cd065c2aa9"> 2738</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="console_8c.html#aa4dfce592919a5d4ec1937cd065c2aa9">Con_CompleteCommandLine</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>{</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *text = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>    <span class="keywordtype">char</span> *s;</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> **list[4] = {0, 0, 0, 0};</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>    <span class="keywordtype">char</span> s2[512];</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">command</a>[512];</div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>    <span class="keywordtype">int</span> c, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>, pos, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>    <span class="keywordtype">int</span> <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>; <span class="comment">// nicks --blub</span></div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a>;</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span> </div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>;</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linestart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>;</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a>;</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>    {</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> = <a class="code hl_variable" href="keys_8c.html#ab7f45c2a8b99637d13968926e75916af">key_line</a>;</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = <a class="code hl_variable" href="keys_8c.html#a5eb44539079166018cc9bc3f8a257a2e">key_linepos</a>;</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="keys_8c.html#ab7f45c2a8b99637d13968926e75916af">key_line</a>);</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linestart</a> = 1;</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>    }</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>    {</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> = <a class="code hl_variable" href="keys_8c.html#a8b4736750c9296fb08952a514f2a6836">chat_buffer</a>;</div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = <a class="code hl_variable" href="keys_8c.html#a491d45305a5c9f8e96a29a620fd715dd">chat_bufferpos</a>;</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a> = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="keys_8c.html#a8b4736750c9296fb08952a514f2a6836">chat_buffer</a>);</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linestart</a> = 0;</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>    }</div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span> </div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>    <span class="comment">//find what we want to complete</span></div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>    pos = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>;</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>    <span class="keywordflow">while</span>(--pos &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linestart</a>)</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>    {</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[pos];</div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> == <span class="charliteral">&#39;\&quot;&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> == <span class="charliteral">&#39;;&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> == <span class="charliteral">&#39; &#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> == <span class="charliteral">&#39;\&#39;&#39;</span>)</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>    }</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>    pos++;</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span> </div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>    s = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> + pos;</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(s2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>, <span class="keyword">sizeof</span>(s2)); <span class="comment">//save chars after cursor</span></div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>] = 0; <span class="comment">//hide them</span></div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span> </div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>    c = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a> = 0;</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nicks</a>;</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span> </div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> + 1, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space</a> &amp;&amp; pos == (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>) + 1)</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>    {</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>        <span class="comment">// adding 1 to line drops the leading ]</span></div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>        <a class="code hl_function" href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">command</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">command</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> + 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">space</a> - (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> + 1));</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span> </div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a> = <a class="code hl_function" href="cvar_8c.html#a761a4afd6269c77240de57fc3d456584">Cvar_VariableString</a>(cmd-&gt;<a class="code hl_variable" href="structcmd__state__t.html#acf27484efd239a330ab447b51b78cdb0">cvars</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;con_completion_%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">command</a>), <a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>); <span class="comment">// TODO maybe use a better place for this?</span></div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a> &amp;&amp; !*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a>)</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">// get rid of the empty string</span></div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span> </div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">command</a>, <span class="stringliteral">&quot;map&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">command</a>, <span class="stringliteral">&quot;changelevel&quot;</span>) || (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a> &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a>, <span class="stringliteral">&quot;map&quot;</span>)))</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>        {</div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>            <span class="comment">//maps search</span></div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>            <span class="keywordtype">char</span> t[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="console_8c.html#a308ed0b467e439bea4b1cf0d142becca">GetMapList</a>(s, t, <span class="keyword">sizeof</span>(t)))</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>            {</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>                <span class="comment">// first move the cursor</span></div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(t) - (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(s);</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span> </div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>                <span class="comment">// and now do the actual work</span></div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>                *s = 0;</div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>                <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, t, <a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>);</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>                <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, s2, <a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>); <span class="comment">//add back chars after cursor</span></div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span> </div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>                <span class="comment">// and fix the cursor</span></div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> &gt; (<span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>))</div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>);</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>            }</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>;</div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>        }</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span>        {</div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a>)</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>            {</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>                <span class="keywordtype">char</span> t[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>                <a class="code hl_struct" href="structstringlist__t.html">stringlist_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>;</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span> </div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span>                <span class="comment">// Usage:</span></div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>                <span class="comment">//   // store completion patterns (space separated) for command foo in con_completion_foo</span></div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>                <span class="comment">//   set con_completion_foo &quot;foodata/*.foodefault *.foo&quot;</span></div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>                <span class="comment">//   foo &lt;TAB&gt;</span></div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span>                <span class="comment">//</span></div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>                <span class="comment">// Note: patterns with slash are always treated as absolute</span></div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>                <span class="comment">// patterns; patterns without slash search in the innermost</span></div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span>                <span class="comment">// directory the user specified. There is no way to &quot;complete into&quot;</span></div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>                <span class="comment">// a directory as of now, as directories seem to be unknown to the</span></div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>                <span class="comment">// FS subsystem.</span></div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>                <span class="comment">//</span></div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>                <span class="comment">// Examples:</span></div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>                <span class="comment">//   set con_completion_playermodel &quot;models/player/*.zym models/player/*.md3 models/player/*.psk models/player/*.dpm&quot;</span></div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>                <span class="comment">//   set con_completion_playdemo &quot;*.dem&quot;</span></div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>                <span class="comment">//   set con_completion_play &quot;*.wav *.ogg&quot;</span></div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>                <span class="comment">//</span></div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>                <span class="comment">// TODO somehow add support for directories; these shall complete</span></div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>                <span class="comment">// to their name + an appended slash.</span></div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span> </div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>                <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>);</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>                <a class="code hl_function" href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>);</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>                <span class="keywordflow">while</span>(<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patterns</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>                {</div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>                    <a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>                    {</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>                    }</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span>                    {</div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>                        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(s, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>)</div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span>                        {</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>                            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(t, s, <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<span class="keyword">sizeof</span>(t), (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a> - s + 2))); <span class="comment">// + 2, because I want to include the slash</span></div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>                            <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(t, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(t));</div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a>(t, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>                        }</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>                    }</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>                    {</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>                        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;numfilenames; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>                            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], s, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(s)))</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>                                <span class="keywordflow">if</span>(<a class="code hl_function" href="fs_8c.html#a7b0e1a268dfbcc16a3271a7c66938f82">FS_FileType</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) == <a class="code hl_define" href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a>)</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>                                    <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>                        <a class="code hl_function" href="fs_8c.html#a507c1fe37a20105eb2c08896f0d399a1">FS_FreeSearch</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>);</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>                    }</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>                }</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span> </div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>                <span class="comment">// In any case, add directory names</span></div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>                {</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>                    <a class="code hl_struct" href="structfssearch__t.html">fssearch_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>;</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strrchr</a>(s, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a>)</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>                    {</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(t, s, <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<span class="keyword">sizeof</span>(t), (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slash</a> - s + 2))); <span class="comment">// + 2, because I want to include the slash</span></div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>                        <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(t, <span class="stringliteral">&quot;*&quot;</span>, <span class="keyword">sizeof</span>(t));</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a>(t, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>                    }</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a> = <a class="code hl_function" href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a>(<span class="stringliteral">&quot;*&quot;</span>, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>)</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>                    {</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span>                        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;numfilenames; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>                            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], s, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(s)))</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>                                <span class="keywordflow">if</span>(<a class="code hl_function" href="fs_8c.html#a7b0e1a268dfbcc16a3271a7c66938f82">FS_FileType</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) == <a class="code hl_define" href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a>)</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>                                    <a class="code hl_function" href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>-&gt;filenames[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>                        <a class="code hl_function" href="fs_8c.html#a507c1fe37a20105eb2c08896f0d399a1">FS_FreeSearch</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">search</a>);</div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>                    }</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>                }</div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span> </div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.numstrings &gt; 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.numstrings &gt; 0)</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>                {</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *p, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>;</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchchars</a>;</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.numstrings == 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.numstrings == 1)</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>                    {</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>                        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(t, <span class="keyword">sizeof</span>(t), <span class="stringliteral">&quot;%s/&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.strings[0]);</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>                    }</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.numstrings == 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.numstrings == 0)</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>                    {</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>                        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(t, <span class="keyword">sizeof</span>(t), <span class="stringliteral">&quot;%s &quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.strings[0]);</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span>                    }</div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>                    {</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>                        <a class="code hl_function" href="filematch_8c.html#a3462b7b4d7253c46111da15a55b31906">stringlistsort</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>, <span class="keyword">true</span>); <span class="comment">// dirbuf is already sorted</span></div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>                        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;\n%i possible filenames\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.numstrings + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.numstrings);</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>                        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.numstrings; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>                        {</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>                            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;^4%s^7/\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.strings[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span>                        }</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>                        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.numstrings; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>                        {</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>                            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.strings[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>                        }</div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchchars</a> = <span class="keyword">sizeof</span>(t) - 1;</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.numstrings &gt; 0)</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>                        {</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>                            p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.strings[0];</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.numstrings - 1];</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>                            <span class="keywordflow">for</span>(; *p &amp;&amp; *p == *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>; ++p, ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>);</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchchars</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(p - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.strings[0]);</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>                        }</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span>                        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.numstrings &gt; 0)</div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>                        {</div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>                            p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.strings[0];</div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.strings[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.numstrings - 1];</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span>                            <span class="keywordflow">for</span>(; *p &amp;&amp; *p == *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>; ++p, ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q</a>);</div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchchars</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchchars</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(p - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>.strings[0]));</div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>                        }</div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span>                        <span class="comment">// now p points to the first non-equal character, or to the end</span></div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>                        <span class="comment">// of resultbuf.strings[0]. We want to append the characters</span></div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>                        <span class="comment">// from resultbuf.strings[0] to (not including) p as these are</span></div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>                        <span class="comment">// the unique prefix</span></div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>                        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(t, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>.numstrings &gt; 0 ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>).strings[0], <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">matchchars</a> + 1, <span class="keyword">sizeof</span>(t)));</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>                    }</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span> </div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>                    <span class="comment">// first move the cursor</span></div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> += (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(t) - (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(s);</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span> </div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>                    <span class="comment">// and now do the actual work</span></div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>                    *s = 0;</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>                    <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, t, <a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>);</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>                    <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, s2, <a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>); <span class="comment">//add back chars after cursor</span></div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span> </div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>                    <span class="comment">// and fix the cursor</span></div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> &gt; (<span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>))</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>);</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>                }</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>                <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultbuf</a>);</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>                <a class="code hl_function" href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dirbuf</a>);</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span> </div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>; <span class="comment">// bail out, when we complete for a command that wants a file name</span></div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>            }</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>        }</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>    }</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span> </div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>    <span class="comment">// Count number of possible matches and print them</span></div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span>    c = <a class="code hl_function" href="cmd_8c.html#a80568c442e21417636e091c822d20ea1">Cmd_CompleteCountPossible</a>(cmd, s);</div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span>    <span class="keywordflow">if</span> (c)</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>    {</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;\n%i possible command%s\n&quot;</span>, c, (c &gt; 1) ? <span class="stringliteral">&quot;s: &quot;</span> : <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>        <a class="code hl_function" href="cmd_8c.html#a1eca3cd923cd97bc861e6f5678c2135e">Cmd_CompleteCommandPrint</a>(cmd, s);</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>    }</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = <a class="code hl_function" href="cvar_8c.html#ae7d76b5ab4c55b1bab79148d8c2e5d01">Cvar_CompleteCountPossible</a>(cmd-&gt;<a class="code hl_variable" href="structcmd__state__t.html#acf27484efd239a330ab447b51b78cdb0">cvars</a>, s, <a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>);</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>)</div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span>    {</div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;\n%i possible variable%s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, (<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> &gt; 1) ? <span class="stringliteral">&quot;s: &quot;</span> : <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span>        <a class="code hl_function" href="cvar_8c.html#ae697a8adf0c37250780cbc821224b55b">Cvar_CompleteCvarPrint</a>(cmd-&gt;<a class="code hl_variable" href="structcmd__state__t.html#acf27484efd239a330ab447b51b78cdb0">cvars</a>, s, <a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>);</div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>    }</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>    <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_function" href="cmd_8c.html#ab258c9c075bffd0d374d682e762e279b">Cmd_CompleteAliasCountPossible</a>(cmd, s);</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)</div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>    {</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;\n%i possible alias%s\n&quot;</span>, <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &gt; 1) ? <span class="stringliteral">&quot;es: &quot;</span> : <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>        <a class="code hl_function" href="cmd_8c.html#a99325b3a6e73db8d1d5c20614f215447">Cmd_CompleteAliasPrint</a>(cmd, s);</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>    }</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span> </div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nicks</a>:</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>    <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_function" href="console_8c.html#a5ba90636effc694cb897af330e7e8b6a">Nicks_CompleteCountPossible</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>, s, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>);</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>)</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>    {</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;\n%i possible nick%s\n&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt; 1) ? <span class="stringliteral">&quot;s: &quot;</span> : <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>        <a class="code hl_function" href="console_8c.html#aafd38b231ce187bff88af9fbf7fba222">Cmd_CompleteNicksPrint</a>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>);</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>    }</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span> </div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>    <span class="keywordflow">if</span> (!(c + <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> + <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>))   <span class="comment">// No possible matches</span></div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>    {</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>        <span class="keywordflow">if</span>(s2[0])</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>], s2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>);</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>;</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>    }</div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span> </div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>    <span class="keywordflow">if</span> (c)</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>        text = *(list[0] = <a class="code hl_function" href="cmd_8c.html#a523014d5799c3529c3489b36af7a2570">Cmd_CompleteBuildList</a>(cmd, s));</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>)</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>        text = *(list[1] = <a class="code hl_function" href="cvar_8c.html#ab9b412b21e53647aece79a7ff6ade70d">Cvar_CompleteBuildList</a>(cmd-&gt;<a class="code hl_variable" href="structcmd__state__t.html#acf27484efd239a330ab447b51b78cdb0">cvars</a>, s, cmd-&gt;<a class="code hl_variable" href="structcmd__state__t.html#a79890d4d2b41bda30e9377b6ace934a3">cvars_flagsmask</a>));</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>        text = *(list[2] = <a class="code hl_function" href="cmd_8c.html#ab6ede010dcf26bf90ec40750eb292326">Cmd_CompleteAliasBuildList</a>(cmd, s));</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>)</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>    {</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>            text = *(list[3] = <a class="code hl_function" href="console_8c.html#ac12f10a0eebe569e6a010b254011cf3f">Nicks_CompleteBuildList</a>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>));</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>            text = *(<a class="code hl_function" href="console_8c.html#ac12f10a0eebe569e6a010b254011cf3f">Nicks_CompleteBuildList</a>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>));</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>    }</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span> </div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a> = (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(s);;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>++)</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>    {</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> **<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>            <span class="keywordflow">if</span> (list[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = list[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>++)</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>                    <span class="keywordflow">if</span> ((*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>] != text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>])</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>                        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>        <span class="comment">// all possible matches share this character, so we continue...</span></div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span>        <span class="keywordflow">if</span> (!text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>])</div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>        {</div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>            <span class="comment">// if all matches ended at the same position, stop</span></div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>            <span class="comment">// (this means there is only one match)</span></div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span>        }</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>    }</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>done:</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span> </div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>    <span class="comment">// prevent a buffer overrun by limiting cmd_len according to remaining space</span></div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a> - 1 - pos);</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span>    <span class="keywordflow">if</span> (text)</div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span>    {</div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = pos;</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>], text, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>);</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>;</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>        <span class="comment">// if there is only one match, add a space after it</span></div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>        <span class="keywordflow">if</span> (c + <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> + <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> == 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> &lt; (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a> - 1)</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>        {</div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>            <span class="keywordflow">if</span>(<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>)</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>            { <span class="comment">// was a nick, might have an offset, and needs colors ;) --blub</span></div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = pos - <a class="code hl_variable" href="console_8c.html#ac75f89e15adebda575497ec4d3739cd4">Nicks_offset</a>[0];</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="console_8c.html#ad337fca62356ff14bd58a3ea8b78b6c6">Nicks_list</a>[0]);</div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"> 3043</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a> - 3 - pos);</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span> </div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>] , <a class="code hl_variable" href="console_8c.html#ad337fca62356ff14bd58a3ea8b78b6c6">Nicks_list</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>);</div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmd_len</a>;</div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> &lt; (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a> - 7)) <span class="comment">// space for color code (^[0-9] or ^xrgb), space and \0</span></div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a> = <a class="code hl_function" href="console_8c.html#a409fa098f3bb71bc5b73402ebd1b9c97">Nicks_AddLastColor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>);</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span>            }</div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>++] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>        }</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>    }</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span> </div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>    <span class="comment">// use strlcat to avoid a buffer overrun</span></div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>] = 0;</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>    <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, s2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linesize</a>);</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span> </div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is_console</a>)</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>;</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span> </div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>    <span class="comment">// free the command, cvar, and alias lists</span></div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span>        <span class="keywordflow">if</span> (list[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>((<span class="keywordtype">void</span> *)list[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span> </div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linepos</a>;</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>}</div>
</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span> </div>
<div class="ttc" id="abspfile_8h_html_a7e26e3a5633ffba7c492d65875edcd87"><div class="ttname"><a href="bspfile_8h.html#a7e26e3a5633ffba7c492d65875edcd87">BSPVERSION</a></div><div class="ttdeci">#define BSPVERSION</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00029">bspfile.h:29</a></div></div>
<div class="ttc" id="abspfile_8h_html_af78b474026d21ee394064bae564d27de"><div class="ttname"><a href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a></div><div class="ttdeci">#define LUMP_ENTITIES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00039">bspfile.h:39</a></div></div>
<div class="ttc" id="acl__main_8c_html_aa07d17cda937753e8e976ea3c9c5c312"><div class="ttname"><a href="cl__main_8c.html#aa07d17cda937753e8e976ea3c9c5c312">cl</a></div><div class="ttdeci">client_state_t cl</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00117">cl_main.c:117</a></div></div>
<div class="ttc" id="acl__main_8c_html_ab4b4e0f12a72d330ee0869bdf1b372cd"><div class="ttname"><a href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a></div><div class="ttdeci">client_static_t cls</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00116">cl_main.c:116</a></div></div>
<div class="ttc" id="acl__screen_8c_html_a0c393948bb12a7b9a36321c206682738"><div class="ttname"><a href="cl__screen_8c.html#a0c393948bb12a7b9a36321c206682738">scr_conscroll2_y</a></div><div class="ttdeci">cvar_t scr_conscroll2_y</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00031">cl_screen.c:31</a></div></div>
<div class="ttc" id="acl__screen_8c_html_a4087bc0b5701ea142d59b177b9154e20"><div class="ttname"><a href="cl__screen_8c.html#a4087bc0b5701ea142d59b177b9154e20">scr_conbrightness</a></div><div class="ttdeci">cvar_t scr_conbrightness</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00025">cl_screen.c:25</a></div></div>
<div class="ttc" id="acl__screen_8c_html_a46d1772c17009ba9062f340650cf292a"><div class="ttname"><a href="cl__screen_8c.html#a46d1772c17009ba9062f340650cf292a">scr_conscroll2_x</a></div><div class="ttdeci">cvar_t scr_conscroll2_x</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00030">cl_screen.c:30</a></div></div>
<div class="ttc" id="acl__screen_8c_html_a6648c063f184d3048dfb8b9e982c7e02"><div class="ttname"><a href="cl__screen_8c.html#a6648c063f184d3048dfb8b9e982c7e02">scr_conscroll3_y</a></div><div class="ttdeci">cvar_t scr_conscroll3_y</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00033">cl_screen.c:33</a></div></div>
<div class="ttc" id="acl__screen_8c_html_a8302fcccec6a239b2211beaf7d1d400b"><div class="ttname"><a href="cl__screen_8c.html#a8302fcccec6a239b2211beaf7d1d400b">scr_conalphafactor</a></div><div class="ttdeci">cvar_t scr_conalphafactor</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00022">cl_screen.c:22</a></div></div>
<div class="ttc" id="acl__screen_8c_html_a95c303f88adef710d4ce605ab49e6413"><div class="ttname"><a href="cl__screen_8c.html#a95c303f88adef710d4ce605ab49e6413">scr_conalpha</a></div><div class="ttdeci">cvar_t scr_conalpha</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00021">cl_screen.c:21</a></div></div>
<div class="ttc" id="acl__screen_8c_html_aae1e9dbc9c56c9c7ce35b732f17acbe5"><div class="ttname"><a href="cl__screen_8c.html#aae1e9dbc9c56c9c7ce35b732f17acbe5">scr_conscroll_x</a></div><div class="ttdeci">cvar_t scr_conscroll_x</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00028">cl_screen.c:28</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ab34481c3dcb9672d73039a6b7da1f423"><div class="ttname"><a href="cl__screen_8c.html#ab34481c3dcb9672d73039a6b7da1f423">scr_conscroll3_x</a></div><div class="ttdeci">cvar_t scr_conscroll3_x</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00032">cl_screen.c:32</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ac7c41d1d191eacf571d5c8041284ae71"><div class="ttname"><a href="cl__screen_8c.html#ac7c41d1d191eacf571d5c8041284ae71">scr_conalpha2factor</a></div><div class="ttdeci">cvar_t scr_conalpha2factor</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00023">cl_screen.c:23</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ac8ba59ffd6f51cacacff57e43a0d7157"><div class="ttname"><a href="cl__screen_8c.html#ac8ba59ffd6f51cacacff57e43a0d7157">scr_conscroll_y</a></div><div class="ttdeci">cvar_t scr_conscroll_y</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00029">cl_screen.c:29</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ad445fc25054946541895627ee3253e24"><div class="ttname"><a href="cl__screen_8c.html#ad445fc25054946541895627ee3253e24">scr_conalpha3factor</a></div><div class="ttdeci">cvar_t scr_conalpha3factor</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00024">cl_screen.c:24</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ad642724985d35758ea536f92fafbcdf3"><div class="ttname"><a href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a></div><div class="ttdeci">cvar_t vid_conheight</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00057">cl_screen.c:57</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ae58b44b922d5902939340cd2f0bd7a38"><div class="ttname"><a href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a></div><div class="ttdeci">cvar_t vid_conwidth</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00056">cl_screen.c:56</a></div></div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a></div><div class="ttdeci">@ ca_dedicated</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00531">client.h:531</a></div></div>
<div class="ttc" id="acmd_8c_html_a1eca3cd923cd97bc861e6f5678c2135e"><div class="ttname"><a href="cmd_8c.html#a1eca3cd923cd97bc861e6f5678c2135e">Cmd_CompleteCommandPrint</a></div><div class="ttdeci">void Cmd_CompleteCommandPrint(cmd_state_t *cmd, const char *partial)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01852">cmd.c:1852</a></div></div>
<div class="ttc" id="acmd_8c_html_a523014d5799c3529c3489b36af7a2570"><div class="ttname"><a href="cmd_8c.html#a523014d5799c3529c3489b36af7a2570">Cmd_CompleteBuildList</a></div><div class="ttdeci">const char ** Cmd_CompleteBuildList(cmd_state_t *cmd, const char *partial)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01829">cmd.c:1829</a></div></div>
<div class="ttc" id="acmd_8c_html_a80568c442e21417636e091c822d20ea1"><div class="ttname"><a href="cmd_8c.html#a80568c442e21417636e091c822d20ea1">Cmd_CompleteCountPossible</a></div><div class="ttdeci">int Cmd_CompleteCountPossible(cmd_state_t *cmd, const char *partial)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01796">cmd.c:1796</a></div></div>
<div class="ttc" id="acmd_8c_html_a86fa905462db75436af48f27298204e5"><div class="ttname"><a href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a></div><div class="ttdeci">void Cmd_AddCommand(unsigned flags, const char *cmd_name, xcommand_t function, const char *description)</div><div class="ttdoc">called by the init functions of other parts of the program to register commands and functions to call...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01643">cmd.c:1643</a></div></div>
<div class="ttc" id="acmd_8c_html_a99325b3a6e73db8d1d5c20614f215447"><div class="ttname"><a href="cmd_8c.html#a99325b3a6e73db8d1d5c20614f215447">Cmd_CompleteAliasPrint</a></div><div class="ttdeci">void Cmd_CompleteAliasPrint(cmd_state_t *cmd, const char *partial)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01893">cmd.c:1893</a></div></div>
<div class="ttc" id="acmd_8c_html_ab258c9c075bffd0d374d682e762e279b"><div class="ttname"><a href="cmd_8c.html#ab258c9c075bffd0d374d682e762e279b">Cmd_CompleteAliasCountPossible</a></div><div class="ttdeci">int Cmd_CompleteAliasCountPossible(cmd_state_t *cmd, const char *partial)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01913">cmd.c:1913</a></div></div>
<div class="ttc" id="acmd_8c_html_ab6ede010dcf26bf90ec40750eb292326"><div class="ttname"><a href="cmd_8c.html#ab6ede010dcf26bf90ec40750eb292326">Cmd_CompleteAliasBuildList</a></div><div class="ttdeci">const char ** Cmd_CompleteAliasBuildList(cmd_state_t *cmd, const char *partial)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01943">cmd.c:1943</a></div></div>
<div class="ttc" id="acmd_8h_html_a28392de86e1ad57dd3fa7870a23367f2"><div class="ttname"><a href="cmd_8h.html#a28392de86e1ad57dd3fa7870a23367f2">CF_SHARED</a></div><div class="ttdeci">#define CF_SHARED</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00067">cmd.h:67</a></div></div>
<div class="ttc" id="acmd_8h_html_aadf0879ce7511e76eeea9da766b31c6b"><div class="ttname"><a href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a></div><div class="ttdeci">#define CF_SERVER</div><div class="ttdoc">cvar/command that only the server can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00049">cmd.h:49</a></div></div>
<div class="ttc" id="acmd_8h_html_ab070abb7f2ebb842c8e67bef4e317314"><div class="ttname"><a href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a></div><div class="ttdeci">static int Cmd_Argc(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00249">cmd.h:249</a></div></div>
<div class="ttc" id="acmd_8h_html_ab49017bdcb3104823452a9ed7597aaf5"><div class="ttname"><a href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a></div><div class="ttdeci">static const char * Cmd_Argv(cmd_state_t *cmd, int arg)</div><div class="ttdoc">Cmd_Argv(cmd, ) will return an empty string (not a NULL) if arg &gt; argc, so string operations are alwa...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00254">cmd.h:254</a></div></div>
<div class="ttc" id="acmd_8h_html_abba64dce6a45541317c5508aa83436e5"><div class="ttname"><a href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a></div><div class="ttdeci">#define CF_CLIENT</div><div class="ttdoc">cvar/command that only the client can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00048">cmd.h:48</a></div></div>
<div class="ttc" id="acmd_8h_html_ae952d3a9ac36599adabef1144f68ec22"><div class="ttname"><a href="cmd_8h.html#ae952d3a9ac36599adabef1144f68ec22">Cmd_Args</a></div><div class="ttdeci">static const char * Cmd_Args(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00260">cmd.h:260</a></div></div>
<div class="ttc" id="acmd_8h_html_aeeecb68995736ab90434173e64fd14e5"><div class="ttname"><a href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a></div><div class="ttdeci">#define CF_ARCHIVE</div><div class="ttdoc">cvar should have its set value saved to config.cfg and persist across sessions</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00053">cmd.h:53</a></div></div>
<div class="ttc" id="acmd_8h_html_afc7ff54d18aaa67429a4706241a5aa79"><div class="ttname"><a href="cmd_8h.html#afc7ff54d18aaa67429a4706241a5aa79">CF_PRIVATE</a></div><div class="ttdeci">#define CF_PRIVATE</div><div class="ttdoc">cvar should not be $ expanded or sent to the server under any circumstances (rcon_password,...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00059">cmd.h:59</a></div></div>
<div class="ttc" id="acom__game_8c_html_a8261ff184d55a220fafab13efd735946"><div class="ttname"><a href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a></div><div class="ttdeci">gamemode_t gamemode</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00026">com_game.c:26</a></div></div>
<div class="ttc" id="acom__game_8h_html_a83b243a3e308a07f75151cb904f240d4"><div class="ttname"><a href="com__game_8h.html#a83b243a3e308a07f75151cb904f240d4">IS_OLDNEXUIZ_DERIVED</a></div><div class="ttdeci">#define IS_OLDNEXUIZ_DERIVED(g)</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00072">com_game.h:72</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825ea27da098badcdb79e49f4a62376e71f9f"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea27da098badcdb79e49f4a62376e71f9f">GAME_TRANSFUSION</a></div><div class="ttdeci">@ GAME_TRANSFUSION</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00035">com_game.h:35</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a9375c7a4c8e2a5785acd5a71078378bb"><div class="ttname"><a href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a></div><div class="ttdeci">int BuffLittleLong(const unsigned char *buffer)</div><div class="ttdoc">Extract a little endian 32bit int from the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00071">com_msg.c:71</a></div></div>
<div class="ttc" id="acom__msg_8c_html_acb6b93b3f5ce9f8f86fb1a6b3bc7e251"><div class="ttname"><a href="com__msg_8c.html#acb6b93b3f5ce9f8f86fb1a6b3bc7e251">StoreBigLong</a></div><div class="ttdeci">void StoreBigLong(unsigned char *buffer, unsigned int i)</div><div class="ttdoc">Encode a big endian 32bit int to the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00081">com_msg.c:81</a></div></div>
<div class="ttc" id="acommon_8c_html_a17e9040af1baa7e1a61a6a47f776eca5"><div class="ttname"><a href="common_8c.html#a17e9040af1baa7e1a61a6a47f776eca5">dpvsnprintf</a></div><div class="ttdeci">int dpvsnprintf(char *buffer, size_t buffersize, const char *format, va_list args)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l01010">common.c:1010</a></div></div>
<div class="ttc" id="acommon_8c_html_a21e343fdc83c4695c7d0af3be8756795"><div class="ttname"><a href="common_8c.html#a21e343fdc83c4695c7d0af3be8756795">dp_ustr2stp</a></div><div class="ttdeci">char * dp_ustr2stp(char *dst, size_t dsize, const char *src, size_t slen)</div><div class="ttdoc">Copies a measured byte sequence (unterminated string) to a null-terminated string.</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l01373">common.c:1373</a></div></div>
<div class="ttc" id="acommon_8c_html_a31eae03d733e25ab670dd2ac7689f74c"><div class="ttname"><a href="common_8c.html#a31eae03d733e25ab670dd2ac7689f74c">COM_Wordwrap</a></div><div class="ttdeci">int COM_Wordwrap(const char *string, size_t length, float continuationWidth, float maxWidth, COM_WordWidthFunc_t wordWidth, void *passthroughCW, COM_LineProcessorFunc processLine, void *passthroughPL)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00174">common.c:174</a></div></div>
<div class="ttc" id="acommon_8c_html_a3eb222dff7f3bc0f6ce47f1e02df175e"><div class="ttname"><a href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a></div><div class="ttdeci">char com_token[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00039">common.c:39</a></div></div>
<div class="ttc" id="acommon_8c_html_a4a8220fa88226bf9cf39b12a051a20d7"><div class="ttname"><a href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a></div><div class="ttdeci">char * va(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00972">common.c:972</a></div></div>
<div class="ttc" id="acommon_8c_html_a7d8e38022cb81cc407c53a1cb3b33866"><div class="ttname"><a href="common_8c.html#a7d8e38022cb81cc407c53a1cb3b33866">COM_ParseToken_Console</a></div><div class="ttdeci">qbool COM_ParseToken_Console(const char **datapointer)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00819">common.c:819</a></div></div>
<div class="ttc" id="acommon_8c_html_acc99aea15e3d929ef5cfac822ee7040d"><div class="ttname"><a href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a></div><div class="ttdeci">qbool COM_ParseToken_Simple(const char **datapointer, qbool returnnewline, qbool parsebackslash, qbool parsecomments)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00463">common.c:463</a></div></div>
<div class="ttc" id="acommon_8c_html_ae36050083f45e395189fee6aa45fbb0c"><div class="ttname"><a href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a></div><div class="ttdeci">int dpsnprintf(char *buffer, size_t buffersize, const char *format,...)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00997">common.c:997</a></div></div>
<div class="ttc" id="acommon_8h_html_a48b55a981b8eb9cbcf455b613f62e6b3"><div class="ttname"><a href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a></div><div class="ttdeci">#define dp_strlcat(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00304">common.h:304</a></div></div>
<div class="ttc" id="acommon_8h_html_a847f080c3427d188d2a5ecd2935a2d93"><div class="ttname"><a href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a></div><div class="ttdeci">#define LittleLong(l)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00092">common.h:92</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00303">common.h:303</a></div></div>
<div class="ttc" id="aconsole_8c_html_a0014ab1f7271c9cb311d8f0823dd0ac5"><div class="ttname"><a href="console_8c.html#a0014ab1f7271c9cb311d8f0823dd0ac5">Con_Clear_f</a></div><div class="ttdeci">void Con_Clear_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00844">console.c:844</a></div></div>
<div class="ttc" id="aconsole_8c_html_a020f7c3c712324e75a10e2321875cae9"><div class="ttname"><a href="console_8c.html#a020f7c3c712324e75a10e2321875cae9">Con_Init</a></div><div class="ttdeci">void Con_Init(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00865">console.c:865</a></div></div>
<div class="ttc" id="aconsole_8c_html_a03d0a273e6a8f42f6424e58f76460fe1"><div class="ttname"><a href="console_8c.html#a03d0a273e6a8f42f6424e58f76460fe1">con_chatsound_team_file</a></div><div class="ttdeci">cvar_t con_chatsound_team_file</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00062">console.c:62</a></div></div>
<div class="ttc" id="aconsole_8c_html_a052ecd3694d3af36e9f6eb812edc168a"><div class="ttname"><a href="console_8c.html#a052ecd3694d3af36e9f6eb812edc168a">Nicks_sanlist</a></div><div class="ttdeci">static char Nicks_sanlist[MAX_SCOREBOARD][MAX_SCOREBOARDNAME]</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02327">console.c:2327</a></div></div>
<div class="ttc" id="aconsole_8c_html_a07ce028df2b744aeabf2bbbd39570e89"><div class="ttname"><a href="console_8c.html#a07ce028df2b744aeabf2bbbd39570e89">con_notifysize</a></div><div class="ttdeci">cvar_t con_notifysize</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00058">console.c:58</a></div></div>
<div class="ttc" id="aconsole_8c_html_a08192c48d2f4d37c8d84363cfe1bf9da"><div class="ttname"><a href="console_8c.html#a08192c48d2f4d37c8d84363cfe1bf9da">Nicks_CutMatchesNoSpaces</a></div><div class="ttdeci">static void Nicks_CutMatchesNoSpaces(int count)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02580">console.c:2580</a></div></div>
<div class="ttc" id="aconsole_8c_html_a084a5a94b5c54c502b53f4b0beb75cbd"><div class="ttname"><a href="console_8c.html#a084a5a94b5c54c502b53f4b0beb75cbd">rcon_password</a></div><div class="ttdeci">cvar_t rcon_password</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00093">console.c:93</a></div></div>
<div class="ttc" id="aconsole_8c_html_a0ae9055059790f863ac03ab03af2455c"><div class="ttname"><a href="console_8c.html#a0ae9055059790f863ac03ab03af2455c">timeformat</a></div><div class="ttdeci">cvar_t timeformat</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00056">host.c:56</a></div></div>
<div class="ttc" id="aconsole_8c_html_a0c2578e616393e3f31b915f266afd1f2"><div class="ttname"><a href="console_8c.html#a0c2578e616393e3f31b915f266afd1f2">NICKS_ADD_COLOR</a></div><div class="ttdeci">#define NICKS_ADD_COLOR</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00081">console.c:81</a></div></div>
<div class="ttc" id="aconsole_8c_html_a0cfa888e90bbfd5b77e5fd94d308b03a"><div class="ttname"><a href="console_8c.html#a0cfa888e90bbfd5b77e5fd94d308b03a">ConBuffer_GetLine</a></div><div class="ttdeci">const char * ConBuffer_GetLine(conbuffer_t *buf, int i)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00390">console.c:390</a></div></div>
<div class="ttc" id="aconsole_8c_html_a0cff021080081f45de3daa085e7c47ab"><div class="ttname"><a href="console_8c.html#a0cff021080081f45de3daa085e7c47ab">Con_MessageMode_f</a></div><div class="ttdeci">static void Con_MessageMode_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00735">console.c:735</a></div></div>
<div class="ttc" id="aconsole_8c_html_a18b81ae0ebe29178a5a53565139f6c5a"><div class="ttname"><a href="console_8c.html#a18b81ae0ebe29178a5a53565139f6c5a">con_chattime</a></div><div class="ttdeci">cvar_t con_chattime</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00050">console.c:50</a></div></div>
<div class="ttc" id="aconsole_8c_html_a193e5c23cb9078c6db0316b600e3c6a6"><div class="ttname"><a href="console_8c.html#a193e5c23cb9078c6db0316b600e3c6a6">sys_specialcharactertranslation</a></div><div class="ttdeci">cvar_t sys_specialcharactertranslation</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00065">console.c:65</a></div></div>
<div class="ttc" id="aconsole_8c_html_a1966264ce06e32f82125a479240b9dbb"><div class="ttname"><a href="console_8c.html#a1966264ce06e32f82125a479240b9dbb">Con_DrawInput</a></div><div class="ttdeci">static void Con_DrawInput(qbool is_console, float x, float v, float inputsize)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01524">console.c:1524</a></div></div>
<div class="ttc" id="aconsole_8c_html_a19b960ee10eb9b16e600a000378348ba"><div class="ttname"><a href="console_8c.html#a19b960ee10eb9b16e600a000378348ba">Con_CommandMode_f</a></div><div class="ttdeci">static void Con_CommandMode_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00757">console.c:757</a></div></div>
<div class="ttc" id="aconsole_8c_html_a1cf9711475097b11dc41f743254ec77e"><div class="ttname"><a href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a></div><div class="ttdeci">void Con_Print(const char *msg)</div><div class="ttdoc">Prints to all appropriate console targets, and adds timestamps.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01450">console.c:1450</a></div></div>
<div class="ttc" id="aconsole_8c_html_a24a636223043ca60e69d1aeaa1741262"><div class="ttname"><a href="console_8c.html#a24a636223043ca60e69d1aeaa1741262">Con_Rcon_AddChar</a></div><div class="ttdeci">static void Con_Rcon_AddChar(int c)</div><div class="ttdoc">Adds a character to the rcon buffer.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01055">console.c:1055</a></div></div>
<div class="ttc" id="aconsole_8c_html_a254291ab0a3e6c4bec025b7c83538310"><div class="ttname"><a href="console_8c.html#a254291ab0a3e6c4bec025b7c83538310">ConBuffer_FixTimes</a></div><div class="ttdeci">void ConBuffer_FixTimes(conbuffer_t *buf)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00246">console.c:246</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="aconsole_8c_html_a27736645dc97afa2b7c34d6e9696f8cd"><div class="ttname"><a href="console_8c.html#a27736645dc97afa2b7c34d6e9696f8cd">Nicks_strcleanlen</a></div><div class="ttdeci">static unsigned int Nicks_strcleanlen(const char *s)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02506">console.c:2506</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2ba69f853d07dee03a9602094fba8479"><div class="ttname"><a href="console_8c.html#a2ba69f853d07dee03a9602094fba8479">logqueue</a></div><div class="ttdeci">unsigned char * logqueue</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00418">console.c:418</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2ccf96fa46dd9fcb1ddb838c9a1b92e1"><div class="ttname"><a href="console_8c.html#a2ccf96fa46dd9fcb1ddb838c9a1b92e1">Log_Open</a></div><div class="ttdeci">static void Log_Open(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00507">console.c:507</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2d7a99d388305dbda9969f62c3af3861"><div class="ttname"><a href="console_8c.html#a2d7a99d388305dbda9969f62c3af3861">Con_ConDump_f</a></div><div class="ttdeci">static void Con_ConDump_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00806">console.c:806</a></div></div>
<div class="ttc" id="aconsole_8c_html_a306e7cc0dc7fddecdc2c30c5ab472554"><div class="ttname"><a href="console_8c.html#a306e7cc0dc7fddecdc2c30c5ab472554">Con_CountLineFunc</a></div><div class="ttdeci">static int Con_CountLineFunc(void *passthrough, const char *line, size_t length, float width, qbool isContinuation)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01672">console.c:1672</a></div></div>
<div class="ttc" id="aconsole_8c_html_a308ed0b467e439bea4b1cf0d142becca"><div class="ttname"><a href="console_8c.html#a308ed0b467e439bea4b1cf0d142becca">GetMapList</a></div><div class="ttdeci">qbool GetMapList(const char *s, char *completedname, int completednamebufferlength)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02115">console.c:2115</a></div></div>
<div class="ttc" id="aconsole_8c_html_a30fd640d02642add01ccd0d793bd8e19"><div class="ttname"><a href="console_8c.html#a30fd640d02642add01ccd0d793bd8e19">NICKS_NO_SPACES</a></div><div class="ttdeci">#define NICKS_NO_SPACES</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00085">console.c:85</a></div></div>
<div class="ttc" id="aconsole_8c_html_a316b82bd8c4eb15d61f3ae5517d73fab"><div class="ttname"><a href="console_8c.html#a316b82bd8c4eb15d61f3ae5517d73fab">logfile</a></div><div class="ttdeci">qfile_t * logfile</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00416">console.c:416</a></div></div>
<div class="ttc" id="aconsole_8c_html_a349329eb315198abd1f580bf040447df"><div class="ttname"><a href="console_8c.html#a349329eb315198abd1f580bf040447df">Con_MaskPrintf</a></div><div class="ttdeci">void Con_MaskPrintf(unsigned mask, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01433">console.c:1433</a></div></div>
<div class="ttc" id="aconsole_8c_html_a34be3fff24f8fdab546d60d2e491065a"><div class="ttname"><a href="console_8c.html#a34be3fff24f8fdab546d60d2e491065a">con_mutex</a></div><div class="ttdeci">void * con_mutex</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00040">console.c:40</a></div></div>
<div class="ttc" id="aconsole_8c_html_a34c1d97b06ea84eac0e61c6484e6f7e6"><div class="ttname"><a href="console_8c.html#a34c1d97b06ea84eac0e61c6484e6f7e6">con</a></div><div class="ttdeci">conbuffer_t con</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00039">console.c:39</a></div></div>
<div class="ttc" id="aconsole_8c_html_a39520b350a49efab5ef8a4b53c31c9d6"><div class="ttname"><a href="console_8c.html#a39520b350a49efab5ef8a4b53c31c9d6">ConBuffer_Clear</a></div><div class="ttdeci">void ConBuffer_Clear(conbuffer_t *buf)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00216">console.c:216</a></div></div>
<div class="ttc" id="aconsole_8c_html_a396ef176f3004c035f0ddde71800509b"><div class="ttname"><a href="console_8c.html#a396ef176f3004c035f0ddde71800509b">rcon_redirect_bufferpos</a></div><div class="ttdeci">int rcon_redirect_bufferpos</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00106">console.c:106</a></div></div>
<div class="ttc" id="aconsole_8c_html_a3d12d1ba70924a345c9d4065ab6ba508"><div class="ttname"><a href="console_8c.html#a3d12d1ba70924a345c9d4065ab6ba508">Con_DrawNotify</a></div><div class="ttdeci">void Con_DrawNotify(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01785">console.c:1785</a></div></div>
<div class="ttc" id="aconsole_8c_html_a409fa098f3bb71bc5b73402ebd1b9c97"><div class="ttname"><a href="console_8c.html#a409fa098f3bb71bc5b73402ebd1b9c97">Nicks_AddLastColor</a></div><div class="ttdeci">static int Nicks_AddLastColor(char *buffer, int pos)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02666">console.c:2666</a></div></div>
<div class="ttc" id="aconsole_8c_html_a4350111ef553fbe917d95cbe68c4d36b"><div class="ttname"><a href="console_8c.html#a4350111ef553fbe917d95cbe68c4d36b">log_dest_udp</a></div><div class="ttdeci">cvar_t log_dest_udp</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00411">console.c:411</a></div></div>
<div class="ttc" id="aconsole_8c_html_a44186febafb02bc53ab9e8fc9f401686"><div class="ttname"><a href="console_8c.html#a44186febafb02bc53ab9e8fc9f401686">Con_MessageMode2_f</a></div><div class="ttdeci">static void Con_MessageMode2_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00747">console.c:747</a></div></div>
<div class="ttc" id="aconsole_8c_html_a4911e9e104c1a9e037f8c3b58bffa4be"><div class="ttname"><a href="console_8c.html#a4911e9e104c1a9e037f8c3b58bffa4be">con_completion_exec</a></div><div class="ttdeci">cvar_t con_completion_exec</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00089">console.c:89</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="aconsole_8c_html_a4a6d5a098bbaaa14336dcb68b3fa773b"><div class="ttname"><a href="console_8c.html#a4a6d5a098bbaaa14336dcb68b3fa773b">Nicks_strncasecmp</a></div><div class="ttdeci">static int Nicks_strncasecmp(char *a, char *b, unsigned int a_len)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02359">console.c:2359</a></div></div>
<div class="ttc" id="aconsole_8c_html_a4ae153c2b2c17823048c30b439f41fda"><div class="ttname"><a href="console_8c.html#a4ae153c2b2c17823048c30b439f41fda">Sys_Con_NearestColor</a></div><div class="ttdeci">static char Sys_Con_NearestColor(const unsigned char _r, const unsigned char _g, const unsigned char _b)</div><div class="ttdoc">Convert an RGB color to its nearest quake color.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01094">console.c:1094</a></div></div>
<div class="ttc" id="aconsole_8c_html_a522819a9be9353e9d9d1cb6cf739fa73"><div class="ttname"><a href="console_8c.html#a522819a9be9353e9d9d1cb6cf739fa73">con_notifytime</a></div><div class="ttdeci">cvar_t con_notifytime</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00046">console.c:46</a></div></div>
<div class="ttc" id="aconsole_8c_html_a526766c2bfde6ea15c935ca4928ba494"><div class="ttname"><a href="console_8c.html#a526766c2bfde6ea15c935ca4928ba494">Con_DrawConsole</a></div><div class="ttdeci">void Con_DrawConsole(int lines, qbool forcedfullscreen)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01978">console.c:1978</a></div></div>
<div class="ttc" id="aconsole_8c_html_a52c01934737f4f758cb1c1863c9586fe"><div class="ttname"><a href="console_8c.html#a52c01934737f4f758cb1c1863c9586fe">ConBuffer_Shutdown</a></div><div class="ttdeci">void ConBuffer_Shutdown(conbuffer_t *buf)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00226">console.c:226</a></div></div>
<div class="ttc" id="aconsole_8c_html_a53ed24953636cba97bd6b20634c4cbca"><div class="ttname"><a href="console_8c.html#a53ed24953636cba97bd6b20634c4cbca">con_chatsound</a></div><div class="ttdeci">cvar_t con_chatsound</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00060">console.c:60</a></div></div>
<div class="ttc" id="aconsole_8c_html_a54752c5055971ff2d8395e99b15afc20"><div class="ttname"><a href="console_8c.html#a54752c5055971ff2d8395e99b15afc20">NICKS_ALPHANUMERICS_ONLY</a></div><div class="ttdeci">#define NICKS_ALPHANUMERICS_ONLY</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00084">console.c:84</a></div></div>
<div class="ttc" id="aconsole_8c_html_a54e572d817a4b16e430bb528e4de8f29"><div class="ttname"><a href="console_8c.html#a54e572d817a4b16e430bb528e4de8f29">ConBuffer_DeleteLine</a></div><div class="ttdeci">void ConBuffer_DeleteLine(conbuffer_t *buf)</div><div class="ttdoc">Deletes the first line from the console history.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00267">console.c:267</a></div></div>
<div class="ttc" id="aconsole_8c_html_a55aa530881c3941b21503dc335c205dc"><div class="ttname"><a href="console_8c.html#a55aa530881c3941b21503dc335c205dc">con_chatrect_x</a></div><div class="ttdeci">cvar_t con_chatrect_x</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00054">console.c:54</a></div></div>
<div class="ttc" id="aconsole_8c_html_a55b3f844b84c24b5f23cc1a077017f87"><div class="ttname"><a href="console_8c.html#a55b3f844b84c24b5f23cc1a077017f87">Con_MaskPrint</a></div><div class="ttdeci">void Con_MaskPrint(unsigned additionalmask, const char *msg)</div><div class="ttdoc">Prints to a chosen console target.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01154">console.c:1154</a></div></div>
<div class="ttc" id="aconsole_8c_html_a5ba90636effc694cb897af330e7e8b6a"><div class="ttname"><a href="console_8c.html#a5ba90636effc694cb897af330e7e8b6a">Nicks_CompleteCountPossible</a></div><div class="ttdeci">static int Nicks_CompleteCountPossible(char *line, int pos, char *s, qbool isCon)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02410">console.c:2410</a></div></div>
<div class="ttc" id="aconsole_8c_html_a6545a04504cc84e5ce63d0342de98aff"><div class="ttname"><a href="console_8c.html#a6545a04504cc84e5ce63d0342de98aff">con_chatrect_y</a></div><div class="ttdeci">cvar_t con_chatrect_y</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00055">console.c:55</a></div></div>
<div class="ttc" id="aconsole_8c_html_a65af6079c3991750c9dcf8d99548ff4d"><div class="ttname"><a href="console_8c.html#a65af6079c3991750c9dcf8d99548ff4d">con_chat</a></div><div class="ttdeci">cvar_t con_chat</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00051">console.c:51</a></div></div>
<div class="ttc" id="aconsole_8c_html_a65b4862c5675c8d8549e55a4ec556590"><div class="ttname"><a href="console_8c.html#a65b4862c5675c8d8549e55a4ec556590">ConBuffer_FindPrevLine</a></div><div class="ttdeci">int ConBuffer_FindPrevLine(conbuffer_t *buf, unsigned mask_must, unsigned mask_mustnot, int start)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00370">console.c:370</a></div></div>
<div class="ttc" id="aconsole_8c_html_a672e115bafbbeddcad54702cd9358289"><div class="ttname"><a href="console_8c.html#a672e115bafbbeddcad54702cd9358289">Con_DrawConsoleLine</a></div><div class="ttdeci">static int Con_DrawConsoleLine(unsigned mask_must, unsigned mask_mustnot, float y, int lineno, float ymin, float ymax)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01904">console.c:1904</a></div></div>
<div class="ttc" id="aconsole_8c_html_a677edc38b62baf5ea5206fa10c1e6e84"><div class="ttname"><a href="console_8c.html#a677edc38b62baf5ea5206fa10c1e6e84">rcon_redirect_dest</a></div><div class="ttdeci">lhnetaddress_t * rcon_redirect_dest</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00105">console.c:105</a></div></div>
<div class="ttc" id="aconsole_8c_html_a6f1caf3a839f5f419931d4c6349f69ee"><div class="ttname"><a href="console_8c.html#a6f1caf3a839f5f419931d4c6349f69ee">crt_log_file</a></div><div class="ttdeci">char crt_log_file[MAX_OSPATH]</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00415">console.c:415</a></div></div>
<div class="ttc" id="aconsole_8c_html_a70458b42ee176f6f78fa8951d3493f57"><div class="ttname"><a href="console_8c.html#a70458b42ee176f6f78fa8951d3493f57">condump_stripcolors</a></div><div class="ttdeci">cvar_t condump_stripcolors</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00091">console.c:91</a></div></div>
<div class="ttc" id="aconsole_8c_html_a7306d2ff1b85fc916029f45b1ca143bb"><div class="ttname"><a href="console_8c.html#a7306d2ff1b85fc916029f45b1ca143bb">con_notify</a></div><div class="ttdeci">cvar_t con_notify</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00047">console.c:47</a></div></div>
<div class="ttc" id="aconsole_8c_html_a782808907db5d7ebcae51ff70936caff"><div class="ttname"><a href="console_8c.html#a782808907db5d7ebcae51ff70936caff">NICKS_FORCE_COLOR</a></div><div class="ttdeci">#define NICKS_FORCE_COLOR</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00083">console.c:83</a></div></div>
<div class="ttc" id="aconsole_8c_html_a79ba554d4a7bdc712e27a420c61d2044"><div class="ttname"><a href="console_8c.html#a79ba554d4a7bdc712e27a420c61d2044">con_chatsize</a></div><div class="ttdeci">cvar_t con_chatsize</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00059">console.c:59</a></div></div>
<div class="ttc" id="aconsole_8c_html_a7ac3f3abdb1374a079cb0635bf175a2d"><div class="ttname"><a href="console_8c.html#a7ac3f3abdb1374a079cb0635bf175a2d">Con_Maps_f</a></div><div class="ttdeci">static void Con_Maps_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00793">console.c:793</a></div></div>
<div class="ttc" id="aconsole_8c_html_a7ba03cfe8af78de2a18532600ef9465b"><div class="ttname"><a href="console_8c.html#a7ba03cfe8af78de2a18532600ef9465b">con_nickcompletion_flags</a></div><div class="ttdeci">cvar_t con_nickcompletion_flags</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00074">console.c:74</a></div></div>
<div class="ttc" id="aconsole_8c_html_a7c3dcfa689ea552c3af479ecce98cd1e"><div class="ttname"><a href="console_8c.html#a7c3dcfa689ea552c3af479ecce98cd1e">Con_LastVisibleLine</a></div><div class="ttdeci">static void Con_LastVisibleLine(unsigned mask_must, unsigned mask_mustnot, int *last, int *limitlast)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01936">console.c:1936</a></div></div>
<div class="ttc" id="aconsole_8c_html_a85909920217ae8f2e78f1bc2e2255f6a"><div class="ttname"><a href="console_8c.html#a85909920217ae8f2e78f1bc2e2255f6a">Nicks_CutMatchesNormal</a></div><div class="ttdeci">static void Nicks_CutMatchesNormal(int count)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02483">console.c:2483</a></div></div>
<div class="ttc" id="aconsole_8c_html_a85a0f3d0b16ed369f6fe970f7cd19cf2"><div class="ttname"><a href="console_8c.html#a85a0f3d0b16ed369f6fe970f7cd19cf2">con_notifyalign</a></div><div class="ttdeci">cvar_t con_notifyalign</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00048">console.c:48</a></div></div>
<div class="ttc" id="aconsole_8c_html_a8727d646d3291d247ea451bf99f199df"><div class="ttname"><a href="console_8c.html#a8727d646d3291d247ea451bf99f199df">NICKS_ADD_QUOTE</a></div><div class="ttdeci">#define NICKS_ADD_QUOTE</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00082">console.c:82</a></div></div>
<div class="ttc" id="aconsole_8c_html_a8949602b592f226ebfd2b93e2b76286c"><div class="ttname"><a href="console_8c.html#a8949602b592f226ebfd2b93e2b76286c">con_initialized</a></div><div class="ttdeci">qbool con_initialized</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00101">console.c:101</a></div></div>
<div class="ttc" id="aconsole_8c_html_a8c11d02e558fb76b8e59235b0ccaa879"><div class="ttname"><a href="console_8c.html#a8c11d02e558fb76b8e59235b0ccaa879">Con_RCon_ClearPassword_c</a></div><div class="ttdeci">static void Con_RCon_ClearPassword_c(cvar_t *var)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00851">console.c:851</a></div></div>
<div class="ttc" id="aconsole_8c_html_a8c90a28ef4b2e62022bdcf9b1ee7582a"><div class="ttname"><a href="console_8c.html#a8c90a28ef4b2e62022bdcf9b1ee7582a">ConBuffer_DeleteLastLine</a></div><div class="ttdeci">void ConBuffer_DeleteLastLine(conbuffer_t *buf)</div><div class="ttdoc">Deletes the last line from the console history.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00282">console.c:282</a></div></div>
<div class="ttc" id="aconsole_8c_html_a8e0657caeb6bb575cc920bceb1fb4ad1"><div class="ttname"><a href="console_8c.html#a8e0657caeb6bb575cc920bceb1fb4ad1">Con_PrintToHistory</a></div><div class="ttdeci">static void Con_PrintToHistory(const char *txt, int mask)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00954">console.c:954</a></div></div>
<div class="ttc" id="aconsole_8c_html_a8eaa78cd6ea21e6698d0ac4d23557447"><div class="ttname"><a href="console_8c.html#a8eaa78cd6ea21e6698d0ac4d23557447">CON_LINES_COUNT</a></div><div class="ttdeci">#define CON_LINES_COUNT</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00044">console.c:44</a></div></div>
<div class="ttc" id="aconsole_8c_html_a8fdfd14cbe190aeaa70df4e1d3425d65"><div class="ttname"><a href="console_8c.html#a8fdfd14cbe190aeaa70df4e1d3425d65">logq_ind</a></div><div class="ttdeci">size_t logq_ind</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00419">console.c:419</a></div></div>
<div class="ttc" id="aconsole_8c_html_a90295c0585be4dc5bfac2be3e973effb"><div class="ttname"><a href="console_8c.html#a90295c0585be4dc5bfac2be3e973effb">rcon_secure_challengetimeout</a></div><div class="ttdeci">cvar_t rcon_secure_challengetimeout</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00095">console.c:95</a></div></div>
<div class="ttc" id="aconsole_8c_html_a91eb541dbcdf27e99a58540f296db255"><div class="ttname"><a href="console_8c.html#a91eb541dbcdf27e99a58540f296db255">rcon_secure</a></div><div class="ttdeci">cvar_t rcon_secure</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00094">console.c:94</a></div></div>
<div class="ttc" id="aconsole_8c_html_a92cedd4cbe755e05855c7ee1463dff11"><div class="ttname"><a href="console_8c.html#a92cedd4cbe755e05855c7ee1463dff11">Log_Timestamp</a></div><div class="ttdeci">static const char * Log_Timestamp(const char *desc)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00478">console.c:478</a></div></div>
<div class="ttc" id="aconsole_8c_html_a94065b66bf79bbc2c448857360b040b4"><div class="ttname"><a href="console_8c.html#a94065b66bf79bbc2c448857360b040b4">con_completion_playdemo</a></div><div class="ttdeci">cvar_t con_completion_playdemo</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00087">console.c:87</a></div></div>
<div class="ttc" id="aconsole_8c_html_a94144694bcb6630ecd0453b3457f178c"><div class="ttname"><a href="console_8c.html#a94144694bcb6630ecd0453b3457f178c">Log_DestBuffer_Init</a></div><div class="ttdeci">static void Log_DestBuffer_Init(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00424">console.c:424</a></div></div>
<div class="ttc" id="aconsole_8c_html_a958c190a19d0bb291707c154fa41112e"><div class="ttname"><a href="console_8c.html#a958c190a19d0bb291707c154fa41112e">Con_ClearNotify</a></div><div class="ttdeci">void Con_ClearNotify(void)</div><div class="ttdoc">Clear all notify lines.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00706">console.c:706</a></div></div>
<div class="ttc" id="aconsole_8c_html_a9e2eb2c313d4381c00583a66265453ae"><div class="ttname"><a href="console_8c.html#a9e2eb2c313d4381c00583a66265453ae">Con_LineHeight</a></div><div class="ttdeci">static int Con_LineHeight(int lineno)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01881">console.c:1881</a></div></div>
<div class="ttc" id="aconsole_8c_html_aa40bfc0a4f7f64af64ceb82c530ee6dc"><div class="ttname"><a href="console_8c.html#aa40bfc0a4f7f64af64ceb82c530ee6dc">Con_DrawNotifyRect</a></div><div class="ttdeci">static int Con_DrawNotifyRect(unsigned mask_must, unsigned mask_mustnot, float maxage, float x, float y, float width, float height, float fontsize, float alignment_x, float alignment_y, const char *continuationString)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01703">console.c:1703</a></div></div>
<div class="ttc" id="aconsole_8c_html_aa4dfce592919a5d4ec1937cd065c2aa9"><div class="ttname"><a href="console_8c.html#aa4dfce592919a5d4ec1937cd065c2aa9">Con_CompleteCommandLine</a></div><div class="ttdeci">int Con_CompleteCommandLine(cmd_state_t *cmd, qbool is_console)</div><div class="ttdoc">wrapper function to attempt to either complete the command line or to list possible matches grouped b...</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02738">console.c:2738</a></div></div>
<div class="ttc" id="aconsole_8c_html_aa878cef9cb8f40cbe8e1395ae4178644"><div class="ttname"><a href="console_8c.html#aa878cef9cb8f40cbe8e1395ae4178644">log_dest_buffer_appending</a></div><div class="ttdeci">unsigned int log_dest_buffer_appending</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00414">console.c:414</a></div></div>
<div class="ttc" id="aconsole_8c_html_aa8e634daa84ab1e4dff4e51e4196b5af"><div class="ttname"><a href="console_8c.html#aa8e634daa84ab1e4dff4e51e4196b5af">Con_Rcon_Redirect_Init</a></div><div class="ttdeci">void Con_Rcon_Redirect_Init(lhnetsocket_t *sock, lhnetaddress_t *dest, qbool proquakeprotocol)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00999">console.c:999</a></div></div>
<div class="ttc" id="aconsole_8c_html_aa972e58e52961832fc34c7170a5b5bba"><div class="ttname"><a href="console_8c.html#aa972e58e52961832fc34c7170a5b5bba">log_dest_buffer_pos</a></div><div class="ttdeci">size_t log_dest_buffer_pos</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00413">console.c:413</a></div></div>
<div class="ttc" id="aconsole_8c_html_aaa5fb68a1b9093313f61befa506bb9b7"><div class="ttname"><a href="console_8c.html#aaa5fb68a1b9093313f61befa506bb9b7">Nicks_CutMatches</a></div><div class="ttdeci">static void Nicks_CutMatches(int count)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02636">console.c:2636</a></div></div>
<div class="ttc" id="aconsole_8c_html_aaad0c94b53acc9313ceef2bed27bc745"><div class="ttname"><a href="console_8c.html#aaad0c94b53acc9313ceef2bed27bc745">Log_Start</a></div><div class="ttdeci">void Log_Start(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00546">console.c:546</a></div></div>
<div class="ttc" id="aconsole_8c_html_aad3bff4e5412ad9503d18e82812d305d"><div class="ttname"><a href="console_8c.html#aad3bff4e5412ad9503d18e82812d305d">ConBuffer_AddLine</a></div><div class="ttdeci">void ConBuffer_AddLine(conbuffer_t *buf, const char *line, int len, unsigned mask)</div><div class="ttdoc">Appends a given string as a new line to the console.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00336">console.c:336</a></div></div>
<div class="ttc" id="aconsole_8c_html_aae090d8b9b4c2d4462e5f5236dea8601"><div class="ttname"><a href="console_8c.html#aae090d8b9b4c2d4462e5f5236dea8601">Log_DestBuffer_Flush</a></div><div class="ttdeci">void Log_DestBuffer_Flush(void)</div><div class="ttdoc">call this once per frame to send out replies to rcon streaming clients</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00469">console.c:469</a></div></div>
<div class="ttc" id="aconsole_8c_html_aae665de4dbcbf2047ee305901e2f6627"><div class="ttname"><a href="console_8c.html#aae665de4dbcbf2047ee305901e2f6627">Con_DPrint</a></div><div class="ttdeci">void Con_DPrint(const char *msg)</div><div class="ttdoc">A Con_Print that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01477">console.c:1477</a></div></div>
<div class="ttc" id="aconsole_8c_html_aafd38b231ce187bff88af9fbf7fba222"><div class="ttname"><a href="console_8c.html#aafd38b231ce187bff88af9fbf7fba222">Cmd_CompleteNicksPrint</a></div><div class="ttdeci">static void Cmd_CompleteNicksPrint(int count)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02476">console.c:2476</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab089c100369bfbf869075a0c71b7ed46"><div class="ttname"><a href="console_8c.html#ab089c100369bfbf869075a0c71b7ed46">log_file_stripcolors</a></div><div class="ttdeci">cvar_t log_file_stripcolors</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00410">console.c:410</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab0fba76b1a508af0844d7795159bbe54"><div class="ttname"><a href="console_8c.html#ab0fba76b1a508af0844d7795159bbe54">con_nickcompletion</a></div><div class="ttdeci">cvar_t con_nickcompletion</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00073">console.c:73</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab29171f857b814dcb9f7ad804540a9ba"><div class="ttname"><a href="console_8c.html#ab29171f857b814dcb9f7ad804540a9ba">Con_Rcon_Redirect_End</a></div><div class="ttdeci">void Con_Rcon_Redirect_End(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01036">console.c:1036</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab2fa7f1b5ab09ffb42bff666deb6e179"><div class="ttname"><a href="console_8c.html#ab2fa7f1b5ab09ffb42bff666deb6e179">Nicks_matchpos</a></div><div class="ttdeci">static int Nicks_matchpos</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02330">console.c:2330</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab3ed1a06c113f3e7a6d704f00f428bdd"><div class="ttname"><a href="console_8c.html#ab3ed1a06c113f3e7a6d704f00f428bdd">log_file</a></div><div class="ttdeci">cvar_t log_file</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00409">console.c:409</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab57a2eeddc63f1f0b2cb9297fe57f285"><div class="ttname"><a href="console_8c.html#ab57a2eeddc63f1f0b2cb9297fe57f285">rcon_redirect_buffer</a></div><div class="ttdeci">char rcon_redirect_buffer[1400]</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00107">console.c:107</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab8091653566962382eff239bbfaf08a2"><div class="ttname"><a href="console_8c.html#ab8091653566962382eff239bbfaf08a2">rcon_address</a></div><div class="ttdeci">cvar_t rcon_address</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00096">console.c:96</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab958d83f888537859fe184406b41d73a"><div class="ttname"><a href="console_8c.html#ab958d83f888537859fe184406b41d73a">con_chatsound_team_mask</a></div><div class="ttdeci">cvar_t con_chatsound_team_mask</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00063">console.c:63</a></div></div>
<div class="ttc" id="aconsole_8c_html_abddef952bc81ca737333d1e9eb7593c3"><div class="ttname"><a href="console_8c.html#abddef952bc81ca737333d1e9eb7593c3">logq_size</a></div><div class="ttdeci">size_t logq_size</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00420">console.c:420</a></div></div>
<div class="ttc" id="aconsole_8c_html_ac12f10a0eebe569e6a010b254011cf3f"><div class="ttname"><a href="console_8c.html#ac12f10a0eebe569e6a010b254011cf3f">Nicks_CompleteBuildList</a></div><div class="ttdeci">static const char ** Nicks_CompleteBuildList(int count)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02646">console.c:2646</a></div></div>
<div class="ttc" id="aconsole_8c_html_ac188062ec5460881df372e292695fb68"><div class="ttname"><a href="console_8c.html#ac188062ec5460881df372e292695fb68">Nicks_strncasecmp_nospaces</a></div><div class="ttdeci">static int Nicks_strncasecmp_nospaces(char *a, char *b, unsigned int a_len)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02333">console.c:2333</a></div></div>
<div class="ttc" id="aconsole_8c_html_ac2e7ceec067b3a9c025a16b848e2dcd7"><div class="ttname"><a href="console_8c.html#ac2e7ceec067b3a9c025a16b848e2dcd7">Nicks_CutMatchesAlphaNumeric</a></div><div class="ttdeci">static void Nicks_CutMatchesAlphaNumeric(int count)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02521">console.c:2521</a></div></div>
<div class="ttc" id="aconsole_8c_html_ac48355b62fd33d64c8a5d4331f175f46"><div class="ttname"><a href="console_8c.html#ac48355b62fd33d64c8a5d4331f175f46">con_chatwidth</a></div><div class="ttdeci">cvar_t con_chatwidth</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00056">console.c:56</a></div></div>
<div class="ttc" id="aconsole_8c_html_ac540aec9d5bdd1ea39282e99232cc68b"><div class="ttname"><a href="console_8c.html#ac540aec9d5bdd1ea39282e99232cc68b">Con_Rcon_Redirect_Flush</a></div><div class="ttdeci">static void Con_Rcon_Redirect_Flush(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01019">console.c:1019</a></div></div>
<div class="ttc" id="aconsole_8c_html_ac75f89e15adebda575497ec4d3739cd4"><div class="ttname"><a href="console_8c.html#ac75f89e15adebda575497ec4d3739cd4">Nicks_offset</a></div><div class="ttdeci">static int Nicks_offset[MAX_SCOREBOARD]</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02329">console.c:2329</a></div></div>
<div class="ttc" id="aconsole_8c_html_ac846c43c624c37b93161c18196c4b0c4"><div class="ttname"><a href="console_8c.html#ac846c43c624c37b93161c18196c4b0c4">Con_WordWidthFunc</a></div><div class="ttdeci">static float Con_WordWidthFunc(void *passthrough, const char *w, size_t *length, float maxWidth)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01652">console.c:1652</a></div></div>
<div class="ttc" id="aconsole_8c_html_aca66c24bf2a6c22d4037c146630c60d3"><div class="ttname"><a href="console_8c.html#aca66c24bf2a6c22d4037c146630c60d3">Con_Rcon_Redirect_Abort</a></div><div class="ttdeci">void Con_Rcon_Redirect_Abort(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01043">console.c:1043</a></div></div>
<div class="ttc" id="aconsole_8c_html_aca67592bd2c231db9cd42cf1f8d7a3b9"><div class="ttname"><a href="console_8c.html#aca67592bd2c231db9cd42cf1f8d7a3b9">con_completion_timedemo</a></div><div class="ttdeci">cvar_t con_completion_timedemo</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00088">console.c:88</a></div></div>
<div class="ttc" id="aconsole_8c_html_aca73098926ff38b00a694d08ac197e3e"><div class="ttname"><a href="console_8c.html#aca73098926ff38b00a694d08ac197e3e">ConBuffer_Init</a></div><div class="ttdeci">void ConBuffer_Init(conbuffer_t *buf, int textsize, int maxlines, mempool_t *mempool)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00112">console.c:112</a></div></div>
<div class="ttc" id="aconsole_8c_html_acdae77962f6ca032365eb4681a73a4a7"><div class="ttname"><a href="console_8c.html#acdae77962f6ca032365eb4681a73a4a7">con_vislines</a></div><div class="ttdeci">int con_vislines</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00099">console.c:99</a></div></div>
<div class="ttc" id="aconsole_8c_html_acf597c28fd41f7775be5bbd9899378cc"><div class="ttname"><a href="console_8c.html#acf597c28fd41f7775be5bbd9899378cc">CON_LINES</a></div><div class="ttdeci">#define CON_LINES(i)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00042">console.c:42</a></div></div>
<div class="ttc" id="aconsole_8c_html_ad337fca62356ff14bd58a3ea8b78b6c6"><div class="ttname"><a href="console_8c.html#ad337fca62356ff14bd58a3ea8b78b6c6">Nicks_list</a></div><div class="ttdeci">static char Nicks_list[MAX_SCOREBOARD][MAX_SCOREBOARDNAME]</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02326">console.c:2326</a></div></div>
<div class="ttc" id="aconsole_8c_html_adade6350603ae71cd32aeeb2156ccf9f"><div class="ttname"><a href="console_8c.html#adade6350603ae71cd32aeeb2156ccf9f">sys_colortranslation</a></div><div class="ttdeci">cvar_t sys_colortranslation</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00069">console.c:69</a></div></div>
<div class="ttc" id="aconsole_8c_html_adbef141f15e227ae2eeb079b8092833b"><div class="ttname"><a href="console_8c.html#adbef141f15e227ae2eeb079b8092833b">Con_CheckResize</a></div><div class="ttdeci">void Con_CheckResize(void)</div><div class="ttdoc">If the line width has changed, reformat the buffer.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00767">console.c:767</a></div></div>
<div class="ttc" id="aconsole_8c_html_adcade1efc869f19ff7f2f26152574e05"><div class="ttname"><a href="console_8c.html#adcade1efc869f19ff7f2f26152574e05">SanitizeString</a></div><div class="ttdeci">static void SanitizeString(char *in, char *out)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00164">console.c:164</a></div></div>
<div class="ttc" id="aconsole_8c_html_adcaed76f6980b4bac79fc4ae4e2cf299"><div class="ttname"><a href="console_8c.html#adcaed76f6980b4bac79fc4ae4e2cf299">con_textsize</a></div><div class="ttdeci">cvar_t con_textsize</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00057">console.c:57</a></div></div>
<div class="ttc" id="aconsole_8c_html_ade2722aeebecd284874c8a349ebdc834"><div class="ttname"><a href="console_8c.html#ade2722aeebecd284874c8a349ebdc834">rcon_redirect_sock</a></div><div class="ttdeci">lhnetsocket_t * rcon_redirect_sock</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00104">console.c:104</a></div></div>
<div class="ttc" id="aconsole_8c_html_adea1698bae193a88e857c3042e63ab5e"><div class="ttname"><a href="console_8c.html#adea1698bae193a88e857c3042e63ab5e">qfont_table</a></div><div class="ttdeci">static char qfont_table[256]</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00124">console.c:124</a></div></div>
<div class="ttc" id="aconsole_8c_html_adeeb3525c0753f464d464b7676a75d82"><div class="ttname"><a href="console_8c.html#adeeb3525c0753f464d464b7676a75d82">con_chatpos</a></div><div class="ttdeci">cvar_t con_chatpos</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00052">console.c:52</a></div></div>
<div class="ttc" id="aconsole_8c_html_ae0cedf94dfcc5af9011ed2c5de1f1c3c"><div class="ttname"><a href="console_8c.html#ae0cedf94dfcc5af9011ed2c5de1f1c3c">Con_Shutdown</a></div><div class="ttdeci">void Con_Shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00936">console.c:936</a></div></div>
<div class="ttc" id="aconsole_8c_html_ae158c424d65985b77bed2ba54a39af0a"><div class="ttname"><a href="console_8c.html#ae158c424d65985b77bed2ba54a39af0a">con_chatsound_file</a></div><div class="ttdeci">cvar_t con_chatsound_file</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00061">console.c:61</a></div></div>
<div class="ttc" id="aconsole_8c_html_ae2c8caa5e34fc85c0c0e28efe66b8929"><div class="ttname"><a href="console_8c.html#ae2c8caa5e34fc85c0c0e28efe66b8929">log_dest_buffer</a></div><div class="ttdeci">char log_dest_buffer[1400]</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00412">console.c:412</a></div></div>
<div class="ttc" id="aconsole_8c_html_aed36512cea0e62cc788c4b8ede734351"><div class="ttname"><a href="console_8c.html#aed36512cea0e62cc788c4b8ede734351">Log_DestBuffer_Flush_NoLock</a></div><div class="ttdeci">static void Log_DestBuffer_Flush_NoLock(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00430">console.c:430</a></div></div>
<div class="ttc" id="aconsole_8c_html_af27143432d3a889ef925e8b689e59f1b"><div class="ttname"><a href="console_8c.html#af27143432d3a889ef925e8b689e59f1b">Con_DisplayList</a></div><div class="ttdeci">void Con_DisplayList(const char **list)</div><div class="ttdoc">Generic libs/util/console.c function to display a list formatted in columns on the console.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l02292">console.c:2292</a></div></div>
<div class="ttc" id="aconsole_8c_html_af2e650dd684490adc1d195df4fc278a7"><div class="ttname"><a href="console_8c.html#af2e650dd684490adc1d195df4fc278a7">Con_MsgCmdMode</a></div><div class="ttdeci">static void Con_MsgCmdMode(cmd_state_t *cmd, signed char mode)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00714">console.c:714</a></div></div>
<div class="ttc" id="aconsole_8c_html_af34b8f601f36273c1e2145c3664bf85a"><div class="ttname"><a href="console_8c.html#af34b8f601f36273c1e2145c3664bf85a">con_cursorspeed</a></div><div class="ttdeci">float con_cursorspeed</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00034">console.c:34</a></div></div>
<div class="ttc" id="aconsole_8c_html_af3cd1a17fe286da8d797e4706db935b2"><div class="ttname"><a href="console_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a></div><div class="ttdeci">int con_linewidth</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00098">console.c:98</a></div></div>
<div class="ttc" id="aconsole_8c_html_af4072df423a6f658275214d233d17678"><div class="ttname"><a href="console_8c.html#af4072df423a6f658275214d233d17678">Con_DisplayLineFunc</a></div><div class="ttdeci">static int Con_DisplayLineFunc(void *passthrough, const char *line, size_t length, float width, qbool isContinuation)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01682">console.c:1682</a></div></div>
<div class="ttc" id="aconsole_8c_html_af54260ba4947c51b7238692b55ff8867"><div class="ttname"><a href="console_8c.html#af54260ba4947c51b7238692b55ff8867">Con_ToggleConsole_f</a></div><div class="ttdeci">void Con_ToggleConsole_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00690">console.c:690</a></div></div>
<div class="ttc" id="aconsole_8c_html_af5c02666ccc59ad9269b5f3fc37fe243"><div class="ttname"><a href="console_8c.html#af5c02666ccc59ad9269b5f3fc37fe243">timestamps</a></div><div class="ttdeci">cvar_t timestamps</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00055">host.c:55</a></div></div>
<div class="ttc" id="aconsole_8c_html_af7137a5272c3743313cb3168931c38de"><div class="ttname"><a href="console_8c.html#af7137a5272c3743313cb3168931c38de">rcon_redirect_proquakeprotocol</a></div><div class="ttdeci">qbool rcon_redirect_proquakeprotocol</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00108">console.c:108</a></div></div>
<div class="ttc" id="aconsole_8c_html_af894c57d604438464aac8127041c3305"><div class="ttname"><a href="console_8c.html#af894c57d604438464aac8127041c3305">ConBuffer_BytesLeft</a></div><div class="ttdeci">static char * ConBuffer_BytesLeft(conbuffer_t *buf, int len)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00297">console.c:297</a></div></div>
<div class="ttc" id="aconsole_8c_html_afa2bb27a9e0ac65b21ce054bc911e958"><div class="ttname"><a href="console_8c.html#afa2bb27a9e0ac65b21ce054bc911e958">con_chatrect</a></div><div class="ttdeci">cvar_t con_chatrect</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00053">console.c:53</a></div></div>
<div class="ttc" id="aconsole_8c_html_afd8f8b9bd0352435b1a96b4e77b965e3"><div class="ttname"><a href="console_8c.html#afd8f8b9bd0352435b1a96b4e77b965e3">Log_Printf</a></div><div class="ttdeci">void Log_Printf(const char *logfilename, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00659">console.c:659</a></div></div>
<div class="ttc" id="aconsole_8c_html_afd9699f7f4b58a97d95e3c4f21d9ad68"><div class="ttname"><a href="console_8c.html#afd9699f7f4b58a97d95e3c4f21d9ad68">Log_Close</a></div><div class="ttdeci">void Log_Close(void)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00525">console.c:525</a></div></div>
<div class="ttc" id="aconsole_8c_html_afeef974bf24a95e24835386574edd36f"><div class="ttname"><a href="console_8c.html#afeef974bf24a95e24835386574edd36f">Log_ConPrint</a></div><div class="ttdeci">void Log_ConPrint(const char *msg)</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00588">console.c:588</a></div></div>
<div class="ttc" id="aconsole_8c_html_aff69bf7abed313cc39d942fb3e20b978"><div class="ttname"><a href="console_8c.html#aff69bf7abed313cc39d942fb3e20b978">con_backscroll</a></div><div class="ttdeci">int con_backscroll</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00037">console.c:37</a></div></div>
<div class="ttc" id="aconsole_8h_html_a17088a3df936633ec27c6200e2cd2e2c"><div class="ttname"><a href="console_8h.html#a17088a3df936633ec27c6200e2cd2e2c">CONBUFFER_LINES</a></div><div class="ttdeci">#define CONBUFFER_LINES(buf, i)</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00131">console.h:131</a></div></div>
<div class="ttc" id="aconsole_8h_html_a2001a323865934b60e098bf5a58b39c0"><div class="ttname"><a href="console_8h.html#a2001a323865934b60e098bf5a58b39c0">CON_MASK_HIDENOTIFY</a></div><div class="ttdeci">#define CON_MASK_HIDENOTIFY</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00101">console.h:101</a></div></div>
<div class="ttc" id="aconsole_8h_html_a2ba31a297227b3176b6a985edff208d0"><div class="ttname"><a href="console_8h.html#a2ba31a297227b3176b6a985edff208d0">CONBUFFER_LINES_LAST</a></div><div class="ttdeci">#define CONBUFFER_LINES_LAST(buf)</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00133">console.h:133</a></div></div>
<div class="ttc" id="aconsole_8h_html_a2f4f6bacee3ae55de9c669b17335381f"><div class="ttname"><a href="console_8h.html#a2f4f6bacee3ae55de9c669b17335381f">CON_MASK_DEVELOPER</a></div><div class="ttdeci">#define CON_MASK_DEVELOPER</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00104">console.h:104</a></div></div>
<div class="ttc" id="aconsole_8h_html_a4b845e6fa0b65870818e9f0605771bde"><div class="ttname"><a href="console_8h.html#a4b845e6fa0b65870818e9f0605771bde">CON_MASK_PRINT</a></div><div class="ttdeci">#define CON_MASK_PRINT</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00105">console.h:105</a></div></div>
<div class="ttc" id="aconsole_8h_html_a5279de6acde9d2be2caa28fc3e19f5c2"><div class="ttname"><a href="console_8h.html#a5279de6acde9d2be2caa28fc3e19f5c2">CON_MASK_CHAT</a></div><div class="ttdeci">#define CON_MASK_CHAT</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00102">console.h:102</a></div></div>
<div class="ttc" id="aconsole_8h_html_aafd666f4a8297af5872370bc79108257"><div class="ttname"><a href="console_8h.html#aafd666f4a8297af5872370bc79108257">CON_MASK_INPUT</a></div><div class="ttdeci">#define CON_MASK_INPUT</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00103">console.h:103</a></div></div>
<div class="ttc" id="aconsole_8h_html_ae151ed35a905aff75d5f5dc32cd965bb"><div class="ttname"><a href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a></div><div class="ttdeci">#define CON_ERROR</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00097">console.h:97</a></div></div>
<div class="ttc" id="acrypto-keygen-standalone_8c_html_a5b41c5ae4505891e6c53e26df197e02b"><div class="ttname"><a href="crypto-keygen-standalone_8c.html#a5b41c5ae4505891e6c53e26df197e02b">prefix</a></div><div class="ttdeci">const char * prefix</div><div class="ttdef"><b>Definition</b> <a href="crypto-keygen-standalone_8c_source.html#l00239">crypto-keygen-standalone.c:239</a></div></div>
<div class="ttc" id="acvar_8c_html_a65b55ce35a5bd18e379065651d5d6e15"><div class="ttname"><a href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a></div><div class="ttdeci">void Cvar_SetValueQuick(cvar_t *var, float value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00473">cvar.c:473</a></div></div>
<div class="ttc" id="acvar_8c_html_a6f37a084abf4715928f1a004181866f8"><div class="ttname"><a href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a></div><div class="ttdeci">void Cvar_SetQuick(cvar_t *var, const char *value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00436">cvar.c:436</a></div></div>
<div class="ttc" id="acvar_8c_html_a761a4afd6269c77240de57fc3d456584"><div class="ttname"><a href="cvar_8c.html#a761a4afd6269c77240de57fc3d456584">Cvar_VariableString</a></div><div class="ttdeci">const char * Cvar_VariableString(cvar_state_t *cvars, const char *var_name, unsigned neededflags)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00149">cvar.c:149</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="acvar_8c_html_ab9b412b21e53647aece79a7ff6ade70d"><div class="ttname"><a href="cvar_8c.html#ab9b412b21e53647aece79a7ff6ade70d">Cvar_CompleteBuildList</a></div><div class="ttdeci">const char ** Cvar_CompleteBuildList(cvar_state_t *cvars, const char *partial, unsigned neededflags)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00250">cvar.c:250</a></div></div>
<div class="ttc" id="acvar_8c_html_ae697a8adf0c37250780cbc821224b55b"><div class="ttname"><a href="cvar_8c.html#ae697a8adf0c37250780cbc821224b55b">Cvar_CompleteCvarPrint</a></div><div class="ttdeci">void Cvar_CompleteCvarPrint(cvar_state_t *cvars, const char *partial, unsigned neededflags)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00288">cvar.c:288</a></div></div>
<div class="ttc" id="acvar_8c_html_ae7d76b5ab4c55b1bab79148d8c2e5d01"><div class="ttname"><a href="cvar_8c.html#ae7d76b5ab4c55b1bab79148d8c2e5d01">Cvar_CompleteCountPossible</a></div><div class="ttdeci">int Cvar_CompleteCountPossible(cvar_state_t *cvars, const char *partial, unsigned neededflags)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00217">cvar.c:217</a></div></div>
<div class="ttc" id="acvar_8c_html_aea52742d731f4311621f013389d04a35"><div class="ttname"><a href="cvar_8c.html#aea52742d731f4311621f013389d04a35">Cvar_RegisterCallback</a></div><div class="ttdeci">void Cvar_RegisterCallback(cvar_t *variable, void(*callback)(cvar_t *))</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00495">cvar.c:495</a></div></div>
<div class="ttc" id="adarkplaces_8h_html_a2265930497ce2df118a49e66be5b6d9e"><div class="ttname"><a href="darkplaces_8h.html#a2265930497ce2df118a49e66be5b6d9e">engineversion</a></div><div class="ttdeci">char engineversion[128]</div><div class="ttdoc">version string for the corner of the console, crash messages, status command, etc</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00301">host.c:301</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2">CACHEPICFLAG_FAILONMISSING</a></div><div class="ttdeci">@ CACHEPICFLAG_FAILONMISSING</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00045">draw.h:44</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0">CACHEPICFLAG_NOCLAMP</a></div><div class="ttdeci">@ CACHEPICFLAG_NOCLAMP</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00039">draw.h:39</a></div></div>
<div class="ttc" id="adraw_8h_html_a1cf461d84ebe0feb95c54152b29651f1"><div class="ttname"><a href="draw_8h.html#a1cf461d84ebe0feb95c54152b29651f1">DrawQ_TextWidth_UntilWidth_TrackColors</a></div><div class="ttdeci">float DrawQ_TextWidth_UntilWidth_TrackColors(const char *text, size_t *maxlen, float w, float h, int *outcolor, qbool ignorecolorcodes, const dp_font_t *fnt, float maxwidth)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01323">gl_draw.c:1323</a></div></div>
<div class="ttc" id="adraw_8h_html_a22c12f7dabc03f2e086052521a2ec2fc"><div class="ttname"><a href="draw_8h.html#a22c12f7dabc03f2e086052521a2ec2fc">DrawQ_Fill</a></div><div class="ttdeci">void DrawQ_Fill(float x, float y, float width, float height, float red, float green, float blue, float alpha, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00846">gl_draw.c:846</a></div></div>
<div class="ttc" id="adraw_8h_html_a438c27be6cd45a22749834828338d23a"><div class="ttname"><a href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a></div><div class="ttdeci">#define STRING_COLOR_RGB_TAG_CHAR</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00143">draw.h:143</a></div></div>
<div class="ttc" id="adraw_8h_html_a4a29fbabcad426cddb939f9955a1f326"><div class="ttname"><a href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a></div><div class="ttdeci">void DrawQ_SuperPic(float x, float y, cachepic_t *pic, float width, float height, float s1, float t1, float r1, float g1, float b1, float a1, float s2, float t2, float r2, float g2, float b2, float a2, float s3, float t3, float r3, float g3, float b3, float a3, float s4, float t4, float r4, float g4, float b4, float a4, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01378">gl_draw.c:1378</a></div></div>
<div class="ttc" id="adraw_8h_html_a62b36ff097e22b63619ac86835c012f7"><div class="ttname"><a href="draw_8h.html#a62b36ff097e22b63619ac86835c012f7">FONT_CHAT</a></div><div class="ttdeci">#define FONT_CHAT</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00132">draw.h:132</a></div></div>
<div class="ttc" id="adraw_8h_html_a67cbc421ff78872692a5e6e50d0c40a9"><div class="ttname"><a href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a></div><div class="ttdeci">#define FONT_CONSOLE</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00129">draw.h:129</a></div></div>
<div class="ttc" id="adraw_8h_html_a76f1009f2386b42dfad25268af32b1d3"><div class="ttname"><a href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a></div><div class="ttdeci">float DrawQ_String(float x, float y, const char *text, size_t maxlen, float scalex, float scaley, float basered, float basegreen, float baseblue, float basealpha, int flags, int *outcolor, qbool ignorecolorcodes, const dp_font_t *fnt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01318">gl_draw.c:1318</a></div></div>
<div class="ttc" id="adraw_8h_html_a924bb151d47e7e82d9690f2b6537247d"><div class="ttname"><a href="draw_8h.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a></div><div class="ttdeci">cachepic_t * Draw_CachePic_Flags(const char *path, unsigned int cachepicflags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00085">gl_draw.c:85</a></div></div>
<div class="ttc" id="adraw_8h_html_a9fc49f8bafec6291dd041c965b4849e4"><div class="ttname"><a href="draw_8h.html#a9fc49f8bafec6291dd041c965b4849e4">FONT_NOTIFY</a></div><div class="ttdeci">#define FONT_NOTIFY</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00131">draw.h:131</a></div></div>
<div class="ttc" id="adraw_8h_html_aa4629677424af2c7a2d8b6771723cfeb"><div class="ttname"><a href="draw_8h.html#aa4629677424af2c7a2d8b6771723cfeb">DrawQ_TextWidth</a></div><div class="ttdeci">float DrawQ_TextWidth(const char *text, size_t maxlen, float w, float h, qbool ignorecolorcodes, const dp_font_t *fnt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01328">gl_draw.c:1328</a></div></div>
<div class="ttc" id="adraw_8h_html_acb02c3ade677ca95cc43f3febab11208"><div class="ttname"><a href="draw_8h.html#acb02c3ade677ca95cc43f3febab11208">DrawQ_TextWidth_UntilWidth</a></div><div class="ttdeci">float DrawQ_TextWidth_UntilWidth(const char *text, size_t *maxlen, float w, float h, qbool ignorecolorcodes, const dp_font_t *fnt, float maxWidth)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01333">gl_draw.c:1333</a></div></div>
<div class="ttc" id="adraw_8h_html_adb77a905f94280bd1251a75e005ab496"><div class="ttname"><a href="draw_8h.html#adb77a905f94280bd1251a75e005ab496">STRING_COLOR_DEFAULT</a></div><div class="ttdeci">#define STRING_COLOR_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00141">draw.h:141</a></div></div>
<div class="ttc" id="adraw_8h_html_af86c2b624887b3cb7b94531be8ab324b"><div class="ttname"><a href="draw_8h.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a></div><div class="ttdeci">qbool Draw_IsPicLoaded(cachepic_t *pic)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00210">gl_draw.c:210</a></div></div>
<div class="ttc" id="adraw_8h_html_afeab87723022e4c281789f37b3c3846d"><div class="ttname"><a href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a></div><div class="ttdeci">#define STRING_COLOR_TAG</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00140">draw.h:140</a></div></div>
<div class="ttc" id="afilematch_8c_html_a01e600ee2a0c86b043bcf414084bc3d9"><div class="ttname"><a href="filematch_8c.html#a01e600ee2a0c86b043bcf414084bc3d9">stringlistfreecontents</a></div><div class="ttdeci">void stringlistfreecontents(stringlist_t *list)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00087">filematch.c:87</a></div></div>
<div class="ttc" id="afilematch_8c_html_a2b0cdef5c25791847049fed8d04fa73d"><div class="ttname"><a href="filematch_8c.html#a2b0cdef5c25791847049fed8d04fa73d">stringlistinit</a></div><div class="ttdeci">void stringlistinit(stringlist_t *list)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00082">filematch.c:82</a></div></div>
<div class="ttc" id="afilematch_8c_html_a3462b7b4d7253c46111da15a55b31906"><div class="ttname"><a href="filematch_8c.html#a3462b7b4d7253c46111da15a55b31906">stringlistsort</a></div><div class="ttdeci">void stringlistsort(stringlist_t *list, qbool uniq)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00129">filematch.c:129</a></div></div>
<div class="ttc" id="afilematch_8c_html_a60d201c2a2bdcc851078bf6999fe0075"><div class="ttname"><a href="filematch_8c.html#a60d201c2a2bdcc851078bf6999fe0075">stringlistappend</a></div><div class="ttdeci">void stringlistappend(stringlist_t *list, const char *text)</div><div class="ttdef"><b>Definition</b> <a href="filematch_8c_source.html#l00103">filematch.c:103</a></div></div>
<div class="ttc" id="afractalnoise_8c_html_a86fdeed0593c5e3b95d1f2447350ca96"><div class="ttname"><a href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a></div><div class="ttdeci">#define n(x, y)</div></div>
<div class="ttc" id="afs_8c_html_a06be02d84167befd9817197abb0c2100"><div class="ttname"><a href="fs_8c.html#a06be02d84167befd9817197abb0c2100">FS_Read</a></div><div class="ttdeci">fs_offset_t FS_Read(qfile_t *file, void *buffer, size_t buffersize)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03062">fs.c:3062</a></div></div>
<div class="ttc" id="afs_8c_html_a146922363508573499a2391fd3e0bf1f"><div class="ttname"><a href="fs_8c.html#a146922363508573499a2391fd3e0bf1f">FS_OpenVirtualFile</a></div><div class="ttdeci">qfile_t * FS_OpenVirtualFile(const char *filepath, qbool quiet)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02924">fs.c:2924</a></div></div>
<div class="ttc" id="afs_8c_html_a2ef891979f8e7a5158ab1ade82cd733f"><div class="ttname"><a href="fs_8c.html#a2ef891979f8e7a5158ab1ade82cd733f">FS_Write</a></div><div class="ttdeci">fs_offset_t FS_Write(qfile_t *file, const void *data, size_t datasize)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03015">fs.c:3015</a></div></div>
<div class="ttc" id="afs_8c_html_a46b9b5ad3cc14f77ae63016505163128"><div class="ttname"><a href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a></div><div class="ttdeci">unsigned char * FS_LoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03536">fs.c:3536</a></div></div>
<div class="ttc" id="afs_8c_html_a507c1fe37a20105eb2c08896f0d399a1"><div class="ttname"><a href="fs_8c.html#a507c1fe37a20105eb2c08896f0d399a1">FS_FreeSearch</a></div><div class="ttdeci">void FS_FreeSearch(fssearch_t *search)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03958">fs.c:3958</a></div></div>
<div class="ttc" id="afs_8c_html_a637b96ed07f8e70398c51a8bc3ce4fb9"><div class="ttname"><a href="fs_8c.html#a637b96ed07f8e70398c51a8bc3ce4fb9">FS_Search</a></div><div class="ttdeci">fssearch_t * FS_Search(const char *pattern, int caseinsensitive, int quiet, const char *packfile)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03751">fs.c:3751</a></div></div>
<div class="ttc" id="afs_8c_html_a66af7e39cdce25212e2aae7bfccc9029"><div class="ttname"><a href="fs_8c.html#a66af7e39cdce25212e2aae7bfccc9029">FS_VPrintf</a></div><div class="ttdeci">int FS_VPrintf(qfile_t *file, const char *format, va_list ap)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03289">fs.c:3289</a></div></div>
<div class="ttc" id="afs_8c_html_a695442a3ff4506082973bc053c1ec983"><div class="ttname"><a href="fs_8c.html#a695442a3ff4506082973bc053c1ec983">FS_Seek</a></div><div class="ttdeci">int FS_Seek(qfile_t *file, fs_offset_t offset, int whence)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03355">fs.c:3355</a></div></div>
<div class="ttc" id="afs_8c_html_a7757c6165ecaee803fba8e3d1db3e2e9"><div class="ttname"><a href="fs_8c.html#a7757c6165ecaee803fba8e3d1db3e2e9">FS_OpenRealFile</a></div><div class="ttdeci">qfile_t * FS_OpenRealFile(const char *filepath, const char *mode, qbool quiet)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02897">fs.c:2897</a></div></div>
<div class="ttc" id="afs_8c_html_a7b0e1a268dfbcc16a3271a7c66938f82"><div class="ttname"><a href="fs_8c.html#a7b0e1a268dfbcc16a3271a7c66938f82">FS_FileType</a></div><div class="ttdeci">int FS_FileType(const char *filename)</div><div class="ttdoc">Look for a file in the packages and in the filesystem.</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03663">fs.c:3663</a></div></div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="afs_8c_html_abcf26e98f08b7bbcc5645486294ebb5c"><div class="ttname"><a href="fs_8c.html#abcf26e98f08b7bbcc5645486294ebb5c">FS_Close</a></div><div class="ttdeci">int FS_Close(qfile_t *file)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l02966">fs.c:2966</a></div></div>
<div class="ttc" id="afs_8c_html_ae1e3a888c966ea1276ad5dab8d731414"><div class="ttname"><a href="fs_8c.html#ae1e3a888c966ea1276ad5dab8d731414">FS_Print</a></div><div class="ttdeci">int FS_Print(qfile_t *file, const char *msg)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03257">fs.c:3257</a></div></div>
<div class="ttc" id="afs_8h_html_a58576c47f72a4aac28e8f0dd21afcd6e"><div class="ttname"><a href="fs_8h.html#a58576c47f72a4aac28e8f0dd21afcd6e">FS_FILETYPE_DIRECTORY</a></div><div class="ttdeci">#define FS_FILETYPE_DIRECTORY</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00139">fs.h:139</a></div></div>
<div class="ttc" id="afs_8h_html_a90005d60fdef35368e321d49ac2c865c"><div class="ttname"><a href="fs_8h.html#a90005d60fdef35368e321d49ac2c865c">FS_FILETYPE_FILE</a></div><div class="ttdeci">#define FS_FILETYPE_FILE</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00138">fs.h:138</a></div></div>
<div class="ttc" id="aft2_8h_html"><div class="ttname"><a href="ft2_8h.html">ft2.h</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a44f620c02d4d161cb05101d8788db4de"><div class="ttname"><a href="gl__draw_8c.html#a44f620c02d4d161cb05101d8788db4de">r_draw2d_force</a></div><div class="ttdeci">qbool r_draw2d_force</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00794">gl_draw.c:794</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0e843e6cb4b0547b3a2b414af3d53a53"><div class="ttname"><a href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a></div><div class="ttdeci">GLenum GLsizei width</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a136cce2f78c36b837ec3c8cf72c96aad"><div class="ttname"><a href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a></div><div class="ttdeci">GLenum GLsizei GLsizei height</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a161f4efd20c5f2bfc9a7c49c07be7ed7"><div class="ttname"><a href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a></div><div class="ttdeci">GLubyte GLubyte GLubyte GLubyte w</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00781">glquake.h:781</a></div></div>
<div class="ttc" id="aglquake_8h_html_a26a9807262dc858feb31c318b02fc072"><div class="ttname"><a href="glquake_8h.html#a26a9807262dc858feb31c318b02fc072">mode</a></div><div class="ttdeci">GLenum mode</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00717">glquake.h:717</a></div></div>
<div class="ttc" id="aglquake_8h_html_a2c9b7a4e54811e2f08046acf2ad8f2d5"><div class="ttname"><a href="glquake_8h.html#a2c9b7a4e54811e2f08046acf2ad8f2d5">mask</a></div><div class="ttdeci">GLint GLint GLint GLint GLint GLint GLint GLbitfield mask</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00608">glquake.h:608</a></div></div>
<div class="ttc" id="aglquake_8h_html_a303f3de7a8816217b5a6987c647164b1"><div class="ttname"><a href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a></div><div class="ttdeci">GLsizei const GLfloat * value</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00739">glquake.h:739</a></div></div>
<div class="ttc" id="aglquake_8h_html_a39774db434725e51f4ad4c04150ed6a1"><div class="ttname"><a href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00629">glquake.h:629</a></div></div>
<div class="ttc" id="aglquake_8h_html_a486f808b7baede12df3669de9b413b92"><div class="ttname"><a href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei length</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="aglquake_8h_html_a4d1613b1e415f5e41c4651a1793b277a"><div class="ttname"><a href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a></div><div class="ttdeci">const GLdouble * v</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00761">glquake.h:761</a></div></div>
<div class="ttc" id="aglquake_8h_html_a51af0e2e7aa22f9dc0c188ee8baa7a11"><div class="ttname"><a href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a></div><div class="ttdeci">GLenum GLenum GLsizei count</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="aglquake_8h_html_a563ae63395ca802a7c65b4f461fbf0d4"><div class="ttname"><a href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a></div><div class="ttdeci">GLint GLenum GLint GLint y</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a75c9c896e11dc1eed9f9f1180b86d099"><div class="ttname"><a href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a820662f5b80a48256e2503352e9f51b9"><div class="ttname"><a href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a></div><div class="ttdeci">GLsizeiptr const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00638">glquake.h:638</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac0759919bfcf4c7222738ba583673a9e"><div class="ttname"><a href="glquake_8h.html#ac0759919bfcf4c7222738ba583673a9e">buf</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei const GLchar * buf</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac615821e7cf9469189648617cb1275be"><div class="ttname"><a href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00600">glquake.h:600</a></div></div>
<div class="ttc" id="aglquake_8h_html_adf0eeccd56a868827e37e4dacdfa7c32"><div class="ttname"><a href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a></div><div class="ttdeci">GLclampf GLclampf GLclampf alpha</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00641">glquake.h:641</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="aglquake_8h_html_afa45fc0640b31002c1792c59eb062c59"><div class="ttname"><a href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a></div><div class="ttdeci">void(GLAPIENTRY *qglActiveTexture)(GLenum texture)</div></div>
<div class="ttc" id="ahost_8c_html_a0f852a9c1ca7535482bd2917bc62ff41"><div class="ttname"><a href="host_8c.html#a0f852a9c1ca7535482bd2917bc62ff41">developer</a></div><div class="ttdeci">cvar_t developer</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00048">host.c:48</a></div></div>
<div class="ttc" id="ahost_8c_html_a18cf3cec0ecbf5cc14125f494c49023d"><div class="ttname"><a href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a></div><div class="ttdeci">host_static_t host</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00041">host.c:41</a></div></div>
<div class="ttc" id="ahost_8c_html_a2d29d0100dc86ae96b813350bb2b6c32"><div class="ttname"><a href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a></div><div class="ttdeci">cvar_t developer_extra</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00049">host.c:49</a></div></div>
<div class="ttc" id="akeys_8c_html_a491d45305a5c9f8e96a29a620fd715dd"><div class="ttname"><a href="keys_8c.html#a491d45305a5c9f8e96a29a620fd715dd">chat_bufferpos</a></div><div class="ttdeci">int chat_bufferpos</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00701">keys.c:701</a></div></div>
<div class="ttc" id="akeys_8c_html_a5eb44539079166018cc9bc3f8a257a2e"><div class="ttname"><a href="keys_8c.html#a5eb44539079166018cc9bc3f8a257a2e">key_linepos</a></div><div class="ttdeci">int key_linepos</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00035">keys.c:35</a></div></div>
<div class="ttc" id="akeys_8c_html_a679e79ce9d301b41385b64d779770346"><div class="ttname"><a href="keys_8c.html#a679e79ce9d301b41385b64d779770346">chat_mode</a></div><div class="ttdeci">signed char chat_mode</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00699">keys.c:699</a></div></div>
<div class="ttc" id="akeys_8c_html_a8b4736750c9296fb08952a514f2a6836"><div class="ttname"><a href="keys_8c.html#a8b4736750c9296fb08952a514f2a6836">chat_buffer</a></div><div class="ttdeci">char chat_buffer[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00700">keys.c:700</a></div></div>
<div class="ttc" id="akeys_8c_html_ab7f45c2a8b99637d13968926e75916af"><div class="ttname"><a href="keys_8c.html#ab7f45c2a8b99637d13968926e75916af">key_line</a></div><div class="ttdeci">char key_line[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00034">keys.c:34</a></div></div>
<div class="ttc" id="akeys_8c_html_acf4f352e2f3ec64ff93004bd5cd52ff0"><div class="ttname"><a href="keys_8c.html#acf4f352e2f3ec64ff93004bd5cd52ff0">key_dest</a></div><div class="ttdeci">keydest_t key_dest</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00037">keys.c:37</a></div></div>
<div class="ttc" id="akeys_8c_html_ae5cf43f2afedfc432378809293de8b87"><div class="ttname"><a href="keys_8c.html#ae5cf43f2afedfc432378809293de8b87">key_insert</a></div><div class="ttdeci">qbool key_insert</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00036">keys.c:36</a></div></div>
<div class="ttc" id="akeys_8c_html_aeffe36d6db440e4616c9d7eabe56f16a"><div class="ttname"><a href="keys_8c.html#aeffe36d6db440e4616c9d7eabe56f16a">key_consoleactive</a></div><div class="ttdeci">int key_consoleactive</div><div class="ttdef"><b>Definition</b> <a href="keys_8c_source.html#l00038">keys.c:38</a></div></div>
<div class="ttc" id="akeys_8h_html_a8dc85da7f82f88153f2244c7214405e2"><div class="ttname"><a href="keys_8h.html#a8dc85da7f82f88153f2244c7214405e2">KEY_CONSOLEACTIVE_USER</a></div><div class="ttdeci">#define KEY_CONSOLEACTIVE_USER</div><div class="ttdef"><b>Definition</b> <a href="keys_8h_source.html#l00380">keys.h:380</a></div></div>
<div class="ttc" id="akeys_8h_html_aadf1384626a83f4eb163aaa209c84972a66791fcb621ea8dd8efe85bdd4ec649d"><div class="ttname"><a href="keys_8h.html#aadf1384626a83f4eb163aaa209c84972a66791fcb621ea8dd8efe85bdd4ec649d">key_message</a></div><div class="ttdeci">@ key_message</div><div class="ttdef"><b>Definition</b> <a href="keys_8h_source.html#l00372">keys.h:372</a></div></div>
<div class="ttc" id="alhnet_8c_html_a5dbacd69a7b0e891167efa403d24be29"><div class="ttname"><a href="lhnet_8c.html#a5dbacd69a7b0e891167efa403d24be29">LHNETADDRESS_FromString</a></div><div class="ttdeci">int LHNETADDRESS_FromString(lhnetaddress_t *vaddress, const char *string, int defaultport)</div><div class="ttdef"><b>Definition</b> <a href="lhnet_8c_source.html#l00204">lhnet.c:204</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
<div class="ttc" id="amathlib_8h_html_a553641b2aac0b2a7c43f9f74f8333fd5"><div class="ttname"><a href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a></div><div class="ttdeci">#define bound(min, num, max)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00034">mathlib.h:34</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_aab35c56c2580d29ecaed8ec5e0b25179"><div class="ttname"><a href="model__q2bsp_8h.html#aab35c56c2580d29ecaed8ec5e0b25179">Q2LUMP_ENTITIES</a></div><div class="ttdeci">#define Q2LUMP_ENTITIES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00014">model_q2bsp.h:14</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_ad263d0ae9d22f8f811b8ce50ff906fee"><div class="ttname"><a href="model__q2bsp_8h.html#ad263d0ae9d22f8f811b8ce50ff906fee">Q2BSPVERSION</a></div><div class="ttdeci">#define Q2BSPVERSION</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00007">model_q2bsp.h:7</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a60f1802e42cb9ab26b7d528c9eb667bc"><div class="ttname"><a href="model__q3bsp_8h.html#a60f1802e42cb9ab26b7d528c9eb667bc">Q3BSPVERSION_IG</a></div><div class="ttdeci">#define Q3BSPVERSION_IG</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00013">model_q3bsp.h:13</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a87d5d3f72d94456869a6babe9ddd8f6e"><div class="ttname"><a href="model__q3bsp_8h.html#a87d5d3f72d94456869a6babe9ddd8f6e">Q3BSPVERSION_LIVE</a></div><div class="ttdeci">#define Q3BSPVERSION_LIVE</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00012">model_q3bsp.h:12</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a9b5ad0acdbf58d3e7ca623aec169769e"><div class="ttname"><a href="model__q3bsp_8h.html#a9b5ad0acdbf58d3e7ca623aec169769e">Q3LUMP_ENTITIES</a></div><div class="ttdeci">#define Q3LUMP_ENTITIES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00015">model_q3bsp.h:15</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_afa2ad4ff1291015382d9b4bc76493bbf"><div class="ttname"><a href="model__q3bsp_8h.html#afa2ad4ff1291015382d9b4bc76493bbf">Q3BSPVERSION</a></div><div class="ttdeci">#define Q3BSPVERSION</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00011">model_q3bsp.h:11</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_ad2b6dc61860c0ab82a7d99ee1135279f"><div class="ttname"><a href="model__vbsp_8h.html#ad2b6dc61860c0ab82a7d99ee1135279f">HL2LUMP_ENTITIES</a></div><div class="ttdeci">#define HL2LUMP_ENTITIES</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00074">model_vbsp.h:74</a></div></div>
<div class="ttc" id="anetconn_8c_html_a1e8a8700531fab7a9c69ff0ff0258e9f"><div class="ttname"><a href="netconn_8c.html#a1e8a8700531fab7a9c69ff0ff0258e9f">NetConn_Write</a></div><div class="ttdeci">int NetConn_Write(lhnetsocket_t *mysocket, const void *data, int length, const lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00748">netconn.c:748</a></div></div>
<div class="ttc" id="anetconn_8c_html_a29cc54ca5c12633b26f6f8817d5616b4"><div class="ttname"><a href="netconn_8c.html#a29cc54ca5c12633b26f6f8817d5616b4">NetConn_WriteString</a></div><div class="ttdeci">int NetConn_WriteString(lhnetsocket_t *mysocket, const char *string, const lhnetaddress_t *peeraddress)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l00773">netconn.c:773</a></div></div>
<div class="ttc" id="anetconn_8c_html_a4bbc5734d010c1d64a87a9449cdeff73"><div class="ttname"><a href="netconn_8c.html#a4bbc5734d010c1d64a87a9449cdeff73">NetConn_ChooseClientSocketForAddress</a></div><div class="ttdeci">lhnetsocket_t * NetConn_ChooseClientSocketForAddress(lhnetaddress_t *address)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01188">netconn.c:1188</a></div></div>
<div class="ttc" id="anetconn_8c_html_a6e8283a1941210dbd930b075f06f47be"><div class="ttname"><a href="netconn_8c.html#a6e8283a1941210dbd930b075f06f47be">NetConn_HaveServerPorts</a></div><div class="ttdeci">qbool NetConn_HaveServerPorts(void)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01047">netconn.c:1047</a></div></div>
<div class="ttc" id="anetconn_8c_html_a905461d7c70f462cee1bfa2b71a55212"><div class="ttname"><a href="netconn_8c.html#a905461d7c70f462cee1bfa2b71a55212">NetConn_ChooseServerSocketForAddress</a></div><div class="ttdeci">lhnetsocket_t * NetConn_ChooseServerSocketForAddress(lhnetaddress_t *address)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01199">netconn.c:1199</a></div></div>
<div class="ttc" id="anetconn_8c_html_aa53835dcfee384f2ae5dfb8dae2054ce"><div class="ttname"><a href="netconn_8c.html#aa53835dcfee384f2ae5dfb8dae2054ce">NetConn_HaveClientPorts</a></div><div class="ttdeci">qbool NetConn_HaveClientPorts(void)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01042">netconn.c:1042</a></div></div>
<div class="ttc" id="anetconn_8c_html_ac66d2369a44114a1c4ec19d7ce9acdbb"><div class="ttname"><a href="netconn_8c.html#ac66d2369a44114a1c4ec19d7ce9acdbb">NetConn_OpenServerPorts</a></div><div class="ttdeci">void NetConn_OpenServerPorts(int opennetports)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01158">netconn.c:1158</a></div></div>
<div class="ttc" id="anetconn_8c_html_ad45b0918fbf9513a47eaf51b27b1c6de"><div class="ttname"><a href="netconn_8c.html#ad45b0918fbf9513a47eaf51b27b1c6de">NetConn_CloseServerPorts</a></div><div class="ttdeci">void NetConn_CloseServerPorts(void)</div><div class="ttdef"><b>Definition</b> <a href="netconn_8c_source.html#l01111">netconn.c:1111</a></div></div>
<div class="ttc" id="anetconn_8h_html_a292ee6efb14953f64ea03ddd1988b202"><div class="ttname"><a href="netconn_8h.html#a292ee6efb14953f64ea03ddd1988b202">NETFLAG_CTL</a></div><div class="ttdeci">#define NETFLAG_CTL</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00044">netconn.h:44</a></div></div>
<div class="ttc" id="anetconn_8h_html_abe7bdee8ebd04fe500a9559a1c3586c0"><div class="ttname"><a href="netconn_8h.html#abe7bdee8ebd04fe500a9559a1c3586c0">NETFLAG_LENGTH_MASK</a></div><div class="ttdeci">#define NETFLAG_LENGTH_MASK</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00035">netconn.h:35</a></div></div>
<div class="ttc" id="anetconn_8h_html_acb3c0eab3fea68fb640acc8f8bb622b7"><div class="ttname"><a href="netconn_8h.html#acb3c0eab3fea68fb640acc8f8bb622b7">CCREP_RCON</a></div><div class="ttdeci">#define CCREP_RCON</div><div class="ttdef"><b>Definition</b> <a href="netconn_8h_source.html#l00130">netconn.h:130</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a119f8457078d7390fb45ea0838adb806"><div class="ttname"><a href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a></div><div class="ttdeci">#define MAX_INPUTLINE</div><div class="ttdoc">maximum size of console commandline, QuakeC strings, and many other text processing buffers</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00094">qdefs.h:94</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a1d63847eb5a8c046655fe8ba8a3ff85b"><div class="ttname"><a href="qdefs_8h.html#a1d63847eb5a8c046655fe8ba8a3ff85b">MAX_OSPATH</a></div><div class="ttdeci">#define MAX_OSPATH</div><div class="ttdoc">max length of a filesystem pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00175">qdefs.h:175</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a4e301d35bcc309254e72cb99af785ce5"><div class="ttname"><a href="qdefs_8h.html#a4e301d35bcc309254e72cb99af785ce5">ISWHITESPACE</a></div><div class="ttdeci">#define ISWHITESPACE(ch)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00184">qdefs.h:184</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a710a6657447f76bcb225a827902f4ff9"><div class="ttname"><a href="qdefs_8h.html#a710a6657447f76bcb225a827902f4ff9">CON_TEXTSIZE</a></div><div class="ttdeci">#define CON_TEXTSIZE</div><div class="ttdoc">max scrollback buffer characters in console</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00095">qdefs.h:95</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abd087fbdacf85b4c7bbd6936c5460ff9"><div class="ttname"><a href="qdefs_8h.html#abd087fbdacf85b4c7bbd6936c5460ff9">MAX_SCOREBOARDNAME</a></div><div class="ttdeci">#define MAX_SCOREBOARDNAME</div><div class="ttdoc">max length of player name in game</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00111">qdefs.h:111</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abd4ae30fcfdcbbff51bbf3f4e6daeee7"><div class="ttname"><a href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a></div><div class="ttdeci">#define MAX_QPATH</div><div class="ttdoc">max length of a quake game pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00169">qdefs.h:169</a></div></div>
<div class="ttc" id="aqdefs_8h_html_ae5218da78268f57fde3aa61b58b23ab7"><div class="ttname"><a href="qdefs_8h.html#ae5218da78268f57fde3aa61b58b23ab7">CON_MAXLINES</a></div><div class="ttdeci">#define CON_MAXLINES</div><div class="ttdoc">max scrollback buffer lines in console</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00096">qdefs.h:96</a></div></div>
<div class="ttc" id="aqdefs_8h_html_aed8574780769dc8889d87ccf4076eb4d"><div class="ttname"><a href="qdefs_8h.html#aed8574780769dc8889d87ccf4076eb4d">MAX_SCOREBOARD</a></div><div class="ttdeci">#define MAX_SCOREBOARD</div><div class="ttdoc">max number of players in game at once (255 protocol limit)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00110">qdefs.h:110</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
<div class="ttc" id="aquakedef_8h_html"><div class="ttname"><a href="quakedef_8h.html">quakedef.h</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a008e65201d4481545ed89903a22f667a"><div class="ttname"><a href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a></div><div class="ttdeci">dp_FragColor r</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00375">shader_glsl.h:375</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a25f2e1fef7cecde0255a3dde64ab4979"><div class="ttname"><a href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a></div><div class="ttdeci">vec3 color</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00505">shader_glsl.h:505</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a2ab77c89eb79b49ccd22bb1b2ad48bf1"><div class="ttname"><a href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a></div><div class="ttdeci">precision highp float</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00045">shader_glsl.h:45</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a5ec19189388a37fcddc7258e29a40335"><div class="ttname"><a href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a></div><div class="ttdeci">dp_FragColor g</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00385">shader_glsl.h:385</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a731feb93da8dc28ee53e37b43daabd06"><div class="ttname"><a href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a></div><div class="ttdeci">float f</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00586">shader_glsl.h:586</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ac369ee41cd9c6dc18e09c3293e27cf81"><div class="ttname"><a href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a></div><div class="ttdeci">dp_FragColor b</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00386">shader_glsl.h:386</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ada7daae51ef1e670767c18b83ea78044"><div class="ttname"><a href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a></div><div class="ttdeci">ret a</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00296">shader_glsl.h:296</a></div></div>
<div class="ttc" id="asnd__main_8c_html_a4d633abdbed318fd5b12833e0ca6cbcf"><div class="ttname"><a href="snd__main_8c.html#a4d633abdbed318fd5b12833e0ca6cbcf">S_LocalSound</a></div><div class="ttdeci">qbool S_LocalSound(const char *sound)</div><div class="ttdef"><b>Definition</b> <a href="snd__main_8c_source.html#l02273">snd_main.c:2273</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a3272915ab2b2a751f50ba2f848ca34bf"><div class="ttname"><a href="structclient__state__t.html#a3272915ab2b2a751f50ba2f848ca34bf">client_state_t::foundteamchatsound</a></div><div class="ttdeci">qbool foundteamchatsound</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00930">client.h:930</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a5af0ce993d147b541f367af584bac085"><div class="ttname"><a href="structclient__state__t.html#a5af0ce993d147b541f367af584bac085">client_state_t::scores</a></div><div class="ttdeci">scoreboard_t * scores</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00946">client.h:946</a></div></div>
<div class="ttc" id="astructclient__state__t_html_a86c0d436e5ea559d44b857ac77e5218c"><div class="ttname"><a href="structclient__state__t.html#a86c0d436e5ea559d44b857ac77e5218c">client_state_t::maxclients</a></div><div class="ttdeci">int maxclients</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00913">client.h:913</a></div></div>
<div class="ttc" id="astructclient__state__t_html_aa8238e617b9ada59bdb1c6b0482144d9"><div class="ttname"><a href="structclient__state__t.html#aa8238e617b9ada59bdb1c6b0482144d9">client_state_t::time</a></div><div class="ttdeci">double time</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00869">client.h:869</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a10140c26db835d333d65d68b530a6ddb"><div class="ttname"><a href="structclient__static__t.html#a10140c26db835d333d65d68b530a6ddb">client_static_t::demoplayback</a></div><div class="ttdeci">qbool demoplayback</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00588">client.h:588</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a6722e47d64e69141af5cdf392fcf95eb"><div class="ttname"><a href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">client_static_t::state</a></div><div class="ttdeci">cactive_t state</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00569">client.h:569</a></div></div>
<div class="ttc" id="astructcmd__state__t_html"><div class="ttname"><a href="structcmd__state__t.html">cmd_state_t</a></div><div class="ttdoc">command interpreter state - the tokenizing and execution of commands, as well as pointers to which cv...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00126">cmd.h:127</a></div></div>
<div class="ttc" id="astructcmd__state__t_html_a79890d4d2b41bda30e9377b6ace934a3"><div class="ttname"><a href="structcmd__state__t.html#a79890d4d2b41bda30e9377b6ace934a3">cmd_state_t::cvars_flagsmask</a></div><div class="ttdeci">unsigned cvars_flagsmask</div><div class="ttdoc">which CVAR_* flags should be visible to this interpreter? (CF_CLIENT | CF_SERVER, or just CF_SERVER)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00144">cmd.h:144</a></div></div>
<div class="ttc" id="astructcmd__state__t_html_acf27484efd239a330ab447b51b78cdb0"><div class="ttname"><a href="structcmd__state__t.html#acf27484efd239a330ab447b51b78cdb0">cmd_state_t::cvars</a></div><div class="ttdeci">struct cvar_state_s * cvars</div><div class="ttdoc">which cvar system is this cmd state able to access? (&amp;cvars_all or &amp;cvars_null)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00143">cmd.h:143</a></div></div>
<div class="ttc" id="astructcon__lineinfo__t_html"><div class="ttname"><a href="structcon__lineinfo__t.html">con_lineinfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00107">console.h:108</a></div></div>
<div class="ttc" id="astructcon__lineinfo__t_html_a1388ca2960b942d92912584ca44bf0a7"><div class="ttname"><a href="structcon__lineinfo__t.html#a1388ca2960b942d92912584ca44bf0a7">con_lineinfo_t::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00110">console.h:110</a></div></div>
<div class="ttc" id="astructcon__lineinfo__t_html_a37f591a7d070284bb40db65e0c73a5dc"><div class="ttname"><a href="structcon__lineinfo__t.html#a37f591a7d070284bb40db65e0c73a5dc">con_lineinfo_t::mask</a></div><div class="ttdeci">unsigned mask</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00111">console.h:111</a></div></div>
<div class="ttc" id="astructcon__lineinfo__t_html_a6c4d83f1b89b0588a1c904cf42fa28ad"><div class="ttname"><a href="structcon__lineinfo__t.html#a6c4d83f1b89b0588a1c904cf42fa28ad">con_lineinfo_t::addtime</a></div><div class="ttdeci">double addtime</div><div class="ttdoc">used only by console.c</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00114">console.h:114</a></div></div>
<div class="ttc" id="astructcon__lineinfo__t_html_ac7382b91a7b6cf118930401da52d49f0"><div class="ttname"><a href="structcon__lineinfo__t.html#ac7382b91a7b6cf118930401da52d49f0">con_lineinfo_t::start</a></div><div class="ttdeci">char * start</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00109">console.h:109</a></div></div>
<div class="ttc" id="astructcon__lineinfo__t_html_aed11de203530b405824ce31b63b5bcdc"><div class="ttname"><a href="structcon__lineinfo__t.html#aed11de203530b405824ce31b63b5bcdc">con_lineinfo_t::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">recalculated line height when needed (-1 to unset)</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00115">console.h:115</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html"><div class="ttname"><a href="structcon__text__info__t.html">con_text_info_t</a></div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01636">console.c:1637</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_a2e7b2015e0b10b11a2d56e755b736bee"><div class="ttname"><a href="structcon__text__info__t.html#a2e7b2015e0b10b11a2d56e755b736bee">con_text_info_t::fontsize</a></div><div class="ttdeci">float fontsize</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01640">console.c:1640</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_a5e78d5325743d4d6cced94a85d6f7253"><div class="ttname"><a href="structcon__text__info__t.html#a5e78d5325743d4d6cced94a85d6f7253">con_text_info_t::continuationString</a></div><div class="ttdeci">const char * continuationString</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01645">console.c:1645</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_a6bb0d2fd8d7d33120ab35586dc1a6411"><div class="ttname"><a href="structcon__text__info__t.html#a6bb0d2fd8d7d33120ab35586dc1a6411">con_text_info_t::alignment</a></div><div class="ttdeci">float alignment</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01639">console.c:1639</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_a7f383ba1c1aebac062b9f8be98fa73ce"><div class="ttname"><a href="structcon__text__info__t.html#a7f383ba1c1aebac062b9f8be98fa73ce">con_text_info_t::colorindex</a></div><div class="ttdeci">int colorindex</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01648">console.c:1648</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_a892e7d524a1f2ed95ee85e0e87b79158"><div class="ttname"><a href="structcon__text__info__t.html#a892e7d524a1f2ed95ee85e0e87b79158">con_text_info_t::y</a></div><div class="ttdeci">float y</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01642">console.c:1642</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_aa4b36e6cde79d115af7c439024c70d07"><div class="ttname"><a href="structcon__text__info__t.html#aa4b36e6cde79d115af7c439024c70d07">con_text_info_t::width</a></div><div class="ttdeci">float width</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01643">console.c:1643</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_aa5655dd7a54a196304efbb923bf33987"><div class="ttname"><a href="structcon__text__info__t.html#aa5655dd7a54a196304efbb923bf33987">con_text_info_t::x</a></div><div class="ttdeci">float x</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01641">console.c:1641</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_ab5ed123f075385f2639ff036691048ed"><div class="ttname"><a href="structcon__text__info__t.html#ab5ed123f075385f2639ff036691048ed">con_text_info_t::ymax</a></div><div class="ttdeci">float ymax</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01644">console.c:1644</a></div></div>
<div class="ttc" id="astructcon__text__info__t_html_ae405665c2f432a7df841b911571684e0"><div class="ttname"><a href="structcon__text__info__t.html#ae405665c2f432a7df841b911571684e0">con_text_info_t::font</a></div><div class="ttdeci">dp_font_t * font</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01638">console.c:1638</a></div></div>
<div class="ttc" id="astructconbuffer__t_html"><div class="ttname"><a href="structconbuffer__t.html">conbuffer_t</a></div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00119">console.h:120</a></div></div>
<div class="ttc" id="astructconbuffer__t_html_abd66334c34fcb94034ea0bb72afe1913"><div class="ttname"><a href="structconbuffer__t.html#abd66334c34fcb94034ea0bb72afe1913">conbuffer_t::text</a></div><div class="ttdeci">char * text</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00123">console.h:123</a></div></div>
<div class="ttc" id="astructconbuffer__t_html_ad0fc0a209a4adf54ada6954c5fcdf4a8"><div class="ttname"><a href="structconbuffer__t.html#ad0fc0a209a4adf54ada6954c5fcdf4a8">conbuffer_t::textsize</a></div><div class="ttdeci">int textsize</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00122">console.h:122</a></div></div>
<div class="ttc" id="astructcvar__t_html"><div class="ttname"><a href="structcvar__t.html">cvar_t</a></div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00065">cvar.h:66</a></div></div>
<div class="ttc" id="astructcvar__t_html_a305faa0167494135297f1b8e6216d469"><div class="ttname"><a href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">cvar_t::value</a></div><div class="ttdeci">float value</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00074">cvar.h:74</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
<div class="ttc" id="astructcvar__t_html_aa8b859b9332810d238c09b51ea54a2f4"><div class="ttname"><a href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">cvar_t::string</a></div><div class="ttdeci">const char * string</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00071">cvar.h:71</a></div></div>
<div class="ttc" id="astructdp__font__t_html"><div class="ttname"><a href="structdp__font__t.html">dp_font_t</a></div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00097">draw.h:98</a></div></div>
<div class="ttc" id="astructfssearch__t_html"><div class="ttname"><a href="structfssearch__t.html">fssearch_t</a></div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00114">fs.h:115</a></div></div>
<div class="ttc" id="astructfssearch__t_html_abfd5d72affa6a223fd73ac54ef4ea902"><div class="ttname"><a href="structfssearch__t.html#abfd5d72affa6a223fd73ac54ef4ea902">fssearch_t::filenames</a></div><div class="ttdeci">char ** filenames</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00117">fs.h:117</a></div></div>
<div class="ttc" id="astructfssearch__t_html_acf25e45394beadf778f0ad46a16da534"><div class="ttname"><a href="structfssearch__t.html#acf25e45394beadf778f0ad46a16da534">fssearch_t::numfilenames</a></div><div class="ttdeci">int numfilenames</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00116">fs.h:116</a></div></div>
<div class="ttc" id="astructhl2dheader__t_html"><div class="ttname"><a href="structhl2dheader__t.html">hl2dheader_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00155">model_vbsp.h:156</a></div></div>
<div class="ttc" id="astructhl2dheader__t_html_a495c4715440039c60b1b56ed30c9148e"><div class="ttname"><a href="structhl2dheader__t.html#a495c4715440039c60b1b56ed30c9148e">hl2dheader_t::lumps</a></div><div class="ttdeci">hl2lump_t lumps[HL2HEADER_LUMPS]</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00159">model_vbsp.h:159</a></div></div>
<div class="ttc" id="astructhl2lump__t_html_a0711c879e064aaefaf6d1f7fcb8060fb"><div class="ttname"><a href="structhl2lump__t.html#a0711c879e064aaefaf6d1f7fcb8060fb">hl2lump_t::filelen</a></div><div class="ttdeci">int32_t filelen</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00150">model_vbsp.h:150</a></div></div>
<div class="ttc" id="astructhl2lump__t_html_ae026e2535bcafe994af20da9af6cac95"><div class="ttname"><a href="structhl2lump__t.html#ae026e2535bcafe994af20da9af6cac95">hl2lump_t::fileofs</a></div><div class="ttdeci">int32_t fileofs</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00150">model_vbsp.h:150</a></div></div>
<div class="ttc" id="astructhost__static__t_html_ac38d937c03a5f5f973a77641c0ae1280"><div class="ttname"><a href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">host_static_t::realtime</a></div><div class="ttdeci">double realtime</div><div class="ttdef"><b>Definition</b> <a href="host_8h_source.html#l00037">host.h:37</a></div></div>
<div class="ttc" id="astructlhnetaddress__t_html"><div class="ttname"><a href="structlhnetaddress__t.html">lhnetaddress_t</a></div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00019">lhnet.h:20</a></div></div>
<div class="ttc" id="astructlhnetsocket__t_html"><div class="ttname"><a href="structlhnetsocket__t.html">lhnetsocket_t</a></div><div class="ttdef"><b>Definition</b> <a href="lhnet_8h_source.html#l00043">lhnet.h:44</a></div></div>
<div class="ttc" id="astructlump__t_html_a8507a3815e7f17c0a4c6caac5f5655ac"><div class="ttname"><a href="structlump__t.html#a8507a3815e7f17c0a4c6caac5f5655ac">lump_t::fileofs</a></div><div class="ttdeci">int fileofs</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00036">bspfile.h:36</a></div></div>
<div class="ttc" id="astructlump__t_html_aa8725ca1f4de1d11f2b1a95d4610d4a6"><div class="ttname"><a href="structlump__t.html#aa8725ca1f4de1d11f2b1a95d4610d4a6">lump_t::filelen</a></div><div class="ttdeci">int filelen</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00036">bspfile.h:36</a></div></div>
<div class="ttc" id="astructmempool__t_html"><div class="ttname"><a href="structmempool__t.html">mempool_t</a></div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00064">zone.h:65</a></div></div>
<div class="ttc" id="astructq2dheader__t_html"><div class="ttname"><a href="structq2dheader__t.html">q2dheader_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00035">model_q2bsp.h:36</a></div></div>
<div class="ttc" id="astructq2dheader__t_html_a2cb0678b1516204778c5a9cec4e15b9e"><div class="ttname"><a href="structq2dheader__t.html#a2cb0678b1516204778c5a9cec4e15b9e">q2dheader_t::lumps</a></div><div class="ttdeci">lump_t lumps[Q2HEADER_LUMPS]</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00039">model_q2bsp.h:39</a></div></div>
<div class="ttc" id="astructq3dheader__t_html"><div class="ttname"><a href="structq3dheader__t.html">q3dheader_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00037">model_q3bsp.h:38</a></div></div>
<div class="ttc" id="astructq3dheader__t_html_af9725b971f4429c93fd021162200df0e"><div class="ttname"><a href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">q3dheader_t::lumps</a></div><div class="ttdeci">lump_t lumps[Q3HEADER_LUMPS_MAX]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00041">model_q3bsp.h:41</a></div></div>
<div class="ttc" id="astructscoreboard__t_html_a5d9917fcab74d53e05b934c1c95f680e"><div class="ttname"><a href="structscoreboard__t.html#a5d9917fcab74d53e05b934c1c95f680e">scoreboard_t::name</a></div><div class="ttdeci">char name[MAX_SCOREBOARDNAME]</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00490">client.h:490</a></div></div>
<div class="ttc" id="astructstringlist__t_html"><div class="ttname"><a href="structstringlist__t.html">stringlist_t</a></div><div class="ttdef"><b>Definition</b> <a href="filematch_8h_source.html#l00026">filematch.h:27</a></div></div>
<div class="ttc" id="astructsys__t_html_a4b67f9dbc0f037afd7f521669292e798"><div class="ttname"><a href="structsys__t.html#a4b67f9dbc0f037afd7f521669292e798">sys_t::outfd</a></div><div class="ttdeci">int outfd</div><div class="ttdef"><b>Definition</b> <a href="sys_8h_source.html#l00145">sys.h:145</a></div></div>
<div class="ttc" id="asys_8h_html_a104b651171bb21edbdf976dc0b236f01"><div class="ttname"><a href="sys_8h.html#a104b651171bb21edbdf976dc0b236f01">Sys_TimeString</a></div><div class="ttdeci">char * Sys_TimeString(const char *timeformat)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00045">sys_shared.c:45</a></div></div>
<div class="ttc" id="asys_8h_html_a277828e69bb595765f2e8fbd5e5eeb7c"><div class="ttname"><a href="sys_8h.html#a277828e69bb595765f2e8fbd5e5eeb7c">Sys_Print</a></div><div class="ttdeci">void Sys_Print(const char *text, size_t textlen)</div><div class="ttdoc">(may) output text to terminal which launched program is POSIX async-signal-safe textlen excludes any ...</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00598">sys_shared.c:598</a></div></div>
<div class="ttc" id="asys_8h_html_a2e96c9ccfa6d43e1677769d19dbc1a21"><div class="ttname"><a href="sys_8h.html#a2e96c9ccfa6d43e1677769d19dbc1a21">Sys_Printf</a></div><div class="ttdeci">void Sys_Printf(const char *fmt,...)</div><div class="ttdoc">used to report failures inside Con_Printf()</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00634">sys_shared.c:634</a></div></div>
<div class="ttc" id="asys_8h_html_ae590414a212a3043d2158012d0c93985"><div class="ttname"><a href="sys_8h.html#ae590414a212a3043d2158012d0c93985">sys</a></div><div class="ttdeci">sys_t sys</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00042">sys_shared.c:42</a></div></div>
<div class="ttc" id="asys_8h_html_ae9b9461780a044853793708c49317b28"><div class="ttname"><a href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a></div><div class="ttdeci">int Sys_CheckParm(const char *parm)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00318">sys_shared.c:318</a></div></div>
<div class="ttc" id="athread_8h_html"><div class="ttname"><a href="thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="athread_8h_html_a269bbcbf27698a4ab30bede7c4feefa3"><div class="ttname"><a href="thread_8h.html#a269bbcbf27698a4ab30bede7c4feefa3">Thread_DestroyMutex</a></div><div class="ttdeci">#define Thread_DestroyMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00016">thread.h:16</a></div></div>
<div class="ttc" id="athread_8h_html_a4af21639b1ace74ffbc47e953f7a0970"><div class="ttname"><a href="thread_8h.html#a4af21639b1ace74ffbc47e953f7a0970">Thread_HasThreads</a></div><div class="ttdeci">qbool Thread_HasThreads(void)</div><div class="ttdef"><b>Definition</b> <a href="thread__null_8c_source.html#l00013">thread_null.c:13</a></div></div>
<div class="ttc" id="athread_8h_html_a4fe4e5bb1feca332e6957d1c27a87b58"><div class="ttname"><a href="thread_8h.html#a4fe4e5bb1feca332e6957d1c27a87b58">Thread_CreateMutex</a></div><div class="ttdeci">#define Thread_CreateMutex()</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00015">thread.h:15</a></div></div>
<div class="ttc" id="athread_8h_html_a7f3f3ae74fd58a8277941afd6a271b43"><div class="ttname"><a href="thread_8h.html#a7f3f3ae74fd58a8277941afd6a271b43">Thread_LockMutex</a></div><div class="ttdeci">#define Thread_LockMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00017">thread.h:17</a></div></div>
<div class="ttc" id="athread_8h_html_ada4fef8706961af60f0404fdbfa50be7"><div class="ttname"><a href="thread_8h.html#ada4fef8706961af60f0404fdbfa50be7">Thread_UnlockMutex</a></div><div class="ttdeci">#define Thread_UnlockMutex(m)</div><div class="ttdef"><b>Definition</b> <a href="thread_8h_source.html#l00018">thread.h:18</a></div></div>
<div class="ttc" id="autf8lib_8c_html_a079fa47b8803d8fe1b2cd1103dc6788f"><div class="ttname"><a href="utf8lib_8c.html#a079fa47b8803d8fe1b2cd1103dc6788f">u8_encodech</a></div><div class="ttdeci">char * u8_encodech(Uchar ch, size_t *l, char *buf16)</div><div class="ttdoc">uses u8_fromchar on a static buffer</div><div class="ttdef"><b>Definition</b> <a href="utf8lib_8c_source.html#l00697">utf8lib.c:697</a></div></div>
<div class="ttc" id="autf8lib_8c_html_a38eb74903a08e481c50fc47a2b49778e"><div class="ttname"><a href="utf8lib_8c.html#a38eb74903a08e481c50fc47a2b49778e">utf8_enable</a></div><div class="ttdeci">cvar_t utf8_enable</div><div class="ttdef"><b>Definition</b> <a href="utf8lib_8c_source.html#l00011">utf8lib.c:11</a></div></div>
<div class="ttc" id="autf8lib_8h_html_a6a0423dead3b0ed883b7dd659ab370d3"><div class="ttname"><a href="utf8lib_8h.html#a6a0423dead3b0ed883b7dd659ab370d3">u8_getchar</a></div><div class="ttdeci">#define u8_getchar(c, e)</div><div class="ttdef"><b>Definition</b> <a href="utf8lib_8h_source.html#l00071">utf8lib.h:71</a></div></div>
<div class="ttc" id="azone_8c_html_ac742acee1395c22ccf6d2370d465f844"><div class="ttname"><a href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a></div><div class="ttdeci">mempool_t * tempmempool</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00794">zone.c:794</a></div></div>
<div class="ttc" id="azone_8c_html_af84dea797f657b725abb91f5bad5224d"><div class="ttname"><a href="zone_8c.html#af84dea797f657b725abb91f5bad5224d">zonemempool</a></div><div class="ttdeci">mempool_t * zonemempool</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00796">zone.c:796</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
<div class="ttc" id="azone_8h_html_a35deb8ef816a08fb1bc8feac8db020c5"><div class="ttname"><a href="zone_8h.html#a35deb8ef816a08fb1bc8feac8db020c5">Z_Malloc</a></div><div class="ttdeci">#define Z_Malloc(size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00161">zone.h:161</a></div></div>
<div class="ttc" id="azone_8h_html_abbce8ea44a12486a6b59f31f02bab5ee"><div class="ttname"><a href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a></div><div class="ttdeci">#define Z_Free(data)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00164">zone.h:164</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="console_8c.html">console.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
