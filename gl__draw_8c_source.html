<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: gl_draw.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gl__draw_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">gl_draw.c</div></div>
</div><!--header-->
<div class="contents">
<a href="gl__draw_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">Copyright (C) 1996-1997 Id Software, Inc.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"></span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">This program is free software; you can redistribute it and/or</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">modify it under the terms of the GNU General Public License</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">as published by the Free Software Foundation; either version 2</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">of the License, or (at your option) any later version.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"></span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"></span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">See the GNU General Public License for more details.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"></span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">along with this program; if not, write to the Free Software</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment"></span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">*/</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="quakedef_8h.html">quakedef.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="image_8h.html">image.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="wad_8h.html">wad.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="cl__video_8h.html">cl_video.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="ft2_8h.html">ft2.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="ft2__fontdefs_8h.html">ft2_fontdefs.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="foldopen" id="foldopen00030" data-start="{" data-end="};">
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="structcachepic__s.html">   30</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structcachepic__s.html">cachepic_s</a></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>{</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <span class="comment">// size of pic</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="structcachepic__s.html#a7232104a941d3e3363d442781c496e4d">   33</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#ab2f328b4418cd8320a3f6ce8dd754419">width</a>, <a class="code hl_variable" href="structcachepic__s.html#a7232104a941d3e3363d442781c496e4d">height</a>;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="comment">// this flag indicates that it should be loaded and unloaded on demand</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="structcachepic__s.html#a413630af1f1505454d077679eecf0b9a">   35</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a413630af1f1505454d077679eecf0b9a">autoload</a>;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    <span class="comment">// texture flags to upload with</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">   37</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a>;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="comment">// texture may be freed after a while</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="structcachepic__s.html#a37790be8d1a539f2c78cad3458504c24">   39</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a37790be8d1a539f2c78cad3458504c24">lastusedframe</a>;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="comment">// renderable texture</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="structcachepic__s.html#a09579c412227c8e1e2898ee57d0081ae">   41</a></span>    <a class="code hl_struct" href="structskinframe__t.html">skinframe_t</a> *<a class="code hl_variable" href="structcachepic__s.html#a09579c412227c8e1e2898ee57d0081ae">skinframe</a>;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="comment">// used for hash lookups</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="structcachepic__s.html#abbecd7ed4463f051d40a344902157887">   43</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structcachepic__s.html">cachepic_s</a> *<a class="code hl_variable" href="structcachepic__s.html#abbecd7ed4463f051d40a344902157887">chain</a>;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="comment">// flags - CACHEPICFLAG_NEWPIC for example</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">   45</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>;</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="comment">// name of pic</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="structcachepic__s.html#a6552c89251ae2d15e6dcc69713e07a2a">   47</a></span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="structcachepic__s.html#a6552c89251ae2d15e6dcc69713e07a2a">name</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>};</div>
</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="draw_8h.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">   50</a></span><a class="code hl_struct" href="structdp__fonts__t.html">dp_fonts_t</a> <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#afe61a45d4759eee3529c6f00a1e93f3f">   51</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structmempool__t.html">mempool_t</a> *<a class="code hl_variable" href="gl__draw_8c.html#afe61a45d4759eee3529c6f00a1e93f3f">fonts_mempool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">   53</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">r_textshadow</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_textshadow&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;draws a shadow on all text to improve readability (note: value controls offset, 1 = 1 pixel, 1.5 = 1.5 pixels, etc)&quot;</span>};</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a23263e087c4551d123be54963dc178ca">   54</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#a23263e087c4551d123be54963dc178ca">r_textbrightness</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_textbrightness&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;additional brightness for text color codes (0 keeps colors as is, 1 makes them all white)&quot;</span>};</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#ac010eb0bba9db85d23c7bb9b246c7374">   55</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#ac010eb0bba9db85d23c7bb9b246c7374">r_textcontrast</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_textcontrast&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;additional contrast for text color codes (1 keeps colors as is, 0 makes them all black)&quot;</span>};</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#aabf15e851edb8b46df6d06929283376a">   57</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#aabf15e851edb8b46df6d06929283376a">r_font_postprocess_blur</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_font_postprocess_blur&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;font blur amount&quot;</span>};</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a6d18b641f74da0c3a9e01caf2a222827">   58</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#a6d18b641f74da0c3a9e01caf2a222827">r_font_postprocess_outline</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_font_postprocess_outline&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;font outline amount&quot;</span>};</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a557844614abdb752fc7ad6e299cc71ae">   59</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#a557844614abdb752fc7ad6e299cc71ae">r_font_postprocess_shadow_x</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_font_postprocess_shadow_x&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;font shadow X shift amount, applied during outlining&quot;</span>};</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#aa5a8954ec8e167bb94e3b25e922f744c">   60</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#aa5a8954ec8e167bb94e3b25e922f744c">r_font_postprocess_shadow_y</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_font_postprocess_shadow_y&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;font shadow Y shift amount, applied during outlining&quot;</span>};</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a83da61ffe068eb80d67c14f3c32c7125">   61</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#a83da61ffe068eb80d67c14f3c32c7125">r_font_postprocess_shadow_z</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_font_postprocess_shadow_z&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;font shadow Z shift amount, applied during blurring&quot;</span>};</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#aab8235e6a0a536004148dbd01057ab4f">   62</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#aab8235e6a0a536004148dbd01057ab4f">r_font_hinting</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_font_hinting&quot;</span>, <span class="stringliteral">&quot;3&quot;</span>, <span class="stringliteral">&quot;0 = no hinting, 1 = light autohinting, 2 = full autohinting, 3 = full hinting&quot;</span>};</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#aa551025d3e7eab3f793186ef0cea58f4">   63</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#aa551025d3e7eab3f793186ef0cea58f4">r_font_antialias</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_font_antialias&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;0 = monochrome, 1 = grey&quot;</span> <span class="comment">/* , 2 = rgb, 3 = bgr&quot; */</span>};</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#ab6cbb78304f59de65702e9eb56c68e88">   64</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#ab6cbb78304f59de65702e9eb56c68e88">r_font_always_reload</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_font_always_reload&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;reload a font even given the same loadfont command. useful for trying out different versions of the same font file&quot;</span>};</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#ae2c337985105fa573bee1cdd579f27bd">   65</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#ae2c337985105fa573bee1cdd579f27bd">r_nearest_2d</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_nearest_2d&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;use nearest filtering on all 2d textures (including conchars)&quot;</span>};</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#ae373d96f1de8dcdabc81f4ebf10df516">   66</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#ae373d96f1de8dcdabc81f4ebf10df516">r_nearest_conchars</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;r_nearest_conchars&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;use nearest filtering on conchars texture&quot;</span>};</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment">//=============================================================================</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment">/* Support Routines */</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">   71</a></span><span class="keyword">static</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *<a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>[<a class="code hl_define" href="qdefs_8h.html#aefe8ebdb1ed135b1800b6a0668995d81">CACHEPICHASHSIZE</a>];</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">   72</a></span><span class="keyword">static</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> <a class="code hl_variable" href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">cachepics</a>[<a class="code hl_define" href="qdefs_8h.html#abca0a2311175cb8d57e4b3127d1d2b8e">MAX_CACHED_PICS</a>];</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">   73</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="draw_8h.html#a13edae69442e54c4911817ebbe30012e">   75</a></span><a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="gl__draw_8c.html#a13edae69442e54c4911817ebbe30012e">drawtexturepool</a>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">   77</a></span><span class="keywordtype">int</span> <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a> = 1;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment">/*</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment">================</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">Draw_CachePic</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">================</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment">*/</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">// FIXME: move this to client somehow</span></div>
<div class="foldopen" id="foldopen00085" data-start="{" data-end="}">
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="draw_8h.html#a924bb151d47e7e82d9690f2b6537247d">   85</a></span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *<a class="code hl_function" href="gl__draw_8c.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a>)</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>{</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="keywordtype">int</span> crc, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> = <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0">CACHEPICFLAG_NOCLAMP</a>))</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> |= <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cadae227f489fc71b63078dae2d2b39d41">CACHEPICFLAG_MIPMAP</a>)</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> |= <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cabbaa660269d487d95043ed4e0d12aada">CACHEPICFLAG_NOCOMPRESSION</a>) &amp;&amp; <a class="code hl_variable" href="gl__textures_8c.html#ac31280d743c57f22a9b4eef367bddc0b">gl_texturecompression_2d</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="gl__textures_8c.html#a2ce62af3cf57b4b23d8010843814c594">gl_texturecompression</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>        <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> |= <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca4ff7ab5064192dfaeeb5ef8d08522a35">CACHEPICFLAG_LINEAR</a>)</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> |= <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca1e96da16ca251fc0fa448dccb11aefca">CACHEPICFLAG_NEAREST</a>) || <a class="code hl_variable" href="gl__draw_8c.html#ae2c337985105fa573bee1cdd579f27bd">r_nearest_2d</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> |= <a class="code hl_define" href="r__textures_8h.html#aa97b4aaf90cefe1dff4cb00f2b232127">TEXF_FORCENEAREST</a>;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// check whether the picture has already been cached</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    crc = <a class="code hl_function" href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)path, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(path));</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a> = ((crc &gt;&gt; 8) ^ crc) % <a class="code hl_define" href="qdefs_8h.html#aefe8ebdb1ed135b1800b6a0668995d81">CACHEPICHASHSIZE</a>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="keywordflow">for</span> (pic = <a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>];pic;pic = pic-&gt;chain)</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(path, pic-&gt;name))</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>        {</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>            <span class="comment">// if it was created (or replaced) by Draw_NewPic, just return it</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>            <span class="keywordflow">if</span> (!(pic-&gt;flags &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6f4a8a56c757f709fa3d01588c264e0a">CACHEPICFLAG_NEWPIC</a>))</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>            {</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>                <span class="comment">// reload the pic if texflags changed in important ways</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>                <span class="comment">// ignore TEXF_COMPRESS when comparing, because fallback pics remove the flag, and ignore TEXF_MIPMAP because QC specifies that</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>                <span class="keywordflow">if</span> ((pic-&gt;texflags ^ <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a>) &amp; ~(<a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a> | <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a>))</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>                {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_CachePic(\&quot;%s\&quot;): frame %i: reloading pic due to mismatch on flags\n&quot;</span>, path, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>);</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>                    <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reload</a>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>                }</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>                <span class="keywordflow">if</span> (!pic-&gt;skinframe || !pic-&gt;skinframe-&gt;base)</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>                {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>                    <span class="keywordflow">if</span> (pic-&gt;flags &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2">CACHEPICFLAG_FAILONMISSING</a>)</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>                        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_CachePic(\&quot;%s\&quot;): frame %i: reloading pic\n&quot;</span>, path, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>);</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>                    <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reload</a>;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>                }</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>                <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca9c37d55f3f6c032703ab8523a2865ae3">CACHEPICFLAG_NOTPERSISTENT</a>))</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                    pic-&gt;autoload = <span class="keyword">false</span>; <span class="comment">// caller is making this pic persistent</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>            }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            <span class="keywordflow">if</span> (pic-&gt;skinframe)</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                <a class="code hl_function" href="gl__rmain_8c.html#ac068333f6656190ddd5836765acdffe0">R_SkinFrame_MarkUsed</a>(pic-&gt;skinframe);</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            pic-&gt;lastusedframe = <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>            <span class="keywordflow">return</span> pic;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        }</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    }</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a> == <a class="code hl_define" href="qdefs_8h.html#abca0a2311175cb8d57e4b3127d1d2b8e">MAX_CACHED_PICS</a>)</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    {</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a> (<span class="stringliteral">&quot;Draw_CachePic(\&quot;%s\&quot;): frame %i: numcachepics == MAX_CACHED_PICS\n&quot;</span>, path, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>);</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="comment">// FIXME: support NULL in callers?</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">cachepics</a>; <span class="comment">// return the first one</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    }</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_CachePic(\&quot;%s\&quot;): frame %i: loading pic%s\n&quot;</span>, path, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca9c37d55f3f6c032703ab8523a2865ae3">CACHEPICFLAG_NOTPERSISTENT</a>) ? <span class="stringliteral">&quot; notpersist&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    pic = <a class="code hl_variable" href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">cachepics</a> + (<a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a>++);</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(pic, 0, <span class="keyword">sizeof</span>(*pic));</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (pic-&gt;name, path, <span class="keyword">sizeof</span>(pic-&gt;name));</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="comment">// link into list</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    pic-&gt;chain = <a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>];</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>] = pic;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reload</a>:</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="keywordflow">if</span> (pic-&gt;skinframe)</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <a class="code hl_function" href="gl__rmain_8c.html#ab57d3b15b1bdb498f4b0173fa69e9ccf">R_SkinFrame_PurgeSkinFrame</a>(pic-&gt;skinframe);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    pic-&gt;flags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a>;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    pic-&gt;texflags = <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a>;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    pic-&gt;autoload = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca9c37d55f3f6c032703ab8523a2865ae3">CACHEPICFLAG_NOTPERSISTENT</a>) != 0;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    pic-&gt;lastusedframe = <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keywordflow">if</span> (pic-&gt;skinframe)</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>        <span class="comment">// reload image after it was unloaded or texflags changed significantly</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        <a class="code hl_function" href="gl__rmain_8c.html#abcaf58e4c1a238f76c17be4e88e81c6a">R_SkinFrame_LoadExternal_SkinFrame</a>(pic-&gt;skinframe, pic-&gt;name, <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> | <a class="code hl_define" href="r__textures_8h.html#ada7507b8f34cf5c3e64041659b2ebb1b">TEXF_FORCE_RELOAD</a>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a">CACHEPICFLAG_QUIET</a>) == 0, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2">CACHEPICFLAG_FAILONMISSING</a>) == 0);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    }</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    {</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        <span class="comment">// load high quality image (this falls back to low quality too)</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        pic-&gt;skinframe = <a class="code hl_function" href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a>(pic-&gt;name, <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> | <a class="code hl_define" href="r__textures_8h.html#ada7507b8f34cf5c3e64041659b2ebb1b">TEXF_FORCE_RELOAD</a>, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a">CACHEPICFLAG_QUIET</a>) == 0, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepicflags</a> &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2">CACHEPICFLAG_FAILONMISSING</a>) == 0);</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    }</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="comment">// get the dimensions of the image we loaded (if it was successful)</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keywordflow">if</span> (pic-&gt;skinframe &amp;&amp; pic-&gt;skinframe-&gt;base)</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>        pic-&gt;width = <a class="code hl_function" href="gl__textures_8c.html#a738ec012beff0c3bc4bfb9b023130534">R_TextureWidth</a>(pic-&gt;skinframe-&gt;base);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        pic-&gt;height = <a class="code hl_function" href="gl__textures_8c.html#a4bc984e9e2d032d8cd37aaa4fef168bd">R_TextureHeight</a>(pic-&gt;skinframe-&gt;base);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    }</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="comment">// check for a low quality version of the pic and use its size if possible, to match the stock hud</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <a class="code hl_function" href="image_8c.html#a1a2525d31dae2bb8a2e5402ec9c42cb9">Image_GetStockPicSize</a>(pic-&gt;name, &amp;pic-&gt;width, &amp;pic-&gt;height);</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keywordflow">return</span> pic;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>}</div>
</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="foldopen" id="foldopen00184" data-start="{" data-end="}">
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="draw_8h.html#a0cc15719c695a2ca1072332dee512a11">  184</a></span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *<a class="code hl_function" href="gl__draw_8c.html#a0cc15719c695a2ca1072332dee512a11">Draw_CachePic</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *path)</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>{</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__draw_8c.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a> (path, 0); <span class="comment">// default to persistent!</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>}</div>
</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="foldopen" id="foldopen00189" data-start="{" data-end="}">
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno"><a class="line" href="draw_8h.html#a82a2dd911297af5041362157b7bbe4c3">  189</a></span><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="gl__draw_8c.html#a82a2dd911297af5041362157b7bbe4c3">Draw_GetPicName</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic)</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>{</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="keywordflow">if</span> (pic == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keywordflow">return</span> pic-&gt;name;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>}</div>
</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="foldopen" id="foldopen00196" data-start="{" data-end="}">
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="draw_8h.html#aa2c0dfb12e34ff519ccaa3a67d160b66">  196</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="gl__draw_8c.html#aa2c0dfb12e34ff519ccaa3a67d160b66">Draw_GetPicWidth</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic)</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>{</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="keywordflow">if</span> (pic == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keywordflow">return</span> pic-&gt;width;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>}</div>
</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="foldopen" id="foldopen00203" data-start="{" data-end="}">
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno"><a class="line" href="draw_8h.html#aed89f0ec44f9be4dae4ccd71780f1ce0">  203</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="gl__draw_8c.html#aed89f0ec44f9be4dae4ccd71780f1ce0">Draw_GetPicHeight</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic)</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>{</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordflow">if</span> (pic == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="keywordflow">return</span> pic-&gt;height;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>}</div>
</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="foldopen" id="foldopen00210" data-start="{" data-end="}">
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno"><a class="line" href="draw_8h.html#af86c2b624887b3cb7b94531be8ab324b">  210</a></span><a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_function" href="gl__draw_8c.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic)</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>{</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="keywordflow">if</span> (pic == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="keywordflow">if</span> (pic-&gt;autoload &amp;&amp; (!pic-&gt;skinframe || !pic-&gt;skinframe-&gt;base))</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_IsPicLoaded(\&quot;%s\&quot;): Loading external skin\n&quot;</span>, pic-&gt;name);</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        pic-&gt;skinframe = <a class="code hl_function" href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a>(pic-&gt;name, pic-&gt;texflags | <a class="code hl_define" href="r__textures_8h.html#ada7507b8f34cf5c3e64041659b2ebb1b">TEXF_FORCE_RELOAD</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    }</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="comment">// skinframe will only be NULL if the pic was created with CACHEPICFLAG_FAILONMISSING and not found</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keywordflow">return</span> pic-&gt;skinframe != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; pic-&gt;skinframe-&gt;base != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>}</div>
</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="foldopen" id="foldopen00223" data-start="{" data-end="}">
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="draw_8h.html#abd0658fb0a72d565561f196b380026cb">  223</a></span><a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_function" href="gl__draw_8c.html#abd0658fb0a72d565561f196b380026cb">Draw_GetPicTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic)</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>{</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordflow">if</span> (pic == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordflow">if</span> (pic-&gt;autoload &amp;&amp; (!pic-&gt;skinframe || !pic-&gt;skinframe-&gt;base))</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    {</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_GetPicTexture(\&quot;%s\&quot;): Loading external skin\n&quot;</span>, pic-&gt;name);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        pic-&gt;skinframe = <a class="code hl_function" href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a>(pic-&gt;name, pic-&gt;texflags | <a class="code hl_define" href="r__textures_8h.html#ada7507b8f34cf5c3e64041659b2ebb1b">TEXF_FORCE_RELOAD</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    }</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    pic-&gt;lastusedframe = <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keywordflow">return</span> pic-&gt;skinframe ? pic-&gt;skinframe-&gt;base : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>}</div>
</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="foldopen" id="foldopen00236" data-start="{" data-end="}">
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="draw_8h.html#a5c16365a0d88ba4dc75088eb19460840">  236</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a5c16365a0d88ba4dc75088eb19460840">Draw_Frame</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>{</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextpurgetime</a>;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextpurgetime</a> &gt; <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>)</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextpurgetime</a> = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> + 0.05;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, pic = <a class="code hl_variable" href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">cachepics</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, pic++)</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    {</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <span class="keywordflow">if</span> (pic-&gt;autoload &amp;&amp; pic-&gt;skinframe &amp;&amp; pic-&gt;skinframe-&gt;base &amp;&amp; pic-&gt;lastusedframe &lt; <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a> - 3)</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        {</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_Frame(%i): Unloading \&quot;%s\&quot;\n&quot;</span>, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>, pic-&gt;name);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>            <a class="code hl_function" href="gl__rmain_8c.html#ab57d3b15b1bdb498f4b0173fa69e9ccf">R_SkinFrame_PurgeSkinFrame</a>(pic-&gt;skinframe);</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        }</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    }</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>++;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>}</div>
</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="foldopen" id="foldopen00255" data-start="{" data-end="}">
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno"><a class="line" href="draw_8h.html#a5679fa1b6fdedb7b95b2bab96540b402">  255</a></span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *<a class="code hl_function" href="gl__draw_8c.html#a5ca44c80b6d3008618eb534abbd056b7">Draw_NewPic</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixels_bgra</a>, <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> textype, <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a>)</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>{</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="keywordtype">int</span> crc, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    crc = <a class="code hl_function" href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>));</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a> = ((crc &gt;&gt; 8) ^ crc) % <a class="code hl_define" href="qdefs_8h.html#aefe8ebdb1ed135b1800b6a0668995d81">CACHEPICHASHSIZE</a>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">for</span> (pic = <a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>];pic;pic = pic-&gt;chain)</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, pic-&gt;name))</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="keywordflow">if</span> (pic)</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        <span class="keywordflow">if</span> (pic-&gt;flags &amp; <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6f4a8a56c757f709fa3d01588c264e0a">CACHEPICFLAG_NEWPIC</a> &amp;&amp; pic-&gt;skinframe &amp;&amp; pic-&gt;skinframe-&gt;base &amp;&amp; pic-&gt;width == <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> &amp;&amp; pic-&gt;height == <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>)</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_NewPic(\&quot;%s\&quot;): frame %i: updating texture\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>);</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>            <a class="code hl_function" href="gl__textures_8c.html#a558d3efbd11eedd4f9e47c0dbc704090">R_UpdateTexture</a>(pic-&gt;skinframe-&gt;base, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixels_bgra</a>, 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 1, 0);</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            <a class="code hl_function" href="gl__rmain_8c.html#ac068333f6656190ddd5836765acdffe0">R_SkinFrame_MarkUsed</a>(pic-&gt;skinframe);</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            pic-&gt;lastusedframe = <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>            <span class="keywordflow">return</span> pic;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        }</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_NewPic(\&quot;%s\&quot;): frame %i: reloading pic because flags/size changed\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>);</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    }</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a> == <a class="code hl_define" href="qdefs_8h.html#abca0a2311175cb8d57e4b3127d1d2b8e">MAX_CACHED_PICS</a>)</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a> (<span class="stringliteral">&quot;Draw_NewPic(\&quot;%s\&quot;): frame %i: numcachepics == MAX_CACHED_PICS\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>);</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>            <span class="comment">// FIXME: support NULL in callers?</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">cachepics</a>; <span class="comment">// return the first one</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        }</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_NewPic(\&quot;%s\&quot;): frame %i: creating new cachepic\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>);</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        pic = <a class="code hl_variable" href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">cachepics</a> + (<a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a>++);</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(pic, 0, <span class="keyword">sizeof</span>(*pic));</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (pic-&gt;name, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <span class="keyword">sizeof</span>(pic-&gt;name));</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        <span class="comment">// link into list</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        pic-&gt;chain = <a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>];</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>] = pic;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <a class="code hl_function" href="gl__rmain_8c.html#ab57d3b15b1bdb498f4b0173fa69e9ccf">R_SkinFrame_PurgeSkinFrame</a>(pic-&gt;skinframe);</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    pic-&gt;autoload = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    pic-&gt;flags = <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6f4a8a56c757f709fa3d01588c264e0a">CACHEPICFLAG_NEWPIC</a>; <span class="comment">// disable texflags checks in Draw_CachePic</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    pic-&gt;flags |= (<a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> &amp; <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>) ? 0 : <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0">CACHEPICFLAG_NOCLAMP</a>;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    pic-&gt;flags |= (<a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> &amp; <a class="code hl_define" href="r__textures_8h.html#aa97b4aaf90cefe1dff4cb00f2b232127">TEXF_FORCENEAREST</a>) ? <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca1e96da16ca251fc0fa448dccb11aefca">CACHEPICFLAG_NEAREST</a> : 0;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    pic-&gt;width = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    pic-&gt;height = <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    pic-&gt;skinframe = <a class="code hl_function" href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <a class="code hl_variable" href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">texflags</a> | <a class="code hl_define" href="r__textures_8h.html#ada7507b8f34cf5c3e64041659b2ebb1b">TEXF_FORCE_RELOAD</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixels_bgra</a>, <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, 0, 0, <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a6d902e7d5c4b81c234d9f982d1664ffb">sRGB2D</a>);</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    pic-&gt;lastusedframe = <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keywordflow">return</span> pic;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>}</div>
</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="foldopen" id="foldopen00308" data-start="{" data-end="}">
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="draw_8h.html#a26b285648113a722e4bffe3eca1f8aca">  308</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a26b285648113a722e4bffe3eca1f8aca">Draw_FreePic</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>)</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>{</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="keywordtype">int</span> crc;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic;</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="comment">// this doesn&#39;t really free the pic, but does free its texture</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    crc = <a class="code hl_function" href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>));</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a> = ((crc &gt;&gt; 8) ^ crc) % <a class="code hl_define" href="qdefs_8h.html#aefe8ebdb1ed135b1800b6a0668995d81">CACHEPICHASHSIZE</a>;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="keywordflow">for</span> (pic = <a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hashkey</a>];pic;pic = pic-&gt;chain)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, pic-&gt;name) &amp;&amp; pic-&gt;skinframe)</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Draw_FreePic(\&quot;%s\&quot;): frame %i: freeing pic\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">picname</a>, <a class="code hl_variable" href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a>);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            <a class="code hl_function" href="gl__rmain_8c.html#ab57d3b15b1bdb498f4b0173fa69e9ccf">R_SkinFrame_PurgeSkinFrame</a>(pic-&gt;skinframe);</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>}</div>
</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#aa42faf4425f81a1eb389749d31785a05">snap_to_pixel_x</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">roundUpAt</a>);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span><span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="gl__draw_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a>; <span class="comment">// to force rewrapping</span></div>
<div class="foldopen" id="foldopen00329" data-start="{" data-end="}">
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#ad358cf8731e0e458af3101ac47ffff20">  329</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#ad358cf8731e0e458af3101ac47ffff20">LoadFont</a>(<a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <span class="keyword">override</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, <span class="keywordtype">float</span> scale, <span class="keywordtype">float</span> voffset)</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>{</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keywordtype">float</span> maxwidth;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthfile</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthbuf</a>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthbufsize</a>;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keywordflow">if</span>(<span class="keyword">override</span> || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;texpath[0])</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;texpath, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;texpath));</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        <span class="comment">// load the cvars when the font is FIRST loader</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale = scale;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.voffset = voffset;</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.antialias = <a class="code hl_variable" href="gl__draw_8c.html#aa551025d3e7eab3f793186ef0cea58f4">r_font_antialias</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.hinting = <a class="code hl_variable" href="gl__draw_8c.html#aab8235e6a0a536004148dbd01057ab4f">r_font_hinting</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.outline = <a class="code hl_variable" href="gl__draw_8c.html#a6d18b641f74da0c3a9e01caf2a222827">r_font_postprocess_outline</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.blur = <a class="code hl_variable" href="gl__draw_8c.html#aabf15e851edb8b46df6d06929283376a">r_font_postprocess_blur</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.shadowx = <a class="code hl_variable" href="gl__draw_8c.html#a557844614abdb752fc7ad6e299cc71ae">r_font_postprocess_shadow_x</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.shadowy = <a class="code hl_variable" href="gl__draw_8c.html#aa5a8954ec8e167bb94e3b25e922f744c">r_font_postprocess_shadow_y</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.shadowz = <a class="code hl_variable" href="gl__draw_8c.html#a83da61ffe068eb80d67c14f3c32c7125">r_font_postprocess_shadow_z</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="comment">// fix bad scale</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale &lt;= 0)</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale = 1;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="gl__draw_8c.html#a13edae69442e54c4911817ebbe30012e">drawtexturepool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <span class="keywordflow">return</span>; <span class="comment">// before gl_draw_start, so will be loaded later</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;ft2)</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <span class="comment">// we are going to reload. clear old ft2 data</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <a class="code hl_function" href="ft2_8c.html#ac60ff405c437ee15a8ad1db226bddb10">Font_UnloadFont</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;ft2);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;ft2);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;ft2 = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    }</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;req_face != -1)</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="ft2_8c.html#a646c9738d0308e8393904ed8960be440">Font_LoadFont</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;texpath, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>))</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Failed to load font-file for &#39;%s&#39;, it will not support as many characters.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;texpath);</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic = <a class="code hl_function" href="gl__draw_8c.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;texpath, <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a">CACHEPICFLAG_QUIET</a> | <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cabbaa660269d487d95043ed4e0d12aada">CACHEPICFLAG_NOCOMPRESSION</a> | (<a class="code hl_variable" href="gl__draw_8c.html#ae373d96f1de8dcdabc81f4ebf10df516">r_nearest_conchars</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca1e96da16ca251fc0fa448dccb11aefca">CACHEPICFLAG_NEAREST</a> : 0) | <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2">CACHEPICFLAG_FAILONMISSING</a>);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="gl__draw_8c.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic))</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="draw_8h.html#adba7813bc64e21b1ee715a8929e84d5e">MAX_FONT_FALLBACKS</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;fallbacks[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0])</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic = <a class="code hl_function" href="gl__draw_8c.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;fallbacks[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a">CACHEPICFLAG_QUIET</a> | <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cabbaa660269d487d95043ed4e0d12aada">CACHEPICFLAG_NOCOMPRESSION</a> | (<a class="code hl_variable" href="gl__draw_8c.html#ae373d96f1de8dcdabc81f4ebf10df516">r_nearest_conchars</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca1e96da16ca251fc0fa448dccb11aefca">CACHEPICFLAG_NEAREST</a> : 0) | <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2">CACHEPICFLAG_FAILONMISSING</a>);</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="gl__draw_8c.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic))</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>        }</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="gl__draw_8c.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic))</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        {</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic = <a class="code hl_function" href="gl__draw_8c.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a>(<span class="stringliteral">&quot;gfx/conchars&quot;</span>, <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cabbaa660269d487d95043ed4e0d12aada">CACHEPICFLAG_NOCOMPRESSION</a> | (<a class="code hl_variable" href="gl__draw_8c.html#ae373d96f1de8dcdabc81f4ebf10df516">r_nearest_conchars</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca1e96da16ca251fc0fa448dccb11aefca">CACHEPICFLAG_NEAREST</a> : 0));</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthfile</a>, <span class="stringliteral">&quot;gfx/conchars.width&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthfile</a>));</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>        }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthfile</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthfile</a>), <span class="stringliteral">&quot;%s.width&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;fallbacks[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    }</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthfile</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthfile</a>), <span class="stringliteral">&quot;%s.width&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;texpath);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="comment">// unspecified width == 1 (base width)</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt; 256; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>)</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>] = 1;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="comment">// FIXME load &quot;name.width&quot;, if it fails, fill all with 1</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="keywordflow">if</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthbuf</a> = (<span class="keywordtype">char</span> *) <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthfile</a>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthbufsize</a>)))</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">extraspacing</a> = 0;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthbuf</a>;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = 0;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt; 256)</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        {</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            <span class="keywordflow">if</span>(!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;p, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>            <span class="keywordflow">switch</span>(*<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>)</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>            {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>:</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>:</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>:</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>:</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>:</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;-&#39;</span>:</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;.&#39;</span>:</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">extraspacing</a>;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>++;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>                    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;extraspacing&quot;</span>))</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>                    {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                        <span class="keywordflow">if</span>(!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;p, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">extraspacing</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                    }</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;scale&quot;</span>))</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>                    {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                        <span class="keywordflow">if</span>(!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;p, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>                            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>                    }</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>                    {</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>                        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Warning: skipped unknown font property %s\n&quot;</span>, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>                        <span class="keywordflow">if</span>(!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;p, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                    }</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>            }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        }</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">widthbuf</a>);</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;ft2)</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    {</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="draw_8h.html#af716933805044687dff562f0e8a98062">MAX_FONT_SIZES</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>        {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ft2_font_map_t</a> *map = <a class="code hl_function" href="ft2_8c.html#a4431508aa3e8e5087109e3f5f833863a">Font_MapForIndex</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;ft2, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>            <span class="keywordflow">if</span> (!map)</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>            <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt; 256; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>)</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of_ft2[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>] = <a class="code hl_function" href="ft2_8c.html#a5c8bba8c7e825322064a08890cf6a00a">Font_SnapTo</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>], 1/map-&gt;size);</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        }</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    }</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span> </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    maxwidth = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of[0];</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 256; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        maxwidth = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(maxwidth, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;maxwidth = maxwidth;</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="comment">// fix up maxwidth for overlap</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;maxwidth *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a> == <a class="code hl_define" href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a>)</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        <a class="code hl_variable" href="gl__draw_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a> = -1; <span class="comment">// rewrap console in next frame</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>}</div>
</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span><span class="keyword">extern</span> <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="gl__draw_8c.html#ae1c5dcc2cce151ee9e116c2d101525e1">developer_font</a>;</div>
<div class="foldopen" id="foldopen00480" data-start="{" data-end="}">
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#aefe763bbb1f025cedf6f6d4cc3568f69">  480</a></span><a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_function" href="gl__draw_8c.html#aefe763bbb1f025cedf6f6d4cc3568f69">FindFont</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *title, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocate_new</a>)</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>{</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a>;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <span class="comment">// find font</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>, title))</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    <span class="comment">// if not found - try allocate</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocate_new</a>)</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    {</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>        <span class="comment">// find any font with empty title</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        {</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>            {</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>, title, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>));</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>            }</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>        }</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        <span class="comment">// if no any &#39;free&#39; fonts - expand buffer</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a> = <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>;</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a> = <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a> + <a class="code hl_define" href="draw_8h.html#a048db15fbc0bc0df353fdda990a11366">FONTS_EXPAND</a>;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__draw_8c.html#ae1c5dcc2cce151ee9e116c2d101525e1">developer_font</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;FindFont: enlarging fonts buffer (%i -&gt; %i)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a>, <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>        <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a> = (<a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="gl__draw_8c.html#afe61a45d4759eee3529c6f00a1e93f3f">fonts_mempool</a>, <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a>) * <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>);</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        <span class="comment">// relink ft2 structures</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a3622712709b39ca5cf8a8059019c5e85">ft2</a>)</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>                <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a3622712709b39ca5cf8a8059019c5e85">ft2</a>-&gt;settings = &amp;<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#ab1d3ac16f21b9020113a3e3657f3e581">settings</a>;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        <span class="comment">// register a font in first expanded slot</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>, title, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>));</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>        <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldsize</a>];</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    }</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>}</div>
</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span> </div>
<div class="foldopen" id="foldopen00517" data-start="{" data-end="}">
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#aa42faf4425f81a1eb389749d31785a05">  517</a></span><span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#aa42faf4425f81a1eb389749d31785a05">snap_to_pixel_x</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">roundUpAt</a>)</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>{</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixelpos</a> = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> * <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a631a6b40238d7e9e08ed03d2b194229c">width</a> / <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixelpos</a>;</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixelpos</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">roundUpAt</a>) ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a>;</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <span class="keywordflow">return</span> ((<span class="keywordtype">float</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> * <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> / <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a631a6b40238d7e9e08ed03d2b194229c">width</a>);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="comment">    x = (int)(x * vid.width / vid_conwidth.value);</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span><span class="comment">    x = (x * vid_conwidth.value / vid.width);</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="comment">    return x;</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="comment">    */</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>}</div>
</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="foldopen" id="foldopen00530" data-start="{" data-end="}">
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#ae2afbf8ffe260bebd24a65b59378b545">  530</a></span><span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#ae2afbf8ffe260bebd24a65b59378b545">snap_to_pixel_y</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">roundUpAt</a>)</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>{</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixelpos</a> = <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> * <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a5cb28e3dc70ef0b15f0e295b2aa1d295">height</a> / <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixelpos</a>;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pixelpos</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">roundUpAt</a>) ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a>;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <span class="keywordflow">return</span> ((<span class="keywordtype">float</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> * <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> / <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a5cb28e3dc70ef0b15f0e295b2aa1d295">height</a>);</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span><span class="comment">    y = (int)(y * vid.height / vid_conheight.value);</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span><span class="comment">    y = (y * vid_conheight.value / vid.height);</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span><span class="comment">    return y;</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span><span class="comment">    */</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>}</div>
</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="foldopen" id="foldopen00543" data-start="{" data-end="}">
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a31ca04c0ddd563f070533a6488419c1b">  543</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a31ca04c0ddd563f070533a6488419c1b">LoadFont_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>{</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>;</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, *c, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a>;</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a>, scale, voffset;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mainfont</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span> </div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &lt; 2)</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    {</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Available font commands:\n&quot;</span>);</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>[0])</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;  loadfont %s gfx/tgafile[...] [custom switches] [sizes...]\n&quot;</span>, <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>);</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;A font can simply be gfx/tgafile, or alternatively you\n&quot;</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>               <span class="stringliteral">&quot;can specify multiple fonts and faces\n&quot;</span></div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>               <span class="stringliteral">&quot;Like this: gfx/vera-sans:2,gfx/fallback:1\n&quot;</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>               <span class="stringliteral">&quot;to load face 2 of the font gfx/vera-sans and use face 1\n&quot;</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>               <span class="stringliteral">&quot;of gfx/fallback as fallback font.\n&quot;</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>               <span class="stringliteral">&quot;You can also specify a list of font sizes to load, like this:\n&quot;</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>               <span class="stringliteral">&quot;loadfont console gfx/conchars,gfx/fallback 8 12 16 24 32\n&quot;</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>               <span class="stringliteral">&quot;In many cases, 8 12 16 24 32 should be a good choice.\n&quot;</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>               <span class="stringliteral">&quot;custom switches:\n&quot;</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>               <span class="stringliteral">&quot; scale x : scale all characters by this amount when rendering (doesnt change line height)\n&quot;</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>               <span class="stringliteral">&quot; voffset x : offset all chars vertical when rendering, this is multiplied to character height\n&quot;</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            );</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    }</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_function" href="gl__draw_8c.html#aefe763bbb1f025cedf6f6d4cc3568f69">FindFont</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    {</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;font function not found\n&quot;</span>);</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(cmd-&gt;<a class="code hl_variable" href="structcmd__state__t.html#ab0ac3513339ae8147d561dac2f64c9fe">cmdline</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;cmdline) != 0 || <a class="code hl_variable" href="gl__draw_8c.html#ab6cbb78304f59de65702e9eb56c68e88">r_font_always_reload</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;cmdline, cmd-&gt;<a class="code hl_variable" href="structcmd__state__t.html#ab0ac3513339ae8147d561dac2f64c9fe">cmdline</a>, <a class="code hl_define" href="draw_8h.html#a611421b06fcecabafed233483c4070a7">MAX_FONT_CMDLINE</a>);</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;LoadFont: font %s is unchanged\n&quot;</span>, <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1));</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        }</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    }</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span> </div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &lt; 3)</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a> = <span class="stringliteral">&quot;gfx/conchars&quot;</span>;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a> = <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 2);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span> </div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallbacks, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallbacks));</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallback_faces, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallback_faces));</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="comment">// first font is handled &quot;normally&quot;</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="keywordflow">if</span>(c &amp;&amp; (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a> || c &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a>))</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;req_face = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(c+1);</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;req_face = 0;</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>        c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a>;</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    }</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span> </div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <span class="keywordflow">if</span>(!c || (c - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>) &gt;= <a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>)</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mainfont</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mainfont</a>));</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    {</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mainfont</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, c - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>);</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mainfont</a>[c - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>] = 0;</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    }</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span> </div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="draw_8h.html#adba7813bc64e21b1ee715a8929e84d5e">MAX_FONT_FALLBACKS</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    {</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <span class="keywordflow">if</span>(!c)</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a> = c + 1;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <span class="keywordflow">if</span>(!*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>)</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strchr</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>        <span class="keywordflow">if</span>(c &amp;&amp; (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a> || c &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a>))</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallback_faces[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(c+1);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallback_faces[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0; <span class="comment">// f-&gt;req_face; could make it stick to the default-font&#39;s face index</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>            c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cm</a>;</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        }</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        <span class="keywordflow">if</span>(!c || (c-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>) &gt;= <a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>)</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>        {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallbacks[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mainfont</a>));</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        }</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallbacks[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>, c - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>);</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;fallbacks[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][c - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">filelist</a>] = 0;</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        }</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    }</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span> </div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    <span class="comment">// for now: by default load only one size: the default size</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;req_sizes[0] = 0;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="draw_8h.html#af716933805044687dff562f0e8a98062">MAX_FONT_SIZES</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;req_sizes[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -1;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    scale = 1;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    voffset = 0;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &gt;= 4)</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    {</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a> = 0, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd); ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        {</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>            <span class="comment">// special switches</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>), <span class="stringliteral">&quot;scale&quot;</span>))</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>            {</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>                <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++;</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd))</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                    scale = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>            }</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>), <span class="stringliteral">&quot;voffset&quot;</span>))</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            {</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>                <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd))</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                    voffset = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>            }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span> </div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a> == -1)</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                <span class="keywordflow">continue</span>; <span class="comment">// no slot for other sizes</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span> </div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>            <span class="comment">// parse one of sizes</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a> &gt; 0.001f &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a> &lt; 1000.0f) <span class="comment">// do not use crap sizes</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>            {</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                <span class="comment">// search for duplicated sizes</span></div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>=0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>&lt;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;req_sizes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a>)</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>)</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>                    <span class="keywordflow">continue</span>; <span class="comment">// sz already in req_sizes, don&#39;t add it again</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a> == <a class="code hl_define" href="draw_8h.html#af716933805044687dff562f0e8a98062">MAX_FONT_SIZES</a>)</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                {</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Warning: specified more than %i different font sizes, exceding ones are ignored\n&quot;</span>, <a class="code hl_define" href="draw_8h.html#af716933805044687dff562f0e8a98062">MAX_FONT_SIZES</a>);</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a> = -1;</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>                }</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>-&gt;req_sizes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sz</a>;</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizes</a>++;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>            }</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        }</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <a class="code hl_function" href="gl__draw_8c.html#ad358cf8731e0e458af3101ac47ffff20">LoadFont</a>(<span class="keyword">true</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mainfont</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, scale, voffset);</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>}</div>
</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span> </div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span><span class="comment">/*</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span><span class="comment">===============</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span><span class="comment">Draw_Init</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span><span class="comment">===============</span></div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span><span class="comment">*/</span></div>
<div class="foldopen" id="foldopen00705" data-start="{" data-end="}">
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a6e27757dc4687df6405275269439c967">  705</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a6e27757dc4687df6405275269439c967">gl_draw_start</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>{</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <a class="code hl_variable" href="gl__draw_8c.html#a13edae69442e54c4911817ebbe30012e">drawtexturepool</a> = <a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>();</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span> </div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a> = 0;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>));</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <a class="code hl_function" href="ft2_8c.html#a64dc07ad1f6308f34a964c94ba64274a">font_start</a>();</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span> </div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    <span class="comment">// load default font textures</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>[0])</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>            <a class="code hl_function" href="gl__draw_8c.html#ad358cf8731e0e458af3101ac47ffff20">LoadFont</a>(<span class="keyword">false</span>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;gfx/font_%s&quot;</span>, <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">title</a>), &amp;<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], 1, 0);</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>}</div>
</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span> </div>
<div class="foldopen" id="foldopen00722" data-start="{" data-end="}">
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a8b5a98ed28c36a225519f49549acea51">  722</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a8b5a98ed28c36a225519f49549acea51">gl_draw_shutdown</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>{</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <a class="code hl_function" href="ft2_8c.html#ac123fd37d6ea2345c2ac44eac0512fad">font_shutdown</a>();</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span> </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <a class="code hl_function" href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#a13edae69442e54c4911817ebbe30012e">drawtexturepool</a>);</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span> </div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    <a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a> = 0;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a>));</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>}</div>
</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span> </div>
<div class="foldopen" id="foldopen00732" data-start="{" data-end="}">
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#aa50d0d549779b6499347f7453756fc33">  732</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#aa50d0d549779b6499347f7453756fc33">gl_draw_newmap</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>{</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    <a class="code hl_function" href="ft2_8c.html#a030f289cdedd8f9269062ea4bd3cbc7a">font_newmap</a>();</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <span class="comment">// mark all of the persistent pics so they are not purged...</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    {</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic = <a class="code hl_variable" href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">cachepics</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        <span class="keywordflow">if</span> (!pic-&gt;autoload &amp;&amp; pic-&gt;skinframe)</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <a class="code hl_function" href="gl__rmain_8c.html#ac068333f6656190ddd5836765acdffe0">R_SkinFrame_MarkUsed</a>(pic-&gt;skinframe);</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    }</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>}</div>
</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span> </div>
<div class="foldopen" id="foldopen00746" data-start="{" data-end="}">
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#aa9b37d30d9997a1a51d52b39fe5ee383">  746</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#aa9b37d30d9997a1a51d52b39fe5ee383">GL_Draw_Init</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>{</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span> </div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#aabf15e851edb8b46df6d06929283376a">r_font_postprocess_blur</a>);</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#a6d18b641f74da0c3a9e01caf2a222827">r_font_postprocess_outline</a>);</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#a557844614abdb752fc7ad6e299cc71ae">r_font_postprocess_shadow_x</a>);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#aa5a8954ec8e167bb94e3b25e922f744c">r_font_postprocess_shadow_y</a>);</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#a83da61ffe068eb80d67c14f3c32c7125">r_font_postprocess_shadow_z</a>);</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#aab8235e6a0a536004148dbd01057ab4f">r_font_hinting</a>);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#aa551025d3e7eab3f793186ef0cea58f4">r_font_antialias</a>);</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#ab6cbb78304f59de65702e9eb56c68e88">r_font_always_reload</a>);</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">r_textshadow</a>);</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#a23263e087c4551d123be54963dc178ca">r_textbrightness</a>);</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#ac010eb0bba9db85d23c7bb9b246c7374">r_textcontrast</a>);</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#ae2c337985105fa573bee1cdd579f27bd">r_nearest_2d</a>);</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="gl__draw_8c.html#ae373d96f1de8dcdabc81f4ebf10df516">r_nearest_conchars</a>);</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span> </div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    <span class="comment">// allocate fonts storage</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>    <a class="code hl_variable" href="gl__draw_8c.html#afe61a45d4759eee3529c6f00a1e93f3f">fonts_mempool</a> = <a class="code hl_define" href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a>(<span class="stringliteral">&quot;FONTS&quot;</span>, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a> = <a class="code hl_define" href="draw_8h.html#a7c3dd0d67c2350b08931eee7bec784cb">MAX_FONTS</a>;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a> = (<a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="gl__draw_8c.html#afe61a45d4759eee3529c6f00a1e93f3f">fonts_mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a>) * <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>);</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">f</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a>) * <a class="code hl_variable" href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a>.<a class="code hl_variable" href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">maxsize</a>);</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span> </div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <span class="comment">// assign starting font names</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#a4eb1b5ac9032ef0b8c36c1a7d8d99f8e">FONT_DEFAULT</a>-&gt;title, <span class="stringliteral">&quot;default&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#a4eb1b5ac9032ef0b8c36c1a7d8d99f8e">FONT_DEFAULT</a>-&gt;title));</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#a4eb1b5ac9032ef0b8c36c1a7d8d99f8e">FONT_DEFAULT</a>-&gt;texpath, <span class="stringliteral">&quot;gfx/conchars&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#a4eb1b5ac9032ef0b8c36c1a7d8d99f8e">FONT_DEFAULT</a>-&gt;texpath));</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a>-&gt;title, <span class="stringliteral">&quot;console&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a>-&gt;title));</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#adf9e838dbd139fb8e5c70a3dc7369380">FONT_SBAR</a>-&gt;title, <span class="stringliteral">&quot;sbar&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#adf9e838dbd139fb8e5c70a3dc7369380">FONT_SBAR</a>-&gt;title));</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#a9fc49f8bafec6291dd041c965b4849e4">FONT_NOTIFY</a>-&gt;title, <span class="stringliteral">&quot;notify&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#a9fc49f8bafec6291dd041c965b4849e4">FONT_NOTIFY</a>-&gt;title));</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#a62b36ff097e22b63619ac86835c012f7">FONT_CHAT</a>-&gt;title, <span class="stringliteral">&quot;chat&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#a62b36ff097e22b63619ac86835c012f7">FONT_CHAT</a>-&gt;title));</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#ae53438bc69d128cff3313f72e070f8fb">FONT_CENTERPRINT</a>-&gt;title, <span class="stringliteral">&quot;centerprint&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#ae53438bc69d128cff3313f72e070f8fb">FONT_CENTERPRINT</a>-&gt;title));</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#a7c53e510efbf4e77f2512d931bc3bb2c">FONT_INFOBAR</a>-&gt;title, <span class="stringliteral">&quot;infobar&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#a7c53e510efbf4e77f2512d931bc3bb2c">FONT_INFOBAR</a>-&gt;title));</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_define" href="draw_8h.html#ace5c3c7041922ba1c5c0691c6a7c4dcb">FONT_MENU</a>-&gt;title, <span class="stringliteral">&quot;menu&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#ace5c3c7041922ba1c5c0691c6a7c4dcb">FONT_MENU</a>-&gt;title));</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="draw_8h.html#a395d846db063f0097ec1133a2a5334db">MAX_USERFONTS</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <span class="keywordflow">if</span>(!<a class="code hl_define" href="draw_8h.html#aba5a5003242e1ed34f13f3170bcafe21">FONT_USER</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;title[0])</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_define" href="draw_8h.html#aba5a5003242e1ed34f13f3170bcafe21">FONT_USER</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;title, <span class="keyword">sizeof</span>(<a class="code hl_define" href="draw_8h.html#aba5a5003242e1ed34f13f3170bcafe21">FONT_USER</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;title), <span class="stringliteral">&quot;user%d&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++);</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;loadfont&quot;</span>, <a class="code hl_function" href="gl__draw_8c.html#a31ca04c0ddd563f070533a6488419c1b">LoadFont_f</a>, <span class="stringliteral">&quot;loadfont function tganame loads a font; example: loadfont console gfx/veramono; loadfont without arguments lists the available functions&quot;</span>);</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <a class="code hl_function" href="r__modules_8c.html#a7f982eee49a26b26f015596ac96edea0">R_RegisterModule</a>(<span class="stringliteral">&quot;GL_Draw&quot;</span>, <a class="code hl_function" href="gl__draw_8c.html#a6e27757dc4687df6405275269439c967">gl_draw_start</a>, <a class="code hl_function" href="gl__draw_8c.html#a8b5a98ed28c36a225519f49549acea51">gl_draw_shutdown</a>, <a class="code hl_function" href="gl__draw_8c.html#aa50d0d549779b6499347f7453756fc33">gl_draw_newmap</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>}</div>
</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span> </div>
<div class="foldopen" id="foldopen00788" data-start="{" data-end="}">
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno"><a class="line" href="draw_8h.html#a5d7ee73f2ad4f52e40a58c15c9cf19df">  788</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a5d7ee73f2ad4f52e40a58c15c9cf19df">DrawQ_Start</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>{</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a2cd356fbc38a7343f00d88e6af61b3bc">draw2dstage</a> = 1;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    <a class="code hl_function" href="gl__rmain_8c.html#a93517bfc2b040f9e5db1fa1fa55c5500">R_ResetViewRendering2D_Common</a>(0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0, <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a631a6b40238d7e9e08ed03d2b194229c">width</a>, <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a5cb28e3dc70ef0b15f0e295b2aa1d295">height</a>, <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>}</div>
</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span> </div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a44f620c02d4d161cb05101d8788db4de">  794</a></span><a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="gl__draw_8c.html#a44f620c02d4d161cb05101d8788db4de">r_draw2d_force</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="foldopen" id="foldopen00796" data-start="{" data-end="}">
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno"><a class="line" href="draw_8h.html#a42f38f468dbff7db26f70058ed779b06">  796</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a42f38f468dbff7db26f70058ed779b06">DrawQ_Pic</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>)</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>{</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *mod = <a class="code hl_define" href="client_8h.html#a13752a5f83646be57169fe83d9cf24c6">CL_Mesh_UI</a>();</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    <span class="keywordflow">if</span> (!pic)</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        pic = <a class="code hl_function" href="gl__draw_8c.html#a0cc15719c695a2ca1072332dee512a11">Draw_CachePic</a>(<span class="stringliteral">&quot;white&quot;</span>);</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    <span class="comment">// make sure pic is loaded - we don&#39;t use the texture here, Mod_Mesh_GetTexture looks up the skinframe by name</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    <a class="code hl_function" href="gl__draw_8c.html#abd0658fb0a72d565561f196b380026cb">Draw_GetPicTexture</a>(pic);</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> == 0)</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = pic-&gt;width;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> == 0)</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> = pic-&gt;height;</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a> = <a class="code hl_function" href="model__shared_8c.html#a246d19129577709175692eab408c7ab9">Mod_Mesh_AddSurface</a>(mod, <a class="code hl_function" href="model__shared_8c.html#a4733e9adbf3e39c180e794cfccc8734a">Mod_Mesh_GetTexture</a>(mod, pic-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>, pic-&gt;texflags, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a> | <a class="code hl_define" href="model__brush_8h.html#a13f71663919a7f6777ff7ab20479318e">MATERIALFLAG_VERTEXCOLOR</a> | <a class="code hl_define" href="model__brush_8h.html#a66a3f2cf0206bbd0d7ce9ae60035da31">MATERIALFLAG_ALPHAGEN_VERTEX</a> | <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>        , <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>         , 0, 0, 0, -1, 0, 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>         , 0, 0, 0, -1, 1, 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, 0, 0, -1, 1, 1, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>        , <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, 0, 0, -1, 0, 1, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>);</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>}</div>
</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span> </div>
<div class="foldopen" id="foldopen00818" data-start="{" data-end="}">
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno"><a class="line" href="draw_8h.html#a77f694ce2118bb0bd52c6d64f5d79597">  818</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a77f694ce2118bb0bd52c6d64f5d79597">DrawQ_RotPic</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a>, <span class="keywordtype">float</span> angle, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>)</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>{</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">af</a> = <a class="code hl_define" href="mathlib_8h.html#a4aa807bca73db74b6ddba3da933e64aa">DEG2RAD</a>(-angle); <span class="comment">// forward</span></div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ar</a> = <a class="code hl_define" href="mathlib_8h.html#a4aa807bca73db74b6ddba3da933e64aa">DEG2RAD</a>(-angle + 90); <span class="comment">// right</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinaf</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sin</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">af</a>);</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosaf</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cos</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">af</a>);</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinar</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sin</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ar</a>);</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosar</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cos</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ar</a>);</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *mod = <a class="code hl_define" href="client_8h.html#a13752a5f83646be57169fe83d9cf24c6">CL_Mesh_UI</a>();</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keywordflow">if</span> (!pic)</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        pic = <a class="code hl_function" href="gl__draw_8c.html#a0cc15719c695a2ca1072332dee512a11">Draw_CachePic</a>(<span class="stringliteral">&quot;white&quot;</span>);</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <span class="comment">// make sure pic is loaded - we don&#39;t use the texture here, Mod_Mesh_GetTexture looks up the skinframe by name</span></div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    <a class="code hl_function" href="gl__draw_8c.html#abd0658fb0a72d565561f196b380026cb">Draw_GetPicTexture</a>(pic);</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> == 0)</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = pic-&gt;width;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> == 0)</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>        <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> = pic-&gt;height;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a> = <a class="code hl_function" href="model__shared_8c.html#a246d19129577709175692eab408c7ab9">Mod_Mesh_AddSurface</a>(mod, <a class="code hl_function" href="model__shared_8c.html#a4733e9adbf3e39c180e794cfccc8734a">Mod_Mesh_GetTexture</a>(mod, pic-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>, pic-&gt;texflags, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a> | <a class="code hl_define" href="model__brush_8h.html#a13f71663919a7f6777ff7ab20479318e">MATERIALFLAG_VERTEXCOLOR</a> | <a class="code hl_define" href="model__brush_8h.html#a66a3f2cf0206bbd0d7ce9ae60035da31">MATERIALFLAG_ALPHAGEN_VERTEX</a> | <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>), <span class="keyword">true</span>);</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosaf</a> *          <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>  - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosar</a> *           <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a> , <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinaf</a> *          <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>  - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinar</a> *           <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a> , 0, 0, 0, -1, 0, 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosaf</a> * (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>) - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosar</a> *           <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a> , <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinaf</a> * (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>) - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinar</a> *           <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a> , 0, 0, 0, -1, 1, 0, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosaf</a> * (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosar</a> * (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a>), <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinaf</a> * (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinar</a> * (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a>), 0, 0, 0, -1, 1, 1, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosaf</a> *          <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>  + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cosar</a> * (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a>), <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinaf</a> *          <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_x</a>  + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sinar</a> * (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org_y</a>), 0, 0, 0, -1, 0, 1, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>);</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>);</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>}</div>
</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span> </div>
<div class="foldopen" id="foldopen00846" data-start="{" data-end="}">
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno"><a class="line" href="draw_8h.html#a22c12f7dabc03f2e086052521a2ec2fc">  846</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a22c12f7dabc03f2e086052521a2ec2fc">DrawQ_Fill</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>)</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>{</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    <a class="code hl_function" href="gl__draw_8c.html#a42f38f468dbff7db26f70058ed779b06">DrawQ_Pic</a>(<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_function" href="gl__draw_8c.html#a0cc15719c695a2ca1072332dee512a11">Draw_CachePic</a>(<span class="stringliteral">&quot;white&quot;</span>), <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">red</a>, <a class="code hl_variable" href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a>, <a class="code hl_variable" href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>);</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>}</div>
</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span> </div>
<div class="foldopen" id="foldopen00852" data-start="{" data-end="};">
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a87ed99e6ba771984ed48c08e7c843c97">  852</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_typedef" href="qtypes_8h.html#aa69f191c29d82fe1bfd8327cab6ef7b6">vec4_t</a> <a class="code hl_variable" href="gl__draw_8c.html#a87ed99e6ba771984ed48c08e7c843c97">string_colors</a>[] =</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>{</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <span class="comment">// Quake3 colors</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="comment">// LadyHavoc: why on earth is cyan before magenta in Quake3?</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <span class="comment">// LadyHavoc: note: Doom3 uses white for [0] and [7]</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    {0.0, 0.0, 0.0, 1.0}, <span class="comment">// black</span></div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    {1.0, 0.0, 0.0, 1.0}, <span class="comment">// red</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    {0.0, 1.0, 0.0, 1.0}, <span class="comment">// green</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    {1.0, 1.0, 0.0, 1.0}, <span class="comment">// yellow</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    {0.0, 0.0, 1.0, 1.0}, <span class="comment">// blue</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    {0.0, 1.0, 1.0, 1.0}, <span class="comment">// cyan</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    {1.0, 0.0, 1.0, 1.0}, <span class="comment">// magenta</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    {1.0, 1.0, 1.0, 1.0}, <span class="comment">// white</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    <span class="comment">// [515]&#39;s BX_COLOREDTEXT extension</span></div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    {1.0, 1.0, 1.0, 0.5}, <span class="comment">// half transparent</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    {0.5, 0.5, 0.5, 1.0}  <span class="comment">// half brightness</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    <span class="comment">// Black&#39;s color table</span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <span class="comment">//{1.0, 1.0, 1.0, 1.0},</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <span class="comment">//{1.0, 0.0, 0.0, 1.0},</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    <span class="comment">//{0.0, 1.0, 0.0, 1.0},</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="comment">//{0.0, 0.0, 1.0, 1.0},</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <span class="comment">//{1.0, 1.0, 0.0, 1.0},</span></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <span class="comment">//{0.0, 1.0, 1.0, 1.0},</span></div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="comment">//{1.0, 0.0, 1.0, 1.0},</span></div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    <span class="comment">//{0.1, 0.1, 0.1, 1.0}</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>};</div>
</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span> </div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#ae1a9640f2036af9829fb8bacec4fe54e">  879</a></span><span class="preprocessor">#define STRING_COLORS_COUNT (sizeof(string_colors) / sizeof(vec4_t))</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span> </div>
<div class="foldopen" id="foldopen00881" data-start="{" data-end="}">
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a6f167e1f7b433b5f89e945ef388391c4">  881</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a6f167e1f7b433b5f89e945ef388391c4">DrawQ_GetTextColor</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[4], <span class="keywordtype">int</span> colorindex, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> shadow)</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>{</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>    <span class="keywordtype">float</span> C = <a class="code hl_variable" href="gl__draw_8c.html#ac010eb0bba9db85d23c7bb9b246c7374">r_textcontrast</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="keywordtype">float</span> B = <a class="code hl_variable" href="gl__draw_8c.html#a23263e087c4551d123be54963dc178ca">r_textbrightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="keywordflow">if</span> (colorindex &amp; 0x10000) <span class="comment">// that bit means RGB color</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    {</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[0] = ((colorindex &gt;&gt; 12) &amp; 0xf) / 15.0;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[1] = ((colorindex &gt;&gt; 8) &amp; 0xf) / 15.0;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[2] = ((colorindex &gt;&gt; 4) &amp; 0xf) / 15.0;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[3] = (colorindex &amp; 0xf) / 15.0;</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    }</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>        <a class="code hl_define" href="mathlib_8h.html#a78434ca318d72a308cffdcd75346fcd5">Vector4Copy</a>(<a class="code hl_variable" href="gl__draw_8c.html#a87ed99e6ba771984ed48c08e7c843c97">string_colors</a>[colorindex], <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>);</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[0] * <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> * C + B, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[1] * <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> * C + B, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[2] * <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> * C + B, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[3] * <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>);</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    <span class="keywordflow">if</span> (shadow)</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    {</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shadowalpha</a> = (<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[0]+<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[1]+<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[2]) * 0.8;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>        <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, 0, 0, 0, <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>[3] * <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shadowalpha</a>, 1));</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    }</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>}</div>
</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span> </div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span><span class="comment">// returns a colorindex (format 0x1RGBA) if str is a valid RGB string</span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span><span class="comment">// returns 0 otherwise</span></div>
<div class="foldopen" id="foldopen00904" data-start="{" data-end="}">
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno"><a class="line" href="gl__draw_8c.html#a920c229bf1c31f472cb8440bebf17a10">  904</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="gl__draw_8c.html#a920c229bf1c31f472cb8440bebf17a10">RGBstring_to_colorindex</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str</a>)</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>{</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <a class="code hl_typedef" href="utf8lib_8h.html#a4df5cacc6a1a72026ea405be8bcb97a9">Uchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>; </div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>    <span class="keywordtype">int</span> ind = 0x0001 &lt;&lt; 4;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        <span class="keywordflow">if</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str</a> &lt;= <span class="charliteral">&#39;9&#39;</span> &amp;&amp; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str</a> &gt;= <span class="charliteral">&#39;0&#39;</span>)</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>            ind |= (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str</a> - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        {</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolower</a>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str</a>);</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt;= <span class="charliteral">&#39;f&#39;</span>)</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>                ind |= (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> - 87);</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>        }</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">str</a>;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>        ind &lt;&lt;= 4;</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    } <span class="keywordflow">while</span>(!(ind &amp; 0x10000));</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    <span class="keywordflow">return</span> ind | 0xf; <span class="comment">// add costant alpha value</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>}</div>
</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span> </div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span><span class="comment">// NOTE: this function always draws exactly one character if maxwidth &lt;= 0</span></div>
<div class="foldopen" id="foldopen00926" data-start="{" data-end="}">
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno"><a class="line" href="draw_8h.html#af54d0c87339daf573564a3d46cd56865">  926</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#af54d0c87339daf573564a3d46cd56865">DrawQ_TextWidth_UntilWidth_TrackColors_Scale</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">size_t</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <span class="keywordtype">float</span> h, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac79d93aa2a1c85497c8c9c633781f52b">sw</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sh</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, <span class="keywordtype">float</span> maxwidth)</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>{</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a> = text;</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <span class="keywordtype">int</span> colorindex;</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <a class="code hl_typedef" href="utf8lib_8h.html#a4df5cacc6a1a72026ea405be8bcb97a9">Uchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextch</a>;</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <a class="code hl_typedef" href="utf8lib_8h.html#a4df5cacc6a1a72026ea405be8bcb97a9">Uchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> = 0; <span class="comment">// used for kerning</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">kx</a>;</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a> = 0;</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytes_left</a>;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ft2_font_map_t</a> *fontmap = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ft2_font_map_t</a> *map = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <a class="code hl_struct" href="structft2__font__t.html">ft2_font_t</a> *ft2 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;ft2;</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <span class="comment">// float ftbase_x;</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">least_one</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>; <span class="comment">// display w</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    <span class="comment">//float dh; // display h</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> *width_of;</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span> </div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <span class="keywordflow">if</span> (!h) h = <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>;</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <span class="keywordflow">if</span> (!h) {</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> = h = 1;</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>    }</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    <span class="comment">// do this in the end</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;<a class="code hl_variable" href="structft2__font__t.html#a638259526bd855db06762aede60c70de">settings</a>.<a class="code hl_variable" href="structft2__settings__t.html#a326241c880039a3f85a95096c6ab1442">scale</a>;</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    h *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale;</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span> </div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <span class="comment">// find the most fitting size:</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <span class="keywordflow">if</span> (ft2 != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>    {</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a>)</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a> = <a class="code hl_function" href="ft2_8c.html#a6b363368882b452bfb2505c2cde00cfa">Font_IndexForSize</a>(ft2, h, &amp;<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, &amp;h);</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a> = <a class="code hl_function" href="ft2_8c.html#a6b363368882b452bfb2505c2cde00cfa">Font_IndexForSize</a>(ft2, h, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>        fontmap = <a class="code hl_function" href="ft2_8c.html#a4431508aa3e8e5087109e3f5f833863a">Font_MapForIndex</a>(ft2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a>);</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    }</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span> </div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a> = <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> * <a class="code hl_variable" href="shader__glsl_8h.html#ac79d93aa2a1c85497c8c9c633781f52b">sw</a>;</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    <span class="comment">//dh = h * sh;</span></div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span> </div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> &lt; 1)</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> = 1&lt;&lt;30;</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span> </div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> || *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> == -1)</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>        colorindex = <a class="code hl_define" href="draw_8h.html#adb77a905f94280bd1251a75e005ab496">STRING_COLOR_DEFAULT</a>;</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>        colorindex = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>;</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span> </div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    <span class="comment">// maxwidth /= fnt-&gt;scale; // w and h are multiplied by it already</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="comment">// ftbase_x = snap_to_pixel_x(0);</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span> </div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    <span class="keywordflow">if</span>(maxwidth &lt;= 0)</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    {</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">least_one</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        maxwidth = -maxwidth;</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    }</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span> </div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    <span class="comment">//if (snap)</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    <span class="comment">//  x = snap_to_pixel_x(x, 0.4); // haha, it&#39;s 0 anyway</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span> </div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    <span class="keywordflow">if</span> (fontmap)</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        width_of = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of_ft2[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a>];</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>        width_of = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span> </div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <span class="keywordflow">while</span> (((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytes_left</a> = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> - (text - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a>)) &gt; 0) &amp;&amp; *text)</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    {</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">i0</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextch</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = <a class="code hl_define" href="utf8lib_8h.html#a02cdb5a7217bcbdfd56af51884fe4c7d">u8_getnchar</a>(text, &amp;text, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytes_left</a>);</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = text - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a>;</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>)</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> == <span class="charliteral">&#39; &#39;</span> &amp;&amp; !fontmap)</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        {</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">least_one</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">i0</a>) <span class="comment">// never skip the first character</span></div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + width_of[(<span class="keywordtype">int</span>) <span class="charliteral">&#39; &#39;</span>] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a> &gt; maxwidth)</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>                {</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>                    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">i0</a>;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>                    <span class="keywordflow">break</span>; <span class="comment">// oops, can&#39;t draw this</span></div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>                }</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>            <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += width_of[(<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <span class="charliteral">&#39; &#39;</span>] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>;</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        }</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a> &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a> &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>)</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>        {</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = *text; <span class="comment">// colors are ascii, so no u8_ needed</span></div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt;= <span class="charliteral">&#39;9&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;= <span class="charliteral">&#39;0&#39;</span>) <span class="comment">// ^[0-9] found</span></div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>            {</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                colorindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                ++text;</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>            }</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> == <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a> &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 3 &lt; *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> ) <span class="comment">// ^x found</span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>            {</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_p</a> = &amp;text[1];</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempcolorindex</a> = <a class="code hl_function" href="gl__draw_8c.html#a920c229bf1c31f472cb8440bebf17a10">RGBstring_to_colorindex</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_p</a>);</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempcolorindex</a>)</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>                {</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>                    colorindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempcolorindex</a>;</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>                    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+=4;</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>                    text += 4;</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                }</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>            }</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>) <span class="comment">// ^^ found</span></div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>            {</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>                <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++;</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>                text++;</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>            }</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>            <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--;</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>        }</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextch</a>;</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span> </div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>        <span class="keywordflow">if</span> (!fontmap || (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch &lt;= 0xFF &amp;&amp; fontmap-&gt;</a>glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>].image) || (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;= 0xE000 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt;= 0xE0FF))</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>        {</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt; 0xE000)</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> -= 0xE000;</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt; 0xFF)</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>            <span class="keywordflow">if</span> (fontmap)</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>                map = <a class="code hl_define" href="ft2_8h.html#a0701c45263ba918eaef9f2b3167df13d">ft2_oldstyle_map</a>;</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> = 0;</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">least_one</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">i0</a>) <span class="comment">// never skip the first character</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + width_of[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a> &gt; maxwidth)</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>                {</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>                    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">i0</a>;</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>                    <span class="keywordflow">break</span>; <span class="comment">// oops, can&#39;t draw this</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>                }</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>            <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += width_of[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>;</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>            <span class="keywordflow">if</span> (!map || map == <a class="code hl_define" href="ft2_8h.html#a0701c45263ba918eaef9f2b3167df13d">ft2_oldstyle_map</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a>)</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>            {</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>                <a class="code hl_function" href="ft2_8c.html#aba5484cbe041ffc398f16040c14522ac">Font_GetMapForChar</a>(ft2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>, &amp;map, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>);</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>                <span class="keywordflow">if</span> (!map)</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>            }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> &amp;&amp; <a class="code hl_function" href="ft2_8c.html#a6ae691f8a6f3f4e13d374b9e4cc448eb">Font_GetKerningForMap</a>(ft2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">kx</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>                <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">kx</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>;</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>            <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].advance_x * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>;</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>        }</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    }</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span> </div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span> </div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>)</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> = colorindex;</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span> </div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>;</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>}</div>
</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span> </div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"><a class="line" href="draw_8h.html#a8191f291a5e0c1c579313c2e75045c4c"> 1082</a></span><span class="keywordtype">float</span> <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[4];</div>
<div class="foldopen" id="foldopen01083" data-start="{" data-end="}">
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"><a class="line" href="draw_8h.html#a56d12051370aef48f375f23d1c728f61"> 1083</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#a9357dbdbe7acdc2dac1b7d3f59e00ef5">DrawQ_String_Scale</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startx</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">starty</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <span class="keywordtype">float</span> h, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac79d93aa2a1c85497c8c9c633781f52b">sw</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sh</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basered</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basegreen</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseblue</a>, <span class="keywordtype">float</span> basealpha, <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>)</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>{</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>    <span class="keywordtype">int</span> shadow, colorindex = <a class="code hl_define" href="draw_8h.html#adb77a905f94280bd1251a75e005ab496">STRING_COLOR_DEFAULT</a>;</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startx</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, s, t, u, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisw</a>;</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>    <a class="code hl_typedef" href="utf8lib_8h.html#a4df5cacc6a1a72026ea405be8bcb97a9">Uchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextch</a>;</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    <a class="code hl_typedef" href="utf8lib_8h.html#a4df5cacc6a1a72026ea405be8bcb97a9">Uchar</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> = 0; <span class="comment">// used for kerning</span></div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a> = 0;</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ft2_font_map_t</a> *map = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;     <span class="comment">// the currently used map</span></div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ft2_font_map_t</a> *fontmap = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">// the font map for the size</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ftbase_y</a>;</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a> = text;</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">kx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ky</a>;</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <a class="code hl_struct" href="structft2__font__t.html">ft2_font_t</a> *ft2 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;ft2;</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pix_x</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pix_y</a>;</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytes_left</a>;</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a>;</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> *width_of;</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *mod = <a class="code hl_define" href="client_8h.html#a13752a5f83646be57169fe83d9cf24c6">CL_Mesh_UI</a>();</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>;</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">th</a>;</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tw</a> = <a class="code hl_function" href="gl__draw_8c.html#aa2c0dfb12e34ff519ccaa3a67d160b66">Draw_GetPicWidth</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic);</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">th</a> = <a class="code hl_function" href="gl__draw_8c.html#aed89f0ec44f9be4dae4ccd71780f1ce0">Draw_GetPicHeight</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic);</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span> </div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>    <span class="keywordflow">if</span> (!h) h = <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>;</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>    <span class="keywordflow">if</span> (!h) {</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>        h = <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> = 1;</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>    }</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span> </div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">starty</a> -= (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale - 1) * h * 0.5 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.voffset*h; <span class="comment">// center &amp; offset</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>    <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale;</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    h *= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;settings.scale;</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <span class="keywordflow">if</span> (ft2 != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    {</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a>)</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a> = <a class="code hl_function" href="ft2_8c.html#a6b363368882b452bfb2505c2cde00cfa">Font_IndexForSize</a>(ft2, h, &amp;<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, &amp;h);</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a> = <a class="code hl_function" href="ft2_8c.html#a6b363368882b452bfb2505c2cde00cfa">Font_IndexForSize</a>(ft2, h, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        fontmap = <a class="code hl_function" href="ft2_8c.html#a4431508aa3e8e5087109e3f5f833863a">Font_MapForIndex</a>(ft2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a>);</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>    }</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span> </div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a> = <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> * <a class="code hl_variable" href="shader__glsl_8h.html#ac79d93aa2a1c85497c8c9c633781f52b">sw</a>;</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a> = h * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sh</a>;</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span> </div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <span class="comment">// draw the font at its baseline when using freetype</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>    <span class="comment">//ftbase_x = 0;</span></div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ftbase_y</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a> * (4.5/6.0);</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span> </div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> &lt; 1)</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> = 1&lt;&lt;30;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span> </div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="gl__rmain_8c.html#a339ee823109c268dce8da10716bb4f46">r_draw2d</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="gl__draw_8c.html#a44f620c02d4d161cb05101d8788db4de">r_draw2d_force</a>)</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startx</a> + <a class="code hl_function" href="gl__draw_8c.html#af54d0c87339daf573564a3d46cd56865">DrawQ_TextWidth_UntilWidth_TrackColors_Scale</a>(text, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, <a class="code hl_variable" href="shader__glsl_8h.html#ac79d93aa2a1c85497c8c9c633781f52b">sw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sh</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, 1000000000);</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span> </div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>    <span class="comment">//ftbase_x = snap_to_pixel_x(ftbase_x);</span></div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">snap</a>)</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>    {</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startx</a> = <a class="code hl_function" href="gl__draw_8c.html#aa42faf4425f81a1eb389749d31785a05">snap_to_pixel_x</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startx</a>, 0.4);</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">starty</a> = <a class="code hl_function" href="gl__draw_8c.html#ae2afbf8ffe260bebd24a65b59378b545">snap_to_pixel_y</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">starty</a>, 0.4);</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ftbase_y</a> = <a class="code hl_function" href="gl__draw_8c.html#ae2afbf8ffe260bebd24a65b59378b545">snap_to_pixel_y</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ftbase_y</a>, 0.3);</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>    }</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span> </div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pix_x</a> = <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a631a6b40238d7e9e08ed03d2b194229c">width</a> / <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pix_y</a> = <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a5cb28e3dc70ef0b15f0e295b2aa1d295">height</a> / <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span> </div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    <span class="keywordflow">if</span> (fontmap)</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>        width_of = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of_ft2[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a>];</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>        width_of = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of;</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span> </div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    <span class="keywordflow">for</span> (shadow = <a class="code hl_variable" href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">r_textshadow</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> != 0 &amp;&amp; basealpha &gt; 0;shadow &gt;= 0;shadow--)</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    {</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> = 0;</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        text = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a>;</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span> </div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> || *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> == -1)</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>            colorindex = <a class="code hl_define" href="draw_8h.html#adb77a905f94280bd1251a75e005ab496">STRING_COLOR_DEFAULT</a>;</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>            colorindex = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>;</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span> </div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        <a class="code hl_function" href="gl__draw_8c.html#a6f167e1f7b433b5f89e945ef388391c4">DrawQ_GetTextColor</a>(<a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>, colorindex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basered</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basegreen</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseblue</a>, basealpha, shadow != 0);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span> </div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startx</a>;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>        <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">starty</a>;</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>        <span class="comment">/*</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span><span class="comment">        if (shadow)</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span><span class="comment">        {</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span><span class="comment">            x += r_textshadow.value * vid.width / vid_conwidth.value;</span></div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span><span class="comment">            y += r_textshadow.value * vid.height / vid_conheight.value;</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span><span class="comment">        }</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span><span class="comment">        */</span></div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        <span class="keywordflow">while</span> (((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytes_left</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> - (text - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a>)) &gt; 0) &amp;&amp; *text)</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>        {</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextch</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = <a class="code hl_define" href="utf8lib_8h.html#a02cdb5a7217bcbdfd56af51884fe4c7d">u8_getnchar</a>(text, &amp;text, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bytes_left</a>);</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>            <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = text - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_start</a>;</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>)</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> == <span class="charliteral">&#39; &#39;</span> &amp;&amp; !fontmap)</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>            {</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>                <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += width_of[(<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <span class="charliteral">&#39; &#39;</span>] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>;</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>            }</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a> &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a> &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>)</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>            {</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = *text; <span class="comment">// colors are ascii, so no u8_ needed</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt;= <span class="charliteral">&#39;9&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;= <span class="charliteral">&#39;0&#39;</span>) <span class="comment">// ^[0-9] found</span></div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>                {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>                    colorindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>                    <a class="code hl_function" href="gl__draw_8c.html#a6f167e1f7b433b5f89e945ef388391c4">DrawQ_GetTextColor</a>(<a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>, colorindex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basered</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basegreen</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseblue</a>, basealpha, shadow != 0);</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>                    ++text;</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>                    ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>                }</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> == <a class="code hl_define" href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a> &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+3 &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a> ) <span class="comment">// ^x found</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>                {</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_p</a> = &amp;text[1];</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempcolorindex</a> = <a class="code hl_function" href="gl__draw_8c.html#a920c229bf1c31f472cb8440bebf17a10">RGBstring_to_colorindex</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">text_p</a>);</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempcolorindex</a>)</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>                    {</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>                        colorindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempcolorindex</a>;</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>                        <a class="code hl_function" href="gl__draw_8c.html#a6f167e1f7b433b5f89e945ef388391c4">DrawQ_GetTextColor</a>(<a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>, colorindex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basered</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basegreen</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseblue</a>, basealpha, shadow != 0);</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+=4;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>                        text+=4;</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                    }</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>                }</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>)</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>                {</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>                    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>                    text++;</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>                }</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>                <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>            }</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>            <span class="comment">// get the backup</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextch</a>;</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>            <span class="comment">// using a value of -1 for the oldstyle map because NULL means uninitialized...</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>            <span class="comment">// this way we don&#39;t need to rebind fnt-&gt;tex for every old-style character</span></div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>            <span class="comment">// E000..E0FF: emulate old-font characters (to still have smileys and such available)</span></div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>            <span class="keywordflow">if</span> (shadow)</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>            {</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>                <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += 1.0/<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pix_x</a> * <a class="code hl_variable" href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">r_textshadow</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>                <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> += 1.0/<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pix_y</a> * <a class="code hl_variable" href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">r_textshadow</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>            }</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>            <span class="keywordflow">if</span> (!fontmap || (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch &lt;= 0xFF &amp;&amp; fontmap-&gt;</a>glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>].image) || (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;= 0xE000 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &lt;= 0xE0FF))</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>            {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;= 0xE000)</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> -= 0xE000;</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt; 0xFF)</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>                    <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>                <span class="keywordflow">if</span> (fontmap)</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>                    map = <a class="code hl_define" href="ft2_8h.html#a0701c45263ba918eaef9f2b3167df13d">ft2_oldstyle_map</a>;</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> = 0;</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>                <span class="comment">//num = (unsigned char) text[i];</span></div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>                <span class="comment">//thisw = fnt-&gt;width_of[num];</span></div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisw</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;width_of[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>];</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>                <span class="comment">// FIXME make these smaller to just include the occupied part of the character for slightly faster rendering</span></div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="gl__draw_8c.html#ae373d96f1de8dcdabc81f4ebf10df516">r_nearest_conchars</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>                {</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>                    s = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &amp; 15)*0.0625f;</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>                    t = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;&gt; 4)*0.0625f;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>                    u = 0.0625f * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisw</a>;</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>                    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = 0.0625f;</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>                }</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>                {</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>                    s = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &amp; 15)*0.0625f + (0.5f / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tw</a>);</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>                    t = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> &gt;&gt; 4)*0.0625f + (0.5f / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">th</a>);</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                    u = 0.0625f * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisw</a> - (1.0f / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tw</a>);</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>                    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = 0.0625f - (1.0f / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">th</a>);</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>                }</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a> = <a class="code hl_function" href="model__shared_8c.html#a246d19129577709175692eab408c7ab9">Mod_Mesh_AddSurface</a>(mod, <a class="code hl_function" href="model__shared_8c.html#a4733e9adbf3e39c180e794cfccc8734a">Mod_Mesh_GetTexture</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>-&gt;pic-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a> | <a class="code hl_define" href="model__brush_8h.html#a13f71663919a7f6777ff7ab20479318e">MATERIALFLAG_VERTEXCOLOR</a> | <a class="code hl_define" href="model__brush_8h.html#a66a3f2cf0206bbd0d7ce9ae60035da31">MATERIALFLAG_ALPHAGEN_VERTEX</a> | <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>), <span class="keyword">true</span>);</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>         , <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>   , 10, 0, 0, -1, s  , t  , 0, 0, <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[0], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[1], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[2], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[3]);</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisw</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>   , 10, 0, 0, -1, s+u, t  , 0, 0, <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[0], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[1], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[2], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[3]);</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisw</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a>, 10, 0, 0, -1, s+u, t+<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, 0, 0, <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[0], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[1], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[2], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[3]);</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>         , <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a>, 10, 0, 0, -1, s  , t+<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, 0, 0, <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[0], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[1], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[2], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[3]);</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>                <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>);</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>                <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>);</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>                <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += width_of[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>;</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>                <span class="keywordflow">if</span> (!map || map == <a class="code hl_define" href="ft2_8h.html#a0701c45263ba918eaef9f2b3167df13d">ft2_oldstyle_map</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a> != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a>)</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>                {</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>                    <a class="code hl_function" href="ft2_8c.html#aba5484cbe041ffc398f16040c14522ac">Font_GetMapForChar</a>(ft2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>, &amp;map, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>);</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>                    <span class="keywordflow">if</span> (!map)</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>                    {</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>                        shadow = -1;</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>                    }</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>                }</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span> </div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisw</a> = map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].advance_x;</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span> </div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>                <span class="comment">//x += ftbase_x;</span></div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>                <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ftbase_y</a>;</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> &amp;&amp; <a class="code hl_function" href="ft2_8c.html#a6ae691f8a6f3f4e13d374b9e4cc448eb">Font_GetKerningForMap</a>(ft2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">map_index</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">kx</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ky</a>))</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>                {</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>                    <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">kx</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>;</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>                    <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ky</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a>;</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>                }</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">kx</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ky</a> = 0;</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a> = <a class="code hl_function" href="model__shared_8c.html#a246d19129577709175692eab408c7ab9">Mod_Mesh_AddSurface</a>(mod, <a class="code hl_function" href="model__shared_8c.html#a4733e9adbf3e39c180e794cfccc8734a">Mod_Mesh_GetTexture</a>(mod, map-&gt;pic-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a> | <a class="code hl_define" href="model__brush_8h.html#a13f71663919a7f6777ff7ab20479318e">MATERIALFLAG_VERTEXCOLOR</a> | <a class="code hl_define" href="model__brush_8h.html#a66a3f2cf0206bbd0d7ce9ae60035da31">MATERIALFLAG_ALPHAGEN_VERTEX</a> | <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>), <span class="keyword">true</span>);</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a> * map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].vxmin, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a> * map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].vymin, 10, 0, 0, -1, map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].txmin, map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].tymin, 0, 0, <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[0], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[1], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[2], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[3]);</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a> * map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].vxmax, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a> * map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].vymin, 10, 0, 0, -1, map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].txmax, map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].tymin, 0, 0, <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[0], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[1], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[2], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[3]);</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a> * map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].vxmax, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a> * map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].vymax, 10, 0, 0, -1, map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].txmax, map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].tymax, 0, 0, <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[0], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[1], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[2], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[3]);</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a> * map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].vxmin, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dh</a> * map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].vymax, 10, 0, 0, -1, map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].txmin, map-&gt;glyphs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapch</a>].tymax, 0, 0, <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[0], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[1], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[2], <a class="code hl_variable" href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a>[3]);</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>                <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>);</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>                <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>);</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>                <span class="comment">//x -= ftbase_x;</span></div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>                <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> -= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ftbase_y</a>;</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span> </div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>                <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisw</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dw</a>;</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span> </div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>                <span class="comment">//prevmap = map;</span></div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevch</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ch</a>;</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>            }</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>:</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>            <span class="keywordflow">if</span> (shadow)</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>            {</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>                <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> -= 1.0/<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pix_x</a> * <a class="code hl_variable" href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">r_textshadow</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>                <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> -= 1.0/<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pix_y</a> * <a class="code hl_variable" href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">r_textshadow</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>            }</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>        }</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    }</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span> </div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>)</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> = colorindex;</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span> </div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    <span class="comment">// note: this relies on the proper text (not shadow) being drawn last</span></div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>;</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>}</div>
</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span> </div>
<div class="foldopen" id="foldopen01318" data-start="{" data-end="}">
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"><a class="line" href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3"> 1318</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#aad880bba40abd3688c15d7ac022318a1">DrawQ_String</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startx</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">starty</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <span class="keywordtype">float</span> h, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basered</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basegreen</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseblue</a>, <span class="keywordtype">float</span> basealpha, <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>)</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>{</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__draw_8c.html#a9357dbdbe7acdc2dac1b7d3f59e00ef5">DrawQ_String_Scale</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">starty</a>, text, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, 1, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basered</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">basegreen</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">baseblue</a>, basealpha, <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>);</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>}</div>
</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span> </div>
<div class="foldopen" id="foldopen01323" data-start="{" data-end="}">
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"><a class="line" href="draw_8h.html#a1cf461d84ebe0feb95c54152b29651f1"> 1323</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#a1cf461d84ebe0feb95c54152b29651f1">DrawQ_TextWidth_UntilWidth_TrackColors</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">size_t</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <span class="keywordtype">float</span> h, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, <span class="keywordtype">float</span> maxwidth)</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>{</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__draw_8c.html#af54d0c87339daf573564a3d46cd56865">DrawQ_TextWidth_UntilWidth_TrackColors_Scale</a>(text, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, 1, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, maxwidth);</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>}</div>
</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span> </div>
<div class="foldopen" id="foldopen01328" data-start="{" data-end="}">
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"><a class="line" href="draw_8h.html#aa4629677424af2c7a2d8b6771723cfeb"> 1328</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#aa4629677424af2c7a2d8b6771723cfeb">DrawQ_TextWidth</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <span class="keywordtype">float</span> h, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>)</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>{</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__draw_8c.html#acb02c3ade677ca95cc43f3febab11208">DrawQ_TextWidth_UntilWidth</a>(text, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, 1000000000);</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>}</div>
</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span> </div>
<div class="foldopen" id="foldopen01333" data-start="{" data-end="}">
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"><a class="line" href="draw_8h.html#acb02c3ade677ca95cc43f3febab11208"> 1333</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="gl__draw_8c.html#acb02c3ade677ca95cc43f3febab11208">DrawQ_TextWidth_UntilWidth</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">size_t</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <span class="keywordtype">float</span> h, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a>)</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>{</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="gl__draw_8c.html#a1cf461d84ebe0feb95c54152b29651f1">DrawQ_TextWidth_UntilWidth_TrackColors</a>(text, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxlen</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fnt</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a>);</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>}</div>
</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span> </div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span><span class="comment">// not used</span></div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span><span class="comment">// no ^xrgb management</span></div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DrawQ_BuildColoredText</a>(<span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">output2c</a>, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxoutchars</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxreadchars</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a>, <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>)</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>{</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a> = 0;</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outputend2c</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">output2c</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxoutchars</a> - 2;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> || *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> == -1)</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = <a class="code hl_define" href="draw_8h.html#adb77a905f94280bd1251a75e005ab496">STRING_COLOR_DEFAULT</a>;</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>;</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxreadchars</a>)</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxreadchars</a> = 1&lt;&lt;30;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textend</a> = text + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxreadchars</a>;</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>    <span class="keywordflow">while</span> (text != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textend</a> &amp;&amp; *text)</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>    {</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>        <span class="keywordflow">if</span> (*text == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a> &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignorecolorcodes</a> &amp;&amp; text + 1 != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textend</a>)</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>        {</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>            <span class="keywordflow">if</span> (text[1] == <a class="code hl_define" href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a>)</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>                text++;</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text[1] &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; text[1] &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>            {</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a> = text[1] - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                text += 2;</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>            }</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>        }</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">output2c</a> &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outputend2c</a>)</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">output2c</a>++ = *text++;</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">output2c</a>++ = <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>;</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a>++;</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    }</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">output2c</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">output2c</a>[1] = 0;</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a>)</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outcolor</a> = <a class="code hl_variable" href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a>;</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numchars</a>;</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>}</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span> </div>
<div class="foldopen" id="foldopen01378" data-start="{" data-end="}">
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"><a class="line" href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326"> 1378</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cachepic_t</a> *pic, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <span class="keywordtype">float</span> s1, <span class="keywordtype">float</span> t1, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r1</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">g1</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">b1</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a1</a>, <span class="keywordtype">float</span> s2, <span class="keywordtype">float</span> t2, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r2</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">g2</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">b2</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a2</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s3</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t3</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r3</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">g3</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">b3</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a3</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s4</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t4</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r4</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">g4</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">b4</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a4</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>)</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>{</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *mod = <a class="code hl_define" href="client_8h.html#a13752a5f83646be57169fe83d9cf24c6">CL_Mesh_UI</a>();</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>;</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    <span class="keywordflow">if</span> (!pic)</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        pic = <a class="code hl_function" href="gl__draw_8c.html#a0cc15719c695a2ca1072332dee512a11">Draw_CachePic</a>(<span class="stringliteral">&quot;white&quot;</span>);</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    <span class="comment">// make sure pic is loaded - we don&#39;t use the texture here, Mod_Mesh_GetTexture looks up the skinframe by name</span></div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    <a class="code hl_function" href="gl__draw_8c.html#abd0658fb0a72d565561f196b380026cb">Draw_GetPicTexture</a>(pic);</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> == 0)</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>        <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> = pic-&gt;width;</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> == 0)</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>        <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> = pic-&gt;height;</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a> = <a class="code hl_function" href="model__shared_8c.html#a246d19129577709175692eab408c7ab9">Mod_Mesh_AddSurface</a>(mod, <a class="code hl_function" href="model__shared_8c.html#a4733e9adbf3e39c180e794cfccc8734a">Mod_Mesh_GetTexture</a>(mod, pic-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>, pic-&gt;texflags, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a> | <a class="code hl_define" href="model__brush_8h.html#a13f71663919a7f6777ff7ab20479318e">MATERIALFLAG_VERTEXCOLOR</a> | <a class="code hl_define" href="model__brush_8h.html#a66a3f2cf0206bbd0d7ce9ae60035da31">MATERIALFLAG_ALPHAGEN_VERTEX</a> | <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>), <span class="keyword">true</span>);</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>        , <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>         , 0, 0, 0, -1, s1, t1, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">g1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">b1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a1</a>);</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>         , 0, 0, 0, -1, s2, t2, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">g2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">b2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a2</a>);</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> + <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, 0, 0, -1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s4</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t4</a>, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r4</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">g4</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">b4</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a4</a>);</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>        , <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, 0, 0, 0, -1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">s3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">t3</a>, 0, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">g3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">b3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">a3</a>);</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>);</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>);</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>}</div>
</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span> </div>
<div class="foldopen" id="foldopen01400" data-start="{" data-end="}">
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"><a class="line" href="draw_8h.html#a79f7c69bd9addde0d081a6aa5f4b6987"> 1400</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a79f7c69bd9addde0d081a6aa5f4b6987">DrawQ_Line</a> (<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac40f3d1971e671aab7a122eea181e978">x1</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a0e89857f2d085f82245c0873f460679f">y1</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a7c522f1c5d1635549573e2118306b8a3">x2</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a792764868a6181a44be59a390fced652">y2</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">flags</a>)</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>{</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *mod = <a class="code hl_define" href="client_8h.html#a13752a5f83646be57169fe83d9cf24c6">CL_Mesh_UI</a>();</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>;</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>;</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsety</a>;</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>    <span class="comment">// width is measured in real pixels</span></div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a7c522f1c5d1635549573e2118306b8a3">x2</a> - <a class="code hl_variable" href="shader__glsl_8h.html#ac40f3d1971e671aab7a122eea181e978">x1</a>) &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a792764868a6181a44be59a390fced652">y2</a> - <a class="code hl_variable" href="shader__glsl_8h.html#a0e89857f2d085f82245c0873f460679f">y1</a>))</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>    {</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetx</a> = 0;</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsety</a> = 0.5f * <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> / <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a5cb28e3dc70ef0b15f0e295b2aa1d295">height</a>;</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    }</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    {</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetx</a> = 0.5f * <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> / <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a631a6b40238d7e9e08ed03d2b194229c">width</a>;</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsety</a> = 0;</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>    }</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a> = <a class="code hl_function" href="model__shared_8c.html#a246d19129577709175692eab408c7ab9">Mod_Mesh_AddSurface</a>(mod, <a class="code hl_function" href="model__shared_8c.html#a4733e9adbf3e39c180e794cfccc8734a">Mod_Mesh_GetTexture</a>(mod, <span class="stringliteral">&quot;white&quot;</span>, 0, 0, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a> | <a class="code hl_define" href="model__brush_8h.html#a13f71663919a7f6777ff7ab20479318e">MATERIALFLAG_VERTEXCOLOR</a> | <a class="code hl_define" href="model__brush_8h.html#a66a3f2cf0206bbd0d7ce9ae60035da31">MATERIALFLAG_ALPHAGEN_VERTEX</a> | <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>), <span class="keyword">true</span>);</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac40f3d1971e671aab7a122eea181e978">x1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetx</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a0e89857f2d085f82245c0873f460679f">y1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsety</a>, 10, 0, 0, -1, 0, 0, 0, 0, <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a7c522f1c5d1635549573e2118306b8a3">x2</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetx</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a792764868a6181a44be59a390fced652">y2</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsety</a>, 10, 0, 0, -1, 0, 0, 0, 0, <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a7c522f1c5d1635549573e2118306b8a3">x2</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetx</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a792764868a6181a44be59a390fced652">y2</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsety</a>, 10, 0, 0, -1, 0, 0, 0, 0, <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a> = <a class="code hl_function" href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac40f3d1971e671aab7a122eea181e978">x1</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetx</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a0e89857f2d085f82245c0873f460679f">y1</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsety</a>, 10, 0, 0, -1, 0, 0, 0, 0, <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a>);</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>    <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>);</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>    <a class="code hl_function" href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e0</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e3</a>);</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>}</div>
</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span> </div>
<div class="foldopen" id="foldopen01426" data-start="{" data-end="}">
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"><a class="line" href="draw_8h.html#ac790eb68cda79b9cd7532a3fe715ad52"> 1426</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#ac790eb68cda79b9cd7532a3fe715ad52">DrawQ_SetClipArea</a>(<span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>)</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>{</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ih</a>;</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>    <a class="code hl_function" href="gl__draw_8c.html#a3cc1a78c06a6c753f6060d858544b976">DrawQ_FlushUI</a>();</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span> </div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>    <span class="comment">// We have to convert the con coords into real coords</span></div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>    <span class="comment">// OGL uses bottom to top (origin is in bottom left)</span></div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ix</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(0.5 + <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> * ((<span class="keywordtype">float</span>)<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a89ef4d6feec3ad10a43f796508f06c3f">width</a> / <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)) + <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a2bb469a8c9ceabd35744e9a8a43d9593">x</a>;</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iy</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(0.5 + <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> * ((<span class="keywordtype">float</span>)<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a95f69db988718a0cdd3a80af5abb761b">height</a> / <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)) + <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a3bb2c6d20d064ecdc89b6e455dcecc4c">y</a>;</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iw</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(0.5 + <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a> * ((<span class="keywordtype">float</span>)<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a89ef4d6feec3ad10a43f796508f06c3f">width</a> / <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>));</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ih</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(0.5 + <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a> * ((<span class="keywordtype">float</span>)<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a95f69db988718a0cdd3a80af5abb761b">height</a> / <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>));</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">renderpath</a>)</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>    {</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a>:</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a>:</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>        <a class="code hl_function" href="gl__backend_8c.html#adadda08f98e1c2d849d38d6885073148">GL_Scissor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ix</a>, <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a5cb28e3dc70ef0b15f0e295b2aa1d295">height</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iy</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ih</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iw</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ih</a>);</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>    }</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span> </div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>    <a class="code hl_function" href="gl__backend_8c.html#afcd11176eb800025a810aa2a17f4be6a">GL_ScissorTest</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>}</div>
</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span> </div>
<div class="foldopen" id="foldopen01448" data-start="{" data-end="}">
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"><a class="line" href="draw_8h.html#af8dffe71ed742a3bd067194a4919c24c"> 1448</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#af8dffe71ed742a3bd067194a4919c24c">DrawQ_ResetClipArea</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>{</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>    <a class="code hl_function" href="gl__draw_8c.html#a3cc1a78c06a6c753f6060d858544b976">DrawQ_FlushUI</a>();</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>    <a class="code hl_function" href="gl__backend_8c.html#afcd11176eb800025a810aa2a17f4be6a">GL_ScissorTest</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>}</div>
</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span> </div>
<div class="foldopen" id="foldopen01454" data-start="{" data-end="}">
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"><a class="line" href="draw_8h.html#a6b521af4f5d6e783cbe1c090f276d201"> 1454</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a6b521af4f5d6e783cbe1c090f276d201">DrawQ_Finish</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>{</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    <a class="code hl_function" href="gl__draw_8c.html#a3cc1a78c06a6c753f6060d858544b976">DrawQ_FlushUI</a>();</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a2cd356fbc38a7343f00d88e6af61b3bc">draw2dstage</a> = 0;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>}</div>
</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span> </div>
<div class="foldopen" id="foldopen01460" data-start="{" data-end="}">
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"><a class="line" href="draw_8h.html#ad749eead5c548365aab8eab9dd8ba4fa"> 1460</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#ad749eead5c548365aab8eab9dd8ba4fa">DrawQ_RecalcView</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>{</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>    <a class="code hl_function" href="gl__draw_8c.html#a3cc1a78c06a6c753f6060d858544b976">DrawQ_FlushUI</a>();</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a2cd356fbc38a7343f00d88e6af61b3bc">draw2dstage</a>)</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>        <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a2cd356fbc38a7343f00d88e6af61b3bc">draw2dstage</a> = -1; <span class="comment">// next draw call will set viewport etc. again</span></div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>}</div>
</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span> </div>
<div class="foldopen" id="foldopen01467" data-start="{" data-end="}">
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"><a class="line" href="draw_8h.html#a3cc1a78c06a6c753f6060d858544b976"> 1467</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="gl__draw_8c.html#a3cc1a78c06a6c753f6060d858544b976">DrawQ_FlushUI</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>{</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *mod = <a class="code hl_define" href="client_8h.html#a13752a5f83646be57169fe83d9cf24c6">CL_Mesh_UI</a>();</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>    <span class="keywordflow">if</span> (mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> == 0)</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span> </div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="gl__rmain_8c.html#a339ee823109c268dce8da10716bb4f46">r_draw2d</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="gl__draw_8c.html#a44f620c02d4d161cb05101d8788db4de">r_draw2d_force</a>)</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>    {</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>        <a class="code hl_function" href="model__shared_8c.html#a191e480db71fa680ca320583e42060bb">Mod_Mesh_Reset</a>(mod);</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>    }</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span> </div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    <span class="comment">// this is roughly equivalent to R_Mod_Draw, so the UI can use full material feature set</span></div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>    <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">view</a>.<a class="code hl_variable" href="structr__refdef__view__t.html#a1e8124ff88085c5f0235fe55d7c874b5">colorscale</a> = 1;</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>    <a class="code hl_variable" href="gl__rmain_8c.html#a3f8f4407d354bd95a7e7b5430b411648">r_textureframe</a>++; <span class="comment">// used only by R_GetCurrentTexture</span></div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    <a class="code hl_function" href="gl__backend_8c.html#a369132de82d4015a01e164c63255403f">GL_DepthMask</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span> </div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    <a class="code hl_function" href="model__shared_8c.html#ad5783554605d236b56845ddb2ea0f9a7">Mod_Mesh_Finalize</a>(mod);</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>    <a class="code hl_function" href="gl__rmain_8c.html#ab460509c90a5b88d4e001f2e2ffb4e82">R_DrawModelSurfaces</a>(&amp;<a class="code hl_variable" href="cl__main_8c.html#aeeb738ac412e5fce4db245a7808e5742">cl_meshentities</a>[<a class="code hl_enumvalue" href="client_8h.html#a35502a9094eb9f35846de5999017365ba9a2b590ce3bebcf1645056aac3b2b407">MESH_UI</a>].render, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>    <a class="code hl_function" href="model__shared_8c.html#a191e480db71fa680ca320583e42060bb">Mod_Mesh_Reset</a>(mod);</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>}</div>
</div>
<div class="ttc" id="acl__main_8c_html_aeeb738ac412e5fce4db245a7808e5742"><div class="ttname"><a href="cl__main_8c.html#aeeb738ac412e5fce4db245a7808e5742">cl_meshentities</a></div><div class="ttdeci">entity_t cl_meshentities[NUM_MESHENTITIES]</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l02515">cl_main.c:2515</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ad642724985d35758ea536f92fafbcdf3"><div class="ttname"><a href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a></div><div class="ttdeci">cvar_t vid_conheight</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00056">cl_screen.c:56</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ae58b44b922d5902939340cd2f0bd7a38"><div class="ttname"><a href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a></div><div class="ttdeci">cvar_t vid_conwidth</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00055">cl_screen.c:55</a></div></div>
<div class="ttc" id="acl__video_8h_html"><div class="ttname"><a href="cl__video_8h.html">cl_video.h</a></div></div>
<div class="ttc" id="aclient_8h_html_a13752a5f83646be57169fe83d9cf24c6"><div class="ttname"><a href="client_8h.html#a13752a5f83646be57169fe83d9cf24c6">CL_Mesh_UI</a></div><div class="ttdeci">#define CL_Mesh_UI()</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l01372">client.h:1372</a></div></div>
<div class="ttc" id="aclient_8h_html_a35502a9094eb9f35846de5999017365ba9a2b590ce3bebcf1645056aac3b2b407"><div class="ttname"><a href="client_8h.html#a35502a9094eb9f35846de5999017365ba9a2b590ce3bebcf1645056aac3b2b407">MESH_UI</a></div><div class="ttdeci">@ MESH_UI</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l01365">client.h:1365</a></div></div>
<div class="ttc" id="acmd_8c_html_a86fa905462db75436af48f27298204e5"><div class="ttname"><a href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a></div><div class="ttdeci">void Cmd_AddCommand(unsigned flags, const char *cmd_name, xcommand_t function, const char *description)</div><div class="ttdoc">called by the init functions of other parts of the program to register commands and functions to call...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01754">cmd.c:1754</a></div></div>
<div class="ttc" id="acmd_8h_html_ab070abb7f2ebb842c8e67bef4e317314"><div class="ttname"><a href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a></div><div class="ttdeci">static int Cmd_Argc(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00248">cmd.h:248</a></div></div>
<div class="ttc" id="acmd_8h_html_ab49017bdcb3104823452a9ed7597aaf5"><div class="ttname"><a href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a></div><div class="ttdeci">static const char * Cmd_Argv(cmd_state_t *cmd, int arg)</div><div class="ttdoc">Cmd_Argv(cmd, ) will return an empty string (not a NULL) if arg &gt; argc, so string operations are alwa...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00253">cmd.h:253</a></div></div>
<div class="ttc" id="acmd_8h_html_abba64dce6a45541317c5508aa83436e5"><div class="ttname"><a href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a></div><div class="ttdeci">#define CF_CLIENT</div><div class="ttdoc">cvar/command that only the client can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00048">cmd.h:48</a></div></div>
<div class="ttc" id="acmd_8h_html_aeeecb68995736ab90434173e64fd14e5"><div class="ttname"><a href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a></div><div class="ttdeci">#define CF_ARCHIVE</div><div class="ttdoc">cvar should have its set value saved to config.cfg and persist across sessions</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00053">cmd.h:53</a></div></div>
<div class="ttc" id="acom__crc16_8c_html_aa9ba811c20537ebd01898928be2de439"><div class="ttname"><a href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a></div><div class="ttdeci">unsigned short CRC_Block(const unsigned char *data, size_t size)</div><div class="ttdef"><b>Definition</b> <a href="com__crc16_8c_source.html#l00075">com_crc16.c:75</a></div></div>
<div class="ttc" id="acommon_8c_html_a3eb222dff7f3bc0f6ce47f1e02df175e"><div class="ttname"><a href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a></div><div class="ttdeci">char com_token[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00039">common.c:39</a></div></div>
<div class="ttc" id="acommon_8c_html_a4a8220fa88226bf9cf39b12a051a20d7"><div class="ttname"><a href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a></div><div class="ttdeci">char * va(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00972">common.c:972</a></div></div>
<div class="ttc" id="acommon_8c_html_acc99aea15e3d929ef5cfac822ee7040d"><div class="ttname"><a href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a></div><div class="ttdeci">qbool COM_ParseToken_Simple(const char **datapointer, qbool returnnewline, qbool parsebackslash, qbool parsecomments)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00463">common.c:463</a></div></div>
<div class="ttc" id="acommon_8c_html_ae36050083f45e395189fee6aa45fbb0c"><div class="ttname"><a href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a></div><div class="ttdeci">int dpsnprintf(char *buffer, size_t buffersize, const char *format,...)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00997">common.c:997</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00298">common.h:298</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="aconsole_8h_html_a27b052ed2a962d8ec1b9e922d0813058"><div class="ttname"><a href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a></div><div class="ttdeci">#define CON_WARN</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00096">console.h:96</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="adraw_8h_html_a048db15fbc0bc0df353fdda990a11366"><div class="ttname"><a href="draw_8h.html#a048db15fbc0bc0df353fdda990a11366">FONTS_EXPAND</a></div><div class="ttdeci">#define FONTS_EXPAND</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00127">draw.h:127</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca169b97514f5784959ec2e52c3f5ef7a2">CACHEPICFLAG_FAILONMISSING</a></div><div class="ttdeci">@ CACHEPICFLAG_FAILONMISSING</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00045">draw.h:44</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca1e96da16ca251fc0fa448dccb11aefca"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca1e96da16ca251fc0fa448dccb11aefca">CACHEPICFLAG_NEAREST</a></div><div class="ttdeci">@ CACHEPICFLAG_NEAREST</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00042">draw.h:42</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca4ff7ab5064192dfaeeb5ef8d08522a35"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca4ff7ab5064192dfaeeb5ef8d08522a35">CACHEPICFLAG_LINEAR</a></div><div class="ttdeci">@ CACHEPICFLAG_LINEAR</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00043">draw.h:43</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a">CACHEPICFLAG_QUIET</a></div><div class="ttdeci">@ CACHEPICFLAG_QUIET</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00037">draw.h:37</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca6f4a8a56c757f709fa3d01588c264e0a"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6f4a8a56c757f709fa3d01588c264e0a">CACHEPICFLAG_NEWPIC</a></div><div class="ttdeci">@ CACHEPICFLAG_NEWPIC</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00040">draw.h:40</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca9c37d55f3f6c032703ab8523a2865ae3"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca9c37d55f3f6c032703ab8523a2865ae3">CACHEPICFLAG_NOTPERSISTENT</a></div><div class="ttdeci">@ CACHEPICFLAG_NOTPERSISTENT</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00036">draw.h:36</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cab9170a5666e7ef8a37311832ad99bba0">CACHEPICFLAG_NOCLAMP</a></div><div class="ttdeci">@ CACHEPICFLAG_NOCLAMP</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00039">draw.h:39</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0cabbaa660269d487d95043ed4e0d12aada"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cabbaa660269d487d95043ed4e0d12aada">CACHEPICFLAG_NOCOMPRESSION</a></div><div class="ttdeci">@ CACHEPICFLAG_NOCOMPRESSION</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00038">draw.h:38</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0cadae227f489fc71b63078dae2d2b39d41"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0cadae227f489fc71b63078dae2d2b39d41">CACHEPICFLAG_MIPMAP</a></div><div class="ttdeci">@ CACHEPICFLAG_MIPMAP</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00041">draw.h:41</a></div></div>
<div class="ttc" id="adraw_8h_html_a395d846db063f0097ec1133a2a5334db"><div class="ttname"><a href="draw_8h.html#a395d846db063f0097ec1133a2a5334db">MAX_USERFONTS</a></div><div class="ttdeci">#define MAX_USERFONTS</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00137">draw.h:137</a></div></div>
<div class="ttc" id="adraw_8h_html_a438c27be6cd45a22749834828338d23a"><div class="ttname"><a href="draw_8h.html#a438c27be6cd45a22749834828338d23a">STRING_COLOR_RGB_TAG_CHAR</a></div><div class="ttdeci">#define STRING_COLOR_RGB_TAG_CHAR</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00143">draw.h:143</a></div></div>
<div class="ttc" id="adraw_8h_html_a4eb1b5ac9032ef0b8c36c1a7d8d99f8e"><div class="ttname"><a href="draw_8h.html#a4eb1b5ac9032ef0b8c36c1a7d8d99f8e">FONT_DEFAULT</a></div><div class="ttdeci">#define FONT_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00128">draw.h:128</a></div></div>
<div class="ttc" id="adraw_8h_html_a611421b06fcecabafed233483c4070a7"><div class="ttname"><a href="draw_8h.html#a611421b06fcecabafed233483c4070a7">MAX_FONT_CMDLINE</a></div><div class="ttdeci">#define MAX_FONT_CMDLINE</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00096">draw.h:96</a></div></div>
<div class="ttc" id="adraw_8h_html_a62b36ff097e22b63619ac86835c012f7"><div class="ttname"><a href="draw_8h.html#a62b36ff097e22b63619ac86835c012f7">FONT_CHAT</a></div><div class="ttdeci">#define FONT_CHAT</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00132">draw.h:132</a></div></div>
<div class="ttc" id="adraw_8h_html_a67cbc421ff78872692a5e6e50d0c40a9"><div class="ttname"><a href="draw_8h.html#a67cbc421ff78872692a5e6e50d0c40a9">FONT_CONSOLE</a></div><div class="ttdeci">#define FONT_CONSOLE</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00129">draw.h:129</a></div></div>
<div class="ttc" id="adraw_8h_html_a7c3dd0d67c2350b08931eee7bec784cb"><div class="ttname"><a href="draw_8h.html#a7c3dd0d67c2350b08931eee7bec784cb">MAX_FONTS</a></div><div class="ttdeci">#define MAX_FONTS</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00126">draw.h:126</a></div></div>
<div class="ttc" id="adraw_8h_html_a7c53e510efbf4e77f2512d931bc3bb2c"><div class="ttname"><a href="draw_8h.html#a7c53e510efbf4e77f2512d931bc3bb2c">FONT_INFOBAR</a></div><div class="ttdeci">#define FONT_INFOBAR</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00134">draw.h:134</a></div></div>
<div class="ttc" id="adraw_8h_html_a9fc49f8bafec6291dd041c965b4849e4"><div class="ttname"><a href="draw_8h.html#a9fc49f8bafec6291dd041c965b4849e4">FONT_NOTIFY</a></div><div class="ttdeci">#define FONT_NOTIFY</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00131">draw.h:131</a></div></div>
<div class="ttc" id="adraw_8h_html_aba5a5003242e1ed34f13f3170bcafe21"><div class="ttname"><a href="draw_8h.html#aba5a5003242e1ed34f13f3170bcafe21">FONT_USER</a></div><div class="ttdeci">#define FONT_USER(i)</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00136">draw.h:136</a></div></div>
<div class="ttc" id="adraw_8h_html_ace5c3c7041922ba1c5c0691c6a7c4dcb"><div class="ttname"><a href="draw_8h.html#ace5c3c7041922ba1c5c0691c6a7c4dcb">FONT_MENU</a></div><div class="ttdeci">#define FONT_MENU</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00135">draw.h:135</a></div></div>
<div class="ttc" id="adraw_8h_html_adb77a905f94280bd1251a75e005ab496"><div class="ttname"><a href="draw_8h.html#adb77a905f94280bd1251a75e005ab496">STRING_COLOR_DEFAULT</a></div><div class="ttdeci">#define STRING_COLOR_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00141">draw.h:141</a></div></div>
<div class="ttc" id="adraw_8h_html_adba7813bc64e21b1ee715a8929e84d5e"><div class="ttname"><a href="draw_8h.html#adba7813bc64e21b1ee715a8929e84d5e">MAX_FONT_FALLBACKS</a></div><div class="ttdeci">#define MAX_FONT_FALLBACKS</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00095">draw.h:95</a></div></div>
<div class="ttc" id="adraw_8h_html_adf9e838dbd139fb8e5c70a3dc7369380"><div class="ttname"><a href="draw_8h.html#adf9e838dbd139fb8e5c70a3dc7369380">FONT_SBAR</a></div><div class="ttdeci">#define FONT_SBAR</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00130">draw.h:130</a></div></div>
<div class="ttc" id="adraw_8h_html_ae53438bc69d128cff3313f72e070f8fb"><div class="ttname"><a href="draw_8h.html#ae53438bc69d128cff3313f72e070f8fb">FONT_CENTERPRINT</a></div><div class="ttdeci">#define FONT_CENTERPRINT</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00133">draw.h:133</a></div></div>
<div class="ttc" id="adraw_8h_html_af716933805044687dff562f0e8a98062"><div class="ttname"><a href="draw_8h.html#af716933805044687dff562f0e8a98062">MAX_FONT_SIZES</a></div><div class="ttdeci">#define MAX_FONT_SIZES</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00094">draw.h:94</a></div></div>
<div class="ttc" id="adraw_8h_html_afeab87723022e4c281789f37b3c3846d"><div class="ttname"><a href="draw_8h.html#afeab87723022e4c281789f37b3c3846d">STRING_COLOR_TAG</a></div><div class="ttdeci">#define STRING_COLOR_TAG</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00140">draw.h:140</a></div></div>
<div class="ttc" id="afs_8c_html_a46b9b5ad3cc14f77ae63016505163128"><div class="ttname"><a href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a></div><div class="ttdeci">unsigned char * FS_LoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03525">fs.c:3525</a></div></div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="afs_8h_html_a5bcbce6d6c29888adf596671d6acd44b"><div class="ttname"><a href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a></div><div class="ttdeci">int64_t fs_offset_t</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00037">fs.h:37</a></div></div>
<div class="ttc" id="aft2_8c_html_a030f289cdedd8f9269062ea4bd3cbc7a"><div class="ttname"><a href="ft2_8c.html#a030f289cdedd8f9269062ea4bd3cbc7a">font_newmap</a></div><div class="ttdeci">void font_newmap(void)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l00439">ft2.c:439</a></div></div>
<div class="ttc" id="aft2_8c_html_a4431508aa3e8e5087109e3f5f833863a"><div class="ttname"><a href="ft2_8c.html#a4431508aa3e8e5087109e3f5f833863a">Font_MapForIndex</a></div><div class="ttdeci">ft2_font_map_t * Font_MapForIndex(ft2_font_t *font, int index)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l01052">ft2.c:1052</a></div></div>
<div class="ttc" id="aft2_8c_html_a5c8bba8c7e825322064a08890cf6a00a"><div class="ttname"><a href="ft2_8c.html#a5c8bba8c7e825322064a08890cf6a00a">Font_SnapTo</a></div><div class="ttdeci">float Font_SnapTo(float val, float snapwidth)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l00514">ft2.c:514</a></div></div>
<div class="ttc" id="aft2_8c_html_a646c9738d0308e8393904ed8960be440"><div class="ttname"><a href="ft2_8c.html#a646c9738d0308e8393904ed8960be440">Font_LoadFont</a></div><div class="ttdeci">qbool Font_LoadFont(const char *name, dp_font_t *dpfnt)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l00521">ft2.c:521</a></div></div>
<div class="ttc" id="aft2_8c_html_a64dc07ad1f6308f34a964c94ba64274a"><div class="ttname"><a href="ft2_8c.html#a64dc07ad1f6308f34a964c94ba64274a">font_start</a></div><div class="ttdeci">void font_start(void)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l00404">ft2.c:404</a></div></div>
<div class="ttc" id="aft2_8c_html_a6ae691f8a6f3f4e13d374b9e4cc448eb"><div class="ttname"><a href="ft2_8c.html#a6ae691f8a6f3f4e13d374b9e4cc448eb">Font_GetKerningForMap</a></div><div class="ttdeci">qbool Font_GetKerningForMap(ft2_font_t *font, int map_index, float w, float h, Uchar left, Uchar right, float *outx, float *outy)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l01085">ft2.c:1085</a></div></div>
<div class="ttc" id="aft2_8c_html_a6b363368882b452bfb2505c2cde00cfa"><div class="ttname"><a href="ft2_8c.html#a6b363368882b452bfb2505c2cde00cfa">Font_IndexForSize</a></div><div class="ttdeci">int Font_IndexForSize(ft2_font_t *font, float _fsize, float *outw, float *outh)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l00999">ft2.c:999</a></div></div>
<div class="ttc" id="aft2_8c_html_aba5484cbe041ffc398f16040c14522ac"><div class="ttname"><a href="ft2_8c.html#aba5484cbe041ffc398f16040c14522ac">Font_GetMapForChar</a></div><div class="ttdeci">qbool Font_GetMapForChar(ft2_font_t *font, int map_index, Uchar ch, ft2_font_map_t **outmap, int *outmapch)</div><div class="ttdoc">Query for or load a font map for a character, with the character's place on it.</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l01971">ft2.c:1971</a></div></div>
<div class="ttc" id="aft2_8c_html_ac123fd37d6ea2345c2ac44eac0512fad"><div class="ttname"><a href="ft2_8c.html#ac123fd37d6ea2345c2ac44eac0512fad">font_shutdown</a></div><div class="ttdeci">void font_shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l00425">ft2.c:425</a></div></div>
<div class="ttc" id="aft2_8c_html_ac60ff405c437ee15a8ad1db226bddb10"><div class="ttname"><a href="ft2_8c.html#ac60ff405c437ee15a8ad1db226bddb10">Font_UnloadFont</a></div><div class="ttdeci">void Font_UnloadFont(ft2_font_t *font)</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l01184">ft2.c:1184</a></div></div>
<div class="ttc" id="aft2_8h_html"><div class="ttname"><a href="ft2_8h.html">ft2.h</a></div></div>
<div class="ttc" id="aft2_8h_html_a0701c45263ba918eaef9f2b3167df13d"><div class="ttname"><a href="ft2_8h.html#a0701c45263ba918eaef9f2b3167df13d">ft2_oldstyle_map</a></div><div class="ttdeci">#define ft2_oldstyle_map</div><div class="ttdef"><b>Definition</b> <a href="ft2_8h_source.html#l00030">ft2.h:30</a></div></div>
<div class="ttc" id="aft2__fontdefs_8h_html"><div class="ttname"><a href="ft2__fontdefs_8h.html">ft2_fontdefs.h</a></div></div>
<div class="ttc" id="agl__backend_8c_html_a369132de82d4015a01e164c63255403f"><div class="ttname"><a href="gl__backend_8c.html#a369132de82d4015a01e164c63255403f">GL_DepthMask</a></div><div class="ttdeci">void GL_DepthMask(int state)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01201">gl_backend.c:1201</a></div></div>
<div class="ttc" id="agl__backend_8c_html_adadda08f98e1c2d849d38d6885073148"><div class="ttname"><a href="gl__backend_8c.html#adadda08f98e1c2d849d38d6885073148">GL_Scissor</a></div><div class="ttdeci">void GL_Scissor(int x, int y, int width, int height)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01445">gl_backend.c:1445</a></div></div>
<div class="ttc" id="agl__backend_8c_html_afcd11176eb800025a810aa2a17f4be6a"><div class="ttname"><a href="gl__backend_8c.html#afcd11176eb800025a810aa2a17f4be6a">GL_ScissorTest</a></div><div class="ttdeci">void GL_ScissorTest(int state)</div><div class="ttdef"><b>Definition</b> <a href="gl__backend_8c_source.html#l01457">gl_backend.c:1457</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a0cc15719c695a2ca1072332dee512a11"><div class="ttname"><a href="gl__draw_8c.html#a0cc15719c695a2ca1072332dee512a11">Draw_CachePic</a></div><div class="ttdeci">cachepic_t * Draw_CachePic(const char *path)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00184">gl_draw.c:184</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a12259a70e632f12c4264b794c0b08cb0"><div class="ttname"><a href="gl__draw_8c.html#a12259a70e632f12c4264b794c0b08cb0">cachepics</a></div><div class="ttdeci">static cachepic_t cachepics[MAX_CACHED_PICS]</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00072">gl_draw.c:72</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a12374cef7a10168dece61991efad205b"><div class="ttname"><a href="gl__draw_8c.html#a12374cef7a10168dece61991efad205b">cachepichash</a></div><div class="ttdeci">static cachepic_t * cachepichash[CACHEPICHASHSIZE]</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00071">gl_draw.c:71</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a13edae69442e54c4911817ebbe30012e"><div class="ttname"><a href="gl__draw_8c.html#a13edae69442e54c4911817ebbe30012e">drawtexturepool</a></div><div class="ttdeci">rtexturepool_t * drawtexturepool</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00075">gl_draw.c:75</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a1cf461d84ebe0feb95c54152b29651f1"><div class="ttname"><a href="gl__draw_8c.html#a1cf461d84ebe0feb95c54152b29651f1">DrawQ_TextWidth_UntilWidth_TrackColors</a></div><div class="ttdeci">float DrawQ_TextWidth_UntilWidth_TrackColors(const char *text, size_t *maxlen, float w, float h, int *outcolor, qbool ignorecolorcodes, const dp_font_t *fnt, float maxwidth)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01323">gl_draw.c:1323</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a22c12f7dabc03f2e086052521a2ec2fc"><div class="ttname"><a href="gl__draw_8c.html#a22c12f7dabc03f2e086052521a2ec2fc">DrawQ_Fill</a></div><div class="ttdeci">void DrawQ_Fill(float x, float y, float width, float height, float red, float green, float blue, float alpha, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00846">gl_draw.c:846</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a23263e087c4551d123be54963dc178ca"><div class="ttname"><a href="gl__draw_8c.html#a23263e087c4551d123be54963dc178ca">r_textbrightness</a></div><div class="ttdeci">cvar_t r_textbrightness</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00054">gl_draw.c:54</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a26b285648113a722e4bffe3eca1f8aca"><div class="ttname"><a href="gl__draw_8c.html#a26b285648113a722e4bffe3eca1f8aca">Draw_FreePic</a></div><div class="ttdeci">void Draw_FreePic(const char *picname)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00308">gl_draw.c:308</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a31ca04c0ddd563f070533a6488419c1b"><div class="ttname"><a href="gl__draw_8c.html#a31ca04c0ddd563f070533a6488419c1b">LoadFont_f</a></div><div class="ttdeci">static void LoadFont_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00543">gl_draw.c:543</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a3cc1a78c06a6c753f6060d858544b976"><div class="ttname"><a href="gl__draw_8c.html#a3cc1a78c06a6c753f6060d858544b976">DrawQ_FlushUI</a></div><div class="ttdeci">void DrawQ_FlushUI(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01467">gl_draw.c:1467</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a42f38f468dbff7db26f70058ed779b06"><div class="ttname"><a href="gl__draw_8c.html#a42f38f468dbff7db26f70058ed779b06">DrawQ_Pic</a></div><div class="ttdeci">void DrawQ_Pic(float x, float y, cachepic_t *pic, float width, float height, float red, float green, float blue, float alpha, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00796">gl_draw.c:796</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a44f620c02d4d161cb05101d8788db4de"><div class="ttname"><a href="gl__draw_8c.html#a44f620c02d4d161cb05101d8788db4de">r_draw2d_force</a></div><div class="ttdeci">qbool r_draw2d_force</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00794">gl_draw.c:794</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a4a29fbabcad426cddb939f9955a1f326"><div class="ttname"><a href="gl__draw_8c.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a></div><div class="ttdeci">void DrawQ_SuperPic(float x, float y, cachepic_t *pic, float width, float height, float s1, float t1, float r1, float g1, float b1, float a1, float s2, float t2, float r2, float g2, float b2, float a2, float s3, float t3, float r3, float g3, float b3, float a3, float s4, float t4, float r4, float g4, float b4, float a4, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01378">gl_draw.c:1378</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a557844614abdb752fc7ad6e299cc71ae"><div class="ttname"><a href="gl__draw_8c.html#a557844614abdb752fc7ad6e299cc71ae">r_font_postprocess_shadow_x</a></div><div class="ttdeci">cvar_t r_font_postprocess_shadow_x</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00059">gl_draw.c:59</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a5c16365a0d88ba4dc75088eb19460840"><div class="ttname"><a href="gl__draw_8c.html#a5c16365a0d88ba4dc75088eb19460840">Draw_Frame</a></div><div class="ttdeci">void Draw_Frame(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00236">gl_draw.c:236</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a5ca44c80b6d3008618eb534abbd056b7"><div class="ttname"><a href="gl__draw_8c.html#a5ca44c80b6d3008618eb534abbd056b7">Draw_NewPic</a></div><div class="ttdeci">cachepic_t * Draw_NewPic(const char *picname, int width, int height, unsigned char *pixels_bgra, textype_t textype, int texflags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00255">gl_draw.c:255</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a5d7ee73f2ad4f52e40a58c15c9cf19df"><div class="ttname"><a href="gl__draw_8c.html#a5d7ee73f2ad4f52e40a58c15c9cf19df">DrawQ_Start</a></div><div class="ttdeci">void DrawQ_Start(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00788">gl_draw.c:788</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a6b521af4f5d6e783cbe1c090f276d201"><div class="ttname"><a href="gl__draw_8c.html#a6b521af4f5d6e783cbe1c090f276d201">DrawQ_Finish</a></div><div class="ttdeci">void DrawQ_Finish(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01454">gl_draw.c:1454</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a6d18b641f74da0c3a9e01caf2a222827"><div class="ttname"><a href="gl__draw_8c.html#a6d18b641f74da0c3a9e01caf2a222827">r_font_postprocess_outline</a></div><div class="ttdeci">cvar_t r_font_postprocess_outline</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00058">gl_draw.c:58</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a6e27757dc4687df6405275269439c967"><div class="ttname"><a href="gl__draw_8c.html#a6e27757dc4687df6405275269439c967">gl_draw_start</a></div><div class="ttdeci">static void gl_draw_start(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00705">gl_draw.c:705</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a6f167e1f7b433b5f89e945ef388391c4"><div class="ttname"><a href="gl__draw_8c.html#a6f167e1f7b433b5f89e945ef388391c4">DrawQ_GetTextColor</a></div><div class="ttdeci">static void DrawQ_GetTextColor(float color[4], int colorindex, float r, float g, float b, float a, qbool shadow)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00881">gl_draw.c:881</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a77f694ce2118bb0bd52c6d64f5d79597"><div class="ttname"><a href="gl__draw_8c.html#a77f694ce2118bb0bd52c6d64f5d79597">DrawQ_RotPic</a></div><div class="ttdeci">void DrawQ_RotPic(float x, float y, cachepic_t *pic, float width, float height, float org_x, float org_y, float angle, float red, float green, float blue, float alpha, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00818">gl_draw.c:818</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a79f7c69bd9addde0d081a6aa5f4b6987"><div class="ttname"><a href="gl__draw_8c.html#a79f7c69bd9addde0d081a6aa5f4b6987">DrawQ_Line</a></div><div class="ttdeci">void DrawQ_Line(float width, float x1, float y1, float x2, float y2, float r, float g, float b, float alpha, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01400">gl_draw.c:1400</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a8191f291a5e0c1c579313c2e75045c4c"><div class="ttname"><a href="gl__draw_8c.html#a8191f291a5e0c1c579313c2e75045c4c">DrawQ_Color</a></div><div class="ttdeci">float DrawQ_Color[4]</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01082">gl_draw.c:1082</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a82a2dd911297af5041362157b7bbe4c3"><div class="ttname"><a href="gl__draw_8c.html#a82a2dd911297af5041362157b7bbe4c3">Draw_GetPicName</a></div><div class="ttdeci">const char * Draw_GetPicName(cachepic_t *pic)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00189">gl_draw.c:189</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a83da61ffe068eb80d67c14f3c32c7125"><div class="ttname"><a href="gl__draw_8c.html#a83da61ffe068eb80d67c14f3c32c7125">r_font_postprocess_shadow_z</a></div><div class="ttdeci">cvar_t r_font_postprocess_shadow_z</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00061">gl_draw.c:61</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a84cc3e2cb3dbc2f13683a744a6bb3c98"><div class="ttname"><a href="gl__draw_8c.html#a84cc3e2cb3dbc2f13683a744a6bb3c98">dp_fonts</a></div><div class="ttdeci">dp_fonts_t dp_fonts</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00050">gl_draw.c:50</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a87ed99e6ba771984ed48c08e7c843c97"><div class="ttname"><a href="gl__draw_8c.html#a87ed99e6ba771984ed48c08e7c843c97">string_colors</a></div><div class="ttdeci">static const vec4_t string_colors[]</div><div class="ttdoc">color tag printing</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00852">gl_draw.c:852</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a8b5a98ed28c36a225519f49549acea51"><div class="ttname"><a href="gl__draw_8c.html#a8b5a98ed28c36a225519f49549acea51">gl_draw_shutdown</a></div><div class="ttdeci">static void gl_draw_shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00722">gl_draw.c:722</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a920c229bf1c31f472cb8440bebf17a10"><div class="ttname"><a href="gl__draw_8c.html#a920c229bf1c31f472cb8440bebf17a10">RGBstring_to_colorindex</a></div><div class="ttdeci">static int RGBstring_to_colorindex(const char *str)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00904">gl_draw.c:904</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a924bb151d47e7e82d9690f2b6537247d"><div class="ttname"><a href="gl__draw_8c.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a></div><div class="ttdeci">cachepic_t * Draw_CachePic_Flags(const char *path, unsigned int cachepicflags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00085">gl_draw.c:85</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a9357dbdbe7acdc2dac1b7d3f59e00ef5"><div class="ttname"><a href="gl__draw_8c.html#a9357dbdbe7acdc2dac1b7d3f59e00ef5">DrawQ_String_Scale</a></div><div class="ttdeci">float DrawQ_String_Scale(float startx, float starty, const char *text, size_t maxlen, float w, float h, float sw, float sh, float basered, float basegreen, float baseblue, float basealpha, int flags, int *outcolor, qbool ignorecolorcodes, const dp_font_t *fnt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01083">gl_draw.c:1083</a></div></div>
<div class="ttc" id="agl__draw_8c_html_a946dfff6fdfe7b6f78ca878333e84d47"><div class="ttname"><a href="gl__draw_8c.html#a946dfff6fdfe7b6f78ca878333e84d47">r_textshadow</a></div><div class="ttdeci">cvar_t r_textshadow</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00053">gl_draw.c:53</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aa2c0dfb12e34ff519ccaa3a67d160b66"><div class="ttname"><a href="gl__draw_8c.html#aa2c0dfb12e34ff519ccaa3a67d160b66">Draw_GetPicWidth</a></div><div class="ttdeci">int Draw_GetPicWidth(cachepic_t *pic)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00196">gl_draw.c:196</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aa42faf4425f81a1eb389749d31785a05"><div class="ttname"><a href="gl__draw_8c.html#aa42faf4425f81a1eb389749d31785a05">snap_to_pixel_x</a></div><div class="ttdeci">static float snap_to_pixel_x(float x, float roundUpAt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00517">gl_draw.c:517</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aa4629677424af2c7a2d8b6771723cfeb"><div class="ttname"><a href="gl__draw_8c.html#aa4629677424af2c7a2d8b6771723cfeb">DrawQ_TextWidth</a></div><div class="ttdeci">float DrawQ_TextWidth(const char *text, size_t maxlen, float w, float h, qbool ignorecolorcodes, const dp_font_t *fnt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01328">gl_draw.c:1328</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aa50d0d549779b6499347f7453756fc33"><div class="ttname"><a href="gl__draw_8c.html#aa50d0d549779b6499347f7453756fc33">gl_draw_newmap</a></div><div class="ttdeci">static void gl_draw_newmap(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00732">gl_draw.c:732</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aa551025d3e7eab3f793186ef0cea58f4"><div class="ttname"><a href="gl__draw_8c.html#aa551025d3e7eab3f793186ef0cea58f4">r_font_antialias</a></div><div class="ttdeci">cvar_t r_font_antialias</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00063">gl_draw.c:63</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aa5a8954ec8e167bb94e3b25e922f744c"><div class="ttname"><a href="gl__draw_8c.html#aa5a8954ec8e167bb94e3b25e922f744c">r_font_postprocess_shadow_y</a></div><div class="ttdeci">cvar_t r_font_postprocess_shadow_y</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00060">gl_draw.c:60</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aa9b37d30d9997a1a51d52b39fe5ee383"><div class="ttname"><a href="gl__draw_8c.html#aa9b37d30d9997a1a51d52b39fe5ee383">GL_Draw_Init</a></div><div class="ttdeci">void GL_Draw_Init(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00746">gl_draw.c:746</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aab8235e6a0a536004148dbd01057ab4f"><div class="ttname"><a href="gl__draw_8c.html#aab8235e6a0a536004148dbd01057ab4f">r_font_hinting</a></div><div class="ttdeci">cvar_t r_font_hinting</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00062">gl_draw.c:62</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aabf15e851edb8b46df6d06929283376a"><div class="ttname"><a href="gl__draw_8c.html#aabf15e851edb8b46df6d06929283376a">r_font_postprocess_blur</a></div><div class="ttdeci">cvar_t r_font_postprocess_blur</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00057">gl_draw.c:57</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aad880bba40abd3688c15d7ac022318a1"><div class="ttname"><a href="gl__draw_8c.html#aad880bba40abd3688c15d7ac022318a1">DrawQ_String</a></div><div class="ttdeci">float DrawQ_String(float startx, float starty, const char *text, size_t maxlen, float w, float h, float basered, float basegreen, float baseblue, float basealpha, int flags, int *outcolor, qbool ignorecolorcodes, const dp_font_t *fnt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01318">gl_draw.c:1318</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ab6cbb78304f59de65702e9eb56c68e88"><div class="ttname"><a href="gl__draw_8c.html#ab6cbb78304f59de65702e9eb56c68e88">r_font_always_reload</a></div><div class="ttdeci">cvar_t r_font_always_reload</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00064">gl_draw.c:64</a></div></div>
<div class="ttc" id="agl__draw_8c_html_abd0658fb0a72d565561f196b380026cb"><div class="ttname"><a href="gl__draw_8c.html#abd0658fb0a72d565561f196b380026cb">Draw_GetPicTexture</a></div><div class="ttdeci">rtexture_t * Draw_GetPicTexture(cachepic_t *pic)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00223">gl_draw.c:223</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ac010eb0bba9db85d23c7bb9b246c7374"><div class="ttname"><a href="gl__draw_8c.html#ac010eb0bba9db85d23c7bb9b246c7374">r_textcontrast</a></div><div class="ttdeci">cvar_t r_textcontrast</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00055">gl_draw.c:55</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ac13110d3b78c33fe2280a4ef9525f82d"><div class="ttname"><a href="gl__draw_8c.html#ac13110d3b78c33fe2280a4ef9525f82d">draw_frame</a></div><div class="ttdeci">int draw_frame</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00077">gl_draw.c:77</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ac790eb68cda79b9cd7532a3fe715ad52"><div class="ttname"><a href="gl__draw_8c.html#ac790eb68cda79b9cd7532a3fe715ad52">DrawQ_SetClipArea</a></div><div class="ttdeci">void DrawQ_SetClipArea(float x, float y, float width, float height)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01426">gl_draw.c:1426</a></div></div>
<div class="ttc" id="agl__draw_8c_html_acb02c3ade677ca95cc43f3febab11208"><div class="ttname"><a href="gl__draw_8c.html#acb02c3ade677ca95cc43f3febab11208">DrawQ_TextWidth_UntilWidth</a></div><div class="ttdeci">float DrawQ_TextWidth_UntilWidth(const char *text, size_t *maxlen, float w, float h, qbool ignorecolorcodes, const dp_font_t *fnt, float maxWidth)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01333">gl_draw.c:1333</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ad358cf8731e0e458af3101ac47ffff20"><div class="ttname"><a href="gl__draw_8c.html#ad358cf8731e0e458af3101ac47ffff20">LoadFont</a></div><div class="ttdeci">void LoadFont(qbool override, const char *name, dp_font_t *fnt, float scale, float voffset)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00329">gl_draw.c:329</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ad749eead5c548365aab8eab9dd8ba4fa"><div class="ttname"><a href="gl__draw_8c.html#ad749eead5c548365aab8eab9dd8ba4fa">DrawQ_RecalcView</a></div><div class="ttdeci">void DrawQ_RecalcView(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01460">gl_draw.c:1460</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ae1c5dcc2cce151ee9e116c2d101525e1"><div class="ttname"><a href="gl__draw_8c.html#ae1c5dcc2cce151ee9e116c2d101525e1">developer_font</a></div><div class="ttdeci">cvar_t developer_font</div><div class="ttdef"><b>Definition</b> <a href="ft2_8c_source.html#l00061">ft2.c:61</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ae2afbf8ffe260bebd24a65b59378b545"><div class="ttname"><a href="gl__draw_8c.html#ae2afbf8ffe260bebd24a65b59378b545">snap_to_pixel_y</a></div><div class="ttdeci">static float snap_to_pixel_y(float y, float roundUpAt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00530">gl_draw.c:530</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ae2c337985105fa573bee1cdd579f27bd"><div class="ttname"><a href="gl__draw_8c.html#ae2c337985105fa573bee1cdd579f27bd">r_nearest_2d</a></div><div class="ttdeci">cvar_t r_nearest_2d</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00065">gl_draw.c:65</a></div></div>
<div class="ttc" id="agl__draw_8c_html_ae373d96f1de8dcdabc81f4ebf10df516"><div class="ttname"><a href="gl__draw_8c.html#ae373d96f1de8dcdabc81f4ebf10df516">r_nearest_conchars</a></div><div class="ttdeci">cvar_t r_nearest_conchars</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00066">gl_draw.c:66</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aed89f0ec44f9be4dae4ccd71780f1ce0"><div class="ttname"><a href="gl__draw_8c.html#aed89f0ec44f9be4dae4ccd71780f1ce0">Draw_GetPicHeight</a></div><div class="ttdeci">int Draw_GetPicHeight(cachepic_t *pic)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00203">gl_draw.c:203</a></div></div>
<div class="ttc" id="agl__draw_8c_html_aefe763bbb1f025cedf6f6d4cc3568f69"><div class="ttname"><a href="gl__draw_8c.html#aefe763bbb1f025cedf6f6d4cc3568f69">FindFont</a></div><div class="ttdeci">dp_font_t * FindFont(const char *title, qbool allocate_new)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00480">gl_draw.c:480</a></div></div>
<div class="ttc" id="agl__draw_8c_html_af3cd1a17fe286da8d797e4706db935b2"><div class="ttname"><a href="gl__draw_8c.html#af3cd1a17fe286da8d797e4706db935b2">con_linewidth</a></div><div class="ttdeci">int con_linewidth</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l00098">console.c:98</a></div></div>
<div class="ttc" id="agl__draw_8c_html_af54d0c87339daf573564a3d46cd56865"><div class="ttname"><a href="gl__draw_8c.html#af54d0c87339daf573564a3d46cd56865">DrawQ_TextWidth_UntilWidth_TrackColors_Scale</a></div><div class="ttdeci">float DrawQ_TextWidth_UntilWidth_TrackColors_Scale(const char *text, size_t *maxlen, float w, float h, float sw, float sh, int *outcolor, qbool ignorecolorcodes, const dp_font_t *fnt, float maxwidth)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00926">gl_draw.c:926</a></div></div>
<div class="ttc" id="agl__draw_8c_html_af6ecea88c620b3f1792b11f0eb5984e0"><div class="ttname"><a href="gl__draw_8c.html#af6ecea88c620b3f1792b11f0eb5984e0">numcachepics</a></div><div class="ttdeci">static int numcachepics</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00073">gl_draw.c:73</a></div></div>
<div class="ttc" id="agl__draw_8c_html_af86c2b624887b3cb7b94531be8ab324b"><div class="ttname"><a href="gl__draw_8c.html#af86c2b624887b3cb7b94531be8ab324b">Draw_IsPicLoaded</a></div><div class="ttdeci">qbool Draw_IsPicLoaded(cachepic_t *pic)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00210">gl_draw.c:210</a></div></div>
<div class="ttc" id="agl__draw_8c_html_af8dffe71ed742a3bd067194a4919c24c"><div class="ttname"><a href="gl__draw_8c.html#af8dffe71ed742a3bd067194a4919c24c">DrawQ_ResetClipArea</a></div><div class="ttdeci">void DrawQ_ResetClipArea(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01448">gl_draw.c:1448</a></div></div>
<div class="ttc" id="agl__draw_8c_html_afe61a45d4759eee3529c6f00a1e93f3f"><div class="ttname"><a href="gl__draw_8c.html#afe61a45d4759eee3529c6f00a1e93f3f">fonts_mempool</a></div><div class="ttdeci">static mempool_t * fonts_mempool</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00051">gl_draw.c:51</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a339ee823109c268dce8da10716bb4f46"><div class="ttname"><a href="gl__rmain_8c.html#a339ee823109c268dce8da10716bb4f46">r_draw2d</a></div><div class="ttdeci">cvar_t r_draw2d</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00097">gl_rmain.c:97</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a3f8f4407d354bd95a7e7b5430b411648"><div class="ttname"><a href="gl__rmain_8c.html#a3f8f4407d354bd95a7e7b5430b411648">r_textureframe</a></div><div class="ttdeci">int r_textureframe</div><div class="ttdoc">used only by R_GetCurrentTexture, incremented per view and per UI render</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00045">gl_rmain.c:45</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a5960c03dbcd8d4f38b765ca7260aa838"><div class="ttname"><a href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadExternal(const char *name, int textureflags, qbool complain, qbool fallbacknotexture)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02313">gl_rmain.c:2313</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a6254a8f908da05ab79804175be40aec9"><div class="ttname"><a href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadInternalBGRA(const char *name, int textureflags, const unsigned char *skindata, int width, int height, int comparewidth, int compareheight, int comparecrc, qbool sRGB)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02545">gl_rmain.c:2545</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a93517bfc2b040f9e5db1fa1fa55c5500"><div class="ttname"><a href="gl__rmain_8c.html#a93517bfc2b040f9e5db1fa1fa55c5500">R_ResetViewRendering2D_Common</a></div><div class="ttdeci">void R_ResetViewRendering2D_Common(int viewfbo, rtexture_t *viewdepthtexture, rtexture_t *viewcolortexture, int viewx, int viewy, int viewwidth, int viewheight, float x2, float y2)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l04447">gl_rmain.c:4447</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ab460509c90a5b88d4e001f2e2ffb4e82"><div class="ttname"><a href="gl__rmain_8c.html#ab460509c90a5b88d4e001f2e2ffb4e82">R_DrawModelSurfaces</a></div><div class="ttdeci">void R_DrawModelSurfaces(entity_render_t *ent, qbool skysurfaces, qbool writedepth, qbool depthonly, qbool debug, qbool prepass, qbool ui)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l10034">gl_rmain.c:10034</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ab57d3b15b1bdb498f4b0173fa69e9ccf"><div class="ttname"><a href="gl__rmain_8c.html#ab57d3b15b1bdb498f4b0173fa69e9ccf">R_SkinFrame_PurgeSkinFrame</a></div><div class="ttdeci">void R_SkinFrame_PurgeSkinFrame(skinframe_t *s)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02183">gl_rmain.c:2183</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_abcaf58e4c1a238f76c17be4e88e81c6a"><div class="ttname"><a href="gl__rmain_8c.html#abcaf58e4c1a238f76c17be4e88e81c6a">R_SkinFrame_LoadExternal_SkinFrame</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadExternal_SkinFrame(skinframe_t *skinframe, const char *name, int textureflags, qbool complain, qbool fallbacknotexture)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02330">gl_rmain.c:2330</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ac068333f6656190ddd5836765acdffe0"><div class="ttname"><a href="gl__rmain_8c.html#ac068333f6656190ddd5836765acdffe0">R_SkinFrame_MarkUsed</a></div><div class="ttdeci">void R_SkinFrame_MarkUsed(skinframe_t *skinframe)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02175">gl_rmain.c:2175</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ae1fda69f1ff6edbb96f5d16b8db0d825"><div class="ttname"><a href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a></div><div class="ttdeci">r_refdef_t r_refdef</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00057">gl_rmain.c:57</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a114f2477dc7b969704fce4025b2a4b1b"><div class="ttname"><a href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a></div><div class="ttdeci">void R_FreeTexturePool(rtexturepool_t **rtexturepool)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00403">gl_textures.c:403</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a2ce62af3cf57b4b23d8010843814c594"><div class="ttname"><a href="gl__textures_8c.html#a2ce62af3cf57b4b23d8010843814c594">gl_texturecompression</a></div><div class="ttdeci">cvar_t gl_texturecompression</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00037">gl_textures.c:37</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a4bc984e9e2d032d8cd37aaa4fef168bd"><div class="ttname"><a href="gl__textures_8c.html#a4bc984e9e2d032d8cd37aaa4fef168bd">R_TextureHeight</a></div><div class="ttdeci">int R_TextureHeight(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02275">gl_textures.c:2275</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a558d3efbd11eedd4f9e47c0dbc704090"><div class="ttname"><a href="gl__textures_8c.html#a558d3efbd11eedd4f9e47c0dbc704090">R_UpdateTexture</a></div><div class="ttdeci">void R_UpdateTexture(rtexture_t *rt, const unsigned char *data, int x, int y, int z, int width, int height, int depth, int combine)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02285">gl_textures.c:2285</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a738ec012beff0c3bc4bfb9b023130534"><div class="ttname"><a href="gl__textures_8c.html#a738ec012beff0c3bc4bfb9b023130534">R_TextureWidth</a></div><div class="ttdeci">int R_TextureWidth(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02270">gl_textures.c:2270</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ab60a02391841e828427f5cc24cb5dd29"><div class="ttname"><a href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a></div><div class="ttdeci">rtexturepool_t * R_AllocTexturePool(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00389">gl_textures.c:389</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ac31280d743c57f22a9b4eef367bddc0b"><div class="ttname"><a href="gl__textures_8c.html#ac31280d743c57f22a9b4eef367bddc0b">gl_texturecompression_2d</a></div><div class="ttdeci">cvar_t gl_texturecompression_2d</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00042">gl_textures.c:42</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0e843e6cb4b0547b3a2b414af3d53a53"><div class="ttname"><a href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a></div><div class="ttdeci">GLenum GLsizei width</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a136cce2f78c36b837ec3c8cf72c96aad"><div class="ttname"><a href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a></div><div class="ttdeci">GLenum GLsizei GLsizei height</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a161f4efd20c5f2bfc9a7c49c07be7ed7"><div class="ttname"><a href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a></div><div class="ttdeci">GLubyte GLubyte GLubyte GLubyte w</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00781">glquake.h:781</a></div></div>
<div class="ttc" id="aglquake_8h_html_a4d1613b1e415f5e41c4651a1793b277a"><div class="ttname"><a href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a></div><div class="ttdeci">const GLdouble * v</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00761">glquake.h:761</a></div></div>
<div class="ttc" id="aglquake_8h_html_a563ae63395ca802a7c65b4f461fbf0d4"><div class="ttname"><a href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a></div><div class="ttdeci">GLint GLenum GLint GLint y</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a75c9c896e11dc1eed9f9f1180b86d099"><div class="ttname"><a href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_ab6746953c61ac9f4365a1c9a08b9427b"><div class="ttname"><a href="glquake_8h.html#ab6746953c61ac9f4365a1c9a08b9427b">blue</a></div><div class="ttdeci">GLclampf GLclampf blue</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00641">glquake.h:641</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac615821e7cf9469189648617cb1275be"><div class="ttname"><a href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00600">glquake.h:600</a></div></div>
<div class="ttc" id="aglquake_8h_html_adf0eeccd56a868827e37e4dacdfa7c32"><div class="ttname"><a href="glquake_8h.html#adf0eeccd56a868827e37e4dacdfa7c32">alpha</a></div><div class="ttdeci">GLclampf GLclampf GLclampf alpha</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00641">glquake.h:641</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="aglquake_8h_html_afb5c56b798cebf5e7c6188a241c8a47a"><div class="ttname"><a href="glquake_8h.html#afb5c56b798cebf5e7c6188a241c8a47a">green</a></div><div class="ttdeci">GLclampf green</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00641">glquake.h:641</a></div></div>
<div class="ttc" id="ahost_8c_html_a18cf3cec0ecbf5cc14125f494c49023d"><div class="ttname"><a href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a></div><div class="ttdeci">host_static_t host</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00041">host.c:41</a></div></div>
<div class="ttc" id="aimage_8c_html_a1a2525d31dae2bb8a2e5402ec9c42cb9"><div class="ttname"><a href="image_8c.html#a1a2525d31dae2bb8a2e5402ec9c42cb9">Image_GetStockPicSize</a></div><div class="ttdeci">qbool Image_GetStockPicSize(const char *filename, int *returnwidth, int *returnheight)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l01196">image.c:1196</a></div></div>
<div class="ttc" id="aimage_8h_html"><div class="ttname"><a href="image_8h.html">image.h</a></div></div>
<div class="ttc" id="amathlib_8h_html_a14557f9ae9e8f7db1736479bc3eccc4b"><div class="ttname"><a href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a></div><div class="ttdeci">#define Vector4Set(a, b, c, d, e)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00085">mathlib.h:85</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="amathlib_8h_html_a4aa807bca73db74b6ddba3da933e64aa"><div class="ttname"><a href="mathlib_8h.html#a4aa807bca73db74b6ddba3da933e64aa">DEG2RAD</a></div><div class="ttdeci">#define DEG2RAD(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00065">mathlib.h:65</a></div></div>
<div class="ttc" id="amathlib_8h_html_a553641b2aac0b2a7c43f9f74f8333fd5"><div class="ttname"><a href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a></div><div class="ttdeci">#define bound(min, num, max)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00034">mathlib.h:34</a></div></div>
<div class="ttc" id="amathlib_8h_html_a78434ca318d72a308cffdcd75346fcd5"><div class="ttname"><a href="mathlib_8h.html#a78434ca318d72a308cffdcd75346fcd5">Vector4Copy</a></div><div class="ttdeci">#define Vector4Copy(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00083">mathlib.h:83</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a13f71663919a7f6777ff7ab20479318e"><div class="ttname"><a href="model__brush_8h.html#a13f71663919a7f6777ff7ab20479318e">MATERIALFLAG_VERTEXCOLOR</a></div><div class="ttdeci">#define MATERIALFLAG_VERTEXCOLOR</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00135">model_brush.h:135</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a226c2113f3731bc223694bd3e391504a"><div class="ttname"><a href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a></div><div class="ttdeci">#define MATERIALFLAG_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00079">model_brush.h:79</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a42368df686065f708f6eed1c1fa8e1cc"><div class="ttname"><a href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a></div><div class="ttdeci">#define MATERIALFLAG_BLENDED</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00103">model_brush.h:103</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a66a3f2cf0206bbd0d7ce9ae60035da31"><div class="ttname"><a href="model__brush_8h.html#a66a3f2cf0206bbd0d7ce9ae60035da31">MATERIALFLAG_ALPHAGEN_VERTEX</a></div><div class="ttdeci">#define MATERIALFLAG_ALPHAGEN_VERTEX</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00131">model_brush.h:131</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a92fe9590f9e3810dbd4abad9431cc63a"><div class="ttname"><a href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a></div><div class="ttdeci">#define MATERIALFLAG_WALL</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00089">model_brush.h:89</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a9d19d304b198ae8d36c3f5fd31c64473"><div class="ttname"><a href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a></div><div class="ttdeci">#define MATERIALFLAG_NOSHADOW</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00107">model_brush.h:107</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a191e480db71fa680ca320583e42060bb"><div class="ttname"><a href="model__shared_8c.html#a191e480db71fa680ca320583e42060bb">Mod_Mesh_Reset</a></div><div class="ttdeci">void Mod_Mesh_Reset(model_t *mod)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l04465">model_shared.c:4465</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a246d19129577709175692eab408c7ab9"><div class="ttname"><a href="model__shared_8c.html#a246d19129577709175692eab408c7ab9">Mod_Mesh_AddSurface</a></div><div class="ttdeci">msurface_t * Mod_Mesh_AddSurface(model_t *mod, texture_t *tex, qbool batchwithprevioussurface)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l04528">model_shared.c:4528</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a2c5f310267e30d353949da4aaa6a0940"><div class="ttname"><a href="model__shared_8c.html#a2c5f310267e30d353949da4aaa6a0940">Mod_Mesh_IndexForVertex</a></div><div class="ttdeci">int Mod_Mesh_IndexForVertex(model_t *mod, msurface_t *surf, float x, float y, float z, float nx, float ny, float nz, float s, float t, float u, float v, float r, float g, float b, float a)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l04554">model_shared.c:4554</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a4733e9adbf3e39c180e794cfccc8734a"><div class="ttname"><a href="model__shared_8c.html#a4733e9adbf3e39c180e794cfccc8734a">Mod_Mesh_GetTexture</a></div><div class="ttdeci">texture_t * Mod_Mesh_GetTexture(model_t *mod, const char *name, int defaultdrawflags, int defaulttexflags, int defaultmaterialflags)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l04476">model_shared.c:4476</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a537803427b478758ce6c99781943b12d"><div class="ttname"><a href="model__shared_8c.html#a537803427b478758ce6c99781943b12d">Mod_Mesh_AddTriangle</a></div><div class="ttdeci">void Mod_Mesh_AddTriangle(model_t *mod, msurface_t *surf, int e0, int e1, int e2)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l04633">model_shared.c:4633</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_ad5783554605d236b56845ddb2ea0f9a7"><div class="ttname"><a href="model__shared_8c.html#ad5783554605d236b56845ddb2ea0f9a7">Mod_Mesh_Finalize</a></div><div class="ttdeci">void Mod_Mesh_Finalize(model_t *mod)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l04775">model_shared.c:4775</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abca0a2311175cb8d57e4b3127d1d2b8e"><div class="ttname"><a href="qdefs_8h.html#abca0a2311175cb8d57e4b3127d1d2b8e">MAX_CACHED_PICS</a></div><div class="ttdeci">#define MAX_CACHED_PICS</div><div class="ttdoc">max number of 2D pics loaded at once</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00133">qdefs.h:133</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abd4ae30fcfdcbbff51bbf3f4e6daeee7"><div class="ttname"><a href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a></div><div class="ttdeci">#define MAX_QPATH</div><div class="ttdoc">max length of a quake game pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00169">qdefs.h:169</a></div></div>
<div class="ttc" id="aqdefs_8h_html_aefe8ebdb1ed135b1800b6a0668995d81"><div class="ttname"><a href="qdefs_8h.html#aefe8ebdb1ed135b1800b6a0668995d81">CACHEPICHASHSIZE</a></div><div class="ttdeci">#define CACHEPICHASHSIZE</div><div class="ttdoc">number of hash buckets for accelerating 2D pic name lookups</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00134">qdefs.h:134</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa69f191c29d82fe1bfd8327cab6ef7b6"><div class="ttname"><a href="qtypes_8h.html#aa69f191c29d82fe1bfd8327cab6ef7b6">vec4_t</a></div><div class="ttdeci">vec_t vec4_t[4]</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00068">qtypes.h:68</a></div></div>
<div class="ttc" id="aquakedef_8h_html"><div class="ttname"><a href="quakedef_8h.html">quakedef.h</a></div></div>
<div class="ttc" id="ar__modules_8c_html_a7f982eee49a26b26f015596ac96edea0"><div class="ttname"><a href="r__modules_8c.html#a7f982eee49a26b26f015596ac96edea0">R_RegisterModule</a></div><div class="ttdeci">void R_RegisterModule(const char *name, void(*start)(void), void(*shutdown)(void), void(*newmap)(void), void(*devicelost)(void), void(*devicerestored)(void))</div><div class="ttdef"><b>Definition</b> <a href="r__modules_8c_source.html#l00025">r_modules.c:25</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7e88b1d25d2969b53f6e967801f991ca"><div class="ttname"><a href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a></div><div class="ttdeci">#define TEXF_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00009">r_textures.h:9</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7ebf18782aefc1f1ff9fc5cb169e2dbb"><div class="ttname"><a href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a></div><div class="ttdeci">#define TEXF_FORCELINEAR</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00019">r_textures.h:19</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7ed15e202aa5ce1ef37ef412348a6468"><div class="ttname"><a href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a></div><div class="ttdeci">#define TEXF_MIPMAP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00011">r_textures.h:11</a></div></div>
<div class="ttc" id="ar__textures_8h_html_aa97b4aaf90cefe1dff4cb00f2b232127"><div class="ttname"><a href="r__textures_8h.html#aa97b4aaf90cefe1dff4cb00f2b232127">TEXF_FORCENEAREST</a></div><div class="ttdeci">#define TEXF_FORCENEAREST</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00017">r_textures.h:17</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab19c18de47f490e8f226052c34b577b8"><div class="ttname"><a href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a></div><div class="ttdeci">#define TEXF_COMPRESS</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00023">r_textures.h:23</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a></div><div class="ttdeci">textype_t</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00043">r_textures.h:44</a></div></div>
<div class="ttc" id="ar__textures_8h_html_abe4e0ad1d375c912287a2f199bf6352a"><div class="ttname"><a href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a></div><div class="ttdeci">#define TEXF_CLAMP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00015">r_textures.h:15</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ada7507b8f34cf5c3e64041659b2ebb1b"><div class="ttname"><a href="r__textures_8h.html#ada7507b8f34cf5c3e64041659b2ebb1b">TEXF_FORCE_RELOAD</a></div><div class="ttdeci">#define TEXF_FORCE_RELOAD</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00041">r_textures.h:41</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a008e65201d4481545ed89903a22f667a"><div class="ttname"><a href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a></div><div class="ttdeci">dp_FragColor r</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00375">shader_glsl.h:375</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a0e89857f2d085f82245c0873f460679f"><div class="ttname"><a href="shader__glsl_8h.html#a0e89857f2d085f82245c0873f460679f">y1</a></div><div class="ttdeci">vec3 y1</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00331">shader_glsl.h:331</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a25f2e1fef7cecde0255a3dde64ab4979"><div class="ttname"><a href="shader__glsl_8h.html#a25f2e1fef7cecde0255a3dde64ab4979">color</a></div><div class="ttdeci">vec3 color</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00505">shader_glsl.h:505</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a5ec19189388a37fcddc7258e29a40335"><div class="ttname"><a href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a></div><div class="ttdeci">dp_FragColor g</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00385">shader_glsl.h:385</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a731feb93da8dc28ee53e37b43daabd06"><div class="ttname"><a href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a></div><div class="ttdeci">float f</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00586">shader_glsl.h:586</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a792764868a6181a44be59a390fced652"><div class="ttname"><a href="shader__glsl_8h.html#a792764868a6181a44be59a390fced652">y2</a></div><div class="ttdeci">vec3 y2</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00332">shader_glsl.h:332</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a7c522f1c5d1635549573e2118306b8a3"><div class="ttname"><a href="shader__glsl_8h.html#a7c522f1c5d1635549573e2118306b8a3">x2</a></div><div class="ttdeci">vec3 x2</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00326">shader_glsl.h:326</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ac369ee41cd9c6dc18e09c3293e27cf81"><div class="ttname"><a href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a></div><div class="ttdeci">dp_FragColor b</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00386">shader_glsl.h:386</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ac40f3d1971e671aab7a122eea181e978"><div class="ttname"><a href="shader__glsl_8h.html#ac40f3d1971e671aab7a122eea181e978">x1</a></div><div class="ttdeci">vec3 x1</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00325">shader_glsl.h:325</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ac79d93aa2a1c85497c8c9c633781f52b"><div class="ttname"><a href="shader__glsl_8h.html#ac79d93aa2a1c85497c8c9c633781f52b">sw</a></div><div class="ttdeci">vec4 sw</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00184">shader_glsl.h:184</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ada7daae51ef1e670767c18b83ea78044"><div class="ttname"><a href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a></div><div class="ttdeci">ret a</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00296">shader_glsl.h:296</a></div></div>
<div class="ttc" id="astructcachepic__s_html"><div class="ttname"><a href="structcachepic__s.html">cachepic_s</a></div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00030">gl_draw.c:31</a></div></div>
<div class="ttc" id="astructcachepic__s_html_a09579c412227c8e1e2898ee57d0081ae"><div class="ttname"><a href="structcachepic__s.html#a09579c412227c8e1e2898ee57d0081ae">cachepic_s::skinframe</a></div><div class="ttdeci">skinframe_t * skinframe</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00041">gl_draw.c:41</a></div></div>
<div class="ttc" id="astructcachepic__s_html_a30da13508e5ce5594c78c582b2146529"><div class="ttname"><a href="structcachepic__s.html#a30da13508e5ce5594c78c582b2146529">cachepic_s::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00045">gl_draw.c:45</a></div></div>
<div class="ttc" id="astructcachepic__s_html_a37790be8d1a539f2c78cad3458504c24"><div class="ttname"><a href="structcachepic__s.html#a37790be8d1a539f2c78cad3458504c24">cachepic_s::lastusedframe</a></div><div class="ttdeci">int lastusedframe</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00039">gl_draw.c:39</a></div></div>
<div class="ttc" id="astructcachepic__s_html_a413630af1f1505454d077679eecf0b9a"><div class="ttname"><a href="structcachepic__s.html#a413630af1f1505454d077679eecf0b9a">cachepic_s::autoload</a></div><div class="ttdeci">int autoload</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00035">gl_draw.c:35</a></div></div>
<div class="ttc" id="astructcachepic__s_html_a5091f5286aa1fb40f2183b35020af88c"><div class="ttname"><a href="structcachepic__s.html#a5091f5286aa1fb40f2183b35020af88c">cachepic_s::texflags</a></div><div class="ttdeci">int texflags</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00037">gl_draw.c:37</a></div></div>
<div class="ttc" id="astructcachepic__s_html_a6552c89251ae2d15e6dcc69713e07a2a"><div class="ttname"><a href="structcachepic__s.html#a6552c89251ae2d15e6dcc69713e07a2a">cachepic_s::name</a></div><div class="ttdeci">char name[MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00047">gl_draw.c:47</a></div></div>
<div class="ttc" id="astructcachepic__s_html_a7232104a941d3e3363d442781c496e4d"><div class="ttname"><a href="structcachepic__s.html#a7232104a941d3e3363d442781c496e4d">cachepic_s::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00033">gl_draw.c:33</a></div></div>
<div class="ttc" id="astructcachepic__s_html_ab2f328b4418cd8320a3f6ce8dd754419"><div class="ttname"><a href="structcachepic__s.html#ab2f328b4418cd8320a3f6ce8dd754419">cachepic_s::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00033">gl_draw.c:33</a></div></div>
<div class="ttc" id="astructcachepic__s_html_abbecd7ed4463f051d40a344902157887"><div class="ttname"><a href="structcachepic__s.html#abbecd7ed4463f051d40a344902157887">cachepic_s::chain</a></div><div class="ttdeci">struct cachepic_s * chain</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00043">gl_draw.c:43</a></div></div>
<div class="ttc" id="astructcmd__state__t_html"><div class="ttname"><a href="structcmd__state__t.html">cmd_state_t</a></div><div class="ttdoc">command interpreter state - the tokenizing and execution of commands, as well as pointers to which cv...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00126">cmd.h:127</a></div></div>
<div class="ttc" id="astructcmd__state__t_html_ab0ac3513339ae8147d561dac2f64c9fe"><div class="ttname"><a href="structcmd__state__t.html#ab0ac3513339ae8147d561dac2f64c9fe">cmd_state_t::cmdline</a></div><div class="ttdeci">const char * cmdline</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00131">cmd.h:131</a></div></div>
<div class="ttc" id="astructcvar__t_html"><div class="ttname"><a href="structcvar__t.html">cvar_t</a></div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00065">cvar.h:66</a></div></div>
<div class="ttc" id="astructcvar__t_html_a305faa0167494135297f1b8e6216d469"><div class="ttname"><a href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">cvar_t::value</a></div><div class="ttdeci">float value</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00074">cvar.h:74</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
<div class="ttc" id="astructdp__font__t_html"><div class="ttname"><a href="structdp__font__t.html">dp_font_t</a></div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00097">draw.h:98</a></div></div>
<div class="ttc" id="astructdp__font__t_html_a3622712709b39ca5cf8a8059019c5e85"><div class="ttname"><a href="structdp__font__t.html#a3622712709b39ca5cf8a8059019c5e85">dp_font_t::ft2</a></div><div class="ttdeci">struct ft2_font_s * ft2</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00110">draw.h:110</a></div></div>
<div class="ttc" id="astructdp__font__t_html_a73ad14681d4e6514d779c5692efcc136"><div class="ttname"><a href="structdp__font__t.html#a73ad14681d4e6514d779c5692efcc136">dp_font_t::title</a></div><div class="ttdeci">char title[MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00104">draw.h:104</a></div></div>
<div class="ttc" id="astructdp__font__t_html_ab1d3ac16f21b9020113a3e3657f3e581"><div class="ttname"><a href="structdp__font__t.html#ab1d3ac16f21b9020113a3e3657f3e581">dp_font_t::settings</a></div><div class="ttdeci">ft2_settings_t settings</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00112">draw.h:112</a></div></div>
<div class="ttc" id="astructdp__fonts__t_html"><div class="ttname"><a href="structdp__fonts__t.html">dp_fonts_t</a></div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00118">draw.h:119</a></div></div>
<div class="ttc" id="astructdp__fonts__t_html_a262733f696f48113b21168846b7d3f01"><div class="ttname"><a href="structdp__fonts__t.html#a262733f696f48113b21168846b7d3f01">dp_fonts_t::maxsize</a></div><div class="ttdeci">int maxsize</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00121">draw.h:121</a></div></div>
<div class="ttc" id="astructdp__fonts__t_html_a52a675de889789fec335029efb4b12e5"><div class="ttname"><a href="structdp__fonts__t.html#a52a675de889789fec335029efb4b12e5">dp_fonts_t::f</a></div><div class="ttdeci">dp_font_t * f</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00120">draw.h:120</a></div></div>
<div class="ttc" id="astructft2__font__t_html"><div class="ttname"><a href="structft2__font__t.html">ft2_font_t</a></div><div class="ttdef"><b>Definition</b> <a href="ft2_8h_source.html#l00039">ft2.h:40</a></div></div>
<div class="ttc" id="astructft2__font__t_html_a638259526bd855db06762aede60c70de"><div class="ttname"><a href="structft2__font__t.html#a638259526bd855db06762aede60c70de">ft2_font_t::settings</a></div><div class="ttdeci">ft2_settings_t * settings</div><div class="ttdef"><b>Definition</b> <a href="ft2_8h_source.html#l00064">ft2.h:64</a></div></div>
<div class="ttc" id="astructft2__settings__t_html_a326241c880039a3f85a95096c6ab1442"><div class="ttname"><a href="structft2__settings__t.html#a326241c880039a3f85a95096c6ab1442">ft2_settings_t::scale</a></div><div class="ttdeci">float scale</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00088">draw.h:88</a></div></div>
<div class="ttc" id="astructhost__static__t_html_ac38d937c03a5f5f973a77641c0ae1280"><div class="ttname"><a href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">host_static_t::realtime</a></div><div class="ttdeci">double realtime</div><div class="ttdef"><b>Definition</b> <a href="host_8h_source.html#l00037">host.h:37</a></div></div>
<div class="ttc" id="astructmempool__t_html"><div class="ttname"><a href="structmempool__t.html">mempool_t</a></div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00064">zone.h:65</a></div></div>
<div class="ttc" id="astructmodel__t_html"><div class="ttname"><a href="structmodel__t.html">model_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00428">model_shared.h:429</a></div></div>
<div class="ttc" id="astructmodel__t_html_aad0f2d9471f7d761be5fe5d23d9bbd20"><div class="ttname"><a href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">model_t::name</a></div><div class="ttdeci">char name[MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00431">model_shared.h:431</a></div></div>
<div class="ttc" id="astructmodel__t_html_ab77f5d2c5064c2e726a590bcdc440ccf"><div class="ttname"><a href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">model_t::num_surfaces</a></div><div class="ttdeci">int num_surfaces</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00497">model_shared.h:497</a></div></div>
<div class="ttc" id="astructmsurface__t_html"><div class="ttname"><a href="structmsurface__t.html">msurface_t</a></div><div class="ttdoc">describes the textures to use on a range of triangles in the model, and mins/maxs (AABB) for culling.</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00377">model_shared.h:378</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_a2cd356fbc38a7343f00d88e6af61b3bc"><div class="ttname"><a href="structr__refdef__t.html#a2cd356fbc38a7343f00d88e6af61b3bc">r_refdef_t::draw2dstage</a></div><div class="ttdeci">int draw2dstage</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00457">render.h:457</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_a7792d42f39399df17a1e5362c659cea2"><div class="ttname"><a href="structr__refdef__t.html#a7792d42f39399df17a1e5362c659cea2">r_refdef_t::view</a></div><div class="ttdeci">r_refdef_view_t view</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00411">render.h:411</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a1e8124ff88085c5f0235fe55d7c874b5"><div class="ttname"><a href="structr__refdef__view__t.html#a1e8124ff88085c5f0235fe55d7c874b5">r_refdef_view_t::colorscale</a></div><div class="ttdeci">float colorscale</div><div class="ttdoc">global RGB color multiplier for rendering</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00302">render.h:302</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a2bb469a8c9ceabd35744e9a8a43d9593"><div class="ttname"><a href="structr__refdef__view__t.html#a2bb469a8c9ceabd35744e9a8a43d9593">r_refdef_view_t::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00290">render.h:290</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a3bb2c6d20d064ecdc89b6e455dcecc4c"><div class="ttname"><a href="structr__refdef__view__t.html#a3bb2c6d20d064ecdc89b6e455dcecc4c">r_refdef_view_t::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00291">render.h:291</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a89ef4d6feec3ad10a43f796508f06c3f"><div class="ttname"><a href="structr__refdef__view__t.html#a89ef4d6feec3ad10a43f796508f06c3f">r_refdef_view_t::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00293">render.h:293</a></div></div>
<div class="ttc" id="astructr__refdef__view__t_html_a95f69db988718a0cdd3a80af5abb761b"><div class="ttname"><a href="structr__refdef__view__t.html#a95f69db988718a0cdd3a80af5abb761b">r_refdef_view_t::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00294">render.h:294</a></div></div>
<div class="ttc" id="astructrtexture__t_html"><div class="ttname"><a href="structrtexture__t.html">rtexture_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00107">r_textures.h:108</a></div></div>
<div class="ttc" id="astructrtexturepool__t_html"><div class="ttname"><a href="structrtexturepool__t.html">rtexturepool_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00119">r_textures.h:120</a></div></div>
<div class="ttc" id="astructskinframe__t_html"><div class="ttname"><a href="structskinframe__t.html">skinframe_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00125">r_textures.h:126</a></div></div>
<div class="ttc" id="astructviddef__t_html_a5cb28e3dc70ef0b15f0e295b2aa1d295"><div class="ttname"><a href="structviddef__t.html#a5cb28e3dc70ef0b15f0e295b2aa1d295">viddef_t::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00074">vid.h:74</a></div></div>
<div class="ttc" id="astructviddef__t_html_a631a6b40238d7e9e08ed03d2b194229c"><div class="ttname"><a href="structviddef__t.html#a631a6b40238d7e9e08ed03d2b194229c">viddef_t::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00073">vid.h:73</a></div></div>
<div class="ttc" id="astructviddef__t_html_a6d902e7d5c4b81c234d9f982d1664ffb"><div class="ttname"><a href="structviddef__t.html#a6d902e7d5c4b81c234d9f982d1664ffb">viddef_t::sRGB2D</a></div><div class="ttdeci">qbool sRGB2D</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00082">vid.h:82</a></div></div>
<div class="ttc" id="astructviddef__t_html_a77ee51e56202df8258781a0aa1dc1a2d"><div class="ttname"><a href="structviddef__t.html#a77ee51e56202df8258781a0aa1dc1a2d">viddef_t::renderpath</a></div><div class="ttdeci">renderpath_t renderpath</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00087">vid.h:87</a></div></div>
<div class="ttc" id="autf8lib_8h_html_a02cdb5a7217bcbdfd56af51884fe4c7d"><div class="ttname"><a href="utf8lib_8h.html#a02cdb5a7217bcbdfd56af51884fe4c7d">u8_getnchar</a></div><div class="ttdeci">#define u8_getnchar(c, e, n)</div><div class="ttdef"><b>Definition</b> <a href="utf8lib_8h_source.html#l00074">utf8lib.h:74</a></div></div>
<div class="ttc" id="autf8lib_8h_html_a4df5cacc6a1a72026ea405be8bcb97a9"><div class="ttname"><a href="utf8lib_8h.html#a4df5cacc6a1a72026ea405be8bcb97a9">Uchar</a></div><div class="ttdeci">int32_t Uchar</div><div class="ttdef"><b>Definition</b> <a href="utf8lib_8h_source.html#l00035">utf8lib.h:35</a></div></div>
<div class="ttc" id="avid_8h_html_a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b"><div class="ttname"><a href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafbfa84c8848e1c609691f76637da178b">RENDERPATH_GLES2</a></div><div class="ttdeci">@ RENDERPATH_GLES2</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00039">vid.h:38</a></div></div>
<div class="ttc" id="avid_8h_html_a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a"><div class="ttname"><a href="vid_8h.html#a4af19c54ec30ae1e6978d5a46980c22fafcfef4a81b353e6ad9bfee33f0c6076a">RENDERPATH_GL32</a></div><div class="ttdeci">@ RENDERPATH_GL32</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00037">vid.h:37</a></div></div>
<div class="ttc" id="avid_8h_html_aa5f05f6f860c65da5834d6ff3d5655af"><div class="ttname"><a href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a></div><div class="ttdeci">viddef_t vid</div><div class="ttdef"><b>Definition</b> <a href="vid__shared_8c_source.html#l00064">vid_shared.c:64</a></div></div>
<div class="ttc" id="awad_8h_html"><div class="ttname"><a href="wad_8h.html">wad.h</a></div></div>
<div class="ttc" id="azone_8c_html_ac742acee1395c22ccf6d2370d465f844"><div class="ttname"><a href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a></div><div class="ttdeci">mempool_t * tempmempool</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00794">zone.c:794</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
<div class="ttc" id="azone_8h_html_a7da6ffdd01b3d31cb7c89e68fad87d0d"><div class="ttname"><a href="zone_8h.html#a7da6ffdd01b3d31cb7c89e68fad87d0d">Mem_AllocPool</a></div><div class="ttdeci">#define Mem_AllocPool(name, flags, parent)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00104">zone.h:104</a></div></div>
<div class="ttc" id="azone_8h_html_aa613261ffbc429e7212d3e9e42de9644"><div class="ttname"><a href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a></div><div class="ttdeci">#define Mem_Realloc(pool, data, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00094">zone.h:94</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="gl__draw_8c.html">gl_draw.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
