<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: model_brush.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('model__brush_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">model_brush.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="quakedef_8h_source.html">quakedef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="image_8h_source.html">image.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="r__shadow_8h_source.html">r_shadow.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="polygon_8h_source.html">polygon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="curves_8h_source.html">curves.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wad_8h_source.html">wad.h</a>&quot;</code><br />
</div>
<p><a href="model__brush_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structportal__t.html">portal_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpatchtess__t.html">patchtess_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structobjvertex__t.html">objvertex_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a82ee37356bf84e55ca09a66547ec4899" id="r_a82ee37356bf84e55ca09a66547ec4899"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a82ee37356bf84e55ca09a66547ec4899">DIST_EPSILON</a>&#160;&#160;&#160;(0.03125)</td></tr>
<tr class="separator:a82ee37356bf84e55ca09a66547ec4899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0679d21941f0570a34bfadfbece40db4" id="r_a0679d21941f0570a34bfadfbece40db4"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0679d21941f0570a34bfadfbece40db4">HULLCHECKSTATE_EMPTY</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a0679d21941f0570a34bfadfbece40db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01835d2d4551ed76732905359bf9f3d4" id="r_a01835d2d4551ed76732905359bf9f3d4"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a01835d2d4551ed76732905359bf9f3d4">HULLCHECKSTATE_SOLID</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a01835d2d4551ed76732905359bf9f3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2621494b75fbf3497a15da4a362aaa" id="r_a0e2621494b75fbf3497a15da4a362aaa"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0e2621494b75fbf3497a15da4a362aaa">HULLCHECKSTATE_DONE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a0e2621494b75fbf3497a15da4a362aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2030006882ac19296436d60265e1a000" id="r_a2030006882ac19296436d60265e1a000"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a2030006882ac19296436d60265e1a000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd706b4dd443e5b63a4fe0558574a2a" id="r_a7cd706b4dd443e5b63a4fe0558574a2a"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a7cd706b4dd443e5b63a4fe0558574a2a">PORTAL_DIST_EPSILON</a>&#160;&#160;&#160;(1.0 / 32.0)</td></tr>
<tr class="separator:a7cd706b4dd443e5b63a4fe0558574a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2c201d8369a5dc59ee7df4938f533e" id="r_adf2c201d8369a5dc59ee7df4938f533e"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#adf2c201d8369a5dc59ee7df4938f533e">PATCHTESS_SAME_LODGROUP</a>(<a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>,  <a class="el" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>)</td></tr>
<tr class="separator:adf2c201d8369a5dc59ee7df4938f533e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1f6f8c9469d2d4238d77ced1637226a8" id="r_a1f6f8c9469d2d4238d77ced1637226a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a1f6f8c9469d2d4238d77ced1637226a8">Mod_Q3BSP_TraceLineOfSight</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmins</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmaxs</a>)</td></tr>
<tr class="separator:a1f6f8c9469d2d4238d77ced1637226a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5881b3f28f05bc619c7847536733031f" id="r_a5881b3f28f05bc619c7847536733031f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a5881b3f28f05bc619c7847536733031f">Mod_BrushInit</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a5881b3f28f05bc619c7847536733031f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb086140977095e71ec940fd8f3fc943" id="r_abb086140977095e71ec940fd8f3fc943"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structmleaf__t.html">mleaf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abb086140977095e71ec940fd8f3fc943">Mod_BSP_PointInLeaf</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> p)</td></tr>
<tr class="separator:abb086140977095e71ec940fd8f3fc943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac37060768681021cb8f9a64e8fb9f8a3" id="r_ac37060768681021cb8f9a64e8fb9f8a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ac37060768681021cb8f9a64e8fb9f8a3">Mod_Q1BSP_AmbientSoundLevelsForPoint</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> p, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outsize</a>)</td></tr>
<tr class="separator:ac37060768681021cb8f9a64e8fb9f8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de8e2031a8fb80452d8a3b9fedc159c" id="r_a8de8e2031a8fb80452d8a3b9fedc159c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a8de8e2031a8fb80452d8a3b9fedc159c">Mod_BSP_FindBoxClusters</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxclusters</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clusterlist</a>)</td></tr>
<tr class="separator:a8de8e2031a8fb80452d8a3b9fedc159c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0a4fa58c97cfce8966a22c7fcec4285" id="r_aa0a4fa58c97cfce8966a22c7fcec4285"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aa0a4fa58c97cfce8966a22c7fcec4285">Mod_BSP_BoxTouchingPVS</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *pvs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs)</td></tr>
<tr class="separator:aa0a4fa58c97cfce8966a22c7fcec4285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a74f1d6ae2f7904e073ae012c2a4b10" id="r_a6a74f1d6ae2f7904e073ae012c2a4b10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a6a74f1d6ae2f7904e073ae012c2a4b10">Mod_BSP_BoxTouchingLeafPVS</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *pvs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs)</td></tr>
<tr class="separator:a6a74f1d6ae2f7904e073ae012c2a4b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ff29218d7cd338d8aeee45fd9d1f3c" id="r_ac5ff29218d7cd338d8aeee45fd9d1f3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ac5ff29218d7cd338d8aeee45fd9d1f3c">Mod_BSP_BoxTouchingVisibleLeafs</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">visibleleafs</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs)</td></tr>
<tr class="separator:ac5ff29218d7cd338d8aeee45fd9d1f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2497960d690b955c60f7fc22750157" id="r_a4f2497960d690b955c60f7fc22750157"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a4f2497960d690b955c60f7fc22750157">Mod_BSP_FindNonSolidLocation_r_Triangle</a> (<a class="el" href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a> *info, <a class="el" href="structmsurface__t.html">msurface_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)</td></tr>
<tr class="separator:a4f2497960d690b955c60f7fc22750157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88afcaa260469d60a233524f74ba8ec1" id="r_a88afcaa260469d60a233524f74ba8ec1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a88afcaa260469d60a233524f74ba8ec1">Mod_BSP_FindNonSolidLocation_r_Leaf</a> (<a class="el" href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a> *info, <a class="el" href="structmleaf__t.html">mleaf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>)</td></tr>
<tr class="separator:a88afcaa260469d60a233524f74ba8ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b48f4e1a7620547b603b553d3b790a4" id="r_a6b48f4e1a7620547b603b553d3b790a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a6b48f4e1a7620547b603b553d3b790a4">Mod_BSP_FindNonSolidLocation_r</a> (<a class="el" href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a> *info, <a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</td></tr>
<tr class="separator:a6b48f4e1a7620547b603b553d3b790a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996f873f75319d130c4c2f689629affd" id="r_a996f873f75319d130c4c2f689629affd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a996f873f75319d130c4c2f689629affd">Mod_BSP_FindNonSolidLocation</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> in, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> radius)</td></tr>
<tr class="separator:a996f873f75319d130c4c2f689629affd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235b8af89a030c6fb731267b0ef36e8e" id="r_a235b8af89a030c6fb731267b0ef36e8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a235b8af89a030c6fb731267b0ef36e8e">Mod_Q1BSP_SuperContentsFromNativeContents</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a>)</td></tr>
<tr class="separator:a235b8af89a030c6fb731267b0ef36e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5b192b1222eacd1e23dfdeab66ab62" id="r_a5a5b192b1222eacd1e23dfdeab66ab62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a5a5b192b1222eacd1e23dfdeab66ab62">Mod_Q1BSP_NativeContentsFromSuperContents</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> supercontents)</td></tr>
<tr class="separator:a5a5b192b1222eacd1e23dfdeab66ab62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d43db3c6411b8f6185db74c7466b15a" id="r_a8d43db3c6411b8f6185db74c7466b15a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a> (<a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> *t, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> num, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1f</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2f</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>[3], <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>[3])</td></tr>
<tr class="separator:a8d43db3c6411b8f6185db74c7466b15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0babe67178c859f93808219fb64ef7" id="r_a0d0babe67178c859f93808219fb64ef7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0d0babe67178c859f93808219fb64ef7">Mod_Q1BSP_RecursiveHullCheckPoint</a> (<a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> *t, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> num)</td></tr>
<tr class="separator:a0d0babe67178c859f93808219fb64ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944c6e714408a389b574c6051f38c274" id="r_a944c6e714408a389b574c6051f38c274"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a944c6e714408a389b574c6051f38c274">Mod_Q1BSP_TracePoint</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:a944c6e714408a389b574c6051f38c274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75693e4e70b5a19e3682f309ef9249e1" id="r_a75693e4e70b5a19e3682f309ef9249e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a75693e4e70b5a19e3682f309ef9249e1">Mod_Q1BSP_TraceLineAgainstSurfaces</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:a75693e4e70b5a19e3682f309ef9249e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b73adc673d226987602c4e7e4a78f2" id="r_a92b73adc673d226987602c4e7e4a78f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a92b73adc673d226987602c4e7e4a78f2">Mod_Q1BSP_TraceLine</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:a92b73adc673d226987602c4e7e4a78f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affde24be777755bcdcf524f0f4598e6d" id="r_affde24be777755bcdcf524f0f4598e6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#affde24be777755bcdcf524f0f4598e6d">Mod_Q1BSP_TraceBox</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> boxmins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> boxmaxs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:affde24be777755bcdcf524f0f4598e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0197d508be472fdae0a917309e5ca4b2" id="r_a0197d508be472fdae0a917309e5ca4b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0197d508be472fdae0a917309e5ca4b2">Mod_Q1BSP_PointSuperContents</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> frame, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>)</td></tr>
<tr class="separator:a0197d508be472fdae0a917309e5ca4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee0678216b5049b8709203391339e5c0" id="r_aee0678216b5049b8709203391339e5c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aee0678216b5049b8709203391339e5c0">Collision_ClipTrace_Box</a> (<a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsupercontents</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxq3surfaceflags</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structtexture__t.html">texture_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxtexture</a>)</td></tr>
<tr class="separator:aee0678216b5049b8709203391339e5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fe425c355a6955620b40404e46026b" id="r_a79fe425c355a6955620b40404e46026b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a79fe425c355a6955620b40404e46026b">Collision_ClipTrace_Point</a> (<a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsupercontents</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxq3surfaceflags</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structtexture__t.html">texture_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxtexture</a>)</td></tr>
<tr class="separator:a79fe425c355a6955620b40404e46026b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77e25ecefd355d59ad4519fd3b2d2a4" id="r_ad77e25ecefd355d59ad4519fd3b2d2a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ad77e25ecefd355d59ad4519fd3b2d2a4">Mod_Q1BSP_TraceLineOfSight</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmins</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmaxs</a>)</td></tr>
<tr class="separator:ad77e25ecefd355d59ad4519fd3b2d2a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31d234f5c886423c8b64af46d081421" id="r_aa31d234f5c886423c8b64af46d081421"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aa31d234f5c886423c8b64af46d081421">Mod_BSP_LightPoint_RecursiveBSPNode</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusecolor</a>, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> <a class="el" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> <a class="el" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startz</a>, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endz</a>)</td></tr>
<tr class="separator:aa31d234f5c886423c8b64af46d081421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077fb94ca69306dbb3dabbd3708619f2" id="r_a077fb94ca69306dbb3dabbd3708619f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a077fb94ca69306dbb3dabbd3708619f2">Mod_BSP_LightPoint</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> p, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusecolor</a>, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>)</td></tr>
<tr class="separator:a077fb94ca69306dbb3dabbd3708619f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8cc588bf9b25ca12a411d4e714a828" id="r_a3e8cc588bf9b25ca12a411d4e714a828"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structtexture__t.html">texture_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a3e8cc588bf9b25ca12a411d4e714a828">Mod_Q1BSP_TraceLineAgainstSurfacesFindTextureOnNode</a> (<a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> *t, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>[3])</td></tr>
<tr class="separator:a3e8cc588bf9b25ca12a411d4e714a828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5d8b2014b1fc5f8be6fd40158c921d" id="r_adb5d8b2014b1fc5f8be6fd40158c921d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#adb5d8b2014b1fc5f8be6fd40158c921d">Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode</a> (<a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> *t, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>[3], <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>[3])</td></tr>
<tr class="separator:adb5d8b2014b1fc5f8be6fd40158c921d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd554f148b59d0128e9eb593aefb3b3" id="r_a2dd554f148b59d0128e9eb593aefb3b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a2dd554f148b59d0128e9eb593aefb3b3">Mod_BSP_DecompressVis</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *in, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inend</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outend</a>)</td></tr>
<tr class="separator:a2dd554f148b59d0128e9eb593aefb3b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada50575dcd3de0510160aa0c099c1151" id="r_ada50575dcd3de0510160aa0c099c1151"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ada50575dcd3de0510160aa0c099c1151">Mod_Q1BSP_LoadSplitSky</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *src, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> bytesperpixel)</td></tr>
<tr class="separator:ada50575dcd3de0510160aa0c099c1151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f65cdf9d1f23789107d8b9079f3e9e" id="r_a22f65cdf9d1f23789107d8b9079f3e9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a22f65cdf9d1f23789107d8b9079f3e9e">Mod_Q1BSP_LoadTextures</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a22f65cdf9d1f23789107d8b9079f3e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef4b992ae62b227039ae4839bc5293b" id="r_a6ef4b992ae62b227039ae4839bc5293b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a6ef4b992ae62b227039ae4839bc5293b">Mod_Q1BSP_LoadLighting</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a6ef4b992ae62b227039ae4839bc5293b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d233e4eedfdbda3d42b73d1b7309f4" id="r_ad3d233e4eedfdbda3d42b73d1b7309f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ad3d233e4eedfdbda3d42b73d1b7309f4">Mod_Q1BSP_LoadVisibility</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:ad3d233e4eedfdbda3d42b73d1b7309f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04ada66289fec52a498d6320993e4fb" id="r_ab04ada66289fec52a498d6320993e4fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ab04ada66289fec52a498d6320993e4fb">Mod_Q1BSP_ParseWadsFromEntityLump</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</td></tr>
<tr class="separator:ab04ada66289fec52a498d6320993e4fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795ac415341adbbe4b7011e3bbcf0361" id="r_a795ac415341adbbe4b7011e3bbcf0361"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a795ac415341adbbe4b7011e3bbcf0361">Mod_Q1BSP_LoadEntities</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a795ac415341adbbe4b7011e3bbcf0361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0765492c0b40a0b68d17b590383e921b" id="r_a0765492c0b40a0b68d17b590383e921b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0765492c0b40a0b68d17b590383e921b">Mod_Q1BSP_LoadVertexes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a0765492c0b40a0b68d17b590383e921b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb6036155682498abfc0c21a60887cbe" id="r_afb6036155682498abfc0c21a60887cbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#afb6036155682498abfc0c21a60887cbe">Mod_BSP_LoadSubmodels</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, <a class="el" href="structhullinfo__t.html">hullinfo_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>)</td></tr>
<tr class="separator:afb6036155682498abfc0c21a60887cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd48be44ee0cc68591e09d7c5193072" id="r_abdd48be44ee0cc68591e09d7c5193072"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abdd48be44ee0cc68591e09d7c5193072">Mod_Q1BSP_LoadEdges</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:abdd48be44ee0cc68591e09d7c5193072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6941b1a6a1c452c624f6ed3f3eb23a5a" id="r_a6941b1a6a1c452c624f6ed3f3eb23a5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a6941b1a6a1c452c624f6ed3f3eb23a5a">Mod_Q1BSP_LoadTexinfo</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a6941b1a6a1c452c624f6ed3f3eb23a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933e860910bead34039564417f55ff8c" id="r_a933e860910bead34039564417f55ff8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a933e860910bead34039564417f55ff8c">Mod_Q1BSP_LoadFaces</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a933e860910bead34039564417f55ff8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea57bec92a96313861949acfbf0fceb" id="r_a7ea57bec92a96313861949acfbf0fceb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a> (<a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, <a class="el" href="structmnode__t.html">mnode_t</a> *parent)</td></tr>
<tr class="separator:a7ea57bec92a96313861949acfbf0fceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf6cd7649cfa9db2c9b57f16a649d04f" id="r_abf6cd7649cfa9db2c9b57f16a649d04f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abf6cd7649cfa9db2c9b57f16a649d04f">Mod_Q1BSP_LoadNodes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:abf6cd7649cfa9db2c9b57f16a649d04f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d572bbce2922f623c010d7796895af4" id="r_a2d572bbce2922f623c010d7796895af4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a2d572bbce2922f623c010d7796895af4">Mod_Q1BSP_LoadLeafs</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a2d572bbce2922f623c010d7796895af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61becb86cbd82611878fc4b339b762cb" id="r_a61becb86cbd82611878fc4b339b762cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a61becb86cbd82611878fc4b339b762cb">Mod_Q1BSP_CheckWaterAlphaSupport</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a61becb86cbd82611878fc4b339b762cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a428b4dff0ba51e5a660ca7d67259dbe7" id="r_a428b4dff0ba51e5a660ca7d67259dbe7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a428b4dff0ba51e5a660ca7d67259dbe7">Mod_Q1BSP_LoadClipnodes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, <a class="el" href="structhullinfo__t.html">hullinfo_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>)</td></tr>
<tr class="separator:a428b4dff0ba51e5a660ca7d67259dbe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad32d2fdfda3d46539089b009decb174a" id="r_ad32d2fdfda3d46539089b009decb174a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ad32d2fdfda3d46539089b009decb174a">Mod_Q1BSP_MakeHull0</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:ad32d2fdfda3d46539089b009decb174a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab849011d1339ec57f744b5b3c32b544d" id="r_ab849011d1339ec57f744b5b3c32b544d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ab849011d1339ec57f744b5b3c32b544d">Mod_Q1BSP_LoadLeaffaces</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:ab849011d1339ec57f744b5b3c32b544d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa49f1f172b5050db2d36f5b23fd18fe" id="r_aaa49f1f172b5050db2d36f5b23fd18fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aaa49f1f172b5050db2d36f5b23fd18fe">Mod_Q1BSP_LoadSurfedges</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:aaa49f1f172b5050db2d36f5b23fd18fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db47416ee4f951b1fa8fc15a15edba8" id="r_a4db47416ee4f951b1fa8fc15a15edba8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a4db47416ee4f951b1fa8fc15a15edba8">Mod_Q1BSP_LoadPlanes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a4db47416ee4f951b1fa8fc15a15edba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b93d09230187cac696b484f0d6b57aa" id="r_a9b93d09230187cac696b484f0d6b57aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a9b93d09230187cac696b484f0d6b57aa">Mod_Q1BSP_AssignNoShadowSkySurfaces</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod)</td></tr>
<tr class="separator:a9b93d09230187cac696b484f0d6b57aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ca5a4db682a6bc52e4844657336d50" id="r_ae0ca5a4db682a6bc52e4844657336d50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ae0ca5a4db682a6bc52e4844657336d50">Mod_Q1BSP_LoadMapBrushes</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:ae0ca5a4db682a6bc52e4844657336d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb784ed0c17cd42d96867636ae18028c" id="r_acb784ed0c17cd42d96867636ae18028c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#acb784ed0c17cd42d96867636ae18028c">Mod_BSP_RecursiveRecalcNodeBBox</a> (<a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</td></tr>
<tr class="separator:acb784ed0c17cd42d96867636ae18028c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb19d68e7dfde86ce4c3fac82fd613b" id="r_a5cb19d68e7dfde86ce4c3fac82fd613b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a5cb19d68e7dfde86ce4c3fac82fd613b">Mod_BSP_FinalizePortals</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:a5cb19d68e7dfde86ce4c3fac82fd613b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0a5e5ccd56ce8d2ec7f5da8a2646a3" id="r_abc0a5e5ccd56ce8d2ec7f5da8a2646a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a> (<a class="el" href="structportal__t.html">portal_t</a> *p, <a class="el" href="structmnode__t.html">mnode_t</a> *front, <a class="el" href="structmnode__t.html">mnode_t</a> *back)</td></tr>
<tr class="separator:abc0a5e5ccd56ce8d2ec7f5da8a2646a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1dea715ec143b1c7bb9232d12a2514b" id="r_ac1dea715ec143b1c7bb9232d12a2514b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ac1dea715ec143b1c7bb9232d12a2514b">RemovePortalFromNodes</a> (<a class="el" href="structportal__t.html">portal_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>)</td></tr>
<tr class="separator:ac1dea715ec143b1c7bb9232d12a2514b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add60d2fdd85ebc13d13b2184bdc89381" id="r_add60d2fdd85ebc13d13b2184bdc89381"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#add60d2fdd85ebc13d13b2184bdc89381">Mod_BSP_RecursiveNodePortals</a> (<a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</td></tr>
<tr class="separator:add60d2fdd85ebc13d13b2184bdc89381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af063f8a4f957bf32a9c35ded26d58726" id="r_af063f8a4f957bf32a9c35ded26d58726"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#af063f8a4f957bf32a9c35ded26d58726">Mod_BSP_MakePortals</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:af063f8a4f957bf32a9c35ded26d58726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410424a81c26ecc81451c5da4a7c50f5" id="r_a410424a81c26ecc81451c5da4a7c50f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a410424a81c26ecc81451c5da4a7c50f5">Mod_BSP_GetPVS</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> p)</td></tr>
<tr class="separator:a410424a81c26ecc81451c5da4a7c50f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf642785ebdde53dfd379788e0e817fb" id="r_aaf642785ebdde53dfd379788e0e817fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aaf642785ebdde53dfd379788e0e817fb">Mod_BSP_FatPVS_RecursiveBSPNode</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <a class="el" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> radius, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbuffer</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbytes</a>, <a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</td></tr>
<tr class="separator:aaf642785ebdde53dfd379788e0e817fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ec2cd29705ec14f030bd49ba9697a2" id="r_a72ec2cd29705ec14f030bd49ba9697a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a72ec2cd29705ec14f030bd49ba9697a2">Mod_BSP_FatPVS</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <a class="el" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> radius, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbuffer</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbufferlength</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">merge</a>)</td></tr>
<tr class="separator:a72ec2cd29705ec14f030bd49ba9697a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819c6ddb997db6d6a89f43ff180c698e" id="r_a819c6ddb997db6d6a89f43ff180c698e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a819c6ddb997db6d6a89f43ff180c698e">Mod_Q1BSP_RoundUpToHullSize</a> (<a class="el" href="structmodel__t.html">model_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmodel</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inmins</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inmaxs</a>, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> outmins, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> outmaxs)</td></tr>
<tr class="separator:a819c6ddb997db6d6a89f43ff180c698e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef58f6e71ef23ea87faba4b069914f8" id="r_a6ef58f6e71ef23ea87faba4b069914f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a6ef58f6e71ef23ea87faba4b069914f8">Mod_CollisionBIH_TraceLineAgainstSurfaces</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:a6ef58f6e71ef23ea87faba4b069914f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97ba64018e81191a09ab52702cbd9c0" id="r_aa97ba64018e81191a09ab52702cbd9c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aa97ba64018e81191a09ab52702cbd9c0">Mod_2PSB_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:aa97ba64018e81191a09ab52702cbd9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4918d0f5972eb3e651d72159402522a" id="r_ad4918d0f5972eb3e651d72159402522a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ad4918d0f5972eb3e651d72159402522a">Mod_BSP2_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:ad4918d0f5972eb3e651d72159402522a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd83c676ff52b646e89101e869cddcc" id="r_a5cd83c676ff52b646e89101e869cddcc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a5cd83c676ff52b646e89101e869cddcc">Mod_HLBSP_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:a5cd83c676ff52b646e89101e869cddcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7951bc8a426acde1bd108694921f5b7" id="r_ac7951bc8a426acde1bd108694921f5b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ac7951bc8a426acde1bd108694921f5b7">Mod_Q1BSP_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:ac7951bc8a426acde1bd108694921f5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ea8486028744092c5d72eaa2dcb15f" id="r_a71ea8486028744092c5d72eaa2dcb15f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a71ea8486028744092c5d72eaa2dcb15f">Mod_Q2BSP_SuperContentsFromNativeContents</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a>)</td></tr>
<tr class="separator:a71ea8486028744092c5d72eaa2dcb15f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07554f74269005419bc0a10b5f4d8da" id="r_ac07554f74269005419bc0a10b5f4d8da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ac07554f74269005419bc0a10b5f4d8da">Mod_Q2BSP_NativeContentsFromSuperContents</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> supercontents)</td></tr>
<tr class="separator:ac07554f74269005419bc0a10b5f4d8da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dff671fba6b778830fb6c886635f03" id="r_a63dff671fba6b778830fb6c886635f03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a63dff671fba6b778830fb6c886635f03">Mod_Q2BSP_LoadVisibility</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a63dff671fba6b778830fb6c886635f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00c11dd31d84a18fd00c62494cea3f8" id="r_aa00c11dd31d84a18fd00c62494cea3f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aa00c11dd31d84a18fd00c62494cea3f8">Mod_Q2BSP_LoadNodes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:aa00c11dd31d84a18fd00c62494cea3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241ecfdf3fd5fa62cc3d4c79c8953c1f" id="r_a241ecfdf3fd5fa62cc3d4c79c8953c1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a241ecfdf3fd5fa62cc3d4c79c8953c1f">Mod_Q2BSP_LoadTexinfo</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a241ecfdf3fd5fa62cc3d4c79c8953c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c785b9b5bcd5ebfd70b00b4d95669fb" id="r_a4c785b9b5bcd5ebfd70b00b4d95669fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a4c785b9b5bcd5ebfd70b00b4d95669fb">Mod_Q2BSP_LoadLighting</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a4c785b9b5bcd5ebfd70b00b4d95669fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c880cf6a849b370bdf392ad16706f0" id="r_a54c880cf6a849b370bdf392ad16706f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a54c880cf6a849b370bdf392ad16706f0">Mod_Q2BSP_LoadLeafs</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a54c880cf6a849b370bdf392ad16706f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411013bcc03d7cbda40c2f8d751a0b5e" id="r_a411013bcc03d7cbda40c2f8d751a0b5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a411013bcc03d7cbda40c2f8d751a0b5e">Mod_Q2BSP_LoadLeafBrushes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a411013bcc03d7cbda40c2f8d751a0b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954dfc9fbad2b96942a874269b4862d3" id="r_a954dfc9fbad2b96942a874269b4862d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a954dfc9fbad2b96942a874269b4862d3">Mod_Q2BSP_LoadBrushSides</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a954dfc9fbad2b96942a874269b4862d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7eb0cedd461b8dd88a7861f918deaec" id="r_ad7eb0cedd461b8dd88a7861f918deaec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ad7eb0cedd461b8dd88a7861f918deaec">Mod_Q2BSP_LoadBrushes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:ad7eb0cedd461b8dd88a7861f918deaec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e185c08c82e9eeee676bcb680485e0" id="r_a59e185c08c82e9eeee676bcb680485e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a59e185c08c82e9eeee676bcb680485e0">Mod_Q2BSP_LoadPOP</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a59e185c08c82e9eeee676bcb680485e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26803232c5106998eb909e781cdedf6f" id="r_a26803232c5106998eb909e781cdedf6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a26803232c5106998eb909e781cdedf6f">Mod_Q2BSP_LoadAreas</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a26803232c5106998eb909e781cdedf6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c71bf839cf54d5735e0472e603cf07" id="r_ae5c71bf839cf54d5735e0472e603cf07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ae5c71bf839cf54d5735e0472e603cf07">Mod_Q2BSP_LoadAreaPortals</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:ae5c71bf839cf54d5735e0472e603cf07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5db750c15d25e553a16bf6b5caf013" id="r_a7d5db750c15d25e553a16bf6b5caf013"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a7d5db750c15d25e553a16bf6b5caf013">Mod_Q2BSP_FindSubmodelBrushRange_r</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> *<a class="el" href="glquake_8h.html#a95ba046d2132a6a50925791e8b9708a5">first</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>)</td></tr>
<tr class="separator:a7d5db750c15d25e553a16bf6b5caf013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33816c2d77e3df5a205ea09433b577f1" id="r_a33816c2d77e3df5a205ea09433b577f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a33816c2d77e3df5a205ea09433b577f1">Mod_Q2BSP_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:a33816c2d77e3df5a205ea09433b577f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17954d2d48cfe089ee439ae63d8609c8" id="r_a17954d2d48cfe089ee439ae63d8609c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a17954d2d48cfe089ee439ae63d8609c8">Mod_Q3BSP_SuperContentsFromNativeContents</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a>)</td></tr>
<tr class="separator:a17954d2d48cfe089ee439ae63d8609c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a62b395e385b7ce9d0b6ff6e9a58a53" id="r_a5a62b395e385b7ce9d0b6ff6e9a58a53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a5a62b395e385b7ce9d0b6ff6e9a58a53">Mod_Q3BSP_NativeContentsFromSuperContents</a> (<a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> supercontents)</td></tr>
<tr class="separator:a5a62b395e385b7ce9d0b6ff6e9a58a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af27ca8c226222ee31da0410907caa7" id="r_a2af27ca8c226222ee31da0410907caa7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a2af27ca8c226222ee31da0410907caa7">Mod_Q3BSP_LoadEntities</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a2af27ca8c226222ee31da0410907caa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18603beffef17454bcd1d25afa9057a5" id="r_a18603beffef17454bcd1d25afa9057a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a18603beffef17454bcd1d25afa9057a5">Mod_Q3BSP_LoadTextures</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a18603beffef17454bcd1d25afa9057a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0896333bcf421f8beda0f4dba6ddcf33" id="r_a0896333bcf421f8beda0f4dba6ddcf33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0896333bcf421f8beda0f4dba6ddcf33">Mod_Q3BSP_LoadPlanes</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a0896333bcf421f8beda0f4dba6ddcf33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a6b290f6c9a1c09c2b773e86d16c9d" id="r_a61a6b290f6c9a1c09c2b773e86d16c9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a61a6b290f6c9a1c09c2b773e86d16c9d">Mod_Q3BSP_LoadBrushSides</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a61a6b290f6c9a1c09c2b773e86d16c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af62a531504aa0d87b57359cd3dad0a" id="r_a4af62a531504aa0d87b57359cd3dad0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a4af62a531504aa0d87b57359cd3dad0a">Mod_Q3BSP_LoadBrushSides_IG</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a4af62a531504aa0d87b57359cd3dad0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4d1c7621fc3f1e86cca7b233609f6e" id="r_a3b4d1c7621fc3f1e86cca7b233609f6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a3b4d1c7621fc3f1e86cca7b233609f6e">Mod_Q3BSP_LoadBrushes</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a3b4d1c7621fc3f1e86cca7b233609f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a618b3bd072fda7c5ba426244087fc1cd" id="r_a618b3bd072fda7c5ba426244087fc1cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a618b3bd072fda7c5ba426244087fc1cd">Mod_Q3BSP_LoadEffects</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a618b3bd072fda7c5ba426244087fc1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a642a69f83b2e8360c8bdff7f61d0d" id="r_a73a642a69f83b2e8360c8bdff7f61d0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a73a642a69f83b2e8360c8bdff7f61d0d">Mod_Q3BSP_LoadVertices</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a73a642a69f83b2e8360c8bdff7f61d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c44e0776441d9a2d32d555dfc4b50f2" id="r_a4c44e0776441d9a2d32d555dfc4b50f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a4c44e0776441d9a2d32d555dfc4b50f2">Mod_Q3BSP_LoadTriangles</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a4c44e0776441d9a2d32d555dfc4b50f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f37d4bfb6cdb3a1754fe5022b052340" id="r_a0f37d4bfb6cdb3a1754fe5022b052340"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0f37d4bfb6cdb3a1754fe5022b052340">Mod_Q3BSP_LoadLightmaps</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>, <a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">faceslump</a>)</td></tr>
<tr class="separator:a0f37d4bfb6cdb3a1754fe5022b052340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcf787502d5ce8422a4f3e0a2c95408" id="r_a8bcf787502d5ce8422a4f3e0a2c95408"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a8bcf787502d5ce8422a4f3e0a2c95408">Mod_Q3BSP_LoadFaces</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a8bcf787502d5ce8422a4f3e0a2c95408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7563b8c8bbb797b3e940ce1c99029f" id="r_a3b7563b8c8bbb797b3e940ce1c99029f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a3b7563b8c8bbb797b3e940ce1c99029f">Mod_Q3BSP_LoadModels</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a3b7563b8c8bbb797b3e940ce1c99029f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb01dcaa64bc83236d3957e540204d8" id="r_a2fb01dcaa64bc83236d3957e540204d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a2fb01dcaa64bc83236d3957e540204d8">Mod_Q3BSP_LoadLeafBrushes</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a2fb01dcaa64bc83236d3957e540204d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86378a86e0fe2abe704908fb0e747d38" id="r_a86378a86e0fe2abe704908fb0e747d38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a86378a86e0fe2abe704908fb0e747d38">Mod_Q3BSP_LoadLeafFaces</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a86378a86e0fe2abe704908fb0e747d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055eb658f7b1d845eecf32da9b6afbe8" id="r_a055eb658f7b1d845eecf32da9b6afbe8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a055eb658f7b1d845eecf32da9b6afbe8">Mod_Q3BSP_LoadLeafs</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a055eb658f7b1d845eecf32da9b6afbe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d33ad8fd12cd363c72eca18b1fe46d3" id="r_a8d33ad8fd12cd363c72eca18b1fe46d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a8d33ad8fd12cd363c72eca18b1fe46d3">Mod_Q3BSP_LoadNodes</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a8d33ad8fd12cd363c72eca18b1fe46d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b721835adc7530b2cc96fa3f6256136" id="r_a0b721835adc7530b2cc96fa3f6256136"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0b721835adc7530b2cc96fa3f6256136">Mod_Q3BSP_LoadLightGrid</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:a0b721835adc7530b2cc96fa3f6256136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4875cd66fbd80df1e9ced96292cc24a" id="r_aa4875cd66fbd80df1e9ced96292cc24a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aa4875cd66fbd80df1e9ced96292cc24a">Mod_Q3BSP_LoadPVS</a> (<a class="el" href="structlump__t.html">lump_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</td></tr>
<tr class="separator:aa4875cd66fbd80df1e9ced96292cc24a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab712c9abe50433fe90a45ad8df6f8378" id="r_ab712c9abe50433fe90a45ad8df6f8378"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ab712c9abe50433fe90a45ad8df6f8378">Mod_Q3BSP_LightPoint</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> p, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusecolor</a>, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>)</td></tr>
<tr class="separator:ab712c9abe50433fe90a45ad8df6f8378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb22ce01c142e371da242d81d09933fa" id="r_abb22ce01c142e371da242d81d09933fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abb22ce01c142e371da242d81d09933fa">Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck</a> (<a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>[3], <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>[3], <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> endpos[3])</td></tr>
<tr class="separator:abb22ce01c142e371da242d81d09933fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a968a9377d97910cf10c5186b392543da" id="r_a968a9377d97910cf10c5186b392543da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:a968a9377d97910cf10c5186b392543da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a609c1c5d47cf875d7f59e653a5d7cc" id="r_a5a609c1c5d47cf875d7f59e653a5d7cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a5a609c1c5d47cf875d7f59e653a5d7cc">Mod_CollisionBIH_TraceLineShared</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structbih__t.html">bih_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>)</td></tr>
<tr class="separator:a5a609c1c5d47cf875d7f59e653a5d7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab816e4b98970a692de3b0ba2faa0ee13" id="r_ab816e4b98970a692de3b0ba2faa0ee13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:ab816e4b98970a692de3b0ba2faa0ee13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affbc4942202066560126b850810d2662" id="r_affbc4942202066560126b850810d2662"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#affbc4942202066560126b850810d2662">Mod_CollisionBIH_TraceBrush</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="structcolbrushf__t.html">colbrushf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>, <a class="el" href="structcolbrushf__t.html">colbrushf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:affbc4942202066560126b850810d2662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29fecb522c6d449fb01d01f2b070e4d1" id="r_a29fecb522c6d449fb01d01f2b070e4d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a29fecb522c6d449fb01d01f2b070e4d1">Mod_CollisionBIH_TraceBox</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> boxmins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> boxmaxs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:a29fecb522c6d449fb01d01f2b070e4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ababe610321bcf4487f3e28ac11b0ca1c" id="r_ababe610321bcf4487f3e28ac11b0ca1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ababe610321bcf4487f3e28ac11b0ca1c">Mod_CollisionBIH_PointSuperContents</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> frame, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>)</td></tr>
<tr class="separator:ababe610321bcf4487f3e28ac11b0ca1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c9f06b363e4b9676e28a1bc8a366ca" id="r_a65c9f06b363e4b9676e28a1bc8a366ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a65c9f06b363e4b9676e28a1bc8a366ca">Mod_CollisionBIH_TraceLineOfSight</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmins</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmaxs</a>)</td></tr>
<tr class="separator:a65c9f06b363e4b9676e28a1bc8a366ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e3ed76293f66de91425261e2f10b4b" id="r_a28e3ed76293f66de91425261e2f10b4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a28e3ed76293f66de91425261e2f10b4b">Mod_CollisionBIH_TracePoint_Mesh</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *frameblend, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *skeleton, <a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:a28e3ed76293f66de91425261e2f10b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2726571fd5f00e6268319b38a4accb14" id="r_a2726571fd5f00e6268319b38a4accb14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a2726571fd5f00e6268319b38a4accb14">Mod_CollisionBIH_PointSuperContents_Mesh</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *model, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> frame, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start)</td></tr>
<tr class="separator:a2726571fd5f00e6268319b38a4accb14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac294c2bc06a02f8114eed73c8f71795f" id="r_ac294c2bc06a02f8114eed73c8f71795f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbih__t.html">bih_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ac294c2bc06a02f8114eed73c8f71795f">Mod_MakeCollisionBIH</a> (<a class="el" href="structmodel__t.html">model_t</a> *model, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userendersurfaces</a>, <a class="el" href="structbih__t.html">bih_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>)</td></tr>
<tr class="separator:ac294c2bc06a02f8114eed73c8f71795f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08a93417d64a0a1bb347ec8c213552e3" id="r_a08a93417d64a0a1bb347ec8c213552e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a08a93417d64a0a1bb347ec8c213552e3">Mod_Q3BSP_RecursiveFindNumLeafs</a> (<a class="el" href="structmnode__t.html">mnode_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</td></tr>
<tr class="separator:a08a93417d64a0a1bb347ec8c213552e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1fec782cf8320cc2e14aecd944f6fc" id="r_a9b1fec782cf8320cc2e14aecd944f6fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a9b1fec782cf8320cc2e14aecd944f6fc">Mod_Q3BSP_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:a9b1fec782cf8320cc2e14aecd944f6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e96d9f6e37f9c538f2961e1cacb97ce" id="r_a6e96d9f6e37f9c538f2961e1cacb97ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a6e96d9f6e37f9c538f2961e1cacb97ce">Mod_IBSP_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:a6e96d9f6e37f9c538f2961e1cacb97ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de7844ffbb030ffb94c5103baca7f57" id="r_a8de7844ffbb030ffb94c5103baca7f57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a8de7844ffbb030ffb94c5103baca7f57">Mod_VBSP_LoadEntities</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a8de7844ffbb030ffb94c5103baca7f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932482614d5e59190631e65477a3e1a4" id="r_a932482614d5e59190631e65477a3e1a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a932482614d5e59190631e65477a3e1a4">Mod_VBSP_LoadVertexes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a932482614d5e59190631e65477a3e1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13fa646b18d96e7043086bbba2806a9d" id="r_a13fa646b18d96e7043086bbba2806a9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a13fa646b18d96e7043086bbba2806a9d">Mod_VBSP_LoadEdges</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a13fa646b18d96e7043086bbba2806a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3b4a7611ca2fcc5bb9d771f89287af" id="r_a9d3b4a7611ca2fcc5bb9d771f89287af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a9d3b4a7611ca2fcc5bb9d771f89287af">Mod_VBSP_LoadSurfedges</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a9d3b4a7611ca2fcc5bb9d771f89287af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff391bd0f21f8aa2c6fd84a44f4060a1" id="r_aff391bd0f21f8aa2c6fd84a44f4060a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aff391bd0f21f8aa2c6fd84a44f4060a1">Mod_VBSP_LoadTextures</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:aff391bd0f21f8aa2c6fd84a44f4060a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781a6da18215af3a214f9577d6fc5af2" id="r_a781a6da18215af3a214f9577d6fc5af2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a781a6da18215af3a214f9577d6fc5af2">Mod_VBSP_LoadPlanes</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:a781a6da18215af3a214f9577d6fc5af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbce3848e4cbaea8abb4cb2aeb04be6f" id="r_adbce3848e4cbaea8abb4cb2aeb04be6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#adbce3848e4cbaea8abb4cb2aeb04be6f">Mod_VBSP_LoadTexinfo</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:adbce3848e4cbaea8abb4cb2aeb04be6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d41136a49f35ecaed1275dbffebaac" id="r_af4d41136a49f35ecaed1275dbffebaac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#af4d41136a49f35ecaed1275dbffebaac">Mod_VBSP_LoadFaces</a> (<a class="el" href="structsizebuf__t.html">sizebuf_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>)</td></tr>
<tr class="separator:af4d41136a49f35ecaed1275dbffebaac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc9a01bfdaf7e92e836ddbf7b75fe4e" id="r_abdc9a01bfdaf7e92e836ddbf7b75fe4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abdc9a01bfdaf7e92e836ddbf7b75fe4e">Mod_VBSP_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:abdc9a01bfdaf7e92e836ddbf7b75fe4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea213b0a4358054ff491119b61352274" id="r_aea213b0a4358054ff491119b61352274"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aea213b0a4358054ff491119b61352274">Mod_MAP_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:aea213b0a4358054ff491119b61352274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32aeae94a304b29fc3a77825b7a5e90a" id="r_a32aeae94a304b29fc3a77825b7a5e90a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a32aeae94a304b29fc3a77825b7a5e90a">Mod_OBJ_Load</a> (<a class="el" href="structmodel__t.html">model_t</a> *mod, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>)</td></tr>
<tr class="separator:a32aeae94a304b29fc3a77825b7a5e90a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad36726f56533f8ed61f03c9bf2faa194" id="r_ad36726f56533f8ed61f03c9bf2faa194"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ad36726f56533f8ed61f03c9bf2faa194">r_trippy</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_trippy&quot;, &quot;0&quot;, &quot;easter <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">egg&quot;</a>}</td></tr>
<tr class="separator:ad36726f56533f8ed61f03c9bf2faa194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f5bcbdde0eeff0af04664542f0ef9b" id="r_ac2f5bcbdde0eeff0af04664542f0ef9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ac2f5bcbdde0eeff0af04664542f0ef9b">r_novis</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_novis&quot;, &quot;0&quot;, &quot;draws <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">whole</a> <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">see</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">also</a> <a class="el" href="server_8h.html#a4c3b7f9930e167151186ff65e582bd57">sv_cullentities_pvs</a> 0&quot;}</td></tr>
<tr class="separator:ac2f5bcbdde0eeff0af04664542f0ef9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7917fc21445a7234319982fa84ba1c" id="r_abb7917fc21445a7234319982fa84ba1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abb7917fc21445a7234319982fa84ba1c">r_nosurftextures</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_nosurftextures&quot;, &quot;0&quot;, &quot;pretends <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">there</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">was</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">no</a> <a class="el" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lump</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">found</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q1bsp</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hlbsp</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">loading</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">useful</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">debugging</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rare</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">case</a>)&quot;}</td></tr>
<tr class="separator:abb7917fc21445a7234319982fa84ba1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cbbf35c2258fb3bd1607d0171bb148" id="r_ae3cbbf35c2258fb3bd1607d0171bb148"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ae3cbbf35c2258fb3bd1607d0171bb148">r_subdivisions_tolerance</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_subdivisions_tolerance&quot;, &quot;4&quot;, &quot;maximum error <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolerance</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curve</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivision</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendering</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes</a> (in other <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">words</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">given</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">polygons</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">necessary</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">represent</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">at</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> quality)&quot;}</td></tr>
<tr class="separator:ae3cbbf35c2258fb3bd1607d0171bb148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf320b246049b55161c9a6a223af426e" id="r_adf320b246049b55161c9a6a223af426e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#adf320b246049b55161c9a6a223af426e">r_subdivisions_mintess</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_subdivisions_mintess&quot;, &quot;0&quot;, &quot;minimum number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivisions</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">above</a> 0 <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smooth</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">don</a>'t <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">need</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a>)&quot;}</td></tr>
<tr class="separator:adf320b246049b55161c9a6a223af426e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e5a6066a70a42b432f9f35deebf073" id="r_af6e5a6066a70a42b432f9f35deebf073"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#af6e5a6066a70a42b432f9f35deebf073">r_subdivisions_maxtess</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_subdivisions_maxtess&quot;, &quot;1024&quot;, &quot;maximum number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivisions</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevents</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">beyond</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">certain</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">detail</a> <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limits</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smoothing</a>)&quot;}</td></tr>
<tr class="separator:af6e5a6066a70a42b432f9f35deebf073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed121aa80abb387aa4a9c7b177d9a307" id="r_aed121aa80abb387aa4a9c7b177d9a307"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aed121aa80abb387aa4a9c7b177d9a307">r_subdivisions_maxvertices</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_subdivisions_maxvertices&quot;, &quot;65536&quot;, &quot;maximum <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allowed</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivided</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curve&quot;</a>}</td></tr>
<tr class="separator:aed121aa80abb387aa4a9c7b177d9a307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed843bf3dc52e2c5c803ac13eb27d02" id="r_a7ed843bf3dc52e2c5c803ac13eb27d02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a7ed843bf3dc52e2c5c803ac13eb27d02">mod_q3bsp_curves_subdivisions_tolerance</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_subdivisions_tolerance&quot;, &quot;15&quot;, &quot;maximum error <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolerance</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curve</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivision</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collision</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">usually</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">larger</a> error <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolerance</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendering</a>)&quot;}</td></tr>
<tr class="separator:a7ed843bf3dc52e2c5c803ac13eb27d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722fa06637534ed172979d9efdc1edfa" id="r_a722fa06637534ed172979d9efdc1edfa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a722fa06637534ed172979d9efdc1edfa">mod_q3bsp_curves_subdivisions_mintess</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_subdivisions_mintess&quot;, &quot;0&quot;, &quot;minimum number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivisions</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collision</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">above</a> 0 <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smooth</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">don</a>'t <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">need</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a>)&quot;}</td></tr>
<tr class="separator:a722fa06637534ed172979d9efdc1edfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f451c875a0fff37acefa16c02a8675" id="r_a12f451c875a0fff37acefa16c02a8675"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a12f451c875a0fff37acefa16c02a8675">mod_q3bsp_curves_subdivisions_maxtess</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_subdivisions_maxtess&quot;, &quot;1024&quot;, &quot;maximum number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivisions</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collision</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevents</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">beyond</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">certain</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">detail</a> <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limits</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smoothing</a>)&quot;}</td></tr>
<tr class="separator:a12f451c875a0fff37acefa16c02a8675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9e359efa27457637ff9add808b971c" id="r_a1d9e359efa27457637ff9add808b971c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a1d9e359efa27457637ff9add808b971c">mod_q3bsp_curves_subdivisions_maxvertices</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_subdivisions_maxvertices&quot;, &quot;4225&quot;, &quot;maximum <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allowed</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivided</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curve</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collision</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes&quot;</a>}</td></tr>
<tr class="separator:a1d9e359efa27457637ff9add808b971c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe9f2e61643f66842fb9bcaee9bbad03" id="r_abe9f2e61643f66842fb9bcaee9bbad03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abe9f2e61643f66842fb9bcaee9bbad03">mod_q3bsp_curves_collisions</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_collisions&quot;, &quot;1&quot;, &quot;enables <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisions</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SLOW</a>)&quot;}</td></tr>
<tr class="separator:abe9f2e61643f66842fb9bcaee9bbad03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba7bb4a4ae9aea271029413e66152b8" id="r_acba7bb4a4ae9aea271029413e66152b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#acba7bb4a4ae9aea271029413e66152b8">mod_q3bsp_optimizedtraceline</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_optimizedtraceline&quot;, &quot;1&quot;, &quot;whether to use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">optimized</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceline</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">code</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traces</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opposed</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tracebox</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">code</a>)&quot;}</td></tr>
<tr class="separator:acba7bb4a4ae9aea271029413e66152b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6528b0a888ca229c2a6efab1a9c613e8" id="r_a6528b0a888ca229c2a6efab1a9c613e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a6528b0a888ca229c2a6efab1a9c613e8">mod_q3bsp_lightmapmergepower</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3bsp_lightmapmergepower&quot;, &quot;4&quot;, &quot;merges <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quake3</a> 128<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x128</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> <a class="el" href="glquake_8h.html#afe64ba8692ed29b0538cc05eadf3b9bb">textures</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">into</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">larger</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> group <a class="el" href="glquake_8h.html#afe64ba8692ed29b0538cc05eadf3b9bb">textures</a> to speed <a class="el" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendering</a>, 1 = 256<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x256</a>, 2 = 512<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x512</a>, 3 = 1024<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x1024</a>, 4 = 2048<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x2048</a>, 5 = 4096<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x4096</a>, ...&quot;}</td></tr>
<tr class="separator:a6528b0a888ca229c2a6efab1a9c613e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fb22b957e64a3049781239ee353d70" id="r_a78fb22b957e64a3049781239ee353d70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a78fb22b957e64a3049781239ee353d70">mod_q3bsp_nolightmaps</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3bsp_nolightmaps&quot;, &quot;0&quot;, &quot;do <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">load</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Q3BSP</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a> (to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">save</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">RAM</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">but</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">warned:</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">looks</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ugly</a>)&quot;}</td></tr>
<tr class="separator:a78fb22b957e64a3049781239ee353d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977afe81d17987198f3300477166cb0b" id="r_a977afe81d17987198f3300477166cb0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a977afe81d17987198f3300477166cb0b">mod_q3bsp_tracelineofsight_brushes</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_tracelineofsight_brushes&quot;, &quot;0&quot;, &quot;enables <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">culling</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> entities <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">behind</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">detail</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushes</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">etc&quot;</a>}</td></tr>
<tr class="separator:a977afe81d17987198f3300477166cb0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9260109f82a8e564ade6ada3c0488831" id="r_a9260109f82a8e564ade6ada3c0488831"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a9260109f82a8e564ade6ada3c0488831">mod_q3bsp_sRGBlightmaps</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3bsp_sRGBlightmaps&quot;, &quot;0&quot;, &quot;treat <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Q3</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sRGB</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">active&quot;</a>}</td></tr>
<tr class="separator:a9260109f82a8e564ade6ada3c0488831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7be57207f43c552586a464adfa683162" id="r_a7be57207f43c552586a464adfa683162"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a7be57207f43c552586a464adfa683162">mod_q3bsp_lightgrid_texture</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3bsp_lightgrid_texture&quot;, &quot;1&quot;, &quot;directly <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">apply</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgrid</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">global</a> <a class="el" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rather</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reading</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">at</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> entity <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">origin&quot;</a>}</td></tr>
<tr class="separator:a7be57207f43c552586a464adfa683162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c46bdcefa7955db6648bdee421f7a1c" id="r_a4c46bdcefa7955db6648bdee421f7a1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a4c46bdcefa7955db6648bdee421f7a1c">mod_q3bsp_lightgrid_world_surfaces</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3bsp_lightgrid_world_surfaces&quot;, &quot;0&quot;, &quot;apply <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgrid</a> lighting to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> world <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bsp</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">geometry</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rather</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">experimental</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">debug</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tool</a>)&quot;}</td></tr>
<tr class="separator:a4c46bdcefa7955db6648bdee421f7a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60dd7086b57b436ec3f6b38b85053dd" id="r_ab60dd7086b57b436ec3f6b38b85053dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ab60dd7086b57b436ec3f6b38b85053dd">mod_q3bsp_lightgrid_bsp_surfaces</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3bsp_lightgrid_bsp_surfaces&quot;, &quot;0&quot;, &quot;apply <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgrid</a> lighting to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bsp</a> <a class="el" href="model__shared_8c.html#a7ff8405e122ded38c33c66249c7a4b04">models</a> other <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> world <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rather</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">their</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">experimental</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">debug</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tool</a>)&quot;}</td></tr>
<tr class="separator:ab60dd7086b57b436ec3f6b38b85053dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a90d29a2909b3cbae37702ff37a32cf" id="r_a6a90d29a2909b3cbae37702ff37a32cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a6a90d29a2909b3cbae37702ff37a32cf">mod_noshader_default_offsetmapping</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_noshader_default_offsetmapping&quot;, &quot;1&quot;, &quot;use offsetmapping <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">default</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">are</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q3</a> shader <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">files&quot;</a>}</td></tr>
<tr class="separator:a6a90d29a2909b3cbae37702ff37a32cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6d45f381afbd7c8c9959eac47a44cc6" id="r_ab6d45f381afbd7c8c9959eac47a44cc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ab6d45f381afbd7c8c9959eac47a44cc6">mod_q3shader_default_offsetmapping</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3shader_default_offsetmapping&quot;, &quot;1&quot;, &quot;use offsetmapping <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">default</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">are</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q3</a> shader <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">files&quot;</a>}</td></tr>
<tr class="separator:ab6d45f381afbd7c8c9959eac47a44cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f00470ea93c0f84375f173474a7eecd" id="r_a7f00470ea93c0f84375f173474a7eecd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a7f00470ea93c0f84375f173474a7eecd">mod_q3shader_default_offsetmapping_scale</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3shader_default_offsetmapping_scale&quot;, &quot;1&quot;, &quot;default scale used <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetmapping&quot;</a>}</td></tr>
<tr class="separator:a7f00470ea93c0f84375f173474a7eecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb6a9818cb417d26aa0ad5fb8f8317a" id="r_a9eb6a9818cb417d26aa0ad5fb8f8317a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a9eb6a9818cb417d26aa0ad5fb8f8317a">mod_q3shader_default_offsetmapping_bias</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3shader_default_offsetmapping_bias&quot;, &quot;0&quot;, &quot;default <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bias</a> used <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetmapping&quot;</a>}</td></tr>
<tr class="separator:a9eb6a9818cb417d26aa0ad5fb8f8317a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c53c9f45678f786c4d69e9de5a9f867" id="r_a5c53c9f45678f786c4d69e9de5a9f867"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a5c53c9f45678f786c4d69e9de5a9f867">mod_q3shader_default_polygonfactor</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_default_polygonfactor&quot;, &quot;0&quot;, &quot;biases <a class="el" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> 'polygonoffset' <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shaders</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevent</a> <a class="el" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>-<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fighting</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">artifacts&quot;</a>}</td></tr>
<tr class="separator:a5c53c9f45678f786c4d69e9de5a9f867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bec9df854f7b675fcc53c8107d07fb1" id="r_a9bec9df854f7b675fcc53c8107d07fb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a9bec9df854f7b675fcc53c8107d07fb1">mod_q3shader_default_polygonoffset</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_default_polygonoffset&quot;, &quot;-2&quot;, &quot;biases <a class="el" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> 'polygonoffset' <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shaders</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevent</a> <a class="el" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>-<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fighting</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">artifacts&quot;</a>}</td></tr>
<tr class="separator:a9bec9df854f7b675fcc53c8107d07fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3d52aa21b8bb25950df31b101c10b4" id="r_afd3d52aa21b8bb25950df31b101c10b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#afd3d52aa21b8bb25950df31b101c10b4">mod_q3shader_default_refractive_index</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_default_refractive_index&quot;, &quot;1.33&quot;, &quot;angle <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">refraction</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">specified</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">apply</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">photon</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">refracted</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">example</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">are:</a> 1.0003 = <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">air</a>, water = 1.333, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crown</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glass</a> = 1.517, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">flint</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glass</a> = 1.655, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diamond</a> = 2.417&quot;}</td></tr>
<tr class="separator:afd3d52aa21b8bb25950df31b101c10b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a225a2689c7f8a4f64afd0f7f82ac8c6e" id="r_a225a2689c7f8a4f64afd0f7f82ac8c6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a225a2689c7f8a4f64afd0f7f82ac8c6e">mod_q3shader_force_addalpha</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_force_addalpha&quot;, &quot;0&quot;, &quot;treat <a class="el" href="glquake_8h.html#aa92fae02a274fe856dad3362144f84dd">GL_ONE</a> <a class="el" href="glquake_8h.html#aa92fae02a274fe856dad3362144f84dd">GL_ONE</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">or</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">add</a>) blendfunc <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#a51e6c75d54b3a9fb93fbc880463c212c">GL_SRC_ALPHA</a> <a class="el" href="glquake_8h.html#aa92fae02a274fe856dad3362144f84dd">GL_ONE</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">compatibility</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">older</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DarkPlaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">releases&quot;</a>}</td></tr>
<tr class="separator:a225a2689c7f8a4f64afd0f7f82ac8c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0489ce67107ae72e326ae291e54551" id="r_aea0489ce67107ae72e326ae291e54551"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aea0489ce67107ae72e326ae291e54551">mod_q3shader_force_terrain_alphaflag</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_force_terrain_alphaflag&quot;, &quot;0&quot;, &quot;for <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">multilayered</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">terrain</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shaders</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force</a> <a class="el" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> flag <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">both</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">layers&quot;</a>}</td></tr>
<tr class="separator:aea0489ce67107ae72e326ae291e54551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be417cadbf6c9b911c7db3e34a56c91" id="r_a4be417cadbf6c9b911c7db3e34a56c91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a4be417cadbf6c9b911c7db3e34a56c91">mod_q2bsp_littransparentsurfaces</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q2bsp_littransparentsurfaces&quot;, &quot;0&quot;, &quot;allows lighting <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rain</a> in 3<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3gloom3</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> other <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cases</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transparent</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">were</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignored</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quake2&quot;</a>}</td></tr>
<tr class="separator:a4be417cadbf6c9b911c7db3e34a56c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b65a206ef2c1bbdebf041ce37adfad" id="r_ae0b65a206ef2c1bbdebf041ce37adfad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ae0b65a206ef2c1bbdebf041ce37adfad">mod_q1bsp_polygoncollisions</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q1bsp_polygoncollisions&quot;, &quot;0&quot;, &quot;disables use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">precomputed</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliphulls</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">instead</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collides</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">polygons</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uses</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Bounding</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Interval</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Hierarchy</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">optimizations</a>)&quot;}</td></tr>
<tr class="separator:ae0b65a206ef2c1bbdebf041ce37adfad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91b1224b81a803f43adf67155fe0bbb" id="r_ac91b1224b81a803f43adf67155fe0bbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ac91b1224b81a803f43adf67155fe0bbb">mod_q1bsp_zero_hullsize_cutoff</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q1bsp_zero_hullsize_cutoff&quot;, &quot;3&quot;, &quot;bboxes <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">an</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">X</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dimension</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smaller</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smallest</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliphull</a> (0x0x0) <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">instead</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">being</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rounded</a> <a class="el" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">player</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliphull</a> (32<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x32x56</a>) in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Q1BSP</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">or</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crouching</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">player</a> (32<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x32x36</a>) in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">HLBSP&quot;</a>}</td></tr>
<tr class="separator:ac91b1224b81a803f43adf67155fe0bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391c56aad79c870bd52702ab037bf5f3" id="r_a391c56aad79c870bd52702ab037bf5f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a391c56aad79c870bd52702ab037bf5f3">mod_bsp_portalize</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_bsp_portalize&quot;, &quot;1&quot;, &quot;enables <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">generation</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">BSP</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tree</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">take</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">several</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> map), used <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="gl__rmain_8c.html#a70983447125bcf394ff82180020aa42b">r_drawportals</a>, <a class="el" href="gl__rsurf_8c.html#a66aa746acaa20ce0ce82b02779e39238">r_useportalculling</a>, <a class="el" href="r__shadow_8c.html#ac41307501be00f584997e2b3d255c5d4">r_shadow_realtime_dlight_portalculling</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r_shadow_realtime_world_compileportalculling&quot;</a>}</td></tr>
<tr class="separator:a391c56aad79c870bd52702ab037bf5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c88eeacff4de9e240deddb1f24e5b05" id="r_a8c88eeacff4de9e240deddb1f24e5b05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a8c88eeacff4de9e240deddb1f24e5b05">mod_recalculatenodeboxes</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_recalculatenodeboxes&quot;, &quot;1&quot;, &quot;enables use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="crypto-keygen-standalone_8c.html#a9bdb9c0d13ae4ae40a0de32f15bc1792">generated</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bounding</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxes</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">based</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">BSP</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tree</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reconstruction</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rather</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxes</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">supplied</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> map <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">compiler&quot;</a>}</td></tr>
<tr class="separator:a8c88eeacff4de9e240deddb1f24e5b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb66a8936f34a990e2385c092115ef3c" id="r_afb66a8936f34a990e2385c092115ef3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#afb66a8936f34a990e2385c092115ef3c">mod_obj_orientation</a> = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_obj_orientation&quot;, &quot;1&quot;, &quot;fix orientation <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">OBJ</a> <a class="el" href="model__shared_8c.html#a7ff8405e122ded38c33c66249c7a4b04">models</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">usual</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conventions</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">zero</a>, use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coordinates</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a>)&quot;}</td></tr>
<tr class="separator:afb66a8936f34a990e2385c092115ef3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40de04e418ff6bc94e72b734af93f959" id="r_a40de04e418ff6bc94e72b734af93f959"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structtexture__t.html">texture_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a></td></tr>
<tr class="separator:a40de04e418ff6bc94e72b734af93f959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13dbd03d7dc32c52f9ed6828b46632db" id="r_a13dbd03d7dc32c52f9ed6828b46632db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structtexture__t.html">texture_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a></td></tr>
<tr class="separator:a13dbd03d7dc32c52f9ed6828b46632db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798b11b47ef2a1aa05deacd3f1180422" id="r_a798b11b47ef2a1aa05deacd3f1180422"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structtexture__t.html">texture_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a></td></tr>
<tr class="separator:a798b11b47ef2a1aa05deacd3f1180422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bbf3b106367456b4a17e45a6d43bca5" id="r_a9bbf3b106367456b4a17e45a6d43bca5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structtexture__t.html">texture_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a></td></tr>
<tr class="separator:a9bbf3b106367456b4a17e45a6d43bca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2087fc3011df59ce59055fbc965bae3" id="r_ae2087fc3011df59ce59055fbc965bae3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structtexture__t.html">texture_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a></td></tr>
<tr class="separator:ae2087fc3011df59ce59055fbc965bae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada114ab9ac14d4164089d1652a502f2c" id="r_ada114ab9ac14d4164089d1652a502f2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcvar__t.html">cvar_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a></td></tr>
<tr class="separator:ada114ab9ac14d4164089d1652a502f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5aebb75e69af216675eee8e12e3410" id="r_a0f5aebb75e69af216675eee8e12e3410"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structmemexpandablearray__t.html">memexpandablearray_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a></td></tr>
<tr class="separator:a0f5aebb75e69af216675eee8e12e3410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5a93035ac6c7c31cd9edc1881918f1b" id="r_aa5a93035ac6c7c31cd9edc1881918f1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a></td></tr>
<tr class="separator:aa5a93035ac6c7c31cd9edc1881918f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566ab79365a9f4094e230dcbbbba40f8" id="r_a566ab79365a9f4094e230dcbbbba40f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a></td></tr>
<tr class="separator:a566ab79365a9f4094e230dcbbbba40f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e288b83e89d9aa4108c9825712fdc4f" id="r_a9e288b83e89d9aa4108c9825712fdc4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#a9e288b83e89d9aa4108c9825712fdc4f">portalpointsbuffersize</a></td></tr>
<tr class="separator:a9e288b83e89d9aa4108c9825712fdc4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbda5b0afd9f83ba77a16e6536a3b0a9" id="r_abbda5b0afd9f83ba77a16e6536a3b0a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model__brush_8c.html#abbda5b0afd9f83ba77a16e6536a3b0a9">nobsp_pvs</a> [1] = {1}</td></tr>
<tr class="separator:abbda5b0afd9f83ba77a16e6536a3b0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a82ee37356bf84e55ca09a66547ec4899" name="a82ee37356bf84e55ca09a66547ec4899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82ee37356bf84e55ca09a66547ec4899">&#9670;&#160;</a></span>DIST_EPSILON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> DIST_EPSILON&#160;&#160;&#160;(0.03125)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00679">679</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

</div>
</div>
<a id="a0e2621494b75fbf3497a15da4a362aaa" name="a0e2621494b75fbf3497a15da4a362aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2621494b75fbf3497a15da4a362aaa">&#9670;&#160;</a></span>HULLCHECKSTATE_DONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> HULLCHECKSTATE_DONE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00683">683</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

</div>
</div>
<a id="a0679d21941f0570a34bfadfbece40db4" name="a0679d21941f0570a34bfadfbece40db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0679d21941f0570a34bfadfbece40db4">&#9670;&#160;</a></span>HULLCHECKSTATE_EMPTY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> HULLCHECKSTATE_EMPTY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00681">681</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

</div>
</div>
<a id="a01835d2d4551ed76732905359bf9f3d4" name="a01835d2d4551ed76732905359bf9f3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01835d2d4551ed76732905359bf9f3d4">&#9670;&#160;</a></span>HULLCHECKSTATE_SOLID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> HULLCHECKSTATE_SOLID&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00682">682</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

</div>
</div>
<a id="a2030006882ac19296436d60265e1a000" name="a2030006882ac19296436d60265e1a000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2030006882ac19296436d60265e1a000">&#9670;&#160;</a></span>MAX_PORTALPOINTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> MAX_PORTALPOINTS&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03365">3365</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

</div>
</div>
<a id="adf2c201d8369a5dc59ee7df4938f533e" name="adf2c201d8369a5dc59ee7df4938f533e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf2c201d8369a5dc59ee7df4938f533e">&#9670;&#160;</a></span>PATCHTESS_SAME_LODGROUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> PATCHTESS_SAME_LODGROUP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ( \</div>
<div class="line">        (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>).lodgroup[0] == (<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>).lodgroup[0] &amp;&amp; \</div>
<div class="line">        (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>).lodgroup[1] == (<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>).lodgroup[1] &amp;&amp; \</div>
<div class="line">        (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>).lodgroup[2] == (<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>).lodgroup[2] &amp;&amp; \</div>
<div class="line">        (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>).lodgroup[3] == (<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>).lodgroup[3] &amp;&amp; \</div>
<div class="line">        (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>).lodgroup[4] == (<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>).lodgroup[4] &amp;&amp; \</div>
<div class="line">        (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>).lodgroup[5] == (<a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>).lodgroup[5] \</div>
<div class="line">    )</div>
<div class="ttc" id="ashader__glsl_8h_html_ac369ee41cd9c6dc18e09c3293e27cf81"><div class="ttname"><a href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a></div><div class="ttdeci">dp_FragColor b</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00386">shader_glsl.h:386</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ada7daae51ef1e670767c18b83ea78044"><div class="ttname"><a href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a></div><div class="ttdeci">ret a</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00296">shader_glsl.h:296</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05773">5773</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

</div>
</div>
<a id="a7cd706b4dd443e5b63a4fe0558574a2a" name="a7cd706b4dd443e5b63a4fe0558574a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd706b4dd443e5b63a4fe0558574a2a">&#9670;&#160;</a></span>PORTAL_DIST_EPSILON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> PORTAL_DIST_EPSILON&#160;&#160;&#160;(1.0 / 32.0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03598">3598</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abc0a5e5ccd56ce8d2ec7f5da8a2646a3" name="abc0a5e5ccd56ce8d2ec7f5da8a2646a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">&#9670;&#160;</a></span>AddPortalToNodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> AddPortalToNodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structportal__t.html">portal_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>front</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>back</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03530">3530</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3531</span>{</div>
<div class="line"><span class="lineno"> 3532</span>    <span class="keywordflow">if</span> (!front)</div>
<div class="line"><span class="lineno"> 3533</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;AddPortalToNodes: NULL front node&quot;</span>);</div>
<div class="line"><span class="lineno"> 3534</span>    <span class="keywordflow">if</span> (!back)</div>
<div class="line"><span class="lineno"> 3535</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;AddPortalToNodes: NULL back node&quot;</span>);</div>
<div class="line"><span class="lineno"> 3536</span>    <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0] || p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1])</div>
<div class="line"><span class="lineno"> 3537</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;AddPortalToNodes: already included&quot;</span>);</div>
<div class="line"><span class="lineno"> 3538</span>    <span class="comment">// note: front == back is handled gracefully, because leaf 0 is the shared solid leaf, it can often have portals with the same leaf on both sides</span></div>
<div class="line"><span class="lineno"> 3539</span> </div>
<div class="line"><span class="lineno"> 3540</span>    p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0] = front;</div>
<div class="line"><span class="lineno"> 3541</span>    p-&gt;<a class="code hl_variable" href="structportal__t.html#ad939f81b378c80bbfd869cc6860c892b">next</a>[0] = (<a class="code hl_struct" href="structportal__t.html">portal_t</a> *)front-&gt;<a class="code hl_variable" href="structmnode__t.html#a6800a221c2bbbe96d5babad757a1178b">portals</a>;</div>
<div class="line"><span class="lineno"> 3542</span>    front-&gt;<a class="code hl_variable" href="structmnode__t.html#a6800a221c2bbbe96d5babad757a1178b">portals</a> = (<a class="code hl_struct" href="structmportal__t.html">mportal_t</a> *)p;</div>
<div class="line"><span class="lineno"> 3543</span> </div>
<div class="line"><span class="lineno"> 3544</span>    p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1] = back;</div>
<div class="line"><span class="lineno"> 3545</span>    p-&gt;<a class="code hl_variable" href="structportal__t.html#ad939f81b378c80bbfd869cc6860c892b">next</a>[1] = (<a class="code hl_struct" href="structportal__t.html">portal_t</a> *)back-&gt;<a class="code hl_variable" href="structmnode__t.html#a6800a221c2bbbe96d5babad757a1178b">portals</a>;</div>
<div class="line"><span class="lineno"> 3546</span>    back-&gt;<a class="code hl_variable" href="structmnode__t.html#a6800a221c2bbbe96d5babad757a1178b">portals</a> = (<a class="code hl_struct" href="structmportal__t.html">mportal_t</a> *)p;</div>
<div class="line"><span class="lineno"> 3547</span>}</div>
<div class="ttc" id="ahost_8c_html_a6207a721d43b13be42aa21a2bb4d3350"><div class="ttname"><a href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a></div><div class="ttdeci">void Host_Error(const char *error,...)</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00086">host.c:86</a></div></div>
<div class="ttc" id="astructmnode__t_html_a6800a221c2bbbe96d5babad757a1178b"><div class="ttname"><a href="structmnode__t.html#a6800a221c2bbbe96d5babad757a1178b">mnode_t::portals</a></div><div class="ttdeci">struct mportal_s * portals</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00158">model_brush.h:158</a></div></div>
<div class="ttc" id="astructmportal__t_html"><div class="ttname"><a href="structmportal__t.html">mportal_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00219">model_brush.h:220</a></div></div>
<div class="ttc" id="astructportal__t_html"><div class="ttname"><a href="structportal__t.html">portal_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03367">model_brush.c:3368</a></div></div>
<div class="ttc" id="astructportal__t_html_a69101c9864756778f5157f7d81d92c37"><div class="ttname"><a href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">portal_t::nodes</a></div><div class="ttdeci">mnode_t * nodes[2]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03370">model_brush.c:3370</a></div></div>
<div class="ttc" id="astructportal__t_html_ad939f81b378c80bbfd869cc6860c892b"><div class="ttname"><a href="structportal__t.html#ad939f81b378c80bbfd869cc6860c892b">portal_t::next</a></div><div class="ttdeci">struct portal_s * next[2]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03371">model_brush.c:3371</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03602">Mod_BSP_RecursiveNodePortals()</a>.</p>

</div>
</div>
<a id="aee0678216b5049b8709203391339e5c0" name="aee0678216b5049b8709203391339e5c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee0678216b5049b8709203391339e5c0">&#9670;&#160;</a></span>Collision_ClipTrace_Box()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Collision_ClipTrace_Box </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>cmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>cmaxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>mins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>maxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>boxsupercontents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>boxq3surfaceflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structtexture__t.html">texture_t</a> *&#160;</td>
          <td class="paramname"><em>boxtexture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01051">1051</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1052</span>{</div>
<div class="line"><span class="lineno"> 1053</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno"> 1054</span>    <a class="code hl_struct" href="structcolbrushf__t.html">colbrushf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>;</div>
<div class="line"><span class="lineno"> 1055</span>    <a class="code hl_struct" href="structcolplanef__t.html">colplanef_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[6];</div>
<div class="line"><span class="lineno"> 1056</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.isaabb = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1057</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.hasaabbplanes = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1058</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.supercontents = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsupercontents</a>;</div>
<div class="line"><span class="lineno"> 1059</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.numplanes = 6;</div>
<div class="line"><span class="lineno"> 1060</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.numpoints = 0;</div>
<div class="line"><span class="lineno"> 1061</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.numtriangles = 0;</div>
<div class="line"><span class="lineno"> 1062</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.planes = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>;</div>
<div class="line"><span class="lineno"> 1063</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.points = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1064</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.elements = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1065</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.markframe = 0;</div>
<div class="line"><span class="lineno"> 1066</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.mins[0] = 0;</div>
<div class="line"><span class="lineno"> 1067</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.mins[1] = 0;</div>
<div class="line"><span class="lineno"> 1068</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.mins[2] = 0;</div>
<div class="line"><span class="lineno"> 1069</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.maxs[0] = 0;</div>
<div class="line"><span class="lineno"> 1070</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.maxs[1] = 0;</div>
<div class="line"><span class="lineno"> 1071</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>.maxs[2] = 0;</div>
<div class="line"><span class="lineno"> 1072</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[0].<a class="code hl_variable" href="structcolplanef__t.html#a5a6ccada7de1ad919c7b5876e00a2ccd">normal</a>[0] =  1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[0].normal[1] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[0].normal[2] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[0].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[0] - mins[0];</div>
<div class="line"><span class="lineno"> 1073</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[1].normal[0] = -1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[1].normal[1] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[1].normal[2] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[1].dist = maxs[0] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[0];</div>
<div class="line"><span class="lineno"> 1074</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[2].normal[0] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[2].normal[1] =  1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[2].normal[2] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[2].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[1] - mins[1];</div>
<div class="line"><span class="lineno"> 1075</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[3].normal[0] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[3].normal[1] = -1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[3].normal[2] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[3].dist = maxs[1] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[1];</div>
<div class="line"><span class="lineno"> 1076</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[4].normal[0] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[4].normal[1] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[4].normal[2] =  1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[4].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[2] - mins[2];</div>
<div class="line"><span class="lineno"> 1077</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[5].normal[0] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[5].normal[1] =  0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[5].normal[2] = -1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[5].dist = maxs[2] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[2];</div>
<div class="line"><span class="lineno"> 1078</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[0].q3surfaceflags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxq3surfaceflags</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[0].texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxtexture</a>;</div>
<div class="line"><span class="lineno"> 1079</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[1].q3surfaceflags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxq3surfaceflags</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[1].texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxtexture</a>;</div>
<div class="line"><span class="lineno"> 1080</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[2].q3surfaceflags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxq3surfaceflags</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[2].texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxtexture</a>;</div>
<div class="line"><span class="lineno"> 1081</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[3].q3surfaceflags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxq3surfaceflags</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[3].texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxtexture</a>;</div>
<div class="line"><span class="lineno"> 1082</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[4].q3surfaceflags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxq3surfaceflags</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[4].texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxtexture</a>;</div>
<div class="line"><span class="lineno"> 1083</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[5].q3surfaceflags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxq3surfaceflags</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox_planes</a>[5].texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxtexture</a>;</div>
<div class="line"><span class="lineno"> 1084</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno"> 1085</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1086</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1087</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 1088</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno"> 1089</span>    <a class="code hl_function" href="collision_8c.html#ace76d9667f9f0091625cc36c56562c94">Collision_TraceLineBrushFloat</a>(trace, start, end, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cbox</a>);</div>
<div class="line"><span class="lineno"> 1090</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1091</span>    <a class="code hl_struct" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>;</div>
<div class="line"><span class="lineno"> 1092</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structhull__t.html">hull_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_hull</a>;</div>
<div class="line"><span class="lineno"> 1093</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structmclipnode__t.html">mclipnode_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_clipnodes</a>[6];</div>
<div class="line"><span class="lineno"> 1094</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[6];</div>
<div class="line"><span class="lineno"> 1095</span>    <span class="comment">// fill in a default trace</span></div>
<div class="line"><span class="lineno"> 1096</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>));</div>
<div class="line"><span class="lineno"> 1097</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno"> 1098</span>    <span class="comment">//To keep everything totally uniform, bounding boxes are turned into small</span></div>
<div class="line"><span class="lineno"> 1099</span>    <span class="comment">//BSP trees instead of being compared directly.</span></div>
<div class="line"><span class="lineno"> 1100</span>    <span class="comment">// create a temp hull from bounding box sizes</span></div>
<div class="line"><span class="lineno"> 1101</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[0].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[0] - mins[0];</div>
<div class="line"><span class="lineno"> 1102</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[1].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[0] - maxs[0];</div>
<div class="line"><span class="lineno"> 1103</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[2].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[1] - mins[1];</div>
<div class="line"><span class="lineno"> 1104</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[3].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[1] - maxs[1];</div>
<div class="line"><span class="lineno"> 1105</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[4].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[2] - mins[2];</div>
<div class="line"><span class="lineno"> 1106</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[5].dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[2] - maxs[2];</div>
<div class="line"><span class="lineno"> 1107</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno"> 1108</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;box_planes %f:%f %f:%f %f:%f\ncbox %f %f %f:%f %f %f\nbox %f %f %f:%f %f %f\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[0].dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[1].dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[2].dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[3].dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[4].dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[5].dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>[2], mins[0], mins[1], mins[2], maxs[0], maxs[1], maxs[2]);</div>
<div class="line"><span class="lineno"> 1109</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_hull</a>.clipnodes == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1112</span>    {</div>
<div class="line"><span class="lineno"> 1113</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>;</div>
<div class="line"><span class="lineno"> 1114</span> </div>
<div class="line"><span class="lineno"> 1115</span>        <span class="comment">//Set up the planes and clipnodes so that the six floats of a bounding box</span></div>
<div class="line"><span class="lineno"> 1116</span>        <span class="comment">//can just be stored out and get a proper hull_t structure.</span></div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_hull</a>.clipnodes = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_clipnodes</a>;</div>
<div class="line"><span class="lineno"> 1119</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_hull</a>.planes = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>;</div>
<div class="line"><span class="lineno"> 1120</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_hull</a>.firstclipnode = 0;</div>
<div class="line"><span class="lineno"> 1121</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_hull</a>.lastclipnode = 5;</div>
<div class="line"><span class="lineno"> 1122</span> </div>
<div class="line"><span class="lineno"> 1123</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1124</span>        {</div>
<div class="line"><span class="lineno"> 1125</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_clipnodes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].planenum = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1126</span> </div>
<div class="line"><span class="lineno"> 1127</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&amp;1;</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_clipnodes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>] = <a class="code hl_define" href="bspfile_8h.html#af408f18a1c9fcfe68dc88036d6186522">CONTENTS_EMPTY</a>;</div>
<div class="line"><span class="lineno"> 1130</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != 5)</div>
<div class="line"><span class="lineno"> 1131</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_clipnodes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>^1] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1;</div>
<div class="line"><span class="lineno"> 1132</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1133</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_clipnodes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>^1] = <a class="code hl_define" href="bspfile_8h.html#a9b61ab90973e8137f342425ab3191cbe">CONTENTS_SOLID</a>;</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].type = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;&gt;1;</div>
<div class="line"><span class="lineno"> 1136</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_planes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].normal[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;&gt;1] = 1;</div>
<div class="line"><span class="lineno"> 1137</span>        }</div>
<div class="line"><span class="lineno"> 1138</span>    }</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>    <span class="comment">// trace a line through the generated clipping hull</span></div>
<div class="line"><span class="lineno"> 1141</span>    <span class="comment">//rhc.boxsupercontents = boxsupercontents;</span></div>
<div class="line"><span class="lineno"> 1142</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">box_hull</a>;</div>
<div class="line"><span class="lineno"> 1143</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace = trace;</div>
<div class="line"><span class="lineno"> 1144</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1145</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipsupercontentsmask = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1146</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipmaterialflagsmask = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 1147</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction = 1;</div>
<div class="line"><span class="lineno"> 1148</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;allsolid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1149</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start);</div>
<div class="line"><span class="lineno"> 1150</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno"> 1151</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist);</div>
<div class="line"><span class="lineno"> 1152</span>    <a class="code hl_function" href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode, 0, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno"> 1153</span>    <span class="comment">//VectorMA(rhc.start, rhc.trace-&gt;fraction, rhc.dist, rhc.trace-&gt;endpos);</span></div>
<div class="line"><span class="lineno"> 1154</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;startsupercontents)</div>
<div class="line"><span class="lineno"> 1155</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;startsupercontents = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsupercontents</a>;</div>
<div class="line"><span class="lineno"> 1156</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1157</span>}</div>
<div class="ttc" id="abspfile_8h_html_a9b61ab90973e8137f342425ab3191cbe"><div class="ttname"><a href="bspfile_8h.html#a9b61ab90973e8137f342425ab3191cbe">CONTENTS_SOLID</a></div><div class="ttdeci">#define CONTENTS_SOLID</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00134">bspfile.h:134</a></div></div>
<div class="ttc" id="abspfile_8h_html_af408f18a1c9fcfe68dc88036d6186522"><div class="ttname"><a href="bspfile_8h.html#af408f18a1c9fcfe68dc88036d6186522">CONTENTS_EMPTY</a></div><div class="ttdeci">#define CONTENTS_EMPTY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00133">bspfile.h:133</a></div></div>
<div class="ttc" id="acollision_8c_html_ace76d9667f9f0091625cc36c56562c94"><div class="ttname"><a href="collision_8c.html#ace76d9667f9f0091625cc36c56562c94">Collision_TraceLineBrushFloat</a></div><div class="ttdeci">void Collision_TraceLineBrushFloat(trace_t *trace, const vec3_t linestart, const vec3_t lineend, const colbrushf_t *other_start, const colbrushf_t *other_end)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l00760">collision.c:760</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="amathlib_8h_html_accb62c1cf8b53e0446be03f3d5899a68"><div class="ttname"><a href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a></div><div class="ttdeci">#define VectorCopy(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00100">mathlib.h:100</a></div></div>
<div class="ttc" id="amathlib_8h_html_adb186b506beeecc27d7222f69e4496f5"><div class="ttname"><a href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a></div><div class="ttdeci">#define VectorSubtract(a, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00098">mathlib.h:98</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a8d43db3c6411b8f6185db74c7466b15a"><div class="ttname"><a href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a></div><div class="ttdeci">static int Mod_Q1BSP_RecursiveHullCheck(RecursiveHullCheckTraceInfo_t *t, int num, double p1f, double p2f, double p1[3], double p2[3])</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00685">model_brush.c:685</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="astructRecursiveHullCheckTraceInfo__t_html"><div class="ttname"><a href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00663">model_brush.c:664</a></div></div>
<div class="ttc" id="astructcolbrushf__t_html"><div class="ttname"><a href="structcolbrushf__t.html">colbrushf_t</a></div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00104">collision.h:105</a></div></div>
<div class="ttc" id="astructcolplanef__t_html"><div class="ttname"><a href="structcolplanef__t.html">colplanef_t</a></div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00088">collision.h:89</a></div></div>
<div class="ttc" id="astructcolplanef__t_html_a5a6ccada7de1ad919c7b5876e00a2ccd"><div class="ttname"><a href="structcolplanef__t.html#a5a6ccada7de1ad919c7b5876e00a2ccd">colplanef_t::normal</a></div><div class="ttdeci">vec3_t normal</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00096">collision.h:96</a></div></div>
<div class="ttc" id="astructhull__t_html"><div class="ttname"><a href="structhull__t.html">hull_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00207">model_brush.h:208</a></div></div>
<div class="ttc" id="astructmclipnode__t_html"><div class="ttname"><a href="structmclipnode__t.html">mclipnode_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00201">model_brush.h:202</a></div></div>
<div class="ttc" id="astructmplane__t_html"><div class="ttname"><a href="structmplane__t.html">mplane_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00053">model_brush.h:54</a></div></div>
<div class="ttc" id="astructtrace__t_html"><div class="ttname"><a href="structtrace__t.html">trace_t</a></div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00021">collision.h:22</a></div></div>
<div class="ttc" id="astructtrace__t_html_a2a9d8f24791ef9411bc4b6ecc508c03d"><div class="ttname"><a href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">trace_t::hitsupercontentsmask</a></div><div class="ttdeci">int hitsupercontentsmask</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00050">collision.h:50</a></div></div>
<div class="ttc" id="astructtrace__t_html_a37cb2b7f426f5a76265ddb8e7918a099"><div class="ttname"><a href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">trace_t::fraction</a></div><div class="ttdeci">double fraction</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00040">collision.h:40</a></div></div>
<div class="ttc" id="astructtrace__t_html_a8d3acccf1bba2c2d7efb06e7c9de55a0"><div class="ttname"><a href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">trace_t::skipsupercontentsmask</a></div><div class="ttdeci">int skipsupercontentsmask</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00052">collision.h:52</a></div></div>
<div class="ttc" id="astructtrace__t_html_addd03354b36d3a4b9c1d0f1e3533e228"><div class="ttname"><a href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">trace_t::skipmaterialflagsmask</a></div><div class="ttdeci">int skipmaterialflagsmask</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00054">collision.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__collision_8c_source.html#l00005">CL_SelectTraceLine()</a>, <a class="el" href="collision_8c_source.html#l01844">Collision_ClipLineToGenericEntity()</a>, and <a class="el" href="collision_8c_source.html#l01791">Collision_ClipToGenericEntity()</a>.</p>

</div>
</div>
<a id="a79fe425c355a6955620b40404e46026b" name="a79fe425c355a6955620b40404e46026b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79fe425c355a6955620b40404e46026b">&#9670;&#160;</a></span>Collision_ClipTrace_Point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Collision_ClipTrace_Point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>cmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>cmaxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>boxsupercontents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>boxq3surfaceflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structtexture__t.html">texture_t</a> *&#160;</td>
          <td class="paramname"><em>boxtexture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01159">1159</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1160</span>{</div>
<div class="line"><span class="lineno"> 1161</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno"> 1162</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno"> 1163</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1164</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1165</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 1166</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(start, start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmaxs</a>))</div>
<div class="line"><span class="lineno"> 1167</span>    {</div>
<div class="line"><span class="lineno"> 1168</span>        trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a> |= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsupercontents</a>;</div>
<div class="line"><span class="lineno"> 1169</span>        <span class="keywordflow">if</span> ((hitsupercontentsmask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsupercontents</a>) &amp;&amp; !(skipsupercontentsmask &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsupercontents</a>))</div>
<div class="line"><span class="lineno"> 1170</span>        {</div>
<div class="line"><span class="lineno"> 1171</span>            trace-&gt;<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1172</span>            trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1173</span>        }</div>
<div class="line"><span class="lineno"> 1174</span>    }</div>
<div class="line"><span class="lineno"> 1175</span>}</div>
<div class="ttc" id="amathlib_8h_html_a3f4b2cfbd3195eddeb10b2e14b7e4d8c"><div class="ttname"><a href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a></div><div class="ttdeci">#define BoxesOverlap(a, b, c, d)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00121">mathlib.h:121</a></div></div>
<div class="ttc" id="astructtrace__t_html_a78edab108c78f91aaa4aec7aee8b898a"><div class="ttname"><a href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">trace_t::startsupercontents</a></div><div class="ttdeci">int startsupercontents</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00056">collision.h:56</a></div></div>
<div class="ttc" id="astructtrace__t_html_a86354cfb27bae65838c8e79d5072029e"><div class="ttname"><a href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">trace_t::allsolid</a></div><div class="ttdeci">qbool allsolid</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00024">collision.h:24</a></div></div>
<div class="ttc" id="astructtrace__t_html_acdb0fead79cd57e41a0131ce110ab1f6"><div class="ttname"><a href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">trace_t::startsolid</a></div><div class="ttdeci">qbool startsolid</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00026">collision.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="collision_8c_source.html#l01883">Collision_ClipPointToGenericEntity()</a>.</p>

</div>
</div>
<a id="aa97ba64018e81191a09ab52702cbd9c0" name="aa97ba64018e81191a09ab52702cbd9c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa97ba64018e81191a09ab52702cbd9c0">&#9670;&#160;</a></span>Mod_2PSB_Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_2PSB_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03858">3858</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3859</span>{</div>
<div class="line"><span class="lineno"> 3860</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3861</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa01eebc58454df076313c2e68b9a7d30">isbsp2rmqe</a> = <span class="keyword">true</span>; <span class="comment">// like bsp2 except leaf/node bounds are 16bit (unexpanded)</span></div>
<div class="line"><span class="lineno"> 3862</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a> = <span class="stringliteral">&quot;Q1BSP2rmqe&quot;</span>;</div>
<div class="line"><span class="lineno"> 3863</span>    <a class="code hl_function" href="model__brush_8c.html#ac7951bc8a426acde1bd108694921f5b7">Mod_Q1BSP_Load</a>(mod, <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>);</div>
<div class="line"><span class="lineno"> 3864</span>}</div>
<div class="ttc" id="aglquake_8h_html_a39774db434725e51f4ad4c04150ed6a1"><div class="ttname"><a href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00629">glquake.h:629</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ac7951bc8a426acde1bd108694921f5b7"><div class="ttname"><a href="model__brush_8c.html#ac7951bc8a426acde1bd108694921f5b7">Mod_Q1BSP_Load</a></div><div class="ttdeci">void Mod_Q1BSP_Load(model_t *mod, void *buffer, void *bufferend)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03880">model_brush.c:3880</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_aa01eebc58454df076313c2e68b9a7d30"><div class="ttname"><a href="structmodel__brush__t.html#aa01eebc58454df076313c2e68b9a7d30">model_brush_t::isbsp2rmqe</a></div><div class="ttdeci">qbool isbsp2rmqe</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00256">model_brush.h:256</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_affea1879c06e97c155a1bc436caa54dc"><div class="ttname"><a href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">model_brush_t::isbsp2</a></div><div class="ttdeci">qbool isbsp2</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00258">model_brush.h:258</a></div></div>
<div class="ttc" id="astructmodel__t_html_a04530a5055aa78902f674f53fa284a37"><div class="ttname"><a href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">model_t::brush</a></div><div class="ttdeci">model_brush_t brush</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00541">model_shared.h:541</a></div></div>
<div class="ttc" id="astructmodel__t_html_abbf92c31375e570dba8224c43a8a5617"><div class="ttname"><a href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">model_t::modeldatatypestring</a></div><div class="ttdeci">const char * modeldatatypestring</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00505">model_shared.h:505</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5881b3f28f05bc619c7847536733031f" name="a5881b3f28f05bc619c7847536733031f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5881b3f28f05bc619c7847536733031f">&#9670;&#160;</a></span>Mod_BrushInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BrushInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00079">79</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>{</div>
<div class="line"><span class="lineno">   81</span><span class="comment">//  Cvar_RegisterVariable(&amp;r_subdivide_size);</span></div>
<div class="line"><span class="lineno">   82</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a391c56aad79c870bd52702ab037bf5f3">mod_bsp_portalize</a>);</div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#ac2f5bcbdde0eeff0af04664542f0ef9b">r_novis</a>);</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#abb7917fc21445a7234319982fa84ba1c">r_nosurftextures</a>);</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#ae3cbbf35c2258fb3bd1607d0171bb148">r_subdivisions_tolerance</a>);</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#adf320b246049b55161c9a6a223af426e">r_subdivisions_mintess</a>);</div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#af6e5a6066a70a42b432f9f35deebf073">r_subdivisions_maxtess</a>);</div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#aed121aa80abb387aa4a9c7b177d9a307">r_subdivisions_maxvertices</a>);</div>
<div class="line"><span class="lineno">   89</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a7ed843bf3dc52e2c5c803ac13eb27d02">mod_q3bsp_curves_subdivisions_tolerance</a>);</div>
<div class="line"><span class="lineno">   90</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a722fa06637534ed172979d9efdc1edfa">mod_q3bsp_curves_subdivisions_mintess</a>);</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a12f451c875a0fff37acefa16c02a8675">mod_q3bsp_curves_subdivisions_maxtess</a>);</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a1d9e359efa27457637ff9add808b971c">mod_q3bsp_curves_subdivisions_maxvertices</a>);</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#ad36726f56533f8ed61f03c9bf2faa194">r_trippy</a>);</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a6a90d29a2909b3cbae37702ff37a32cf">mod_noshader_default_offsetmapping</a>);</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#afb66a8936f34a990e2385c092115ef3c">mod_obj_orientation</a>);</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a4be417cadbf6c9b911c7db3e34a56c91">mod_q2bsp_littransparentsurfaces</a>);</div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#abe9f2e61643f66842fb9bcaee9bbad03">mod_q3bsp_curves_collisions</a>);</div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#acba7bb4a4ae9aea271029413e66152b8">mod_q3bsp_optimizedtraceline</a>);</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a6528b0a888ca229c2a6efab1a9c613e8">mod_q3bsp_lightmapmergepower</a>);</div>
<div class="line"><span class="lineno">  100</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a78fb22b957e64a3049781239ee353d70">mod_q3bsp_nolightmaps</a>);</div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a9260109f82a8e564ade6ada3c0488831">mod_q3bsp_sRGBlightmaps</a>);</div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a7be57207f43c552586a464adfa683162">mod_q3bsp_lightgrid_texture</a>);</div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a4c46bdcefa7955db6648bdee421f7a1c">mod_q3bsp_lightgrid_world_surfaces</a>);</div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#ab60dd7086b57b436ec3f6b38b85053dd">mod_q3bsp_lightgrid_bsp_surfaces</a>);</div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a977afe81d17987198f3300477166cb0b">mod_q3bsp_tracelineofsight_brushes</a>);</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#ab6d45f381afbd7c8c9959eac47a44cc6">mod_q3shader_default_offsetmapping</a>);</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a7f00470ea93c0f84375f173474a7eecd">mod_q3shader_default_offsetmapping_scale</a>);</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a9eb6a9818cb417d26aa0ad5fb8f8317a">mod_q3shader_default_offsetmapping_bias</a>);</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a5c53c9f45678f786c4d69e9de5a9f867">mod_q3shader_default_polygonfactor</a>);</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a9bec9df854f7b675fcc53c8107d07fb1">mod_q3shader_default_polygonoffset</a>);</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#afd3d52aa21b8bb25950df31b101c10b4">mod_q3shader_default_refractive_index</a>);</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a225a2689c7f8a4f64afd0f7f82ac8c6e">mod_q3shader_force_addalpha</a>);</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#aea0489ce67107ae72e326ae291e54551">mod_q3shader_force_terrain_alphaflag</a>);</div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#ae0b65a206ef2c1bbdebf041ce37adfad">mod_q1bsp_polygoncollisions</a>);</div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#ac91b1224b81a803f43adf67155fe0bbb">mod_q1bsp_zero_hullsize_cutoff</a>);</div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a8c88eeacff4de9e240deddb1f24e5b05">mod_recalculatenodeboxes</a>);</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    <span class="comment">// these games were made for older DP engines and are no longer</span></div>
<div class="line"><span class="lineno">  119</span>    <span class="comment">// maintained; use this hack to show their textures properly</span></div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea0bb3ab6029ab1c1582d318725b81d0cc">GAME_NEXUIZ</a>)</div>
<div class="line"><span class="lineno">  121</span>        <a class="code hl_function" href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a225a2689c7f8a4f64afd0f7f82ac8c6e">mod_q3shader_force_addalpha</a>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>));</div>
<div class="line"><span class="lineno">  124</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>, <span class="stringliteral">&quot;solid&quot;</span> , <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>));</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a> = 0;</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a> = <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_variable" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a> = <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>;</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>, <span class="stringliteral">&quot;sky&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>));</div>
<div class="line"><span class="lineno">  130</span>    <a class="code hl_variable" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a> = <a class="code hl_define" href="model__q3bsp_8h.html#a3419225ac529b57d5f8fdfd0842c6451">Q3SURFACEFLAG_SKY</a> | <a class="code hl_define" href="model__q3bsp_8h.html#a7fb78b54cea0523f324ac2070a59420b">Q3SURFACEFLAG_NOIMPACT</a> | <a class="code hl_define" href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a> | <a class="code hl_define" href="model__q3bsp_8h.html#af04b6ae65ee17b83bae885bc113830c8">Q3SURFACEFLAG_NODLIGHT</a> | <a class="code hl_define" href="model__q3bsp_8h.html#a8a38a860b9780c723336b0dd1e1c24b9">Q3SURFACEFLAG_NOLIGHTMAP</a>;</div>
<div class="line"><span class="lineno">  131</span>    <a class="code hl_variable" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a> = <a class="code hl_define" href="bspfile_8h.html#a0a2fa78587a49f238efd2b5067e66361">SUPERCONTENTS_SKY</a> | <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a>;</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_variable" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a> = <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>;</div>
<div class="line"><span class="lineno">  134</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>, <span class="stringliteral">&quot;*lava&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>));</div>
<div class="line"><span class="lineno">  135</span>    <a class="code hl_variable" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a> = <a class="code hl_define" href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a>;</div>
<div class="line"><span class="lineno">  136</span>    <a class="code hl_variable" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a> = <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a> | <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a>;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <a class="code hl_variable" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a> = <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>;</div>
<div class="line"><span class="lineno">  139</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>, <span class="stringliteral">&quot;*slime&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>));</div>
<div class="line"><span class="lineno">  140</span>    <a class="code hl_variable" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a> = <a class="code hl_define" href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a>;</div>
<div class="line"><span class="lineno">  141</span>    <a class="code hl_variable" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a> = <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a> = <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>;</div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>, <span class="stringliteral">&quot;*water&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>.<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>));</div>
<div class="line"><span class="lineno">  145</span>    <a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a> = <a class="code hl_define" href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a>;</div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a> = <a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a>;</div>
<div class="line"><span class="lineno">  147</span>}</div>
<div class="ttc" id="abspfile_8h_html_a0a2fa78587a49f238efd2b5067e66361"><div class="ttname"><a href="bspfile_8h.html#a0a2fa78587a49f238efd2b5067e66361">SUPERCONTENTS_SKY</a></div><div class="ttdeci">#define SUPERCONTENTS_SKY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00200">bspfile.h:200</a></div></div>
<div class="ttc" id="abspfile_8h_html_a1c8c25328105edb0ce33da011b939a27"><div class="ttname"><a href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a></div><div class="ttdeci">#define SUPERCONTENTS_LAVA</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00199">bspfile.h:199</a></div></div>
<div class="ttc" id="abspfile_8h_html_a7528d0e1edabc785475a08a7890597ea"><div class="ttname"><a href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a></div><div class="ttdeci">#define SUPERCONTENTS_SLIME</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00198">bspfile.h:198</a></div></div>
<div class="ttc" id="abspfile_8h_html_a85f0acbb100ce4dc3c63037496d631d6"><div class="ttname"><a href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a></div><div class="ttdeci">#define SUPERCONTENTS_SOLID</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00196">bspfile.h:196</a></div></div>
<div class="ttc" id="abspfile_8h_html_aeae4f676c7d0c05384e4608a2d4d3153"><div class="ttname"><a href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a></div><div class="ttdeci">#define SUPERCONTENTS_NODROP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00203">bspfile.h:203</a></div></div>
<div class="ttc" id="abspfile_8h_html_af59d298899c2ac56a21f94c327776551"><div class="ttname"><a href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a></div><div class="ttdeci">#define SUPERCONTENTS_WATER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00197">bspfile.h:197</a></div></div>
<div class="ttc" id="acom__game_8c_html_a8261ff184d55a220fafab13efd735946"><div class="ttname"><a href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a></div><div class="ttdeci">gamemode_t gamemode</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00026">com_game.c:26</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825ea0bb3ab6029ab1c1582d318725b81d0cc"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea0bb3ab6029ab1c1582d318725b81d0cc">GAME_NEXUIZ</a></div><div class="ttdeci">@ GAME_NEXUIZ</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00033">com_game.h:33</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00298">common.h:298</a></div></div>
<div class="ttc" id="acvar_8c_html_a6f37a084abf4715928f1a004181866f8"><div class="ttname"><a href="cvar_8c.html#a6f37a084abf4715928f1a004181866f8">Cvar_SetQuick</a></div><div class="ttdeci">void Cvar_SetQuick(cvar_t *var, const char *value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00436">cvar.c:436</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a12f451c875a0fff37acefa16c02a8675"><div class="ttname"><a href="model__brush_8c.html#a12f451c875a0fff37acefa16c02a8675">mod_q3bsp_curves_subdivisions_maxtess</a></div><div class="ttdeci">cvar_t mod_q3bsp_curves_subdivisions_maxtess</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00040">model_brush.c:40</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a13dbd03d7dc32c52f9ed6828b46632db"><div class="ttname"><a href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a></div><div class="ttdeci">static texture_t mod_q1bsp_texture_sky</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00072">model_brush.c:72</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a1d9e359efa27457637ff9add808b971c"><div class="ttname"><a href="model__brush_8c.html#a1d9e359efa27457637ff9add808b971c">mod_q3bsp_curves_subdivisions_maxvertices</a></div><div class="ttdeci">cvar_t mod_q3bsp_curves_subdivisions_maxvertices</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00041">model_brush.c:41</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a225a2689c7f8a4f64afd0f7f82ac8c6e"><div class="ttname"><a href="model__brush_8c.html#a225a2689c7f8a4f64afd0f7f82ac8c6e">mod_q3shader_force_addalpha</a></div><div class="ttdeci">cvar_t mod_q3shader_force_addalpha</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00058">model_brush.c:58</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a391c56aad79c870bd52702ab037bf5f3"><div class="ttname"><a href="model__brush_8c.html#a391c56aad79c870bd52702ab037bf5f3">mod_bsp_portalize</a></div><div class="ttdeci">cvar_t mod_bsp_portalize</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00066">model_brush.c:66</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a40de04e418ff6bc94e72b734af93f959"><div class="ttname"><a href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a></div><div class="ttdeci">static texture_t mod_q1bsp_texture_solid</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00071">model_brush.c:71</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a4be417cadbf6c9b911c7db3e34a56c91"><div class="ttname"><a href="model__brush_8c.html#a4be417cadbf6c9b911c7db3e34a56c91">mod_q2bsp_littransparentsurfaces</a></div><div class="ttdeci">cvar_t mod_q2bsp_littransparentsurfaces</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00061">model_brush.c:61</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a4c46bdcefa7955db6648bdee421f7a1c"><div class="ttname"><a href="model__brush_8c.html#a4c46bdcefa7955db6648bdee421f7a1c">mod_q3bsp_lightgrid_world_surfaces</a></div><div class="ttdeci">cvar_t mod_q3bsp_lightgrid_world_surfaces</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00049">model_brush.c:49</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a5c53c9f45678f786c4d69e9de5a9f867"><div class="ttname"><a href="model__brush_8c.html#a5c53c9f45678f786c4d69e9de5a9f867">mod_q3shader_default_polygonfactor</a></div><div class="ttdeci">cvar_t mod_q3shader_default_polygonfactor</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00055">model_brush.c:55</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a6528b0a888ca229c2a6efab1a9c613e8"><div class="ttname"><a href="model__brush_8c.html#a6528b0a888ca229c2a6efab1a9c613e8">mod_q3bsp_lightmapmergepower</a></div><div class="ttdeci">cvar_t mod_q3bsp_lightmapmergepower</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00044">model_brush.c:44</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a6a90d29a2909b3cbae37702ff37a32cf"><div class="ttname"><a href="model__brush_8c.html#a6a90d29a2909b3cbae37702ff37a32cf">mod_noshader_default_offsetmapping</a></div><div class="ttdeci">cvar_t mod_noshader_default_offsetmapping</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00051">model_brush.c:51</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a722fa06637534ed172979d9efdc1edfa"><div class="ttname"><a href="model__brush_8c.html#a722fa06637534ed172979d9efdc1edfa">mod_q3bsp_curves_subdivisions_mintess</a></div><div class="ttdeci">cvar_t mod_q3bsp_curves_subdivisions_mintess</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00039">model_brush.c:39</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a78fb22b957e64a3049781239ee353d70"><div class="ttname"><a href="model__brush_8c.html#a78fb22b957e64a3049781239ee353d70">mod_q3bsp_nolightmaps</a></div><div class="ttdeci">cvar_t mod_q3bsp_nolightmaps</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00045">model_brush.c:45</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a798b11b47ef2a1aa05deacd3f1180422"><div class="ttname"><a href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a></div><div class="ttdeci">static texture_t mod_q1bsp_texture_lava</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00073">model_brush.c:73</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a7be57207f43c552586a464adfa683162"><div class="ttname"><a href="model__brush_8c.html#a7be57207f43c552586a464adfa683162">mod_q3bsp_lightgrid_texture</a></div><div class="ttdeci">cvar_t mod_q3bsp_lightgrid_texture</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00048">model_brush.c:48</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a7ed843bf3dc52e2c5c803ac13eb27d02"><div class="ttname"><a href="model__brush_8c.html#a7ed843bf3dc52e2c5c803ac13eb27d02">mod_q3bsp_curves_subdivisions_tolerance</a></div><div class="ttdeci">cvar_t mod_q3bsp_curves_subdivisions_tolerance</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00038">model_brush.c:38</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a7f00470ea93c0f84375f173474a7eecd"><div class="ttname"><a href="model__brush_8c.html#a7f00470ea93c0f84375f173474a7eecd">mod_q3shader_default_offsetmapping_scale</a></div><div class="ttdeci">cvar_t mod_q3shader_default_offsetmapping_scale</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00053">model_brush.c:53</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a8c88eeacff4de9e240deddb1f24e5b05"><div class="ttname"><a href="model__brush_8c.html#a8c88eeacff4de9e240deddb1f24e5b05">mod_recalculatenodeboxes</a></div><div class="ttdeci">cvar_t mod_recalculatenodeboxes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00067">model_brush.c:67</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a9260109f82a8e564ade6ada3c0488831"><div class="ttname"><a href="model__brush_8c.html#a9260109f82a8e564ade6ada3c0488831">mod_q3bsp_sRGBlightmaps</a></div><div class="ttdeci">cvar_t mod_q3bsp_sRGBlightmaps</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00047">model_brush.c:47</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a977afe81d17987198f3300477166cb0b"><div class="ttname"><a href="model__brush_8c.html#a977afe81d17987198f3300477166cb0b">mod_q3bsp_tracelineofsight_brushes</a></div><div class="ttdeci">cvar_t mod_q3bsp_tracelineofsight_brushes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00046">model_brush.c:46</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a9bbf3b106367456b4a17e45a6d43bca5"><div class="ttname"><a href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a></div><div class="ttdeci">static texture_t mod_q1bsp_texture_slime</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00074">model_brush.c:74</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a9bec9df854f7b675fcc53c8107d07fb1"><div class="ttname"><a href="model__brush_8c.html#a9bec9df854f7b675fcc53c8107d07fb1">mod_q3shader_default_polygonoffset</a></div><div class="ttdeci">cvar_t mod_q3shader_default_polygonoffset</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00056">model_brush.c:56</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a9eb6a9818cb417d26aa0ad5fb8f8317a"><div class="ttname"><a href="model__brush_8c.html#a9eb6a9818cb417d26aa0ad5fb8f8317a">mod_q3shader_default_offsetmapping_bias</a></div><div class="ttdeci">cvar_t mod_q3shader_default_offsetmapping_bias</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00054">model_brush.c:54</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ab60dd7086b57b436ec3f6b38b85053dd"><div class="ttname"><a href="model__brush_8c.html#ab60dd7086b57b436ec3f6b38b85053dd">mod_q3bsp_lightgrid_bsp_surfaces</a></div><div class="ttdeci">cvar_t mod_q3bsp_lightgrid_bsp_surfaces</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00050">model_brush.c:50</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ab6d45f381afbd7c8c9959eac47a44cc6"><div class="ttname"><a href="model__brush_8c.html#ab6d45f381afbd7c8c9959eac47a44cc6">mod_q3shader_default_offsetmapping</a></div><div class="ttdeci">cvar_t mod_q3shader_default_offsetmapping</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00052">model_brush.c:52</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_abb7917fc21445a7234319982fa84ba1c"><div class="ttname"><a href="model__brush_8c.html#abb7917fc21445a7234319982fa84ba1c">r_nosurftextures</a></div><div class="ttdeci">cvar_t r_nosurftextures</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00032">model_brush.c:32</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_abe9f2e61643f66842fb9bcaee9bbad03"><div class="ttname"><a href="model__brush_8c.html#abe9f2e61643f66842fb9bcaee9bbad03">mod_q3bsp_curves_collisions</a></div><div class="ttdeci">cvar_t mod_q3bsp_curves_collisions</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00042">model_brush.c:42</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ac2f5bcbdde0eeff0af04664542f0ef9b"><div class="ttname"><a href="model__brush_8c.html#ac2f5bcbdde0eeff0af04664542f0ef9b">r_novis</a></div><div class="ttdeci">cvar_t r_novis</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00031">model_brush.c:31</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ac91b1224b81a803f43adf67155fe0bbb"><div class="ttname"><a href="model__brush_8c.html#ac91b1224b81a803f43adf67155fe0bbb">mod_q1bsp_zero_hullsize_cutoff</a></div><div class="ttdeci">cvar_t mod_q1bsp_zero_hullsize_cutoff</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00064">model_brush.c:64</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_acba7bb4a4ae9aea271029413e66152b8"><div class="ttname"><a href="model__brush_8c.html#acba7bb4a4ae9aea271029413e66152b8">mod_q3bsp_optimizedtraceline</a></div><div class="ttdeci">cvar_t mod_q3bsp_optimizedtraceline</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00043">model_brush.c:43</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ad36726f56533f8ed61f03c9bf2faa194"><div class="ttname"><a href="model__brush_8c.html#ad36726f56533f8ed61f03c9bf2faa194">r_trippy</a></div><div class="ttdeci">cvar_t r_trippy</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00029">model_brush.c:29</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_adf320b246049b55161c9a6a223af426e"><div class="ttname"><a href="model__brush_8c.html#adf320b246049b55161c9a6a223af426e">r_subdivisions_mintess</a></div><div class="ttdeci">cvar_t r_subdivisions_mintess</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00035">model_brush.c:35</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ae0b65a206ef2c1bbdebf041ce37adfad"><div class="ttname"><a href="model__brush_8c.html#ae0b65a206ef2c1bbdebf041ce37adfad">mod_q1bsp_polygoncollisions</a></div><div class="ttdeci">cvar_t mod_q1bsp_polygoncollisions</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00063">model_brush.c:63</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ae2087fc3011df59ce59055fbc965bae3"><div class="ttname"><a href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a></div><div class="ttdeci">static texture_t mod_q1bsp_texture_water</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00075">model_brush.c:75</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ae3cbbf35c2258fb3bd1607d0171bb148"><div class="ttname"><a href="model__brush_8c.html#ae3cbbf35c2258fb3bd1607d0171bb148">r_subdivisions_tolerance</a></div><div class="ttdeci">cvar_t r_subdivisions_tolerance</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00034">model_brush.c:34</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aea0489ce67107ae72e326ae291e54551"><div class="ttname"><a href="model__brush_8c.html#aea0489ce67107ae72e326ae291e54551">mod_q3shader_force_terrain_alphaflag</a></div><div class="ttdeci">cvar_t mod_q3shader_force_terrain_alphaflag</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00059">model_brush.c:59</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aed121aa80abb387aa4a9c7b177d9a307"><div class="ttname"><a href="model__brush_8c.html#aed121aa80abb387aa4a9c7b177d9a307">r_subdivisions_maxvertices</a></div><div class="ttdeci">cvar_t r_subdivisions_maxvertices</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00037">model_brush.c:37</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_af6e5a6066a70a42b432f9f35deebf073"><div class="ttname"><a href="model__brush_8c.html#af6e5a6066a70a42b432f9f35deebf073">r_subdivisions_maxtess</a></div><div class="ttdeci">cvar_t r_subdivisions_maxtess</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00036">model_brush.c:36</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_afb66a8936f34a990e2385c092115ef3c"><div class="ttname"><a href="model__brush_8c.html#afb66a8936f34a990e2385c092115ef3c">mod_obj_orientation</a></div><div class="ttdeci">cvar_t mod_obj_orientation</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00069">model_brush.c:69</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_afd3d52aa21b8bb25950df31b101c10b4"><div class="ttname"><a href="model__brush_8c.html#afd3d52aa21b8bb25950df31b101c10b4">mod_q3shader_default_refractive_index</a></div><div class="ttdeci">cvar_t mod_q3shader_default_refractive_index</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00057">model_brush.c:57</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a3419225ac529b57d5f8fdfd0842c6451"><div class="ttname"><a href="model__q3bsp_8h.html#a3419225ac529b57d5f8fdfd0842c6451">Q3SURFACEFLAG_SKY</a></div><div class="ttdeci">#define Q3SURFACEFLAG_SKY</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00244">model_q3bsp.h:244</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a4ed15d45309b14e9e9d4718657329275"><div class="ttname"><a href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a></div><div class="ttdeci">#define Q3SURFACEFLAG_NOMARKS</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00247">model_q3bsp.h:247</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a7fb78b54cea0523f324ac2070a59420b"><div class="ttname"><a href="model__q3bsp_8h.html#a7fb78b54cea0523f324ac2070a59420b">Q3SURFACEFLAG_NOIMPACT</a></div><div class="ttdeci">#define Q3SURFACEFLAG_NOIMPACT</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00246">model_q3bsp.h:246</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a8a38a860b9780c723336b0dd1e1c24b9"><div class="ttname"><a href="model__q3bsp_8h.html#a8a38a860b9780c723336b0dd1e1c24b9">Q3SURFACEFLAG_NOLIGHTMAP</a></div><div class="ttdeci">#define Q3SURFACEFLAG_NOLIGHTMAP</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00252">model_q3bsp.h:252</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_af04b6ae65ee17b83bae885bc113830c8"><div class="ttname"><a href="model__q3bsp_8h.html#af04b6ae65ee17b83bae885bc113830c8">Q3SURFACEFLAG_NODLIGHT</a></div><div class="ttdeci">#define Q3SURFACEFLAG_NODLIGHT</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00259">model_q3bsp.h:259</a></div></div>
<div class="ttc" id="astructtexture__t_html_ab58f580cd561f4e52a20e92098a06e2f"><div class="ttname"><a href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">texture_t::name</a></div><div class="ttdeci">char name[64]</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00190">model_shared.h:190</a></div></div>
<div class="ttc" id="astructtexture__t_html_ac847398cbbad1420593be45b690ddb1a"><div class="ttname"><a href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">texture_t::supercontents</a></div><div class="ttdeci">int supercontents</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00295">model_shared.h:295</a></div></div>
<div class="ttc" id="astructtexture__t_html_af9ed6cc4f0f978c2cec936d9c8f6ea00"><div class="ttname"><a href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">texture_t::surfaceflags</a></div><div class="ttdeci">int surfaceflags</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00294">model_shared.h:294</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__shared_8c_source.html#l00178">Mod_Init()</a>.</p>

</div>
</div>
<a id="ad4918d0f5972eb3e651d72159402522a" name="ad4918d0f5972eb3e651d72159402522a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4918d0f5972eb3e651d72159402522a">&#9670;&#160;</a></span>Mod_BSP2_Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP2_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03866">3866</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3867</span>{</div>
<div class="line"><span class="lineno"> 3868</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3869</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a> = <span class="stringliteral">&quot;Q1BSP2&quot;</span>;</div>
<div class="line"><span class="lineno"> 3870</span>    <a class="code hl_function" href="model__brush_8c.html#ac7951bc8a426acde1bd108694921f5b7">Mod_Q1BSP_Load</a>(mod, <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>);</div>
<div class="line"><span class="lineno"> 3871</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a74f1d6ae2f7904e073ae012c2a4b10" name="a6a74f1d6ae2f7904e073ae012c2a4b10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a74f1d6ae2f7904e073ae012c2a4b10">&#9670;&#160;</a></span>Mod_BSP_BoxTouchingLeafPVS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_BSP_BoxTouchingLeafPVS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>mins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>maxs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00321">321</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  322</span>{</div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> = 0;</div>
<div class="line"><span class="lineno">  324</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[1024];</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">if</span> (!model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>)</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  327</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>;</div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno">  329</span>    {</div>
<div class="line"><span class="lineno">  330</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  332</span>        {</div>
<div class="line"><span class="lineno">  333</span>            <span class="comment">// node - recurse down the BSP tree</span></div>
<div class="line"><span class="lineno">  334</span>            <span class="keywordtype">int</span> sides = <a class="code hl_function" href="mathlib_8c.html#aea6de4286a37f9e063f4542490d672c2">BoxOnPlaneSide</a>(mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane);</div>
<div class="line"><span class="lineno">  335</span>            <span class="keywordflow">if</span> (sides &lt; 3)</div>
<div class="line"><span class="lineno">  336</span>            {</div>
<div class="line"><span class="lineno">  337</span>                <span class="keywordflow">if</span> (sides == 0)</div>
<div class="line"><span class="lineno">  338</span>                    <span class="keywordflow">return</span> -1; <span class="comment">// ERROR: NAN bounding box!</span></div>
<div class="line"><span class="lineno">  339</span>                <span class="comment">// box is on one side of plane, take that path</span></div>
<div class="line"><span class="lineno">  340</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[sides-1];</div>
<div class="line"><span class="lineno">  341</span>            }</div>
<div class="line"><span class="lineno">  342</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  343</span>            {</div>
<div class="line"><span class="lineno">  344</span>                <span class="comment">// box crosses plane, take one path and remember the other</span></div>
<div class="line"><span class="lineno">  345</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> &lt; 1024)</div>
<div class="line"><span class="lineno">  346</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno">  347</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno">  348</span>            }</div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  350</span>        }</div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  352</span>        {</div>
<div class="line"><span class="lineno">  353</span>            <span class="comment">// leaf - check cluster bit</span></div>
<div class="line"><span class="lineno">  354</span>            <span class="keywordtype">int</span> clusterindex = ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>) - model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;</div>
<div class="line"><span class="lineno">  355</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="model__brush_8h.html#a6aaa281ecfff2614bfd32a87a353ad5f">CHECKPVSBIT</a>(pvs, clusterindex))</div>
<div class="line"><span class="lineno">  356</span>            {</div>
<div class="line"><span class="lineno">  357</span>                <span class="comment">// it is visible, return immediately with the news</span></div>
<div class="line"><span class="lineno">  358</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  359</span>            }</div>
<div class="line"><span class="lineno">  360</span>        }</div>
<div class="line"><span class="lineno">  361</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs))</div>
<div class="line"><span class="lineno">  363</span>        {</div>
<div class="line"><span class="lineno">  364</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  365</span>            {</div>
<div class="line"><span class="lineno">  366</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> &lt; 1024)</div>
<div class="line"><span class="lineno">  367</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno">  368</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno">  369</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  370</span>            }</div>
<div class="line"><span class="lineno">  371</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  372</span>            {</div>
<div class="line"><span class="lineno">  373</span>                <span class="comment">// leaf - check cluster bit</span></div>
<div class="line"><span class="lineno">  374</span>                <span class="keywordtype">int</span> clusterindex = ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>) - model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;</div>
<div class="line"><span class="lineno">  375</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="model__brush_8h.html#a6aaa281ecfff2614bfd32a87a353ad5f">CHECKPVSBIT</a>(pvs, clusterindex))</div>
<div class="line"><span class="lineno">  376</span>                {</div>
<div class="line"><span class="lineno">  377</span>                    <span class="comment">// it is visible, return immediately with the news</span></div>
<div class="line"><span class="lineno">  378</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  379</span>                }</div>
<div class="line"><span class="lineno">  380</span>            }</div>
<div class="line"><span class="lineno">  381</span>        }</div>
<div class="line"><span class="lineno">  382</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  383</span>        <span class="comment">// nothing to see here, try another path we didn&#39;t take earlier</span></div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> == 0)</div>
<div class="line"><span class="lineno">  385</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  386</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[--<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>];</div>
<div class="line"><span class="lineno">  387</span>    }</div>
<div class="line"><span class="lineno">  388</span>    <span class="comment">// it is not visible</span></div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  390</span>}</div>
<div class="ttc" id="amathlib_8c_html_aea6de4286a37f9e063f4542490d672c2"><div class="ttname"><a href="mathlib_8c.html#aea6de4286a37f9e063f4542490d672c2">BoxOnPlaneSide</a></div><div class="ttdeci">int BoxOnPlaneSide(const vec3_t emins, const vec3_t emaxs, const mplane_t *p)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00331">mathlib.c:331</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a6aaa281ecfff2614bfd32a87a353ad5f"><div class="ttname"><a href="model__brush_8h.html#a6aaa281ecfff2614bfd32a87a353ad5f">CHECKPVSBIT</a></div><div class="ttdeci">#define CHECKPVSBIT(pvs, b)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00361">model_brush.h:361</a></div></div>
<div class="ttc" id="astructhull__t_html_a5a8f9152ca1f6f5ce05e4f4ea8b40ae0"><div class="ttname"><a href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">hull_t::firstclipnode</a></div><div class="ttdeci">int firstclipnode</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00211">model_brush.h:211</a></div></div>
<div class="ttc" id="astructmleaf__t_html"><div class="ttname"><a href="structmleaf__t.html">mleaf_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00174">model_brush.h:175</a></div></div>
<div class="ttc" id="astructmnode__t_html"><div class="ttname"><a href="structmnode__t.html">mnode_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00153">model_brush.h:154</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_ad2ccc84f01460e7bde735898ed077860"><div class="ttname"><a href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">model_brush_t::num_leafs</a></div><div class="ttdeci">int num_leafs</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00288">model_brush.h:288</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_ae2d3fa0402a5847fc8fd21a5ad907c87"><div class="ttname"><a href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">model_brush_t::data_leafs</a></div><div class="ttdeci">mleaf_t * data_leafs</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00289">model_brush.h:289</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_af5b74eca50e34d2da3db9acb7e154dd2"><div class="ttname"><a href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">model_brush_t::data_nodes</a></div><div class="ttdeci">mnode_t * data_nodes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00283">model_brush.h:283</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a36ff0b8c967bdf1041ed71979b0306df"><div class="ttname"><a href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">model_brushq1_t::hulls</a></div><div class="ttdeci">hull_t hulls[MAX_MAP_HULLS]</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00026">model_q1bsp.h:26</a></div></div>
<div class="ttc" id="astructmodel__t_html_a53c32e4598e37e8256175c6112425af1"><div class="ttname"><a href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">model_t::brushq1</a></div><div class="ttdeci">model_brushq1_t brushq1</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00542">model_shared.h:542</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="aa0a4fa58c97cfce8966a22c7fcec4285" name="aa0a4fa58c97cfce8966a22c7fcec4285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0a4fa58c97cfce8966a22c7fcec4285">&#9670;&#160;</a></span>Mod_BSP_BoxTouchingPVS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_BSP_BoxTouchingPVS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>mins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>maxs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00250">250</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  251</span>{</div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> = 0;</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[1024];</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">if</span> (!model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>)</div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  256</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>;</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno">  258</span>    {</div>
<div class="line"><span class="lineno">  259</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  261</span>        {</div>
<div class="line"><span class="lineno">  262</span>            <span class="comment">// node - recurse down the BSP tree</span></div>
<div class="line"><span class="lineno">  263</span>            <span class="keywordtype">int</span> sides = <a class="code hl_function" href="mathlib_8c.html#aea6de4286a37f9e063f4542490d672c2">BoxOnPlaneSide</a>(mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane);</div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">if</span> (sides &lt; 3)</div>
<div class="line"><span class="lineno">  265</span>            {</div>
<div class="line"><span class="lineno">  266</span>                <span class="keywordflow">if</span> (sides == 0)</div>
<div class="line"><span class="lineno">  267</span>                    <span class="keywordflow">return</span> -1; <span class="comment">// ERROR: NAN bounding box!</span></div>
<div class="line"><span class="lineno">  268</span>                <span class="comment">// box is on one side of plane, take that path</span></div>
<div class="line"><span class="lineno">  269</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[sides-1];</div>
<div class="line"><span class="lineno">  270</span>            }</div>
<div class="line"><span class="lineno">  271</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  272</span>            {</div>
<div class="line"><span class="lineno">  273</span>                <span class="comment">// box crosses plane, take one path and remember the other</span></div>
<div class="line"><span class="lineno">  274</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> &lt; 1024)</div>
<div class="line"><span class="lineno">  275</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno">  276</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno">  277</span>            }</div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  279</span>        }</div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  281</span>        {</div>
<div class="line"><span class="lineno">  282</span>            <span class="comment">// leaf - check cluster bit</span></div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordtype">int</span> clusterindex = ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex;</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="model__brush_8h.html#a6aaa281ecfff2614bfd32a87a353ad5f">CHECKPVSBIT</a>(pvs, clusterindex))</div>
<div class="line"><span class="lineno">  285</span>            {</div>
<div class="line"><span class="lineno">  286</span>                <span class="comment">// it is visible, return immediately with the news</span></div>
<div class="line"><span class="lineno">  287</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  288</span>            }</div>
<div class="line"><span class="lineno">  289</span>        }</div>
<div class="line"><span class="lineno">  290</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs))</div>
<div class="line"><span class="lineno">  292</span>        {</div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  294</span>            {</div>
<div class="line"><span class="lineno">  295</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> &lt; 1024)</div>
<div class="line"><span class="lineno">  296</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno">  297</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno">  298</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  299</span>            }</div>
<div class="line"><span class="lineno">  300</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  301</span>            {</div>
<div class="line"><span class="lineno">  302</span>                <span class="comment">// leaf - check cluster bit</span></div>
<div class="line"><span class="lineno">  303</span>                <span class="keywordtype">int</span> clusterindex = ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex;</div>
<div class="line"><span class="lineno">  304</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="model__brush_8h.html#a6aaa281ecfff2614bfd32a87a353ad5f">CHECKPVSBIT</a>(pvs, clusterindex))</div>
<div class="line"><span class="lineno">  305</span>                {</div>
<div class="line"><span class="lineno">  306</span>                    <span class="comment">// it is visible, return immediately with the news</span></div>
<div class="line"><span class="lineno">  307</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  308</span>                }</div>
<div class="line"><span class="lineno">  309</span>            }</div>
<div class="line"><span class="lineno">  310</span>        }</div>
<div class="line"><span class="lineno">  311</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  312</span>        <span class="comment">// nothing to see here, try another path we didn&#39;t take earlier</span></div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> == 0)</div>
<div class="line"><span class="lineno">  314</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  315</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[--<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>];</div>
<div class="line"><span class="lineno">  316</span>    }</div>
<div class="line"><span class="lineno">  317</span>    <span class="comment">// it is not visible</span></div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  319</span>}</div>
<div class="ttc" id="astructmodel__brush__t_html_af9eac95ab2a23efbd282eab5d5137697"><div class="ttname"><a href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">model_brush_t::num_pvsclusters</a></div><div class="ttdeci">int num_pvsclusters</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00310">model_brush.h:310</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="ac5ff29218d7cd338d8aeee45fd9d1f3c" name="ac5ff29218d7cd338d8aeee45fd9d1f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ff29218d7cd338d8aeee45fd9d1f3c">&#9670;&#160;</a></span>Mod_BSP_BoxTouchingVisibleLeafs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_BSP_BoxTouchingVisibleLeafs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>visibleleafs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>mins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>maxs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00392">392</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  393</span>{</div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> = 0;</div>
<div class="line"><span class="lineno">  395</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[1024];</div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">if</span> (!model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>)</div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  398</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>;</div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno">  400</span>    {</div>
<div class="line"><span class="lineno">  401</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  403</span>        {</div>
<div class="line"><span class="lineno">  404</span>            <span class="comment">// node - recurse down the BSP tree</span></div>
<div class="line"><span class="lineno">  405</span>            <span class="keywordtype">int</span> sides = <a class="code hl_function" href="mathlib_8c.html#aea6de4286a37f9e063f4542490d672c2">BoxOnPlaneSide</a>(mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane);</div>
<div class="line"><span class="lineno">  406</span>            <span class="keywordflow">if</span> (sides &lt; 3)</div>
<div class="line"><span class="lineno">  407</span>            {</div>
<div class="line"><span class="lineno">  408</span>                <span class="keywordflow">if</span> (sides == 0)</div>
<div class="line"><span class="lineno">  409</span>                    <span class="keywordflow">return</span> -1; <span class="comment">// ERROR: NAN bounding box!</span></div>
<div class="line"><span class="lineno">  410</span>                <span class="comment">// box is on one side of plane, take that path</span></div>
<div class="line"><span class="lineno">  411</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[sides-1];</div>
<div class="line"><span class="lineno">  412</span>            }</div>
<div class="line"><span class="lineno">  413</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  414</span>            {</div>
<div class="line"><span class="lineno">  415</span>                <span class="comment">// box crosses plane, take one path and remember the other</span></div>
<div class="line"><span class="lineno">  416</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> &lt; 1024)</div>
<div class="line"><span class="lineno">  417</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno">  418</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno">  419</span>            }</div>
<div class="line"><span class="lineno">  420</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  421</span>        }</div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  423</span>        {</div>
<div class="line"><span class="lineno">  424</span>            <span class="comment">// leaf - check if it is visible</span></div>
<div class="line"><span class="lineno">  425</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">visibleleafs</a>[(<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> - model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>])</div>
<div class="line"><span class="lineno">  426</span>            {</div>
<div class="line"><span class="lineno">  427</span>                <span class="comment">// it is visible, return immediately with the news</span></div>
<div class="line"><span class="lineno">  428</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  429</span>            }</div>
<div class="line"><span class="lineno">  430</span>        }</div>
<div class="line"><span class="lineno">  431</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs))</div>
<div class="line"><span class="lineno">  433</span>        {</div>
<div class="line"><span class="lineno">  434</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  435</span>            {</div>
<div class="line"><span class="lineno">  436</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> &lt; 1024)</div>
<div class="line"><span class="lineno">  437</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno">  438</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno">  439</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  440</span>            }</div>
<div class="line"><span class="lineno">  441</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  442</span>            {</div>
<div class="line"><span class="lineno">  443</span>                <span class="comment">// leaf - check if it is visible</span></div>
<div class="line"><span class="lineno">  444</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">visibleleafs</a>[(<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> - model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>])</div>
<div class="line"><span class="lineno">  445</span>                {</div>
<div class="line"><span class="lineno">  446</span>                    <span class="comment">// it is visible, return immediately with the news</span></div>
<div class="line"><span class="lineno">  447</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  448</span>                }</div>
<div class="line"><span class="lineno">  449</span>            }</div>
<div class="line"><span class="lineno">  450</span>        }</div>
<div class="line"><span class="lineno">  451</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  452</span>        <span class="comment">// nothing to see here, try another path we didn&#39;t take earlier</span></div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> == 0)</div>
<div class="line"><span class="lineno">  454</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  455</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[--<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>];</div>
<div class="line"><span class="lineno">  456</span>    }</div>
<div class="line"><span class="lineno">  457</span>    <span class="comment">// it is not visible</span></div>
<div class="line"><span class="lineno">  458</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  459</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a2dd554f148b59d0128e9eb593aefb3b3" name="a2dd554f148b59d0128e9eb593aefb3b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd554f148b59d0128e9eb593aefb3b3">&#9670;&#160;</a></span>Mod_BSP_DecompressVis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_DecompressVis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>inend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>outend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01527">1527</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1528</span>{</div>
<div class="line"><span class="lineno"> 1529</span>    <span class="keywordtype">int</span> c;</div>
<div class="line"><span class="lineno"> 1530</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outstart</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 1531</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outend</a>)</div>
<div class="line"><span class="lineno"> 1532</span>    {</div>
<div class="line"><span class="lineno"> 1533</span>        <span class="keywordflow">if</span> (in == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inend</a>)</div>
<div class="line"><span class="lineno"> 1534</span>        {</div>
<div class="line"><span class="lineno"> 1535</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_BSP_DecompressVis: input underrun on model \&quot;%s\&quot; (decompressed %i of %i output bytes)\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outstart</a>), (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outend</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outstart</a>));</div>
<div class="line"><span class="lineno"> 1536</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1537</span>        }</div>
<div class="line"><span class="lineno"> 1538</span>        c = *in++;</div>
<div class="line"><span class="lineno"> 1539</span>        <span class="keywordflow">if</span> (c)</div>
<div class="line"><span class="lineno"> 1540</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = c;</div>
<div class="line"><span class="lineno"> 1541</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1542</span>        {</div>
<div class="line"><span class="lineno"> 1543</span>            <span class="keywordflow">if</span> (in == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inend</a>)</div>
<div class="line"><span class="lineno"> 1544</span>            {</div>
<div class="line"><span class="lineno"> 1545</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_BSP_DecompressVis: input underrun (during zero-run) on model \&quot;%s\&quot; (decompressed %i of %i output bytes)\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outstart</a>), (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outend</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outstart</a>));</div>
<div class="line"><span class="lineno"> 1546</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1547</span>            }</div>
<div class="line"><span class="lineno"> 1548</span>            <span class="keywordflow">for</span> (c = *in++;c &gt; 0;c--)</div>
<div class="line"><span class="lineno"> 1549</span>            {</div>
<div class="line"><span class="lineno"> 1550</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outend</a>)</div>
<div class="line"><span class="lineno"> 1551</span>                {</div>
<div class="line"><span class="lineno"> 1552</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_BSP_DecompressVis: output overrun on model \&quot;%s\&quot; (decompressed %i of %i output bytes)\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outstart</a>), (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outend</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outstart</a>));</div>
<div class="line"><span class="lineno"> 1553</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1554</span>                }</div>
<div class="line"><span class="lineno"> 1555</span>                *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = 0;</div>
<div class="line"><span class="lineno"> 1556</span>            }</div>
<div class="line"><span class="lineno"> 1557</span>        }</div>
<div class="line"><span class="lineno"> 1558</span>    }</div>
<div class="line"><span class="lineno"> 1559</span>}</div>
<div class="ttc" id="amodel__shared_8c_html_a3a2900957b32c3fef225d35df5f3c727"><div class="ttname"><a href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a></div><div class="ttdeci">model_t * loadmodel</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l00042">model_shared.c:42</a></div></div>
<div class="ttc" id="astructmodel__t_html_aad0f2d9471f7d761be5fe5d23d9bbd20"><div class="ttname"><a href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">model_t::name</a></div><div class="ttdeci">char name[MAX_QPATH]</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00431">model_shared.h:431</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l02980">Mod_Q1BSP_LoadLeafs()</a>, and <a class="el" href="model__brush_8c_source.html#l04253">Mod_Q2BSP_LoadVisibility()</a>.</p>

</div>
</div>
<a id="a72ec2cd29705ec14f030bd49ba9697a2" name="a72ec2cd29705ec14f030bd49ba9697a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72ec2cd29705ec14f030bd49ba9697a2">&#9670;&#160;</a></span>Mod_BSP_FatPVS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_BSP_FatPVS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>org</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a>&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pvsbuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>pvsbufferlength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>merge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03810">3810</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3811</span>{</div>
<div class="line"><span class="lineno"> 3812</span>    <span class="keywordtype">int</span> bytes = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>;</div>
<div class="line"><span class="lineno"> 3813</span>    bytes = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(bytes, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbufferlength</a>);</div>
<div class="line"><span class="lineno"> 3814</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#ac2f5bcbdde0eeff0af04664542f0ef9b">r_novis</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> || <a class="code hl_variable" href="model__brush_8c.html#ad36726f56533f8ed61f03c9bf2faa194">r_trippy</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> || !model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> || !<a class="code hl_function" href="model__brush_8c.html#a410424a81c26ecc81451c5da4a7c50f5">Mod_BSP_GetPVS</a>(model, org))</div>
<div class="line"><span class="lineno"> 3815</span>    {</div>
<div class="line"><span class="lineno"> 3816</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbuffer</a>, 0xFF, bytes);</div>
<div class="line"><span class="lineno"> 3817</span>        <span class="keywordflow">return</span> bytes;</div>
<div class="line"><span class="lineno"> 3818</span>    }</div>
<div class="line"><span class="lineno"> 3819</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">merge</a>)</div>
<div class="line"><span class="lineno"> 3820</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbuffer</a>, 0, bytes);</div>
<div class="line"><span class="lineno"> 3821</span>    <a class="code hl_function" href="model__brush_8c.html#aaf642785ebdde53dfd379788e0e817fb">Mod_BSP_FatPVS_RecursiveBSPNode</a>(model, org, radius, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbuffer</a>, bytes, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>);</div>
<div class="line"><span class="lineno"> 3822</span>    <span class="keywordflow">return</span> bytes;</div>
<div class="line"><span class="lineno"> 3823</span>}</div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a410424a81c26ecc81451c5da4a7c50f5"><div class="ttname"><a href="model__brush_8c.html#a410424a81c26ecc81451c5da4a7c50f5">Mod_BSP_GetPVS</a></div><div class="ttdeci">static unsigned char * Mod_BSP_GetPVS(model_t *model, const vec3_t p)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03770">model_brush.c:3770</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aaf642785ebdde53dfd379788e0e817fb"><div class="ttname"><a href="model__brush_8c.html#aaf642785ebdde53dfd379788e0e817fb">Mod_BSP_FatPVS_RecursiveBSPNode</a></div><div class="ttdeci">static void Mod_BSP_FatPVS_RecursiveBSPNode(model_t *model, const vec3_t org, vec_t radius, unsigned char *pvsbuffer, int pvsbytes, mnode_t *node)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03782">model_brush.c:3782</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a7772759d63f78def3dce47d689dd28b0"><div class="ttname"><a href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">model_brush_t::num_pvsclusterbytes</a></div><div class="ttdeci">int num_pvsclusterbytes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00311">model_brush.h:311</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="aaf642785ebdde53dfd379788e0e817fb" name="aaf642785ebdde53dfd379788e0e817fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf642785ebdde53dfd379788e0e817fb">&#9670;&#160;</a></span>Mod_BSP_FatPVS_RecursiveBSPNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_FatPVS_RecursiveBSPNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>org</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a>&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>pvsbuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>pvsbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03782">3782</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3783</span>{</div>
<div class="line"><span class="lineno"> 3784</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 3785</span>    {</div>
<div class="line"><span class="lineno"> 3786</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = <a class="code hl_define" href="mathlib_8h.html#ac1dbe9174f905df05e0d9c896cc4f877">PlaneDiff</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane);</div>
<div class="line"><span class="lineno"> 3787</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> &gt; radius)</div>
<div class="line"><span class="lineno"> 3788</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno"> 3789</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> &lt; -radius)</div>
<div class="line"><span class="lineno"> 3790</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno"> 3791</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3792</span>        {</div>
<div class="line"><span class="lineno"> 3793</span>            <span class="comment">// go down both sides</span></div>
<div class="line"><span class="lineno"> 3794</span>            <a class="code hl_function" href="model__brush_8c.html#aaf642785ebdde53dfd379788e0e817fb">Mod_BSP_FatPVS_RecursiveBSPNode</a>(model, org, radius, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbuffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbytes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]);</div>
<div class="line"><span class="lineno"> 3795</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno"> 3796</span>        }</div>
<div class="line"><span class="lineno"> 3797</span>    }</div>
<div class="line"><span class="lineno"> 3798</span>    <span class="comment">// if this leaf is in a cluster, accumulate the pvs bits</span></div>
<div class="line"><span class="lineno"> 3799</span>    <span class="keywordflow">if</span> (((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex &gt;= 0)</div>
<div class="line"><span class="lineno"> 3800</span>    {</div>
<div class="line"><span class="lineno"> 3801</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3802</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *pvs = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> + ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex * model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>;</div>
<div class="line"><span class="lineno"> 3803</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbytes</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3804</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsbuffer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] |= pvs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3805</span>    }</div>
<div class="line"><span class="lineno"> 3806</span>}</div>
<div class="ttc" id="amathlib_8h_html_ac1dbe9174f905df05e0d9c896cc4f877"><div class="ttname"><a href="mathlib_8h.html#ac1dbe9174f905df05e0d9c896cc4f877">PlaneDiff</a></div><div class="ttdeci">#define PlaneDiff(point, plane)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00256">mathlib.h:256</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a11db9074e004ceac57a0b79b27a8845a"><div class="ttname"><a href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">model_brush_t::data_pvsclusters</a></div><div class="ttdeci">unsigned char * data_pvsclusters</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00312">model_brush.h:312</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03810">Mod_BSP_FatPVS()</a>, and <a class="el" href="model__brush_8c_source.html#l03782">Mod_BSP_FatPVS_RecursiveBSPNode()</a>.</p>

</div>
</div>
<a id="a5cb19d68e7dfde86ce4c3fac82fd613b" name="a5cb19d68e7dfde86ce4c3fac82fd613b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb19d68e7dfde86ce4c3fac82fd613b">&#9670;&#160;</a></span>Mod_BSP_FinalizePortals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_FinalizePortals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03399">3399</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3400</span>{</div>
<div class="line"><span class="lineno"> 3401</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numportals</a>, numpoints, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalrange</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_function" href="zone_8c.html#a1b1599deb1c7db8a64afe5cf4cdbd539">Mem_ExpandableArray_IndexRange</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a>);</div>
<div class="line"><span class="lineno"> 3402</span>    <a class="code hl_struct" href="structportal__t.html">portal_t</a> *p;</div>
<div class="line"><span class="lineno"> 3403</span>    <a class="code hl_struct" href="structmportal__t.html">mportal_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>;</div>
<div class="line"><span class="lineno"> 3404</span>    <a class="code hl_struct" href="structmvertex__t.html">mvertex_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>;</div>
<div class="line"><span class="lineno"> 3405</span>    <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endleaf</a>;</div>
<div class="line"><span class="lineno"> 3406</span> </div>
<div class="line"><span class="lineno"> 3407</span>    <span class="comment">// tally up portal and point counts and recalculate bounding boxes for all</span></div>
<div class="line"><span class="lineno"> 3408</span>    <span class="comment">// leafs (because qbsp is very sloppy)</span></div>
<div class="line"><span class="lineno"> 3409</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;</div>
<div class="line"><span class="lineno"> 3410</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endleaf</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>;</div>
<div class="line"><span class="lineno"> 3411</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a8c88eeacff4de9e240deddb1f24e5b05">mod_recalculatenodeboxes</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3412</span>    {</div>
<div class="line"><span class="lineno"> 3413</span>        <span class="keywordflow">for</span> (;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endleaf</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>++)</div>
<div class="line"><span class="lineno"> 3414</span>        {</div>
<div class="line"><span class="lineno"> 3415</span>            <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins,  2000000000,  2000000000,  2000000000);</div>
<div class="line"><span class="lineno"> 3416</span>            <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs, -2000000000, -2000000000, -2000000000);</div>
<div class="line"><span class="lineno"> 3417</span>        }</div>
<div class="line"><span class="lineno"> 3418</span>    }</div>
<div class="line"><span class="lineno"> 3419</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numportals</a> = 0;</div>
<div class="line"><span class="lineno"> 3420</span>    numpoints = 0;</div>
<div class="line"><span class="lineno"> 3421</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalrange</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a>++)</div>
<div class="line"><span class="lineno"> 3422</span>    {</div>
<div class="line"><span class="lineno"> 3423</span>        p = (<a class="code hl_struct" href="structportal__t.html">portal_t</a>*)<a class="code hl_function" href="zone_8c.html#ac3c570c2a60e19b44ed16e7e0ba844fa">Mem_ExpandableArray_RecordAtIndex</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a>);</div>
<div class="line"><span class="lineno"> 3424</span>        <span class="keywordflow">if</span> (!p)</div>
<div class="line"><span class="lineno"> 3425</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3426</span>        <span class="comment">// note: this check must match the one below or it will usually corrupt memory</span></div>
<div class="line"><span class="lineno"> 3427</span>        <span class="comment">// the nodes[0] != nodes[1] check is because leaf 0 is the shared solid leaf, it can have many portals inside with leaf 0 on both sides</span></div>
<div class="line"><span class="lineno"> 3428</span>        <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structportal__t.html#a83bfdf294227a69d6f43347f0a50a0e9">numpoints</a> &gt;= 3 &amp;&amp; p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0] != p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1] &amp;&amp; ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0])-&gt;clusterindex &gt;= 0 &amp;&amp; ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1])-&gt;clusterindex &gt;= 0)</div>
<div class="line"><span class="lineno"> 3429</span>        {</div>
<div class="line"><span class="lineno"> 3430</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numportals</a> += 2;</div>
<div class="line"><span class="lineno"> 3431</span>            numpoints += p-&gt;<a class="code hl_variable" href="structportal__t.html#a83bfdf294227a69d6f43347f0a50a0e9">numpoints</a> * 2;</div>
<div class="line"><span class="lineno"> 3432</span>        }</div>
<div class="line"><span class="lineno"> 3433</span>    }</div>
<div class="line"><span class="lineno"> 3434</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a447975184b2754629bb27c1bcf15d2dc">data_portals</a> = (<a class="code hl_struct" href="structmportal__t.html">mportal_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numportals</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmportal__t.html">mportal_t</a>) + numpoints * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmvertex__t.html">mvertex_t</a>));</div>
<div class="line"><span class="lineno"> 3435</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a80d9915c394c4ff052e777804cc6da63">num_portals</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numportals</a>;</div>
<div class="line"><span class="lineno"> 3436</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a760d9e36ab60e1ce40bffea6ec5ac4e4">data_portalpoints</a> = (<a class="code hl_struct" href="structmvertex__t.html">mvertex_t</a> *)((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a447975184b2754629bb27c1bcf15d2dc">data_portals</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numportals</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmportal__t.html">mportal_t</a>));</div>
<div class="line"><span class="lineno"> 3437</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a747ece9cd6c06d90eb4e8545064b4bef">num_portalpoints</a> = numpoints;</div>
<div class="line"><span class="lineno"> 3438</span>    <span class="comment">// clear all leaf portal chains</span></div>
<div class="line"><span class="lineno"> 3439</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3440</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structmleaf__t.html#aeddeeae6b333d6c954f2f47733547857">portals</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3441</span>    <span class="comment">// process all portals in the global portal chain, while freeing them</span></div>
<div class="line"><span class="lineno"> 3442</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a447975184b2754629bb27c1bcf15d2dc">data_portals</a>;</div>
<div class="line"><span class="lineno"> 3443</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a760d9e36ab60e1ce40bffea6ec5ac4e4">data_portalpoints</a>;</div>
<div class="line"><span class="lineno"> 3444</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalrange</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a>++)</div>
<div class="line"><span class="lineno"> 3445</span>    {</div>
<div class="line"><span class="lineno"> 3446</span>        p = (<a class="code hl_struct" href="structportal__t.html">portal_t</a>*)<a class="code hl_function" href="zone_8c.html#ac3c570c2a60e19b44ed16e7e0ba844fa">Mem_ExpandableArray_RecordAtIndex</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalindex</a>);</div>
<div class="line"><span class="lineno"> 3447</span>        <span class="keywordflow">if</span> (!p)</div>
<div class="line"><span class="lineno"> 3448</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3449</span>        <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="structportal__t.html#a83bfdf294227a69d6f43347f0a50a0e9">numpoints</a> &gt;= 3 &amp;&amp; p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0] != p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1])</div>
<div class="line"><span class="lineno"> 3450</span>        {</div>
<div class="line"><span class="lineno"> 3451</span>            <span class="comment">// note: this check must match the one above or it will usually corrupt memory</span></div>
<div class="line"><span class="lineno"> 3452</span>            <span class="comment">// the nodes[0] != nodes[1] check is because leaf 0 is the shared solid leaf, it can have many portals inside with leaf 0 on both sides</span></div>
<div class="line"><span class="lineno"> 3453</span>            <span class="keywordflow">if</span> (((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0])-&gt;clusterindex &gt;= 0 &amp;&amp; ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1])-&gt;clusterindex &gt;= 0)</div>
<div class="line"><span class="lineno"> 3454</span>            {</div>
<div class="line"><span class="lineno"> 3455</span>                <span class="comment">// first make the back to front portal(forward portal)</span></div>
<div class="line"><span class="lineno"> 3456</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>;</div>
<div class="line"><span class="lineno"> 3457</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints = p-&gt;<a class="code hl_variable" href="structportal__t.html#a83bfdf294227a69d6f43347f0a50a0e9">numpoints</a>;</div>
<div class="line"><span class="lineno"> 3458</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;plane.dist = p-&gt;<a class="code hl_variable" href="structportal__t.html#a73f4d75b7edc2da1a1ebab95e16c47f2">plane</a>.<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 3459</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(p-&gt;<a class="code hl_variable" href="structportal__t.html#a73f4d75b7edc2da1a1ebab95e16c47f2">plane</a>.<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;plane.normal);</div>
<div class="line"><span class="lineno"> 3460</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;here = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1];</div>
<div class="line"><span class="lineno"> 3461</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;past = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0];</div>
<div class="line"><span class="lineno"> 3462</span>                <span class="comment">// copy points</span></div>
<div class="line"><span class="lineno"> 3463</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 3464</span>                {</div>
<div class="line"><span class="lineno"> 3465</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>-&gt;position);</div>
<div class="line"><span class="lineno"> 3466</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>++;</div>
<div class="line"><span class="lineno"> 3467</span>                }</div>
<div class="line"><span class="lineno"> 3468</span>                <a class="code hl_function" href="mathlib_8c.html#a55d3557bbf3992473d57a8f16ac0ae6e">BoxFromPoints</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;points-&gt;position);</div>
<div class="line"><span class="lineno"> 3469</span>                <a class="code hl_function" href="mathlib_8c.html#ac6346bdac2617a1fce578c20b3520a79">PlaneClassify</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;plane);</div>
<div class="line"><span class="lineno"> 3470</span> </div>
<div class="line"><span class="lineno"> 3471</span>                <span class="comment">// link into leaf&#39;s portal chain</span></div>
<div class="line"><span class="lineno"> 3472</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;next = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;here-&gt;portals;</div>
<div class="line"><span class="lineno"> 3473</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;here-&gt;portals = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>;</div>
<div class="line"><span class="lineno"> 3474</span> </div>
<div class="line"><span class="lineno"> 3475</span>                <span class="comment">// advance to next portal</span></div>
<div class="line"><span class="lineno"> 3476</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>++;</div>
<div class="line"><span class="lineno"> 3477</span> </div>
<div class="line"><span class="lineno"> 3478</span>                <span class="comment">// then make the front to back portal(backward portal)</span></div>
<div class="line"><span class="lineno"> 3479</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;points = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>;</div>
<div class="line"><span class="lineno"> 3480</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints = p-&gt;<a class="code hl_variable" href="structportal__t.html#a83bfdf294227a69d6f43347f0a50a0e9">numpoints</a>;</div>
<div class="line"><span class="lineno"> 3481</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;plane.dist = -p-&gt;<a class="code hl_variable" href="structportal__t.html#a73f4d75b7edc2da1a1ebab95e16c47f2">plane</a>.<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 3482</span>                <a class="code hl_define" href="mathlib_8h.html#a28f9f1fe5f50e359e016f7e4e04f8cf1">VectorNegate</a>(p-&gt;<a class="code hl_variable" href="structportal__t.html#a73f4d75b7edc2da1a1ebab95e16c47f2">plane</a>.<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;plane.normal);</div>
<div class="line"><span class="lineno"> 3483</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;here = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0];</div>
<div class="line"><span class="lineno"> 3484</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;past = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1];</div>
<div class="line"><span class="lineno"> 3485</span>                <span class="comment">// copy points</span></div>
<div class="line"><span class="lineno"> 3486</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints - 1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &gt;= 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>--)</div>
<div class="line"><span class="lineno"> 3487</span>                {</div>
<div class="line"><span class="lineno"> 3488</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>-&gt;position);</div>
<div class="line"><span class="lineno"> 3489</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>++;</div>
<div class="line"><span class="lineno"> 3490</span>                }</div>
<div class="line"><span class="lineno"> 3491</span>                <a class="code hl_function" href="mathlib_8c.html#a55d3557bbf3992473d57a8f16ac0ae6e">BoxFromPoints</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;points-&gt;position);</div>
<div class="line"><span class="lineno"> 3492</span>                <a class="code hl_function" href="mathlib_8c.html#ac6346bdac2617a1fce578c20b3520a79">PlaneClassify</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;plane);</div>
<div class="line"><span class="lineno"> 3493</span> </div>
<div class="line"><span class="lineno"> 3494</span>                <span class="comment">// link into leaf&#39;s portal chain</span></div>
<div class="line"><span class="lineno"> 3495</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;next = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;here-&gt;portals;</div>
<div class="line"><span class="lineno"> 3496</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;here-&gt;portals = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>;</div>
<div class="line"><span class="lineno"> 3497</span> </div>
<div class="line"><span class="lineno"> 3498</span>                <span class="comment">// advance to next portal</span></div>
<div class="line"><span class="lineno"> 3499</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>++;</div>
<div class="line"><span class="lineno"> 3500</span>            }</div>
<div class="line"><span class="lineno"> 3501</span>            <span class="comment">// add the portal&#39;s polygon points to the leaf bounding boxes</span></div>
<div class="line"><span class="lineno"> 3502</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a8c88eeacff4de9e240deddb1f24e5b05">mod_recalculatenodeboxes</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3503</span>            {</div>
<div class="line"><span class="lineno"> 3504</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3505</span>                {</div>
<div class="line"><span class="lineno"> 3506</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)p-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3507</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; p-&gt;<a class="code hl_variable" href="structportal__t.html#a83bfdf294227a69d6f43347f0a50a0e9">numpoints</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 3508</span>                    {</div>
<div class="line"><span class="lineno"> 3509</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins[0] &gt; p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+0]) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins[0] = p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+0];</div>
<div class="line"><span class="lineno"> 3510</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins[1] &gt; p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+1]) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins[1] = p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+1];</div>
<div class="line"><span class="lineno"> 3511</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins[2] &gt; p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+2]) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins[2] = p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+2];</div>
<div class="line"><span class="lineno"> 3512</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs[0] &lt; p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+0]) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs[0] = p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+0];</div>
<div class="line"><span class="lineno"> 3513</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs[1] &lt; p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+1]) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs[1] = p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+1];</div>
<div class="line"><span class="lineno"> 3514</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs[2] &lt; p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+2]) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs[2] = p-&gt;<a class="code hl_variable" href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">points</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*3+2];</div>
<div class="line"><span class="lineno"> 3515</span>                    }</div>
<div class="line"><span class="lineno"> 3516</span>                }</div>
<div class="line"><span class="lineno"> 3517</span>            }</div>
<div class="line"><span class="lineno"> 3518</span>        }</div>
<div class="line"><span class="lineno"> 3519</span>    }</div>
<div class="line"><span class="lineno"> 3520</span>    <span class="comment">// now recalculate the node bounding boxes from the leafs</span></div>
<div class="line"><span class="lineno"> 3521</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a8c88eeacff4de9e240deddb1f24e5b05">mod_recalculatenodeboxes</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3522</span>        <a class="code hl_function" href="model__brush_8c.html#acb784ed0c17cd42d96867636ae18028c">Mod_BSP_RecursiveRecalcNodeBBox</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>);</div>
<div class="line"><span class="lineno"> 3523</span>}</div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="amathlib_8c_html_a55d3557bbf3992473d57a8f16ac0ae6e"><div class="ttname"><a href="mathlib_8c.html#a55d3557bbf3992473d57a8f16ac0ae6e">BoxFromPoints</a></div><div class="ttdeci">void BoxFromPoints(vec3_t mins, vec3_t maxs, int numpoints, vec_t *point3f)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00877">mathlib.c:877</a></div></div>
<div class="ttc" id="amathlib_8c_html_ac6346bdac2617a1fce578c20b3520a79"><div class="ttname"><a href="mathlib_8c.html#ac6346bdac2617a1fce578c20b3520a79">PlaneClassify</a></div><div class="ttdeci">void PlaneClassify(mplane_t *p)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00310">mathlib.c:310</a></div></div>
<div class="ttc" id="amathlib_8h_html_a28f9f1fe5f50e359e016f7e4e04f8cf1"><div class="ttname"><a href="mathlib_8h.html#a28f9f1fe5f50e359e016f7e4e04f8cf1">VectorNegate</a></div><div class="ttdeci">#define VectorNegate(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00094">mathlib.h:94</a></div></div>
<div class="ttc" id="amathlib_8h_html_ad3cbbdfa4ea0dddf1026ffc640644d79"><div class="ttname"><a href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a></div><div class="ttdeci">#define VectorSet(a, b, c, d)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00095">mathlib.h:95</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a0f5aebb75e69af216675eee8e12e3410"><div class="ttname"><a href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a></div><div class="ttdeci">static memexpandablearray_t portalarray</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03378">model_brush.c:3378</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_acb784ed0c17cd42d96867636ae18028c"><div class="ttname"><a href="model__brush_8c.html#acb784ed0c17cd42d96867636ae18028c">Mod_BSP_RecursiveRecalcNodeBBox</a></div><div class="ttdeci">static void Mod_BSP_RecursiveRecalcNodeBBox(mnode_t *node)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03380">model_brush.c:3380</a></div></div>
<div class="ttc" id="astructmleaf__t_html_aeddeeae6b333d6c954f2f47733547857"><div class="ttname"><a href="structmleaf__t.html#aeddeeae6b333d6c954f2f47733547857">mleaf_t::portals</a></div><div class="ttdeci">struct mportal_s * portals</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00179">model_brush.h:179</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a447975184b2754629bb27c1bcf15d2dc"><div class="ttname"><a href="structmodel__brush__t.html#a447975184b2754629bb27c1bcf15d2dc">model_brush_t::data_portals</a></div><div class="ttdeci">mportal_t * data_portals</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00298">model_brush.h:298</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a747ece9cd6c06d90eb4e8545064b4bef"><div class="ttname"><a href="structmodel__brush__t.html#a747ece9cd6c06d90eb4e8545064b4bef">model_brush_t::num_portalpoints</a></div><div class="ttdeci">int num_portalpoints</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00300">model_brush.h:300</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a760d9e36ab60e1ce40bffea6ec5ac4e4"><div class="ttname"><a href="structmodel__brush__t.html#a760d9e36ab60e1ce40bffea6ec5ac4e4">model_brush_t::data_portalpoints</a></div><div class="ttdeci">mvertex_t * data_portalpoints</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00301">model_brush.h:301</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a80d9915c394c4ff052e777804cc6da63"><div class="ttname"><a href="structmodel__brush__t.html#a80d9915c394c4ff052e777804cc6da63">model_brush_t::num_portals</a></div><div class="ttdeci">int num_portals</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00297">model_brush.h:297</a></div></div>
<div class="ttc" id="astructmodel__t_html_a89acb0870888d15e8a405ba84bd6e611"><div class="ttname"><a href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">model_t::mempool</a></div><div class="ttdeci">struct mempool_s * mempool</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00441">model_shared.h:441</a></div></div>
<div class="ttc" id="astructmplane__t_html_a3f00ad54cea46a900371a541456b210e"><div class="ttname"><a href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">mplane_t::normal</a></div><div class="ttdeci">vec3_t normal</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00059">model_brush.h:59</a></div></div>
<div class="ttc" id="astructmplane__t_html_a72369d2eb517748a74711956e158ea91"><div class="ttname"><a href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">mplane_t::dist</a></div><div class="ttdeci">vec_t dist</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00060">model_brush.h:60</a></div></div>
<div class="ttc" id="astructmvertex__t_html"><div class="ttname"><a href="structmvertex__t.html">mvertex_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00041">model_brush.h:42</a></div></div>
<div class="ttc" id="astructportal__t_html_a278b0fb8d0ff80c8025cd1ccbf2dcda3"><div class="ttname"><a href="structportal__t.html#a278b0fb8d0ff80c8025cd1ccbf2dcda3">portal_t::points</a></div><div class="ttdeci">double points[3 *MAX_PORTALPOINTS]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03373">model_brush.c:3373</a></div></div>
<div class="ttc" id="astructportal__t_html_a73f4d75b7edc2da1a1ebab95e16c47f2"><div class="ttname"><a href="structportal__t.html#a73f4d75b7edc2da1a1ebab95e16c47f2">portal_t::plane</a></div><div class="ttdeci">mplane_t plane</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03369">model_brush.c:3369</a></div></div>
<div class="ttc" id="astructportal__t_html_a83bfdf294227a69d6f43347f0a50a0e9"><div class="ttname"><a href="structportal__t.html#a83bfdf294227a69d6f43347f0a50a0e9">portal_t::numpoints</a></div><div class="ttdeci">int numpoints</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03372">model_brush.c:3372</a></div></div>
<div class="ttc" id="azone_8c_html_a1b1599deb1c7db8a64afe5cf4cdbd539"><div class="ttname"><a href="zone_8c.html#a1b1599deb1c7db8a64afe5cf4cdbd539">Mem_ExpandableArray_IndexRange</a></div><div class="ttdeci">size_t Mem_ExpandableArray_IndexRange(const memexpandablearray_t *l)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00763">zone.c:763</a></div></div>
<div class="ttc" id="azone_8c_html_ac3c570c2a60e19b44ed16e7e0ba844fa"><div class="ttname"><a href="zone_8c.html#ac3c570c2a60e19b44ed16e7e0ba844fa">Mem_ExpandableArray_RecordAtIndex</a></div><div class="ttdeci">void * Mem_ExpandableArray_RecordAtIndex(const memexpandablearray_t *l, size_t index)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00780">zone.c:780</a></div></div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03753">Mod_BSP_MakePortals()</a>.</p>

</div>
</div>
<a id="a8de8e2031a8fb80452d8a3b9fedc159c" name="a8de8e2031a8fb80452d8a3b9fedc159c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de8e2031a8fb80452d8a3b9fedc159c">&#9670;&#160;</a></span>Mod_BSP_FindBoxClusters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_BSP_FindBoxClusters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>mins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>maxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>maxclusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> *&#160;</td>
          <td class="paramname"><em>clusterlist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00184">184</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span>{</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordtype">int</span> numclusters = 0;</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> = 0;</div>
<div class="line"><span class="lineno">  188</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[1024];</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">if</span> (!model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>)</div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>;</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno">  193</span>    {</div>
<div class="line"><span class="lineno">  194</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  196</span>        {</div>
<div class="line"><span class="lineno">  197</span>            <span class="comment">// node - recurse down the BSP tree</span></div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordtype">int</span> sides = <a class="code hl_function" href="mathlib_8c.html#aea6de4286a37f9e063f4542490d672c2">BoxOnPlaneSide</a>(mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane);</div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">if</span> (sides &lt; 3)</div>
<div class="line"><span class="lineno">  200</span>            {</div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">if</span> (sides == 0)</div>
<div class="line"><span class="lineno">  202</span>                    <span class="keywordflow">return</span> -1; <span class="comment">// ERROR: NAN bounding box!</span></div>
<div class="line"><span class="lineno">  203</span>                <span class="comment">// box is on one side of plane, take that path</span></div>
<div class="line"><span class="lineno">  204</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[sides-1];</div>
<div class="line"><span class="lineno">  205</span>            }</div>
<div class="line"><span class="lineno">  206</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  207</span>            {</div>
<div class="line"><span class="lineno">  208</span>                <span class="comment">// box crosses plane, take one path and remember the other</span></div>
<div class="line"><span class="lineno">  209</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> &lt; 1024)</div>
<div class="line"><span class="lineno">  210</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno">  211</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno">  212</span>            }</div>
<div class="line"><span class="lineno">  213</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  214</span>        }</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  216</span>        {</div>
<div class="line"><span class="lineno">  217</span>            <span class="comment">// leaf - add clusterindex to list</span></div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">if</span> (numclusters &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxclusters</a>)</div>
<div class="line"><span class="lineno">  219</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clusterlist</a>[numclusters] = ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex;</div>
<div class="line"><span class="lineno">  220</span>            numclusters++;</div>
<div class="line"><span class="lineno">  221</span>        }</div>
<div class="line"><span class="lineno">  222</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs))</div>
<div class="line"><span class="lineno">  224</span>        {</div>
<div class="line"><span class="lineno">  225</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  226</span>            {</div>
<div class="line"><span class="lineno">  227</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> &lt; 1024)</div>
<div class="line"><span class="lineno">  228</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno">  229</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno">  230</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  231</span>            }</div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  233</span>            {</div>
<div class="line"><span class="lineno">  234</span>                <span class="comment">// leaf - add clusterindex to list</span></div>
<div class="line"><span class="lineno">  235</span>                <span class="keywordflow">if</span> (numclusters &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxclusters</a>)</div>
<div class="line"><span class="lineno">  236</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clusterlist</a>[numclusters] = ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex;</div>
<div class="line"><span class="lineno">  237</span>                numclusters++;</div>
<div class="line"><span class="lineno">  238</span>            }</div>
<div class="line"><span class="lineno">  239</span>        }</div>
<div class="line"><span class="lineno">  240</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  241</span>        <span class="comment">// try another path we didn&#39;t take earlier</span></div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a> == 0)</div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  244</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[--<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackindex</a>];</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span>    <span class="comment">// return number of clusters found (even if more than the maxclusters)</span></div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">return</span> numclusters;</div>
<div class="line"><span class="lineno">  248</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a996f873f75319d130c4c2f689629affd" name="a996f873f75319d130c4c2f689629affd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a996f873f75319d130c4c2f689629affd">&#9670;&#160;</a></span>Mod_BSP_FindNonSolidLocation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_FindNonSolidLocation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00596">596</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  597</span>{</div>
<div class="line"><span class="lineno">  598</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno">  599</span>    <a class="code hl_struct" href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a> info;</div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span> (model == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">  601</span>    {</div>
<div class="line"><span class="lineno">  602</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(in, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>);</div>
<div class="line"><span class="lineno">  603</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  604</span>    }</div>
<div class="line"><span class="lineno">  605</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(in, info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>);</div>
<div class="line"><span class="lineno">  606</span>    info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> = radius;</div>
<div class="line"><span class="lineno">  607</span>    info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#abfbdbe16a9b85957cb6f02e973077b95">model</a> = model;</div>
<div class="line"><span class="lineno">  608</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  610</span>    {</div>
<div class="line"><span class="lineno">  611</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa8f6d7d119b1a3d4e7a72d982ee5ee9b">nudge</a>);</div>
<div class="line"><span class="lineno">  612</span>        info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> = radius;</div>
<div class="line"><span class="lineno">  613</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#ae2fe4adefbcc6267d8b8445243e38289">absmin</a>);</div>
<div class="line"><span class="lineno">  614</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa5d9ef6bfab531f063109e693ca2a2a9">absmax</a>);</div>
<div class="line"><span class="lineno">  615</span>        info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#ae2fe4adefbcc6267d8b8445243e38289">absmin</a>[0] -= info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> + 1;</div>
<div class="line"><span class="lineno">  616</span>        info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#ae2fe4adefbcc6267d8b8445243e38289">absmin</a>[1] -= info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> + 1;</div>
<div class="line"><span class="lineno">  617</span>        info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#ae2fe4adefbcc6267d8b8445243e38289">absmin</a>[2] -= info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> + 1;</div>
<div class="line"><span class="lineno">  618</span>        info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa5d9ef6bfab531f063109e693ca2a2a9">absmax</a>[0] += info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> + 1;</div>
<div class="line"><span class="lineno">  619</span>        info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa5d9ef6bfab531f063109e693ca2a2a9">absmax</a>[1] += info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> + 1;</div>
<div class="line"><span class="lineno">  620</span>        info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa5d9ef6bfab531f063109e693ca2a2a9">absmax</a>[2] += info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> + 1;</div>
<div class="line"><span class="lineno">  621</span>        <a class="code hl_function" href="model__brush_8c.html#a6b48f4e1a7620547b603b553d3b790a4">Mod_BSP_FindNonSolidLocation_r</a>(&amp;info, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>);</div>
<div class="line"><span class="lineno">  622</span>        <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa8f6d7d119b1a3d4e7a72d982ee5ee9b">nudge</a>, info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>);</div>
<div class="line"><span class="lineno">  623</span>    }</div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordflow">while</span> (info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> &lt; radius &amp;&amp; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 10);</div>
<div class="line"><span class="lineno">  625</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(info.<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>);</div>
<div class="line"><span class="lineno">  626</span>}</div>
<div class="ttc" id="amathlib_8h_html_a547609f6e7dbcd2c93a0adf5430ef665"><div class="ttname"><a href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a></div><div class="ttdeci">#define VectorClear(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00096">mathlib.h:96</a></div></div>
<div class="ttc" id="amathlib_8h_html_ac7c7d40fe22eeaffb66c24bd718f655d"><div class="ttname"><a href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a></div><div class="ttdeci">#define VectorAdd(a, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00099">mathlib.h:99</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a6b48f4e1a7620547b603b553d3b790a4"><div class="ttname"><a href="model__brush_8c.html#a6b48f4e1a7620547b603b553d3b790a4">Mod_BSP_FindNonSolidLocation_r</a></div><div class="ttdeci">static void Mod_BSP_FindNonSolidLocation_r(findnonsolidlocationinfo_t *info, mnode_t *node)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00579">model_brush.c:579</a></div></div>
<div class="ttc" id="astructfindnonsolidlocationinfo__t_html"><div class="ttname"><a href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00461">model_brush.c:462</a></div></div>
<div class="ttc" id="astructfindnonsolidlocationinfo__t_html_a0c65d883051fffc7c7168649d3dd5e38"><div class="ttname"><a href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">findnonsolidlocationinfo_t::radius</a></div><div class="ttdeci">vec_t radius</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00465">model_brush.c:465</a></div></div>
<div class="ttc" id="astructfindnonsolidlocationinfo__t_html_a2631005babf0afb1d9b41f58097c29c7"><div class="ttname"><a href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">findnonsolidlocationinfo_t::bestdist</a></div><div class="ttdeci">vec_t bestdist</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00467">model_brush.c:467</a></div></div>
<div class="ttc" id="astructfindnonsolidlocationinfo__t_html_a87a12237bb9ba27ae9042d770d6b3ed6"><div class="ttname"><a href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">findnonsolidlocationinfo_t::center</a></div><div class="ttdeci">vec3_t center</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00463">model_brush.c:463</a></div></div>
<div class="ttc" id="astructfindnonsolidlocationinfo__t_html_aa5d9ef6bfab531f063109e693ca2a2a9"><div class="ttname"><a href="structfindnonsolidlocationinfo__t.html#aa5d9ef6bfab531f063109e693ca2a2a9">findnonsolidlocationinfo_t::absmax</a></div><div class="ttdeci">vec3_t absmax</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00464">model_brush.c:464</a></div></div>
<div class="ttc" id="astructfindnonsolidlocationinfo__t_html_aa8f6d7d119b1a3d4e7a72d982ee5ee9b"><div class="ttname"><a href="structfindnonsolidlocationinfo__t.html#aa8f6d7d119b1a3d4e7a72d982ee5ee9b">findnonsolidlocationinfo_t::nudge</a></div><div class="ttdeci">vec3_t nudge</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00466">model_brush.c:466</a></div></div>
<div class="ttc" id="astructfindnonsolidlocationinfo__t_html_abfbdbe16a9b85957cb6f02e973077b95"><div class="ttname"><a href="structfindnonsolidlocationinfo__t.html#abfbdbe16a9b85957cb6f02e973077b95">findnonsolidlocationinfo_t::model</a></div><div class="ttdeci">model_t * model</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00468">model_brush.c:468</a></div></div>
<div class="ttc" id="astructfindnonsolidlocationinfo__t_html_ae2fe4adefbcc6267d8b8445243e38289"><div class="ttname"><a href="structfindnonsolidlocationinfo__t.html#ae2fe4adefbcc6267d8b8445243e38289">findnonsolidlocationinfo_t::absmin</a></div><div class="ttdeci">vec3_t absmin</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00464">model_brush.c:464</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a6b48f4e1a7620547b603b553d3b790a4" name="a6b48f4e1a7620547b603b553d3b790a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b48f4e1a7620547b603b553d3b790a4">&#9670;&#160;</a></span>Mod_BSP_FindNonSolidLocation_r()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_FindNonSolidLocation_r </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00579">579</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  580</span>{</div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  582</span>    {</div>
<div class="line"><span class="lineno">  583</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_define" href="mathlib_8h.html#ac1dbe9174f905df05e0d9c896cc4f877">PlaneDiff</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane);</div>
<div class="line"><span class="lineno">  584</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> &gt;= -info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a>)</div>
<div class="line"><span class="lineno">  585</span>            <a class="code hl_function" href="model__brush_8c.html#a6b48f4e1a7620547b603b553d3b790a4">Mod_BSP_FindNonSolidLocation_r</a>(info, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]);</div>
<div class="line"><span class="lineno">  586</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">f &lt;= info-&gt;</a>bestdist)</div>
<div class="line"><span class="lineno">  587</span>            <a class="code hl_function" href="model__brush_8c.html#a6b48f4e1a7620547b603b553d3b790a4">Mod_BSP_FindNonSolidLocation_r</a>(info, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]);</div>
<div class="line"><span class="lineno">  588</span>    }</div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  590</span>    {</div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordflow">if</span> (((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;numleafsurfaces)</div>
<div class="line"><span class="lineno">  592</span>            <a class="code hl_function" href="model__brush_8c.html#a88afcaa260469d60a233524f74ba8ec1">Mod_BSP_FindNonSolidLocation_r_Leaf</a>(info, (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>);</div>
<div class="line"><span class="lineno">  593</span>    }</div>
<div class="line"><span class="lineno">  594</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a88afcaa260469d60a233524f74ba8ec1"><div class="ttname"><a href="model__brush_8c.html#a88afcaa260469d60a233524f74ba8ec1">Mod_BSP_FindNonSolidLocation_r_Leaf</a></div><div class="ttdeci">static void Mod_BSP_FindNonSolidLocation_r_Leaf(findnonsolidlocationinfo_t *info, mleaf_t *leaf)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00560">model_brush.c:560</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a731feb93da8dc28ee53e37b43daabd06"><div class="ttname"><a href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a></div><div class="ttdeci">float f</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00586">shader_glsl.h:586</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00596">Mod_BSP_FindNonSolidLocation()</a>, and <a class="el" href="model__brush_8c_source.html#l00579">Mod_BSP_FindNonSolidLocation_r()</a>.</p>

</div>
</div>
<a id="a88afcaa260469d60a233524f74ba8ec1" name="a88afcaa260469d60a233524f74ba8ec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88afcaa260469d60a233524f74ba8ec1">&#9670;&#160;</a></span>Mod_BSP_FindNonSolidLocation_r_Leaf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_FindNonSolidLocation_r_Leaf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmleaf__t.html">mleaf_t</a> *&#160;</td>
          <td class="paramname"><em>leaf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00560">560</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  561</span>{</div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, *mark;</div>
<div class="line"><span class="lineno">  563</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0, mark = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;firstleafsurface;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;numleafsurfaces;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++, mark++)</div>
<div class="line"><span class="lineno">  565</span>    {</div>
<div class="line"><span class="lineno">  566</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#abfbdbe16a9b85957cb6f02e973077b95">model</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + *mark;</div>
<div class="line"><span class="lineno">  567</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture)</div>
<div class="line"><span class="lineno">  568</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  569</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>)</div>
<div class="line"><span class="lineno">  570</span>        {</div>
<div class="line"><span class="lineno">  571</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno">  572</span>            {</div>
<div class="line"><span class="lineno">  573</span>                <a class="code hl_function" href="model__brush_8c.html#a4f2497960d690b955c60f7fc22750157">Mod_BSP_FindNonSolidLocation_r_Triangle</a>(info, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>);</div>
<div class="line"><span class="lineno">  574</span>            }</div>
<div class="line"><span class="lineno">  575</span>        }</div>
<div class="line"><span class="lineno">  576</span>    }</div>
<div class="line"><span class="lineno">  577</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a4f2497960d690b955c60f7fc22750157"><div class="ttname"><a href="model__brush_8c.html#a4f2497960d690b955c60f7fc22750157">Mod_BSP_FindNonSolidLocation_r_Triangle</a></div><div class="ttdeci">static void Mod_BSP_FindNonSolidLocation_r_Triangle(findnonsolidlocationinfo_t *info, msurface_t *surface, int k)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00472">model_brush.c:472</a></div></div>
<div class="ttc" id="astructmodel__t_html_a438c22283046e832aba6c3a7b1a92feb"><div class="ttname"><a href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">model_t::data_surfaces</a></div><div class="ttdeci">msurface_t * data_surfaces</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00499">model_shared.h:499</a></div></div>
<div class="ttc" id="astructmsurface__t_html"><div class="ttname"><a href="structmsurface__t.html">msurface_t</a></div><div class="ttdoc">describes the textures to use on a range of triangles in the model, and mins/maxs (AABB) for culling.</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00377">model_shared.h:378</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00579">Mod_BSP_FindNonSolidLocation_r()</a>.</p>

</div>
</div>
<a id="a4f2497960d690b955c60f7fc22750157" name="a4f2497960d690b955c60f7fc22750157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f2497960d690b955c60f7fc22750157">&#9670;&#160;</a></span>Mod_BSP_FindNonSolidLocation_r_Triangle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_FindNonSolidLocation_r_Triangle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfindnonsolidlocationinfo__t.html">findnonsolidlocationinfo_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmsurface__t.html">msurface_t</a> *&#160;</td>
          <td class="paramname"><em>surface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00472">472</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  473</span>{</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tri</a>;</div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordtype">float</span> dist, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, vert[3][3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[3][3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>[3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[3][3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[3];</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tri</a> = (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#abfbdbe16a9b85957cb6f02e973077b95">model</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> * 3;</div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>((info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#abfbdbe16a9b85957cb6f02e973077b95">model</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tri</a>[0] * 3), vert[0]);</div>
<div class="line"><span class="lineno">  479</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>((info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#abfbdbe16a9b85957cb6f02e973077b95">model</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tri</a>[1] * 3), vert[1]);</div>
<div class="line"><span class="lineno">  480</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>((info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#abfbdbe16a9b85957cb6f02e973077b95">model</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tri</a>[2] * 3), vert[2]);</div>
<div class="line"><span class="lineno">  481</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(vert[1], vert[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[0]);</div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(vert[2], vert[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[1]);</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_define" href="mathlib_8h.html#aa3c5114e57f89ea32ef8f41e00631e44">CrossProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>);</div>
<div class="line"><span class="lineno">  484</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>[0] || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>[1] || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>[2])</div>
<div class="line"><span class="lineno">  485</span>    {</div>
<div class="line"><span class="lineno">  486</span>        <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>);</div>
<div class="line"><span class="lineno">  487</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>) - <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(vert[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>);</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">f &lt;= info-&gt;</a>bestdist &amp;&amp; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> &gt;= -info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a>)</div>
<div class="line"><span class="lineno">  489</span>        {</div>
<div class="line"><span class="lineno">  490</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(vert[0], vert[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[2]);</div>
<div class="line"><span class="lineno">  491</span>            <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[0]);</div>
<div class="line"><span class="lineno">  492</span>            <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[1]);</div>
<div class="line"><span class="lineno">  493</span>            <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[2]);</div>
<div class="line"><span class="lineno">  494</span>            <a class="code hl_define" href="mathlib_8h.html#aa3c5114e57f89ea32ef8f41e00631e44">CrossProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[0]);</div>
<div class="line"><span class="lineno">  495</span>            <a class="code hl_define" href="mathlib_8h.html#aa3c5114e57f89ea32ef8f41e00631e44">CrossProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[1]);</div>
<div class="line"><span class="lineno">  496</span>            <a class="code hl_define" href="mathlib_8h.html#aa3c5114e57f89ea32ef8f41e00631e44">CrossProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[2]);</div>
<div class="line"><span class="lineno">  497</span>            <span class="comment">// face distance</span></div>
<div class="line"><span class="lineno">  498</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[0]) &lt; <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(vert[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[0])</div>
<div class="line"><span class="lineno">  499</span>                    &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[1]) &lt; <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(vert[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[1])</div>
<div class="line"><span class="lineno">  500</span>                    &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[2]) &lt; <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(vert[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[2]))</div>
<div class="line"><span class="lineno">  501</span>            {</div>
<div class="line"><span class="lineno">  502</span>                <span class="comment">// we got lucky, the center is within the face</span></div>
<div class="line"><span class="lineno">  503</span>                dist = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>) - <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(vert[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>);</div>
<div class="line"><span class="lineno">  504</span>                <span class="keywordflow">if</span> (dist &lt; 0)</div>
<div class="line"><span class="lineno">  505</span>                {</div>
<div class="line"><span class="lineno">  506</span>                    dist = -dist;</div>
<div class="line"><span class="lineno">  507</span>                    <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> &gt; dist)</div>
<div class="line"><span class="lineno">  508</span>                    {</div>
<div class="line"><span class="lineno">  509</span>                        info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> = dist;</div>
<div class="line"><span class="lineno">  510</span>                        <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>, (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> - -dist), info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa8f6d7d119b1a3d4e7a72d982ee5ee9b">nudge</a>);</div>
<div class="line"><span class="lineno">  511</span>                    }</div>
<div class="line"><span class="lineno">  512</span>                }</div>
<div class="line"><span class="lineno">  513</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  514</span>                {</div>
<div class="line"><span class="lineno">  515</span>                    <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> &gt; dist)</div>
<div class="line"><span class="lineno">  516</span>                    {</div>
<div class="line"><span class="lineno">  517</span>                        info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> = dist;</div>
<div class="line"><span class="lineno">  518</span>                        <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facenormal</a>, (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> - dist), info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa8f6d7d119b1a3d4e7a72d982ee5ee9b">nudge</a>);</div>
<div class="line"><span class="lineno">  519</span>                    }</div>
<div class="line"><span class="lineno">  520</span>                }</div>
<div class="line"><span class="lineno">  521</span>            }</div>
<div class="line"><span class="lineno">  522</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  523</span>            {</div>
<div class="line"><span class="lineno">  524</span>                <span class="comment">// check which edge or vertex the center is nearest</span></div>
<div class="line"><span class="lineno">  525</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  526</span>                {</div>
<div class="line"><span class="lineno">  527</span>                    <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno">  528</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> &gt;= <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(vert[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><span class="lineno">  529</span>                            &amp;&amp; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> &lt;= <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(vert[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><span class="lineno">  530</span>                    {</div>
<div class="line"><span class="lineno">  531</span>                        <span class="comment">// on edge</span></div>
<div class="line"><span class="lineno">  532</span>                        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, -<a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edge</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>);</div>
<div class="line"><span class="lineno">  533</span>                        dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>));</div>
<div class="line"><span class="lineno">  534</span>                        <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> &gt; dist)</div>
<div class="line"><span class="lineno">  535</span>                        {</div>
<div class="line"><span class="lineno">  536</span>                            info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> = dist;</div>
<div class="line"><span class="lineno">  537</span>                            <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>, (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> / dist), info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa8f6d7d119b1a3d4e7a72d982ee5ee9b">nudge</a>);</div>
<div class="line"><span class="lineno">  538</span>                        }</div>
<div class="line"><span class="lineno">  539</span>                        <span class="comment">// skip both vertex checks</span></div>
<div class="line"><span class="lineno">  540</span>                        <span class="comment">// (both are further away than this edge)</span></div>
<div class="line"><span class="lineno">  541</span>                        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++;</div>
<div class="line"><span class="lineno">  542</span>                    }</div>
<div class="line"><span class="lineno">  543</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  544</span>                    {</div>
<div class="line"><span class="lineno">  545</span>                        <span class="comment">// not on edge, check first vertex of edge</span></div>
<div class="line"><span class="lineno">  546</span>                        <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a87a12237bb9ba27ae9042d770d6b3ed6">center</a>, vert[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>);</div>
<div class="line"><span class="lineno">  547</span>                        dist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>));</div>
<div class="line"><span class="lineno">  548</span>                        <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> &gt; dist)</div>
<div class="line"><span class="lineno">  549</span>                        {</div>
<div class="line"><span class="lineno">  550</span>                            info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a2631005babf0afb1d9b41f58097c29c7">bestdist</a> = dist;</div>
<div class="line"><span class="lineno">  551</span>                            <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>, (info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#a0c65d883051fffc7c7168649d3dd5e38">radius</a> / dist), info-&gt;<a class="code hl_variable" href="structfindnonsolidlocationinfo__t.html#aa8f6d7d119b1a3d4e7a72d982ee5ee9b">nudge</a>);</div>
<div class="line"><span class="lineno">  552</span>                        }</div>
<div class="line"><span class="lineno">  553</span>                    }</div>
<div class="line"><span class="lineno">  554</span>                }</div>
<div class="line"><span class="lineno">  555</span>            }</div>
<div class="line"><span class="lineno">  556</span>        }</div>
<div class="line"><span class="lineno">  557</span>    }</div>
<div class="line"><span class="lineno">  558</span>}</div>
<div class="ttc" id="amathlib_8h_html_a49b70428785f62ca69e1547c6ba09bb0"><div class="ttname"><a href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a></div><div class="ttdeci">#define VectorNormalize(v)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00103">mathlib.h:103</a></div></div>
<div class="ttc" id="amathlib_8h_html_aa3c5114e57f89ea32ef8f41e00631e44"><div class="ttname"><a href="mathlib_8h.html#aa3c5114e57f89ea32ef8f41e00631e44">CrossProduct</a></div><div class="ttdeci">#define CrossProduct(a, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00102">mathlib.h:102</a></div></div>
<div class="ttc" id="amathlib_8h_html_ac892cc77f8b6dd3dd543d3f637d63bd1"><div class="ttname"><a href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a></div><div class="ttdeci">#define DotProduct(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00097">mathlib.h:97</a></div></div>
<div class="ttc" id="amathlib_8h_html_adbe75a286ee7ac6c3064ae518ab7d936"><div class="ttname"><a href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a></div><div class="ttdeci">#define VectorScale(in, scale, out)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00110">mathlib.h:110</a></div></div>
<div class="ttc" id="amathlib_8h_html_ae0ab782cffa212723ac17c32ab8f4332"><div class="ttname"><a href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a></div><div class="ttdeci">#define VectorMA(a, scale, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00113">mathlib.h:113</a></div></div>
<div class="ttc" id="astructmodel__t_html_a1c55fbbffd372358dd464cbdad16db70"><div class="ttname"><a href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">model_t::surfmesh</a></div><div class="ttdeci">surfmesh_t surfmesh</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00503">model_shared.h:503</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_a6c79b7bfa30a7309fcfe31093edcfe06"><div class="ttname"><a href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">surfmesh_t::data_element3i</a></div><div class="ttdeci">int * data_element3i</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00090">model_shared.h:90</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_a7e8415435609398f52b4aff9f553ae20"><div class="ttname"><a href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">surfmesh_t::data_vertex3f</a></div><div class="ttdeci">float * data_vertex3f</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00094">model_shared.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00560">Mod_BSP_FindNonSolidLocation_r_Leaf()</a>.</p>

</div>
</div>
<a id="a410424a81c26ecc81451c5da4a7c50f5" name="a410424a81c26ecc81451c5da4a7c50f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410424a81c26ecc81451c5da4a7c50f5">&#9670;&#160;</a></span>Mod_BSP_GetPVS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> * Mod_BSP_GetPVS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03770">3770</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3771</span>{</div>
<div class="line"><span class="lineno"> 3772</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno"> 3773</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>;</div>
<div class="line"><span class="lineno"> 3774</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 3775</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;type &lt; 3 ? p[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;type] : <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;normal)) &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;dist];</div>
<div class="line"><span class="lineno"> 3776</span>    <span class="keywordflow">if</span> (((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex &gt;= 0)</div>
<div class="line"><span class="lineno"> 3777</span>        <span class="keywordflow">return</span> model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> + ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex * model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>;</div>
<div class="line"><span class="lineno"> 3778</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3779</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3780</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03810">Mod_BSP_FatPVS()</a>, <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a077fb94ca69306dbb3dabbd3708619f2" name="a077fb94ca69306dbb3dabbd3708619f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077fb94ca69306dbb3dabbd3708619f2">&#9670;&#160;</a></span>Mod_BSP_LightPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_LightPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>ambientcolor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>diffusecolor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>diffusenormal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01328">1328</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1329</span>{</div>
<div class="line"><span class="lineno"> 1330</span>    <span class="comment">// pretend lighting is coming down from above (due to lack of a lightgrid to know primary lighting direction)</span></div>
<div class="line"><span class="lineno"> 1331</span>    <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>, 0, 0, 1);</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordflow">if</span> (!model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a>)</div>
<div class="line"><span class="lineno"> 1334</span>    {</div>
<div class="line"><span class="lineno"> 1335</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, 1, 1, 1);</div>
<div class="line"><span class="lineno"> 1336</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusecolor</a>, 0, 0, 0);</div>
<div class="line"><span class="lineno"> 1337</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1338</span>    }</div>
<div class="line"><span class="lineno"> 1339</span> </div>
<div class="line"><span class="lineno"> 1340</span>    <a class="code hl_function" href="model__brush_8c.html#aa31d234f5c886423c8b64af46d081421">Mod_BSP_LightPoint_RecursiveBSPNode</a>(model, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusecolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>, p[0], p[1], p[2] + 0.125, p[2] - 65536);</div>
<div class="line"><span class="lineno"> 1341</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_aa31d234f5c886423c8b64af46d081421"><div class="ttname"><a href="model__brush_8c.html#aa31d234f5c886423c8b64af46d081421">Mod_BSP_LightPoint_RecursiveBSPNode</a></div><div class="ttdeci">static int Mod_BSP_LightPoint_RecursiveBSPNode(model_t *model, vec3_t ambientcolor, vec3_t diffusecolor, vec3_t diffusenormal, const mnode_t *node, float x, float y, float startz, float endz)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01184">model_brush.c:1184</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a70a1574bac96e9b59acb8dad94c6c28c"><div class="ttname"><a href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">model_brushq1_t::lightdata</a></div><div class="ttdeci">unsigned char * lightdata</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00032">model_q1bsp.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="aa31d234f5c886423c8b64af46d081421" name="aa31d234f5c886423c8b64af46d081421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa31d234f5c886423c8b64af46d081421">&#9670;&#160;</a></span>Mod_BSP_LightPoint_RecursiveBSPNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_BSP_LightPoint_RecursiveBSPNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>ambientcolor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>diffusecolor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>diffusenormal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>startz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>endz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01184">1184</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1185</span>{</div>
<div class="line"><span class="lineno"> 1186</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>;</div>
<div class="line"><span class="lineno"> 1187</span>    <span class="keywordtype">float</span> front, back;</div>
<div class="line"><span class="lineno"> 1188</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">distz</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endz</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startz</a>;</div>
<div class="line"><span class="lineno"> 1189</span> </div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 1191</span>    {</div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;type)</div>
<div class="line"><span class="lineno"> 1193</span>        {</div>
<div class="line"><span class="lineno"> 1194</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#a4da21edd87d749d64efabb00e509a3a2">PLANE_X</a>:</div>
<div class="line"><span class="lineno"> 1195</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;dist];</div>
<div class="line"><span class="lineno"> 1196</span>            <span class="keywordflow">continue</span>; <span class="comment">// loop back and process the new node</span></div>
<div class="line"><span class="lineno"> 1197</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#a1ab038a51647492906398a58e7a6d0d9">PLANE_Y</a>:</div>
<div class="line"><span class="lineno"> 1198</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;dist];</div>
<div class="line"><span class="lineno"> 1199</span>            <span class="keywordflow">continue</span>; <span class="comment">// loop back and process the new node</span></div>
<div class="line"><span class="lineno"> 1200</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#ab8ec75833032759247d0ffd7f1d3acd7">PLANE_Z</a>:</div>
<div class="line"><span class="lineno"> 1201</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startz</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;dist;</div>
<div class="line"><span class="lineno"> 1202</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endz &lt; node-&gt;</a>plane-&gt;dist) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>)</div>
<div class="line"><span class="lineno"> 1203</span>            {</div>
<div class="line"><span class="lineno"> 1204</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>];</div>
<div class="line"><span class="lineno"> 1205</span>                <span class="keywordflow">continue</span>; <span class="comment">// loop back and process the new node</span></div>
<div class="line"><span class="lineno"> 1206</span>            }</div>
<div class="line"><span class="lineno"> 1207</span>            <span class="comment">// found an intersection</span></div>
<div class="line"><span class="lineno"> 1208</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;dist;</div>
<div class="line"><span class="lineno"> 1209</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1210</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1211</span>            back = front = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;normal[0] + <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;normal[1];</div>
<div class="line"><span class="lineno"> 1212</span>            front += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startz</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;normal[2];</div>
<div class="line"><span class="lineno"> 1213</span>            back += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endz</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;normal[2];</div>
<div class="line"><span class="lineno"> 1214</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = front &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;dist;</div>
<div class="line"><span class="lineno"> 1215</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">back &lt; node-&gt;</a>plane-&gt;dist) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>)</div>
<div class="line"><span class="lineno"> 1216</span>            {</div>
<div class="line"><span class="lineno"> 1217</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>];</div>
<div class="line"><span class="lineno"> 1218</span>                <span class="keywordflow">continue</span>; <span class="comment">// loop back and process the new node</span></div>
<div class="line"><span class="lineno"> 1219</span>            }</div>
<div class="line"><span class="lineno"> 1220</span>            <span class="comment">// found an intersection</span></div>
<div class="line"><span class="lineno"> 1221</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startz</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">distz</a> * (front - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;dist) / (front - back);</div>
<div class="line"><span class="lineno"> 1222</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1223</span>        }</div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>        <span class="comment">// go down front side</span></div>
<div class="line"><span class="lineno"> 1226</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>]-&gt;plane &amp;&amp; <a class="code hl_function" href="model__brush_8c.html#aa31d234f5c886423c8b64af46d081421">Mod_BSP_LightPoint_RecursiveBSPNode</a>(model, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusecolor</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>], <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startz</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>))</div>
<div class="line"><span class="lineno"> 1227</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;    <span class="comment">// hit something</span></div>
<div class="line"><span class="lineno"> 1228</span> </div>
<div class="line"><span class="lineno"> 1229</span>        <span class="comment">// check for impact on this node</span></div>
<div class="line"><span class="lineno"> 1230</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;numsurfaces)</div>
<div class="line"><span class="lineno"> 1231</span>        {</div>
<div class="line"><span class="lineno"> 1232</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1233</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmheight</a>;</div>
<div class="line"><span class="lineno"> 1234</span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ds</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dt</a>;</div>
<div class="line"><span class="lineno"> 1235</span>            <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno"> 1236</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a>;</div>
<div class="line"><span class="lineno"> 1237</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size3</a>;</div>
<div class="line"><span class="lineno"> 1238</span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsfrac</a>;</div>
<div class="line"><span class="lineno"> 1239</span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dtfrac</a>;</div>
<div class="line"><span class="lineno"> 1240</span>            <span class="keywordtype">float</span> scale, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w00</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w01</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w10</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w11</a>;</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;firstsurface;</div>
<div class="line"><span class="lineno"> 1243</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;numsurfaces;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>++)</div>
<div class="line"><span class="lineno"> 1244</span>            {</div>
<div class="line"><span class="lineno"> 1245</span>                <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture)</div>
<div class="line"><span class="lineno"> 1246</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1247</span>                <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;basematerialflags &amp; <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples)</div>
<div class="line"><span class="lineno"> 1248</span>                    <span class="keywordflow">continue</span>;   <span class="comment">// no lightmaps</span></div>
<div class="line"><span class="lineno"> 1249</span> </div>
<div class="line"><span class="lineno"> 1250</span>                <span class="comment">// location we want to sample in the lightmap</span></div>
<div class="line"><span class="lineno"> 1251</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ds</a> = ((<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][0] + <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][2] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][3]) - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[0]) * 0.0625f;</div>
<div class="line"><span class="lineno"> 1252</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dt</a> = ((<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][0] + <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][2] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][3]) - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[1]) * 0.0625f;</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>                <span class="comment">// check the bounds</span></div>
<div class="line"><span class="lineno"> 1255</span>                <span class="comment">// thanks to jitspoe for pointing out that this int cast was</span></div>
<div class="line"><span class="lineno"> 1256</span>                <span class="comment">// rounding toward zero, so we floor it</span></div>
<div class="line"><span class="lineno"> 1257</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ds</a>);</div>
<div class="line"><span class="lineno"> 1258</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dt</a>);</div>
<div class="line"><span class="lineno"> 1259</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmwidth</a> = ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0]&gt;&gt;4)+1);</div>
<div class="line"><span class="lineno"> 1260</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmheight</a> = ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1]&gt;&gt;4)+1);</div>
<div class="line"><span class="lineno"> 1261</span> </div>
<div class="line"><span class="lineno"> 1262</span>                <span class="comment">// is it in bounds?</span></div>
<div class="line"><span class="lineno"> 1263</span>                <span class="comment">// we have to tolerate a position of lmwidth-1 for some rare</span></div>
<div class="line"><span class="lineno"> 1264</span>                <span class="comment">// cases - in which case the sampling position still gets</span></div>
<div class="line"><span class="lineno"> 1265</span>                <span class="comment">// clamped but the color gets interpolated to that edge.</span></div>
<div class="line"><span class="lineno"> 1266</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi &lt; lmwidth &amp;&amp; dti &gt;</a>= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmheight</a>)</div>
<div class="line"><span class="lineno"> 1267</span>                {</div>
<div class="line"><span class="lineno"> 1268</span>                    <span class="comment">// in the rare cases where we&#39;re sampling slightly off</span></div>
<div class="line"><span class="lineno"> 1269</span>                    <span class="comment">// the polygon, clamp the sampling position (we can still</span></div>
<div class="line"><span class="lineno"> 1270</span>                    <span class="comment">// interpolate outside it, where it becomes extrapolation)</span></div>
<div class="line"><span class="lineno"> 1271</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 1272</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a> = 0;</div>
<div class="line"><span class="lineno"> 1273</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 1274</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a> = 0;</div>
<div class="line"><span class="lineno"> 1275</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmwidth</a>-2)</div>
<div class="line"><span class="lineno"> 1276</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmwidth</a>-2;</div>
<div class="line"><span class="lineno"> 1277</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmheight</a>-2)</div>
<div class="line"><span class="lineno"> 1278</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmheight</a>-2;</div>
<div class="line"><span class="lineno"> 1279</span>                    </div>
<div class="line"><span class="lineno"> 1280</span>                    <span class="comment">// calculate bilinear interpolation factors</span></div>
<div class="line"><span class="lineno"> 1281</span>                    <span class="comment">// and also multiply by fixedpoint conversion factors to</span></div>
<div class="line"><span class="lineno"> 1282</span>                    <span class="comment">// compensate for lightmaps being 0-255 (as 0-2), we use</span></div>
<div class="line"><span class="lineno"> 1283</span>                    <span class="comment">// r_refdef.scene.rtlightstylevalue here which is already</span></div>
<div class="line"><span class="lineno"> 1284</span>                    <span class="comment">// 0.000-2.148 range</span></div>
<div class="line"><span class="lineno"> 1285</span>                    <span class="comment">// (if we used r_refdef.scene.lightstylevalue this</span></div>
<div class="line"><span class="lineno"> 1286</span>                    <span class="comment">//  divisor would be 32768 rather than 128)</span></div>
<div class="line"><span class="lineno"> 1287</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsfrac</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ds</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a>;</div>
<div class="line"><span class="lineno"> 1288</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dtfrac</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dt</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a>;</div>
<div class="line"><span class="lineno"> 1289</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w00</a> = (1 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsfrac</a>) * (1 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dtfrac</a>) * (1.0f / 128.0f);</div>
<div class="line"><span class="lineno"> 1290</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w01</a> = (    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsfrac</a>) * (1 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dtfrac</a>) * (1.0f / 128.0f);</div>
<div class="line"><span class="lineno"> 1291</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w10</a> = (1 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsfrac</a>) * (    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dtfrac</a>) * (1.0f / 128.0f);</div>
<div class="line"><span class="lineno"> 1292</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w11</a> = (    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsfrac</a>) * (    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dtfrac</a>) * (1.0f / 128.0f);</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>                    <span class="comment">// values for pointer math</span></div>
<div class="line"><span class="lineno"> 1295</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmwidth</a> * 3; <span class="comment">// LadyHavoc: *3 for colored lighting</span></div>
<div class="line"><span class="lineno"> 1296</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lmheight</a> * 3; <span class="comment">// LadyHavoc: *3 for colored lighting</span></div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>                    <span class="comment">// look up the pixel</span></div>
<div class="line"><span class="lineno"> 1299</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;<a class="code hl_variable" href="structmsurface__t.html#a3bcf5ab2775977746b2df6f5cdb74ef4">lightmapinfo</a>-&gt;<a class="code hl_variable" href="structmsurface__lightmapinfo__t.html#a94793de3b93547f0e7bc325b7437860a">samples</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dti</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line3</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dsi</a>*3; <span class="comment">// LadyHavoc: *3 for colored lighting</span></div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span>                    <span class="comment">// bilinear filter each lightmap style, and sum them</span></div>
<div class="line"><span class="lineno"> 1302</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a>] != 255;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a>++)</div>
<div class="line"><span class="lineno"> 1303</span>                    {</div>
<div class="line"><span class="lineno"> 1304</span>                        scale = <a class="code hl_variable" href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a>.<a class="code hl_variable" href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">scene</a>.<a class="code hl_variable" href="structr__refdef__scene__t.html#a660519b32b5ce0399970d9869890ab87">rtlightstylevalue</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a>]];</div>
<div class="line"><span class="lineno"> 1305</span>                        <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w00</a> * scale;<a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a>            , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>);</div>
<div class="line"><span class="lineno"> 1306</span>                        <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w01</a> * scale;<a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> + 3        , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>);</div>
<div class="line"><span class="lineno"> 1307</span>                        <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w10</a> * scale;<a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line3</a>    , <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>);</div>
<div class="line"><span class="lineno"> 1308</span>                        <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">w11</a> * scale;<a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line3</a> + 3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>);</div>
<div class="line"><span class="lineno"> 1309</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">size3</a>;</div>
<div class="line"><span class="lineno"> 1310</span>                    }</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// success</span></div>
<div class="line"><span class="lineno"> 1313</span>                }</div>
<div class="line"><span class="lineno"> 1314</span>            }</div>
<div class="line"><span class="lineno"> 1315</span>        }</div>
<div class="line"><span class="lineno"> 1316</span> </div>
<div class="line"><span class="lineno"> 1317</span>        <span class="comment">// go down back side</span></div>
<div class="line"><span class="lineno"> 1318</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> ^ 1];</div>
<div class="line"><span class="lineno"> 1319</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startz</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>;</div>
<div class="line"><span class="lineno"> 1320</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">distz</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endz</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startz</a>;</div>
<div class="line"><span class="lineno"> 1321</span>        <span class="comment">// loop back and process the new node</span></div>
<div class="line"><span class="lineno"> 1322</span>    }</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>    <span class="comment">// did not hit anything</span></div>
<div class="line"><span class="lineno"> 1325</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1326</span>}</div>
<div class="ttc" id="abspfile_8h_html_a1ab038a51647492906398a58e7a6d0d9"><div class="ttname"><a href="bspfile_8h.html#a1ab038a51647492906398a58e7a6d0d9">PLANE_Y</a></div><div class="ttdeci">#define PLANE_Y</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00114">bspfile.h:114</a></div></div>
<div class="ttc" id="abspfile_8h_html_a282586e61f7c28cd14c0fe13636aff4f"><div class="ttname"><a href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a></div><div class="ttdeci">#define MAXLIGHTMAPS</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00282">bspfile.h:282</a></div></div>
<div class="ttc" id="abspfile_8h_html_a4da21edd87d749d64efabb00e509a3a2"><div class="ttname"><a href="bspfile_8h.html#a4da21edd87d749d64efabb00e509a3a2">PLANE_X</a></div><div class="ttdeci">#define PLANE_X</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00113">bspfile.h:113</a></div></div>
<div class="ttc" id="abspfile_8h_html_ab8ec75833032759247d0ffd7f1d3acd7"><div class="ttname"><a href="bspfile_8h.html#ab8ec75833032759247d0ffd7f1d3acd7">PLANE_Z</a></div><div class="ttdeci">#define PLANE_Z</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00115">bspfile.h:115</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ae1fda69f1ff6edbb96f5d16b8db0d825"><div class="ttname"><a href="gl__rmain_8c.html#ae1fda69f1ff6edbb96f5d16b8db0d825">r_refdef</a></div><div class="ttdeci">r_refdef_t r_refdef</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00057">gl_rmain.c:57</a></div></div>
<div class="ttc" id="aglquake_8h_html_a161f4efd20c5f2bfc9a7c49c07be7ed7"><div class="ttname"><a href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a></div><div class="ttdeci">GLubyte GLubyte GLubyte GLubyte w</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00781">glquake.h:781</a></div></div>
<div class="ttc" id="aglquake_8h_html_a563ae63395ca802a7c65b4f461fbf0d4"><div class="ttname"><a href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a></div><div class="ttdeci">GLint GLenum GLint GLint y</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a75c9c896e11dc1eed9f9f1180b86d099"><div class="ttname"><a href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a92fe9590f9e3810dbd4abad9431cc63a"><div class="ttname"><a href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a></div><div class="ttdeci">#define MATERIALFLAG_WALL</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00089">model_brush.h:89</a></div></div>
<div class="ttc" id="astructmsurface__lightmapinfo__t_html_a94793de3b93547f0e7bc325b7437860a"><div class="ttname"><a href="structmsurface__lightmapinfo__t.html#a94793de3b93547f0e7bc325b7437860a">msurface_lightmapinfo_t::samples</a></div><div class="ttdeci">unsigned char * samples</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00361">model_shared.h:361</a></div></div>
<div class="ttc" id="astructmsurface__t_html_a3bcf5ab2775977746b2df6f5cdb74ef4"><div class="ttname"><a href="structmsurface__t.html#a3bcf5ab2775977746b2df6f5cdb74ef4">msurface_t::lightmapinfo</a></div><div class="ttdeci">msurface_lightmapinfo_t * lightmapinfo</div><div class="ttdoc">lightmaptexture rebuild information not used in q3bsp</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00399">model_shared.h:399</a></div></div>
<div class="ttc" id="astructr__refdef__scene__t_html_a660519b32b5ce0399970d9869890ab87"><div class="ttname"><a href="structr__refdef__scene__t.html#a660519b32b5ce0399970d9869890ab87">r_refdef_scene_t::rtlightstylevalue</a></div><div class="ttdeci">float rtlightstylevalue[MAX_LIGHTSTYLES]</div><div class="ttdoc">float fraction of base light value</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00382">render.h:382</a></div></div>
<div class="ttc" id="astructr__refdef__t_html_ad1fea7c0925ed7d0709c8d15409db6f8"><div class="ttname"><a href="structr__refdef__t.html#ad1fea7c0925ed7d0709c8d15409db6f8">r_refdef_t::scene</a></div><div class="ttdeci">r_refdef_scene_t scene</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00423">render.h:423</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l01328">Mod_BSP_LightPoint()</a>, and <a class="el" href="model__brush_8c_source.html#l01184">Mod_BSP_LightPoint_RecursiveBSPNode()</a>.</p>

</div>
</div>
<a id="a7ea57bec92a96313861949acfbf0fceb" name="a7ea57bec92a96313861949acfbf0fceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ea57bec92a96313861949acfbf0fceb">&#9670;&#160;</a></span>Mod_BSP_LoadNodes_RecursiveSetParent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_LoadNodes_RecursiveSetParent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02839">2839</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2840</span>{</div>
<div class="line"><span class="lineno"> 2841</span>    <span class="comment">//if (node-&gt;parent)</span></div>
<div class="line"><span class="lineno"> 2842</span>    <span class="comment">//  Host_Error(&quot;Mod_BSP_LoadNodes_RecursiveSetParent: runaway recursion&quot;);</span></div>
<div class="line"><span class="lineno"> 2843</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;parent = parent;</div>
<div class="line"><span class="lineno"> 2844</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 2845</span>    {</div>
<div class="line"><span class="lineno"> 2846</span>        <span class="comment">// this is a node, recurse to children</span></div>
<div class="line"><span class="lineno"> 2847</span>        <a class="code hl_function" href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>);</div>
<div class="line"><span class="lineno"> 2848</span>        <a class="code hl_function" href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>);</div>
<div class="line"><span class="lineno"> 2849</span>        <span class="comment">// combine supercontents of children</span></div>
<div class="line"><span class="lineno"> 2850</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;combinedsupercontents = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]-&gt;combinedsupercontents | <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]-&gt;combinedsupercontents;</div>
<div class="line"><span class="lineno"> 2851</span>    }</div>
<div class="line"><span class="lineno"> 2852</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2853</span>    {</div>
<div class="line"><span class="lineno"> 2854</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 2855</span>        <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno"> 2856</span>        <span class="comment">// if this is a leaf, calculate supercontents mask from all collidable</span></div>
<div class="line"><span class="lineno"> 2857</span>        <span class="comment">// primitives in the leaf (brushes and collision surfaces)</span></div>
<div class="line"><span class="lineno"> 2858</span>        <span class="comment">// also flag if the leaf contains any collision surfaces</span></div>
<div class="line"><span class="lineno"> 2859</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#afe99db4582d49f9184f6c5c9b5969197">combinedsupercontents</a> = 0;</div>
<div class="line"><span class="lineno"> 2860</span>        <span class="comment">// combine the supercontents values of all brushes in this leaf</span></div>
<div class="line"><span class="lineno"> 2861</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;numleafbrushes;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2862</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;combinedsupercontents |= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">data_brushes</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;firstleafbrush[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]].texture-&gt;supercontents;</div>
<div class="line"><span class="lineno"> 2863</span>        <span class="comment">// check if this leaf contains any collision surfaces (q3 patches)</span></div>
<div class="line"><span class="lineno"> 2864</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;numleafsurfaces;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2865</span>        {</div>
<div class="line"><span class="lineno"> 2866</span>            <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;firstleafsurface[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];</div>
<div class="line"><span class="lineno"> 2867</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_collisiontriangles)</div>
<div class="line"><span class="lineno"> 2868</span>            {</div>
<div class="line"><span class="lineno"> 2869</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;containscollisionsurfaces = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2870</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;combinedsupercontents |= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;<a class="code hl_variable" href="structmsurface__t.html#a7caa0cbcf942fc5d17d16ae8f212b91e">texture</a>-&gt;<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a>;</div>
<div class="line"><span class="lineno"> 2871</span>            }</div>
<div class="line"><span class="lineno"> 2872</span>        }</div>
<div class="line"><span class="lineno"> 2873</span>    }</div>
<div class="line"><span class="lineno"> 2874</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a7ea57bec92a96313861949acfbf0fceb"><div class="ttname"><a href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a></div><div class="ttdeci">static void Mod_BSP_LoadNodes_RecursiveSetParent(mnode_t *node, mnode_t *parent)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02839">model_brush.c:2839</a></div></div>
<div class="ttc" id="astructmleaf__t_html_afe99db4582d49f9184f6c5c9b5969197"><div class="ttname"><a href="structmleaf__t.html#afe99db4582d49f9184f6c5c9b5969197">mleaf_t::combinedsupercontents</a></div><div class="ttdeci">int combinedsupercontents</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00184">model_brush.h:184</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a14a4120302a415dd00a36380fa256546"><div class="ttname"><a href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">model_brush_t::data_brushes</a></div><div class="ttdeci">struct q3mbrush_s * data_brushes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00304">model_brush.h:304</a></div></div>
<div class="ttc" id="astructmsurface__t_html_a7caa0cbcf942fc5d17d16ae8f212b91e"><div class="ttname"><a href="structmsurface__t.html#a7caa0cbcf942fc5d17d16ae8f212b91e">msurface_t::texture</a></div><div class="ttdeci">texture_t * texture</div><div class="ttdoc">the texture to use on the surface</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00386">model_shared.h:386</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l02839">Mod_BSP_LoadNodes_RecursiveSetParent()</a>, <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l02876">Mod_Q1BSP_LoadNodes()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04281">Mod_Q2BSP_LoadNodes()</a>, and <a class="el" href="model__brush_8c_source.html#l06366">Mod_Q3BSP_LoadNodes()</a>.</p>

</div>
</div>
<a id="afb6036155682498abfc0c21a60887cbe" name="afb6036155682498abfc0c21a60887cbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb6036155682498abfc0c21a60887cbe">&#9670;&#160;</a></span>Mod_BSP_LoadSubmodels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_LoadSubmodels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhullinfo__t.html">hullinfo_t</a> *&#160;</td>
          <td class="paramname"><em>hullinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02283">2283</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2284</span>{</div>
<div class="line"><span class="lineno"> 2285</span>    <a class="code hl_struct" href="structmmodel__t.html">mmodel_t</a>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2286</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2287</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a> ? (48+4*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>-&gt;filehulls) : 48;</div>
<div class="line"><span class="lineno"> 2288</span> </div>
<div class="line"><span class="lineno"> 2289</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 2290</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a> (<span class="stringliteral">&quot;Mod_BSP_LoadSubmodels: funny lump size in %s&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2291</span> </div>
<div class="line"><span class="lineno"> 2292</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 2293</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmmodel__t.html">mmodel_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 2294</span> </div>
<div class="line"><span class="lineno"> 2295</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">submodels</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2296</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2297</span> </div>
<div class="line"><span class="lineno"> 2298</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 2299</span>    {</div>
<div class="line"><span class="lineno"> 2300</span>    <span class="comment">// spread out the mins / maxs by a pixel</span></div>
<div class="line"><span class="lineno"> 2301</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) - 1;</div>
<div class="line"><span class="lineno"> 2302</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) - 1;</div>
<div class="line"><span class="lineno"> 2303</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) - 1;</div>
<div class="line"><span class="lineno"> 2304</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) + 1;</div>
<div class="line"><span class="lineno"> 2305</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) + 1;</div>
<div class="line"><span class="lineno"> 2306</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) + 1;</div>
<div class="line"><span class="lineno"> 2307</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;origin[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2308</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;origin[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2309</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;origin[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2310</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>)</div>
<div class="line"><span class="lineno"> 2311</span>        {</div>
<div class="line"><span class="lineno"> 2312</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>-&gt;filehulls; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2313</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;headnode[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2314</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;visleafs  = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2315</span>        }</div>
<div class="line"><span class="lineno"> 2316</span>        <span class="keywordflow">else</span> <span class="comment">// Quake 2 has only one hull</span></div>
<div class="line"><span class="lineno"> 2317</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;headnode[0] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2318</span> </div>
<div class="line"><span class="lineno"> 2319</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstface = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2320</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numfaces  = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2321</span>    }</div>
<div class="line"><span class="lineno"> 2322</span>}</div>
<div class="ttc" id="acom__msg_8c_html_a4a078e2e4eeda5096afb0d257d23912d"><div class="ttname"><a href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a></div><div class="ttdeci">float MSG_ReadLittleFloat(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00307">com_msg.c:307</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a9bfb753f583f2009b3ca2e91a127a847"><div class="ttname"><a href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a></div><div class="ttdeci">int MSG_ReadLittleLong(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00285">com_msg.c:285</a></div></div>
<div class="ttc" id="aglquake_8h_html_a51af0e2e7aa22f9dc0c188ee8baa7a11"><div class="ttname"><a href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a></div><div class="ttdeci">GLenum GLenum GLsizei count</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="astructmmodel__t_html"><div class="ttname"><a href="structmmodel__t.html">mmodel_t</a></div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00062">bspfile.h:63</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a12ae1e03d70e00f9b3ba4a11a2314e2e"><div class="ttname"><a href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">model_brush_t::numsubmodels</a></div><div class="ttdeci">int numsubmodels</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00275">model_brush.h:275</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_af1ce33b3b1317f6aa699841281ff993f"><div class="ttname"><a href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">model_brushq1_t::submodels</a></div><div class="ttdeci">mmodel_t * submodels</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00009">model_q1bsp.h:9</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="af063f8a4f957bf32a9c35ded26d58726" name="af063f8a4f957bf32a9c35ded26d58726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af063f8a4f957bf32a9c35ded26d58726">&#9670;&#160;</a></span>Mod_BSP_MakePortals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_MakePortals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03753">3753</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3754</span>{</div>
<div class="line"><span class="lineno"> 3755</span>    <a class="code hl_function" href="zone_8c.html#a211e7367323b1791e87715797bdee714">Mem_ExpandableArray_NewArray</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structportal__t.html">portal_t</a>), 1020*1024/<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structportal__t.html">portal_t</a>));</div>
<div class="line"><span class="lineno"> 3756</span>    <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a> = 0;</div>
<div class="line"><span class="lineno"> 3757</span>    <a class="code hl_variable" href="model__brush_8c.html#a9e288b83e89d9aa4108c9825712fdc4f">portalpointsbuffersize</a> = 6*<a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>*128;</div>
<div class="line"><span class="lineno"> 3758</span>    <a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a> = (<span class="keywordtype">double</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__brush_8c.html#a9e288b83e89d9aa4108c9825712fdc4f">portalpointsbuffersize</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a>));</div>
<div class="line"><span class="lineno"> 3759</span>    <a class="code hl_function" href="model__brush_8c.html#add60d2fdd85ebc13d13b2184bdc89381">Mod_BSP_RecursiveNodePortals</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>);</div>
<div class="line"><span class="lineno"> 3760</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a>);</div>
<div class="line"><span class="lineno"> 3761</span>    <a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3762</span>    <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a> = 0;</div>
<div class="line"><span class="lineno"> 3763</span>    <a class="code hl_variable" href="model__brush_8c.html#a9e288b83e89d9aa4108c9825712fdc4f">portalpointsbuffersize</a> = 0;</div>
<div class="line"><span class="lineno"> 3764</span>    <a class="code hl_function" href="model__brush_8c.html#a5cb19d68e7dfde86ce4c3fac82fd613b">Mod_BSP_FinalizePortals</a>();</div>
<div class="line"><span class="lineno"> 3765</span>    <a class="code hl_function" href="zone_8c.html#af23fe0fce9cfaf4fdbc6a6989ac24821">Mem_ExpandableArray_FreeArray</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a>);</div>
<div class="line"><span class="lineno"> 3766</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a2030006882ac19296436d60265e1a000"><div class="ttname"><a href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a></div><div class="ttdeci">#define MAX_PORTALPOINTS</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03365">model_brush.c:3365</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a566ab79365a9f4094e230dcbbbba40f8"><div class="ttname"><a href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a></div><div class="ttdeci">static int portalpointsbufferoffset</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03600">model_brush.c:3600</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a5cb19d68e7dfde86ce4c3fac82fd613b"><div class="ttname"><a href="model__brush_8c.html#a5cb19d68e7dfde86ce4c3fac82fd613b">Mod_BSP_FinalizePortals</a></div><div class="ttdeci">static void Mod_BSP_FinalizePortals(void)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03399">model_brush.c:3399</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a9e288b83e89d9aa4108c9825712fdc4f"><div class="ttname"><a href="model__brush_8c.html#a9e288b83e89d9aa4108c9825712fdc4f">portalpointsbuffersize</a></div><div class="ttdeci">static int portalpointsbuffersize</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03601">model_brush.c:3601</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aa5a93035ac6c7c31cd9edc1881918f1b"><div class="ttname"><a href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a></div><div class="ttdeci">static double * portalpointsbuffer</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03599">model_brush.c:3599</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_add60d2fdd85ebc13d13b2184bdc89381"><div class="ttname"><a href="model__brush_8c.html#add60d2fdd85ebc13d13b2184bdc89381">Mod_BSP_RecursiveNodePortals</a></div><div class="ttdeci">static void Mod_BSP_RecursiveNodePortals(mnode_t *node)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03602">model_brush.c:3602</a></div></div>
<div class="ttc" id="azone_8c_html_a211e7367323b1791e87715797bdee714"><div class="ttname"><a href="zone_8c.html#a211e7367323b1791e87715797bdee714">Mem_ExpandableArray_NewArray</a></div><div class="ttdeci">void Mem_ExpandableArray_NewArray(memexpandablearray_t *l, mempool_t *mempool, size_t recordsize, int numrecordsperarray)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00675">zone.c:675</a></div></div>
<div class="ttc" id="azone_8c_html_af23fe0fce9cfaf4fdbc6a6989ac24821"><div class="ttname"><a href="zone_8c.html#af23fe0fce9cfaf4fdbc6a6989ac24821">Mem_ExpandableArray_FreeArray</a></div><div class="ttdeci">void Mem_ExpandableArray_FreeArray(memexpandablearray_t *l)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00683">zone.c:683</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="abb086140977095e71ec940fd8f3fc943" name="abb086140977095e71ec940fd8f3fc943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb086140977095e71ec940fd8f3fc943">&#9670;&#160;</a></span>Mod_BSP_PointInLeaf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="structmleaf__t.html">mleaf_t</a> * Mod_BSP_PointInLeaf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00149">149</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  150</span>{</div>
<div class="line"><span class="lineno">  151</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">if</span> (model == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <span class="comment">// LadyHavoc: modified to start at first clip node,</span></div>
<div class="line"><span class="lineno">  157</span>    <span class="comment">// in other words: first node of the (sub)model</span></div>
<div class="line"><span class="lineno">  158</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>;</div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno">  160</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;type &lt; 3 ? p[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;type] : <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(p,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;normal)) &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane-&gt;dist];</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno">  163</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00165">Mod_Q1BSP_AmbientSoundLevelsForPoint()</a>, <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="add60d2fdd85ebc13d13b2184bdc89381" name="add60d2fdd85ebc13d13b2184bdc89381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add60d2fdd85ebc13d13b2184bdc89381">&#9670;&#160;</a></span>Mod_BSP_RecursiveNodePortals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_RecursiveNodePortals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03602">3602</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3603</span>{</div>
<div class="line"><span class="lineno"> 3604</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>;</div>
<div class="line"><span class="lineno"> 3605</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *front, *back, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>;</div>
<div class="line"><span class="lineno"> 3606</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> clipplane, *plane;</div>
<div class="line"><span class="lineno"> 3607</span>    <a class="code hl_struct" href="structportal__t.html">portal_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextportal</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>;</div>
<div class="line"><span class="lineno"> 3608</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numfrontpoints</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numbackpoints</a>;</div>
<div class="line"><span class="lineno"> 3609</span>    <span class="keywordtype">double</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">frontpoints</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backpoints</a>;</div>
<div class="line"><span class="lineno"> 3610</span> </div>
<div class="line"><span class="lineno"> 3611</span>    <span class="comment">// if a leaf, we&#39;re done</span></div>
<div class="line"><span class="lineno"> 3612</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 3613</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3614</span> </div>
<div class="line"><span class="lineno"> 3615</span>    <span class="comment">// get some space for our clipping operations to use</span></div>
<div class="line"><span class="lineno"> 3616</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a9e288b83e89d9aa4108c9825712fdc4f">portalpointsbuffersize</a> &lt; <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a> + 6*<a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>)</div>
<div class="line"><span class="lineno"> 3617</span>    {</div>
<div class="line"><span class="lineno"> 3618</span>        <a class="code hl_variable" href="model__brush_8c.html#a9e288b83e89d9aa4108c9825712fdc4f">portalpointsbuffersize</a> = <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a> * 2;</div>
<div class="line"><span class="lineno"> 3619</span>        <a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a> = (<span class="keywordtype">double</span> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a>, <a class="code hl_variable" href="model__brush_8c.html#a9e288b83e89d9aa4108c9825712fdc4f">portalpointsbuffersize</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a>));</div>
<div class="line"><span class="lineno"> 3620</span>    }</div>
<div class="line"><span class="lineno"> 3621</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">frontpoints</a> = <a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a> + <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a>;</div>
<div class="line"><span class="lineno"> 3622</span>    <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a> += 3*<a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>;</div>
<div class="line"><span class="lineno"> 3623</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backpoints</a> = <a class="code hl_variable" href="model__brush_8c.html#aa5a93035ac6c7c31cd9edc1881918f1b">portalpointsbuffer</a> + <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a>;</div>
<div class="line"><span class="lineno"> 3624</span>    <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a> += 3*<a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>;</div>
<div class="line"><span class="lineno"> 3625</span> </div>
<div class="line"><span class="lineno"> 3626</span>    plane = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane;</div>
<div class="line"><span class="lineno"> 3627</span> </div>
<div class="line"><span class="lineno"> 3628</span>    front = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[0];</div>
<div class="line"><span class="lineno"> 3629</span>    back = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[1];</div>
<div class="line"><span class="lineno"> 3630</span>    <span class="keywordflow">if</span> (front == back)</div>
<div class="line"><span class="lineno"> 3631</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_BSP_RecursiveNodePortals: corrupt node hierarchy&quot;</span>);</div>
<div class="line"><span class="lineno"> 3632</span> </div>
<div class="line"><span class="lineno"> 3633</span>    <span class="comment">// create the new portal by generating a polygon for the node plane,</span></div>
<div class="line"><span class="lineno"> 3634</span>    <span class="comment">// and clipping it by all of the other portals(which came from nodes above this one)</span></div>
<div class="line"><span class="lineno"> 3635</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a> = (<a class="code hl_struct" href="structportal__t.html">portal_t</a> *)<a class="code hl_function" href="zone_8c.html#a6e8351ce990cc9c3c7eb1c6ac8c91921">Mem_ExpandableArray_AllocRecord</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a>);</div>
<div class="line"><span class="lineno"> 3636</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;plane = *plane;</div>
<div class="line"><span class="lineno"> 3637</span> </div>
<div class="line"><span class="lineno"> 3638</span>    <span class="comment">// TODO: calculate node bounding boxes during recursion and calculate a maximum plane size accordingly to improve precision (as most maps do not need 1 billion unit plane polygons)</span></div>
<div class="line"><span class="lineno"> 3639</span>    <a class="code hl_function" href="polygon_8c.html#a8a656b23dda9bcedd27801f6b65a6955">PolygonD_QuadForPlane</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;points, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;plane.normal[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;plane.normal[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;plane.normal[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;plane.dist, 1024.0*1024.0*1024.0);</div>
<div class="line"><span class="lineno"> 3640</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints = 4;</div>
<div class="line"><span class="lineno"> 3641</span> </div>
<div class="line"><span class="lineno"> 3642</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> = (<a class="code hl_struct" href="structportal__t.html">portal_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;portals;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;next[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>])</div>
<div class="line"><span class="lineno"> 3643</span>    {</div>
<div class="line"><span class="lineno"> 3644</span>        clipplane = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;plane;</div>
<div class="line"><span class="lineno"> 3645</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[0] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[1])</div>
<div class="line"><span class="lineno"> 3646</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_BSP_RecursiveNodePortals: portal has same node on both sides(1)&quot;</span>);</div>
<div class="line"><span class="lineno"> 3647</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[0] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</div>
<div class="line"><span class="lineno"> 3648</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 0;</div>
<div class="line"><span class="lineno"> 3649</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[1] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</div>
<div class="line"><span class="lineno"> 3650</span>        {</div>
<div class="line"><span class="lineno"> 3651</span>            clipplane.<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a> = -clipplane.<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 3652</span>            <a class="code hl_define" href="mathlib_8h.html#a28f9f1fe5f50e359e016f7e4e04f8cf1">VectorNegate</a>(clipplane.<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, clipplane.<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>);</div>
<div class="line"><span class="lineno"> 3653</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 1;</div>
<div class="line"><span class="lineno"> 3654</span>        }</div>
<div class="line"><span class="lineno"> 3655</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3656</span>        {</div>
<div class="line"><span class="lineno"> 3657</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_BSP_RecursiveNodePortals: mislinked portal&quot;</span>);</div>
<div class="line"><span class="lineno"> 3658</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 0; <span class="comment">// hush warning</span></div>
<div class="line"><span class="lineno"> 3659</span>        }</div>
<div class="line"><span class="lineno"> 3660</span> </div>
<div class="line"><span class="lineno"> 3661</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints*3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3662</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">frontpoints</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;points[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3663</span>        <a class="code hl_function" href="polygon_8c.html#ab6a3b39f3616e9f085e56f657ee71cf2">PolygonD_Divide</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">frontpoints</a>, clipplane.<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>[0], clipplane.<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>[1], clipplane.<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>[2], clipplane.<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>, <a class="code hl_define" href="model__brush_8c.html#a7cd706b4dd443e5b63a4fe0558574a2a">PORTAL_DIST_EPSILON</a>, <a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;points, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 3664</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints &lt;= 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints &gt;= <a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>)</div>
<div class="line"><span class="lineno"> 3665</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3666</span>    }</div>
<div class="line"><span class="lineno"> 3667</span> </div>
<div class="line"><span class="lineno"> 3668</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints &lt; 3)</div>
<div class="line"><span class="lineno"> 3669</span>    {</div>
<div class="line"><span class="lineno"> 3670</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Mod_BSP_RecursiveNodePortals: WARNING: new portal was clipped away\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3671</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints = 0;</div>
<div class="line"><span class="lineno"> 3672</span>    }</div>
<div class="line"><span class="lineno"> 3673</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints &gt;= <a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>)</div>
<div class="line"><span class="lineno"> 3674</span>    {</div>
<div class="line"><span class="lineno"> 3675</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Mod_BSP_RecursiveNodePortals: WARNING: new portal has too many points\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3676</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>-&gt;numpoints = 0;</div>
<div class="line"><span class="lineno"> 3677</span>    }</div>
<div class="line"><span class="lineno"> 3678</span> </div>
<div class="line"><span class="lineno"> 3679</span>    <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeportal</a>, front, back);</div>
<div class="line"><span class="lineno"> 3680</span> </div>
<div class="line"><span class="lineno"> 3681</span>    <span class="comment">// split the portals of this node along this node&#39;s plane and assign them to the children of this node</span></div>
<div class="line"><span class="lineno"> 3682</span>    <span class="comment">// (migrating the portals downward through the tree)</span></div>
<div class="line"><span class="lineno"> 3683</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> = (<a class="code hl_struct" href="structportal__t.html">portal_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;portals;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextportal</a>)</div>
<div class="line"><span class="lineno"> 3684</span>    {</div>
<div class="line"><span class="lineno"> 3685</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[0] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[1])</div>
<div class="line"><span class="lineno"> 3686</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_BSP_RecursiveNodePortals: portal has same node on both sides(2)&quot;</span>);</div>
<div class="line"><span class="lineno"> 3687</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[0] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</div>
<div class="line"><span class="lineno"> 3688</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 0;</div>
<div class="line"><span class="lineno"> 3689</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[1] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</div>
<div class="line"><span class="lineno"> 3690</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 1;</div>
<div class="line"><span class="lineno"> 3691</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3692</span>        {</div>
<div class="line"><span class="lineno"> 3693</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_BSP_RecursiveNodePortals: mislinked portal&quot;</span>);</div>
<div class="line"><span class="lineno"> 3694</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 0; <span class="comment">// hush warning</span></div>
<div class="line"><span class="lineno"> 3695</span>        }</div>
<div class="line"><span class="lineno"> 3696</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nextportal</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;next[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>];</div>
<div class="line"><span class="lineno"> 3697</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints)</div>
<div class="line"><span class="lineno"> 3698</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3699</span> </div>
<div class="line"><span class="lineno"> 3700</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>];</div>
<div class="line"><span class="lineno"> 3701</span>        <a class="code hl_function" href="model__brush_8c.html#ac1dea715ec143b1c7bb9232d12a2514b">RemovePortalFromNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>);</div>
<div class="line"><span class="lineno"> 3702</span> </div>
<div class="line"><span class="lineno"> 3703</span>        <span class="comment">// cut the portal into two portals, one on each side of the node plane</span></div>
<div class="line"><span class="lineno"> 3704</span>        <a class="code hl_function" href="polygon_8c.html#ab6a3b39f3616e9f085e56f657ee71cf2">PolygonD_Divide</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;points, plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>[0], plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>[1], plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>[2], plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>, <a class="code hl_define" href="model__brush_8c.html#a7cd706b4dd443e5b63a4fe0558574a2a">PORTAL_DIST_EPSILON</a>, <a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">frontpoints</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numfrontpoints</a>, <a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backpoints</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numbackpoints</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 3705</span> </div>
<div class="line"><span class="lineno"> 3706</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numfrontpoints</a>)</div>
<div class="line"><span class="lineno"> 3707</span>        {</div>
<div class="line"><span class="lineno"> 3708</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> == 0)</div>
<div class="line"><span class="lineno"> 3709</span>                <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>, back, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>);</div>
<div class="line"><span class="lineno"> 3710</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3711</span>                <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>, back);</div>
<div class="line"><span class="lineno"> 3712</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3713</span>        }</div>
<div class="line"><span class="lineno"> 3714</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numbackpoints</a>)</div>
<div class="line"><span class="lineno"> 3715</span>        {</div>
<div class="line"><span class="lineno"> 3716</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> == 0)</div>
<div class="line"><span class="lineno"> 3717</span>                <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>, front, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>);</div>
<div class="line"><span class="lineno"> 3718</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3719</span>                <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>, front);</div>
<div class="line"><span class="lineno"> 3720</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3721</span>        }</div>
<div class="line"><span class="lineno"> 3722</span> </div>
<div class="line"><span class="lineno"> 3723</span>        <span class="comment">// the portal is split</span></div>
<div class="line"><span class="lineno"> 3724</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a> = (<a class="code hl_struct" href="structportal__t.html">portal_t</a> *)<a class="code hl_function" href="zone_8c.html#a6e8351ce990cc9c3c7eb1c6ac8c91921">Mem_ExpandableArray_AllocRecord</a>(&amp;<a class="code hl_variable" href="model__brush_8c.html#a0f5aebb75e69af216675eee8e12e3410">portalarray</a>);</div>
<div class="line"><span class="lineno"> 3725</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a>-&gt;chain;</div>
<div class="line"><span class="lineno"> 3726</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a> = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>;</div>
<div class="line"><span class="lineno"> 3727</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a>-&gt;chain = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>;</div>
<div class="line"><span class="lineno"> 3728</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numbackpoints</a>*3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3729</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a>-&gt;points[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backpoints</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3730</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a>-&gt;numpoints = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numbackpoints</a>;</div>
<div class="line"><span class="lineno"> 3731</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numfrontpoints</a>*3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3732</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;points[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">frontpoints</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3733</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;numpoints = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numfrontpoints</a>;</div>
<div class="line"><span class="lineno"> 3734</span> </div>
<div class="line"><span class="lineno"> 3735</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> == 0)</div>
<div class="line"><span class="lineno"> 3736</span>        {</div>
<div class="line"><span class="lineno"> 3737</span>            <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>, front, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>);</div>
<div class="line"><span class="lineno"> 3738</span>            <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a>, back, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>);</div>
<div class="line"><span class="lineno"> 3739</span>        }</div>
<div class="line"><span class="lineno"> 3740</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3741</span>        {</div>
<div class="line"><span class="lineno"> 3742</span>            <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>, front);</div>
<div class="line"><span class="lineno"> 3743</span>            <a class="code hl_function" href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">splitportal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">other_node</a>, back);</div>
<div class="line"><span class="lineno"> 3744</span>        }</div>
<div class="line"><span class="lineno"> 3745</span>    }</div>
<div class="line"><span class="lineno"> 3746</span> </div>
<div class="line"><span class="lineno"> 3747</span>    <a class="code hl_function" href="model__brush_8c.html#add60d2fdd85ebc13d13b2184bdc89381">Mod_BSP_RecursiveNodePortals</a>(front);</div>
<div class="line"><span class="lineno"> 3748</span>    <a class="code hl_function" href="model__brush_8c.html#add60d2fdd85ebc13d13b2184bdc89381">Mod_BSP_RecursiveNodePortals</a>(back);</div>
<div class="line"><span class="lineno"> 3749</span> </div>
<div class="line"><span class="lineno"> 3750</span>    <a class="code hl_variable" href="model__brush_8c.html#a566ab79365a9f4094e230dcbbbba40f8">portalpointsbufferoffset</a> -= 6*<a class="code hl_define" href="model__brush_8c.html#a2030006882ac19296436d60265e1a000">MAX_PORTALPOINTS</a>;</div>
<div class="line"><span class="lineno"> 3751</span>}</div>
<div class="ttc" id="aconsole_8c_html_a1cf9711475097b11dc41f743254ec77e"><div class="ttname"><a href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a></div><div class="ttdeci">void Con_Print(const char *msg)</div><div class="ttdoc">Prints to all appropriate console targets, and adds timestamps.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01450">console.c:1450</a></div></div>
<div class="ttc" id="aconsole_8h_html_a27b052ed2a962d8ec1b9e922d0813058"><div class="ttname"><a href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a></div><div class="ttdeci">#define CON_WARN</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00096">console.h:96</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a7cd706b4dd443e5b63a4fe0558574a2a"><div class="ttname"><a href="model__brush_8c.html#a7cd706b4dd443e5b63a4fe0558574a2a">PORTAL_DIST_EPSILON</a></div><div class="ttdeci">#define PORTAL_DIST_EPSILON</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03598">model_brush.c:3598</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_abc0a5e5ccd56ce8d2ec7f5da8a2646a3"><div class="ttname"><a href="model__brush_8c.html#abc0a5e5ccd56ce8d2ec7f5da8a2646a3">AddPortalToNodes</a></div><div class="ttdeci">static void AddPortalToNodes(portal_t *p, mnode_t *front, mnode_t *back)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03530">model_brush.c:3530</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ac1dea715ec143b1c7bb9232d12a2514b"><div class="ttname"><a href="model__brush_8c.html#ac1dea715ec143b1c7bb9232d12a2514b">RemovePortalFromNodes</a></div><div class="ttdeci">static void RemovePortalFromNodes(portal_t *portal)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03554">model_brush.c:3554</a></div></div>
<div class="ttc" id="apolygon_8c_html_a8a656b23dda9bcedd27801f6b65a6955"><div class="ttname"><a href="polygon_8c.html#a8a656b23dda9bcedd27801f6b65a6955">PolygonD_QuadForPlane</a></div><div class="ttdeci">void PolygonD_QuadForPlane(double *outpoints, double planenormalx, double planenormaly, double planenormalz, double planedist, double quadsize)</div><div class="ttdef"><b>Definition</b> <a href="polygon_8c_source.html#l00054">polygon.c:54</a></div></div>
<div class="ttc" id="apolygon_8c_html_ab6a3b39f3616e9f085e56f657ee71cf2"><div class="ttname"><a href="polygon_8c.html#ab6a3b39f3616e9f085e56f657ee71cf2">PolygonD_Divide</a></div><div class="ttdeci">void PolygonD_Divide(int innumpoints, const double *inpoints, double planenormalx, double planenormaly, double planenormalz, double planedist, double epsilon, int outfrontmaxpoints, double *outfrontpoints, int *neededfrontpoints, int outbackmaxpoints, double *outbackpoints, int *neededbackpoints, int *oncountpointer)</div><div class="ttdef"><b>Definition</b> <a href="polygon_8c_source.html#l00245">polygon.c:245</a></div></div>
<div class="ttc" id="astructmnode__t_html_ab9a05590c2a224ea60fbbcbf50eaf52a"><div class="ttname"><a href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">mnode_t::children</a></div><div class="ttdeci">struct mnode_s * children[2]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00166">model_brush.h:166</a></div></div>
<div class="ttc" id="azone_8c_html_a6e8351ce990cc9c3c7eb1c6ac8c91921"><div class="ttname"><a href="zone_8c.html#a6e8351ce990cc9c3c7eb1c6ac8c91921">Mem_ExpandableArray_AllocRecord</a></div><div class="ttdeci">void * Mem_ExpandableArray_AllocRecord(memexpandablearray_t *l)</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00695">zone.c:695</a></div></div>
<div class="ttc" id="azone_8h_html_aa613261ffbc429e7212d3e9e42de9644"><div class="ttname"><a href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a></div><div class="ttdeci">#define Mem_Realloc(pool, data, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00094">zone.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03753">Mod_BSP_MakePortals()</a>, and <a class="el" href="model__brush_8c_source.html#l03602">Mod_BSP_RecursiveNodePortals()</a>.</p>

</div>
</div>
<a id="acb784ed0c17cd42d96867636ae18028c" name="acb784ed0c17cd42d96867636ae18028c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb784ed0c17cd42d96867636ae18028c">&#9670;&#160;</a></span>Mod_BSP_RecursiveRecalcNodeBBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_BSP_RecursiveRecalcNodeBBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03380">3380</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3381</span>{</div>
<div class="line"><span class="lineno"> 3382</span>    <span class="comment">// process only nodes (leafs already had their box calculated)</span></div>
<div class="line"><span class="lineno"> 3383</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 3384</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3385</span> </div>
<div class="line"><span class="lineno"> 3386</span>    <span class="comment">// calculate children first</span></div>
<div class="line"><span class="lineno"> 3387</span>    <a class="code hl_function" href="model__brush_8c.html#acb784ed0c17cd42d96867636ae18028c">Mod_BSP_RecursiveRecalcNodeBBox</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]);</div>
<div class="line"><span class="lineno"> 3388</span>    <a class="code hl_function" href="model__brush_8c.html#acb784ed0c17cd42d96867636ae18028c">Mod_BSP_RecursiveRecalcNodeBBox</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]);</div>
<div class="line"><span class="lineno"> 3389</span> </div>
<div class="line"><span class="lineno"> 3390</span>    <span class="comment">// make combined bounding box from children</span></div>
<div class="line"><span class="lineno"> 3391</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]-&gt;mins[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]-&gt;mins[0]);</div>
<div class="line"><span class="lineno"> 3392</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]-&gt;mins[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]-&gt;mins[1]);</div>
<div class="line"><span class="lineno"> 3393</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]-&gt;mins[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]-&gt;mins[2]);</div>
<div class="line"><span class="lineno"> 3394</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]-&gt;maxs[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]-&gt;maxs[0]);</div>
<div class="line"><span class="lineno"> 3395</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]-&gt;maxs[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]-&gt;maxs[1]);</div>
<div class="line"><span class="lineno"> 3396</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]-&gt;maxs[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1]-&gt;maxs[2]);</div>
<div class="line"><span class="lineno"> 3397</span>}</div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03399">Mod_BSP_FinalizePortals()</a>, and <a class="el" href="model__brush_8c_source.html#l03380">Mod_BSP_RecursiveRecalcNodeBBox()</a>.</p>

</div>
</div>
<a id="ababe610321bcf4487f3e28ac11b0ca1c" name="ababe610321bcf4487f3e28ac11b0ca1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ababe610321bcf4487f3e28ac11b0ca1c">&#9670;&#160;</a></span>Mod_CollisionBIH_PointSuperContents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_CollisionBIH_PointSuperContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07132">7132</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7133</span>{</div>
<div class="line"><span class="lineno"> 7134</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno"> 7135</span>    <a class="code hl_function" href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a>(model, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>, 0, 0, 0);</div>
<div class="line"><span class="lineno"> 7136</span>    <span class="keywordflow">return</span> trace.<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a>;</div>
<div class="line"><span class="lineno"> 7137</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a968a9377d97910cf10c5186b392543da"><div class="ttname"><a href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a></div><div class="ttdeci">void Mod_CollisionBIH_TracePoint(model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06767">model_brush.c:6767</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a2726571fd5f00e6268319b38a4accb14" name="a2726571fd5f00e6268319b38a4accb14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2726571fd5f00e6268319b38a4accb14">&#9670;&#160;</a></span>Mod_CollisionBIH_PointSuperContents_Mesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_CollisionBIH_PointSuperContents_Mesh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07171">7171</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7172</span>{</div>
<div class="line"><span class="lineno"> 7173</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 7174</span>    <span class="comment">// broken - needs to be modified to count front faces and backfaces to figure out if it is in solid</span></div>
<div class="line"><span class="lineno"> 7175</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno"> 7176</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end;</div>
<div class="line"><span class="lineno"> 7177</span>    <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(end, start[0], start[1], model-&gt;normalmins[2]);</div>
<div class="line"><span class="lineno"> 7178</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;trace, 0, <span class="keyword">sizeof</span>(trace));</div>
<div class="line"><span class="lineno"> 7179</span>    trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno"> 7180</span>    trace.<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 7181</span>    trace.<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 7182</span>    trace.<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 7183</span>    <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>(model, frameblend, skeleton, trace, start, end, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno"> 7184</span>    <span class="keywordflow">return</span> trace.<a class="code hl_variable" href="structtrace__t.html#ad9e1724e1bd447e3ab1ea29db3e73e46">hitsupercontents</a>;</div>
<div class="line"><span class="lineno"> 7185</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 7186</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 7187</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 7188</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_ab816e4b98970a692de3b0ba2faa0ee13"><div class="ttname"><a href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a></div><div class="ttdeci">void Mod_CollisionBIH_TraceLine(model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06961">model_brush.c:6961</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a5fab60d2366b4888d93d5814eb04c9e9"><div class="ttname"><a href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a></div><div class="ttdeci">vec_t vec3_t[3]</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00067">qtypes.h:67</a></div></div>
<div class="ttc" id="astructtrace__t_html_ad9e1724e1bd447e3ab1ea29db3e73e46"><div class="ttname"><a href="structtrace__t.html#ad9e1724e1bd447e3ab1ea29db3e73e46">trace_t::hitsupercontents</a></div><div class="ttdeci">int hitsupercontents</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00058">collision.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__alias_8c_source.html#l02163">Mod_DARKPLACESMODEL_Load()</a>, <a class="el" href="model__alias_8c_source.html#l00972">Mod_IDP0_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01324">Mod_IDP2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01578">Mod_IDP3_Load()</a>, <a class="el" href="model__alias_8c_source.html#l03219">Mod_INTERQUAKEMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, and <a class="el" href="model__alias_8c_source.html#l01768">Mod_ZYMOTICMODEL_Load()</a>.</p>

</div>
</div>
<a id="a29fecb522c6d449fb01d01f2b070e4d1" name="a29fecb522c6d449fb01d01f2b070e4d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29fecb522c6d449fb01d01f2b070e4d1">&#9670;&#160;</a></span>Mod_CollisionBIH_TraceBox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_CollisionBIH_TraceBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>boxmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>boxmaxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07116">7116</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7117</span>{</div>
<div class="line"><span class="lineno"> 7118</span>    <a class="code hl_struct" href="structcolboxbrushf__t.html">colboxbrushf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>;</div>
<div class="line"><span class="lineno"> 7119</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxstartmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxstartmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxendmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxendmaxs</a>;</div>
<div class="line"><span class="lineno"> 7120</span> </div>
<div class="line"><span class="lineno"> 7121</span>    <span class="comment">// box trace, performed as brush trace</span></div>
<div class="line"><span class="lineno"> 7122</span>    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(start, boxmins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxstartmins</a>);</div>
<div class="line"><span class="lineno"> 7123</span>    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(start, boxmaxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxstartmaxs</a>);</div>
<div class="line"><span class="lineno"> 7124</span>    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(end, boxmins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxendmins</a>);</div>
<div class="line"><span class="lineno"> 7125</span>    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(end, boxmaxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxendmaxs</a>);</div>
<div class="line"><span class="lineno"> 7126</span>    <a class="code hl_function" href="collision_8c.html#ab3039d28e7d3dcccde6f0e195cb62f2a">Collision_BrushForBox</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxstartmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxstartmaxs</a>, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 7127</span>    <a class="code hl_function" href="collision_8c.html#ab3039d28e7d3dcccde6f0e195cb62f2a">Collision_BrushForBox</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxendmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxendmaxs</a>, 0, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 7128</span>    <a class="code hl_function" href="model__brush_8c.html#affbc4942202066560126b850810d2662">Mod_CollisionBIH_TraceBrush</a>(model, frameblend, skeleton, trace, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>.brush, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>.brush, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno"> 7129</span>}</div>
<div class="ttc" id="acollision_8c_html_ab3039d28e7d3dcccde6f0e195cb62f2a"><div class="ttname"><a href="collision_8c.html#ab3039d28e7d3dcccde6f0e195cb62f2a">Collision_BrushForBox</a></div><div class="ttdeci">void Collision_BrushForBox(colboxbrushf_t *boxbrush, const vec3_t mins, const vec3_t maxs, int supercontents, int q3surfaceflags, const texture_t *texture)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01141">collision.c:1141</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_affbc4942202066560126b850810d2662"><div class="ttname"><a href="model__brush_8c.html#affbc4942202066560126b850810d2662">Mod_CollisionBIH_TraceBrush</a></div><div class="ttdeci">void Mod_CollisionBIH_TraceBrush(model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, colbrushf_t *thisbrush_start, colbrushf_t *thisbrush_end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06971">model_brush.c:6971</a></div></div>
<div class="ttc" id="astructcolboxbrushf__t_html"><div class="ttname"><a href="structcolboxbrushf__t.html">colboxbrushf_t</a></div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00134">collision.h:135</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__alias_8c_source.html#l02163">Mod_DARKPLACESMODEL_Load()</a>, <a class="el" href="model__alias_8c_source.html#l00972">Mod_IDP0_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01324">Mod_IDP2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01578">Mod_IDP3_Load()</a>, <a class="el" href="model__alias_8c_source.html#l03219">Mod_INTERQUAKEMODEL_Load()</a>, <a class="el" href="model__alias_8c_source.html#l00794">Mod_MDLMD2MD3_TraceBox()</a>, <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>, and <a class="el" href="model__alias_8c_source.html#l01768">Mod_ZYMOTICMODEL_Load()</a>.</p>

</div>
</div>
<a id="affbc4942202066560126b850810d2662" name="affbc4942202066560126b850810d2662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affbc4942202066560126b850810d2662">&#9670;&#160;</a></span>Mod_CollisionBIH_TraceBrush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_CollisionBIH_TraceBrush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcolbrushf__t.html">colbrushf_t</a> *&#160;</td>
          <td class="paramname"><em>thisbrush_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcolbrushf__t.html">colbrushf_t</a> *&#160;</td>
          <td class="paramname"><em>thisbrush_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06971">6971</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6972</span>{</div>
<div class="line"><span class="lineno"> 6973</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbih__t.html">bih_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>;</div>
<div class="line"><span class="lineno"> 6974</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbih__leaf__t.html">bih_leaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>;</div>
<div class="line"><span class="lineno"> 6975</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbih__node__t.html">bih_node_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno"> 6976</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structcolbrushf__t.html">colbrushf_t</a> *brush;</div>
<div class="line"><span class="lineno"> 6977</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>;</div>
<div class="line"><span class="lineno"> 6978</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtexture__t.html">texture_t</a> *<a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>;</div>
<div class="line"><span class="lineno"> 6979</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmaxs</a>, mins, maxs;</div>
<div class="line"><span class="lineno"> 6980</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>;</div>
<div class="line"><span class="lineno"> 6981</span>    <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[1024][6];</div>
<div class="line"><span class="lineno"> 6982</span>    <span class="keywordtype">int</span> axis, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[1024];</div>
<div class="line"><span class="lineno"> 6983</span> </div>
<div class="line"><span class="lineno"> 6984</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#acba7bb4a4ae9aea271029413e66152b8">mod_q3bsp_optimizedtraceline</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;maxs) &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>-&gt;maxs))</div>
<div class="line"><span class="lineno"> 6985</span>    {</div>
<div class="line"><span class="lineno"> 6986</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>-&gt;mins))</div>
<div class="line"><span class="lineno"> 6987</span>            <a class="code hl_function" href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a>(model, frameblend, skeleton, trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;mins, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno"> 6988</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6989</span>            <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>(model, frameblend, skeleton, trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>-&gt;mins, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno"> 6990</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 6991</span>    }</div>
<div class="line"><span class="lineno"> 6992</span> </div>
<div class="line"><span class="lineno"> 6993</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a> = &amp;model-&gt;<a class="code hl_variable" href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">collision_bih</a>;</div>
<div class="line"><span class="lineno"> 6994</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;nodes)</div>
<div class="line"><span class="lineno"> 6995</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 6996</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;<a class="code hl_variable" href="structbih__t.html#a70f2a8be0bcedaef772135d23841f53b">rootnode</a>;</div>
<div class="line"><span class="lineno"> 6997</span> </div>
<div class="line"><span class="lineno"> 6998</span>    <span class="comment">// box trace, performed as brush trace</span></div>
<div class="line"><span class="lineno"> 6999</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(*trace));</div>
<div class="line"><span class="lineno"> 7000</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno"> 7001</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 7002</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 7003</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 7004</span> </div>
<div class="line"><span class="lineno"> 7005</span>    <span class="comment">// calculate tracebox-like parameters for efficient culling</span></div>
<div class="line"><span class="lineno"> 7006</span>    <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;mins, 0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;maxs, start);</div>
<div class="line"><span class="lineno"> 7007</span>    <a class="code hl_define" href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a>(0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>-&gt;mins, 0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>-&gt;maxs, end);</div>
<div class="line"><span class="lineno"> 7008</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;mins, start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmins</a>);</div>
<div class="line"><span class="lineno"> 7009</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>-&gt;maxs, start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmaxs</a>);</div>
<div class="line"><span class="lineno"> 7010</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>-&gt;mins, end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmins</a>);</div>
<div class="line"><span class="lineno"> 7011</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>-&gt;maxs, end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmaxs</a>);</div>
<div class="line"><span class="lineno"> 7012</span>    mins[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmins</a>[0]);</div>
<div class="line"><span class="lineno"> 7013</span>    mins[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmins</a>[1]);</div>
<div class="line"><span class="lineno"> 7014</span>    mins[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmins</a>[2]);</div>
<div class="line"><span class="lineno"> 7015</span>    maxs[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmaxs</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmaxs</a>[0]);</div>
<div class="line"><span class="lineno"> 7016</span>    maxs[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmaxs</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmaxs</a>[1]);</div>
<div class="line"><span class="lineno"> 7017</span>    maxs[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">startmaxs</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endmaxs</a>[2]);</div>
<div class="line"><span class="lineno"> 7018</span> </div>
<div class="line"><span class="lineno"> 7019</span>    <span class="comment">// push first node</span></div>
<div class="line"><span class="lineno"> 7020</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][0] = start[0];</div>
<div class="line"><span class="lineno"> 7021</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][1] = start[1];</div>
<div class="line"><span class="lineno"> 7022</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][2] = start[2];</div>
<div class="line"><span class="lineno"> 7023</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][3] = end[0];</div>
<div class="line"><span class="lineno"> 7024</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][4] = end[1];</div>
<div class="line"><span class="lineno"> 7025</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][5] = end[2];</div>
<div class="line"><span class="lineno"> 7026</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>;</div>
<div class="line"><span class="lineno"> 7027</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>)</div>
<div class="line"><span class="lineno"> 7028</span>    {</div>
<div class="line"><span class="lineno"> 7029</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[--<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>];</div>
<div class="line"><span class="lineno"> 7030</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;nodes + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>;</div>
<div class="line"><span class="lineno"> 7031</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>);</div>
<div class="line"><span class="lineno"> 7032</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>);</div>
<div class="line"><span class="lineno"> 7033</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[0]) + mins[0] - 1;</div>
<div class="line"><span class="lineno"> 7034</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[1]) + mins[1] - 1;</div>
<div class="line"><span class="lineno"> 7035</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[2]) + mins[2] - 1;</div>
<div class="line"><span class="lineno"> 7036</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[0]) + maxs[0] + 1;</div>
<div class="line"><span class="lineno"> 7037</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[1]) + maxs[1] + 1;</div>
<div class="line"><span class="lineno"> 7038</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[2]) + maxs[2] + 1;</div>
<div class="line"><span class="lineno"> 7039</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs))</div>
<div class="line"><span class="lineno"> 7040</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 7041</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type &lt;= <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfa33483ee36904fd4babd9576aa4e2dcf2">BIH_SPLITZ</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>+2 &lt;= 1024)</div>
<div class="line"><span class="lineno"> 7042</span>        {</div>
<div class="line"><span class="lineno"> 7043</span>            <span class="comment">// recurse children of the split</span></div>
<div class="line"><span class="lineno"> 7044</span>            axis = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type - <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfab0705e42fd2b6191f853cebf1ced063c">BIH_SPLITX</a>;</div>
<div class="line"><span class="lineno"> 7045</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;backmax - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - mins[axis];</div>
<div class="line"><span class="lineno"> 7046</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;backmax - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - mins[axis];</div>
<div class="line"><span class="lineno"> 7047</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;frontmin + maxs[axis];</div>
<div class="line"><span class="lineno"> 7048</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;frontmin + maxs[axis];</div>
<div class="line"><span class="lineno"> 7049</span>            <span class="keywordflow">switch</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) | ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) &lt;&lt; 1) | ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> &lt; 0) &lt;&lt; 2) | ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a> &lt; 0) &lt;&lt; 3))</div>
<div class="line"><span class="lineno"> 7050</span>            {</div>
<div class="line"><span class="lineno"> 7051</span>            <span class="keywordflow">case</span>  0: <span class="comment">/* &gt;&gt;&gt;&gt; */</span>                     <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                      <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7052</span>            <span class="keywordflow">case</span>  1: <span class="comment">/* &lt;&gt;&gt;&gt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                      <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7053</span>            <span class="keywordflow">case</span>  2: <span class="comment">/* &gt;&lt;&gt;&gt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                      <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7054</span>            <span class="keywordflow">case</span>  3: <span class="comment">/* &lt;&lt;&gt;&gt; */</span>                                                                                                                                                                                                                      <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7055</span>            <span class="keywordflow">case</span>  4: <span class="comment">/* &gt;&gt;&lt;&gt; */</span>                     <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7056</span>            <span class="keywordflow">case</span>  5: <span class="comment">/* &lt;&gt;&lt;&gt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7057</span>            <span class="keywordflow">case</span>  6: <span class="comment">/* &gt;&lt;&lt;&gt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7058</span>            <span class="keywordflow">case</span>  7: <span class="comment">/* &lt;&lt;&lt;&gt; */</span>                                                                                                                                                                                                  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7059</span>            <span class="keywordflow">case</span>  8: <span class="comment">/* &gt;&gt;&gt;&lt; */</span>                     <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7060</span>            <span class="keywordflow">case</span>  9: <span class="comment">/* &lt;&gt;&gt;&lt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7061</span>            <span class="keywordflow">case</span> 10: <span class="comment">/* &gt;&lt;&gt;&lt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7062</span>            <span class="keywordflow">case</span> 11: <span class="comment">/* &lt;&lt;&gt;&lt; */</span>                                                                                                                                                                                                  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7063</span>            <span class="keywordflow">case</span> 12: <span class="comment">/* &gt;&gt;&lt;&lt; */</span>                     <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                                                                                                                                                                                                   <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7064</span>            <span class="keywordflow">case</span> 13: <span class="comment">/* &lt;&gt;&lt;&lt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                                                                                                                                                                                                   <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7065</span>            <span class="keywordflow">case</span> 14: <span class="comment">/* &gt;&lt;&lt;&lt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                                                                                                                                                                                                   <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7066</span>            <span class="keywordflow">case</span> 15: <span class="comment">/* &lt;&lt;&lt;&lt; */</span>                                                                                                                                                                                                                                                                                                                                                                                                   <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7067</span>            }</div>
<div class="line"><span class="lineno"> 7068</span>        }</div>
<div class="line"><span class="lineno"> 7069</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type == <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfa43e24ef2629af1a93309519239ee5d70">BIH_UNORDERED</a>)</div>
<div class="line"><span class="lineno"> 7070</span>        {</div>
<div class="line"><span class="lineno"> 7071</span>            <span class="comment">// calculate sweep bounds for this node</span></div>
<div class="line"><span class="lineno"> 7072</span>            <span class="comment">// copy node bounds into local variables and expand to get Minkowski Sum of the two shapes</span></div>
<div class="line"><span class="lineno"> 7073</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>);</div>
<div class="line"><span class="lineno"> 7074</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs, mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>);</div>
<div class="line"><span class="lineno"> 7075</span>            <span class="comment">// clip line to this node bounds</span></div>
<div class="line"><span class="lineno"> 7076</span>            axis = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); } <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); }</div>
<div class="line"><span class="lineno"> 7077</span>            axis = 1; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); } <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); }</div>
<div class="line"><span class="lineno"> 7078</span>            axis = 2; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); } <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); }</div>
<div class="line"><span class="lineno"> 7079</span>            <span class="comment">// some of the line intersected the enlarged node box</span></div>
<div class="line"><span class="lineno"> 7080</span>            <span class="comment">// calculate sweep bounds for this node</span></div>
<div class="line"><span class="lineno"> 7081</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[0]) + mins[0] - 1;</div>
<div class="line"><span class="lineno"> 7082</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[1]) + mins[1] - 1;</div>
<div class="line"><span class="lineno"> 7083</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[2]) + mins[2] - 1;</div>
<div class="line"><span class="lineno"> 7084</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[0]) + maxs[0] + 1;</div>
<div class="line"><span class="lineno"> 7085</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[1]) + maxs[1] + 1;</div>
<div class="line"><span class="lineno"> 7086</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[2]) + maxs[2] + 1;</div>
<div class="line"><span class="lineno"> 7087</span>            <span class="keywordflow">for</span> (axis = 0;axis &lt; <a class="code hl_define" href="bih_8h.html#a8bef28c10219b0c9fb237d3ad3315c88">BIH_MAXUNORDEREDCHILDREN</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[axis] &gt;= 0;axis++)</div>
<div class="line"><span class="lineno"> 7088</span>            {</div>
<div class="line"><span class="lineno"> 7089</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;leafs + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[axis];</div>
<div class="line"><span class="lineno"> 7090</span>                <span class="keywordflow">if</span> (!<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs))</div>
<div class="line"><span class="lineno"> 7091</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 7092</span>                <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;type)</div>
<div class="line"><span class="lineno"> 7093</span>                {</div>
<div class="line"><span class="lineno"> 7094</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22af1f80fc993c6036fc5a72142d072ddea">BIH_BRUSH</a>:</div>
<div class="line"><span class="lineno"> 7095</span>                    brush = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">data_brushes</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;itemindex].colbrushf;</div>
<div class="line"><span class="lineno"> 7096</span>                    <a class="code hl_function" href="collision_8c.html#ab616204b21a7499e8677ac245550bb0d">Collision_TraceBrushBrushFloat</a>(trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>, brush, brush);</div>
<div class="line"><span class="lineno"> 7097</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7098</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a24c78c792118b953702f4106b10230e6">BIH_COLLISIONTRIANGLE</a>:</div>
<div class="line"><span class="lineno"> 7099</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__brush_8c.html#abe9f2e61643f66842fb9bcaee9bbad03">mod_q3bsp_curves_collisions</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 7100</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 7101</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a755d162f456a2a35c5eb8cfeb031f681">data_collisionelement3i</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;itemindex;</div>
<div class="line"><span class="lineno"> 7102</span>                    <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;textureindex;</div>
<div class="line"><span class="lineno"> 7103</span>                    <a class="code hl_function" href="collision_8c.html#aa8fecb4d9f21158add7bea78c6ce8cb4">Collision_TraceBrushTriangleFloat</a>(trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0] * 3, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1] * 3, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2] * 3, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>-&gt;supercontents, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>-&gt;surfaceflags, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>);</div>
<div class="line"><span class="lineno"> 7104</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7105</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a6a325ae2737f26da3a175a3c15c6da60">BIH_RENDERTRIANGLE</a>:</div>
<div class="line"><span class="lineno"> 7106</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;itemindex;</div>
<div class="line"><span class="lineno"> 7107</span>                    <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;textureindex;</div>
<div class="line"><span class="lineno"> 7108</span>                    <a class="code hl_function" href="collision_8c.html#aa8fecb4d9f21158add7bea78c6ce8cb4">Collision_TraceBrushTriangleFloat</a>(trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisbrush_end</a>, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0] * 3, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1] * 3, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2] * 3, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>-&gt;supercontents, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>-&gt;surfaceflags, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>);</div>
<div class="line"><span class="lineno"> 7109</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7110</span>                }</div>
<div class="line"><span class="lineno"> 7111</span>            }</div>
<div class="line"><span class="lineno"> 7112</span>        }</div>
<div class="line"><span class="lineno"> 7113</span>    }</div>
<div class="line"><span class="lineno"> 7114</span>}</div>
<div class="ttc" id="abih_8h_html_a216193cf4e899985bc64b1db77f3bd22a24c78c792118b953702f4106b10230e6"><div class="ttname"><a href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a24c78c792118b953702f4106b10230e6">BIH_COLLISIONTRIANGLE</a></div><div class="ttdeci">@ BIH_COLLISIONTRIANGLE</div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00030">bih.h:30</a></div></div>
<div class="ttc" id="abih_8h_html_a216193cf4e899985bc64b1db77f3bd22a6a325ae2737f26da3a175a3c15c6da60"><div class="ttname"><a href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a6a325ae2737f26da3a175a3c15c6da60">BIH_RENDERTRIANGLE</a></div><div class="ttdeci">@ BIH_RENDERTRIANGLE</div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00032">bih.h:31</a></div></div>
<div class="ttc" id="abih_8h_html_a216193cf4e899985bc64b1db77f3bd22af1f80fc993c6036fc5a72142d072ddea"><div class="ttname"><a href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22af1f80fc993c6036fc5a72142d072ddea">BIH_BRUSH</a></div><div class="ttdeci">@ BIH_BRUSH</div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00029">bih.h:29</a></div></div>
<div class="ttc" id="abih_8h_html_a8bef28c10219b0c9fb237d3ad3315c88"><div class="ttname"><a href="bih_8h.html#a8bef28c10219b0c9fb237d3ad3315c88">BIH_MAXUNORDEREDCHILDREN</a></div><div class="ttdeci">#define BIH_MAXUNORDEREDCHILDREN</div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00009">bih.h:9</a></div></div>
<div class="ttc" id="abih_8h_html_abb9aa746b407e444edf78c8e67fd6ccfa33483ee36904fd4babd9576aa4e2dcf2"><div class="ttname"><a href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfa33483ee36904fd4babd9576aa4e2dcf2">BIH_SPLITZ</a></div><div class="ttdeci">@ BIH_SPLITZ</div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00022">bih.h:22</a></div></div>
<div class="ttc" id="abih_8h_html_abb9aa746b407e444edf78c8e67fd6ccfa43e24ef2629af1a93309519239ee5d70"><div class="ttname"><a href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfa43e24ef2629af1a93309519239ee5d70">BIH_UNORDERED</a></div><div class="ttdeci">@ BIH_UNORDERED</div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00023">bih.h:23</a></div></div>
<div class="ttc" id="abih_8h_html_abb9aa746b407e444edf78c8e67fd6ccfab0705e42fd2b6191f853cebf1ced063c"><div class="ttname"><a href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfab0705e42fd2b6191f853cebf1ced063c">BIH_SPLITX</a></div><div class="ttdeci">@ BIH_SPLITX</div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00020">bih.h:20</a></div></div>
<div class="ttc" id="acollision_8c_html_aa8fecb4d9f21158add7bea78c6ce8cb4"><div class="ttname"><a href="collision_8c.html#aa8fecb4d9f21158add7bea78c6ce8cb4">Collision_TraceBrushTriangleFloat</a></div><div class="ttdeci">void Collision_TraceBrushTriangleFloat(trace_t *trace, const colbrushf_t *thisbrush_start, const colbrushf_t *thisbrush_end, const float *v0, const float *v1, const float *v2, int supercontents, int q3surfaceflags, const texture_t *texture)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01107">collision.c:1107</a></div></div>
<div class="ttc" id="acollision_8c_html_ab616204b21a7499e8677ac245550bb0d"><div class="ttname"><a href="collision_8c.html#ab616204b21a7499e8677ac245550bb0d">Collision_TraceBrushBrushFloat</a></div><div class="ttdeci">void Collision_TraceBrushBrushFloat(trace_t *trace, const colbrushf_t *trace_start, const colbrushf_t *trace_end, const colbrushf_t *other_start, const colbrushf_t *other_end)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l00559">collision.c:559</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0704dfe56dec926cb35f7bdc0834ecd0"><div class="ttname"><a href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a></div><div class="ttdeci">GLenum GLenum GLuint texture</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00612">glquake.h:612</a></div></div>
<div class="ttc" id="amathlib_8h_html_a4d2bc0c336e3e2a9b13448341ab83c10"><div class="ttname"><a href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a></div><div class="ttdeci">#define VectorLerp(v1, lerp, v2, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00119">mathlib.h:119</a></div></div>
<div class="ttc" id="amathlib_8h_html_aa81f0bf735070a2a0876095e289c0e9b"><div class="ttname"><a href="mathlib_8h.html#aa81f0bf735070a2a0876095e289c0e9b">VectorMAM</a></div><div class="ttdeci">#define VectorMAM(scale1, b1, scale2, b2, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00115">mathlib.h:115</a></div></div>
<div class="ttc" id="amathlib_8h_html_ab7afac99c19ef535c8b808c411f6bc3c"><div class="ttname"><a href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a></div><div class="ttdeci">#define VectorCompare(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00112">mathlib.h:112</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a34b8d82aced6931bd3a572041e59aa7d"><div class="ttname"><a href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a></div><div class="ttdeci">float vec_t</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00064">qtypes.h:64</a></div></div>
<div class="ttc" id="astructbih__leaf__t_html"><div class="ttname"><a href="structbih__leaf__t.html">bih_leaf_t</a></div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00053">bih.h:54</a></div></div>
<div class="ttc" id="astructbih__node__t_html"><div class="ttname"><a href="structbih__node__t.html">bih_node_t</a></div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00035">bih.h:36</a></div></div>
<div class="ttc" id="astructbih__t_html"><div class="ttname"><a href="structbih__t.html">bih_t</a></div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00065">bih.h:66</a></div></div>
<div class="ttc" id="astructbih__t_html_a70f2a8be0bcedaef772135d23841f53b"><div class="ttname"><a href="structbih__t.html#a70f2a8be0bcedaef772135d23841f53b">bih_t::rootnode</a></div><div class="ttdeci">int rootnode</div><div class="ttdef"><b>Definition</b> <a href="bih_8h_source.html#l00074">bih.h:74</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a755d162f456a2a35c5eb8cfeb031f681"><div class="ttname"><a href="structmodel__brush__t.html#a755d162f456a2a35c5eb8cfeb031f681">model_brush_t::data_collisionelement3i</a></div><div class="ttdeci">int * data_collisionelement3i</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00321">model_brush.h:321</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a7c197f06fe5642140d8251b47e821e76"><div class="ttname"><a href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">model_brush_t::data_collisionvertex3f</a></div><div class="ttdeci">float * data_collisionvertex3f</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00320">model_brush.h:320</a></div></div>
<div class="ttc" id="astructmodel__t_html_a39276ac5ef4841c0e5af485ec14e017c"><div class="ttname"><a href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">model_t::collision_bih</a></div><div class="ttdeci">bih_t collision_bih</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00475">model_shared.h:475</a></div></div>
<div class="ttc" id="astructmodel__t_html_ac30e13239504da645c5e835eef8f559e"><div class="ttname"><a href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">model_t::data_textures</a></div><div class="ttdeci">texture_t * data_textures</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00493">model_shared.h:493</a></div></div>
<div class="ttc" id="astructtexture__t_html"><div class="ttname"><a href="structtexture__t.html">texture_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00187">model_shared.h:188</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07116">Mod_CollisionBIH_TraceBox()</a>, <a class="el" href="model__alias_8c_source.html#l02163">Mod_DARKPLACESMODEL_Load()</a>, <a class="el" href="model__alias_8c_source.html#l00972">Mod_IDP0_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01324">Mod_IDP2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01578">Mod_IDP3_Load()</a>, <a class="el" href="model__alias_8c_source.html#l03219">Mod_INTERQUAKEMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>, and <a class="el" href="model__alias_8c_source.html#l01768">Mod_ZYMOTICMODEL_Load()</a>.</p>

</div>
</div>
<a id="ab816e4b98970a692de3b0ba2faa0ee13" name="ab816e4b98970a692de3b0ba2faa0ee13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab816e4b98970a692de3b0ba2faa0ee13">&#9670;&#160;</a></span>Mod_CollisionBIH_TraceLine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_CollisionBIH_TraceLine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06961">6961</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6962</span>{</div>
<div class="line"><span class="lineno"> 6963</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(start, end))</div>
<div class="line"><span class="lineno"> 6964</span>    {</div>
<div class="line"><span class="lineno"> 6965</span>        <a class="code hl_function" href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a>(model, frameblend, skeleton, trace, start, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno"> 6966</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 6967</span>    }</div>
<div class="line"><span class="lineno"> 6968</span>    <a class="code hl_function" href="model__brush_8c.html#a5a609c1c5d47cf875d7f59e653a5d7cc">Mod_CollisionBIH_TraceLineShared</a>(model, frameblend, skeleton, trace, start, end, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, &amp;model-&gt;<a class="code hl_variable" href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">collision_bih</a>);</div>
<div class="line"><span class="lineno"> 6969</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a5a609c1c5d47cf875d7f59e653a5d7cc"><div class="ttname"><a href="model__brush_8c.html#a5a609c1c5d47cf875d7f59e653a5d7cc">Mod_CollisionBIH_TraceLineShared</a></div><div class="ttdeci">static void Mod_CollisionBIH_TraceLineShared(model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, const bih_t *bih)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06833">model_brush.c:6833</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07171">Mod_CollisionBIH_PointSuperContents_Mesh()</a>, <a class="el" href="model__brush_8c_source.html#l06971">Mod_CollisionBIH_TraceBrush()</a>, <a class="el" href="model__brush_8c_source.html#l07139">Mod_CollisionBIH_TraceLineOfSight()</a>, <a class="el" href="model__brush_8c_source.html#l07146">Mod_CollisionBIH_TracePoint_Mesh()</a>, <a class="el" href="model__alias_8c_source.html#l02163">Mod_DARKPLACESMODEL_Load()</a>, <a class="el" href="model__alias_8c_source.html#l00972">Mod_IDP0_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01324">Mod_IDP2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01578">Mod_IDP3_Load()</a>, <a class="el" href="model__alias_8c_source.html#l03219">Mod_INTERQUAKEMODEL_Load()</a>, <a class="el" href="model__alias_8c_source.html#l00755">Mod_MDLMD2MD3_TraceLine()</a>, <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>, and <a class="el" href="model__alias_8c_source.html#l01768">Mod_ZYMOTICMODEL_Load()</a>.</p>

</div>
</div>
<a id="a6ef58f6e71ef23ea87faba4b069914f8" name="a6ef58f6e71ef23ea87faba4b069914f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef58f6e71ef23ea87faba4b069914f8">&#9670;&#160;</a></span>Mod_CollisionBIH_TraceLineAgainstSurfaces()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_CollisionBIH_TraceLineAgainstSurfaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07190">7190</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7191</span>{</div>
<div class="line"><span class="lineno"> 7192</span>    <a class="code hl_function" href="model__brush_8c.html#a5a609c1c5d47cf875d7f59e653a5d7cc">Mod_CollisionBIH_TraceLineShared</a>(model, frameblend, skeleton, trace, start, end, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, &amp;model-&gt;<a class="code hl_variable" href="structmodel__t.html#a9682062b0e84b91a8768dde10c4ee688">render_bih</a>);</div>
<div class="line"><span class="lineno"> 7193</span>}</div>
<div class="ttc" id="astructmodel__t_html_a9682062b0e84b91a8768dde10c4ee688"><div class="ttname"><a href="structmodel__t.html#a9682062b0e84b91a8768dde10c4ee688">model_t::render_bih</a></div><div class="ttdeci">bih_t render_bih</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00476">model_shared.h:476</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a65c9f06b363e4b9676e28a1bc8a366ca" name="a65c9f06b363e4b9676e28a1bc8a366ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c9f06b363e4b9676e28a1bc8a366ca">&#9670;&#160;</a></span>Mod_CollisionBIH_TraceLineOfSight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> Mod_CollisionBIH_TraceLineOfSight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>acceptmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>acceptmaxs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07139">7139</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7140</span>{</div>
<div class="line"><span class="lineno"> 7141</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno"> 7142</span>    <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>(model, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;trace, start, end, <a class="code hl_define" href="bspfile_8h.html#a8d4b4ba414479ebe0293b200f882c444">SUPERCONTENTS_VISBLOCKERMASK</a>, 0, <a class="code hl_define" href="model__brush_8h.html#a92eb2c00b3276aef285cf43b305a43da">MATERIALFLAGMASK_TRANSLUCENT</a>);</div>
<div class="line"><span class="lineno"> 7143</span>    <span class="keywordflow">return</span> trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> == 1 || <a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmaxs</a>);</div>
<div class="line"><span class="lineno"> 7144</span>}</div>
<div class="ttc" id="abspfile_8h_html_a8d4b4ba414479ebe0293b200f882c444"><div class="ttname"><a href="bspfile_8h.html#a8d4b4ba414479ebe0293b200f882c444">SUPERCONTENTS_VISBLOCKERMASK</a></div><div class="ttdeci">#define SUPERCONTENTS_VISBLOCKERMASK</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00219">bspfile.h:219</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a92eb2c00b3276aef285cf43b305a43da"><div class="ttname"><a href="model__brush_8h.html#a92eb2c00b3276aef285cf43b305a43da">MATERIALFLAGMASK_TRANSLUCENT</a></div><div class="ttdeci">#define MATERIALFLAGMASK_TRANSLUCENT</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00141">model_brush.h:141</a></div></div>
<div class="ttc" id="astructtrace__t_html_a45b22da9e5e28fb83aa691ffb1909a4a"><div class="ttname"><a href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">trace_t::endpos</a></div><div class="ttdeci">double endpos[3]</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00042">collision.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a609c1c5d47cf875d7f59e653a5d7cc" name="a5a609c1c5d47cf875d7f59e653a5d7cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a609c1c5d47cf875d7f59e653a5d7cc">&#9670;&#160;</a></span>Mod_CollisionBIH_TraceLineShared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_CollisionBIH_TraceLineShared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structbih__t.html">bih_t</a> *&#160;</td>
          <td class="paramname"><em>bih</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06833">6833</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6834</span>{</div>
<div class="line"><span class="lineno"> 6835</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbih__leaf__t.html">bih_leaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>;</div>
<div class="line"><span class="lineno"> 6836</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbih__node__t.html">bih_node_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno"> 6837</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structcolbrushf__t.html">colbrushf_t</a> *brush;</div>
<div class="line"><span class="lineno"> 6838</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>;</div>
<div class="line"><span class="lineno"> 6839</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtexture__t.html">texture_t</a> *<a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>;</div>
<div class="line"><span class="lineno"> 6840</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>;</div>
<div class="line"><span class="lineno"> 6841</span>    <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[1024][6];</div>
<div class="line"><span class="lineno"> 6842</span>    <span class="keywordtype">int</span> axis, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[1024];</div>
<div class="line"><span class="lineno"> 6843</span> </div>
<div class="line"><span class="lineno"> 6844</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;nodes)</div>
<div class="line"><span class="lineno"> 6845</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 6846</span> </div>
<div class="line"><span class="lineno"> 6847</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(start, end))</div>
<div class="line"><span class="lineno"> 6848</span>    {</div>
<div class="line"><span class="lineno"> 6849</span>        <a class="code hl_function" href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a>(model, frameblend, skeleton, trace, start, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno"> 6850</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 6851</span>    }</div>
<div class="line"><span class="lineno"> 6852</span> </div>
<div class="line"><span class="lineno"> 6853</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;rootnode;</div>
<div class="line"><span class="lineno"> 6854</span> </div>
<div class="line"><span class="lineno"> 6855</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(*trace));</div>
<div class="line"><span class="lineno"> 6856</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno"> 6857</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 6858</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 6859</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 6860</span> </div>
<div class="line"><span class="lineno"> 6861</span>    <span class="comment">// push first node</span></div>
<div class="line"><span class="lineno"> 6862</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][0] = start[0];</div>
<div class="line"><span class="lineno"> 6863</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][1] = start[1];</div>
<div class="line"><span class="lineno"> 6864</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][2] = start[2];</div>
<div class="line"><span class="lineno"> 6865</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][3] = end[0];</div>
<div class="line"><span class="lineno"> 6866</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][4] = end[1];</div>
<div class="line"><span class="lineno"> 6867</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>][5] = end[2];</div>
<div class="line"><span class="lineno"> 6868</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>;</div>
<div class="line"><span class="lineno"> 6869</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>)</div>
<div class="line"><span class="lineno"> 6870</span>    {</div>
<div class="line"><span class="lineno"> 6871</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[--<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>];</div>
<div class="line"><span class="lineno"> 6872</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;nodes + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>;</div>
<div class="line"><span class="lineno"> 6873</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>);</div>
<div class="line"><span class="lineno"> 6874</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>);</div>
<div class="line"><span class="lineno"> 6875</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[0]) - 1;</div>
<div class="line"><span class="lineno"> 6876</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[1]) - 1;</div>
<div class="line"><span class="lineno"> 6877</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[2]) - 1;</div>
<div class="line"><span class="lineno"> 6878</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[0]) + 1;</div>
<div class="line"><span class="lineno"> 6879</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[1]) + 1;</div>
<div class="line"><span class="lineno"> 6880</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[2]) + 1;</div>
<div class="line"><span class="lineno"> 6881</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs) &amp;&amp; !<a class="code hl_variable" href="collision_8c.html#a474e5d4eaf8310f5086ea308858585ee">collision_bih_fullrecursion</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 6882</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6883</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type &lt;= <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfa33483ee36904fd4babd9576aa4e2dcf2">BIH_SPLITZ</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>+2 &lt;= 1024)</div>
<div class="line"><span class="lineno"> 6884</span>        {</div>
<div class="line"><span class="lineno"> 6885</span>            <span class="comment">// recurse children of the split</span></div>
<div class="line"><span class="lineno"> 6886</span>            axis = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type - <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfab0705e42fd2b6191f853cebf1ced063c">BIH_SPLITX</a>;</div>
<div class="line"><span class="lineno"> 6887</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;backmax - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis];</div>
<div class="line"><span class="lineno"> 6888</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;backmax - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis];</div>
<div class="line"><span class="lineno"> 6889</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;frontmin;</div>
<div class="line"><span class="lineno"> 6890</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;frontmin;</div>
<div class="line"><span class="lineno"> 6891</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="collision_8c.html#a474e5d4eaf8310f5086ea308858585ee">collision_bih_fullrecursion</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 6892</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a> = 1; <span class="comment">// force full recursion</span></div>
<div class="line"><span class="lineno"> 6893</span>            <span class="keywordflow">switch</span>((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) | ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) &lt;&lt; 1) | ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> &lt; 0) &lt;&lt; 2) | ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a> &lt; 0) &lt;&lt; 3))</div>
<div class="line"><span class="lineno"> 6894</span>            {</div>
<div class="line"><span class="lineno"> 6895</span>            <span class="keywordflow">case</span>  0: <span class="comment">/* &gt;&gt;&gt;&gt; */</span>                     <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                      <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6896</span>            <span class="keywordflow">case</span>  1: <span class="comment">/* &lt;&gt;&gt;&gt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                      <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6897</span>            <span class="keywordflow">case</span>  2: <span class="comment">/* &gt;&lt;&gt;&gt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                      <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6898</span>            <span class="keywordflow">case</span>  3: <span class="comment">/* &lt;&lt;&gt;&gt; */</span>                                                                                                                                                                                                                      <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6899</span>            <span class="keywordflow">case</span>  4: <span class="comment">/* &gt;&gt;&lt;&gt; */</span>                     <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6900</span>            <span class="keywordflow">case</span>  5: <span class="comment">/* &lt;&gt;&lt;&gt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6901</span>            <span class="keywordflow">case</span>  6: <span class="comment">/* &gt;&lt;&lt;&gt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6902</span>            <span class="keywordflow">case</span>  7: <span class="comment">/* &lt;&lt;&lt;&gt; */</span>                                                                                                                                                                                                  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6903</span>            <span class="keywordflow">case</span>  8: <span class="comment">/* &gt;&gt;&gt;&lt; */</span>                     <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6904</span>            <span class="keywordflow">case</span>  9: <span class="comment">/* &lt;&gt;&gt;&lt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6905</span>            <span class="keywordflow">case</span> 10: <span class="comment">/* &gt;&lt;&gt;&lt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6906</span>            <span class="keywordflow">case</span> 11: <span class="comment">/* &lt;&lt;&gt;&lt; */</span>                                                                                                                                                                                                  <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d3</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d4</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6907</span>            <span class="keywordflow">case</span> 12: <span class="comment">/* &gt;&gt;&lt;&lt; */</span>                     <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                                                                                                                                                                                                   <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6908</span>            <span class="keywordflow">case</span> 13: <span class="comment">/* &lt;&gt;&lt;&lt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(              <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                                                                                                                                                                                                   <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6909</span>            <span class="keywordflow">case</span> 14: <span class="comment">/* &gt;&lt;&lt;&lt; */</span> <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>,             <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>]); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackline</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>] + 3); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;                                                                                                                                                                                                   <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6910</span>            <span class="keywordflow">case</span> 15: <span class="comment">/* &lt;&lt;&lt;&lt; */</span>                                                                                                                                                                                                                                                                                                                                                                                                   <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6911</span>            }</div>
<div class="line"><span class="lineno"> 6912</span>        }</div>
<div class="line"><span class="lineno"> 6913</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type == <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfa43e24ef2629af1a93309519239ee5d70">BIH_UNORDERED</a>)</div>
<div class="line"><span class="lineno"> 6914</span>        {</div>
<div class="line"><span class="lineno"> 6915</span>            <span class="comment">// calculate sweep bounds for this node</span></div>
<div class="line"><span class="lineno"> 6916</span>            <span class="comment">// copy node bounds into local variables</span></div>
<div class="line"><span class="lineno"> 6917</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>);</div>
<div class="line"><span class="lineno"> 6918</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>);</div>
<div class="line"><span class="lineno"> 6919</span>            <span class="comment">// clip line to this node bounds</span></div>
<div class="line"><span class="lineno"> 6920</span>            axis = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); } <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); }</div>
<div class="line"><span class="lineno"> 6921</span>            axis = 1; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); } <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); }</div>
<div class="line"><span class="lineno"> 6922</span>            axis = 2; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmins</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); } <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[axis]; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodebigmaxs</a>[axis] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[axis]; <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> &lt; 0) { <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) <span class="keywordflow">continue</span>; <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>); } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a> &lt; 0) { <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> / (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d1</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d2</a>); <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a731feb93da8dc28ee53e37b43daabd06">f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>); }</div>
<div class="line"><span class="lineno"> 6923</span>            <span class="comment">// some of the line intersected the enlarged node box</span></div>
<div class="line"><span class="lineno"> 6924</span>            <span class="comment">// calculate sweep bounds for this node</span></div>
<div class="line"><span class="lineno"> 6925</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[0]) - 1;</div>
<div class="line"><span class="lineno"> 6926</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[1]) - 1;</div>
<div class="line"><span class="lineno"> 6927</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[2]) - 1;</div>
<div class="line"><span class="lineno"> 6928</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[0]) + 1;</div>
<div class="line"><span class="lineno"> 6929</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[1]) + 1;</div>
<div class="line"><span class="lineno"> 6930</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodeend</a>[2]) + 1;</div>
<div class="line"><span class="lineno"> 6931</span>            <span class="keywordflow">for</span> (axis = 0;axis &lt; <a class="code hl_define" href="bih_8h.html#a8bef28c10219b0c9fb237d3ad3315c88">BIH_MAXUNORDEREDCHILDREN</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[axis] &gt;= 0;axis++)</div>
<div class="line"><span class="lineno"> 6932</span>            {</div>
<div class="line"><span class="lineno"> 6933</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;leafs + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[axis];</div>
<div class="line"><span class="lineno"> 6934</span>                <span class="comment">// TODO: This is very expensive in Steel Storm. Framerate halved during even light combat.</span></div>
<div class="line"><span class="lineno"> 6935</span>                <span class="keywordflow">if</span> (!<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sweepnodemaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs))</div>
<div class="line"><span class="lineno"> 6936</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6937</span>                <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;type)</div>
<div class="line"><span class="lineno"> 6938</span>                {</div>
<div class="line"><span class="lineno"> 6939</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22af1f80fc993c6036fc5a72142d072ddea">BIH_BRUSH</a>:</div>
<div class="line"><span class="lineno"> 6940</span>                    brush = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">data_brushes</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;itemindex].colbrushf;</div>
<div class="line"><span class="lineno"> 6941</span>                    <a class="code hl_function" href="collision_8c.html#ace76d9667f9f0091625cc36c56562c94">Collision_TraceLineBrushFloat</a>(trace, start, end, brush, brush);</div>
<div class="line"><span class="lineno"> 6942</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6943</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a24c78c792118b953702f4106b10230e6">BIH_COLLISIONTRIANGLE</a>:</div>
<div class="line"><span class="lineno"> 6944</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__brush_8c.html#abe9f2e61643f66842fb9bcaee9bbad03">mod_q3bsp_curves_collisions</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 6945</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6946</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a755d162f456a2a35c5eb8cfeb031f681">data_collisionelement3i</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;itemindex;</div>
<div class="line"><span class="lineno"> 6947</span>                    <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;textureindex;</div>
<div class="line"><span class="lineno"> 6948</span>                    <a class="code hl_function" href="collision_8c.html#a2da498d0c55bc0ac9601ee8b681b50d6">Collision_TraceLineTriangleFloat</a>(trace, start, end, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0] * 3, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1] * 3, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2] * 3, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>-&gt;supercontents, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>-&gt;surfaceflags, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>);</div>
<div class="line"><span class="lineno"> 6949</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6950</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a6a325ae2737f26da3a175a3c15c6da60">BIH_RENDERTRIANGLE</a>:</div>
<div class="line"><span class="lineno"> 6951</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;itemindex;</div>
<div class="line"><span class="lineno"> 6952</span>                    <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;textureindex;</div>
<div class="line"><span class="lineno"> 6953</span>                    <a class="code hl_function" href="collision_8c.html#a2da498d0c55bc0ac9601ee8b681b50d6">Collision_TraceLineTriangleFloat</a>(trace, start, end, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0] * 3, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1] * 3, model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2] * 3, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>-&gt;supercontents, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>-&gt;surfaceflags, <a class="code hl_variable" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a>);</div>
<div class="line"><span class="lineno"> 6954</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6955</span>                }</div>
<div class="line"><span class="lineno"> 6956</span>            }</div>
<div class="line"><span class="lineno"> 6957</span>        }</div>
<div class="line"><span class="lineno"> 6958</span>    }</div>
<div class="line"><span class="lineno"> 6959</span>}</div>
<div class="ttc" id="acollision_8c_html_a2da498d0c55bc0ac9601ee8b681b50d6"><div class="ttname"><a href="collision_8c.html#a2da498d0c55bc0ac9601ee8b681b50d6">Collision_TraceLineTriangleFloat</a></div><div class="ttdeci">void Collision_TraceLineTriangleFloat(trace_t *trace, const vec3_t linestart, const vec3_t lineend, const float *point0, const float *point1, const float *point2, int supercontents, int q3surfaceflags, const texture_t *texture)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01251">collision.c:1251</a></div></div>
<div class="ttc" id="acollision_8c_html_a474e5d4eaf8310f5086ea308858585ee"><div class="ttname"><a href="collision_8c.html#a474e5d4eaf8310f5086ea308858585ee">collision_bih_fullrecursion</a></div><div class="ttdeci">cvar_t collision_bih_fullrecursion</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l00021">collision.c:21</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l06961">Mod_CollisionBIH_TraceLine()</a>, and <a class="el" href="model__brush_8c_source.html#l07190">Mod_CollisionBIH_TraceLineAgainstSurfaces()</a>.</p>

</div>
</div>
<a id="a968a9377d97910cf10c5186b392543da" name="a968a9377d97910cf10c5186b392543da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a968a9377d97910cf10c5186b392543da">&#9670;&#160;</a></span>Mod_CollisionBIH_TracePoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_CollisionBIH_TracePoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06767">6767</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6768</span>{</div>
<div class="line"><span class="lineno"> 6769</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbih__t.html">bih_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>;</div>
<div class="line"><span class="lineno"> 6770</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbih__leaf__t.html">bih_leaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>;</div>
<div class="line"><span class="lineno"> 6771</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbih__node__t.html">bih_node_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno"> 6772</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structcolbrushf__t.html">colbrushf_t</a> *brush;</div>
<div class="line"><span class="lineno"> 6773</span>    <span class="keywordtype">int</span> axis;</div>
<div class="line"><span class="lineno"> 6774</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>;</div>
<div class="line"><span class="lineno"> 6775</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a> = 0;</div>
<div class="line"><span class="lineno"> 6776</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[1024];</div>
<div class="line"><span class="lineno"> 6777</span> </div>
<div class="line"><span class="lineno"> 6778</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(*trace));</div>
<div class="line"><span class="lineno"> 6779</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno"> 6780</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 6781</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 6782</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 6783</span> </div>
<div class="line"><span class="lineno"> 6784</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a> = &amp;model-&gt;<a class="code hl_variable" href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">collision_bih</a>;</div>
<div class="line"><span class="lineno"> 6785</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;nodes)</div>
<div class="line"><span class="lineno"> 6786</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 6787</span> </div>
<div class="line"><span class="lineno"> 6788</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;<a class="code hl_variable" href="structbih__t.html#a70f2a8be0bcedaef772135d23841f53b">rootnode</a>;</div>
<div class="line"><span class="lineno"> 6789</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>;</div>
<div class="line"><span class="lineno"> 6790</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>)</div>
<div class="line"><span class="lineno"> 6791</span>    {</div>
<div class="line"><span class="lineno"> 6792</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[--<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>];</div>
<div class="line"><span class="lineno"> 6793</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;nodes + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodenum</a>;</div>
<div class="line"><span class="lineno"> 6794</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno"> 6795</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(start, start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;maxs))</div>
<div class="line"><span class="lineno"> 6796</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6797</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 6798</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type &lt;= <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfa33483ee36904fd4babd9576aa4e2dcf2">BIH_SPLITZ</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>+2 &lt;= 1024)</div>
<div class="line"><span class="lineno"> 6799</span>        {</div>
<div class="line"><span class="lineno"> 6800</span>            axis = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type - <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfab0705e42fd2b6191f853cebf1ced063c">BIH_SPLITX</a>;</div>
<div class="line"><span class="lineno"> 6801</span>            <span class="keywordflow">if</span> (start[axis] &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;frontmin)</div>
<div class="line"><span class="lineno"> 6802</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;front;</div>
<div class="line"><span class="lineno"> 6803</span>            <span class="keywordflow">if</span> (start[axis] &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;backmax)</div>
<div class="line"><span class="lineno"> 6804</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestack</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nodestackpos</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;back;</div>
<div class="line"><span class="lineno"> 6805</span>        }</div>
<div class="line"><span class="lineno"> 6806</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;type == <a class="code hl_enumvalue" href="bih_8h.html#abb9aa746b407e444edf78c8e67fd6ccfa43e24ef2629af1a93309519239ee5d70">BIH_UNORDERED</a>)</div>
<div class="line"><span class="lineno"> 6807</span>        {</div>
<div class="line"><span class="lineno"> 6808</span>            <span class="keywordflow">for</span> (axis = 0;axis &lt; <a class="code hl_define" href="bih_8h.html#a8bef28c10219b0c9fb237d3ad3315c88">BIH_MAXUNORDEREDCHILDREN</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[axis] &gt;= 0;axis++)</div>
<div class="line"><span class="lineno"> 6809</span>            {</div>
<div class="line"><span class="lineno"> 6810</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bih</a>-&gt;leafs + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[axis];</div>
<div class="line"><span class="lineno"> 6811</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno"> 6812</span>                <span class="keywordflow">if</span> (!<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(start, start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;maxs))</div>
<div class="line"><span class="lineno"> 6813</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6814</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 6815</span>                <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;type)</div>
<div class="line"><span class="lineno"> 6816</span>                {</div>
<div class="line"><span class="lineno"> 6817</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22af1f80fc993c6036fc5a72142d072ddea">BIH_BRUSH</a>:</div>
<div class="line"><span class="lineno"> 6818</span>                    brush = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">data_brushes</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;itemindex].colbrushf;</div>
<div class="line"><span class="lineno"> 6819</span>                    <a class="code hl_function" href="collision_8c.html#a9ece39147df259d8676104fcc385f662">Collision_TracePointBrushFloat</a>(trace, start, brush);</div>
<div class="line"><span class="lineno"> 6820</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6821</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a24c78c792118b953702f4106b10230e6">BIH_COLLISIONTRIANGLE</a>:</div>
<div class="line"><span class="lineno"> 6822</span>                    <span class="comment">// collision triangle - skipped because they have no volume</span></div>
<div class="line"><span class="lineno"> 6823</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6824</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a6a325ae2737f26da3a175a3c15c6da60">BIH_RENDERTRIANGLE</a>:</div>
<div class="line"><span class="lineno"> 6825</span>                    <span class="comment">// render triangle - skipped because they have no volume</span></div>
<div class="line"><span class="lineno"> 6826</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6827</span>                }</div>
<div class="line"><span class="lineno"> 6828</span>            }</div>
<div class="line"><span class="lineno"> 6829</span>        }</div>
<div class="line"><span class="lineno"> 6830</span>    }</div>
<div class="line"><span class="lineno"> 6831</span>}</div>
<div class="ttc" id="acollision_8c_html_a9ece39147df259d8676104fcc385f662"><div class="ttname"><a href="collision_8c.html#a9ece39147df259d8676104fcc385f662">Collision_TracePointBrushFloat</a></div><div class="ttdeci">void Collision_TracePointBrushFloat(trace_t *trace, const vec3_t linestart, const colbrushf_t *other_start)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l00923">collision.c:923</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07132">Mod_CollisionBIH_PointSuperContents()</a>, <a class="el" href="model__brush_8c_source.html#l06971">Mod_CollisionBIH_TraceBrush()</a>, <a class="el" href="model__brush_8c_source.html#l06961">Mod_CollisionBIH_TraceLine()</a>, <a class="el" href="model__brush_8c_source.html#l06833">Mod_CollisionBIH_TraceLineShared()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a28e3ed76293f66de91425261e2f10b4b" name="a28e3ed76293f66de91425261e2f10b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e3ed76293f66de91425261e2f10b4b">&#9670;&#160;</a></span>Mod_CollisionBIH_TracePoint_Mesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_CollisionBIH_TracePoint_Mesh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07146">7146</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7147</span>{</div>
<div class="line"><span class="lineno"> 7148</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 7149</span>    <span class="comment">// broken - needs to be modified to count front faces and backfaces to figure out if it is in solid</span></div>
<div class="line"><span class="lineno"> 7150</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end;</div>
<div class="line"><span class="lineno"> 7151</span>    <span class="keywordtype">int</span> hitsupercontents;</div>
<div class="line"><span class="lineno"> 7152</span>    <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(end, start[0], start[1], model-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2]);</div>
<div class="line"><span class="lineno"> 7153</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 7154</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(*trace));</div>
<div class="line"><span class="lineno"> 7155</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno"> 7156</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 7157</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 7158</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 7159</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 7160</span>    <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>(model, frameblend, skeleton, trace, start, end, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno"> 7161</span>    hitsupercontents = trace-&gt;<a class="code hl_variable" href="structtrace__t.html#ad9e1724e1bd447e3ab1ea29db3e73e46">hitsupercontents</a>;</div>
<div class="line"><span class="lineno"> 7162</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(*trace));</div>
<div class="line"><span class="lineno"> 7163</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno"> 7164</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 7165</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 7166</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 7167</span>    trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a> = hitsupercontents;</div>
<div class="line"><span class="lineno"> 7168</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 7169</span>}</div>
<div class="ttc" id="astructmodel__t_html_ab1e3cb6ca3cb7d53debac5661d033b1f"><div class="ttname"><a href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">model_t::normalmins</a></div><div class="ttdeci">vec3_t normalmins</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00453">model_shared.h:453</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__alias_8c_source.html#l02163">Mod_DARKPLACESMODEL_Load()</a>, <a class="el" href="model__alias_8c_source.html#l00972">Mod_IDP0_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01324">Mod_IDP2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01578">Mod_IDP3_Load()</a>, <a class="el" href="model__alias_8c_source.html#l03219">Mod_INTERQUAKEMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, and <a class="el" href="model__alias_8c_source.html#l01768">Mod_ZYMOTICMODEL_Load()</a>.</p>

</div>
</div>
<a id="a5cd83c676ff52b646e89101e869cddcc" name="a5cd83c676ff52b646e89101e869cddcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd83c676ff52b646e89101e869cddcc">&#9670;&#160;</a></span>Mod_HLBSP_Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_HLBSP_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03873">3873</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3874</span>{</div>
<div class="line"><span class="lineno"> 3875</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3876</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a> = <span class="stringliteral">&quot;HLBSP&quot;</span>;</div>
<div class="line"><span class="lineno"> 3877</span>    <a class="code hl_function" href="model__brush_8c.html#ac7951bc8a426acde1bd108694921f5b7">Mod_Q1BSP_Load</a>(mod, <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>);</div>
<div class="line"><span class="lineno"> 3878</span>}</div>
<div class="ttc" id="astructmodel__brush__t_html_a3a79c69ef5f7da657874473403237f50"><div class="ttname"><a href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">model_brush_t::ishlbsp</a></div><div class="ttdeci">qbool ishlbsp</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00254">model_brush.h:254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e96d9f6e37f9c538f2961e1cacb97ce" name="a6e96d9f6e37f9c538f2961e1cacb97ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e96d9f6e37f9c538f2961e1cacb97ce">&#9670;&#160;</a></span>Mod_IBSP_Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_IBSP_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07660">7660</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7661</span>{</div>
<div class="line"><span class="lineno"> 7662</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(((<span class="keywordtype">int</span> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>)[1]);</div>
<div class="line"><span class="lineno"> 7663</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q3bsp_8h.html#afa2ad4ff1291015382d9b4bc76493bbf">Q3BSPVERSION</a> || <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q3bsp_8h.html#a60f1802e42cb9ab26b7d528c9eb667bc">Q3BSPVERSION_IG</a> || <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q3bsp_8h.html#a87d5d3f72d94456869a6babe9ddd8f6e">Q3BSPVERSION_LIVE</a>)</div>
<div class="line"><span class="lineno"> 7664</span>        <a class="code hl_function" href="model__brush_8c.html#a9b1fec782cf8320cc2e14aecd944f6fc">Mod_Q3BSP_Load</a>(mod,<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>);</div>
<div class="line"><span class="lineno"> 7665</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q2bsp_8h.html#ad263d0ae9d22f8f811b8ce50ff906fee">Q2BSPVERSION</a>)</div>
<div class="line"><span class="lineno"> 7666</span>        <a class="code hl_function" href="model__brush_8c.html#a33816c2d77e3df5a205ea09433b577f1">Mod_Q2BSP_Load</a>(mod,<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a>);</div>
<div class="line"><span class="lineno"> 7667</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 7668</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_IBSP_Load: unknown/unsupported version %i&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 7669</span>}</div>
<div class="ttc" id="acommon_8h_html_a847f080c3427d188d2a5ecd2935a2d93"><div class="ttname"><a href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a></div><div class="ttdeci">#define LittleLong(l)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00092">common.h:92</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a33816c2d77e3df5a205ea09433b577f1"><div class="ttname"><a href="model__brush_8c.html#a33816c2d77e3df5a205ea09433b577f1">Mod_Q2BSP_Load</a></div><div class="ttdeci">static void Mod_Q2BSP_Load(model_t *mod, void *buffer, void *bufferend)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04822">model_brush.c:4822</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a9b1fec782cf8320cc2e14aecd944f6fc"><div class="ttname"><a href="model__brush_8c.html#a9b1fec782cf8320cc2e14aecd944f6fc">Mod_Q3BSP_Load</a></div><div class="ttdeci">static void Mod_Q3BSP_Load(model_t *mod, void *buffer, void *bufferend)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07405">model_brush.c:7405</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_ad263d0ae9d22f8f811b8ce50ff906fee"><div class="ttname"><a href="model__q2bsp_8h.html#ad263d0ae9d22f8f811b8ce50ff906fee">Q2BSPVERSION</a></div><div class="ttdeci">#define Q2BSPVERSION</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00007">model_q2bsp.h:7</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a60f1802e42cb9ab26b7d528c9eb667bc"><div class="ttname"><a href="model__q3bsp_8h.html#a60f1802e42cb9ab26b7d528c9eb667bc">Q3BSPVERSION_IG</a></div><div class="ttdeci">#define Q3BSPVERSION_IG</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00013">model_q3bsp.h:13</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a87d5d3f72d94456869a6babe9ddd8f6e"><div class="ttname"><a href="model__q3bsp_8h.html#a87d5d3f72d94456869a6babe9ddd8f6e">Q3BSPVERSION_LIVE</a></div><div class="ttdeci">#define Q3BSPVERSION_LIVE</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00012">model_q3bsp.h:12</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_afa2ad4ff1291015382d9b4bc76493bbf"><div class="ttname"><a href="model__q3bsp_8h.html#afa2ad4ff1291015382d9b4bc76493bbf">Q3BSPVERSION</a></div><div class="ttdeci">#define Q3BSPVERSION</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00011">model_q3bsp.h:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac294c2bc06a02f8114eed73c8f71795f" name="ac294c2bc06a02f8114eed73c8f71795f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac294c2bc06a02f8114eed73c8f71795f">&#9670;&#160;</a></span>Mod_MakeCollisionBIH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbih__t.html">bih_t</a> * Mod_MakeCollisionBIH </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>userendersurfaces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbih__t.html">bih_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07196">7196</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7197</span>{</div>
<div class="line"><span class="lineno"> 7198</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 7199</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a>;</div>
<div class="line"><span class="lineno"> 7200</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihmaxnodes</a>;</div>
<div class="line"><span class="lineno"> 7201</span>    <span class="keywordtype">int</span> brushindex;</div>
<div class="line"><span class="lineno"> 7202</span>    <span class="keywordtype">int</span> triangleindex;</div>
<div class="line"><span class="lineno"> 7203</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>;</div>
<div class="line"><span class="lineno"> 7204</span>    <span class="keywordtype">int</span> nummodelbrushes = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a93410bd37b5bf2b8c370201850806078">nummodelbrushes</a>;</div>
<div class="line"><span class="lineno"> 7205</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>;</div>
<div class="line"><span class="lineno"> 7206</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionelement3i</a>;</div>
<div class="line"><span class="lineno"> 7207</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>;</div>
<div class="line"><span class="lineno"> 7208</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">renderelement3i</a>;</div>
<div class="line"><span class="lineno"> 7209</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>;</div>
<div class="line"><span class="lineno"> 7210</span>    <a class="code hl_struct" href="structbih__leaf__t.html">bih_leaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>;</div>
<div class="line"><span class="lineno"> 7211</span>    <a class="code hl_struct" href="structbih__node__t.html">bih_node_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnodes</a>;</div>
<div class="line"><span class="lineno"> 7212</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp_leafsort</a>;</div>
<div class="line"><span class="lineno"> 7213</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp_leafsortscratch</a>;</div>
<div class="line"><span class="lineno"> 7214</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno"> 7215</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structq3mbrush__t.html">q3mbrush_t</a> *brush;</div>
<div class="line"><span class="lineno"> 7216</span> </div>
<div class="line"><span class="lineno"> 7217</span>    <span class="comment">// find out how many BIH leaf nodes we need</span></div>
<div class="line"><span class="lineno"> 7218</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a> = 0;</div>
<div class="line"><span class="lineno"> 7219</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userendersurfaces</a>)</div>
<div class="line"><span class="lineno"> 7220</span>    {</div>
<div class="line"><span class="lineno"> 7221</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; model-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 7222</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a> += model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structmsurface__t.html#a567785f5ea238992958048c1fb58a318">num_triangles</a>;</div>
<div class="line"><span class="lineno"> 7223</span>    }</div>
<div class="line"><span class="lineno"> 7224</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 7225</span>    {</div>
<div class="line"><span class="lineno"> 7226</span>        <span class="keywordflow">for</span> (brushindex = 0, brush = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">data_brushes</a> + brushindex+model-&gt;<a class="code hl_variable" href="structmodel__t.html#a2472c8c7fada35ea614e42dba474ae52">firstmodelbrush</a>;brushindex &lt; nummodelbrushes;brushindex++, brush++)</div>
<div class="line"><span class="lineno"> 7227</span>            <span class="keywordflow">if</span> (brush-&gt;<a class="code hl_variable" href="structq3mbrush__t.html#aa5270ca305bb4b5e222aae147910080b">colbrushf</a>)</div>
<div class="line"><span class="lineno"> 7228</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a>++;</div>
<div class="line"><span class="lineno"> 7229</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; model-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 7230</span>        {</div>
<div class="line"><span class="lineno"> 7231</span>            <span class="keywordflow">if</span> (model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structmsurface__t.html#a7caa0cbcf942fc5d17d16ae8f212b91e">texture</a>-&gt;<a class="code hl_variable" href="structtexture__t.html#a8095d6a5de58938c8ef472c95eca6496">basematerialflags</a> &amp; <a class="code hl_define" href="model__brush_8h.html#aa19d4a4be7cc362a6c45d562916be88e">MATERIALFLAG_MESHCOLLISIONS</a>)</div>
<div class="line"><span class="lineno"> 7232</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a> += model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structmsurface__t.html#a567785f5ea238992958048c1fb58a318">num_triangles</a> + model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structmsurface__t.html#a12051fa250d8032ecf30bfdfb27241d4">num_collisiontriangles</a>;</div>
<div class="line"><span class="lineno"> 7233</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 7234</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a> += model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structmsurface__t.html#a12051fa250d8032ecf30bfdfb27241d4">num_collisiontriangles</a>;</div>
<div class="line"><span class="lineno"> 7235</span>        }</div>
<div class="line"><span class="lineno"> 7236</span>    }</div>
<div class="line"><span class="lineno"> 7237</span> </div>
<div class="line"><span class="lineno"> 7238</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a>)</div>
<div class="line"><span class="lineno"> 7239</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7240</span> </div>
<div class="line"><span class="lineno"> 7241</span>    <span class="comment">// allocate the memory for the BIH leaf nodes</span></div>
<div class="line"><span class="lineno"> 7242</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a> = (<a class="code hl_struct" href="structbih__leaf__t.html">bih_leaf_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structbih__leaf__t.html">bih_leaf_t</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a>);</div>
<div class="line"><span class="lineno"> 7243</span> </div>
<div class="line"><span class="lineno"> 7244</span>    <span class="comment">// now populate the BIH leaf nodes</span></div>
<div class="line"><span class="lineno"> 7245</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a> = 0;</div>
<div class="line"><span class="lineno"> 7246</span> </div>
<div class="line"><span class="lineno"> 7247</span>    <span class="comment">// add render surfaces</span></div>
<div class="line"><span class="lineno"> 7248</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">renderelement3i</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>;</div>
<div class="line"><span class="lineno"> 7249</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>;</div>
<div class="line"><span class="lineno"> 7250</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; model-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 7251</span>    {</div>
<div class="line"><span class="lineno"> 7252</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 7253</span>        <span class="keywordflow">for</span> (triangleindex = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">renderelement3i</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle;triangleindex &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles;triangleindex++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> += 3)</div>
<div class="line"><span class="lineno"> 7254</span>        {</div>
<div class="line"><span class="lineno"> 7255</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userendersurfaces</a> &amp;&amp; !(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;basematerialflags &amp; <a class="code hl_define" href="model__brush_8h.html#aa19d4a4be7cc362a6c45d562916be88e">MATERIALFLAG_MESHCOLLISIONS</a>))</div>
<div class="line"><span class="lineno"> 7256</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 7257</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].type = <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a6a325ae2737f26da3a175a3c15c6da60">BIH_RENDERTRIANGLE</a>;</div>
<div class="line"><span class="lineno"> 7258</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].textureindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;<a class="code hl_variable" href="structmsurface__t.html#a7caa0cbcf942fc5d17d16ae8f212b91e">texture</a> - model-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>;</div>
<div class="line"><span class="lineno"> 7259</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].surfaceindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> - model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>;</div>
<div class="line"><span class="lineno"> 7260</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].itemindex = triangleindex+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;<a class="code hl_variable" href="structmsurface__t.html#a445a0d528c69ae204c1a1918bd3da80a">num_firsttriangle</a>;</div>
<div class="line"><span class="lineno"> 7261</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].mins[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+0], <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+0])) - 1;</div>
<div class="line"><span class="lineno"> 7262</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].mins[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+1], <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+1])) - 1;</div>
<div class="line"><span class="lineno"> 7263</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].mins[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+2], <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+2])) - 1;</div>
<div class="line"><span class="lineno"> 7264</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].maxs[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+0], <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+0])) + 1;</div>
<div class="line"><span class="lineno"> 7265</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].maxs[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+1], <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+1])) + 1;</div>
<div class="line"><span class="lineno"> 7266</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].maxs[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+2], <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendervertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+2])) + 1;</div>
<div class="line"><span class="lineno"> 7267</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>++;</div>
<div class="line"><span class="lineno"> 7268</span>        }</div>
<div class="line"><span class="lineno"> 7269</span>    }</div>
<div class="line"><span class="lineno"> 7270</span> </div>
<div class="line"><span class="lineno"> 7271</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">userendersurfaces</a>)</div>
<div class="line"><span class="lineno"> 7272</span>    {</div>
<div class="line"><span class="lineno"> 7273</span>        <span class="comment">// add collision brushes</span></div>
<div class="line"><span class="lineno"> 7274</span>        <span class="keywordflow">for</span> (brushindex = 0, brush = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">data_brushes</a> + brushindex+model-&gt;<a class="code hl_variable" href="structmodel__t.html#a2472c8c7fada35ea614e42dba474ae52">firstmodelbrush</a>;brushindex &lt; nummodelbrushes;brushindex++, brush++)</div>
<div class="line"><span class="lineno"> 7275</span>        {</div>
<div class="line"><span class="lineno"> 7276</span>            <span class="keywordflow">if</span> (!brush-&gt;<a class="code hl_variable" href="structq3mbrush__t.html#aa5270ca305bb4b5e222aae147910080b">colbrushf</a>)</div>
<div class="line"><span class="lineno"> 7277</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 7278</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].type = <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22af1f80fc993c6036fc5a72142d072ddea">BIH_BRUSH</a>;</div>
<div class="line"><span class="lineno"> 7279</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].textureindex = brush-&gt;<a class="code hl_variable" href="structq3mbrush__t.html#afc676b139c39540a2e2320dd83c2430f">texture</a> - model-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>;</div>
<div class="line"><span class="lineno"> 7280</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].surfaceindex = -1;</div>
<div class="line"><span class="lineno"> 7281</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].itemindex = brushindex+model-&gt;<a class="code hl_variable" href="structmodel__t.html#a2472c8c7fada35ea614e42dba474ae52">firstmodelbrush</a>;</div>
<div class="line"><span class="lineno"> 7282</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(brush-&gt;<a class="code hl_variable" href="structq3mbrush__t.html#aa5270ca305bb4b5e222aae147910080b">colbrushf</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].mins);</div>
<div class="line"><span class="lineno"> 7283</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(brush-&gt;<a class="code hl_variable" href="structq3mbrush__t.html#aa5270ca305bb4b5e222aae147910080b">colbrushf</a>-&gt;maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].maxs);</div>
<div class="line"><span class="lineno"> 7284</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>++;</div>
<div class="line"><span class="lineno"> 7285</span>        }</div>
<div class="line"><span class="lineno"> 7286</span> </div>
<div class="line"><span class="lineno"> 7287</span>        <span class="comment">// add collision surfaces</span></div>
<div class="line"><span class="lineno"> 7288</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionelement3i</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a755d162f456a2a35c5eb8cfeb031f681">data_collisionelement3i</a>;</div>
<div class="line"><span class="lineno"> 7289</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a>;</div>
<div class="line"><span class="lineno"> 7290</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; model-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 7291</span>        {</div>
<div class="line"><span class="lineno"> 7292</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 7293</span>            <span class="keywordflow">for</span> (triangleindex = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionelement3i</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstcollisiontriangle;triangleindex &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_collisiontriangles;triangleindex++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> += 3)</div>
<div class="line"><span class="lineno"> 7294</span>            {</div>
<div class="line"><span class="lineno"> 7295</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].type = <a class="code hl_enumvalue" href="bih_8h.html#a216193cf4e899985bc64b1db77f3bd22a24c78c792118b953702f4106b10230e6">BIH_COLLISIONTRIANGLE</a>;</div>
<div class="line"><span class="lineno"> 7296</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].textureindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;<a class="code hl_variable" href="structmsurface__t.html#a7caa0cbcf942fc5d17d16ae8f212b91e">texture</a> - model-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>;</div>
<div class="line"><span class="lineno"> 7297</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].surfaceindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> - model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>;</div>
<div class="line"><span class="lineno"> 7298</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].itemindex = triangleindex+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;<a class="code hl_variable" href="structmsurface__t.html#a6858d90dc2fb532413f167b51a260597">num_firstcollisiontriangle</a>;</div>
<div class="line"><span class="lineno"> 7299</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].mins[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+0], <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+0])) - 1;</div>
<div class="line"><span class="lineno"> 7300</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].mins[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+1], <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+1])) - 1;</div>
<div class="line"><span class="lineno"> 7301</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].mins[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+2], <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+2])) - 1;</div>
<div class="line"><span class="lineno"> 7302</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].maxs[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+0], <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+0])) + 1;</div>
<div class="line"><span class="lineno"> 7303</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].maxs[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+1], <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+1])) + 1;</div>
<div class="line"><span class="lineno"> 7304</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>].maxs[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[0]+2], <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[1]+2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertex3f</a>[3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>[2]+2])) + 1;</div>
<div class="line"><span class="lineno"> 7305</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafindex</a>++;</div>
<div class="line"><span class="lineno"> 7306</span>            }</div>
<div class="line"><span class="lineno"> 7307</span>        }</div>
<div class="line"><span class="lineno"> 7308</span>    }</div>
<div class="line"><span class="lineno"> 7309</span> </div>
<div class="line"><span class="lineno"> 7310</span>    <span class="comment">// allocate buffers for the produced and temporary data</span></div>
<div class="line"><span class="lineno"> 7311</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihmaxnodes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a> + 1;</div>
<div class="line"><span class="lineno"> 7312</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnodes</a> = (<a class="code hl_struct" href="structbih__node__t.html">bih_node_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structbih__node__t.html">bih_node_t</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihmaxnodes</a>);</div>
<div class="line"><span class="lineno"> 7313</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp_leafsort</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a> * 2);</div>
<div class="line"><span class="lineno"> 7314</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp_leafsortscratch</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp_leafsort</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a>;</div>
<div class="line"><span class="lineno"> 7315</span> </div>
<div class="line"><span class="lineno"> 7316</span>    <span class="comment">// now build it</span></div>
<div class="line"><span class="lineno"> 7317</span>    <a class="code hl_function" href="bih_8c.html#ab6e6d89d9bd92977c04f55e05b714029">BIH_Build</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnumleafs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihleafs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihmaxnodes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bihnodes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp_leafsort</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp_leafsortscratch</a>);</div>
<div class="line"><span class="lineno"> 7318</span> </div>
<div class="line"><span class="lineno"> 7319</span>    <span class="comment">// we&#39;re done with the temporary data</span></div>
<div class="line"><span class="lineno"> 7320</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp_leafsort</a>);</div>
<div class="line"><span class="lineno"> 7321</span> </div>
<div class="line"><span class="lineno"> 7322</span>    <span class="comment">// resize the BIH nodes array if it over-allocated</span></div>
<div class="line"><span class="lineno"> 7323</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxnodes &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numnodes)</div>
<div class="line"><span class="lineno"> 7324</span>    {</div>
<div class="line"><span class="lineno"> 7325</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxnodes = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numnodes;</div>
<div class="line"><span class="lineno"> 7326</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;nodes = (<a class="code hl_struct" href="structbih__node__t.html">bih_node_t</a> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;nodes, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numnodes * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structbih__node__t.html">bih_node_t</a>));</div>
<div class="line"><span class="lineno"> 7327</span>    }</div>
<div class="line"><span class="lineno"> 7328</span> </div>
<div class="line"><span class="lineno"> 7329</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 7330</span>}</div>
<div class="ttc" id="abih_8c_html_ab6e6d89d9bd92977c04f55e05b714029"><div class="ttname"><a href="bih_8c.html#ab6e6d89d9bd92977c04f55e05b714029">BIH_Build</a></div><div class="ttdeci">int BIH_Build(bih_t *bih, int numleafs, bih_leaf_t *leafs, int maxnodes, bih_node_t *nodes, int *temp_leafsort, int *temp_leafsortscratch)</div><div class="ttdef"><b>Definition</b> <a href="bih_8c_source.html#l00133">bih.c:133</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_aa19d4a4be7cc362a6c45d562916be88e"><div class="ttname"><a href="model__brush_8h.html#aa19d4a4be7cc362a6c45d562916be88e">MATERIALFLAG_MESHCOLLISIONS</a></div><div class="ttdeci">#define MATERIALFLAG_MESHCOLLISIONS</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00077">model_brush.h:77</a></div></div>
<div class="ttc" id="astructmodel__t_html_a2472c8c7fada35ea614e42dba474ae52"><div class="ttname"><a href="structmodel__t.html#a2472c8c7fada35ea614e42dba474ae52">model_t::firstmodelbrush</a></div><div class="ttdeci">int firstmodelbrush</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00472">model_shared.h:472</a></div></div>
<div class="ttc" id="astructmodel__t_html_a3cf3f78e305583268585ef7bde7aaa16"><div class="ttname"><a href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">model_t::submodelsurfaces_end</a></div><div class="ttdeci">int submodelsurfaces_end</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00468">model_shared.h:468</a></div></div>
<div class="ttc" id="astructmodel__t_html_a4f2bc211fd845ff46f40e2a8c098b7ad"><div class="ttname"><a href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">model_t::submodelsurfaces_start</a></div><div class="ttdeci">int submodelsurfaces_start</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00467">model_shared.h:467</a></div></div>
<div class="ttc" id="astructmodel__t_html_a93410bd37b5bf2b8c370201850806078"><div class="ttname"><a href="structmodel__t.html#a93410bd37b5bf2b8c370201850806078">model_t::nummodelbrushes</a></div><div class="ttdeci">int nummodelbrushes</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00473">model_shared.h:473</a></div></div>
<div class="ttc" id="astructmsurface__t_html_a12051fa250d8032ecf30bfdfb27241d4"><div class="ttname"><a href="structmsurface__t.html#a12051fa250d8032ecf30bfdfb27241d4">msurface_t::num_collisiontriangles</a></div><div class="ttdeci">int num_collisiontriangles</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00405">model_shared.h:405</a></div></div>
<div class="ttc" id="astructmsurface__t_html_a445a0d528c69ae204c1a1918bd3da80a"><div class="ttname"><a href="structmsurface__t.html#a445a0d528c69ae204c1a1918bd3da80a">msurface_t::num_firsttriangle</a></div><div class="ttdeci">int num_firsttriangle</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00381">model_shared.h:381</a></div></div>
<div class="ttc" id="astructmsurface__t_html_a567785f5ea238992958048c1fb58a318"><div class="ttname"><a href="structmsurface__t.html#a567785f5ea238992958048c1fb58a318">msurface_t::num_triangles</a></div><div class="ttdeci">int num_triangles</div><div class="ttdoc">range of triangles and vertices in model-&gt;surfmesh</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00380">model_shared.h:380</a></div></div>
<div class="ttc" id="astructmsurface__t_html_a6858d90dc2fb532413f167b51a260597"><div class="ttname"><a href="structmsurface__t.html#a6858d90dc2fb532413f167b51a260597">msurface_t::num_firstcollisiontriangle</a></div><div class="ttdeci">int num_firstcollisiontriangle</div><div class="ttdoc">mesh information for collisions (only used by q3bsp curves)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00404">model_shared.h:404</a></div></div>
<div class="ttc" id="astructq3mbrush__t_html"><div class="ttname"><a href="structq3mbrush__t.html">q3mbrush_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00296">model_q3bsp.h:297</a></div></div>
<div class="ttc" id="astructq3mbrush__t_html_aa5270ca305bb4b5e222aae147910080b"><div class="ttname"><a href="structq3mbrush__t.html#aa5270ca305bb4b5e222aae147910080b">q3mbrush_t::colbrushf</a></div><div class="ttdeci">struct colbrushf_s * colbrushf</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00298">model_q3bsp.h:298</a></div></div>
<div class="ttc" id="astructq3mbrush__t_html_afc676b139c39540a2e2320dd83c2430f"><div class="ttname"><a href="structq3mbrush__t.html#afc676b139c39540a2e2320dd83c2430f">q3mbrush_t::texture</a></div><div class="ttdeci">struct texture_s * texture</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00301">model_q3bsp.h:301</a></div></div>
<div class="ttc" id="astructtexture__t_html_a8095d6a5de58938c8ef472c95eca6496"><div class="ttname"><a href="structtexture__t.html#a8095d6a5de58938c8ef472c95eca6496">texture_t::basematerialflags</a></div><div class="ttdeci">int basematerialflags</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00199">model_shared.h:199</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__alias_8c_source.html#l02163">Mod_DARKPLACESMODEL_Load()</a>, <a class="el" href="model__alias_8c_source.html#l00972">Mod_IDP0_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01324">Mod_IDP2_Load()</a>, <a class="el" href="model__alias_8c_source.html#l01578">Mod_IDP3_Load()</a>, <a class="el" href="model__alias_8c_source.html#l03219">Mod_INTERQUAKEMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>, <a class="el" href="model__alias_8c_source.html#l02540">Mod_PSKMODEL_Load()</a>, <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__alias_8c_source.html#l01768">Mod_ZYMOTICMODEL_Load()</a>.</p>

</div>
</div>
<a id="aea213b0a4358054ff491119b61352274" name="aea213b0a4358054ff491119b61352274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea213b0a4358054ff491119b61352274">&#9670;&#160;</a></span>Mod_MAP_Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_MAP_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l08183">8183</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8184</span>{</div>
<div class="line"><span class="lineno"> 8185</span>    <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_MAP_Load: not yet implemented&quot;</span>);</div>
<div class="line"><span class="lineno"> 8186</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a32aeae94a304b29fc3a77825b7a5e90a" name="a32aeae94a304b29fc3a77825b7a5e90a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32aeae94a304b29fc3a77825b7a5e90a">&#9670;&#160;</a></span>Mod_OBJ_Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_OBJ_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l08201">8201</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8202</span>{</div>
<div class="line"><span class="lineno"> 8203</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textbase</a> = (<span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, *text = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">textbase</a>;</div>
<div class="line"><span class="lineno"> 8204</span>    <span class="keywordtype">char</span> *s;</div>
<div class="line"><span class="lineno"> 8205</span>    <span class="keywordtype">char</span> *argv[512];</div>
<div class="line"><span class="lineno"> 8206</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[1024];</div>
<div class="line"><span class="lineno"> 8207</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">materialname</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 8208</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>, numvertices, firstvertex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firsttriangle</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">elementindex</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacevertices</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacetriangles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaceelements</a>, submodelindex = 0;</div>
<div class="line"><span class="lineno"> 8209</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index3</a>;</div>
<div class="line"><span class="lineno"> 8210</span>    <a class="code hl_struct" href="structobjvertex__t.html">objvertex_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vfirst</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vprev</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>;</div>
<div class="line"><span class="lineno"> 8211</span>    <span class="keywordtype">int</span> argc;</div>
<div class="line"><span class="lineno"> 8212</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>;</div>
<div class="line"><span class="lineno"> 8213</span>    <span class="keywordtype">int</span> numtriangles = 0;</div>
<div class="line"><span class="lineno"> 8214</span>    <span class="keywordtype">int</span> maxtriangles = 0;</div>
<div class="line"><span class="lineno"> 8215</span>    <a class="code hl_struct" href="structobjvertex__t.html">objvertex_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8216</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a> = 0;</div>
<div class="line"><span class="lineno"> 8217</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a> = 0, textureindex = 0;</div>
<div class="line"><span class="lineno"> 8218</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxv</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a> = 1;</div>
<div class="line"><span class="lineno"> 8219</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvt</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvt</a> = 1;</div>
<div class="line"><span class="lineno"> 8220</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvn</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a> = 1;</div>
<div class="line"><span class="lineno"> 8221</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8222</span>    <span class="keywordtype">float</span> dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>, yawradius;</div>
<div class="line"><span class="lineno"> 8223</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8224</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vt</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8225</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8226</span>    <span class="keywordtype">float</span> mins[3];</div>
<div class="line"><span class="lineno"> 8227</span>    <span class="keywordtype">float</span> maxs[3];</div>
<div class="line"><span class="lineno"> 8228</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[3];</div>
<div class="line"><span class="lineno"> 8229</span>    <a class="code hl_struct" href="structobjvertex__t.html">objvertex_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8230</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashindex</a>;</div>
<div class="line"><span class="lineno"> 8231</span>    <span class="keywordtype">int</span> *vertexhashtable = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8232</span>    <a class="code hl_struct" href="structobjvertex__t.html">objvertex_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8233</span>    <a class="code hl_struct" href="structobjvertex__t.html">objvertex_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8234</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashsize</a> = 0;</div>
<div class="line"><span class="lineno"> 8235</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashcount</a> = 0;</div>
<div class="line"><span class="lineno"> 8236</span>    <a class="code hl_struct" href="structskinfile__t.html">skinfile_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinfiles</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8237</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8238</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">submodelfirstsurface</a>;</div>
<div class="line"><span class="lineno"> 8239</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>;</div>
<div class="line"><span class="lineno"> 8240</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurfaces</a>;</div>
<div class="line"><span class="lineno"> 8241</span> </div>
<div class="line"><span class="lineno"> 8242</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vfirst</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vfirst</a>));</div>
<div class="line"><span class="lineno"> 8243</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vprev</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vprev</a>));</div>
<div class="line"><span class="lineno"> 8244</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>));</div>
<div class="line"><span class="lineno"> 8245</span> </div>
<div class="line"><span class="lineno"> 8246</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">materialname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">materialname</a>), <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 8247</span> </div>
<div class="line"><span class="lineno"> 8248</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a> = <span class="stringliteral">&quot;OBJ&quot;</span>;</div>
<div class="line"><span class="lineno"> 8249</span> </div>
<div class="line"><span class="lineno"> 8250</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a0fb268c443d4c9dd629e3af746878fec">type</a> = <a class="code hl_enumvalue" href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4a321cbbbfbe93df569882b2ee66231f4c">mod_obj</a>;</div>
<div class="line"><span class="lineno"> 8251</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1fcab5fc67dd83b66311618cf8e152d">soundfromcenter</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 8252</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">TraceBox</a> = <a class="code hl_function" href="model__brush_8c.html#a29fecb522c6d449fb01d01f2b070e4d1">Mod_CollisionBIH_TraceBox</a>;</div>
<div class="line"><span class="lineno"> 8253</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a88de93ec53d5028ad75df7a08eb5005a">TraceBrush</a> = <a class="code hl_function" href="model__brush_8c.html#affbc4942202066560126b850810d2662">Mod_CollisionBIH_TraceBrush</a>;</div>
<div class="line"><span class="lineno"> 8254</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af986fe2f082429a18c3d36f957649e10">TraceLine</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 8255</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a72c9953cbe38085b8545258bfd28792c">TracePoint</a> = <a class="code hl_function" href="model__brush_8c.html#a28e3ed76293f66de91425261e2f10b4b">Mod_CollisionBIH_TracePoint_Mesh</a>;</div>
<div class="line"><span class="lineno"> 8256</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab12042d3586a8c32c85b226baf81d982">TraceLineAgainstSurfaces</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 8257</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">PointSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#a2726571fd5f00e6268319b38a4accb14">Mod_CollisionBIH_PointSuperContents_Mesh</a>;</div>
<div class="line"><span class="lineno"> 8258</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a32ee664ad4c03f4ea8c698b48bb443fe">TraceLineOfSight</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8259</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a42a513aa3f096a77e3f52db25aff4a12">SuperContentsFromNativeContents</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8260</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12902c97697b0ccf6f66b5cc1a6e6cbf">NativeContentsFromSuperContents</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8261</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8262</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8263</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8264</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8265</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8266</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8267</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8268</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8d0042214ff0c446bc69f675e65aadb2">FindNonSolidLocation</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8269</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8270</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a35481106e3500413e8a0304780449719">RoundUpToHullSize</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8271</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">PointInLeaf</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8272</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ad54aab83aca1c9ec564054f4019609">Draw</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a904d7d0ff6adf58e411c3ffb80ca27c4">R_Mod_Draw</a>;</div>
<div class="line"><span class="lineno"> 8273</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a0c0d94b3f0503536ab0e6c0056d97df2">DrawDepth</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aae83c1e7beee72d6cbfc03a0f0bd11bf">R_Mod_DrawDepth</a>;</div>
<div class="line"><span class="lineno"> 8274</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a7b670a69b5082781733cc0b9ebdc307a">DrawDebug</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a6e528b203b784986a5b5bbf82ac387ff">R_Mod_DrawDebug</a>;</div>
<div class="line"><span class="lineno"> 8275</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5a5b038598ccef5f670521d169edb025">DrawPrepass</a> = <a class="code hl_function" href="gl__rsurf_8c.html#ad8145eb3a0203496ea94da9834e098f0">R_Mod_DrawPrepass</a>;</div>
<div class="line"><span class="lineno"> 8276</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a7a0081b6e77854bd75ae206afba89148">GetLightInfo</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a60a24c695566f11f38f592dc83d76869">R_Mod_GetLightInfo</a>;</div>
<div class="line"><span class="lineno"> 8277</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aaba719ee8f91d844c266a62e4661aad9">CompileShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a2c9f5aad0d1f1cbd7abefaf946c38fc7">R_Mod_CompileShadowMap</a>;</div>
<div class="line"><span class="lineno"> 8278</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a71121e7ef28a949af258f4611ce21e9c">DrawShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aa4222887ff91555860ca9ab52531861c">R_Mod_DrawShadowMap</a>;</div>
<div class="line"><span class="lineno"> 8279</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af206eaa0040c5a5e297fa1c0191b22dd">DrawLight</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a89a46aef51c1b493184fcc71ee028236">R_Mod_DrawLight</a>;</div>
<div class="line"><span class="lineno"> 8280</span> </div>
<div class="line"><span class="lineno"> 8281</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinfiles</a> = <a class="code hl_function" href="model__shared_8c.html#a32f3c43770d65673771406dcb9b61a66">Mod_LoadSkinFiles</a>();</div>
<div class="line"><span class="lineno"> 8282</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a> &lt; 1)</div>
<div class="line"><span class="lineno"> 8283</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a> = 1;</div>
<div class="line"><span class="lineno"> 8284</span> </div>
<div class="line"><span class="lineno"> 8285</span>    <span class="comment">// make skinscenes for the skins (no groups)</span></div>
<div class="line"><span class="lineno"> 8286</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ad4977f2739466469e77463bab78dd4dd">skinscenes</a> = (<a class="code hl_struct" href="structanimscene__t.html">animscene_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structanimscene__t.html">animscene_t</a>) * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a>);</div>
<div class="line"><span class="lineno"> 8287</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 8288</span>    {</div>
<div class="line"><span class="lineno"> 8289</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ad4977f2739466469e77463bab78dd4dd">skinscenes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structanimscene__t.html#aab78607e4169ebda0f6abac8cc328fee">firstframe</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 8290</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ad4977f2739466469e77463bab78dd4dd">skinscenes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structanimscene__t.html#a5b15507359a161969d769cd85193561e">framecount</a> = 1;</div>
<div class="line"><span class="lineno"> 8291</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ad4977f2739466469e77463bab78dd4dd">skinscenes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structanimscene__t.html#a2717e3be79ce23fe8e47c87a5c934b12">loop</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 8292</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ad4977f2739466469e77463bab78dd4dd">skinscenes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structanimscene__t.html#ac67d73868af90a4796ff3d37519a80cf">framerate</a> = 10;</div>
<div class="line"><span class="lineno"> 8293</span>    }</div>
<div class="line"><span class="lineno"> 8294</span> </div>
<div class="line"><span class="lineno"> 8295</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(mins);</div>
<div class="line"><span class="lineno"> 8296</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(maxs);</div>
<div class="line"><span class="lineno"> 8297</span> </div>
<div class="line"><span class="lineno"> 8298</span>    <span class="comment">// we always have model 0, i.e. the first &quot;submodel&quot;</span></div>
<div class="line"><span class="lineno"> 8299</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> = 1;</div>
<div class="line"><span class="lineno"> 8300</span> </div>
<div class="line"><span class="lineno"> 8301</span>    <span class="comment">// parse the OBJ text now</span></div>
<div class="line"><span class="lineno"> 8302</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno"> 8303</span>    {</div>
<div class="line"><span class="lineno"> 8304</span>        <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">emptyarg</a>[1] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 8305</span>        <span class="keywordflow">if</span> (!*text)</div>
<div class="line"><span class="lineno"> 8306</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8307</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linenumber</a>++;</div>
<div class="line"><span class="lineno"> 8308</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a> = 0;</div>
<div class="line"><span class="lineno"> 8309</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a> = 0;text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>] &amp;&amp; text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>] != <span class="charliteral">&#39;\r&#39;</span> &amp;&amp; text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>] != <span class="charliteral">&#39;\n&#39;</span>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>++)</div>
<div class="line"><span class="lineno"> 8310</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>] = text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>];</div>
<div class="line"><span class="lineno"> 8311</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>] = 0;</div>
<div class="line"><span class="lineno"> 8312</span>        <span class="keywordflow">for</span> (argc = 0;argc &lt; 4;argc++)</div>
<div class="line"><span class="lineno"> 8313</span>            argv[argc] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">emptyarg</a>;</div>
<div class="line"><span class="lineno"> 8314</span>        argc = 0;</div>
<div class="line"><span class="lineno"> 8315</span>        s = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>;</div>
<div class="line"><span class="lineno"> 8316</span>        <span class="keywordflow">while</span> (*s == <span class="charliteral">&#39; &#39;</span> || *s == <span class="charliteral">&#39;\t&#39;</span>)</div>
<div class="line"><span class="lineno"> 8317</span>            s++;</div>
<div class="line"><span class="lineno"> 8318</span>        <span class="keywordflow">while</span> (*s)</div>
<div class="line"><span class="lineno"> 8319</span>        {</div>
<div class="line"><span class="lineno"> 8320</span>            argv[argc++] = s;</div>
<div class="line"><span class="lineno"> 8321</span>            <span class="keywordflow">while</span> (*s &gt; <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><span class="lineno"> 8322</span>                s++;</div>
<div class="line"><span class="lineno"> 8323</span>            <span class="keywordflow">if</span> (!*s)</div>
<div class="line"><span class="lineno"> 8324</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8325</span>            *s++ = 0;</div>
<div class="line"><span class="lineno"> 8326</span>            <span class="keywordflow">while</span> (*s == <span class="charliteral">&#39; &#39;</span> || *s == <span class="charliteral">&#39;\t&#39;</span>)</div>
<div class="line"><span class="lineno"> 8327</span>                s++;</div>
<div class="line"><span class="lineno"> 8328</span>        }</div>
<div class="line"><span class="lineno"> 8329</span>        text += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">linelen</a>;</div>
<div class="line"><span class="lineno"> 8330</span>        <span class="keywordflow">if</span> (*text == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><span class="lineno"> 8331</span>            text++;</div>
<div class="line"><span class="lineno"> 8332</span>        <span class="keywordflow">if</span> (*text == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno"> 8333</span>            text++;</div>
<div class="line"><span class="lineno"> 8334</span>        <span class="keywordflow">if</span> (!argc)</div>
<div class="line"><span class="lineno"> 8335</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8336</span>        <span class="keywordflow">if</span> (argv[0][0] == <span class="charliteral">&#39;#&#39;</span>)</div>
<div class="line"><span class="lineno"> 8337</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8338</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;v&quot;</span>))</div>
<div class="line"><span class="lineno"> 8339</span>        {</div>
<div class="line"><span class="lineno"> 8340</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxv</a> &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>)</div>
<div class="line"><span class="lineno"> 8341</span>            {</div>
<div class="line"><span class="lineno"> 8342</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxv</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxv</a> * 2, 1024);</div>
<div class="line"><span class="lineno"> 8343</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a> = (<span class="keywordtype">float</span> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxv</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]));</div>
<div class="line"><span class="lineno"> 8344</span>            }</div>
<div class="line"><span class="lineno"> 8345</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="model__brush_8c.html#afb66a8936f34a990e2385c092115ef3c">mod_obj_orientation</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 8346</span>            {</div>
<div class="line"><span class="lineno"> 8347</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>*3+0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[1]);</div>
<div class="line"><span class="lineno"> 8348</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>*3+2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[2]);</div>
<div class="line"><span class="lineno"> 8349</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>*3+1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[3]);</div>
<div class="line"><span class="lineno"> 8350</span>            }</div>
<div class="line"><span class="lineno"> 8351</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 8352</span>            {</div>
<div class="line"><span class="lineno"> 8353</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>*3+0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[1]);</div>
<div class="line"><span class="lineno"> 8354</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>*3+1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[2]);</div>
<div class="line"><span class="lineno"> 8355</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>*3+2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[3]);</div>
<div class="line"><span class="lineno"> 8356</span>            }</div>
<div class="line"><span class="lineno"> 8357</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>++;</div>
<div class="line"><span class="lineno"> 8358</span>        }</div>
<div class="line"><span class="lineno"> 8359</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;vt&quot;</span>))</div>
<div class="line"><span class="lineno"> 8360</span>        {</div>
<div class="line"><span class="lineno"> 8361</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvt</a> &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvt</a>)</div>
<div class="line"><span class="lineno"> 8362</span>            {</div>
<div class="line"><span class="lineno"> 8363</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvt</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvt</a> * 2, 1024);</div>
<div class="line"><span class="lineno"> 8364</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vt</a> = (<span class="keywordtype">float</span> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vt</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvt</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[2]));</div>
<div class="line"><span class="lineno"> 8365</span>            }</div>
<div class="line"><span class="lineno"> 8366</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vt</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvt</a>*2+0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[1]);</div>
<div class="line"><span class="lineno"> 8367</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vt</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvt</a>*2+1] = 1-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[2]);</div>
<div class="line"><span class="lineno"> 8368</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvt</a>++;</div>
<div class="line"><span class="lineno"> 8369</span>        }</div>
<div class="line"><span class="lineno"> 8370</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;vn&quot;</span>))</div>
<div class="line"><span class="lineno"> 8371</span>        {</div>
<div class="line"><span class="lineno"> 8372</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvn</a> &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>)</div>
<div class="line"><span class="lineno"> 8373</span>            {</div>
<div class="line"><span class="lineno"> 8374</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvn</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvn</a> * 2, 1024);</div>
<div class="line"><span class="lineno"> 8375</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a> = (<span class="keywordtype">float</span> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxvn</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]));</div>
<div class="line"><span class="lineno"> 8376</span>            }</div>
<div class="line"><span class="lineno"> 8377</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="model__brush_8c.html#afb66a8936f34a990e2385c092115ef3c">mod_obj_orientation</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 8378</span>            {</div>
<div class="line"><span class="lineno"> 8379</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>*3+0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[1]);</div>
<div class="line"><span class="lineno"> 8380</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>*3+2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[2]);</div>
<div class="line"><span class="lineno"> 8381</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>*3+1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[3]);</div>
<div class="line"><span class="lineno"> 8382</span>            }</div>
<div class="line"><span class="lineno"> 8383</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 8384</span>            {</div>
<div class="line"><span class="lineno"> 8385</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>*3+0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[1]);</div>
<div class="line"><span class="lineno"> 8386</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>*3+1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[2]);</div>
<div class="line"><span class="lineno"> 8387</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>*3+2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[3]);</div>
<div class="line"><span class="lineno"> 8388</span>            }</div>
<div class="line"><span class="lineno"> 8389</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>++;</div>
<div class="line"><span class="lineno"> 8390</span>        }</div>
<div class="line"><span class="lineno"> 8391</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;f&quot;</span>))</div>
<div class="line"><span class="lineno"> 8392</span>        {</div>
<div class="line"><span class="lineno"> 8393</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>)</div>
<div class="line"><span class="lineno"> 8394</span>            {</div>
<div class="line"><span class="lineno"> 8395</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>)</div>
<div class="line"><span class="lineno"> 8396</span>                {</div>
<div class="line"><span class="lineno"> 8397</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> * 2, 256);</div>
<div class="line"><span class="lineno"> 8398</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> * <a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>);</div>
<div class="line"><span class="lineno"> 8399</span>                }</div>
<div class="line"><span class="lineno"> 8400</span>                textureindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>++;</div>
<div class="line"><span class="lineno"> 8401</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a> + textureindex*<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>);</div>
<div class="line"><span class="lineno"> 8402</span>            }</div>
<div class="line"><span class="lineno"> 8403</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; argc;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 8404</span>            {</div>
<div class="line"><span class="lineno"> 8405</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]);</div>
<div class="line"><span class="lineno"> 8406</span>                <span class="keywordflow">while</span>(argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>][0] &amp;&amp; argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>][0] != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 8407</span>                    argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]++;</div>
<div class="line"><span class="lineno"> 8408</span>                <span class="keywordflow">if</span> (argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>][0])</div>
<div class="line"><span class="lineno"> 8409</span>                    argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]++;</div>
<div class="line"><span class="lineno"> 8410</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]);</div>
<div class="line"><span class="lineno"> 8411</span>                <span class="keywordflow">while</span>(argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>][0] &amp;&amp; argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>][0] != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 8412</span>                    argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]++;</div>
<div class="line"><span class="lineno"> 8413</span>                <span class="keywordflow">if</span> (argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>][0])</div>
<div class="line"><span class="lineno"> 8414</span>                    argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]++;</div>
<div class="line"><span class="lineno"> 8415</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atoi</a>(argv[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]);</div>
<div class="line"><span class="lineno"> 8416</span>                <span class="comment">// negative refers to a recent vertex</span></div>
<div class="line"><span class="lineno"> 8417</span>                <span class="comment">// zero means not specified</span></div>
<div class="line"><span class="lineno"> 8418</span>                <span class="comment">// positive means an absolute vertex index</span></div>
<div class="line"><span class="lineno"> 8419</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index1</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 8420</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index1</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index1</a>;</div>
<div class="line"><span class="lineno"> 8421</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index2</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 8422</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvt</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index2</a>;</div>
<div class="line"><span class="lineno"> 8423</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index3</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 8424</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index3</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index3</a>;</div>
<div class="line"><span class="lineno"> 8425</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.nextindex = -1;</div>
<div class="line"><span class="lineno"> 8426</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.textureindex = textureindex;</div>
<div class="line"><span class="lineno"> 8427</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.submodelindex = submodelindex;</div>
<div class="line"><span class="lineno"> 8428</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index1</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index1</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numv</a>)</div>
<div class="line"><span class="lineno"> 8429</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v);</div>
<div class="line"><span class="lineno"> 8430</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vt</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index2</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index2</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvt</a>)</div>
<div class="line"><span class="lineno"> 8431</span>                    <a class="code hl_define" href="mathlib_8h.html#a65dae07ba3561742c7f0eedf6c008731">Vector2Copy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vt</a> + 2*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.vt);</div>
<div class="line"><span class="lineno"> 8432</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index3</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index3</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numvn</a>)</div>
<div class="line"><span class="lineno"> 8433</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index3</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.vn);</div>
<div class="line"><span class="lineno"> 8434</span>                <span class="keywordflow">if</span> (numtriangles == 0)</div>
<div class="line"><span class="lineno"> 8435</span>                {</div>
<div class="line"><span class="lineno"> 8436</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v, mins);</div>
<div class="line"><span class="lineno"> 8437</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v, maxs);</div>
<div class="line"><span class="lineno"> 8438</span>                }</div>
<div class="line"><span class="lineno"> 8439</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 8440</span>                {</div>
<div class="line"><span class="lineno"> 8441</span>                    mins[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mins[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v[0]);</div>
<div class="line"><span class="lineno"> 8442</span>                    mins[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mins[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v[1]);</div>
<div class="line"><span class="lineno"> 8443</span>                    mins[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mins[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v[2]);</div>
<div class="line"><span class="lineno"> 8444</span>                    maxs[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(maxs[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v[0]);</div>
<div class="line"><span class="lineno"> 8445</span>                    maxs[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(maxs[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v[1]);</div>
<div class="line"><span class="lineno"> 8446</span>                    maxs[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(maxs[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>.v[2]);</div>
<div class="line"><span class="lineno"> 8447</span>                }</div>
<div class="line"><span class="lineno"> 8448</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> == 1)</div>
<div class="line"><span class="lineno"> 8449</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vfirst</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>;</div>
<div class="line"><span class="lineno"> 8450</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &gt;= 3)</div>
<div class="line"><span class="lineno"> 8451</span>                {</div>
<div class="line"><span class="lineno"> 8452</span>                    <span class="keywordflow">if</span> (maxtriangles &lt;= numtriangles)</div>
<div class="line"><span class="lineno"> 8453</span>                    {</div>
<div class="line"><span class="lineno"> 8454</span>                        maxtriangles = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(maxtriangles * 2, 32768);</div>
<div class="line"><span class="lineno"> 8455</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a> = (<a class="code hl_struct" href="structobjvertex__t.html">objvertex_t</a>*)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a>, maxtriangles * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structobjvertex__t.html">objvertex_t</a>[3]));</div>
<div class="line"><span class="lineno"> 8456</span>                    }</div>
<div class="line"><span class="lineno"> 8457</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="model__brush_8c.html#afb66a8936f34a990e2385c092115ef3c">mod_obj_orientation</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 8458</span>                    {</div>
<div class="line"><span class="lineno"> 8459</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a>[numtriangles*3+0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vfirst</a>;</div>
<div class="line"><span class="lineno"> 8460</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a>[numtriangles*3+1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vprev</a>;</div>
<div class="line"><span class="lineno"> 8461</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a>[numtriangles*3+2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>;</div>
<div class="line"><span class="lineno"> 8462</span>                    }</div>
<div class="line"><span class="lineno"> 8463</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 8464</span>                    {</div>
<div class="line"><span class="lineno"> 8465</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a>[numtriangles*3+0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vfirst</a>;</div>
<div class="line"><span class="lineno"> 8466</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a>[numtriangles*3+2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vprev</a>;</div>
<div class="line"><span class="lineno"> 8467</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a>[numtriangles*3+1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>;</div>
<div class="line"><span class="lineno"> 8468</span>                    }</div>
<div class="line"><span class="lineno"> 8469</span>                    numtriangles++;</div>
<div class="line"><span class="lineno"> 8470</span>                }</div>
<div class="line"><span class="lineno"> 8471</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vprev</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vcurrent</a>;</div>
<div class="line"><span class="lineno"> 8472</span>            }</div>
<div class="line"><span class="lineno"> 8473</span>        }</div>
<div class="line"><span class="lineno"> 8474</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;o&quot;</span>) || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;g&quot;</span>))</div>
<div class="line"><span class="lineno"> 8475</span>        {</div>
<div class="line"><span class="lineno"> 8476</span>            submodelindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(argv[1]);</div>
<div class="line"><span class="lineno"> 8477</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(submodelindex + 1, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>);</div>
<div class="line"><span class="lineno"> 8478</span>        }</div>
<div class="line"><span class="lineno"> 8479</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(argv[0], <span class="stringliteral">&quot;usemtl&quot;</span>))</div>
<div class="line"><span class="lineno"> 8480</span>        {</div>
<div class="line"><span class="lineno"> 8481</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 8482</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a>+<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>*<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>, argv[1]))</div>
<div class="line"><span class="lineno"> 8483</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8484</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>)</div>
<div class="line"><span class="lineno"> 8485</span>                textureindex = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 8486</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 8487</span>            {</div>
<div class="line"><span class="lineno"> 8488</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>)</div>
<div class="line"><span class="lineno"> 8489</span>                {</div>
<div class="line"><span class="lineno"> 8490</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> * 2, 256);</div>
<div class="line"><span class="lineno"> 8491</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> * <a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>);</div>
<div class="line"><span class="lineno"> 8492</span>                }</div>
<div class="line"><span class="lineno"> 8493</span>                textureindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>++;</div>
<div class="line"><span class="lineno"> 8494</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a> + textureindex*<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>, argv[1], <a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>);</div>
<div class="line"><span class="lineno"> 8495</span>            }</div>
<div class="line"><span class="lineno"> 8496</span>        }</div>
<div class="line"><span class="lineno"> 8497</span>    }</div>
<div class="line"><span class="lineno"> 8498</span> </div>
<div class="line"><span class="lineno"> 8499</span>    <span class="comment">// now that we have the OBJ data loaded as-is, we can convert it</span></div>
<div class="line"><span class="lineno"> 8500</span> </div>
<div class="line"><span class="lineno"> 8501</span>    <span class="comment">// copy the model bounds, then enlarge the yaw and rotated bounds according to radius</span></div>
<div class="line"><span class="lineno"> 8502</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(mins, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>);</div>
<div class="line"><span class="lineno"> 8503</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(maxs, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>);</div>
<div class="line"><span class="lineno"> 8504</span>    dist = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0]));</div>
<div class="line"><span class="lineno"> 8505</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1]));</div>
<div class="line"><span class="lineno"> 8506</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = dist*dist+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 8507</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2]));</div>
<div class="line"><span class="lineno"> 8508</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8509</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>);</div>
<div class="line"><span class="lineno"> 8510</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>);</div>
<div class="line"><span class="lineno"> 8511</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[1] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 8512</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[2] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2];</div>
<div class="line"><span class="lineno"> 8513</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[1] =  <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 8514</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[2] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2];</div>
<div class="line"><span class="lineno"> 8515</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[2] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8516</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[2] =  <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8517</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a4bf40349d814f181d66602ed812c7903">radius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8518</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a0629c0fdc502c92975be054a2b6dd9e6">radius2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8519</span> </div>
<div class="line"><span class="lineno"> 8520</span>    <span class="comment">// allocate storage for triangles</span></div>
<div class="line"><span class="lineno"> 8521</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, numtriangles * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>[3]));</div>
<div class="line"><span class="lineno"> 8522</span>    <span class="comment">// allocate vertex hash structures to build an optimal vertex subset</span></div>
<div class="line"><span class="lineno"> 8523</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashsize</a> = numtriangles*2;</div>
<div class="line"><span class="lineno"> 8524</span>    vertexhashtable = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashsize</a>);</div>
<div class="line"><span class="lineno"> 8525</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(vertexhashtable, 0xFF, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashsize</a>);</div>
<div class="line"><span class="lineno"> 8526</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a> = (<a class="code hl_struct" href="structobjvertex__t.html">objvertex_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a>) * numtriangles*3);</div>
<div class="line"><span class="lineno"> 8527</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashcount</a> = 0;</div>
<div class="line"><span class="lineno"> 8528</span> </div>
<div class="line"><span class="lineno"> 8529</span>    <span class="comment">// gather surface stats for assigning vertex/triangle ranges</span></div>
<div class="line"><span class="lineno"> 8530</span>    firstvertex = 0;</div>
<div class="line"><span class="lineno"> 8531</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firsttriangle</a> = 0;</div>
<div class="line"><span class="lineno"> 8532</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">elementindex</a> = 0;</div>
<div class="line"><span class="lineno"> 8533</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> = 0;</div>
<div class="line"><span class="lineno"> 8534</span>    <span class="comment">// allocate storage for the worst case number of surfaces, later we resize</span></div>
<div class="line"><span class="lineno"> 8535</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurfaces</a> = (<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a>));</div>
<div class="line"><span class="lineno"> 8536</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">submodelfirstsurface</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>+1) * <span class="keyword">sizeof</span>(<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>));</div>
<div class="line"><span class="lineno"> 8537</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurfaces</a>;</div>
<div class="line"><span class="lineno"> 8538</span>    <span class="keywordflow">for</span> (submodelindex = 0;submodelindex &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>;submodelindex++)</div>
<div class="line"><span class="lineno"> 8539</span>    {</div>
<div class="line"><span class="lineno"> 8540</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">submodelfirstsurface</a>[submodelindex] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>;</div>
<div class="line"><span class="lineno"> 8541</span>        <span class="keywordflow">for</span> (textureindex = 0;textureindex &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>;textureindex++)</div>
<div class="line"><span class="lineno"> 8542</span>        {</div>
<div class="line"><span class="lineno"> 8543</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a> &lt; numtriangles*3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a>++)</div>
<div class="line"><span class="lineno"> 8544</span>            {</div>
<div class="line"><span class="lineno"> 8545</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a>;</div>
<div class="line"><span class="lineno"> 8546</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;submodelindex == submodelindex &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;textureindex == textureindex)</div>
<div class="line"><span class="lineno"> 8547</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8548</span>            }</div>
<div class="line"><span class="lineno"> 8549</span>            <span class="comment">// skip the surface creation if there are no triangles for it</span></div>
<div class="line"><span class="lineno"> 8550</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a> == numtriangles*3)</div>
<div class="line"><span class="lineno"> 8551</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8552</span>            <span class="comment">// create a surface for these vertices</span></div>
<div class="line"><span class="lineno"> 8553</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacevertices</a> = 0;</div>
<div class="line"><span class="lineno"> 8554</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaceelements</a> = 0;</div>
<div class="line"><span class="lineno"> 8555</span>            <span class="comment">// we hack in a texture index in the surface to be fixed up later...</span></div>
<div class="line"><span class="lineno"> 8556</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;texture = (<a class="code hl_struct" href="structtexture__t.html">texture_t</a> *)((<span class="keywordtype">size_t</span>)textureindex);</div>
<div class="line"><span class="lineno"> 8557</span>            <span class="comment">// calculate bounds as we go</span></div>
<div class="line"><span class="lineno"> 8558</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;mins);</div>
<div class="line"><span class="lineno"> 8559</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;maxs);</div>
<div class="line"><span class="lineno"> 8560</span>            <span class="keywordflow">for</span> (;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a> &lt; numtriangles*3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a>++)</div>
<div class="line"><span class="lineno"> 8561</span>            {</div>
<div class="line"><span class="lineno"> 8562</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexindex</a>;</div>
<div class="line"><span class="lineno"> 8563</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;submodelindex != submodelindex)</div>
<div class="line"><span class="lineno"> 8564</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8565</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;textureindex != textureindex)</div>
<div class="line"><span class="lineno"> 8566</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8567</span>                <span class="comment">// add vertex to surface bounds</span></div>
<div class="line"><span class="lineno"> 8568</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;mins[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;mins[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[0]);</div>
<div class="line"><span class="lineno"> 8569</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;mins[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;mins[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[1]);</div>
<div class="line"><span class="lineno"> 8570</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;mins[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;mins[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[2]);</div>
<div class="line"><span class="lineno"> 8571</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;maxs[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;maxs[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[0]);</div>
<div class="line"><span class="lineno"> 8572</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;maxs[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;maxs[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[1]);</div>
<div class="line"><span class="lineno"> 8573</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;maxs[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;maxs[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[2]);</div>
<div class="line"><span class="lineno"> 8574</span>                <span class="comment">// add the vertex if it is not found in the merged set, and</span></div>
<div class="line"><span class="lineno"> 8575</span>                <span class="comment">// get its index (triangle element) for the surface</span></div>
<div class="line"><span class="lineno"> 8576</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashindex</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[0] * 3571 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[0] * 1777 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v[0] * 457) % (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashsize</a>;</div>
<div class="line"><span class="lineno"> 8577</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = vertexhashtable[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashindex</a>];<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].nextindex)</div>
<div class="line"><span class="lineno"> 8578</span>                {</div>
<div class="line"><span class="lineno"> 8579</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 8580</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a>-&gt;submodelindex == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;submodelindex &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a>-&gt;textureindex == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;textureindex &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;v, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a>-&gt;v) &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;vn, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a>-&gt;vn) &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#ab7f3880908cb38634b94c84df8ecdb88">Vector2Compare</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>-&gt;vt, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a>-&gt;vt))</div>
<div class="line"><span class="lineno"> 8581</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8582</span>                }</div>
<div class="line"><span class="lineno"> 8583</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 8584</span>                {</div>
<div class="line"><span class="lineno"> 8585</span>                    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashcount</a>++;</div>
<div class="line"><span class="lineno"> 8586</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 8587</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a> = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thisvertex</a>;</div>
<div class="line"><span class="lineno"> 8588</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vdata</a>-&gt;nextindex = vertexhashtable[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashindex</a>];</div>
<div class="line"><span class="lineno"> 8589</span>                    vertexhashtable[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashindex</a>] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 8590</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacevertices</a>++;</div>
<div class="line"><span class="lineno"> 8591</span>                }</div>
<div class="line"><span class="lineno"> 8592</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">elementindex</a>++] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 8593</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaceelements</a>++;</div>
<div class="line"><span class="lineno"> 8594</span>            }</div>
<div class="line"><span class="lineno"> 8595</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacetriangles</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaceelements</a> / 3;</div>
<div class="line"><span class="lineno"> 8596</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;num_vertices = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacevertices</a>;</div>
<div class="line"><span class="lineno"> 8597</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;num_triangles = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacetriangles</a>;</div>
<div class="line"><span class="lineno"> 8598</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;num_firstvertex = firstvertex;</div>
<div class="line"><span class="lineno"> 8599</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;num_firsttriangle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firsttriangle</a>;</div>
<div class="line"><span class="lineno"> 8600</span>            firstvertex += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;num_vertices;</div>
<div class="line"><span class="lineno"> 8601</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firsttriangle</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>-&gt;num_triangles;</div>
<div class="line"><span class="lineno"> 8602</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurface</a>++;</div>
<div class="line"><span class="lineno"> 8603</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>++;</div>
<div class="line"><span class="lineno"> 8604</span>        }</div>
<div class="line"><span class="lineno"> 8605</span>    }</div>
<div class="line"><span class="lineno"> 8606</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">submodelfirstsurface</a>[submodelindex] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>;</div>
<div class="line"><span class="lineno"> 8607</span>    numvertices = firstvertex;</div>
<div class="line"><span class="lineno"> 8608</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> = (<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurfaces</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a>));</div>
<div class="line"><span class="lineno"> 8609</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tempsurfaces</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8610</span> </div>
<div class="line"><span class="lineno"> 8611</span>    <span class="comment">// allocate storage for final mesh data</span></div>
<div class="line"><span class="lineno"> 8612</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a>;</div>
<div class="line"><span class="lineno"> 8613</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>;</div>
<div class="line"><span class="lineno"> 8614</span>    <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtexture__t.html">texture_t</a>) + numtriangles * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>[3]) + (numvertices &lt;= 65536 ? numtriangles * <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[3]) : 0) + numvertices * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>[14]) + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;brush.numsubmodels * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="code hl_struct" href="structmodel__t.html">model_t</a> *));</div>
<div class="line"><span class="lineno"> 8615</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a> = (<a class="code hl_struct" href="structmodel__t.html">model_t</a> **)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__t.html">model_t</a> *);</div>
<div class="line"><span class="lineno"> 8616</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a37ed77c0d67434b15280684a8ba42814">modelsurfaces_sorted</a> = (<span class="keywordtype">int</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> * <span class="keyword">sizeof</span>(<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>);</div>
<div class="line"><span class="lineno"> 8617</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> = (<a class="code hl_struct" href="structtexture__t.html">texture_t</a> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtexture__t.html">texture_t</a>);</div>
<div class="line"><span class="lineno"> 8618</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a> = numvertices;</div>
<div class="line"><span class="lineno"> 8619</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a> = numtriangles;</div>
<div class="line"><span class="lineno"> 8620</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> = (<span class="keywordtype">float</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += numvertices * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]);</div>
<div class="line"><span class="lineno"> 8621</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a5955263e1adbb8dedcfedf7caba77971">data_svector3f</a> = (<span class="keywordtype">float</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += numvertices * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]);</div>
<div class="line"><span class="lineno"> 8622</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a8e5cfd0075e30165db1a60a468201937">data_tvector3f</a> = (<span class="keywordtype">float</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += numvertices * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]);</div>
<div class="line"><span class="lineno"> 8623</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a> = (<span class="keywordtype">float</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += numvertices * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]);</div>
<div class="line"><span class="lineno"> 8624</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> = (<span class="keywordtype">float</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += numvertices * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[2]);</div>
<div class="line"><span class="lineno"> 8625</span> </div>
<div class="line"><span class="lineno"> 8626</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a> &lt;= 65536) {</div>
<div class="line"><span class="lineno"> 8627</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> += <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>[3]);</div>
<div class="line"><span class="lineno"> 8628</span>    }</div>
<div class="line"><span class="lineno"> 8629</span> </div>
<div class="line"><span class="lineno"> 8630</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 8631</span>    {</div>
<div class="line"><span class="lineno"> 8632</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>);</div>
<div class="line"><span class="lineno"> 8633</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].vn, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>);</div>
<div class="line"><span class="lineno"> 8634</span>        <a class="code hl_define" href="mathlib_8h.html#a65dae07ba3561742c7f0eedf6c008731">Vector2Copy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].vt, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> + 2*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>);</div>
<div class="line"><span class="lineno"> 8635</span>    }</div>
<div class="line"><span class="lineno"> 8636</span> </div>
<div class="line"><span class="lineno"> 8637</span>    <span class="comment">// load the textures</span></div>
<div class="line"><span class="lineno"> 8638</span>    <span class="keywordflow">for</span> (textureindex = 0;textureindex &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtextures</a>;textureindex++)</div>
<div class="line"><span class="lineno"> 8639</span>        <a class="code hl_function" href="model__alias_8c.html#a1fa1df9aff197f948bee84ba047845c5">Mod_BuildAliasSkinsFromSkinFiles</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + textureindex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinfiles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a> + textureindex*<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a> + textureindex*<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>);</div>
<div class="line"><span class="lineno"> 8640</span>    <a class="code hl_function" href="model__shared_8c.html#aa8682f0314d166f3d811599c8400e3a2">Mod_FreeSkinFiles</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinfiles</a>);</div>
<div class="line"><span class="lineno"> 8641</span> </div>
<div class="line"><span class="lineno"> 8642</span>    <span class="comment">// set the surface textures to their real values now that we loaded them...</span></div>
<div class="line"><span class="lineno"> 8643</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 8644</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structmsurface__t.html#a7caa0cbcf942fc5d17d16ae8f212b91e">texture</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + (<span class="keywordtype">size_t</span>)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structmsurface__t.html#a7caa0cbcf942fc5d17d16ae8f212b91e">texture</a>;</div>
<div class="line"><span class="lineno"> 8645</span> </div>
<div class="line"><span class="lineno"> 8646</span>    <span class="comment">// free data</span></div>
<div class="line"><span class="lineno"> 8647</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a>);</div>
<div class="line"><span class="lineno"> 8648</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturenames</a>);</div>
<div class="line"><span class="lineno"> 8649</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_v</a>);</div>
<div class="line"><span class="lineno"> 8650</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vt</a>);</div>
<div class="line"><span class="lineno"> 8651</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">obj_vn</a>);</div>
<div class="line"><span class="lineno"> 8652</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(vertexhashtable);</div>
<div class="line"><span class="lineno"> 8653</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertexhashdata</a>);</div>
<div class="line"><span class="lineno"> 8654</span> </div>
<div class="line"><span class="lineno"> 8655</span>    <span class="comment">// compute all the mesh information that was not loaded from the file</span></div>
<div class="line"><span class="lineno"> 8656</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>)</div>
<div class="line"><span class="lineno"> 8657</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>*3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 8658</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 8659</span>    <a class="code hl_function" href="model__shared_8c.html#ac1055bb841510ad036df4adce4146d85">Mod_ValidateElements</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>, 0, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">__FILE__</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">__LINE__</a>);</div>
<div class="line"><span class="lineno"> 8660</span>    <span class="comment">// generate normals if the file did not have them</span></div>
<div class="line"><span class="lineno"> 8661</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a>))</div>
<div class="line"><span class="lineno"> 8662</span>        <a class="code hl_function" href="model__shared_8c.html#a37407d4a42c1e522117279e58e7f25db">Mod_BuildNormals</a>(0, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a>, <a class="code hl_variable" href="gl__rmain_8c.html#a37faadec2e376d05a51a598c303faee8">r_smoothnormals_areaweighting</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != 0);</div>
<div class="line"><span class="lineno"> 8663</span>    <a class="code hl_function" href="model__shared_8c.html#aa4c8e5f23a372b474dbf2344bd1af35d">Mod_BuildTextureVectorsFromNormals</a>(0, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a5955263e1adbb8dedcfedf7caba77971">data_svector3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a8e5cfd0075e30165db1a60a468201937">data_tvector3f</a>, <a class="code hl_variable" href="gl__rmain_8c.html#a37faadec2e376d05a51a598c303faee8">r_smoothnormals_areaweighting</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != 0);</div>
<div class="line"><span class="lineno"> 8664</span> </div>
<div class="line"><span class="lineno"> 8665</span>    <span class="comment">// if this is a worldmodel and has no BSP tree, create a fake one for the purpose</span></div>
<div class="line"><span class="lineno"> 8666</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aaef65bd361749a904e81211a1517ac4e">num_visleafs</a> = 1;</div>
<div class="line"><span class="lineno"> 8667</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a> = 1;</div>
<div class="line"><span class="lineno"> 8668</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a> = 0;</div>
<div class="line"><span class="lineno"> 8669</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>;</div>
<div class="line"><span class="lineno"> 8670</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a> = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a>));</div>
<div class="line"><span class="lineno"> 8671</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;</div>
<div class="line"><span class="lineno"> 8672</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> = 1;</div>
<div class="line"><span class="lineno"> 8673</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> = 1;</div>
<div class="line"><span class="lineno"> 8674</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> = <a class="code hl_variable" href="model__brush_8c.html#abbda5b0afd9f83ba77a16e6536a3b0a9">nobsp_pvs</a>;</div>
<div class="line"><span class="lineno"> 8675</span>    <span class="comment">//if (loadmodel-&gt;num_nodes) loadmodel-&gt;data_nodes = (mnode_t *)Mem_Alloc(loadmodel-&gt;mempool, loadmodel-&gt;num_nodes * sizeof(mnode_t));</span></div>
<div class="line"><span class="lineno"> 8676</span>    <span class="comment">//loadmodel-&gt;data_leafsurfaces = (int *)Mem_Alloc(loadmodel-&gt;mempool, loadmodel-&gt;num_leafsurfaces * sizeof(int));</span></div>
<div class="line"><span class="lineno"> 8677</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a37ed77c0d67434b15280684a8ba42814">modelsurfaces_sorted</a>;</div>
<div class="line"><span class="lineno"> 8678</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#a4298c9537ae9bacfe887ecfa44d2e4d9">mins</a>);</div>
<div class="line"><span class="lineno"> 8679</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#a7fababdc684cbd6edc9a9a0b58d9193a">maxs</a>);</div>
<div class="line"><span class="lineno"> 8680</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#afe99db4582d49f9184f6c5c9b5969197">combinedsupercontents</a> = 0; <span class="comment">// FIXME?</span></div>
<div class="line"><span class="lineno"> 8681</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#a9d1022c1675475848807b5eeabf1ecfa">clusterindex</a> = 0;</div>
<div class="line"><span class="lineno"> 8682</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#a702221883751721b882409c274a84116">areaindex</a> = 0;</div>
<div class="line"><span class="lineno"> 8683</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#aec93328094fae6d284436c497f5c6386">numleafsurfaces</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a>;</div>
<div class="line"><span class="lineno"> 8684</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#a575e49148d970cfb40007a83d2b18ec3">firstleafsurface</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a>;</div>
<div class="line"><span class="lineno"> 8685</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#a0ea61e5941662be50101bffe56c7aea4">numleafbrushes</a> = 0;</div>
<div class="line"><span class="lineno"> 8686</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>-&gt;<a class="code hl_variable" href="structmleaf__t.html#a14419e3c9b2a3713c8d71b6f3b600664">firstleafbrush</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8687</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a345af4033a9c6f8123afaa8b632e1a54">supportwateralpha</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 8688</span> </div>
<div class="line"><span class="lineno"> 8689</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>)</div>
<div class="line"><span class="lineno"> 8690</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a> = (<a class="code hl_struct" href="structmodel__t.html">model_t</a> **)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__t.html">model_t</a> *));</div>
<div class="line"><span class="lineno"> 8691</span> </div>
<div class="line"><span class="lineno"> 8692</span>    mod = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 8693</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 8694</span>    {</div>
<div class="line"><span class="lineno"> 8695</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 8696</span>        {</div>
<div class="line"><span class="lineno"> 8697</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[10];</div>
<div class="line"><span class="lineno"> 8698</span>            <span class="comment">// duplicate the basic information</span></div>
<div class="line"><span class="lineno"> 8699</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="stringliteral">&quot;*%i&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 8700</span>            mod = <a class="code hl_function" href="model__shared_8c.html#a9b0e709a676fe0bd42548fcf0a45042e">Mod_FindName</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 8701</span>            <span class="comment">// copy the base model to this one</span></div>
<div class="line"><span class="lineno"> 8702</span>            *mod = *<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 8703</span>            <span class="comment">// rename the clone back to its proper name</span></div>
<div class="line"><span class="lineno"> 8704</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>));</div>
<div class="line"><span class="lineno"> 8705</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac4d9fbdd0eee8dd6822be206eb245cc3">parentmodel</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 8706</span>            <span class="comment">// textures and memory belong to the main model</span></div>
<div class="line"><span class="lineno"> 8707</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8708</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8709</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8710</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8711</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8712</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8713</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8714</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8715</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8716</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8717</span>        }</div>
<div class="line"><span class="lineno"> 8718</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a1bb35c00721be56c390df0b877791cac">submodel</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 8719</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>)</div>
<div class="line"><span class="lineno"> 8720</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = mod;</div>
<div class="line"><span class="lineno"> 8721</span> </div>
<div class="line"><span class="lineno"> 8722</span>        <span class="comment">// make the model surface list (used by shadowing/lighting)</span></div>
<div class="line"><span class="lineno"> 8723</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">submodelfirstsurface</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 8724</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">submodelfirstsurface</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1];</div>
<div class="line"><span class="lineno"> 8725</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2472c8c7fada35ea614e42dba474ae52">firstmodelbrush</a> = 0;</div>
<div class="line"><span class="lineno"> 8726</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a93410bd37b5bf2b8c370201850806078">nummodelbrushes</a> = 0;</div>
<div class="line"><span class="lineno"> 8727</span> </div>
<div class="line"><span class="lineno"> 8728</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>);</div>
<div class="line"><span class="lineno"> 8729</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>);</div>
<div class="line"><span class="lineno"> 8730</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 8731</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 8732</span>        {</div>
<div class="line"><span class="lineno"> 8733</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 8734</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 8735</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 8736</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices)</div>
<div class="line"><span class="lineno"> 8737</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8738</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>)</div>
<div class="line"><span class="lineno"> 8739</span>            {</div>
<div class="line"><span class="lineno"> 8740</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 8741</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>);</div>
<div class="line"><span class="lineno"> 8742</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>);</div>
<div class="line"><span class="lineno"> 8743</span>            }</div>
<div class="line"><span class="lineno"> 8744</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a> += 3)</div>
<div class="line"><span class="lineno"> 8745</span>            {</div>
<div class="line"><span class="lineno"> 8746</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[0]);</div>
<div class="line"><span class="lineno"> 8747</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[1]);</div>
<div class="line"><span class="lineno"> 8748</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[2]);</div>
<div class="line"><span class="lineno"> 8749</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[0]);</div>
<div class="line"><span class="lineno"> 8750</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[1]);</div>
<div class="line"><span class="lineno"> 8751</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3f</a>[2]);</div>
<div class="line"><span class="lineno"> 8752</span>            }</div>
<div class="line"><span class="lineno"> 8753</span>        }</div>
<div class="line"><span class="lineno"> 8754</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0]));</div>
<div class="line"><span class="lineno"> 8755</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1]));</div>
<div class="line"><span class="lineno"> 8756</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2]));</div>
<div class="line"><span class="lineno"> 8757</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0]+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1]+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[2]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[2]);</div>
<div class="line"><span class="lineno"> 8758</span>        yawradius = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0]+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1]);</div>
<div class="line"><span class="lineno"> 8759</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[1] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[2] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8760</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[1] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8761</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[1] = yawradius;</div>
<div class="line"><span class="lineno"> 8762</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[1] = -yawradius;</div>
<div class="line"><span class="lineno"> 8763</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[2] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2];</div>
<div class="line"><span class="lineno"> 8764</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[2] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2];</div>
<div class="line"><span class="lineno"> 8765</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4bf40349d814f181d66602ed812c7903">radius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8766</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0629c0fdc502c92975be054a2b6dd9e6">radius2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 8767</span> </div>
<div class="line"><span class="lineno"> 8768</span>        <a class="code hl_function" href="model__shared_8c.html#af5bb8e6dccd0096a95cca1db54d8cdc7">Mod_SetDrawSkyAndWater</a>(mod);</div>
<div class="line"><span class="lineno"> 8769</span> </div>
<div class="line"><span class="lineno"> 8770</span>        <a class="code hl_function" href="model__brush_8c.html#ac294c2bc06a02f8114eed73c8f71795f">Mod_MakeCollisionBIH</a>(mod, <span class="keyword">true</span>, &amp;mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">collision_bih</a>);</div>
<div class="line"><span class="lineno"> 8771</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a9682062b0e84b91a8768dde10c4ee688">render_bih</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">collision_bih</a>;</div>
<div class="line"><span class="lineno"> 8772</span> </div>
<div class="line"><span class="lineno"> 8773</span>        <span class="comment">// generate VBOs and other shared data before cloning submodels</span></div>
<div class="line"><span class="lineno"> 8774</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0)</div>
<div class="line"><span class="lineno"> 8775</span>            <a class="code hl_function" href="model__shared_8c.html#a7c7a5f1ce32faf220d25380eb24bd1ad">Mod_BuildVBOs</a>();</div>
<div class="line"><span class="lineno"> 8776</span>    }</div>
<div class="line"><span class="lineno"> 8777</span>    mod = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 8778</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">submodelfirstsurface</a>);</div>
<div class="line"><span class="lineno"> 8779</span> </div>
<div class="line"><span class="lineno"> 8780</span>    <span class="comment">// make the model surface list (used by shadowing/lighting)</span></div>
<div class="line"><span class="lineno"> 8781</span>    <a class="code hl_function" href="model__shared_8c.html#aa8c710db4d67bb0e0759c01235c827e7">Mod_MakeSortedSurfaces</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>);</div>
<div class="line"><span class="lineno"> 8782</span> </div>
<div class="line"><span class="lineno"> 8783</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Stats for obj model \&quot;%s\&quot;: %i faces, %i nodes, %i leafs, %i clusters, %i clusterportals, mesh: %i vertices, %i triangles, %i surfaces\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a80d9915c394c4ff052e777804cc6da63">num_portals</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>);</div>
<div class="line"><span class="lineno"> 8784</span>}</div>
<div class="ttc" id="acommon_8c_html_ae36050083f45e395189fee6aa45fbb0c"><div class="ttname"><a href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a></div><div class="ttdeci">int dpsnprintf(char *buffer, size_t buffersize, const char *format,...)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00997">common.c:997</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a37faadec2e376d05a51a598c303faee8"><div class="ttname"><a href="gl__rmain_8c.html#a37faadec2e376d05a51a598c303faee8">r_smoothnormals_areaweighting</a></div><div class="ttdeci">cvar_t r_smoothnormals_areaweighting</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00229">gl_rmain.c:229</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_a2c9f5aad0d1f1cbd7abefaf946c38fc7"><div class="ttname"><a href="gl__rsurf_8c.html#a2c9f5aad0d1f1cbd7abefaf946c38fc7">R_Mod_CompileShadowMap</a></div><div class="ttdeci">void R_Mod_CompileShadowMap(entity_render_t *ent, vec3_t relativelightorigin, vec3_t relativelightdirection, float lightradius, int numsurfaces, const int *surfacelist)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l01286">gl_rsurf.c:1286</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_a60a24c695566f11f38f592dc83d76869"><div class="ttname"><a href="gl__rsurf_8c.html#a60a24c695566f11f38f592dc83d76869">R_Mod_GetLightInfo</a></div><div class="ttdeci">void R_Mod_GetLightInfo(entity_render_t *ent, vec3_t relativelightorigin, float lightradius, vec3_t outmins, vec3_t outmaxs, int *outleaflist, unsigned char *outleafpvs, int *outnumleafspointer, int *outsurfacelist, unsigned char *outsurfacepvs, int *outnumsurfacespointer, unsigned char *outshadowtrispvs, unsigned char *outlighttrispvs, unsigned char *visitingleafpvs, int numfrustumplanes, const mplane_t *frustumplanes, qbool noocclusion)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l01202">gl_rsurf.c:1202</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_a6e528b203b784986a5b5bbf82ac387ff"><div class="ttname"><a href="gl__rsurf_8c.html#a6e528b203b784986a5b5bbf82ac387ff">R_Mod_DrawDebug</a></div><div class="ttdeci">void R_Mod_DrawDebug(entity_render_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l00660">gl_rsurf.c:660</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_a89a46aef51c1b493184fcc71ee028236"><div class="ttname"><a href="gl__rsurf_8c.html#a89a46aef51c1b493184fcc71ee028236">R_Mod_DrawLight</a></div><div class="ttdeci">void R_Mod_DrawLight(entity_render_t *ent, int numsurfaces, const int *surfacelist, const unsigned char *lighttrispvs)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l01399">gl_rsurf.c:1399</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_a904d7d0ff6adf58e411c3ffb80ca27c4"><div class="ttname"><a href="gl__rsurf_8c.html#a904d7d0ff6adf58e411c3ffb80ca27c4">R_Mod_Draw</a></div><div class="ttdeci">void R_Mod_Draw(entity_render_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l00637">gl_rsurf.c:637</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_aa4222887ff91555860ca9ab52531861c"><div class="ttname"><a href="gl__rsurf_8c.html#aa4222887ff91555860ca9ab52531861c">R_Mod_DrawShadowMap</a></div><div class="ttdeci">void R_Mod_DrawShadowMap(int side, entity_render_t *ent, const vec3_t relativelightorigin, const vec3_t relativelightdirection, float lightradius, int modelnumsurfaces, const int *modelsurfacelist, const unsigned char *surfacesides, const vec3_t lightmins, const vec3_t lightmaxs)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l01320">gl_rsurf.c:1320</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_aae83c1e7beee72d6cbfc03a0f0bd11bf"><div class="ttname"><a href="gl__rsurf_8c.html#aae83c1e7beee72d6cbfc03a0f0bd11bf">R_Mod_DrawDepth</a></div><div class="ttdeci">void R_Mod_DrawDepth(entity_render_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l00645">gl_rsurf.c:645</a></div></div>
<div class="ttc" id="agl__rsurf_8c_html_ad8145eb3a0203496ea94da9834e098f0"><div class="ttname"><a href="gl__rsurf_8c.html#ad8145eb3a0203496ea94da9834e098f0">R_Mod_DrawPrepass</a></div><div class="ttdeci">void R_Mod_DrawPrepass(entity_render_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="gl__rsurf_8c_source.html#l00667">gl_rsurf.c:667</a></div></div>
<div class="ttc" id="aglquake_8h_html_a4d1613b1e415f5e41c4651a1793b277a"><div class="ttname"><a href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a></div><div class="ttdeci">const GLdouble * v</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00761">glquake.h:761</a></div></div>
<div class="ttc" id="aglquake_8h_html_a820662f5b80a48256e2503352e9f51b9"><div class="ttname"><a href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a></div><div class="ttdeci">GLsizeiptr const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00638">glquake.h:638</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac615821e7cf9469189648617cb1275be"><div class="ttname"><a href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00600">glquake.h:600</a></div></div>
<div class="ttc" id="amathlib_8h_html_a65dae07ba3561742c7f0eedf6c008731"><div class="ttname"><a href="mathlib_8h.html#a65dae07ba3561742c7f0eedf6c008731">Vector2Copy</a></div><div class="ttdeci">#define Vector2Copy(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00074">mathlib.h:74</a></div></div>
<div class="ttc" id="amathlib_8h_html_a87789aa9d422deb982e0e65c6104a032"><div class="ttname"><a href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a></div><div class="ttdeci">#define VectorLength2(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00109">mathlib.h:109</a></div></div>
<div class="ttc" id="amathlib_8h_html_ab7f3880908cb38634b94c84df8ecdb88"><div class="ttname"><a href="mathlib_8h.html#ab7f3880908cb38634b94c84df8ecdb88">Vector2Compare</a></div><div class="ttdeci">#define Vector2Compare(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00073">mathlib.h:73</a></div></div>
<div class="ttc" id="amodel__alias_8c_html_a1fa1df9aff197f948bee84ba047845c5"><div class="ttname"><a href="model__alias_8c.html#a1fa1df9aff197f948bee84ba047845c5">Mod_BuildAliasSkinsFromSkinFiles</a></div><div class="ttdeci">void Mod_BuildAliasSkinsFromSkinFiles(texture_t *skin, skinfile_t *skinfile, const char *meshname, const char *shadername)</div><div class="ttdef"><b>Definition</b> <a href="model__alias_8c_source.html#l00925">model_alias.c:925</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a2726571fd5f00e6268319b38a4accb14"><div class="ttname"><a href="model__brush_8c.html#a2726571fd5f00e6268319b38a4accb14">Mod_CollisionBIH_PointSuperContents_Mesh</a></div><div class="ttdeci">int Mod_CollisionBIH_PointSuperContents_Mesh(struct model_s *model, int frame, const vec3_t start)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07171">model_brush.c:7171</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a28e3ed76293f66de91425261e2f10b4b"><div class="ttname"><a href="model__brush_8c.html#a28e3ed76293f66de91425261e2f10b4b">Mod_CollisionBIH_TracePoint_Mesh</a></div><div class="ttdeci">void Mod_CollisionBIH_TracePoint_Mesh(model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07146">model_brush.c:7146</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a29fecb522c6d449fb01d01f2b070e4d1"><div class="ttname"><a href="model__brush_8c.html#a29fecb522c6d449fb01d01f2b070e4d1">Mod_CollisionBIH_TraceBox</a></div><div class="ttdeci">void Mod_CollisionBIH_TraceBox(model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, const vec3_t boxmins, const vec3_t boxmaxs, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07116">model_brush.c:7116</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_abbda5b0afd9f83ba77a16e6536a3b0a9"><div class="ttname"><a href="model__brush_8c.html#abbda5b0afd9f83ba77a16e6536a3b0a9">nobsp_pvs</a></div><div class="ttdeci">static unsigned char nobsp_pvs[1]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l08199">model_brush.c:8199</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ac294c2bc06a02f8114eed73c8f71795f"><div class="ttname"><a href="model__brush_8c.html#ac294c2bc06a02f8114eed73c8f71795f">Mod_MakeCollisionBIH</a></div><div class="ttdeci">bih_t * Mod_MakeCollisionBIH(model_t *model, qbool userendersurfaces, bih_t *out)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07196">model_brush.c:7196</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a32f3c43770d65673771406dcb9b61a66"><div class="ttname"><a href="model__shared_8c.html#a32f3c43770d65673771406dcb9b61a66">Mod_LoadSkinFiles</a></div><div class="ttdeci">skinfile_t * Mod_LoadSkinFiles(void)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02705">model_shared.c:2705</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a37407d4a42c1e522117279e58e7f25db"><div class="ttname"><a href="model__shared_8c.html#a37407d4a42c1e522117279e58e7f25db">Mod_BuildNormals</a></div><div class="ttdeci">void Mod_BuildNormals(int firstvertex, int numvertices, int numtriangles, const float *vertex3f, const int *elements, float *normal3f, qbool areaweighting)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l00806">model_shared.c:806</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a7c7a5f1ce32faf220d25380eb24bd1ad"><div class="ttname"><a href="model__shared_8c.html#a7c7a5f1ce32faf220d25380eb24bd1ad">Mod_BuildVBOs</a></div><div class="ttdeci">void Mod_BuildVBOs(void)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02964">model_shared.c:2964</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a9b0e709a676fe0bd42548fcf0a45042e"><div class="ttname"><a href="model__shared_8c.html#a9b0e709a676fe0bd42548fcf0a45042e">Mod_FindName</a></div><div class="ttdeci">model_t * Mod_FindName(const char *name, const char *parentname)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l00595">model_shared.c:595</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_aa4c8e5f23a372b474dbf2344bd1af35d"><div class="ttname"><a href="model__shared_8c.html#aa4c8e5f23a372b474dbf2344bd1af35d">Mod_BuildTextureVectorsFromNormals</a></div><div class="ttdeci">void Mod_BuildTextureVectorsFromNormals(int firstvertex, int numvertices, int numtriangles, const float *vertex3f, const float *texcoord2f, const float *normal3f, const int *elements, float *svector3f, float *tvector3f, qbool areaweighting)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l00893">model_shared.c:893</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_aa8682f0314d166f3d811599c8400e3a2"><div class="ttname"><a href="model__shared_8c.html#aa8682f0314d166f3d811599c8400e3a2">Mod_FreeSkinFiles</a></div><div class="ttdeci">void Mod_FreeSkinFiles(skinfile_t *skinfile)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02810">model_shared.c:2810</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_aa8c710db4d67bb0e0759c01235c827e7"><div class="ttname"><a href="model__shared_8c.html#aa8c710db4d67bb0e0759c01235c827e7">Mod_MakeSortedSurfaces</a></div><div class="ttdeci">void Mod_MakeSortedSurfaces(model_t *mod)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02936">model_shared.c:2936</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_ac1055bb841510ad036df4adce4146d85"><div class="ttname"><a href="model__shared_8c.html#ac1055bb841510ad036df4adce4146d85">Mod_ValidateElements</a></div><div class="ttdeci">qbool Mod_ValidateElements(int *element3i, unsigned short *element3s, int numtriangles, int firstvertex, int numvertices, const char *filename, int fileline)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l00738">model_shared.c:738</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_af5bb8e6dccd0096a95cca1db54d8cdc7"><div class="ttname"><a href="model__shared_8c.html#af5bb8e6dccd0096a95cca1db54d8cdc7">Mod_SetDrawSkyAndWater</a></div><div class="ttdeci">void Mod_SetDrawSkyAndWater(model_t *mod)</div><div class="ttdoc">Sets the mod-&gt;DrawSky and mod-&gt;DrawAddWaterPlanes pointers conditionally based on whether surfaces in...</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02887">model_shared.c:2887</a></div></div>
<div class="ttc" id="amodel__shared_8h_html_ae8881adaf7dff7ff012ef751075434f4a321cbbbfbe93df569882b2ee66231f4c"><div class="ttname"><a href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4a321cbbbfbe93df569882b2ee66231f4c">mod_obj</a></div><div class="ttdeci">@ mod_obj</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00043">model_shared.h:43</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abd4ae30fcfdcbbff51bbf3f4e6daeee7"><div class="ttname"><a href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a></div><div class="ttdeci">#define MAX_QPATH</div><div class="ttdoc">max length of a quake game pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00169">qdefs.h:169</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a2ab77c89eb79b49ccd22bb1b2ad48bf1"><div class="ttname"><a href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a></div><div class="ttdeci">precision highp float</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00045">shader_glsl.h:45</a></div></div>
<div class="ttc" id="astructanimscene__t_html"><div class="ttname"><a href="structanimscene__t.html">animscene_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00045">model_shared.h:46</a></div></div>
<div class="ttc" id="astructanimscene__t_html_a2717e3be79ce23fe8e47c87a5c934b12"><div class="ttname"><a href="structanimscene__t.html#a2717e3be79ce23fe8e47c87a5c934b12">animscene_t::loop</a></div><div class="ttdeci">int loop</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00050">model_shared.h:50</a></div></div>
<div class="ttc" id="astructanimscene__t_html_a5b15507359a161969d769cd85193561e"><div class="ttname"><a href="structanimscene__t.html#a5b15507359a161969d769cd85193561e">animscene_t::framecount</a></div><div class="ttdeci">int framecount</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00049">model_shared.h:49</a></div></div>
<div class="ttc" id="astructanimscene__t_html_aab78607e4169ebda0f6abac8cc328fee"><div class="ttname"><a href="structanimscene__t.html#aab78607e4169ebda0f6abac8cc328fee">animscene_t::firstframe</a></div><div class="ttdeci">int firstframe</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00048">model_shared.h:48</a></div></div>
<div class="ttc" id="astructanimscene__t_html_ac67d73868af90a4796ff3d37519a80cf"><div class="ttname"><a href="structanimscene__t.html#ac67d73868af90a4796ff3d37519a80cf">animscene_t::framerate</a></div><div class="ttdeci">float framerate</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00051">model_shared.h:51</a></div></div>
<div class="ttc" id="astructmleaf__t_html_a0ea61e5941662be50101bffe56c7aea4"><div class="ttname"><a href="structmleaf__t.html#a0ea61e5941662be50101bffe56c7aea4">mleaf_t::numleafbrushes</a></div><div class="ttdeci">int numleafbrushes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00193">model_brush.h:193</a></div></div>
<div class="ttc" id="astructmleaf__t_html_a14419e3c9b2a3713c8d71b6f3b600664"><div class="ttname"><a href="structmleaf__t.html#a14419e3c9b2a3713c8d71b6f3b600664">mleaf_t::firstleafbrush</a></div><div class="ttdeci">int * firstleafbrush</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00194">model_brush.h:194</a></div></div>
<div class="ttc" id="astructmleaf__t_html_a4298c9537ae9bacfe887ecfa44d2e4d9"><div class="ttname"><a href="structmleaf__t.html#a4298c9537ae9bacfe887ecfa44d2e4d9">mleaf_t::mins</a></div><div class="ttdeci">vec3_t mins</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00181">model_brush.h:181</a></div></div>
<div class="ttc" id="astructmleaf__t_html_a575e49148d970cfb40007a83d2b18ec3"><div class="ttname"><a href="structmleaf__t.html#a575e49148d970cfb40007a83d2b18ec3">mleaf_t::firstleafsurface</a></div><div class="ttdeci">int * firstleafsurface</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00192">model_brush.h:192</a></div></div>
<div class="ttc" id="astructmleaf__t_html_a702221883751721b882409c274a84116"><div class="ttname"><a href="structmleaf__t.html#a702221883751721b882409c274a84116">mleaf_t::areaindex</a></div><div class="ttdeci">int areaindex</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00189">model_brush.h:189</a></div></div>
<div class="ttc" id="astructmleaf__t_html_a7fababdc684cbd6edc9a9a0b58d9193a"><div class="ttname"><a href="structmleaf__t.html#a7fababdc684cbd6edc9a9a0b58d9193a">mleaf_t::maxs</a></div><div class="ttdeci">vec3_t maxs</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00182">model_brush.h:182</a></div></div>
<div class="ttc" id="astructmleaf__t_html_a9d1022c1675475848807b5eeabf1ecfa"><div class="ttname"><a href="structmleaf__t.html#a9d1022c1675475848807b5eeabf1ecfa">mleaf_t::clusterindex</a></div><div class="ttdeci">int clusterindex</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00188">model_brush.h:188</a></div></div>
<div class="ttc" id="astructmleaf__t_html_aec93328094fae6d284436c497f5c6386"><div class="ttname"><a href="structmleaf__t.html#aec93328094fae6d284436c497f5c6386">mleaf_t::numleafsurfaces</a></div><div class="ttdeci">int numleafsurfaces</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00191">model_brush.h:191</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a03c8c1a0218fe2b32ea5d039ad0e1932"><div class="ttname"><a href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">model_brush_t::BoxTouchingVisibleLeafs</a></div><div class="ttdeci">int(* BoxTouchingVisibleLeafs)(struct model_s *model, const unsigned char *visibleleafs, const vec3_t mins, const vec3_t maxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00336">model_brush.h:336</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a12902c97697b0ccf6f66b5cc1a6e6cbf"><div class="ttname"><a href="structmodel__brush__t.html#a12902c97697b0ccf6f66b5cc1a6e6cbf">model_brush_t::NativeContentsFromSuperContents</a></div><div class="ttdeci">int(* NativeContentsFromSuperContents)(int supercontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00331">model_brush.h:331</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a1bb35c00721be56c390df0b877791cac"><div class="ttname"><a href="structmodel__brush__t.html#a1bb35c00721be56c390df0b877791cac">model_brush_t::submodel</a></div><div class="ttdeci">int submodel</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00271">model_brush.h:271</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a32ee664ad4c03f4ea8c698b48bb443fe"><div class="ttname"><a href="structmodel__brush__t.html#a32ee664ad4c03f4ea8c698b48bb443fe">model_brush_t::TraceLineOfSight</a></div><div class="ttdeci">qbool(* TraceLineOfSight)(struct model_s *model, const vec3_t start, const vec3_t end, const vec3_t acceptmins, const vec3_t acceptmaxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00345">model_brush.h:345</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a345af4033a9c6f8123afaa8b632e1a54"><div class="ttname"><a href="structmodel__brush__t.html#a345af4033a9c6f8123afaa8b632e1a54">model_brush_t::supportwateralpha</a></div><div class="ttdeci">qbool supportwateralpha</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00352">model_brush.h:352</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a3468fe43e799903ed940e7046fa02638"><div class="ttname"><a href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">model_brush_t::num_leafsurfaces</a></div><div class="ttdeci">int num_leafsurfaces</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00294">model_brush.h:294</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a35481106e3500413e8a0304780449719"><div class="ttname"><a href="structmodel__brush__t.html#a35481106e3500413e8a0304780449719">model_brush_t::RoundUpToHullSize</a></div><div class="ttdeci">void(* RoundUpToHullSize)(struct model_s *cmodel, const vec3_t inmins, const vec3_t inmaxs, vec3_t outmins, vec3_t outmaxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00343">model_brush.h:343</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a42a513aa3f096a77e3f52db25aff4a12"><div class="ttname"><a href="structmodel__brush__t.html#a42a513aa3f096a77e3f52db25aff4a12">model_brush_t::SuperContentsFromNativeContents</a></div><div class="ttdeci">int(* SuperContentsFromNativeContents)(int nativecontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00330">model_brush.h:330</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a462aadc65aeffe8d8e64208e0d841f39"><div class="ttname"><a href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">model_brush_t::submodels</a></div><div class="ttdeci">struct model_s ** submodels</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00277">model_brush.h:277</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a465f9f70ab597ec72c701c20e28bf8d1"><div class="ttname"><a href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">model_brush_t::GetPVS</a></div><div class="ttdeci">unsigned char *(* GetPVS)(struct model_s *model, const vec3_t p)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00332">model_brush.h:332</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a477929f3e6f9e3b51141ff41bdd4d514"><div class="ttname"><a href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">model_brush_t::FatPVS</a></div><div class="ttdeci">int(* FatPVS)(struct model_s *model, const vec3_t org, vec_t radius, unsigned char *pvsbuffer, int pvsbufferlength, qbool merge)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00333">model_brush.h:333</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a4a227cb1af9a836027557b80a777887a"><div class="ttname"><a href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">model_brush_t::num_nodes</a></div><div class="ttdeci">int num_nodes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00282">model_brush.h:282</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a5050ba4f944c09d84c3ab53ccd7d6cf8"><div class="ttname"><a href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">model_brush_t::FindBoxClusters</a></div><div class="ttdeci">int(* FindBoxClusters)(struct model_s *model, const vec3_t mins, const vec3_t maxs, int maxclusters, int *clusterlist)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00337">model_brush.h:337</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a653826cb8e0d7f13d61e3ee419c10616"><div class="ttname"><a href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">model_brush_t::PointInLeaf</a></div><div class="ttdeci">mleaf_t *(* PointInLeaf)(struct model_s *model, const vec3_t p)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00340">model_brush.h:340</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a7dcb6ad152fbb5148b1830e79839b197"><div class="ttname"><a href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">model_brush_t::LightPoint</a></div><div class="ttdeci">void(* LightPoint)(struct model_s *model, const vec3_t p, vec3_t ambientcolor, vec3_t diffusecolor, vec3_t diffusenormal)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00338">model_brush.h:338</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a8d0042214ff0c446bc69f675e65aadb2"><div class="ttname"><a href="structmodel__brush__t.html#a8d0042214ff0c446bc69f675e65aadb2">model_brush_t::FindNonSolidLocation</a></div><div class="ttdeci">void(* FindNonSolidLocation)(struct model_s *model, const vec3_t in, vec3_t out, vec_t radius)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00339">model_brush.h:339</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_aa96eeca1206185432e14e9d770d2d505"><div class="ttname"><a href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">model_brush_t::AmbientSoundLevelsForPoint</a></div><div class="ttdeci">void(* AmbientSoundLevelsForPoint)(struct model_s *model, const vec3_t p, unsigned char *out, int outsize)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00342">model_brush.h:342</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_aaef65bd361749a904e81211a1517ac4e"><div class="ttname"><a href="structmodel__brush__t.html#aaef65bd361749a904e81211a1517ac4e">model_brush_t::num_visleafs</a></div><div class="ttdeci">int num_visleafs</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00286">model_brush.h:286</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_abeb097eebe8c0153e0aef2e8018418d2"><div class="ttname"><a href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">model_brush_t::data_leafsurfaces</a></div><div class="ttdeci">int * data_leafsurfaces</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00295">model_brush.h:295</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_ac03016a9bf9a1de98f1a0a08f8f6f4db"><div class="ttname"><a href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">model_brush_t::BoxTouchingPVS</a></div><div class="ttdeci">int(* BoxTouchingPVS)(struct model_s *model, const unsigned char *pvs, const vec3_t mins, const vec3_t maxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00334">model_brush.h:334</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_ac4d9fbdd0eee8dd6822be206eb245cc3"><div class="ttname"><a href="structmodel__brush__t.html#ac4d9fbdd0eee8dd6822be206eb245cc3">model_brush_t::parentmodel</a></div><div class="ttdeci">struct model_s * parentmodel</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00269">model_brush.h:269</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_ad61f56d9901c3877d3cc297d41f6118b"><div class="ttname"><a href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">model_brush_t::BoxTouchingLeafPVS</a></div><div class="ttdeci">int(* BoxTouchingLeafPVS)(struct model_s *model, const unsigned char *pvs, const vec3_t mins, const vec3_t maxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00335">model_brush.h:335</a></div></div>
<div class="ttc" id="astructmodel__t_html"><div class="ttname"><a href="structmodel__t.html">model_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00428">model_shared.h:429</a></div></div>
<div class="ttc" id="astructmodel__t_html_a0629c0fdc502c92975be054a2b6dd9e6"><div class="ttname"><a href="structmodel__t.html#a0629c0fdc502c92975be054a2b6dd9e6">model_t::radius2</a></div><div class="ttdeci">float radius2</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00461">model_shared.h:461</a></div></div>
<div class="ttc" id="astructmodel__t_html_a092a26ea0346fc90b6bc82a33289ed82"><div class="ttname"><a href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">model_t::numskins</a></div><div class="ttdeci">int numskins</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00449">model_shared.h:449</a></div></div>
<div class="ttc" id="astructmodel__t_html_a0c0d94b3f0503536ab0e6c0056d97df2"><div class="ttname"><a href="structmodel__t.html#a0c0d94b3f0503536ab0e6c0056d97df2">model_t::DrawDepth</a></div><div class="ttdeci">void(* DrawDepth)(struct entity_render_s *ent)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00515">model_shared.h:515</a></div></div>
<div class="ttc" id="astructmodel__t_html_a0fb268c443d4c9dd629e3af746878fec"><div class="ttname"><a href="structmodel__t.html#a0fb268c443d4c9dd629e3af746878fec">model_t::type</a></div><div class="ttdeci">modtype_t type</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00439">model_shared.h:439</a></div></div>
<div class="ttc" id="astructmodel__t_html_a2c151191aa1bc015faab973ccc453ca9"><div class="ttname"><a href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">model_t::PointSuperContents</a></div><div class="ttdeci">int(* PointSuperContents)(struct model_s *model, int frame, const vec3_t point)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00536">model_shared.h:536</a></div></div>
<div class="ttc" id="astructmodel__t_html_a2c2034d2a113cadab48c388065c65335"><div class="ttname"><a href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">model_t::rotatedmins</a></div><div class="ttdeci">vec3_t rotatedmins</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00457">model_shared.h:457</a></div></div>
<div class="ttc" id="astructmodel__t_html_a3324a3bec6a016ede4ee308695500bf9"><div class="ttname"><a href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">model_t::yawmaxs</a></div><div class="ttdeci">vec3_t yawmaxs</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00455">model_shared.h:455</a></div></div>
<div class="ttc" id="astructmodel__t_html_a37ed77c0d67434b15280684a8ba42814"><div class="ttname"><a href="structmodel__t.html#a37ed77c0d67434b15280684a8ba42814">model_t::modelsurfaces_sorted</a></div><div class="ttdeci">int * modelsurfaces_sorted</div><div class="ttdoc">surface indices of model in an optimal draw order (submodelindex -&gt; texture -&gt; lightmap -&gt; index)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00470">model_shared.h:470</a></div></div>
<div class="ttc" id="astructmodel__t_html_a42b76bd94570c0130a33e4dae79f03e5"><div class="ttname"><a href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">model_t::rotatedmaxs</a></div><div class="ttdeci">vec3_t rotatedmaxs</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00457">model_shared.h:457</a></div></div>
<div class="ttc" id="astructmodel__t_html_a4ad54aab83aca1c9ec564054f4019609"><div class="ttname"><a href="structmodel__t.html#a4ad54aab83aca1c9ec564054f4019609">model_t::Draw</a></div><div class="ttdeci">void(* Draw)(struct entity_render_s *ent)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00513">model_shared.h:513</a></div></div>
<div class="ttc" id="astructmodel__t_html_a4bf40349d814f181d66602ed812c7903"><div class="ttname"><a href="structmodel__t.html#a4bf40349d814f181d66602ed812c7903">model_t::radius</a></div><div class="ttdeci">float radius</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00459">model_shared.h:459</a></div></div>
<div class="ttc" id="astructmodel__t_html_a5a5b038598ccef5f670521d169edb025"><div class="ttname"><a href="structmodel__t.html#a5a5b038598ccef5f670521d169edb025">model_t::DrawPrepass</a></div><div class="ttdeci">void(* DrawPrepass)(struct entity_render_s *ent)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00519">model_shared.h:519</a></div></div>
<div class="ttc" id="astructmodel__t_html_a643e9c5c0df5ca6694a0c1223547681a"><div class="ttname"><a href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">model_t::TraceBox</a></div><div class="ttdeci">void(* TraceBox)(struct model_s *model, const struct frameblend_s *frameblend, const struct skeleton_s *skeleton, struct trace_s *trace, const vec3_t start, const vec3_t boxmins, const vec3_t boxmaxs, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00529">model_shared.h:529</a></div></div>
<div class="ttc" id="astructmodel__t_html_a64d99f5cddde13a76e3cf4629b818d8e"><div class="ttname"><a href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">model_t::normalmaxs</a></div><div class="ttdeci">vec3_t normalmaxs</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00453">model_shared.h:453</a></div></div>
<div class="ttc" id="astructmodel__t_html_a6d207a080d8ca69eecb6ca4ceb4cd98b"><div class="ttname"><a href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">model_t::texturepool</a></div><div class="ttdeci">rtexturepool_t * texturepool</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00443">model_shared.h:443</a></div></div>
<div class="ttc" id="astructmodel__t_html_a71121e7ef28a949af258f4611ce21e9c"><div class="ttname"><a href="structmodel__t.html#a71121e7ef28a949af258f4611ce21e9c">model_t::DrawShadowMap</a></div><div class="ttdeci">void(* DrawShadowMap)(int side, struct entity_render_s *ent, const vec3_t relativelightorigin, const vec3_t relativelightdirection, float lightradius, int numsurfaces, const int *surfacelist, const unsigned char *surfacesides, const vec3_t lightmins, const vec3_t lightmaxs)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00523">model_shared.h:523</a></div></div>
<div class="ttc" id="astructmodel__t_html_a72c9953cbe38085b8545258bfd28792c"><div class="ttname"><a href="structmodel__t.html#a72c9953cbe38085b8545258bfd28792c">model_t::TracePoint</a></div><div class="ttdeci">void(* TracePoint)(struct model_s *model, const struct frameblend_s *frameblend, const struct skeleton_s *skeleton, struct trace_s *trace, const vec3_t start, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00534">model_shared.h:534</a></div></div>
<div class="ttc" id="astructmodel__t_html_a7a0081b6e77854bd75ae206afba89148"><div class="ttname"><a href="structmodel__t.html#a7a0081b6e77854bd75ae206afba89148">model_t::GetLightInfo</a></div><div class="ttdeci">void(* GetLightInfo)(struct entity_render_s *ent, vec3_t relativelightorigin, float lightradius, vec3_t outmins, vec3_t outmaxs, int *outleaflist, unsigned char *outleafpvs, int *outnumleafspointer, int *outsurfacelist, unsigned char *outsurfacepvs, int *outnumsurfacespointer, unsigned char *outshadowtrispvs, unsigned char *outlighttrispvs, unsigned char *visitingleafpvs, int numfrustumplanes, const mplane_t *frustumplanes, qbool noocclusion)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00525">model_shared.h:525</a></div></div>
<div class="ttc" id="astructmodel__t_html_a7b670a69b5082781733cc0b9ebdc307a"><div class="ttname"><a href="structmodel__t.html#a7b670a69b5082781733cc0b9ebdc307a">model_t::DrawDebug</a></div><div class="ttdeci">void(* DrawDebug)(struct entity_render_s *ent)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00517">model_shared.h:517</a></div></div>
<div class="ttc" id="astructmodel__t_html_a88de93ec53d5028ad75df7a08eb5005a"><div class="ttname"><a href="structmodel__t.html#a88de93ec53d5028ad75df7a08eb5005a">model_t::TraceBrush</a></div><div class="ttdeci">void(* TraceBrush)(struct model_s *model, const struct frameblend_s *frameblend, const struct skeleton_s *skeleton, struct trace_s *trace, struct colbrushf_s *start, struct colbrushf_s *end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00530">model_shared.h:530</a></div></div>
<div class="ttc" id="astructmodel__t_html_a90f05444c8d96adeaec3beffe4fed932"><div class="ttname"><a href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">model_t::yawmins</a></div><div class="ttdeci">vec3_t yawmins</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00455">model_shared.h:455</a></div></div>
<div class="ttc" id="astructmodel__t_html_aaba719ee8f91d844c266a62e4661aad9"><div class="ttname"><a href="structmodel__t.html#aaba719ee8f91d844c266a62e4661aad9">model_t::CompileShadowMap</a></div><div class="ttdeci">void(* CompileShadowMap)(struct entity_render_s *ent, vec3_t relativelightorigin, vec3_t relativelightdirection, float lightradius, int numsurfaces, const int *surfacelist)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00521">model_shared.h:521</a></div></div>
<div class="ttc" id="astructmodel__t_html_ab12042d3586a8c32c85b226baf81d982"><div class="ttname"><a href="structmodel__t.html#ab12042d3586a8c32c85b226baf81d982">model_t::TraceLineAgainstSurfaces</a></div><div class="ttdeci">void(* TraceLineAgainstSurfaces)(struct model_s *model, const struct frameblend_s *frameblend, const struct skeleton_s *skeleton, struct trace_s *trace, const vec3_t start, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00538">model_shared.h:538</a></div></div>
<div class="ttc" id="astructmodel__t_html_ab1fcab5fc67dd83b66311618cf8e152d"><div class="ttname"><a href="structmodel__t.html#ab1fcab5fc67dd83b66311618cf8e152d">model_t::soundfromcenter</a></div><div class="ttdeci">int soundfromcenter</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00545">model_shared.h:545</a></div></div>
<div class="ttc" id="astructmodel__t_html_ab77f5d2c5064c2e726a590bcdc440ccf"><div class="ttname"><a href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">model_t::num_surfaces</a></div><div class="ttdeci">int num_surfaces</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00497">model_shared.h:497</a></div></div>
<div class="ttc" id="astructmodel__t_html_abbf1bba30697f7bf6cfb28c79adfefe6"><div class="ttname"><a href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">model_t::num_textures</a></div><div class="ttdeci">int num_textures</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00490">model_shared.h:490</a></div></div>
<div class="ttc" id="astructmodel__t_html_ad4977f2739466469e77463bab78dd4dd"><div class="ttname"><a href="structmodel__t.html#ad4977f2739466469e77463bab78dd4dd">model_t::skinscenes</a></div><div class="ttdeci">animscene_t * skinscenes</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00463">model_shared.h:463</a></div></div>
<div class="ttc" id="astructmodel__t_html_af206eaa0040c5a5e297fa1c0191b22dd"><div class="ttname"><a href="structmodel__t.html#af206eaa0040c5a5e297fa1c0191b22dd">model_t::DrawLight</a></div><div class="ttdeci">void(* DrawLight)(struct entity_render_s *ent, int numsurfaces, const int *surfacelist, const unsigned char *trispvs)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00527">model_shared.h:527</a></div></div>
<div class="ttc" id="astructmodel__t_html_af87a229d1035751d795492d962f980f4"><div class="ttname"><a href="structmodel__t.html#af87a229d1035751d795492d962f980f4">model_t::num_texturesperskin</a></div><div class="ttdeci">int num_texturesperskin</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00492">model_shared.h:492</a></div></div>
<div class="ttc" id="astructmodel__t_html_af986fe2f082429a18c3d36f957649e10"><div class="ttname"><a href="structmodel__t.html#af986fe2f082429a18c3d36f957649e10">model_t::TraceLine</a></div><div class="ttdeci">void(* TraceLine)(struct model_s *model, const struct frameblend_s *frameblend, const struct skeleton_s *skeleton, struct trace_s *trace, const vec3_t start, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00532">model_shared.h:532</a></div></div>
<div class="ttc" id="astructobjvertex__t_html"><div class="ttname"><a href="structobjvertex__t.html">objvertex_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l08188">model_brush.c:8189</a></div></div>
<div class="ttc" id="astructskinfile__t_html"><div class="ttname"><a href="structskinfile__t.html">skinfile_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00650">model_shared.h:651</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_a454d82b1d9cdb4d96ece8b89c4ecbc7e"><div class="ttname"><a href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">surfmesh_t::num_vertices</a></div><div class="ttdeci">int num_vertices</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00093">model_shared.h:93</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_a5955263e1adbb8dedcfedf7caba77971"><div class="ttname"><a href="structsurfmesh__t.html#a5955263e1adbb8dedcfedf7caba77971">surfmesh_t::data_svector3f</a></div><div class="ttdeci">float * data_svector3f</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00095">model_shared.h:95</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_a6ea70bbf33859b9ab111c9b875b34c1a"><div class="ttname"><a href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">surfmesh_t::data_element3s</a></div><div class="ttdeci">unsigned short * data_element3s</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00107">model_shared.h:107</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_a8e5cfd0075e30165db1a60a468201937"><div class="ttname"><a href="structsurfmesh__t.html#a8e5cfd0075e30165db1a60a468201937">surfmesh_t::data_tvector3f</a></div><div class="ttdeci">float * data_tvector3f</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00096">model_shared.h:96</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_ab1541bccdbf92ee0c4310417ddec6af1"><div class="ttname"><a href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">surfmesh_t::num_triangles</a></div><div class="ttdeci">int num_triangles</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00089">model_shared.h:89</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_aee9ff7e902169022620a5cdf6f7ce992"><div class="ttname"><a href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">surfmesh_t::data_texcoordtexture2f</a></div><div class="ttdeci">float * data_texcoordtexture2f</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00098">model_shared.h:98</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_af7ab21ac40dc848a7238340260e106f4"><div class="ttname"><a href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">surfmesh_t::data_normal3f</a></div><div class="ttdeci">float * data_normal3f</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00097">model_shared.h:97</a></div></div>
<div class="ttc" id="azone_8c_html_ac742acee1395c22ccf6d2370d465f844"><div class="ttname"><a href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a></div><div class="ttdeci">mempool_t * tempmempool</div><div class="ttdef"><b>Definition</b> <a href="zone_8c_source.html#l00794">zone.c:794</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac37060768681021cb8f9a64e8fb9f8a3" name="ac37060768681021cb8f9a64e8fb9f8a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac37060768681021cb8f9a64e8fb9f8a3">&#9670;&#160;</a></span>Mod_Q1BSP_AmbientSoundLevelsForPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_AmbientSoundLevelsForPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>outsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00165">165</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  166</span>{</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>;</div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = <a class="code hl_function" href="model__brush_8c.html#abb086140977095e71ec940fd8f3fc943">Mod_BSP_PointInLeaf</a>(model, p);</div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>)</div>
<div class="line"><span class="lineno">  171</span>    {</div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outsize</a>, (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;ambient_sound_level));</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno">  174</span>        {</div>
<div class="line"><span class="lineno">  175</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;ambient_sound_level, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno">  176</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> += <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno">  177</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outsize</a> -= <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno">  178</span>        }</div>
<div class="line"><span class="lineno">  179</span>    }</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outsize</a>)</div>
<div class="line"><span class="lineno">  181</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">outsize</a>);</div>
<div class="line"><span class="lineno">  182</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_abb086140977095e71ec940fd8f3fc943"><div class="ttname"><a href="model__brush_8c.html#abb086140977095e71ec940fd8f3fc943">Mod_BSP_PointInLeaf</a></div><div class="ttdeci">static mleaf_t * Mod_BSP_PointInLeaf(model_t *model, const vec3_t p)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00149">model_brush.c:149</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a9b93d09230187cac696b484f0d6b57aa" name="a9b93d09230187cac696b484f0d6b57aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b93d09230187cac696b484f0d6b57aa">&#9670;&#160;</a></span>Mod_Q1BSP_AssignNoShadowSkySurfaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_AssignNoShadowSkySurfaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03249">3249</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3250</span>{</div>
<div class="line"><span class="lineno"> 3251</span>    <span class="keywordtype">int</span> surfaceindex;</div>
<div class="line"><span class="lineno"> 3252</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno"> 3253</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> center;</div>
<div class="line"><span class="lineno"> 3254</span>    <span class="keywordtype">int</span> contents;</div>
<div class="line"><span class="lineno"> 3255</span>    <span class="keywordflow">for</span> (surfaceindex = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>; surfaceindex &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;surfaceindex++)</div>
<div class="line"><span class="lineno"> 3256</span>    {</div>
<div class="line"><span class="lineno"> 3257</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + surfaceindex;</div>
<div class="line"><span class="lineno"> 3258</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;basematerialflags &amp; <a class="code hl_define" href="model__brush_8h.html#a088347aa145a9d1bae60024278840b34">MATERIALFLAG_SKY</a>)</div>
<div class="line"><span class="lineno"> 3259</span>        {</div>
<div class="line"><span class="lineno"> 3260</span>            <span class="comment">// check if the point behind the surface polygon is SOLID or SKY contents</span></div>
<div class="line"><span class="lineno"> 3261</span>            <a class="code hl_define" href="mathlib_8h.html#ae1750e92bc66a810d950430fc42d925b">VectorMAMAM</a>(0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;mins, 0.5f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;maxs, -0.25f, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a> + 3*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex, center);</div>
<div class="line"><span class="lineno"> 3262</span>            contents = <a class="code hl_function" href="model__brush_8c.html#a0197d508be472fdae0a917309e5ca4b2">Mod_Q1BSP_PointSuperContents</a>(mod, 0, center);</div>
<div class="line"><span class="lineno"> 3263</span>            <span class="keywordflow">if</span> (!(contents &amp; <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>))</div>
<div class="line"><span class="lineno"> 3264</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;skynoshadowtexture;</div>
<div class="line"><span class="lineno"> 3265</span>        }</div>
<div class="line"><span class="lineno"> 3266</span>    }</div>
<div class="line"><span class="lineno"> 3267</span>}</div>
<div class="ttc" id="amathlib_8h_html_ae1750e92bc66a810d950430fc42d925b"><div class="ttname"><a href="mathlib_8h.html#ae1750e92bc66a810d950430fc42d925b">VectorMAMAM</a></div><div class="ttdeci">#define VectorMAMAM(scale1, b1, scale2, b2, scale3, b3, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00116">mathlib.h:116</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a0197d508be472fdae0a917309e5ca4b2"><div class="ttname"><a href="model__brush_8c.html#a0197d508be472fdae0a917309e5ca4b2">Mod_Q1BSP_PointSuperContents</a></div><div class="ttdeci">static int Mod_Q1BSP_PointSuperContents(struct model_s *model, int frame, const vec3_t point)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01037">model_brush.c:1037</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a088347aa145a9d1bae60024278840b34"><div class="ttname"><a href="model__brush_8h.html#a088347aa145a9d1bae60024278840b34">MATERIALFLAG_SKY</a></div><div class="ttdeci">#define MATERIALFLAG_SKY</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00092">model_brush.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a61becb86cbd82611878fc4b339b762cb" name="a61becb86cbd82611878fc4b339b762cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61becb86cbd82611878fc4b339b762cb">&#9670;&#160;</a></span>Mod_Q1BSP_CheckWaterAlphaSupport()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> Mod_Q1BSP_CheckWaterAlphaSupport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03072">3072</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3073</span>{</div>
<div class="line"><span class="lineno"> 3074</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 3075</span>    <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>;</div>
<div class="line"><span class="lineno"> 3076</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *pvs;</div>
<div class="line"><span class="lineno"> 3077</span>    <span class="comment">// if there&#39;s no vis data, assume supported (because everything is visible all the time)</span></div>
<div class="line"><span class="lineno"> 3078</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a>)</div>
<div class="line"><span class="lineno"> 3079</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3080</span>    <span class="comment">// check all liquid leafs to see if they can see into empty leafs, if any</span></div>
<div class="line"><span class="lineno"> 3081</span>    <span class="comment">// can we can assume this map supports r_wateralpha</span></div>
<div class="line"><span class="lineno"> 3082</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>++)</div>
<div class="line"><span class="lineno"> 3083</span>    {</div>
<div class="line"><span class="lineno"> 3084</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;contents == <a class="code hl_define" href="bspfile_8h.html#ade922e5f0b8f2b02147858c2b6d579cc">CONTENTS_WATER</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;contents == <a class="code hl_define" href="bspfile_8h.html#ac74aa6092339c35717e12dc058040a01">CONTENTS_SLIME</a>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;clusterindex &gt;= 0)</div>
<div class="line"><span class="lineno"> 3085</span>        {</div>
<div class="line"><span class="lineno"> 3086</span>            pvs = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;clusterindex * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>;</div>
<div class="line"><span class="lineno"> 3087</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 3088</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="model__brush_8h.html#a6aaa281ecfff2614bfd32a87a353ad5f">CHECKPVSBIT</a>(pvs, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structmleaf__t.html#a9d1022c1675475848807b5eeabf1ecfa">clusterindex</a>) &amp;&amp; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structmleaf__t.html#a51e13d1d9b8a7cb292a0fcba5a9e7a6c">contents</a> == <a class="code hl_define" href="bspfile_8h.html#af408f18a1c9fcfe68dc88036d6186522">CONTENTS_EMPTY</a>)</div>
<div class="line"><span class="lineno"> 3089</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3090</span>        }</div>
<div class="line"><span class="lineno"> 3091</span>    }</div>
<div class="line"><span class="lineno"> 3092</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3093</span>}</div>
<div class="ttc" id="abspfile_8h_html_ac74aa6092339c35717e12dc058040a01"><div class="ttname"><a href="bspfile_8h.html#ac74aa6092339c35717e12dc058040a01">CONTENTS_SLIME</a></div><div class="ttdeci">#define CONTENTS_SLIME</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00136">bspfile.h:136</a></div></div>
<div class="ttc" id="abspfile_8h_html_ade922e5f0b8f2b02147858c2b6d579cc"><div class="ttname"><a href="bspfile_8h.html#ade922e5f0b8f2b02147858c2b6d579cc">CONTENTS_WATER</a></div><div class="ttdeci">#define CONTENTS_WATER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00135">bspfile.h:135</a></div></div>
<div class="ttc" id="astructmleaf__t_html_a51e13d1d9b8a7cb292a0fcba5a9e7a6c"><div class="ttname"><a href="structmleaf__t.html#a51e13d1d9b8a7cb292a0fcba5a9e7a6c">mleaf_t::contents</a></div><div class="ttdeci">int contents</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00196">model_brush.h:196</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="ac7951bc8a426acde1bd108694921f5b7" name="ac7951bc8a426acde1bd108694921f5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7951bc8a426acde1bd108694921f5b7">&#9670;&#160;</a></span>Mod_Q1BSP_Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03880">3880</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3881</span>{</div>
<div class="line"><span class="lineno"> 3882</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 3883</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a68012dbb3cbdb480ad1829f0104fb29c">HEADER_LUMPS</a>];</div>
<div class="line"><span class="lineno"> 3884</span>    <a class="code hl_struct" href="structmmodel__t.html">mmodel_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>;</div>
<div class="line"><span class="lineno"> 3885</span>    <span class="keywordtype">float</span> dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 3886</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno"> 3887</span>    <a class="code hl_struct" href="structhullinfo__t.html">hullinfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>;</div>
<div class="line"><span class="lineno"> 3888</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstylesurfaces</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstyles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[256], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remapstyles</a>[256];</div>
<div class="line"><span class="lineno"> 3889</span>    <a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[256];</div>
<div class="line"><span class="lineno"> 3890</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a>;</div>
<div class="line"><span class="lineno"> 3891</span>    <a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lsidatapointer</a>;</div>
<div class="line"><span class="lineno"> 3892</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>;</div>
<div class="line"><span class="lineno"> 3893</span> </div>
<div class="line"><span class="lineno"> 3894</span>    <a class="code hl_function" href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno"> 3895</span> </div>
<div class="line"><span class="lineno"> 3896</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0fb268c443d4c9dd629e3af746878fec">type</a> = <a class="code hl_enumvalue" href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4a9a2efede9647d965dd58e5edcaa971b4">mod_brushq1</a>;</div>
<div class="line"><span class="lineno"> 3897</span> </div>
<div class="line"><span class="lineno"> 3898</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a561bd00bcb29326c59d33a5ab01299ba">skymasking</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3899</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3900</span> </div>
<div class="line"><span class="lineno"> 3901</span>    <span class="keywordflow">if</span>(!mod-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a>)</div>
<div class="line"><span class="lineno"> 3902</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a> = <span class="stringliteral">&quot;Q1BSP&quot;</span>;</div>
<div class="line"><span class="lineno"> 3903</span> </div>
<div class="line"><span class="lineno"> 3904</span><span class="comment">// fill in hull info</span></div>
<div class="line"><span class="lineno"> 3905</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[0][0]);</div>
<div class="line"><span class="lineno"> 3906</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[0][1]);</div>
<div class="line"><span class="lineno"> 3907</span>    <span class="keywordflow">if</span> (mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a>)</div>
<div class="line"><span class="lineno"> 3908</span>    {</div>
<div class="line"><span class="lineno"> 3909</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.filehulls = 4;</div>
<div class="line"><span class="lineno"> 3910</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[1][0], -16, -16, -36);</div>
<div class="line"><span class="lineno"> 3911</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[1][1], 16, 16, 36);</div>
<div class="line"><span class="lineno"> 3912</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[2][0], -32, -32, -32);</div>
<div class="line"><span class="lineno"> 3913</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[2][1], 32, 32, 32);</div>
<div class="line"><span class="lineno"> 3914</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[3][0], -16, -16, -18);</div>
<div class="line"><span class="lineno"> 3915</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[3][1], 16, 16, 18);</div>
<div class="line"><span class="lineno"> 3916</span>    }</div>
<div class="line"><span class="lineno"> 3917</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3918</span>    {</div>
<div class="line"><span class="lineno"> 3919</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.filehulls = 4;</div>
<div class="line"><span class="lineno"> 3920</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[1][0], -16, -16, -24);</div>
<div class="line"><span class="lineno"> 3921</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[1][1], 16, 16, 32);</div>
<div class="line"><span class="lineno"> 3922</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[2][0], -32, -32, -24);</div>
<div class="line"><span class="lineno"> 3923</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>.hullsizes[2][1], 32, 32, 64);</div>
<div class="line"><span class="lineno"> 3924</span>    }</div>
<div class="line"><span class="lineno"> 3925</span> </div>
<div class="line"><span class="lineno"> 3926</span><span class="comment">// read lumps</span></div>
<div class="line"><span class="lineno"> 3927</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a68012dbb3cbdb480ad1829f0104fb29c">HEADER_LUMPS</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3928</span>    {</div>
<div class="line"><span class="lineno"> 3929</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3930</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3931</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt; 0 || offset + size &gt;</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.cursize)</div>
<div class="line"><span class="lineno"> 3932</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_Load: %s has invalid lump %i (offset %i, size %i, file size %i)\n&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.cursize);</div>
<div class="line"><span class="lineno"> 3933</span>        <a class="code hl_function" href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.data + <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><span class="lineno"> 3934</span>    }</div>
<div class="line"><span class="lineno"> 3935</span> </div>
<div class="line"><span class="lineno"> 3936</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1fcab5fc67dd83b66311618cf8e152d">soundfromcenter</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3937</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">TraceBox</a> = <a class="code hl_function" href="model__brush_8c.html#affde24be777755bcdcf524f0f4598e6d">Mod_Q1BSP_TraceBox</a>;</div>
<div class="line"><span class="lineno"> 3938</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af986fe2f082429a18c3d36f957649e10">TraceLine</a> = <a class="code hl_function" href="model__brush_8c.html#a92b73adc673d226987602c4e7e4a78f2">Mod_Q1BSP_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 3939</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a72c9953cbe38085b8545258bfd28792c">TracePoint</a> = <a class="code hl_function" href="model__brush_8c.html#a944c6e714408a389b574c6051f38c274">Mod_Q1BSP_TracePoint</a>;</div>
<div class="line"><span class="lineno"> 3940</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">PointSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#a0197d508be472fdae0a917309e5ca4b2">Mod_Q1BSP_PointSuperContents</a>;</div>
<div class="line"><span class="lineno"> 3941</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab12042d3586a8c32c85b226baf81d982">TraceLineAgainstSurfaces</a> = <a class="code hl_function" href="model__brush_8c.html#a75693e4e70b5a19e3682f309ef9249e1">Mod_Q1BSP_TraceLineAgainstSurfaces</a>;</div>
<div class="line"><span class="lineno"> 3942</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a32ee664ad4c03f4ea8c698b48bb443fe">TraceLineOfSight</a> = <a class="code hl_function" href="model__brush_8c.html#ad77e25ecefd355d59ad4519fd3b2d2a4">Mod_Q1BSP_TraceLineOfSight</a>;</div>
<div class="line"><span class="lineno"> 3943</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a42a513aa3f096a77e3f52db25aff4a12">SuperContentsFromNativeContents</a> = <a class="code hl_function" href="model__brush_8c.html#a235b8af89a030c6fb731267b0ef36e8e">Mod_Q1BSP_SuperContentsFromNativeContents</a>;</div>
<div class="line"><span class="lineno"> 3944</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12902c97697b0ccf6f66b5cc1a6e6cbf">NativeContentsFromSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#a5a5b192b1222eacd1e23dfdeab66ab62">Mod_Q1BSP_NativeContentsFromSuperContents</a>;</div>
<div class="line"><span class="lineno"> 3945</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a410424a81c26ecc81451c5da4a7c50f5">Mod_BSP_GetPVS</a>;</div>
<div class="line"><span class="lineno"> 3946</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a72ec2cd29705ec14f030bd49ba9697a2">Mod_BSP_FatPVS</a>;</div>
<div class="line"><span class="lineno"> 3947</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_function" href="model__brush_8c.html#aa0a4fa58c97cfce8966a22c7fcec4285">Mod_BSP_BoxTouchingPVS</a>;</div>
<div class="line"><span class="lineno"> 3948</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a6a74f1d6ae2f7904e073ae012c2a4b10">Mod_BSP_BoxTouchingLeafPVS</a>;</div>
<div class="line"><span class="lineno"> 3949</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_function" href="model__brush_8c.html#ac5ff29218d7cd338d8aeee45fd9d1f3c">Mod_BSP_BoxTouchingVisibleLeafs</a>;</div>
<div class="line"><span class="lineno"> 3950</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_function" href="model__brush_8c.html#a8de8e2031a8fb80452d8a3b9fedc159c">Mod_BSP_FindBoxClusters</a>;</div>
<div class="line"><span class="lineno"> 3951</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_function" href="model__brush_8c.html#a077fb94ca69306dbb3dabbd3708619f2">Mod_BSP_LightPoint</a>;</div>
<div class="line"><span class="lineno"> 3952</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8d0042214ff0c446bc69f675e65aadb2">FindNonSolidLocation</a> = <a class="code hl_function" href="model__brush_8c.html#a996f873f75319d130c4c2f689629affd">Mod_BSP_FindNonSolidLocation</a>;</div>
<div class="line"><span class="lineno"> 3953</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_function" href="model__brush_8c.html#ac37060768681021cb8f9a64e8fb9f8a3">Mod_Q1BSP_AmbientSoundLevelsForPoint</a>;</div>
<div class="line"><span class="lineno"> 3954</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a35481106e3500413e8a0304780449719">RoundUpToHullSize</a> = <a class="code hl_function" href="model__brush_8c.html#a819c6ddb997db6d6a89f43ff180c698e">Mod_Q1BSP_RoundUpToHullSize</a>;</div>
<div class="line"><span class="lineno"> 3955</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">PointInLeaf</a> = <a class="code hl_function" href="model__brush_8c.html#abb086140977095e71ec940fd8f3fc943">Mod_BSP_PointInLeaf</a>;</div>
<div class="line"><span class="lineno"> 3956</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ad54aab83aca1c9ec564054f4019609">Draw</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a904d7d0ff6adf58e411c3ffb80ca27c4">R_Mod_Draw</a>;</div>
<div class="line"><span class="lineno"> 3957</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0c0d94b3f0503536ab0e6c0056d97df2">DrawDepth</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aae83c1e7beee72d6cbfc03a0f0bd11bf">R_Mod_DrawDepth</a>;</div>
<div class="line"><span class="lineno"> 3958</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a7b670a69b5082781733cc0b9ebdc307a">DrawDebug</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a6e528b203b784986a5b5bbf82ac387ff">R_Mod_DrawDebug</a>;</div>
<div class="line"><span class="lineno"> 3959</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5a5b038598ccef5f670521d169edb025">DrawPrepass</a> = <a class="code hl_function" href="gl__rsurf_8c.html#ad8145eb3a0203496ea94da9834e098f0">R_Mod_DrawPrepass</a>;</div>
<div class="line"><span class="lineno"> 3960</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a7a0081b6e77854bd75ae206afba89148">GetLightInfo</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a60a24c695566f11f38f592dc83d76869">R_Mod_GetLightInfo</a>;</div>
<div class="line"><span class="lineno"> 3961</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aaba719ee8f91d844c266a62e4661aad9">CompileShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a2c9f5aad0d1f1cbd7abefaf946c38fc7">R_Mod_CompileShadowMap</a>;</div>
<div class="line"><span class="lineno"> 3962</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a71121e7ef28a949af258f4611ce21e9c">DrawShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aa4222887ff91555860ca9ab52531861c">R_Mod_DrawShadowMap</a>;</div>
<div class="line"><span class="lineno"> 3963</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af206eaa0040c5a5e297fa1c0191b22dd">DrawLight</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a89a46aef51c1b493184fcc71ee028236">R_Mod_DrawLight</a>;</div>
<div class="line"><span class="lineno"> 3964</span> </div>
<div class="line"><span class="lineno"> 3965</span><span class="comment">// load into heap</span></div>
<div class="line"><span class="lineno"> 3966</span> </div>
<div class="line"><span class="lineno"> 3967</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#acd2c4e7f74ff36091f55d3ae17e267ff">qw_md4sum</a> = 0;</div>
<div class="line"><span class="lineno"> 3968</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a662be3860db75e6940ad5fb54a5c0b53">qw_md4sum2</a> = 0;</div>
<div class="line"><span class="lineno"> 3969</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a68012dbb3cbdb480ad1829f0104fb29c">HEADER_LUMPS</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3970</span>    {</div>
<div class="line"><span class="lineno"> 3971</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>;</div>
<div class="line"><span class="lineno"> 3972</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a>)</div>
<div class="line"><span class="lineno"> 3973</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3974</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a> = <a class="code hl_function" href="common_8h.html#a33218a7cf8dede33924c935a08801b6a">Com_BlockChecksum</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].cursize);</div>
<div class="line"><span class="lineno"> 3975</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#acd2c4e7f74ff36091f55d3ae17e267ff">qw_md4sum</a> ^= <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><span class="lineno"> 3976</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="bspfile_8h.html#aaeabefb642c4caf8840eb882fca0684d">LUMP_VISIBILITY</a> || <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="bspfile_8h.html#a34d91d251ccbceb42067fb4d00dfe9fd">LUMP_LEAFS</a> || <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="bspfile_8h.html#af06fd778bb617ba7d641aba1fdcff70f">LUMP_NODES</a>)</div>
<div class="line"><span class="lineno"> 3977</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3978</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a662be3860db75e6940ad5fb54a5c0b53">qw_md4sum2</a> ^= <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><span class="lineno"> 3979</span>    }</div>
<div class="line"><span class="lineno"> 3980</span> </div>
<div class="line"><span class="lineno"> 3981</span>    <a class="code hl_function" href="model__brush_8c.html#a795ac415341adbbe4b7011e3bbcf0361">Mod_Q1BSP_LoadEntities</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a>]);</div>
<div class="line"><span class="lineno"> 3982</span>    <a class="code hl_function" href="model__brush_8c.html#a0765492c0b40a0b68d17b590383e921b">Mod_Q1BSP_LoadVertexes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a37a2e4b069b6d2c0ead1d0348b2c5a2b">LUMP_VERTEXES</a>]);</div>
<div class="line"><span class="lineno"> 3983</span>    <a class="code hl_function" href="model__brush_8c.html#abdd48be44ee0cc68591e09d7c5193072">Mod_Q1BSP_LoadEdges</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a0ba85e10b94481aa1a110cbb8899b33c">LUMP_EDGES</a>]);</div>
<div class="line"><span class="lineno"> 3984</span>    <a class="code hl_function" href="model__brush_8c.html#aaa49f1f172b5050db2d36f5b23fd18fe">Mod_Q1BSP_LoadSurfedges</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a2376f1526467796976bb68a30cf18c86">LUMP_SURFEDGES</a>]);</div>
<div class="line"><span class="lineno"> 3985</span>    <a class="code hl_function" href="model__brush_8c.html#a22f65cdf9d1f23789107d8b9079f3e9e">Mod_Q1BSP_LoadTextures</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#aa6a915f110e76908302ba9028a3347a9">LUMP_TEXTURES</a>]);</div>
<div class="line"><span class="lineno"> 3986</span>    <a class="code hl_function" href="model__brush_8c.html#a6ef4b992ae62b227039ae4839bc5293b">Mod_Q1BSP_LoadLighting</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a0ba6b017f99466f7767cbdcc1281a372">LUMP_LIGHTING</a>]);</div>
<div class="line"><span class="lineno"> 3987</span>    <a class="code hl_function" href="model__brush_8c.html#a4db47416ee4f951b1fa8fc15a15edba8">Mod_Q1BSP_LoadPlanes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a8402c8fdd2766810e28d05ea33e92d06">LUMP_PLANES</a>]);</div>
<div class="line"><span class="lineno"> 3988</span>    <a class="code hl_function" href="model__brush_8c.html#a6941b1a6a1c452c624f6ed3f3eb23a5a">Mod_Q1BSP_LoadTexinfo</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a8f7617857fc31772bfcf0972d4fc73e4">LUMP_TEXINFO</a>]);</div>
<div class="line"><span class="lineno"> 3989</span>    <a class="code hl_function" href="model__brush_8c.html#a933e860910bead34039564417f55ff8c">Mod_Q1BSP_LoadFaces</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#ab74a16cba2218a9dfb1e465a21c2fe72">LUMP_FACES</a>]);</div>
<div class="line"><span class="lineno"> 3990</span>    <a class="code hl_function" href="model__brush_8c.html#ab849011d1339ec57f744b5b3c32b544d">Mod_Q1BSP_LoadLeaffaces</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#aa1434bee0ef0a7c656cd5b6f4f863c81">LUMP_MARKSURFACES</a>]);</div>
<div class="line"><span class="lineno"> 3991</span>    <a class="code hl_function" href="model__brush_8c.html#ad3d233e4eedfdbda3d42b73d1b7309f4">Mod_Q1BSP_LoadVisibility</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#aaeabefb642c4caf8840eb882fca0684d">LUMP_VISIBILITY</a>]);</div>
<div class="line"><span class="lineno"> 3992</span>    <span class="comment">// load submodels before leafs because they contain the number of vis leafs</span></div>
<div class="line"><span class="lineno"> 3993</span>    <a class="code hl_function" href="model__brush_8c.html#afb6036155682498abfc0c21a60887cbe">Mod_BSP_LoadSubmodels</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a93ecdc86f16c24631c0920d830bae54d">LUMP_MODELS</a>], &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>);</div>
<div class="line"><span class="lineno"> 3994</span>    <a class="code hl_function" href="model__brush_8c.html#a2d572bbce2922f623c010d7796895af4">Mod_Q1BSP_LoadLeafs</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a34d91d251ccbceb42067fb4d00dfe9fd">LUMP_LEAFS</a>]);</div>
<div class="line"><span class="lineno"> 3995</span>    <a class="code hl_function" href="model__brush_8c.html#abf6cd7649cfa9db2c9b57f16a649d04f">Mod_Q1BSP_LoadNodes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#af06fd778bb617ba7d641aba1fdcff70f">LUMP_NODES</a>]);</div>
<div class="line"><span class="lineno"> 3996</span>    <a class="code hl_function" href="model__brush_8c.html#a428b4dff0ba51e5a660ca7d67259dbe7">Mod_Q1BSP_LoadClipnodes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="bspfile_8h.html#a45596fa85ae42b4378f3f3c1724d0240">LUMP_CLIPNODES</a>], &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>);</div>
<div class="line"><span class="lineno"> 3997</span> </div>
<div class="line"><span class="lineno"> 3998</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a68012dbb3cbdb480ad1829f0104fb29c">HEADER_LUMPS</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3999</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].readcount != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].cursize &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code hl_define" href="bspfile_8h.html#aa6a915f110e76908302ba9028a3347a9">LUMP_TEXTURES</a> &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code hl_define" href="bspfile_8h.html#a0ba6b017f99466f7767cbdcc1281a372">LUMP_LIGHTING</a>)</div>
<div class="line"><span class="lineno"> 4000</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Lump %i incorrectly loaded (readcount %i, size %i)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].readcount, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].cursize);</div>
<div class="line"><span class="lineno"> 4001</span> </div>
<div class="line"><span class="lineno"> 4002</span>    <span class="comment">// check if the map supports transparent water rendering</span></div>
<div class="line"><span class="lineno"> 4003</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a345af4033a9c6f8123afaa8b632e1a54">supportwateralpha</a> = <a class="code hl_function" href="model__brush_8c.html#a61becb86cbd82611878fc4b339b762cb">Mod_Q1BSP_CheckWaterAlphaSupport</a>();</div>
<div class="line"><span class="lineno"> 4004</span> </div>
<div class="line"><span class="lineno"> 4005</span>    <span class="comment">// we don&#39;t need the compressed pvs data anymore</span></div>
<div class="line"><span class="lineno"> 4006</span>    <span class="keywordflow">if</span> (mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a>)</div>
<div class="line"><span class="lineno"> 4007</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a>);</div>
<div class="line"><span class="lineno"> 4008</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4009</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a663ce8105fb244c9ec16617834f95160">num_compressedpvs</a> = 0;</div>
<div class="line"><span class="lineno"> 4010</span> </div>
<div class="line"><span class="lineno"> 4011</span>    <a class="code hl_function" href="model__brush_8c.html#ad32d2fdfda3d46539089b009decb174a">Mod_Q1BSP_MakeHull0</a>();</div>
<div class="line"><span class="lineno"> 4012</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a391c56aad79c870bd52702ab037bf5f3">mod_bsp_portalize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 4013</span>        <a class="code hl_function" href="model__brush_8c.html#af063f8a4f957bf32a9c35ded26d58726">Mod_BSP_MakePortals</a>();</div>
<div class="line"><span class="lineno"> 4014</span> </div>
<div class="line"><span class="lineno"> 4015</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a9c3577006a252ce407c3b204a05be9e4">numframes</a> = 2;     <span class="comment">// regular and alternate animation</span></div>
<div class="line"><span class="lineno"> 4016</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a> = 1;</div>
<div class="line"><span class="lineno"> 4017</span> </div>
<div class="line"><span class="lineno"> 4018</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>)</div>
<div class="line"><span class="lineno"> 4019</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a> = (<a class="code hl_struct" href="structmodel__t.html">model_t</a> **)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__t.html">model_t</a> *));</div>
<div class="line"><span class="lineno"> 4020</span> </div>
<div class="line"><span class="lineno"> 4021</span>    <span class="comment">// LadyHavoc: to clear the fog around the original quake submodel code, I</span></div>
<div class="line"><span class="lineno"> 4022</span>    <span class="comment">// will explain:</span></div>
<div class="line"><span class="lineno"> 4023</span>    <span class="comment">// first of all, some background info on the submodels:</span></div>
<div class="line"><span class="lineno"> 4024</span>    <span class="comment">// model 0 is the map model (the world, named maps/e1m1.bsp for example)</span></div>
<div class="line"><span class="lineno"> 4025</span>    <span class="comment">// model 1 and higher are submodels (doors and the like, named *1, *2, etc)</span></div>
<div class="line"><span class="lineno"> 4026</span>    <span class="comment">// now the weird for loop itself:</span></div>
<div class="line"><span class="lineno"> 4027</span>    <span class="comment">// the loop functions in an odd way, on each iteration it sets up the</span></div>
<div class="line"><span class="lineno"> 4028</span>    <span class="comment">// current &#39;mod&#39; model (which despite the confusing code IS the model of</span></div>
<div class="line"><span class="lineno"> 4029</span>    <span class="comment">// the number i), at the end of the loop it duplicates the model to become</span></div>
<div class="line"><span class="lineno"> 4030</span>    <span class="comment">// the next submodel, and loops back to set up the new submodel.</span></div>
<div class="line"><span class="lineno"> 4031</span> </div>
<div class="line"><span class="lineno"> 4032</span>    <span class="comment">// LadyHavoc: now the explanation of my sane way (which works identically):</span></div>
<div class="line"><span class="lineno"> 4033</span>    <span class="comment">// set up the world model, then on each submodel copy from the world model</span></div>
<div class="line"><span class="lineno"> 4034</span>    <span class="comment">// and set up the submodel with the respective model info.</span></div>
<div class="line"><span class="lineno"> 4035</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstylesurfaces</a> = 0;</div>
<div class="line"><span class="lineno"> 4036</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstyles</a> = 0;</div>
<div class="line"><span class="lineno"> 4037</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4038</span>    {</div>
<div class="line"><span class="lineno"> 4039</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>));</div>
<div class="line"><span class="lineno"> 4040</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structmmodel__t.html#a4ef63cba10fc9bd47507d01580f3cac4">numfaces</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4041</span>        {</div>
<div class="line"><span class="lineno"> 4042</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structmmodel__t.html#a4e94a3c952b8f030b8ea3a640f8765f4">firstface</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 4043</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4044</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]]++;</div>
<div class="line"><span class="lineno"> 4045</span>        }</div>
<div class="line"><span class="lineno"> 4046</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 255;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4047</span>        {</div>
<div class="line"><span class="lineno"> 4048</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstyles</a>++;</div>
<div class="line"><span class="lineno"> 4049</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>])</div>
<div class="line"><span class="lineno"> 4050</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstylesurfaces</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 4051</span>        }</div>
<div class="line"><span class="lineno"> 4052</span>    }</div>
<div class="line"><span class="lineno"> 4053</span>    <span class="comment">// bones_was_here: using a separate allocation for model_brush_lightstyleinfo_t</span></div>
<div class="line"><span class="lineno"> 4054</span>    <span class="comment">// because on a 64-bit machine it no longer has the same alignment requirement as int.</span></div>
<div class="line"><span class="lineno"> 4055</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lsidatapointer</a> = <a class="code hl_define" href="zone_8h.html#addac2538e0cb7480500ef5876dba5ec3">Mem_AllocType</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstyles</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a>));</div>
<div class="line"><span class="lineno"> 4056</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a> = <a class="code hl_define" href="zone_8h.html#addac2538e0cb7480500ef5876dba5ec3">Mem_AllocType</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keywordtype">int</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstylesurfaces</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><span class="lineno"> 4057</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a37ed77c0d67434b15280684a8ba42814">modelsurfaces_sorted</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a> += mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>;</div>
<div class="line"><span class="lineno"> 4058</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4059</span>    {</div>
<div class="line"><span class="lineno"> 4060</span>        <span class="comment">// LadyHavoc: this code was originally at the end of this loop, but</span></div>
<div class="line"><span class="lineno"> 4061</span>        <span class="comment">// has been transformed to something more readable at the start here.</span></div>
<div class="line"><span class="lineno"> 4062</span> </div>
<div class="line"><span class="lineno"> 4063</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 4064</span>        {</div>
<div class="line"><span class="lineno"> 4065</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[10];</div>
<div class="line"><span class="lineno"> 4066</span>            <span class="comment">// duplicate the basic information</span></div>
<div class="line"><span class="lineno"> 4067</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="stringliteral">&quot;*%i&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 4068</span>            mod = <a class="code hl_function" href="model__shared_8c.html#a9b0e709a676fe0bd42548fcf0a45042e">Mod_FindName</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4069</span>            <span class="comment">// copy the base model to this one</span></div>
<div class="line"><span class="lineno"> 4070</span>            *mod = *<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 4071</span>            <span class="comment">// rename the clone back to its proper name</span></div>
<div class="line"><span class="lineno"> 4072</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>));</div>
<div class="line"><span class="lineno"> 4073</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac4d9fbdd0eee8dd6822be206eb245cc3">parentmodel</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 4074</span>            <span class="comment">// textures and memory belong to the main model</span></div>
<div class="line"><span class="lineno"> 4075</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4076</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4077</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4078</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4079</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4080</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4081</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4082</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4083</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4084</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4085</span>        }</div>
<div class="line"><span class="lineno"> 4086</span> </div>
<div class="line"><span class="lineno"> 4087</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a1bb35c00721be56c390df0b877791cac">submodel</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 4088</span> </div>
<div class="line"><span class="lineno"> 4089</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>)</div>
<div class="line"><span class="lineno"> 4090</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = mod;</div>
<div class="line"><span class="lineno"> 4091</span> </div>
<div class="line"><span class="lineno"> 4092</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a> = &amp;mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 4093</span> </div>
<div class="line"><span class="lineno"> 4094</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;headnode[0];</div>
<div class="line"><span class="lineno"> 4095</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>=1 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>&lt;<a class="code hl_define" href="bspfile_8h.html#a77130f8fa05975a6ae58080837c21451">MAX_MAP_HULLS</a> ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4096</span>        {</div>
<div class="line"><span class="lineno"> 4097</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;headnode[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];</div>
<div class="line"><span class="lineno"> 4098</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structhull__t.html#a6d125fbfe4610653f319d2f1ff5b8957">lastclipnode</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aaa6835fa4ffd7d6ffc13a8e39e3e5597">numclipnodes</a> - 1;</div>
<div class="line"><span class="lineno"> 4099</span>        }</div>
<div class="line"><span class="lineno"> 4100</span> </div>
<div class="line"><span class="lineno"> 4101</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;firstface;</div>
<div class="line"><span class="lineno"> 4102</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;firstface + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;numfaces;</div>
<div class="line"><span class="lineno"> 4103</span> </div>
<div class="line"><span class="lineno"> 4104</span>        <span class="comment">// set node/leaf parents for this submodel</span></div>
<div class="line"><span class="lineno"> 4105</span>        <a class="code hl_function" href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 4106</span> </div>
<div class="line"><span class="lineno"> 4107</span>        <span class="comment">// this has to occur after hull info has been set, as it uses Mod_Q1BSP_PointSuperContents</span></div>
<div class="line"><span class="lineno"> 4108</span>        <a class="code hl_function" href="model__brush_8c.html#a9b93d09230187cac696b484f0d6b57aa">Mod_Q1BSP_AssignNoShadowSkySurfaces</a>(mod);</div>
<div class="line"><span class="lineno"> 4109</span> </div>
<div class="line"><span class="lineno"> 4110</span>        <span class="comment">// copy the submodel bounds, then enlarge the yaw and rotated bounds according to radius</span></div>
<div class="line"><span class="lineno"> 4111</span>        <span class="comment">// (previously this code measured the radius of the vertices of surfaces in the submodel, but that broke submodels that contain only CLIP brushes, which do not produce surfaces)</span></div>
<div class="line"><span class="lineno"> 4112</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;mins, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>);</div>
<div class="line"><span class="lineno"> 4113</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;maxs, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>);</div>
<div class="line"><span class="lineno"> 4114</span>        dist = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0]));</div>
<div class="line"><span class="lineno"> 4115</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1]));</div>
<div class="line"><span class="lineno"> 4116</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = dist*dist+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 4117</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2]));</div>
<div class="line"><span class="lineno"> 4118</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 4119</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>);</div>
<div class="line"><span class="lineno"> 4120</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>);</div>
<div class="line"><span class="lineno"> 4121</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[1] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 4122</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[2] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2];</div>
<div class="line"><span class="lineno"> 4123</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[1] =  <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 4124</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[2] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2];</div>
<div class="line"><span class="lineno"> 4125</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[1] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[2] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 4126</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[1] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[2] =  <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 4127</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4bf40349d814f181d66602ed812c7903">radius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 4128</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0629c0fdc502c92975be054a2b6dd9e6">radius2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 4129</span> </div>
<div class="line"><span class="lineno"> 4130</span>        <a class="code hl_function" href="model__shared_8c.html#af5bb8e6dccd0096a95cca1db54d8cdc7">Mod_SetDrawSkyAndWater</a>(mod);</div>
<div class="line"><span class="lineno"> 4131</span> </div>
<div class="line"><span class="lineno"> 4132</span>        <span class="keywordflow">if</span> (mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>)</div>
<div class="line"><span class="lineno"> 4133</span>        {</div>
<div class="line"><span class="lineno"> 4134</span>            <span class="comment">// build lightstyle update chains</span></div>
<div class="line"><span class="lineno"> 4135</span>            <span class="comment">// (used to rapidly mark lightmapupdateflags on many surfaces</span></div>
<div class="line"><span class="lineno"> 4136</span>            <span class="comment">// when d_lightstylevalue changes)</span></div>
<div class="line"><span class="lineno"> 4137</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>));</div>
<div class="line"><span class="lineno"> 4138</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4139</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4140</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>].<a class="code hl_variable" href="structmsurface__t.html#a3bcf5ab2775977746b2df6f5cdb74ef4">lightmapinfo</a>-&gt;<a class="code hl_variable" href="structmsurface__lightmapinfo__t.html#a1f27f7caebce48e4e6ef514cc7a011cb">styles</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]]++;</div>
<div class="line"><span class="lineno"> 4141</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a> = 0;</div>
<div class="line"><span class="lineno"> 4142</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 255;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4143</span>            {</div>
<div class="line"><span class="lineno"> 4144</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>])</div>
<div class="line"><span class="lineno"> 4145</span>                {</div>
<div class="line"><span class="lineno"> 4146</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>].style = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 4147</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>].value = 0;</div>
<div class="line"><span class="lineno"> 4148</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>].numsurfaces = 0;</div>
<div class="line"><span class="lineno"> 4149</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>].surfacelist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 4150</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remapstyles</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>;</div>
<div class="line"><span class="lineno"> 4151</span>                    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>++;</div>
<div class="line"><span class="lineno"> 4152</span>                }</div>
<div class="line"><span class="lineno"> 4153</span>            }</div>
<div class="line"><span class="lineno"> 4154</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4155</span>            {</div>
<div class="line"><span class="lineno"> 4156</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 4157</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4158</span>                {</div>
<div class="line"><span class="lineno"> 4159</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] != 255)</div>
<div class="line"><span class="lineno"> 4160</span>                    {</div>
<div class="line"><span class="lineno"> 4161</span>                        <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remapstyles</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]];</div>
<div class="line"><span class="lineno"> 4162</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>].surfacelist[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>].numsurfaces++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 4163</span>                    }</div>
<div class="line"><span class="lineno"> 4164</span>                }</div>
<div class="line"><span class="lineno"> 4165</span>            }</div>
<div class="line"><span class="lineno"> 4166</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a514cf493a6e744f8717a00df794d84e0">data_lightstyleinfo</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lsidatapointer</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lsidatapointer</a> += mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>;</div>
<div class="line"><span class="lineno"> 4167</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a514cf493a6e744f8717a00df794d84e0">data_lightstyleinfo</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a>));</div>
<div class="line"><span class="lineno"> 4168</span>        }</div>
<div class="line"><span class="lineno"> 4169</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4170</span>        {</div>
<div class="line"><span class="lineno"> 4171</span>            <span class="comment">// LadyHavoc: empty submodel(lacrima.bsp has such a glitch)</span></div>
<div class="line"><span class="lineno"> 4172</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;warning: empty submodel *%i in %s\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4173</span>        }</div>
<div class="line"><span class="lineno"> 4174</span>        <span class="comment">//mod-&gt;brushq1.num_visleafs = bm-&gt;visleafs;</span></div>
<div class="line"><span class="lineno"> 4175</span> </div>
<div class="line"><span class="lineno"> 4176</span>        <span class="comment">// build a Bounding Interval Hierarchy for culling triangles in light rendering</span></div>
<div class="line"><span class="lineno"> 4177</span>        <a class="code hl_function" href="model__brush_8c.html#ac294c2bc06a02f8114eed73c8f71795f">Mod_MakeCollisionBIH</a>(mod, <span class="keyword">true</span>, &amp;mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a9682062b0e84b91a8768dde10c4ee688">render_bih</a>);</div>
<div class="line"><span class="lineno"> 4178</span> </div>
<div class="line"><span class="lineno"> 4179</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#ae0b65a206ef2c1bbdebf041ce37adfad">mod_q1bsp_polygoncollisions</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 4180</span>        {</div>
<div class="line"><span class="lineno"> 4181</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">collision_bih</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a9682062b0e84b91a8768dde10c4ee688">render_bih</a>;</div>
<div class="line"><span class="lineno"> 4182</span>            <span class="comment">// point traces and contents checks still use the bsp tree</span></div>
<div class="line"><span class="lineno"> 4183</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af986fe2f082429a18c3d36f957649e10">TraceLine</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 4184</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">TraceBox</a> = <a class="code hl_function" href="model__brush_8c.html#a29fecb522c6d449fb01d01f2b070e4d1">Mod_CollisionBIH_TraceBox</a>;</div>
<div class="line"><span class="lineno"> 4185</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a88de93ec53d5028ad75df7a08eb5005a">TraceBrush</a> = <a class="code hl_function" href="model__brush_8c.html#affbc4942202066560126b850810d2662">Mod_CollisionBIH_TraceBrush</a>;</div>
<div class="line"><span class="lineno"> 4186</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab12042d3586a8c32c85b226baf81d982">TraceLineAgainstSurfaces</a> = <a class="code hl_function" href="model__brush_8c.html#a6ef58f6e71ef23ea87faba4b069914f8">Mod_CollisionBIH_TraceLineAgainstSurfaces</a>;</div>
<div class="line"><span class="lineno"> 4187</span>        }</div>
<div class="line"><span class="lineno"> 4188</span> </div>
<div class="line"><span class="lineno"> 4189</span>        <span class="comment">// generate VBOs and other shared data before cloning submodels</span></div>
<div class="line"><span class="lineno"> 4190</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0)</div>
<div class="line"><span class="lineno"> 4191</span>        {</div>
<div class="line"><span class="lineno"> 4192</span>            <a class="code hl_function" href="model__shared_8c.html#a7c7a5f1ce32faf220d25380eb24bd1ad">Mod_BuildVBOs</a>();</div>
<div class="line"><span class="lineno"> 4193</span>            <a class="code hl_function" href="model__brush_8c.html#ae0ca5a4db682a6bc52e4844657336d50">Mod_Q1BSP_LoadMapBrushes</a>();</div>
<div class="line"><span class="lineno"> 4194</span>            <span class="comment">//Mod_Q1BSP_ProcessLightList();</span></div>
<div class="line"><span class="lineno"> 4195</span>        }</div>
<div class="line"><span class="lineno"> 4196</span>    }</div>
<div class="line"><span class="lineno"> 4197</span>    mod = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 4198</span> </div>
<div class="line"><span class="lineno"> 4199</span>    <span class="comment">// make the model surface list (used by shadowing/lighting)</span></div>
<div class="line"><span class="lineno"> 4200</span>    <a class="code hl_function" href="model__shared_8c.html#aa8c710db4d67bb0e0759c01235c827e7">Mod_MakeSortedSurfaces</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>);</div>
<div class="line"><span class="lineno"> 4201</span> </div>
<div class="line"><span class="lineno"> 4202</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Stats for q1bsp model \&quot;%s\&quot;: %i faces, %i nodes, %i leafs, %i visleafs, %i visleafportals, mesh: %i vertices, %i triangles, %i surfaces\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a80d9915c394c4ff052e777804cc6da63">num_portals</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>);</div>
<div class="line"><span class="lineno"> 4203</span>}</div>
<div class="ttc" id="abspfile_8h_html_a0ba6b017f99466f7767cbdcc1281a372"><div class="ttname"><a href="bspfile_8h.html#a0ba6b017f99466f7767cbdcc1281a372">LUMP_LIGHTING</a></div><div class="ttdeci">#define LUMP_LIGHTING</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00047">bspfile.h:47</a></div></div>
<div class="ttc" id="abspfile_8h_html_a0ba85e10b94481aa1a110cbb8899b33c"><div class="ttname"><a href="bspfile_8h.html#a0ba85e10b94481aa1a110cbb8899b33c">LUMP_EDGES</a></div><div class="ttdeci">#define LUMP_EDGES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00051">bspfile.h:51</a></div></div>
<div class="ttc" id="abspfile_8h_html_a2376f1526467796976bb68a30cf18c86"><div class="ttname"><a href="bspfile_8h.html#a2376f1526467796976bb68a30cf18c86">LUMP_SURFEDGES</a></div><div class="ttdeci">#define LUMP_SURFEDGES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00052">bspfile.h:52</a></div></div>
<div class="ttc" id="abspfile_8h_html_a34d91d251ccbceb42067fb4d00dfe9fd"><div class="ttname"><a href="bspfile_8h.html#a34d91d251ccbceb42067fb4d00dfe9fd">LUMP_LEAFS</a></div><div class="ttdeci">#define LUMP_LEAFS</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00049">bspfile.h:49</a></div></div>
<div class="ttc" id="abspfile_8h_html_a37a2e4b069b6d2c0ead1d0348b2c5a2b"><div class="ttname"><a href="bspfile_8h.html#a37a2e4b069b6d2c0ead1d0348b2c5a2b">LUMP_VERTEXES</a></div><div class="ttdeci">#define LUMP_VERTEXES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00042">bspfile.h:42</a></div></div>
<div class="ttc" id="abspfile_8h_html_a45596fa85ae42b4378f3f3c1724d0240"><div class="ttname"><a href="bspfile_8h.html#a45596fa85ae42b4378f3f3c1724d0240">LUMP_CLIPNODES</a></div><div class="ttdeci">#define LUMP_CLIPNODES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00048">bspfile.h:48</a></div></div>
<div class="ttc" id="abspfile_8h_html_a68012dbb3cbdb480ad1829f0104fb29c"><div class="ttname"><a href="bspfile_8h.html#a68012dbb3cbdb480ad1829f0104fb29c">HEADER_LUMPS</a></div><div class="ttdeci">#define HEADER_LUMPS</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00054">bspfile.h:54</a></div></div>
<div class="ttc" id="abspfile_8h_html_a77130f8fa05975a6ae58080837c21451"><div class="ttname"><a href="bspfile_8h.html#a77130f8fa05975a6ae58080837c21451">MAX_MAP_HULLS</a></div><div class="ttdeci">#define MAX_MAP_HULLS</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00024">bspfile.h:24</a></div></div>
<div class="ttc" id="abspfile_8h_html_a8402c8fdd2766810e28d05ea33e92d06"><div class="ttname"><a href="bspfile_8h.html#a8402c8fdd2766810e28d05ea33e92d06">LUMP_PLANES</a></div><div class="ttdeci">#define LUMP_PLANES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00040">bspfile.h:40</a></div></div>
<div class="ttc" id="abspfile_8h_html_a8f7617857fc31772bfcf0972d4fc73e4"><div class="ttname"><a href="bspfile_8h.html#a8f7617857fc31772bfcf0972d4fc73e4">LUMP_TEXINFO</a></div><div class="ttdeci">#define LUMP_TEXINFO</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00045">bspfile.h:45</a></div></div>
<div class="ttc" id="abspfile_8h_html_a93ecdc86f16c24631c0920d830bae54d"><div class="ttname"><a href="bspfile_8h.html#a93ecdc86f16c24631c0920d830bae54d">LUMP_MODELS</a></div><div class="ttdeci">#define LUMP_MODELS</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00053">bspfile.h:53</a></div></div>
<div class="ttc" id="abspfile_8h_html_aa1434bee0ef0a7c656cd5b6f4f863c81"><div class="ttname"><a href="bspfile_8h.html#aa1434bee0ef0a7c656cd5b6f4f863c81">LUMP_MARKSURFACES</a></div><div class="ttdeci">#define LUMP_MARKSURFACES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00050">bspfile.h:50</a></div></div>
<div class="ttc" id="abspfile_8h_html_aa6a915f110e76908302ba9028a3347a9"><div class="ttname"><a href="bspfile_8h.html#aa6a915f110e76908302ba9028a3347a9">LUMP_TEXTURES</a></div><div class="ttdeci">#define LUMP_TEXTURES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00041">bspfile.h:41</a></div></div>
<div class="ttc" id="abspfile_8h_html_aaeabefb642c4caf8840eb882fca0684d"><div class="ttname"><a href="bspfile_8h.html#aaeabefb642c4caf8840eb882fca0684d">LUMP_VISIBILITY</a></div><div class="ttdeci">#define LUMP_VISIBILITY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00043">bspfile.h:43</a></div></div>
<div class="ttc" id="abspfile_8h_html_ab74a16cba2218a9dfb1e465a21c2fe72"><div class="ttname"><a href="bspfile_8h.html#ab74a16cba2218a9dfb1e465a21c2fe72">LUMP_FACES</a></div><div class="ttdeci">#define LUMP_FACES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00046">bspfile.h:46</a></div></div>
<div class="ttc" id="abspfile_8h_html_af06fd778bb617ba7d641aba1fdcff70f"><div class="ttname"><a href="bspfile_8h.html#af06fd778bb617ba7d641aba1fdcff70f">LUMP_NODES</a></div><div class="ttdeci">#define LUMP_NODES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00044">bspfile.h:44</a></div></div>
<div class="ttc" id="abspfile_8h_html_af78b474026d21ee394064bae564d27de"><div class="ttname"><a href="bspfile_8h.html#af78b474026d21ee394064bae564d27de">LUMP_ENTITIES</a></div><div class="ttdeci">#define LUMP_ENTITIES</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00039">bspfile.h:39</a></div></div>
<div class="ttc" id="acl__main_8c_html_ab4b4e0f12a72d330ee0869bdf1b372cd"><div class="ttname"><a href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a></div><div class="ttdeci">client_static_t cls</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00114">cl_main.c:114</a></div></div>
<div class="ttc" id="aclient_8h_html_a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659"><div class="ttname"><a href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a></div><div class="ttdeci">@ ca_dedicated</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00531">client.h:531</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a629e75251957727378bcfbf706793904"><div class="ttname"><a href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a></div><div class="ttdeci">void MSG_InitReadBuffer(sizebuf_t *buf, unsigned char *data, int size)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00249">com_msg.c:249</a></div></div>
<div class="ttc" id="acommon_8h_html_a33218a7cf8dede33924c935a08801b6a"><div class="ttname"><a href="common_8h.html#a33218a7cf8dede33924c935a08801b6a">Com_BlockChecksum</a></div><div class="ttdeci">unsigned Com_BlockChecksum(void *buffer, int length)</div><div class="ttdef"><b>Definition</b> <a href="mdfour_8c_source.html#l00198">mdfour.c:198</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0208b298f4c65e680a58434efb699fe8"><div class="ttname"><a href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a></div><div class="ttdeci">GLuint GLuint GLintptr GLsizeiptr size</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="aglquake_8h_html_a9d8e5095d0454547c650ff9bde64f8e6"><div class="ttname"><a href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a></div><div class="ttdeci">GLuint GLuint GLintptr offset</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a0765492c0b40a0b68d17b590383e921b"><div class="ttname"><a href="model__brush_8c.html#a0765492c0b40a0b68d17b590383e921b">Mod_Q1BSP_LoadVertexes</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadVertexes(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02261">model_brush.c:2261</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a077fb94ca69306dbb3dabbd3708619f2"><div class="ttname"><a href="model__brush_8c.html#a077fb94ca69306dbb3dabbd3708619f2">Mod_BSP_LightPoint</a></div><div class="ttdeci">static void Mod_BSP_LightPoint(model_t *model, const vec3_t p, vec3_t ambientcolor, vec3_t diffusecolor, vec3_t diffusenormal)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01328">model_brush.c:1328</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a22f65cdf9d1f23789107d8b9079f3e9e"><div class="ttname"><a href="model__brush_8c.html#a22f65cdf9d1f23789107d8b9079f3e9e">Mod_Q1BSP_LoadTextures</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadTextures(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01634">model_brush.c:1634</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a235b8af89a030c6fb731267b0ef36e8e"><div class="ttname"><a href="model__brush_8c.html#a235b8af89a030c6fb731267b0ef36e8e">Mod_Q1BSP_SuperContentsFromNativeContents</a></div><div class="ttdeci">int Mod_Q1BSP_SuperContentsFromNativeContents(int nativecontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00628">model_brush.c:628</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a2d572bbce2922f623c010d7796895af4"><div class="ttname"><a href="model__brush_8c.html#a2d572bbce2922f623c010d7796895af4">Mod_Q1BSP_LoadLeafs</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadLeafs(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02980">model_brush.c:2980</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a428b4dff0ba51e5a660ca7d67259dbe7"><div class="ttname"><a href="model__brush_8c.html#a428b4dff0ba51e5a660ca7d67259dbe7">Mod_Q1BSP_LoadClipnodes</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadClipnodes(sizebuf_t *sb, hullinfo_t *hullinfo)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03095">model_brush.c:3095</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a4db47416ee4f951b1fa8fc15a15edba8"><div class="ttname"><a href="model__brush_8c.html#a4db47416ee4f951b1fa8fc15a15edba8">Mod_Q1BSP_LoadPlanes</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadPlanes(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03226">model_brush.c:3226</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a5a5b192b1222eacd1e23dfdeab66ab62"><div class="ttname"><a href="model__brush_8c.html#a5a5b192b1222eacd1e23dfdeab66ab62">Mod_Q1BSP_NativeContentsFromSuperContents</a></div><div class="ttdeci">int Mod_Q1BSP_NativeContentsFromSuperContents(int supercontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00648">model_brush.c:648</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a61becb86cbd82611878fc4b339b762cb"><div class="ttname"><a href="model__brush_8c.html#a61becb86cbd82611878fc4b339b762cb">Mod_Q1BSP_CheckWaterAlphaSupport</a></div><div class="ttdeci">static qbool Mod_Q1BSP_CheckWaterAlphaSupport(void)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03072">model_brush.c:3072</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a6941b1a6a1c452c624f6ed3f3eb23a5a"><div class="ttname"><a href="model__brush_8c.html#a6941b1a6a1c452c624f6ed3f3eb23a5a">Mod_Q1BSP_LoadTexinfo</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadTexinfo(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02362">model_brush.c:2362</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a6a74f1d6ae2f7904e073ae012c2a4b10"><div class="ttname"><a href="model__brush_8c.html#a6a74f1d6ae2f7904e073ae012c2a4b10">Mod_BSP_BoxTouchingLeafPVS</a></div><div class="ttdeci">static int Mod_BSP_BoxTouchingLeafPVS(model_t *model, const unsigned char *pvs, const vec3_t mins, const vec3_t maxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00321">model_brush.c:321</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a6ef4b992ae62b227039ae4839bc5293b"><div class="ttname"><a href="model__brush_8c.html#a6ef4b992ae62b227039ae4839bc5293b">Mod_Q1BSP_LoadLighting</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadLighting(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02096">model_brush.c:2096</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a6ef58f6e71ef23ea87faba4b069914f8"><div class="ttname"><a href="model__brush_8c.html#a6ef58f6e71ef23ea87faba4b069914f8">Mod_CollisionBIH_TraceLineAgainstSurfaces</a></div><div class="ttdeci">void Mod_CollisionBIH_TraceLineAgainstSurfaces(model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07190">model_brush.c:7190</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a72ec2cd29705ec14f030bd49ba9697a2"><div class="ttname"><a href="model__brush_8c.html#a72ec2cd29705ec14f030bd49ba9697a2">Mod_BSP_FatPVS</a></div><div class="ttdeci">static int Mod_BSP_FatPVS(model_t *model, const vec3_t org, vec_t radius, unsigned char *pvsbuffer, int pvsbufferlength, qbool merge)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03810">model_brush.c:3810</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a75693e4e70b5a19e3682f309ef9249e1"><div class="ttname"><a href="model__brush_8c.html#a75693e4e70b5a19e3682f309ef9249e1">Mod_Q1BSP_TraceLineAgainstSurfaces</a></div><div class="ttdeci">static void Mod_Q1BSP_TraceLineAgainstSurfaces(struct model_s *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01507">model_brush.c:1507</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a795ac415341adbbe4b7011e3bbcf0361"><div class="ttname"><a href="model__brush_8c.html#a795ac415341adbbe4b7011e3bbcf0361">Mod_Q1BSP_LoadEntities</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadEntities(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02248">model_brush.c:2248</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a819c6ddb997db6d6a89f43ff180c698e"><div class="ttname"><a href="model__brush_8c.html#a819c6ddb997db6d6a89f43ff180c698e">Mod_Q1BSP_RoundUpToHullSize</a></div><div class="ttdeci">static void Mod_Q1BSP_RoundUpToHullSize(model_t *cmodel, const vec3_t inmins, const vec3_t inmaxs, vec3_t outmins, vec3_t outmaxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03825">model_brush.c:3825</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a8de8e2031a8fb80452d8a3b9fedc159c"><div class="ttname"><a href="model__brush_8c.html#a8de8e2031a8fb80452d8a3b9fedc159c">Mod_BSP_FindBoxClusters</a></div><div class="ttdeci">static int Mod_BSP_FindBoxClusters(model_t *model, const vec3_t mins, const vec3_t maxs, int maxclusters, int *clusterlist)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00184">model_brush.c:184</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a92b73adc673d226987602c4e7e4a78f2"><div class="ttname"><a href="model__brush_8c.html#a92b73adc673d226987602c4e7e4a78f2">Mod_Q1BSP_TraceLine</a></div><div class="ttdeci">static void Mod_Q1BSP_TraceLine(struct model_s *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00892">model_brush.c:892</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a933e860910bead34039564417f55ff8c"><div class="ttname"><a href="model__brush_8c.html#a933e860910bead34039564417f55ff8c">Mod_Q1BSP_LoadFaces</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadFaces(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02560">model_brush.c:2560</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a944c6e714408a389b574c6051f38c274"><div class="ttname"><a href="model__brush_8c.html#a944c6e714408a389b574c6051f38c274">Mod_Q1BSP_TracePoint</a></div><div class="ttdeci">static void Mod_Q1BSP_TracePoint(struct model_s *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00875">model_brush.c:875</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a996f873f75319d130c4c2f689629affd"><div class="ttname"><a href="model__brush_8c.html#a996f873f75319d130c4c2f689629affd">Mod_BSP_FindNonSolidLocation</a></div><div class="ttdeci">static void Mod_BSP_FindNonSolidLocation(model_t *model, const vec3_t in, vec3_t out, float radius)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00596">model_brush.c:596</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a9b93d09230187cac696b484f0d6b57aa"><div class="ttname"><a href="model__brush_8c.html#a9b93d09230187cac696b484f0d6b57aa">Mod_Q1BSP_AssignNoShadowSkySurfaces</a></div><div class="ttdeci">static void Mod_Q1BSP_AssignNoShadowSkySurfaces(model_t *mod)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03249">model_brush.c:3249</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aa0a4fa58c97cfce8966a22c7fcec4285"><div class="ttname"><a href="model__brush_8c.html#aa0a4fa58c97cfce8966a22c7fcec4285">Mod_BSP_BoxTouchingPVS</a></div><div class="ttdeci">static int Mod_BSP_BoxTouchingPVS(model_t *model, const unsigned char *pvs, const vec3_t mins, const vec3_t maxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00250">model_brush.c:250</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aaa49f1f172b5050db2d36f5b23fd18fe"><div class="ttname"><a href="model__brush_8c.html#aaa49f1f172b5050db2d36f5b23fd18fe">Mod_Q1BSP_LoadSurfedges</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadSurfedges(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03211">model_brush.c:3211</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ab849011d1339ec57f744b5b3c32b544d"><div class="ttname"><a href="model__brush_8c.html#ab849011d1339ec57f744b5b3c32b544d">Mod_Q1BSP_LoadLeaffaces</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadLeaffaces(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03179">model_brush.c:3179</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_abdd48be44ee0cc68591e09d7c5193072"><div class="ttname"><a href="model__brush_8c.html#abdd48be44ee0cc68591e09d7c5193072">Mod_Q1BSP_LoadEdges</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadEdges(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02324">model_brush.c:2324</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_abf6cd7649cfa9db2c9b57f16a649d04f"><div class="ttname"><a href="model__brush_8c.html#abf6cd7649cfa9db2c9b57f16a649d04f">Mod_Q1BSP_LoadNodes</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadNodes(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02876">model_brush.c:2876</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ac37060768681021cb8f9a64e8fb9f8a3"><div class="ttname"><a href="model__brush_8c.html#ac37060768681021cb8f9a64e8fb9f8a3">Mod_Q1BSP_AmbientSoundLevelsForPoint</a></div><div class="ttdeci">static void Mod_Q1BSP_AmbientSoundLevelsForPoint(model_t *model, const vec3_t p, unsigned char *out, int outsize)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00165">model_brush.c:165</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ac5ff29218d7cd338d8aeee45fd9d1f3c"><div class="ttname"><a href="model__brush_8c.html#ac5ff29218d7cd338d8aeee45fd9d1f3c">Mod_BSP_BoxTouchingVisibleLeafs</a></div><div class="ttdeci">static int Mod_BSP_BoxTouchingVisibleLeafs(model_t *model, const unsigned char *visibleleafs, const vec3_t mins, const vec3_t maxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00392">model_brush.c:392</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ad32d2fdfda3d46539089b009decb174a"><div class="ttname"><a href="model__brush_8c.html#ad32d2fdfda3d46539089b009decb174a">Mod_Q1BSP_MakeHull0</a></div><div class="ttdeci">static void Mod_Q1BSP_MakeHull0(void)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03154">model_brush.c:3154</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ad3d233e4eedfdbda3d42b73d1b7309f4"><div class="ttname"><a href="model__brush_8c.html#ad3d233e4eedfdbda3d42b73d1b7309f4">Mod_Q1BSP_LoadVisibility</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadVisibility(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02180">model_brush.c:2180</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ad77e25ecefd355d59ad4519fd3b2d2a4"><div class="ttname"><a href="model__brush_8c.html#ad77e25ecefd355d59ad4519fd3b2d2a4">Mod_Q1BSP_TraceLineOfSight</a></div><div class="ttdeci">static qbool Mod_Q1BSP_TraceLineOfSight(struct model_s *model, const vec3_t start, const vec3_t end, const vec3_t acceptmins, const vec3_t acceptmaxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01177">model_brush.c:1177</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ae0ca5a4db682a6bc52e4844657336d50"><div class="ttname"><a href="model__brush_8c.html#ae0ca5a4db682a6bc52e4844657336d50">Mod_Q1BSP_LoadMapBrushes</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadMapBrushes(void)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03269">model_brush.c:3269</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_af063f8a4f957bf32a9c35ded26d58726"><div class="ttname"><a href="model__brush_8c.html#af063f8a4f957bf32a9c35ded26d58726">Mod_BSP_MakePortals</a></div><div class="ttdeci">static void Mod_BSP_MakePortals(void)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l03753">model_brush.c:3753</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_afb6036155682498abfc0c21a60887cbe"><div class="ttname"><a href="model__brush_8c.html#afb6036155682498abfc0c21a60887cbe">Mod_BSP_LoadSubmodels</a></div><div class="ttdeci">static void Mod_BSP_LoadSubmodels(sizebuf_t *sb, hullinfo_t *hullinfo)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02283">model_brush.c:2283</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_affde24be777755bcdcf524f0f4598e6d"><div class="ttname"><a href="model__brush_8c.html#affde24be777755bcdcf524f0f4598e6d">Mod_Q1BSP_TraceBox</a></div><div class="ttdeci">static void Mod_Q1BSP_TraceBox(struct model_s *model, const frameblend_t *frameblend, const skeleton_t *skeleton, trace_t *trace, const vec3_t start, const vec3_t boxmins, const vec3_t boxmaxs, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00953">model_brush.c:953</a></div></div>
<div class="ttc" id="amodel__shared_8h_html_ae8881adaf7dff7ff012ef751075434f4a9a2efede9647d965dd58e5edcaa971b4"><div class="ttname"><a href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4a9a2efede9647d965dd58e5edcaa971b4">mod_brushq1</a></div><div class="ttdeci">@ mod_brushq1</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00043">model_shared.h:43</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a008e65201d4481545ed89903a22f667a"><div class="ttname"><a href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a></div><div class="ttdeci">dp_FragColor r</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00375">shader_glsl.h:375</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a6722e47d64e69141af5cdf392fcf95eb"><div class="ttname"><a href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">client_static_t::state</a></div><div class="ttdeci">cactive_t state</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00569">client.h:569</a></div></div>
<div class="ttc" id="astructhull__t_html_a6d125fbfe4610653f319d2f1ff5b8957"><div class="ttname"><a href="structhull__t.html#a6d125fbfe4610653f319d2f1ff5b8957">hull_t::lastclipnode</a></div><div class="ttdeci">int lastclipnode</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00212">model_brush.h:212</a></div></div>
<div class="ttc" id="astructhullinfo__t_html"><div class="ttname"><a href="structhullinfo__t.html">hullinfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00056">bspfile.h:57</a></div></div>
<div class="ttc" id="astructmmodel__t_html_a4e94a3c952b8f030b8ea3a640f8765f4"><div class="ttname"><a href="structmmodel__t.html#a4e94a3c952b8f030b8ea3a640f8765f4">mmodel_t::firstface</a></div><div class="ttdeci">int firstface</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00068">bspfile.h:68</a></div></div>
<div class="ttc" id="astructmmodel__t_html_a4ef63cba10fc9bd47507d01580f3cac4"><div class="ttname"><a href="structmmodel__t.html#a4ef63cba10fc9bd47507d01580f3cac4">mmodel_t::numfaces</a></div><div class="ttdeci">int numfaces</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00068">bspfile.h:68</a></div></div>
<div class="ttc" id="astructmodel__brush__lightstyleinfo__t_html"><div class="ttname"><a href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00242">model_brush.h:243</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a561bd00bcb29326c59d33a5ab01299ba"><div class="ttname"><a href="structmodel__brush__t.html#a561bd00bcb29326c59d33a5ab01299ba">model_brush_t::skymasking</a></div><div class="ttdeci">qbool skymasking</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00264">model_brush.h:264</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a662be3860db75e6940ad5fb54a5c0b53"><div class="ttname"><a href="structmodel__brush__t.html#a662be3860db75e6940ad5fb54a5c0b53">model_brush_t::qw_md4sum2</a></div><div class="ttdeci">int qw_md4sum2</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00356">model_brush.h:356</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_acd2c4e7f74ff36091f55d3ae17e267ff"><div class="ttname"><a href="structmodel__brush__t.html#acd2c4e7f74ff36091f55d3ae17e267ff">model_brush_t::qw_md4sum</a></div><div class="ttdeci">int qw_md4sum</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00355">model_brush.h:355</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a1d833782cb0c0fd8cf934c8d1682c37f"><div class="ttname"><a href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">model_brushq1_t::data_compressedpvs</a></div><div class="ttdeci">unsigned char * data_compressedpvs</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00029">model_q1bsp.h:29</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a48618a707013d0f863f42940df3a8df7"><div class="ttname"><a href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">model_brushq1_t::num_lightstyles</a></div><div class="ttdeci">int num_lightstyles</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00036">model_q1bsp.h:36</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a514cf493a6e744f8717a00df794d84e0"><div class="ttname"><a href="structmodel__brushq1__t.html#a514cf493a6e744f8717a00df794d84e0">model_brushq1_t::data_lightstyleinfo</a></div><div class="ttdeci">model_brush_lightstyleinfo_t * data_lightstyleinfo</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00037">model_q1bsp.h:37</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a663ce8105fb244c9ec16617834f95160"><div class="ttname"><a href="structmodel__brushq1__t.html#a663ce8105fb244c9ec16617834f95160">model_brushq1_t::num_compressedpvs</a></div><div class="ttdeci">int num_compressedpvs</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00028">model_q1bsp.h:28</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_aaa6835fa4ffd7d6ffc13a8e39e3e5597"><div class="ttname"><a href="structmodel__brushq1__t.html#aaa6835fa4ffd7d6ffc13a8e39e3e5597">model_brushq1_t::numclipnodes</a></div><div class="ttdeci">int numclipnodes</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00023">model_q1bsp.h:23</a></div></div>
<div class="ttc" id="astructmodel__t_html_a9c3577006a252ce407c3b204a05be9e4"><div class="ttname"><a href="structmodel__t.html#a9c3577006a252ce407c3b204a05be9e4">model_t::numframes</a></div><div class="ttdeci">int numframes</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00447">model_shared.h:447</a></div></div>
<div class="ttc" id="astructmsurface__lightmapinfo__t_html_a1f27f7caebce48e4e6ef514cc7a011cb"><div class="ttname"><a href="structmsurface__lightmapinfo__t.html#a1f27f7caebce48e4e6ef514cc7a011cb">msurface_lightmapinfo_t::styles</a></div><div class="ttdeci">unsigned char styles[MAXLIGHTMAPS]</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00359">model_shared.h:359</a></div></div>
<div class="ttc" id="astructsizebuf__t_html"><div class="ttname"><a href="structsizebuf__t.html">sizebuf_t</a></div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00048">common.h:49</a></div></div>
<div class="ttc" id="azone_8h_html_addac2538e0cb7480500ef5876dba5ec3"><div class="ttname"><a href="zone_8h.html#addac2538e0cb7480500ef5876dba5ec3">Mem_AllocType</a></div><div class="ttdeci">#define Mem_AllocType(pool, type, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00093">zone.h:93</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03858">Mod_2PSB_Load()</a>, <a class="el" href="model__brush_8c_source.html#l03866">Mod_BSP2_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l03873">Mod_HLBSP_Load()</a>.</p>

</div>
</div>
<a id="a428b4dff0ba51e5a660ca7d67259dbe7" name="a428b4dff0ba51e5a660ca7d67259dbe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a428b4dff0ba51e5a660ca7d67259dbe7">&#9670;&#160;</a></span>Mod_Q1BSP_LoadClipnodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadClipnodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhullinfo__t.html">hullinfo_t</a> *&#160;</td>
          <td class="paramname"><em>hullinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03095">3095</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3096</span>{</div>
<div class="line"><span class="lineno"> 3097</span>    <a class="code hl_struct" href="structmclipnode__t.html">mclipnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 3098</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3099</span>    <a class="code hl_struct" href="structhull__t.html">hull_t</a>      *hull;</div>
<div class="line"><span class="lineno"> 3100</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? 12 : 8;</div>
<div class="line"><span class="lineno"> 3101</span> </div>
<div class="line"><span class="lineno"> 3102</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 3103</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadClipnodes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 3104</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 3105</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmclipnode__t.html">mclipnode_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 3106</span> </div>
<div class="line"><span class="lineno"> 3107</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aea99bc32bb1d50917bbf2f6c0603a4cd">clipnodes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 3108</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aaa6835fa4ffd7d6ffc13a8e39e3e5597">numclipnodes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 3109</span> </div>
<div class="line"><span class="lineno"> 3110</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a77130f8fa05975a6ae58080837c21451">MAX_MAP_HULLS</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3111</span>    {</div>
<div class="line"><span class="lineno"> 3112</span>        hull = &amp;<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3113</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#a4fa5d9ae1fcb1cba1ed6aa6c633b931f">clipnodes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 3114</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a> = 0;</div>
<div class="line"><span class="lineno"> 3115</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#a6d125fbfe4610653f319d2f1ff5b8957">lastclipnode</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>-1;</div>
<div class="line"><span class="lineno"> 3116</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#aaf09b1a8f8a1e520c029e09615817249">planes</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a>;</div>
<div class="line"><span class="lineno"> 3117</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#afe5dc4a30093015730678036d79809ad">clip_mins</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>-&gt;hullsizes[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0][0];</div>
<div class="line"><span class="lineno"> 3118</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#afe5dc4a30093015730678036d79809ad">clip_mins</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>-&gt;hullsizes[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0][1];</div>
<div class="line"><span class="lineno"> 3119</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#afe5dc4a30093015730678036d79809ad">clip_mins</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>-&gt;hullsizes[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0][2];</div>
<div class="line"><span class="lineno"> 3120</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#aa21927a9c967d5749a411481f775d852">clip_maxs</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>-&gt;hullsizes[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1][0];</div>
<div class="line"><span class="lineno"> 3121</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#aa21927a9c967d5749a411481f775d852">clip_maxs</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>-&gt;hullsizes[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1][1];</div>
<div class="line"><span class="lineno"> 3122</span>        hull-&gt;<a class="code hl_variable" href="structhull__t.html#aa21927a9c967d5749a411481f775d852">clip_maxs</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullinfo</a>-&gt;hullsizes[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1][2];</div>
<div class="line"><span class="lineno"> 3123</span>        <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(hull-&gt;<a class="code hl_variable" href="structhull__t.html#aa21927a9c967d5749a411481f775d852">clip_maxs</a>, hull-&gt;<a class="code hl_variable" href="structhull__t.html#afe5dc4a30093015730678036d79809ad">clip_mins</a>, hull-&gt;<a class="code hl_variable" href="structhull__t.html#a250b24db35da48a4a5ee3b4c61de7313">clip_size</a>);</div>
<div class="line"><span class="lineno"> 3124</span>    }</div>
<div class="line"><span class="lineno"> 3125</span> </div>
<div class="line"><span class="lineno"> 3126</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 3127</span>    {</div>
<div class="line"><span class="lineno"> 3128</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;planenum = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3129</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;planenum &lt; 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;planenum &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>)</div>
<div class="line"><span class="lineno"> 3130</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;%s: Corrupt clipping hull(out of range planenum)&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 3131</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a>)</div>
<div class="line"><span class="lineno"> 3132</span>        {</div>
<div class="line"><span class="lineno"> 3133</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[0] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3134</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[1] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3135</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[0] &gt;= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 3136</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;%s: Corrupt clipping hull (invalid child index)&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 3137</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[1] &gt;= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 3138</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;%s: Corrupt clipping hull (invalid child index)&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 3139</span>        }</div>
<div class="line"><span class="lineno"> 3140</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3141</span>        {</div>
<div class="line"><span class="lineno"> 3142</span>            <span class="comment">// LadyHavoc: this code supports arguire qbsp&#39;s broken clipnodes indices (more than 32768 clipnodes), values above count are assumed to be contents values</span></div>
<div class="line"><span class="lineno"> 3143</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[0] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3144</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[1] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3145</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[0] &gt;= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 3146</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[0] -= 65536;</div>
<div class="line"><span class="lineno"> 3147</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[1] &gt;= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 3148</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[1] -= 65536;</div>
<div class="line"><span class="lineno"> 3149</span>        }</div>
<div class="line"><span class="lineno"> 3150</span>    }</div>
<div class="line"><span class="lineno"> 3151</span>}</div>
<div class="ttc" id="acom__msg_8c_html_aa7a9ec4cc694b7bb97ff7d87cd772ffb"><div class="ttname"><a href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a></div><div class="ttdeci">int MSG_ReadLittleShort(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00263">com_msg.c:263</a></div></div>
<div class="ttc" id="astructhull__t_html_a250b24db35da48a4a5ee3b4c61de7313"><div class="ttname"><a href="structhull__t.html#a250b24db35da48a4a5ee3b4c61de7313">hull_t::clip_size</a></div><div class="ttdeci">vec3_t clip_size</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00215">model_brush.h:215</a></div></div>
<div class="ttc" id="astructhull__t_html_a4fa5d9ae1fcb1cba1ed6aa6c633b931f"><div class="ttname"><a href="structhull__t.html#a4fa5d9ae1fcb1cba1ed6aa6c633b931f">hull_t::clipnodes</a></div><div class="ttdeci">mclipnode_t * clipnodes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00209">model_brush.h:209</a></div></div>
<div class="ttc" id="astructhull__t_html_aa21927a9c967d5749a411481f775d852"><div class="ttname"><a href="structhull__t.html#aa21927a9c967d5749a411481f775d852">hull_t::clip_maxs</a></div><div class="ttdeci">vec3_t clip_maxs</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00214">model_brush.h:214</a></div></div>
<div class="ttc" id="astructhull__t_html_aaf09b1a8f8a1e520c029e09615817249"><div class="ttname"><a href="structhull__t.html#aaf09b1a8f8a1e520c029e09615817249">hull_t::planes</a></div><div class="ttdeci">mplane_t * planes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00210">model_brush.h:210</a></div></div>
<div class="ttc" id="astructhull__t_html_afe5dc4a30093015730678036d79809ad"><div class="ttname"><a href="structhull__t.html#afe5dc4a30093015730678036d79809ad">hull_t::clip_mins</a></div><div class="ttdeci">vec3_t clip_mins</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00213">model_brush.h:213</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_adad6fe5c0779834f84c6ede152eb3d78"><div class="ttname"><a href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">model_brush_t::data_planes</a></div><div class="ttdeci">mplane_t * data_planes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00280">model_brush.h:280</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_ade5b712668448cb03160ca4072cdab54"><div class="ttname"><a href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">model_brush_t::num_planes</a></div><div class="ttdeci">int num_planes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00279">model_brush.h:279</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_aea99bc32bb1d50917bbf2f6c0603a4cd"><div class="ttname"><a href="structmodel__brushq1__t.html#aea99bc32bb1d50917bbf2f6c0603a4cd">model_brushq1_t::clipnodes</a></div><div class="ttdeci">mclipnode_t * clipnodes</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00024">model_q1bsp.h:24</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="abdd48be44ee0cc68591e09d7c5193072" name="abdd48be44ee0cc68591e09d7c5193072"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdd48be44ee0cc68591e09d7c5193072">&#9670;&#160;</a></span>Mod_Q1BSP_LoadEdges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadEdges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02324">2324</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2325</span>{</div>
<div class="line"><span class="lineno"> 2326</span>    <a class="code hl_struct" href="structmedge__t.html">medge_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2327</span>    <span class="keywordtype">int</span>     <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2328</span>    <span class="keywordtype">int</span>     <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? 8 : 4;</div>
<div class="line"><span class="lineno"> 2329</span> </div>
<div class="line"><span class="lineno"> 2330</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 2331</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadEdges: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2332</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 2333</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmedge__t.html">medge_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 2334</span> </div>
<div class="line"><span class="lineno"> 2335</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#ae388b30d9e7e28adb638d3c2339f66e0">edges</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2336</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a521e8a63f407cffdc0373095d284b845">numedges</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2337</span> </div>
<div class="line"><span class="lineno"> 2338</span>    <span class="keywordflow">for</span> ( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 2339</span>    {</div>
<div class="line"><span class="lineno"> 2340</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a>)</div>
<div class="line"><span class="lineno"> 2341</span>        {</div>
<div class="line"><span class="lineno"> 2342</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0] = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2343</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1] = (<span class="keywordtype">unsigned</span> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2344</span>        }</div>
<div class="line"><span class="lineno"> 2345</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2346</span>        {</div>
<div class="line"><span class="lineno"> 2347</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2348</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2349</span>        }</div>
<div class="line"><span class="lineno"> 2350</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0] &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a> || (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1] &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a>)</div>
<div class="line"><span class="lineno"> 2351</span>        {</div>
<div class="line"><span class="lineno"> 2352</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadEdges: %s has invalid vertex indices in edge %i (vertices %i %i &gt;= numvertices %i)\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1], <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a>);</div>
<div class="line"><span class="lineno"> 2353</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a>)</div>
<div class="line"><span class="lineno"> 2354</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadEdges: %s has edges but no vertexes, cannot fix\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2355</span>                </div>
<div class="line"><span class="lineno"> 2356</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0] = 0;</div>
<div class="line"><span class="lineno"> 2357</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1] = 0;</div>
<div class="line"><span class="lineno"> 2358</span>        }</div>
<div class="line"><span class="lineno"> 2359</span>    }</div>
<div class="line"><span class="lineno"> 2360</span>}</div>
<div class="ttc" id="astructmedge__t_html"><div class="ttname"><a href="structmedge__t.html">medge_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00143">model_brush.h:144</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a521e8a63f407cffdc0373095d284b845"><div class="ttname"><a href="structmodel__brushq1__t.html#a521e8a63f407cffdc0373095d284b845">model_brushq1_t::numedges</a></div><div class="ttdeci">int numedges</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00014">model_q1bsp.h:14</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a676d83f3f4bdedf774fd8b2d52f34946"><div class="ttname"><a href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">model_brushq1_t::numvertexes</a></div><div class="ttdeci">int numvertexes</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00011">model_q1bsp.h:11</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_ae388b30d9e7e28adb638d3c2339f66e0"><div class="ttname"><a href="structmodel__brushq1__t.html#ae388b30d9e7e28adb638d3c2339f66e0">model_brushq1_t::edges</a></div><div class="ttdeci">medge_t * edges</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00015">model_q1bsp.h:15</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a795ac415341adbbe4b7011e3bbcf0361" name="a795ac415341adbbe4b7011e3bbcf0361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795ac415341adbbe4b7011e3bbcf0361">&#9670;&#160;</a></span>Mod_Q1BSP_LoadEntities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadEntities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02248">2248</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2249</span>{</div>
<div class="line"><span class="lineno"> 2250</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2251</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize)</div>
<div class="line"><span class="lineno"> 2252</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2253</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize + 1);</div>
<div class="line"><span class="lineno"> 2254</span>    <a class="code hl_function" href="com__msg_8c.html#a4dad1f08fe43f599ea024f527edac678">MSG_ReadBytes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a>);</div>
<div class="line"><span class="lineno"> 2255</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize] = 0;</div>
<div class="line"><span class="lineno"> 2256</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a>)</div>
<div class="line"><span class="lineno"> 2257</span>        <a class="code hl_function" href="model__brush_8c.html#ab04ada66289fec52a498d6320993e4fb">Mod_Q1BSP_ParseWadsFromEntityLump</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a>);</div>
<div class="line"><span class="lineno"> 2258</span>}</div>
<div class="ttc" id="acom__msg_8c_html_a4dad1f08fe43f599ea024f527edac678"><div class="ttname"><a href="com__msg_8c.html#a4dad1f08fe43f599ea024f527edac678">MSG_ReadBytes</a></div><div class="ttdeci">size_t MSG_ReadBytes(sizebuf_t *sb, size_t numbytes, unsigned char *out)</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00364">com_msg.c:364</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ab04ada66289fec52a498d6320993e4fb"><div class="ttname"><a href="model__brush_8c.html#ab04ada66289fec52a498d6320993e4fb">Mod_Q1BSP_ParseWadsFromEntityLump</a></div><div class="ttdeci">static void Mod_Q1BSP_ParseWadsFromEntityLump(const char *data)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l02192">model_brush.c:2192</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a962a79e3c0eaf5b85f182d9b3fa93688"><div class="ttname"><a href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">model_brush_t::entities</a></div><div class="ttdeci">char * entities</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00266">model_brush.h:266</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a933e860910bead34039564417f55ff8c" name="a933e860910bead34039564417f55ff8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933e860910bead34039564417f55ff8c">&#9670;&#160;</a></span>Mod_Q1BSP_LoadFaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadFaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02560">2560</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2561</span>{</div>
<div class="line"><span class="lineno"> 2562</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno"> 2563</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>, planenum, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smax</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmax</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a>, numedges, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>, lightmapsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallightmapsamples</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a>;</div>
<div class="line"><span class="lineno"> 2564</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">val</a>;</div>
<div class="line"><span class="lineno"> 2565</span>    <a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *lightmaptexture, *deluxemaptexture;</div>
<div class="line"><span class="lineno"> 2566</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 2567</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? 28 : 20;</div>
<div class="line"><span class="lineno"> 2568</span> </div>
<div class="line"><span class="lineno"> 2569</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 2570</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadFaces: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2571</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 2572</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> = (<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a>));</div>
<div class="line"><span class="lineno"> 2573</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ec5ea2163e9a5b2528edd4d3c0fd9c1">data_surfaces_lightmapinfo</a> = (<a class="code hl_struct" href="structmsurface__lightmapinfo__t.html">msurface_lightmapinfo_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmsurface__lightmapinfo__t.html">msurface_lightmapinfo_t</a>));</div>
<div class="line"><span class="lineno"> 2574</span> </div>
<div class="line"><span class="lineno"> 2575</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2576</span> </div>
<div class="line"><span class="lineno"> 2577</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aca69bc0d1a00ed0f6ab32f3e73bd424b">firstrender</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2578</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">lightmapupdateflags</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>));</div>
<div class="line"><span class="lineno"> 2579</span> </div>
<div class="line"><span class="lineno"> 2580</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a> = 0;</div>
<div class="line"><span class="lineno"> 2581</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a> = 0;</div>
<div class="line"><span class="lineno"> 2582</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++)</div>
<div class="line"><span class="lineno"> 2583</span>    {</div>
<div class="line"><span class="lineno"> 2584</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a>)</div>
<div class="line"><span class="lineno"> 2585</span>            numedges = <a class="code hl_function" href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> + 12);</div>
<div class="line"><span class="lineno"> 2586</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2587</span>            numedges = <a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> + 8);</div>
<div class="line"><span class="lineno"> 2588</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a> += numedges;</div>
<div class="line"><span class="lineno"> 2589</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a> += numedges - 2;</div>
<div class="line"><span class="lineno"> 2590</span>    }</div>
<div class="line"><span class="lineno"> 2591</span> </div>
<div class="line"><span class="lineno"> 2592</span>    <a class="code hl_function" href="model__shared_8c.html#a455c3cfb0b7e57f8e4dbe4ee0e8fd37e">Mod_AllocSurfMesh</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2593</span> </div>
<div class="line"><span class="lineno"> 2594</span>    lightmaptexture = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2595</span>    deluxemaptexture = <a class="code hl_variable" href="gl__rmain_8c.html#a86492b7e60c357ab15bbc786c1015024">r_texture_blanknormalmap</a>;</div>
<div class="line"><span class="lineno"> 2596</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a> = 0;</div>
<div class="line"><span class="lineno"> 2597</span>    lightmapsize = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(256, <a class="code hl_variable" href="model__brush_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a06a669057f01a0d02c34aa0ebc781a54">maxtexturesize_2d</a>);</div>
<div class="line"><span class="lineno"> 2598</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallightmapsamples</a> = 0;</div>
<div class="line"><span class="lineno"> 2599</span> </div>
<div class="line"><span class="lineno"> 2600</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a> = 0;</div>
<div class="line"><span class="lineno"> 2601</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a> = 0;</div>
<div class="line"><span class="lineno"> 2602</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>++)</div>
<div class="line"><span class="lineno"> 2603</span>    {</div>
<div class="line"><span class="lineno"> 2604</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ec5ea2163e9a5b2528edd4d3c0fd9c1">data_surfaces_lightmapinfo</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>;</div>
<div class="line"><span class="lineno"> 2605</span>        <span class="comment">// the struct on disk is the same in BSP29 (Q1), BSP30 (HL1), and IBSP38 (Q2)</span></div>
<div class="line"><span class="lineno"> 2606</span>        planenum = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) : (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2607</span>        <span class="comment">/*side = */</span><a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) : (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2608</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2609</span>        numedges = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) : (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2610</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>) : (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2611</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2612</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2613</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2614</span> </div>
<div class="line"><span class="lineno"> 2615</span>        <span class="comment">// FIXME: validate edges, texinfo, etc?</span></div>
<div class="line"><span class="lineno"> 2616</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a> &gt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a> || (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) numedges &gt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a> || (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a> + (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) numedges &gt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a>)</div>
<div class="line"><span class="lineno"> 2617</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadFaces: invalid edge range (firstedge %i, numedges %i, model edges %i)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a>, numedges, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a>);</div>
<div class="line"><span class="lineno"> 2618</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a> &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a>)</div>
<div class="line"><span class="lineno"> 2619</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadFaces: invalid texinfo index %i(model has %i texinfos)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a>);</div>
<div class="line"><span class="lineno"> 2620</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) planenum &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>)</div>
<div class="line"><span class="lineno"> 2621</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadFaces: invalid plane index %i (model has %i planes)&quot;</span>, planenum, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>);</div>
<div class="line"><span class="lineno"> 2622</span> </div>
<div class="line"><span class="lineno"> 2623</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a>;</div>
<div class="line"><span class="lineno"> 2624</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;textureindex;</div>
<div class="line"><span class="lineno"> 2625</span> </div>
<div class="line"><span class="lineno"> 2626</span>        <span class="comment">// Q2BSP doesn&#39;t use lightmaps on sky or warped surfaces (water), but still has a lightofs of 0</span></div>
<div class="line"><span class="lineno"> 2627</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> == 0 &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;q2flags &amp; (<a class="code hl_define" href="model__q2bsp_8h.html#aa2b469e83a492c9244dd29df1148a0fb">Q2SURF_SKY</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a8dcd5446e450bcc2e45b2f90b0b085c9">Q2SURF_WARP</a>)))</div>
<div class="line"><span class="lineno"> 2628</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> = -1;</div>
<div class="line"><span class="lineno"> 2629</span> </div>
<div class="line"><span class="lineno"> 2630</span>        <span class="comment">//surface-&gt;flags = surface-&gt;texture-&gt;flags;</span></div>
<div class="line"><span class="lineno"> 2631</span>        <span class="comment">//if (LittleShort(in-&gt;side))</span></div>
<div class="line"><span class="lineno"> 2632</span>        <span class="comment">//  surface-&gt;flags |= SURF_PLANEBACK;</span></div>
<div class="line"><span class="lineno"> 2633</span>        <span class="comment">//surface-&gt;plane = loadmodel-&gt;brush.data_planes + planenum;</span></div>
<div class="line"><span class="lineno"> 2634</span> </div>
<div class="line"><span class="lineno"> 2635</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a>;</div>
<div class="line"><span class="lineno"> 2636</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices = numedges;</div>
<div class="line"><span class="lineno"> 2637</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a>;</div>
<div class="line"><span class="lineno"> 2638</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles = numedges - 2;</div>
<div class="line"><span class="lineno"> 2639</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a> += numedges;</div>
<div class="line"><span class="lineno"> 2640</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a> += numedges - 2;</div>
<div class="line"><span class="lineno"> 2641</span> </div>
<div class="line"><span class="lineno"> 2642</span>        <span class="comment">// convert edges back to a normal polygon</span></div>
<div class="line"><span class="lineno"> 2643</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2644</span>        {</div>
<div class="line"><span class="lineno"> 2645</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lindex</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aeac46ea79001b7f0f00a45b53985d688">surfedges</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 2646</span>            <span class="keywordtype">float</span> s, t;</div>
<div class="line"><span class="lineno"> 2647</span>            <span class="comment">// note: the q1bsp format does not allow a 0 surfedge (it would have no negative counterpart)</span></div>
<div class="line"><span class="lineno"> 2648</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lindex</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 2649</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a0f37e90f1862c9db1de9293604fcbf64">vertexes</a>[<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#ae388b30d9e7e28adb638d3c2339f66e0">edges</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lindex</a>].<a class="code hl_variable" href="structmedge__t.html#a8aaba45c4b322d6308f95dda7b78c288">v</a>[0]].<a class="code hl_variable" href="structmvertex__t.html#adc6a2391b1f975b9c814f8899e94a7f0">position</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3);</div>
<div class="line"><span class="lineno"> 2650</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2651</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a0f37e90f1862c9db1de9293604fcbf64">vertexes</a>[<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#ae388b30d9e7e28adb638d3c2339f66e0">edges</a>[-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lindex</a>].<a class="code hl_variable" href="structmedge__t.html#a8aaba45c4b322d6308f95dda7b78c288">v</a>[1]].<a class="code hl_variable" href="structmvertex__t.html#adc6a2391b1f975b9c814f8899e94a7f0">position</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3);</div>
<div class="line"><span class="lineno"> 2652</span>            s = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][3];</div>
<div class="line"><span class="lineno"> 2653</span>            t = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][3];</div>
<div class="line"><span class="lineno"> 2654</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 0] = s / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;width;</div>
<div class="line"><span class="lineno"> 2655</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = t / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;height;</div>
<div class="line"><span class="lineno"> 2656</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 0] = 0;</div>
<div class="line"><span class="lineno"> 2657</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = 0;</div>
<div class="line"><span class="lineno"> 2658</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aa554d38b12c33f5c8903d189d5872496">data_lightmapoffsets</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><span class="lineno"> 2659</span>        }</div>
<div class="line"><span class="lineno"> 2660</span> </div>
<div class="line"><span class="lineno"> 2661</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2662</span>        {</div>
<div class="line"><span class="lineno"> 2663</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 0] = 0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 2664</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 1] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 2665</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 2] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 2666</span>        }</div>
<div class="line"><span class="lineno"> 2667</span> </div>
<div class="line"><span class="lineno"> 2668</span>        <span class="comment">// compile additional data about the surface geometry</span></div>
<div class="line"><span class="lineno"> 2669</span>        <a class="code hl_function" href="model__shared_8c.html#a37407d4a42c1e522117279e58e7f25db">Mod_BuildNormals</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle), <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a>, <a class="code hl_variable" href="gl__rmain_8c.html#a37faadec2e376d05a51a598c303faee8">r_smoothnormals_areaweighting</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != 0);</div>
<div class="line"><span class="lineno"> 2670</span>        <a class="code hl_function" href="model__shared_8c.html#aa4c8e5f23a372b474dbf2344bd1af35d">Mod_BuildTextureVectorsFromNormals</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle), <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a5955263e1adbb8dedcfedf7caba77971">data_svector3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a8e5cfd0075e30165db1a60a468201937">data_tvector3f</a>, <a class="code hl_variable" href="gl__rmain_8c.html#a37faadec2e376d05a51a598c303faee8">r_smoothnormals_areaweighting</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != 0);</div>
<div class="line"><span class="lineno"> 2671</span>        <a class="code hl_function" href="mathlib_8c.html#a55d3557bbf3992473d57a8f16ac0ae6e">BoxFromPoints</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex));</div>
<div class="line"><span class="lineno"> 2672</span> </div>
<div class="line"><span class="lineno"> 2673</span>        <span class="comment">// generate surface extents information</span></div>
<div class="line"><span class="lineno"> 2674</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[0] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][3];</div>
<div class="line"><span class="lineno"> 2675</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[1] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][3];</div>
<div class="line"><span class="lineno"> 2676</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2677</span>        {</div>
<div class="line"><span class="lineno"> 2678</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2679</span>            {</div>
<div class="line"><span class="lineno"> 2680</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">val</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>][3];</div>
<div class="line"><span class="lineno"> 2681</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">val</a>);</div>
<div class="line"><span class="lineno"> 2682</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">val</a>);</div>
<div class="line"><span class="lineno"> 2683</span>            }</div>
<div class="line"><span class="lineno"> 2684</span>        }</div>
<div class="line"><span class="lineno"> 2685</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2686</span>        {</div>
<div class="line"><span class="lineno"> 2687</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] / 16.0) * 16;</div>
<div class="line"><span class="lineno"> 2688</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ceil</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] / 16.0) * 16 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 2689</span>        }</div>
<div class="line"><span class="lineno"> 2690</span> </div>
<div class="line"><span class="lineno"> 2691</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 2692</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 2693</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 2694</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 2695</span> </div>
<div class="line"><span class="lineno"> 2696</span>        <span class="comment">// lighting info</span></div>
<div class="line"><span class="lineno"> 2697</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmaptexture = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2698</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;deluxemaptexture = <a class="code hl_variable" href="gl__rmain_8c.html#a86492b7e60c357ab15bbc786c1015024">r_texture_blanknormalmap</a>;</div>
<div class="line"><span class="lineno"> 2699</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> == -1)</div>
<div class="line"><span class="lineno"> 2700</span>        {</div>
<div class="line"><span class="lineno"> 2701</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2702</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno"> 2703</span>            <span class="comment">// give non-lightmapped water a 1x white lightmap</span></div>
<div class="line"><span class="lineno"> 2704</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab7aebfce8659a90f3060c820ccc7c3c8">isq2bsp</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;name[0] == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;q1flags &amp; <a class="code hl_define" href="bspfile_8h.html#a1f19afba837340ece1548dee6c80cebf">TEX_SPECIAL</a>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> &lt;= 256 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> &lt;= 256)</div>
<div class="line"><span class="lineno"> 2705</span>            {</div>
<div class="line"><span class="lineno"> 2706</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> * 3);</div>
<div class="line"><span class="lineno"> 2707</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[0] = 0;</div>
<div class="line"><span class="lineno"> 2708</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples, 128, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> * 3);</div>
<div class="line"><span class="lineno"> 2709</span>            }</div>
<div class="line"><span class="lineno"> 2710</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2711</span>        }</div>
<div class="line"><span class="lineno"> 2712</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a> || <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab7aebfce8659a90f3060c820ccc7c3c8">isq2bsp</a>) <span class="comment">// LadyHavoc: HalfLife map (bsp version 30)</span></div>
<div class="line"><span class="lineno"> 2713</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a>;</div>
<div class="line"><span class="lineno"> 2714</span>        <span class="keywordflow">else</span> <span class="comment">// LadyHavoc: white lighting (bsp version 29)</span></div>
<div class="line"><span class="lineno"> 2715</span>        {</div>
<div class="line"><span class="lineno"> 2716</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> * 3);</div>
<div class="line"><span class="lineno"> 2717</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a6eb8619cf07b367ebdda88224ca1ab78">nmaplightdata</a>)</div>
<div class="line"><span class="lineno"> 2718</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;nmapsamples = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a6eb8619cf07b367ebdda88224ca1ab78">nmaplightdata</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> * 3);</div>
<div class="line"><span class="lineno"> 2719</span>        }</div>
<div class="line"><span class="lineno"> 2720</span> </div>
<div class="line"><span class="lineno"> 2721</span>        <span class="comment">// check if we should apply a lightmap to this</span></div>
<div class="line"><span class="lineno"> 2722</span>        <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;q1flags &amp; <a class="code hl_define" href="bspfile_8h.html#a1f19afba837340ece1548dee6c80cebf">TEX_SPECIAL</a>) || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples)</div>
<div class="line"><span class="lineno"> 2723</span>        {</div>
<div class="line"><span class="lineno"> 2724</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> &gt; 256 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> &gt; 256)</div>
<div class="line"><span class="lineno"> 2725</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Bad surface extents&quot;</span>);</div>
<div class="line"><span class="lineno"> 2726</span> </div>
<div class="line"><span class="lineno"> 2727</span>            <span class="keywordflow">if</span> (lightmapsize &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>)</div>
<div class="line"><span class="lineno"> 2728</span>                lightmapsize = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>;</div>
<div class="line"><span class="lineno"> 2729</span>            <span class="keywordflow">if</span> (lightmapsize &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>)</div>
<div class="line"><span class="lineno"> 2730</span>                lightmapsize = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>;</div>
<div class="line"><span class="lineno"> 2731</span> </div>
<div class="line"><span class="lineno"> 2732</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallightmapsamples</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>;</div>
<div class="line"><span class="lineno"> 2733</span> </div>
<div class="line"><span class="lineno"> 2734</span>            <span class="comment">// force lightmap upload on first time seeing the surface</span></div>
<div class="line"><span class="lineno"> 2735</span>            <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2736</span>            <span class="comment">// additionally this is used by the later code to see if a</span></div>
<div class="line"><span class="lineno"> 2737</span>            <span class="comment">// lightmap is needed on this surface (rather than duplicating the</span></div>
<div class="line"><span class="lineno"> 2738</span>            <span class="comment">// logic above)</span></div>
<div class="line"><span class="lineno"> 2739</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">lightmapupdateflags</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2740</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a2fd867d2779bb6e6b6f7348fc47c5948">lit</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2741</span>        }</div>
<div class="line"><span class="lineno"> 2742</span>    }</div>
<div class="line"><span class="lineno"> 2743</span> </div>
<div class="line"><span class="lineno"> 2744</span>    <span class="comment">// small maps (such as ammo boxes especially) don&#39;t need big lightmap</span></div>
<div class="line"><span class="lineno"> 2745</span>    <span class="comment">// textures, so this code tries to guess a good size based on</span></div>
<div class="line"><span class="lineno"> 2746</span>    <span class="comment">// totallightmapsamples (size of the lightmaps lump basically), as well as</span></div>
<div class="line"><span class="lineno"> 2747</span>    <span class="comment">// trying to max out the size if there is a lot of lightmap data to store</span></div>
<div class="line"><span class="lineno"> 2748</span>    <span class="comment">// additionally, never choose a lightmapsize that is smaller than the</span></div>
<div class="line"><span class="lineno"> 2749</span>    <span class="comment">// largest surface encountered (as it would fail)</span></div>
<div class="line"><span class="lineno"> 2750</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = lightmapsize;</div>
<div class="line"><span class="lineno"> 2751</span>    <span class="keywordflow">for</span> (lightmapsize = 64; (lightmapsize &lt; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp; (lightmapsize &lt; <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(128, <a class="code hl_variable" href="model__brush_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a06a669057f01a0d02c34aa0ebc781a54">maxtexturesize_2d</a>)) &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallightmapsamples</a> &gt; lightmapsize*lightmapsize); lightmapsize*=2)</div>
<div class="line"><span class="lineno"> 2752</span>        ;</div>
<div class="line"><span class="lineno"> 2753</span> </div>
<div class="line"><span class="lineno"> 2754</span>    <span class="comment">// now that we&#39;ve decided the lightmap texture size, we can do the rest</span></div>
<div class="line"><span class="lineno"> 2755</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 2756</span>    {</div>
<div class="line"><span class="lineno"> 2757</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stainmapsize</a> = 0;</div>
<div class="line"><span class="lineno"> 2758</span>        <a class="code hl_struct" href="structmod__alloclightmap__state__t.html">mod_alloclightmap_state_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>;</div>
<div class="line"><span class="lineno"> 2759</span> </div>
<div class="line"><span class="lineno"> 2760</span>        <a class="code hl_function" href="model__shared_8c.html#a27be267e2cf2666a18e976df520e625b">Mod_AllocLightmap_Init</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, lightmapsize, lightmapsize);</div>
<div class="line"><span class="lineno"> 2761</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>++)</div>
<div class="line"><span class="lineno"> 2762</span>        {</div>
<div class="line"><span class="lineno"> 2763</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iu</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iv</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a> = 0;</div>
<div class="line"><span class="lineno"> 2764</span>            <span class="keywordtype">float</span> u, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ubase</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vbase</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uscale</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vscale</a>;</div>
<div class="line"><span class="lineno"> 2765</span> </div>
<div class="line"><span class="lineno"> 2766</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">lightmapupdateflags</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>])</div>
<div class="line"><span class="lineno"> 2767</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2768</span> </div>
<div class="line"><span class="lineno"> 2769</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 2770</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 2771</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 2772</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 2773</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stainmapsize</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> * 3;</div>
<div class="line"><span class="lineno"> 2774</span> </div>
<div class="line"><span class="lineno"> 2775</span>            <span class="keywordflow">if</span> (!lightmaptexture || !<a class="code hl_function" href="model__shared_8c.html#a835cf8e835979953163e64c7eea95186">Mod_AllocLightmap_Block</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a>))</div>
<div class="line"><span class="lineno"> 2776</span>            {</div>
<div class="line"><span class="lineno"> 2777</span>                <span class="comment">// allocate a texture pool if we need it</span></div>
<div class="line"><span class="lineno"> 2778</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 2779</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>();</div>
<div class="line"><span class="lineno"> 2780</span>                <span class="comment">// could not find room, make a new lightmap</span></div>
<div class="line"><span class="lineno"> 2781</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a> + 1;</div>
<div class="line"><span class="lineno"> 2782</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a> = (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> **)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> * <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a>[0]));</div>
<div class="line"><span class="lineno"> 2783</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a> = (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> **)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> * <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a>[0]));</div>
<div class="line"><span class="lineno"> 2784</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>] = lightmaptexture = <a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;lightmap%i&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>), lightmapsize, lightmapsize, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a621c5bf8f9aad67354954c08a2603e05">TEXF_ALLOWUPDATES</a>, -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2785</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a6eb8619cf07b367ebdda88224ca1ab78">nmaplightdata</a>)</div>
<div class="line"><span class="lineno"> 2786</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>] = deluxemaptexture = <a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;deluxemap%i&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>), lightmapsize, lightmapsize, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a621c5bf8f9aad67354954c08a2603e05">TEXF_ALLOWUPDATES</a>, -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2787</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>++;</div>
<div class="line"><span class="lineno"> 2788</span>                <a class="code hl_function" href="model__shared_8c.html#a1e063ce17b7be8462ffafa0f8f8ff8b1">Mod_AllocLightmap_Reset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>);</div>
<div class="line"><span class="lineno"> 2789</span>                <a class="code hl_function" href="model__shared_8c.html#a835cf8e835979953163e64c7eea95186">Mod_AllocLightmap_Block</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a>);</div>
<div class="line"><span class="lineno"> 2790</span>            }</div>
<div class="line"><span class="lineno"> 2791</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmaptexture = lightmaptexture;</div>
<div class="line"><span class="lineno"> 2792</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;deluxemaptexture = deluxemaptexture;</div>
<div class="line"><span class="lineno"> 2793</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;lightmaporigin[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a>;</div>
<div class="line"><span class="lineno"> 2794</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;lightmaporigin[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a>;</div>
<div class="line"><span class="lineno"> 2795</span> </div>
<div class="line"><span class="lineno"> 2796</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uscale</a> = 1.0f / (<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)lightmapsize;</div>
<div class="line"><span class="lineno"> 2797</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vscale</a> = 1.0f / (<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)lightmapsize;</div>
<div class="line"><span class="lineno"> 2798</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ubase</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uscale</a>;</div>
<div class="line"><span class="lineno"> 2799</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vbase</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vscale</a>;</div>
<div class="line"><span class="lineno"> 2800</span> </div>
<div class="line"><span class="lineno"> 2801</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2802</span>            {</div>
<div class="line"><span class="lineno"> 2803</span>                u = ((<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][3]) + 8 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[0]) * (1.0 / 16.0);</div>
<div class="line"><span class="lineno"> 2804</span>                <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = ((<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][3]) + 8 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[1]) * (1.0 / 16.0);</div>
<div class="line"><span class="lineno"> 2805</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 0] = u * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uscale</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ubase</a>;</div>
<div class="line"><span class="lineno"> 2806</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vscale</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vbase</a>;</div>
<div class="line"><span class="lineno"> 2807</span>                <span class="comment">// LadyHavoc: calc lightmap data offset for vertex lighting to use</span></div>
<div class="line"><span class="lineno"> 2808</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iu</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) u;</div>
<div class="line"><span class="lineno"> 2809</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iv</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><span class="lineno"> 2810</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aa554d38b12c33f5c8903d189d5872496">data_lightmapoffsets</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iv</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmax</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> + <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iu</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smax</a>)) * 3;</div>
<div class="line"><span class="lineno"> 2811</span>            }</div>
<div class="line"><span class="lineno"> 2812</span>        }</div>
<div class="line"><span class="lineno"> 2813</span> </div>
<div class="line"><span class="lineno"> 2814</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#a8cb002aca17ed260e455a09b30057617">cl_stainmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2815</span>        {</div>
<div class="line"><span class="lineno"> 2816</span>            <span class="comment">// allocate stainmaps for permanent marks on walls and clear white</span></div>
<div class="line"><span class="lineno"> 2817</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *stainsamples = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2818</span>            stainsamples = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stainmapsize</a>);</div>
<div class="line"><span class="lineno"> 2819</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(stainsamples, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stainmapsize</a>);</div>
<div class="line"><span class="lineno"> 2820</span>            <span class="comment">// assign pointers</span></div>
<div class="line"><span class="lineno"> 2821</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>++)</div>
<div class="line"><span class="lineno"> 2822</span>            {</div>
<div class="line"><span class="lineno"> 2823</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">lightmapupdateflags</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>])</div>
<div class="line"><span class="lineno"> 2824</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2825</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 2826</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 2827</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;stainsamples = stainsamples;</div>
<div class="line"><span class="lineno"> 2828</span>                stainsamples += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> * 3;</div>
<div class="line"><span class="lineno"> 2829</span>            }</div>
<div class="line"><span class="lineno"> 2830</span>        }</div>
<div class="line"><span class="lineno"> 2831</span>    }</div>
<div class="line"><span class="lineno"> 2832</span> </div>
<div class="line"><span class="lineno"> 2833</span>    <span class="comment">// generate ushort elements array if possible</span></div>
<div class="line"><span class="lineno"> 2834</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>)</div>
<div class="line"><span class="lineno"> 2835</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>*3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2836</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 2837</span>}</div>
<div class="ttc" id="abspfile_8h_html_a1f19afba837340ece1548dee6c80cebf"><div class="ttname"><a href="bspfile_8h.html#a1f19afba837340ece1548dee6c80cebf">TEX_SPECIAL</a></div><div class="ttdeci">#define TEX_SPECIAL</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00271">bspfile.h:271</a></div></div>
<div class="ttc" id="acl__main_8c_html_a8cb002aca17ed260e455a09b30057617"><div class="ttname"><a href="cl__main_8c.html#a8cb002aca17ed260e455a09b30057617">cl_stainmaps</a></div><div class="ttdeci">cvar_t cl_stainmaps</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00073">cl_main.c:73</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a562c9519cec6edc084492ba2bf856063"><div class="ttname"><a href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a></div><div class="ttdeci">short BuffLittleShort(const unsigned char *buffer)</div><div class="ttdoc">Extract a little endian 16bit short from the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00076">com_msg.c:76</a></div></div>
<div class="ttc" id="acom__msg_8c_html_a9375c7a4c8e2a5785acd5a71078378bb"><div class="ttname"><a href="com__msg_8c.html#a9375c7a4c8e2a5785acd5a71078378bb">BuffLittleLong</a></div><div class="ttdeci">int BuffLittleLong(const unsigned char *buffer)</div><div class="ttdoc">Extract a little endian 32bit int from the given buffer.</div><div class="ttdef"><b>Definition</b> <a href="com__msg_8c_source.html#l00071">com_msg.c:71</a></div></div>
<div class="ttc" id="acommon_8c_html_a4a8220fa88226bf9cf39b12a051a20d7"><div class="ttname"><a href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a></div><div class="ttdeci">char * va(char *buf, size_t buflen, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00972">common.c:972</a></div></div>
<div class="ttc" id="acommon_8h_html_ae4d87498f0f9c299877ed57d9c47aede"><div class="ttname"><a href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a></div><div class="ttdeci">#define MSG_ReadByte(sb)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00188">common.h:188</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a86492b7e60c357ab15bbc786c1015024"><div class="ttname"><a href="gl__rmain_8c.html#a86492b7e60c357ab15bbc786c1015024">r_texture_blanknormalmap</a></div><div class="ttdeci">rtexture_t * r_texture_blanknormalmap</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00272">gl_rmain.c:272</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ab60a02391841e828427f5cc24cb5dd29"><div class="ttname"><a href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a></div><div class="ttdeci">rtexturepool_t * R_AllocTexturePool(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00389">gl_textures.c:389</a></div></div>
<div class="ttc" id="agl__textures_8c_html_afe6f33ec05da1bce9cd3a847610e7384"><div class="ttname"><a href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a></div><div class="ttdeci">rtexture_t * R_LoadTexture2D(rtexturepool_t *rtexturepool, const char *identifier, int width, int height, const unsigned char *data, textype_t textype, int flags, int miplevel, const unsigned int *palette)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01352">gl_textures.c:1352</a></div></div>
<div class="ttc" id="amathlib_8h_html_a553641b2aac0b2a7c43f9f74f8333fd5"><div class="ttname"><a href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a></div><div class="ttdeci">#define bound(min, num, max)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00034">mathlib.h:34</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ada114ab9ac14d4164089d1652a502f2c"><div class="ttname"><a href="model__brush_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a></div><div class="ttdeci">cvar_t gl_max_lightmapsize</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00028">gl_textures.c:28</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a8dcd5446e450bcc2e45b2f90b0b085c9"><div class="ttname"><a href="model__q2bsp_8h.html#a8dcd5446e450bcc2e45b2f90b0b085c9">Q2SURF_WARP</a></div><div class="ttdeci">#define Q2SURF_WARP</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00099">model_q2bsp.h:99</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_aa2b469e83a492c9244dd29df1148a0fb"><div class="ttname"><a href="model__q2bsp_8h.html#aa2b469e83a492c9244dd29df1148a0fb">Q2SURF_SKY</a></div><div class="ttdeci">#define Q2SURF_SKY</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00098">model_q2bsp.h:98</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a1e063ce17b7be8462ffafa0f8f8ff8b1"><div class="ttname"><a href="model__shared_8c.html#a1e063ce17b7be8462ffafa0f8f8ff8b1">Mod_AllocLightmap_Reset</a></div><div class="ttdeci">void Mod_AllocLightmap_Reset(mod_alloclightmap_state_t *state)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l03464">model_shared.c:3464</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a27be267e2cf2666a18e976df520e625b"><div class="ttname"><a href="model__shared_8c.html#a27be267e2cf2666a18e976df520e625b">Mod_AllocLightmap_Init</a></div><div class="ttdeci">void Mod_AllocLightmap_Init(mod_alloclightmap_state_t *state, mempool_t *mempool, int width, int height)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l03449">model_shared.c:3449</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a455c3cfb0b7e57f8e4dbe4ee0e8fd37e"><div class="ttname"><a href="model__shared_8c.html#a455c3cfb0b7e57f8e4dbe4ee0e8fd37e">Mod_AllocSurfMesh</a></div><div class="ttdeci">void Mod_AllocSurfMesh(mempool_t *mempool, int numvertices, int numtriangles, qbool lightmapoffsets, qbool vertexcolors)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l00973">model_shared.c:973</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a835cf8e835979953163e64c7eea95186"><div class="ttname"><a href="model__shared_8c.html#a835cf8e835979953163e64c7eea95186">Mod_AllocLightmap_Block</a></div><div class="ttdeci">qbool Mod_AllocLightmap_Block(mod_alloclightmap_state_t *state, int blockwidth, int blockheight, int *outx, int *outy)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l03482">model_shared.c:3482</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a621c5bf8f9aad67354954c08a2603e05"><div class="ttname"><a href="r__textures_8h.html#a621c5bf8f9aad67354954c08a2603e05">TEXF_ALLOWUPDATES</a></div><div class="ttdeci">#define TEXF_ALLOWUPDATES</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00031">r_textures.h:31</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7ebf18782aefc1f1ff9fc5cb169e2dbb"><div class="ttname"><a href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a></div><div class="ttdeci">#define TEXF_FORCELINEAR</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00019">r_textures.h:19</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a></div><div class="ttdeci">@ TEXTYPE_BGRA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00053">r_textures.h:53</a></div></div>
<div class="ttc" id="astructmedge__t_html_a8aaba45c4b322d6308f95dda7b78c288"><div class="ttname"><a href="structmedge__t.html#a8aaba45c4b322d6308f95dda7b78c288">medge_t::v</a></div><div class="ttdeci">unsigned int v[2]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00145">model_brush.h:145</a></div></div>
<div class="ttc" id="astructmod__alloclightmap__state__t_html"><div class="ttname"><a href="structmod__alloclightmap__state__t.html">mod_alloclightmap_state_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00673">model_shared.h:674</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_ab7aebfce8659a90f3060c820ccc7c3c8"><div class="ttname"><a href="structmodel__brush__t.html#ab7aebfce8659a90f3060c820ccc7c3c8">model_brush_t::isq2bsp</a></div><div class="ttdeci">qbool isq2bsp</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00260">model_brush.h:260</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a0f37e90f1862c9db1de9293604fcbf64"><div class="ttname"><a href="structmodel__brushq1__t.html#a0f37e90f1862c9db1de9293604fcbf64">model_brushq1_t::vertexes</a></div><div class="ttdeci">mvertex_t * vertexes</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00012">model_q1bsp.h:12</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a66c2d707bc47f544a31c80fa74ea8516"><div class="ttname"><a href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">model_brushq1_t::lightmapupdateflags</a></div><div class="ttdeci">unsigned char * lightmapupdateflags</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00040">model_q1bsp.h:40</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a6eb8619cf07b367ebdda88224ca1ab78"><div class="ttname"><a href="structmodel__brushq1__t.html#a6eb8619cf07b367ebdda88224ca1ab78">model_brushq1_t::nmaplightdata</a></div><div class="ttdeci">unsigned char * nmaplightdata</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00033">model_q1bsp.h:33</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_a7dc0d9a8f5a3ecd19284c6d9f900b2cc"><div class="ttname"><a href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">model_brushq1_t::numsurfedges</a></div><div class="ttdeci">int numsurfedges</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00020">model_q1bsp.h:20</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_aca69bc0d1a00ed0f6ab32f3e73bd424b"><div class="ttname"><a href="structmodel__brushq1__t.html#aca69bc0d1a00ed0f6ab32f3e73bd424b">model_brushq1_t::firstrender</a></div><div class="ttdeci">qbool firstrender</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00041">model_q1bsp.h:41</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_adc62b470ffd61285037e59be30276fb1"><div class="ttname"><a href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">model_brushq1_t::texinfo</a></div><div class="ttdeci">struct mtexinfo_s * texinfo</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00018">model_q1bsp.h:18</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_aeac46ea79001b7f0f00a45b53985d688"><div class="ttname"><a href="structmodel__brushq1__t.html#aeac46ea79001b7f0f00a45b53985d688">model_brushq1_t::surfedges</a></div><div class="ttdeci">int * surfedges</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00021">model_q1bsp.h:21</a></div></div>
<div class="ttc" id="astructmodel__brushq1__t_html_aff0576ea4099788abf85b48997a7dc0c"><div class="ttname"><a href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">model_brushq1_t::numtexinfo</a></div><div class="ttdeci">int numtexinfo</div><div class="ttdef"><b>Definition</b> <a href="model__q1bsp_8h_source.html#l00017">model_q1bsp.h:17</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a4c41214172127c935805b23659258e9f"><div class="ttname"><a href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">model_brushq3_t::data_lightmaps</a></div><div class="ttdeci">rtexture_t ** data_lightmaps</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00339">model_q3bsp.h:339</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a9a6c3e1fc72135d6dc9581c9bd7f1f88"><div class="ttname"><a href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">model_brushq3_t::num_mergedlightmaps</a></div><div class="ttdeci">int num_mergedlightmaps</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00334">model_q3bsp.h:334</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_aab1b30ab9ae770bf3d403eae5ce0aa01"><div class="ttname"><a href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">model_brushq3_t::data_deluxemaps</a></div><div class="ttdeci">rtexture_t ** data_deluxemaps</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00340">model_q3bsp.h:340</a></div></div>
<div class="ttc" id="astructmodel__t_html_a2fd867d2779bb6e6b6f7348fc47c5948"><div class="ttname"><a href="structmodel__t.html#a2fd867d2779bb6e6b6f7348fc47c5948">model_t::lit</a></div><div class="ttdeci">qbool lit</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00548">model_shared.h:548</a></div></div>
<div class="ttc" id="astructmodel__t_html_a4ec5ea2163e9a5b2528edd4d3c0fd9c1"><div class="ttname"><a href="structmodel__t.html#a4ec5ea2163e9a5b2528edd4d3c0fd9c1">model_t::data_surfaces_lightmapinfo</a></div><div class="ttdeci">msurface_lightmapinfo_t * data_surfaces_lightmapinfo</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00501">model_shared.h:501</a></div></div>
<div class="ttc" id="astructmodel__t_html_a5301cd5482c8a21efabe003b490fe1b7"><div class="ttname"><a href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">model_t::brushq3</a></div><div class="ttdeci">model_brushq3_t brushq3</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00543">model_shared.h:543</a></div></div>
<div class="ttc" id="astructmsurface__lightmapinfo__t_html"><div class="ttname"><a href="structmsurface__lightmapinfo__t.html">msurface_lightmapinfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00354">model_shared.h:355</a></div></div>
<div class="ttc" id="astructmvertex__t_html_adc6a2391b1f975b9c814f8899e94a7f0"><div class="ttname"><a href="structmvertex__t.html#adc6a2391b1f975b9c814f8899e94a7f0">mvertex_t::position</a></div><div class="ttdeci">vec3_t position</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00043">model_brush.h:43</a></div></div>
<div class="ttc" id="astructrtexture__t_html"><div class="ttname"><a href="structrtexture__t.html">rtexture_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00107">r_textures.h:108</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_aa554d38b12c33f5c8903d189d5872496"><div class="ttname"><a href="structsurfmesh__t.html#aa554d38b12c33f5c8903d189d5872496">surfmesh_t::data_lightmapoffsets</a></div><div class="ttdeci">int * data_lightmapoffsets</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00103">model_shared.h:103</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_af8f455c3a1913bb8ba78da107dd8c7d8"><div class="ttname"><a href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">surfmesh_t::data_texcoordlightmap2f</a></div><div class="ttdeci">float * data_texcoordlightmap2f</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00099">model_shared.h:99</a></div></div>
<div class="ttc" id="astructviddef__t_html_a06a669057f01a0d02c34aa0ebc781a54"><div class="ttname"><a href="structviddef__t.html#a06a669057f01a0d02c34aa0ebc781a54">viddef_t::maxtexturesize_2d</a></div><div class="ttdeci">unsigned int maxtexturesize_2d</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00090">vid.h:90</a></div></div>
<div class="ttc" id="avid_8h_html_aa5f05f6f860c65da5834d6ff3d5655af"><div class="ttname"><a href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a></div><div class="ttdeci">viddef_t vid</div><div class="ttdef"><b>Definition</b> <a href="vid__shared_8c_source.html#l00064">vid_shared.c:64</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="ab849011d1339ec57f744b5b3c32b544d" name="ab849011d1339ec57f744b5b3c32b544d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab849011d1339ec57f744b5b3c32b544d">&#9670;&#160;</a></span>Mod_Q1BSP_LoadLeaffaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadLeaffaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03179">3179</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3180</span>{</div>
<div class="line"><span class="lineno"> 3181</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 3182</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? 4 : 2;</div>
<div class="line"><span class="lineno"> 3183</span> </div>
<div class="line"><span class="lineno"> 3184</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 3185</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadLeaffaces: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 3186</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 3187</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><span class="lineno"> 3188</span> </div>
<div class="line"><span class="lineno"> 3189</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a>)</div>
<div class="line"><span class="lineno"> 3190</span>    {</div>
<div class="line"><span class="lineno"> 3191</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3192</span>        {</div>
<div class="line"><span class="lineno"> 3193</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3194</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j &lt; 0 || j &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>)</div>
<div class="line"><span class="lineno"> 3195</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadLeaffaces: bad surface number&quot;</span>);</div>
<div class="line"><span class="lineno"> 3196</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 3197</span>        }</div>
<div class="line"><span class="lineno"> 3198</span>    }</div>
<div class="line"><span class="lineno"> 3199</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3200</span>    {</div>
<div class="line"><span class="lineno"> 3201</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3202</span>        {</div>
<div class="line"><span class="lineno"> 3203</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>) <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3204</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>)</div>
<div class="line"><span class="lineno"> 3205</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadLeaffaces: bad surface number&quot;</span>);</div>
<div class="line"><span class="lineno"> 3206</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 3207</span>        }</div>
<div class="line"><span class="lineno"> 3208</span>    }</div>
<div class="line"><span class="lineno"> 3209</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a2d572bbce2922f623c010d7796895af4" name="a2d572bbce2922f623c010d7796895af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d572bbce2922f623c010d7796895af4">&#9670;&#160;</a></span>Mod_Q1BSP_LoadLeafs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadLeafs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02980">2980</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2981</span>{</div>
<div class="line"><span class="lineno"> 2982</span>    <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2983</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, p, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a>;</div>
<div class="line"><span class="lineno"> 2984</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa01eebc58454df076313c2e68b9a7d30">isbsp2rmqe</a> ? 32 : (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? 44 : 28);</div>
<div class="line"><span class="lineno"> 2985</span> </div>
<div class="line"><span class="lineno"> 2986</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 2987</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadLeafs: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2988</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 2989</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 2990</span> </div>
<div class="line"><span class="lineno"> 2991</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2992</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2993</span>    <span class="comment">// get visleafs from the submodel data</span></div>
<div class="line"><span class="lineno"> 2994</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">submodels</a>[0].<a class="code hl_variable" href="structmmodel__t.html#ac5c8f5a7ad5678c3c9c31e750326db29">visleafs</a>;</div>
<div class="line"><span class="lineno"> 2995</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> = (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>+7)&gt;&gt;3;</div>
<div class="line"><span class="lineno"> 2996</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>);</div>
<div class="line"><span class="lineno"> 2997</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a>, 0xFF, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>);</div>
<div class="line"><span class="lineno"> 2998</span> </div>
<div class="line"><span class="lineno"> 2999</span>    <span class="comment">// FIXME: this function could really benefit from some error checking</span></div>
<div class="line"><span class="lineno"> 3000</span>    <span class="keywordflow">for</span> ( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 3001</span>    {</div>
<div class="line"><span class="lineno"> 3002</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;contents = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3003</span> </div>
<div class="line"><span class="lineno"> 3004</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1;</div>
<div class="line"><span class="lineno"> 3005</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>)</div>
<div class="line"><span class="lineno"> 3006</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex = -1;</div>
<div class="line"><span class="lineno"> 3007</span> </div>
<div class="line"><span class="lineno"> 3008</span>        p = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3009</span>        <span class="comment">// ignore visofs errors on leaf 0 (solid)</span></div>
<div class="line"><span class="lineno"> 3010</span>        <span class="keywordflow">if</span> (p &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex &gt;= 0)</div>
<div class="line"><span class="lineno"> 3011</span>        {</div>
<div class="line"><span class="lineno"> 3012</span>            <span class="keywordflow">if</span> (p &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a663ce8105fb244c9ec16617834f95160">num_compressedpvs</a>)</div>
<div class="line"><span class="lineno"> 3013</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadLeafs: invalid visofs\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3014</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3015</span>                <a class="code hl_function" href="model__brush_8c.html#a2dd554f148b59d0128e9eb593aefb3b3">Mod_BSP_DecompressVis</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a> + p, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a> + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a663ce8105fb244c9ec16617834f95160">num_compressedpvs</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex + 1) * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>);</div>
<div class="line"><span class="lineno"> 3016</span>        }</div>
<div class="line"><span class="lineno"> 3017</span> </div>
<div class="line"><span class="lineno"> 3018</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa01eebc58454df076313c2e68b9a7d30">isbsp2rmqe</a>)</div>
<div class="line"><span class="lineno"> 3019</span>        {</div>
<div class="line"><span class="lineno"> 3020</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3021</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3022</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3023</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3024</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3025</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3026</span>    </div>
<div class="line"><span class="lineno"> 3027</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3028</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3029</span>        }</div>
<div class="line"><span class="lineno"> 3030</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a>)</div>
<div class="line"><span class="lineno"> 3031</span>        {</div>
<div class="line"><span class="lineno"> 3032</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3033</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3034</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3035</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3036</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3037</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3038</span>    </div>
<div class="line"><span class="lineno"> 3039</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3040</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3041</span>        }</div>
<div class="line"><span class="lineno"> 3042</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3043</span>        {</div>
<div class="line"><span class="lineno"> 3044</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3045</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3046</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3047</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3048</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3049</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3050</span>    </div>
<div class="line"><span class="lineno"> 3051</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3052</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a>  = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3053</span>        }</div>
<div class="line"><span class="lineno"> 3054</span> </div>
<div class="line"><span class="lineno"> 3055</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces &lt;= loadmodel-&gt;</a>brush.num_leafsurfaces)</div>
<div class="line"><span class="lineno"> 3056</span>        {</div>
<div class="line"><span class="lineno"> 3057</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstleafsurface = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a>;</div>
<div class="line"><span class="lineno"> 3058</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numleafsurfaces = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a>;</div>
<div class="line"><span class="lineno"> 3059</span>        }</div>
<div class="line"><span class="lineno"> 3060</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3061</span>        {</div>
<div class="line"><span class="lineno"> 3062</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadLeafs: invalid leafsurface range %i:%i outside range %i:%i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a>, 0, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a>);</div>
<div class="line"><span class="lineno"> 3063</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstleafsurface = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3064</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numleafsurfaces = 0;</div>
<div class="line"><span class="lineno"> 3065</span>        }</div>
<div class="line"><span class="lineno"> 3066</span> </div>
<div class="line"><span class="lineno"> 3067</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 4;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 3068</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;ambient_sound_level[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3069</span>    }</div>
<div class="line"><span class="lineno"> 3070</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a2dd554f148b59d0128e9eb593aefb3b3"><div class="ttname"><a href="model__brush_8c.html#a2dd554f148b59d0128e9eb593aefb3b3">Mod_BSP_DecompressVis</a></div><div class="ttdeci">static void Mod_BSP_DecompressVis(const unsigned char *in, const unsigned char *inend, unsigned char *out, unsigned char *outend)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01527">model_brush.c:1527</a></div></div>
<div class="ttc" id="astructmmodel__t_html_ac5c8f5a7ad5678c3c9c31e750326db29"><div class="ttname"><a href="structmmodel__t.html#ac5c8f5a7ad5678c3c9c31e750326db29">mmodel_t::visleafs</a></div><div class="ttdeci">int visleafs</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00067">bspfile.h:67</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a6ef4b992ae62b227039ae4839bc5293b" name="a6ef4b992ae62b227039ae4839bc5293b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef4b992ae62b227039ae4839bc5293b">&#9670;&#160;</a></span>Mod_Q1BSP_LoadLighting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadLighting </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02096">2096</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2097</span>{</div>
<div class="line"><span class="lineno"> 2098</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2099</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *in, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>;</div>
<div class="line"><span class="lineno"> 2100</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 2101</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dlitfilename</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 2102</span>    <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> filesize;</div>
<div class="line"><span class="lineno"> 2103</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a>) <span class="comment">// LadyHavoc: load the colored lighting data straight</span></div>
<div class="line"><span class="lineno"> 2104</span>    {</div>
<div class="line"><span class="lineno"> 2105</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize);</div>
<div class="line"><span class="lineno"> 2106</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2107</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;&gt;= 1;</div>
<div class="line"><span class="lineno"> 2108</span>    }</div>
<div class="line"><span class="lineno"> 2109</span>    <span class="keywordflow">else</span> <span class="comment">// LadyHavoc: bsp version 29 (normal white lighting)</span></div>
<div class="line"><span class="lineno"> 2110</span>    {</div>
<div class="line"><span class="lineno"> 2111</span>        <span class="comment">// LadyHavoc: hope is not lost yet, check for a .lit file to load</span></div>
<div class="line"><span class="lineno"> 2112</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>));</div>
<div class="line"><span class="lineno"> 2113</span>        <a class="code hl_function" href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>));</div>
<div class="line"><span class="lineno"> 2114</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dlitfilename</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dlitfilename</a>));</div>
<div class="line"><span class="lineno"> 2115</span>        <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>, <span class="stringliteral">&quot;.lit&quot;</span>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>));</div>
<div class="line"><span class="lineno"> 2116</span>        <a class="code hl_define" href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dlitfilename</a>, <span class="stringliteral">&quot;.dlit&quot;</span>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dlitfilename</a>));</div>
<div class="line"><span class="lineno"> 2117</span>        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*) <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">false</span>, &amp;filesize);</div>
<div class="line"><span class="lineno"> 2118</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><span class="lineno"> 2119</span>        {</div>
<div class="line"><span class="lineno"> 2120</span>            <span class="keywordflow">if</span> (filesize == (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)(8 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize * 3) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[0] == <span class="charliteral">&#39;Q&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[1] == <span class="charliteral">&#39;L&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[2] == <span class="charliteral">&#39;I&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[3] == <span class="charliteral">&#39;T&#39;</span>)</div>
<div class="line"><span class="lineno"> 2121</span>            {</div>
<div class="line"><span class="lineno"> 2122</span>                <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(((<span class="keywordtype">int</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)[1]);</div>
<div class="line"><span class="lineno"> 2123</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 1)</div>
<div class="line"><span class="lineno"> 2124</span>                {</div>
<div class="line"><span class="lineno"> 2125</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2126</span>                        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;loaded %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">litfilename</a>);</div>
<div class="line"><span class="lineno"> 2127</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, filesize - 8);</div>
<div class="line"><span class="lineno"> 2128</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + 8, filesize - 8);</div>
<div class="line"><span class="lineno"> 2129</span>                    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><span class="lineno"> 2130</span>                    <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*) <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dlitfilename</a>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">false</span>, &amp;filesize);</div>
<div class="line"><span class="lineno"> 2131</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><span class="lineno"> 2132</span>                    {</div>
<div class="line"><span class="lineno"> 2133</span>                        <span class="keywordflow">if</span> (filesize == (<a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a>)(8 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize * 3) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[0] == <span class="charliteral">&#39;Q&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[1] == <span class="charliteral">&#39;L&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[2] == <span class="charliteral">&#39;I&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>[3] == <span class="charliteral">&#39;T&#39;</span>)</div>
<div class="line"><span class="lineno"> 2134</span>                        {</div>
<div class="line"><span class="lineno"> 2135</span>                            <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(((<span class="keywordtype">int</span> *)<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)[1]);</div>
<div class="line"><span class="lineno"> 2136</span>                            <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 1)</div>
<div class="line"><span class="lineno"> 2137</span>                            {</div>
<div class="line"><span class="lineno"> 2138</span>                                <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2139</span>                                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;loaded %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dlitfilename</a>);</div>
<div class="line"><span class="lineno"> 2140</span>                                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a6eb8619cf07b367ebdda88224ca1ab78">nmaplightdata</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, filesize - 8);</div>
<div class="line"><span class="lineno"> 2141</span>                                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a6eb8619cf07b367ebdda88224ca1ab78">nmaplightdata</a>, <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> + 8, filesize - 8);</div>
<div class="line"><span class="lineno"> 2142</span>                                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab45856a2ba7c570b8500aae6dcf6a491">deluxemapping_modelspace</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2143</span>                                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2144</span>                            }</div>
<div class="line"><span class="lineno"> 2145</span>                        }</div>
<div class="line"><span class="lineno"> 2146</span>                        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><span class="lineno"> 2147</span>                        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2148</span>                    }</div>
<div class="line"><span class="lineno"> 2149</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2150</span>                }</div>
<div class="line"><span class="lineno"> 2151</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2152</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Unknown .lit file version (%d)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 2153</span>            }</div>
<div class="line"><span class="lineno"> 2154</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (filesize == 8)</div>
<div class="line"><span class="lineno"> 2155</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Empty .lit file, ignoring\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2156</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2157</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Corrupt .lit file (file size %i bytes, should be %i bytes), ignoring\n&quot;</span>, (<span class="keywordtype">int</span>) filesize, (<span class="keywordtype">int</span>) (8 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize * 3));</div>
<div class="line"><span class="lineno"> 2158</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><span class="lineno"> 2159</span>            {</div>
<div class="line"><span class="lineno"> 2160</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><span class="lineno"> 2161</span>                <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2162</span>            }</div>
<div class="line"><span class="lineno"> 2163</span>        }</div>
<div class="line"><span class="lineno"> 2164</span>        <span class="comment">// LadyHavoc: oh well, expand the white lighting data</span></div>
<div class="line"><span class="lineno"> 2165</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize)</div>
<div class="line"><span class="lineno"> 2166</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2167</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize*3);</div>
<div class="line"><span class="lineno"> 2168</span>        in = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data;</div>
<div class="line"><span class="lineno"> 2169</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a>;</div>
<div class="line"><span class="lineno"> 2170</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2171</span>        {</div>
<div class="line"><span class="lineno"> 2172</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = *in++;</div>
<div class="line"><span class="lineno"> 2173</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>;</div>
<div class="line"><span class="lineno"> 2174</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>;</div>
<div class="line"><span class="lineno"> 2175</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++ = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>;</div>
<div class="line"><span class="lineno"> 2176</span>        }</div>
<div class="line"><span class="lineno"> 2177</span>    }</div>
<div class="line"><span class="lineno"> 2178</span>}</div>
<div class="ttc" id="acommon_8h_html_a48b55a981b8eb9cbcf455b613f62e6b3"><div class="ttname"><a href="common_8h.html#a48b55a981b8eb9cbcf455b613f62e6b3">dp_strlcat</a></div><div class="ttdeci">#define dp_strlcat(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00299">common.h:299</a></div></div>
<div class="ttc" id="afs_8c_html_a46b9b5ad3cc14f77ae63016505163128"><div class="ttname"><a href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a></div><div class="ttdeci">unsigned char * FS_LoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03525">fs.c:3525</a></div></div>
<div class="ttc" id="afs_8c_html_a9fd7ebcbb75f140d76ab37664280555f"><div class="ttname"><a href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a></div><div class="ttdeci">void FS_StripExtension(const char *in, char *out, size_t size_out)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03596">fs.c:3596</a></div></div>
<div class="ttc" id="afs_8h_html_a5bcbce6d6c29888adf596671d6acd44b"><div class="ttname"><a href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a></div><div class="ttdeci">int64_t fs_offset_t</div><div class="ttdef"><b>Definition</b> <a href="fs_8h_source.html#l00037">fs.h:37</a></div></div>
<div class="ttc" id="ahost_8c_html_a67a57130da6bf0ad0eb133c0b8bc7642"><div class="ttname"><a href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a></div><div class="ttdeci">cvar_t developer_loading</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00053">host.c:53</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_ab45856a2ba7c570b8500aae6dcf6a491"><div class="ttname"><a href="structmodel__brushq3__t.html#ab45856a2ba7c570b8500aae6dcf6a491">model_brushq3_t::deluxemapping_modelspace</a></div><div class="ttdeci">qbool deluxemapping_modelspace</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00366">model_q3bsp.h:366</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_afcbfa68b6aa2c4f09247a466bbec320e"><div class="ttname"><a href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">model_brushq3_t::deluxemapping</a></div><div class="ttdeci">qbool deluxemapping</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00363">model_q3bsp.h:363</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="ae0ca5a4db682a6bc52e4844657336d50" name="ae0ca5a4db682a6bc52e4844657336d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0ca5a4db682a6bc52e4844657336d50">&#9670;&#160;</a></span>Mod_Q1BSP_LoadMapBrushes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadMapBrushes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03269">3269</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3270</span>{</div>
<div class="line"><span class="lineno"> 3271</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 3272</span><span class="comment">// unfinished</span></div>
<div class="line"><span class="lineno"> 3273</span>    <span class="keywordtype">int</span> submodel, numbrushes;</div>
<div class="line"><span class="lineno"> 3274</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> firstbrush;</div>
<div class="line"><span class="lineno"> 3275</span>    <span class="keywordtype">char</span> *text, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maptext</a>;</div>
<div class="line"><span class="lineno"> 3276</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapfilename</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 3277</span>    <a class="code hl_function" href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapfilename</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapfilename</a>));</div>
<div class="line"><span class="lineno"> 3278</span>    <a class="code hl_define" href="common_8h.html#a86dd23d247c7f6620c8a769bc202c71c">strlcat</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapfilename</a>, <span class="stringliteral">&quot;.map&quot;</span>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapfilename</a>));</div>
<div class="line"><span class="lineno"> 3279</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maptext</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*) <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mapfilename</a>, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 3280</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maptext</a>)</div>
<div class="line"><span class="lineno"> 3281</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3282</span>    text = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maptext</a>;</div>
<div class="line"><span class="lineno"> 3283</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3284</span>        <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 3285</span>    submodel = 0;</div>
<div class="line"><span class="lineno"> 3286</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno"> 3287</span>    {</div>
<div class="line"><span class="lineno"> 3288</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3289</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3290</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] != <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><span class="lineno"> 3291</span>            <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 3292</span>        <span class="comment">// entity</span></div>
<div class="line"><span class="lineno"> 3293</span>        firstbrush = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3294</span>        numbrushes = 0;</div>
<div class="line"><span class="lineno"> 3295</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxbrushes</a> = 256;</div>
<div class="line"><span class="lineno"> 3296</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushes</a> = <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxbrushes</a> * <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mbrush_t</a>));</div>
<div class="line"><span class="lineno"> 3297</span>        <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno"> 3298</span>        {</div>
<div class="line"><span class="lineno"> 3299</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3300</span>                <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 3301</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;}&#39;</span>)</div>
<div class="line"><span class="lineno"> 3302</span>                <span class="keywordflow">break</span>; <span class="comment">// end of entity</span></div>
<div class="line"><span class="lineno"> 3303</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><span class="lineno"> 3304</span>            {</div>
<div class="line"><span class="lineno"> 3305</span>                <span class="comment">// brush</span></div>
<div class="line"><span class="lineno"> 3306</span>                <span class="keywordflow">if</span> (firstbrush)</div>
<div class="line"><span class="lineno"> 3307</span>                {</div>
<div class="line"><span class="lineno"> 3308</span>                    <span class="keywordflow">if</span> (submodel)</div>
<div class="line"><span class="lineno"> 3309</span>                    {</div>
<div class="line"><span class="lineno"> 3310</span>                        <span class="keywordflow">if</span> (submodel &gt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>)</div>
<div class="line"><span class="lineno"> 3311</span>                        {</div>
<div class="line"><span class="lineno"> 3312</span>                            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadMapBrushes: .map has more submodels than .bsp!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3313</span>                            model = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3314</span>                        }</div>
<div class="line"><span class="lineno"> 3315</span>                        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3316</span>                            model = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>[submodel];</div>
<div class="line"><span class="lineno"> 3317</span>                    }</div>
<div class="line"><span class="lineno"> 3318</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3319</span>                        model = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 3320</span>                }</div>
<div class="line"><span class="lineno"> 3321</span>                <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno"> 3322</span>                {</div>
<div class="line"><span class="lineno"> 3323</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 3324</span>                        <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 3325</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;}&#39;</span>)</div>
<div class="line"><span class="lineno"> 3326</span>                        <span class="keywordflow">break</span>; <span class="comment">// end of brush</span></div>
<div class="line"><span class="lineno"> 3327</span>                    <span class="comment">// each brush face should be this format:</span></div>
<div class="line"><span class="lineno"> 3328</span>                    <span class="comment">// ( x y z ) ( x y z ) ( x y z ) texture scroll_s scroll_t rotateangle scale_s scale_t</span></div>
<div class="line"><span class="lineno"> 3329</span>                    <span class="comment">// FIXME: support hl .map format</span></div>
<div class="line"><span class="lineno"> 3330</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointnum</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointnum</a> &lt; 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointnum</a>++)</div>
<div class="line"><span class="lineno"> 3331</span>                    {</div>
<div class="line"><span class="lineno"> 3332</span>                        <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3333</span>                        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">componentnum</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">componentnum</a> &lt; 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">componentnum</a>++)</div>
<div class="line"><span class="lineno"> 3334</span>                        {</div>
<div class="line"><span class="lineno"> 3335</span>                            <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3336</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointnum</a>][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">componentnum</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><span class="lineno"> 3337</span>                        }</div>
<div class="line"><span class="lineno"> 3338</span>                        <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3339</span>                    }</div>
<div class="line"><span class="lineno"> 3340</span>                    <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3341</span>                    <a class="code hl_define" href="common_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facetexture</a>, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facetexture</a>));</div>
<div class="line"><span class="lineno"> 3342</span>                    <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3343</span>                    <span class="comment">//scroll_s = atof(com_token);</span></div>
<div class="line"><span class="lineno"> 3344</span>                    <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3345</span>                    <span class="comment">//scroll_t = atof(com_token);</span></div>
<div class="line"><span class="lineno"> 3346</span>                    <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3347</span>                    <span class="comment">//rotate = atof(com_token);</span></div>
<div class="line"><span class="lineno"> 3348</span>                    <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3349</span>                    <span class="comment">//scale_s = atof(com_token);</span></div>
<div class="line"><span class="lineno"> 3350</span>                    <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3351</span>                    <span class="comment">//scale_t = atof(com_token);</span></div>
<div class="line"><span class="lineno"> 3352</span>                    <a class="code hl_define" href="mathlib_8h.html#abd107e00eca870c28df1518302fee3df">TriangleNormal</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">planenormal</a>);</div>
<div class="line"><span class="lineno"> 3353</span>                    <a class="code hl_define" href="mathlib_8h.html#af935deeb30c6f0a97fb9e3c573fcebc9">VectorNormalizeDouble</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">planenormal</a>);</div>
<div class="line"><span class="lineno"> 3354</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">planedist</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">planenormal</a>);</div>
<div class="line"><span class="lineno"> 3355</span>                    <span class="comment">//ChooseTexturePlane(planenormal, texturevector[0], texturevector[1]);</span></div>
<div class="line"><span class="lineno"> 3356</span>                }</div>
<div class="line"><span class="lineno"> 3357</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3358</span>            }</div>
<div class="line"><span class="lineno"> 3359</span>        }</div>
<div class="line"><span class="lineno"> 3360</span>    }</div>
<div class="line"><span class="lineno"> 3361</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3362</span>}</div>
<div class="ttc" id="acommon_8c_html_a3eb222dff7f3bc0f6ce47f1e02df175e"><div class="ttname"><a href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a></div><div class="ttdeci">char com_token[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00039">common.c:39</a></div></div>
<div class="ttc" id="acommon_8c_html_acc99aea15e3d929ef5cfac822ee7040d"><div class="ttname"><a href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a></div><div class="ttdeci">qbool COM_ParseToken_Simple(const char **datapointer, qbool returnnewline, qbool parsebackslash, qbool parsecomments)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00463">common.c:463</a></div></div>
<div class="ttc" id="acommon_8h_html_a61ae5a0c7536d81d0fb52661f75254cb"><div class="ttname"><a href="common_8h.html#a61ae5a0c7536d81d0fb52661f75254cb">strlcpy</a></div><div class="ttdeci">#define strlcpy</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00267">common.h:267</a></div></div>
<div class="ttc" id="acommon_8h_html_a86dd23d247c7f6620c8a769bc202c71c"><div class="ttname"><a href="common_8h.html#a86dd23d247c7f6620c8a769bc202c71c">strlcat</a></div><div class="ttdeci">#define strlcat</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00269">common.h:269</a></div></div>
<div class="ttc" id="amathlib_8h_html_abd107e00eca870c28df1518302fee3df"><div class="ttname"><a href="mathlib_8h.html#abd107e00eca870c28df1518302fee3df">TriangleNormal</a></div><div class="ttdeci">#define TriangleNormal(a, b, c, n)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00125">mathlib.h:125</a></div></div>
<div class="ttc" id="amathlib_8h_html_af935deeb30c6f0a97fb9e3c573fcebc9"><div class="ttname"><a href="mathlib_8h.html#af935deeb30c6f0a97fb9e3c573fcebc9">VectorNormalizeDouble</a></div><div class="ttdeci">#define VectorNormalizeDouble(v)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00105">mathlib.h:105</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="abf6cd7649cfa9db2c9b57f16a649d04f" name="abf6cd7649cfa9db2c9b57f16a649d04f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf6cd7649cfa9db2c9b57f16a649d04f">&#9670;&#160;</a></span>Mod_Q1BSP_LoadNodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadNodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02876">2876</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2877</span>{</div>
<div class="line"><span class="lineno"> 2878</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, p, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[2];</div>
<div class="line"><span class="lineno"> 2879</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a>     *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2880</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa01eebc58454df076313c2e68b9a7d30">isbsp2rmqe</a> ? 32 : (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> ? 44 : 24);</div>
<div class="line"><span class="lineno"> 2881</span> </div>
<div class="line"><span class="lineno"> 2882</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 2883</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadNodes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2884</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 2885</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> == 0)</div>
<div class="line"><span class="lineno"> 2886</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadNodes: missing BSP tree in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2887</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 2888</span> </div>
<div class="line"><span class="lineno"> 2889</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2890</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2891</span> </div>
<div class="line"><span class="lineno"> 2892</span>    <span class="keywordflow">for</span> ( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 2893</span>    {</div>
<div class="line"><span class="lineno"> 2894</span>        p = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2895</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;plane = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> + p;</div>
<div class="line"><span class="lineno"> 2896</span> </div>
<div class="line"><span class="lineno"> 2897</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa01eebc58454df076313c2e68b9a7d30">isbsp2rmqe</a>)</div>
<div class="line"><span class="lineno"> 2898</span>        {</div>
<div class="line"><span class="lineno"> 2899</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[0] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2900</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[1] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2901</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2902</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2903</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2904</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2905</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2906</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2907</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstsurface = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2908</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numsurfaces = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2909</span>        }</div>
<div class="line"><span class="lineno"> 2910</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a>)</div>
<div class="line"><span class="lineno"> 2911</span>        {</div>
<div class="line"><span class="lineno"> 2912</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[0] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2913</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[1] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2914</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2915</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2916</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2917</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2918</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2919</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2920</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstsurface = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2921</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numsurfaces = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2922</span>        }</div>
<div class="line"><span class="lineno"> 2923</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2924</span>        {</div>
<div class="line"><span class="lineno"> 2925</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[0] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2926</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[1] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2927</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[0] &gt;= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 2928</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[0] -= 65536;</div>
<div class="line"><span class="lineno"> 2929</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[1] &gt;= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 2930</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[1] -= 65536;</div>
<div class="line"><span class="lineno"> 2931</span> </div>
<div class="line"><span class="lineno"> 2932</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2933</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2934</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2935</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2936</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2937</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2938</span> </div>
<div class="line"><span class="lineno"> 2939</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstsurface = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2940</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numsurfaces = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2941</span>        }</div>
<div class="line"><span class="lineno"> 2942</span> </div>
<div class="line"><span class="lineno"> 2943</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>=0 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>&lt;2 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2944</span>        {</div>
<div class="line"><span class="lineno"> 2945</span>            <span class="comment">// LadyHavoc: this code supports broken bsp files produced by</span></div>
<div class="line"><span class="lineno"> 2946</span>            <span class="comment">// arguire qbsp which can produce more than 32768 nodes, any value</span></div>
<div class="line"><span class="lineno"> 2947</span>            <span class="comment">// below count is assumed to be a node number, any other value is</span></div>
<div class="line"><span class="lineno"> 2948</span>            <span class="comment">// assumed to be a leaf number</span></div>
<div class="line"><span class="lineno"> 2949</span>            p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];</div>
<div class="line"><span class="lineno"> 2950</span>            <span class="keywordflow">if</span> (p &gt;= 0)</div>
<div class="line"><span class="lineno"> 2951</span>            {</div>
<div class="line"><span class="lineno"> 2952</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p &lt; loadmodel-&gt;</a>brush.num_nodes)</div>
<div class="line"><span class="lineno"> 2953</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + p;</div>
<div class="line"><span class="lineno"> 2954</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2955</span>                {</div>
<div class="line"><span class="lineno"> 2956</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadNodes: invalid node index %i (file has only %i nodes)\n&quot;</span>, p, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>);</div>
<div class="line"><span class="lineno"> 2957</span>                    <span class="comment">// map it to the solid leaf</span></div>
<div class="line"><span class="lineno"> 2958</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;</div>
<div class="line"><span class="lineno"> 2959</span>                }</div>
<div class="line"><span class="lineno"> 2960</span>            }</div>
<div class="line"><span class="lineno"> 2961</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2962</span>            {</div>
<div class="line"><span class="lineno"> 2963</span>                <span class="comment">// get leaf index as a positive value starting at 0 (-1 becomes 0, -2 becomes 1, etc)</span></div>
<div class="line"><span class="lineno"> 2964</span>                p = -(p+1);</div>
<div class="line"><span class="lineno"> 2965</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p &lt; loadmodel-&gt;</a>brush.num_leafs)</div>
<div class="line"><span class="lineno"> 2966</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a> + p);</div>
<div class="line"><span class="lineno"> 2967</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2968</span>                {</div>
<div class="line"><span class="lineno"> 2969</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadNodes: invalid leaf index %i (file has only %i leafs)\n&quot;</span>, p, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>);</div>
<div class="line"><span class="lineno"> 2970</span>                    <span class="comment">// map it to the solid leaf</span></div>
<div class="line"><span class="lineno"> 2971</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;</div>
<div class="line"><span class="lineno"> 2972</span>                }</div>
<div class="line"><span class="lineno"> 2973</span>            }</div>
<div class="line"><span class="lineno"> 2974</span>        }</div>
<div class="line"><span class="lineno"> 2975</span>    }</div>
<div class="line"><span class="lineno"> 2976</span> </div>
<div class="line"><span class="lineno"> 2977</span>    <a class="code hl_function" href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);    <span class="comment">// sets nodes and leafs</span></div>
<div class="line"><span class="lineno"> 2978</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a4db47416ee4f951b1fa8fc15a15edba8" name="a4db47416ee4f951b1fa8fc15a15edba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4db47416ee4f951b1fa8fc15a15edba8">&#9670;&#160;</a></span>Mod_Q1BSP_LoadPlanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadPlanes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03226">3226</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3227</span>{</div>
<div class="line"><span class="lineno"> 3228</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3229</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 3230</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 20;</div>
<div class="line"><span class="lineno"> 3231</span> </div>
<div class="line"><span class="lineno"> 3232</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 3233</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadPlanes: funny lump size in %s&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 3234</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 3235</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 3236</span> </div>
<div class="line"><span class="lineno"> 3237</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 3238</span>    {</div>
<div class="line"><span class="lineno"> 3239</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3240</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;normal[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3241</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;normal[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3242</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;dist = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3243</span>        <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// type is not used, we use PlaneClassify</span></div>
<div class="line"><span class="lineno"> 3244</span>        <a class="code hl_function" href="mathlib_8c.html#ac6346bdac2617a1fce578c20b3520a79">PlaneClassify</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>);</div>
<div class="line"><span class="lineno"> 3245</span>    }</div>
<div class="line"><span class="lineno"> 3246</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="ada50575dcd3de0510160aa0c099c1151" name="ada50575dcd3de0510160aa0c099c1151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada50575dcd3de0510160aa0c099c1151">&#9670;&#160;</a></span>Mod_Q1BSP_LoadSplitSky()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadSplitSky </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>bytesperpixel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01568">1568</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1569</span>{</div>
<div class="line"><span class="lineno"> 1570</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>;</div>
<div class="line"><span class="lineno"> 1571</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> = <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>/2;</div>
<div class="line"><span class="lineno"> 1572</span>    <span class="keywordtype">int</span> h = <a class="code hl_variable" href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a>;</div>
<div class="line"><span class="lineno"> 1573</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">solidpixels</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>*h*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[4]));</div>
<div class="line"><span class="lineno"> 1574</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alphapixels</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>*h*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[4]));</div>
<div class="line"><span class="lineno"> 1575</span> </div>
<div class="line"><span class="lineno"> 1576</span>    <span class="comment">// allocate a texture pool if we need it</span></div>
<div class="line"><span class="lineno"> 1577</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 1578</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>();</div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>    <span class="keywordflow">if</span> (bytesperpixel == 4)</div>
<div class="line"><span class="lineno"> 1581</span>    {</div>
<div class="line"><span class="lineno"> 1582</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; h;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><span class="lineno"> 1583</span>        {</div>
<div class="line"><span class="lineno"> 1584</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><span class="lineno"> 1585</span>            {</div>
<div class="line"><span class="lineno"> 1586</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">solidpixels</a>[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>] = ((<span class="keywordtype">unsigned</span> *)src)[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>+<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>];</div>
<div class="line"><span class="lineno"> 1587</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alphapixels</a>[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>] = ((<span class="keywordtype">unsigned</span> *)src)[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>];</div>
<div class="line"><span class="lineno"> 1588</span>            }</div>
<div class="line"><span class="lineno"> 1589</span>        }</div>
<div class="line"><span class="lineno"> 1590</span>    }</div>
<div class="line"><span class="lineno"> 1591</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1592</span>    {</div>
<div class="line"><span class="lineno"> 1593</span>        <span class="comment">// make an average value for the back to avoid</span></div>
<div class="line"><span class="lineno"> 1594</span>        <span class="comment">// a fringe on the top level</span></div>
<div class="line"><span class="lineno"> 1595</span>        <span class="keywordtype">int</span> p, <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><span class="lineno"> 1596</span>        <span class="keyword">union</span></div>
<div class="line"><span class="lineno"> 1597</span>        {</div>
<div class="line"><span class="lineno"> 1598</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1599</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>[4];</div>
<div class="line"><span class="lineno"> 1600</span>        }</div>
<div class="line"><span class="lineno"> 1601</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>;</div>
<div class="line"><span class="lineno"> 1602</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> = <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = 0;</div>
<div class="line"><span class="lineno"> 1603</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; h;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><span class="lineno"> 1604</span>        {</div>
<div class="line"><span class="lineno"> 1605</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><span class="lineno"> 1606</span>            {</div>
<div class="line"><span class="lineno"> 1607</span>                p = src[<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>*<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>+<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>+<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>];</div>
<div class="line"><span class="lineno"> 1608</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> += <a class="code hl_variable" href="palette_8c.html#a777164d2435e4855284eac24a69ffcb3">palette_rgb</a>[p][0];</div>
<div class="line"><span class="lineno"> 1609</span>                <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a> += <a class="code hl_variable" href="palette_8c.html#a777164d2435e4855284eac24a69ffcb3">palette_rgb</a>[p][1];</div>
<div class="line"><span class="lineno"> 1610</span>                <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> += <a class="code hl_variable" href="palette_8c.html#a777164d2435e4855284eac24a69ffcb3">palette_rgb</a>[p][2];</div>
<div class="line"><span class="lineno"> 1611</span>            }</div>
<div class="line"><span class="lineno"> 1612</span>        }</div>
<div class="line"><span class="lineno"> 1613</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.b[2] = <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>/(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>*h);</div>
<div class="line"><span class="lineno"> 1614</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.b[1] = <a class="code hl_variable" href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a>/(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>*h);</div>
<div class="line"><span class="lineno"> 1615</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.b[0] = <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>/(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>*h);</div>
<div class="line"><span class="lineno"> 1616</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.b[3] = 0;</div>
<div class="line"><span class="lineno"> 1617</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; h;<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><span class="lineno"> 1618</span>        {</div>
<div class="line"><span class="lineno"> 1619</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>;<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><span class="lineno"> 1620</span>            {</div>
<div class="line"><span class="lineno"> 1621</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">solidpixels</a>[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>] = <a class="code hl_variable" href="palette_8c.html#acda448fca5edd966ac71f80fc7d93bb0">palette_bgra_complete</a>[src[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>+<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>]];</div>
<div class="line"><span class="lineno"> 1622</span>                p = src[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>];</div>
<div class="line"><span class="lineno"> 1623</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alphapixels</a>[<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>*<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>+<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>] = p ? <a class="code hl_variable" href="palette_8c.html#acda448fca5edd966ac71f80fc7d93bb0">palette_bgra_complete</a>[p] : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.i;</div>
<div class="line"><span class="lineno"> 1624</span>            }</div>
<div class="line"><span class="lineno"> 1625</span>        }</div>
<div class="line"><span class="lineno"> 1626</span>    }</div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5c0c32e777355c585bbab198d78dc6cc">solidskyskinframe</a> = <a class="code hl_function" href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a>(<span class="stringliteral">&quot;sky_solidtexture&quot;</span>, 0         , (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">solidpixels</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, 0, 0, 0, <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>);</div>
<div class="line"><span class="lineno"> 1629</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a37a1567e8699fb01ef28871444c93d9c">alphaskyskinframe</a> = <a class="code hl_function" href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a>(<span class="stringliteral">&quot;sky_alphatexture&quot;</span>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alphapixels</a>, <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h, 0, 0, 0, <a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>);</div>
<div class="line"><span class="lineno"> 1630</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">solidpixels</a>);</div>
<div class="line"><span class="lineno"> 1631</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">alphapixels</a>);</div>
<div class="line"><span class="lineno"> 1632</span>}</div>
<div class="ttc" id="agl__rmain_8c_html_a6254a8f908da05ab79804175be40aec9"><div class="ttname"><a href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadInternalBGRA(const char *name, int textureflags, const unsigned char *skindata, int width, int height, int comparewidth, int compareheight, int comparecrc, qbool sRGB)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02545">gl_rmain.c:2545</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0e843e6cb4b0547b3a2b414af3d53a53"><div class="ttname"><a href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a></div><div class="ttdeci">GLenum GLsizei width</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a136cce2f78c36b837ec3c8cf72c96aad"><div class="ttname"><a href="glquake_8h.html#a136cce2f78c36b837ec3c8cf72c96aad">height</a></div><div class="ttdeci">GLenum GLsizei GLsizei height</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="apalette_8c_html_a777164d2435e4855284eac24a69ffcb3"><div class="ttname"><a href="palette_8c.html#a777164d2435e4855284eac24a69ffcb3">palette_rgb</a></div><div class="ttdeci">unsigned char palette_rgb[256][3]</div><div class="ttdef"><b>Definition</b> <a href="palette_8c_source.html#l00007">palette.c:7</a></div></div>
<div class="ttc" id="apalette_8c_html_acda448fca5edd966ac71f80fc7d93bb0"><div class="ttname"><a href="palette_8c.html#acda448fca5edd966ac71f80fc7d93bb0">palette_bgra_complete</a></div><div class="ttdeci">unsigned int palette_bgra_complete[256]</div><div class="ttdef"><b>Definition</b> <a href="palette_8c_source.html#l00013">palette.c:13</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7e88b1d25d2969b53f6e967801f991ca"><div class="ttname"><a href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a></div><div class="ttdeci">#define TEXF_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00009">r_textures.h:9</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a5ec19189388a37fcddc7258e29a40335"><div class="ttname"><a href="shader__glsl_8h.html#a5ec19189388a37fcddc7258e29a40335">g</a></div><div class="ttdeci">dp_FragColor g</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00385">shader_glsl.h:385</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a37a1567e8699fb01ef28871444c93d9c"><div class="ttname"><a href="structmodel__brush__t.html#a37a1567e8699fb01ef28871444c93d9c">model_brush_t::alphaskyskinframe</a></div><div class="ttdeci">struct skinframe_s * alphaskyskinframe</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00350">model_brush.h:350</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a5c0c32e777355c585bbab198d78dc6cc"><div class="ttname"><a href="structmodel__brush__t.html#a5c0c32e777355c585bbab198d78dc6cc">model_brush_t::solidskyskinframe</a></div><div class="ttdeci">struct skinframe_s * solidskyskinframe</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00349">model_brush.h:349</a></div></div>
<div class="ttc" id="astructviddef__t_html_a137554a0c7fc06cfbe4bec3902260ab4"><div class="ttname"><a href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">viddef_t::sRGB3D</a></div><div class="ttdeci">qbool sRGB3D</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00083">vid.h:83</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>.</p>

</div>
</div>
<a id="aaa49f1f172b5050db2d36f5b23fd18fe" name="aaa49f1f172b5050db2d36f5b23fd18fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa49f1f172b5050db2d36f5b23fd18fe">&#9670;&#160;</a></span>Mod_Q1BSP_LoadSurfedges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadSurfedges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03211">3211</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3212</span>{</div>
<div class="line"><span class="lineno"> 3213</span>    <span class="keywordtype">int</span>     <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3214</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 4;</div>
<div class="line"><span class="lineno"> 3215</span> </div>
<div class="line"><span class="lineno"> 3216</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 3217</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadSurfedges: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 3218</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 3219</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aeac46ea79001b7f0f00a45b53985d688">surfedges</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><span class="lineno"> 3220</span> </div>
<div class="line"><span class="lineno"> 3221</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3222</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aeac46ea79001b7f0f00a45b53985d688">surfedges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 3223</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a6941b1a6a1c452c624f6ed3f3eb23a5a" name="a6941b1a6a1c452c624f6ed3f3eb23a5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6941b1a6a1c452c624f6ed3f3eb23a5a">&#9670;&#160;</a></span>Mod_Q1BSP_LoadTexinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadTexinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02362">2362</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2363</span>{</div>
<div class="line"><span class="lineno"> 2364</span>    <a class="code hl_struct" href="structmtexinfo__t.html">mtexinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2365</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a>;</div>
<div class="line"><span class="lineno"> 2366</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 40;</div>
<div class="line"><span class="lineno"> 2367</span> </div>
<div class="line"><span class="lineno"> 2368</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 2369</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadTexinfo: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2370</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 2371</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmtexinfo__t.html">mtexinfo_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 2372</span> </div>
<div class="line"><span class="lineno"> 2373</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2374</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2375</span> </div>
<div class="line"><span class="lineno"> 2376</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 2377</span>    {</div>
<div class="line"><span class="lineno"> 2378</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 2379</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 4;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2380</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;vecs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2381</span> </div>
<div class="line"><span class="lineno"> 2382</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2383</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q1flags = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2384</span> </div>
<div class="line"><span class="lineno"> 2385</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q1flags &amp; <a class="code hl_define" href="bspfile_8h.html#a1f19afba837340ece1548dee6c80cebf">TEX_SPECIAL</a>)</div>
<div class="line"><span class="lineno"> 2386</span>        {</div>
<div class="line"><span class="lineno"> 2387</span>            <span class="comment">// if texture chosen is NULL or the shader needs a lightmap,</span></div>
<div class="line"><span class="lineno"> 2388</span>            <span class="comment">// force to notexture water shader</span></div>
<div class="line"><span class="lineno"> 2389</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> - 1;</div>
<div class="line"><span class="lineno"> 2390</span>        }</div>
<div class="line"><span class="lineno"> 2391</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2392</span>        {</div>
<div class="line"><span class="lineno"> 2393</span>            <span class="comment">// if texture chosen is NULL, force to notexture</span></div>
<div class="line"><span class="lineno"> 2394</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> - 2;</div>
<div class="line"><span class="lineno"> 2395</span>        }</div>
<div class="line"><span class="lineno"> 2396</span>        <span class="comment">// see if the specified miptex is valid and try to use it instead</span></div>
<div class="line"><span class="lineno"> 2397</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>)</div>
<div class="line"><span class="lineno"> 2398</span>        {</div>
<div class="line"><span class="lineno"> 2399</span>            <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a> &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>)</div>
<div class="line"><span class="lineno"> 2400</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;error in model \&quot;%s\&quot;: invalid miptex index %i(of %i)\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>);</div>
<div class="line"><span class="lineno"> 2401</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2402</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a>;</div>
<div class="line"><span class="lineno"> 2403</span>        }</div>
<div class="line"><span class="lineno"> 2404</span>    }</div>
<div class="line"><span class="lineno"> 2405</span>}</div>
<div class="ttc" id="astructmtexinfo__t_html"><div class="ttname"><a href="structmtexinfo__t.html">mtexinfo_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00342">model_shared.h:343</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a22f65cdf9d1f23789107d8b9079f3e9e" name="a22f65cdf9d1f23789107d8b9079f3e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f65cdf9d1f23789107d8b9079f3e9e">&#9670;&#160;</a></span>Mod_Q1BSP_LoadTextures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadTextures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01634">1634</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1635</span>{</div>
<div class="line"><span class="lineno"> 1636</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, num, <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtheight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incomplete</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummiptex</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstskynoshadowtexture</a> = 0;</div>
<div class="line"><span class="lineno"> 1637</span>    <a class="code hl_struct" href="structskinframe__t.html">skinframe_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinframemissing</a>;</div>
<div class="line"><span class="lineno"> 1638</span>    <a class="code hl_struct" href="structtexture__t.html">texture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[10], *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[10], *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentskynoshadowtexture</a>;</div>
<div class="line"><span class="lineno"> 1639</span>    <a class="code hl_struct" href="structtexture__t.html">texture_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backuptex</a>;</div>
<div class="line"><span class="lineno"> 1640</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtdata</a>;</div>
<div class="line"><span class="lineno"> 1641</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div>
<div class="line"><span class="lineno"> 1642</span>    <span class="keywordtype">char</span> mapname[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>], <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 1643</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">zeroopaque</a>[4], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">zerotrans</a>[4];</div>
<div class="line"><span class="lineno"> 1644</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>;</div>
<div class="line"><span class="lineno"> 1645</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 1646</span>    <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">zeroopaque</a>, 0, 0, 0, 255);</div>
<div class="line"><span class="lineno"> 1647</span>    <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">zerotrans</a>, 0, 0, 0, 128);</div>
<div class="line"><span class="lineno"> 1648</span> </div>
<div class="line"><span class="lineno"> 1649</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1650</span> </div>
<div class="line"><span class="lineno"> 1651</span>    <span class="comment">// add two slots for notexture walls and notexture liquids, and duplicate</span></div>
<div class="line"><span class="lineno"> 1652</span>    <span class="comment">// all sky textures; sky surfaces can be shadow-casting or not, the surface</span></div>
<div class="line"><span class="lineno"> 1653</span>    <span class="comment">// loading will choose according to the contents behind the surface</span></div>
<div class="line"><span class="lineno"> 1654</span>    <span class="comment">// (necessary to support e1m5 logo shadow which has a SKY contents brush,</span></div>
<div class="line"><span class="lineno"> 1655</span>    <span class="comment">// while correctly treating sky textures as occluders in other situations).</span></div>
<div class="line"><span class="lineno"> 1656</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize)</div>
<div class="line"><span class="lineno"> 1657</span>    {</div>
<div class="line"><span class="lineno"> 1658</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsky</a> = 0;</div>
<div class="line"><span class="lineno"> 1659</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">watermark</a>;</div>
<div class="line"><span class="lineno"> 1660</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummiptex</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 1661</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummiptex</a> + 2;</div>
<div class="line"><span class="lineno"> 1662</span>        <span class="comment">// save the position so we can go back to it</span></div>
<div class="line"><span class="lineno"> 1663</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">watermark</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;readcount;</div>
<div class="line"><span class="lineno"> 1664</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummiptex</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1665</span>        {</div>
<div class="line"><span class="lineno"> 1666</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 1667</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#abb7917fc21445a7234319982fa84ba1c">r_nosurftextures</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1668</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1669</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a> == -1)</div>
<div class="line"><span class="lineno"> 1670</span>            {</div>
<div class="line"><span class="lineno"> 1671</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;%s: miptex #%i missing\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 1672</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1673</span>            }</div>
<div class="line"><span class="lineno"> 1674</span> </div>
<div class="line"><span class="lineno"> 1675</span>            <a class="code hl_function" href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a>);</div>
<div class="line"><span class="lineno"> 1676</span> </div>
<div class="line"><span class="lineno"> 1677</span>            <span class="comment">// copy name, but only up to 16 characters</span></div>
<div class="line"><span class="lineno"> 1678</span>            <span class="comment">// (the output buffer can hold more than this, but the input buffer is</span></div>
<div class="line"><span class="lineno"> 1679</span>            <span class="comment">//  only 16)</span></div>
<div class="line"><span class="lineno"> 1680</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 16; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1681</span>                <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>);</div>
<div class="line"><span class="lineno"> 1682</span>            <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = 0;</div>
<div class="line"><span class="lineno"> 1683</span>            <span class="comment">// pretty up the buffer (replacing any trailing garbage with 0)</span></div>
<div class="line"><span class="lineno"> 1684</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>); <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 16; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1685</span>                <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = 0;</div>
<div class="line"><span class="lineno"> 1686</span>            <span class="comment">// bones_was_here: force all names to lowercase (matching code below) so we don&#39;t crash on e2m9</span></div>
<div class="line"><span class="lineno"> 1687</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1688</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &lt;= <span class="charliteral">&#39;Z&#39;</span>)</div>
<div class="line"><span class="lineno"> 1689</span>                    <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] += <span class="charliteral">&#39;a&#39;</span> - <span class="charliteral">&#39;A&#39;</span>;</div>
<div class="line"><span class="lineno"> 1690</span> </div>
<div class="line"><span class="lineno"> 1691</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="stringliteral">&quot;sky&quot;</span>, 3))</div>
<div class="line"><span class="lineno"> 1692</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsky</a>++;</div>
<div class="line"><span class="lineno"> 1693</span>        }</div>
<div class="line"><span class="lineno"> 1694</span> </div>
<div class="line"><span class="lineno"> 1695</span>        <span class="comment">// bump it back to where we started parsing</span></div>
<div class="line"><span class="lineno"> 1696</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;readcount = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">watermark</a>;</div>
<div class="line"><span class="lineno"> 1697</span> </div>
<div class="line"><span class="lineno"> 1698</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstskynoshadowtexture</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>;</div>
<div class="line"><span class="lineno"> 1699</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsky</a>;</div>
<div class="line"><span class="lineno"> 1700</span>    }</div>
<div class="line"><span class="lineno"> 1701</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1702</span>    {</div>
<div class="line"><span class="lineno"> 1703</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> = 2;</div>
<div class="line"><span class="lineno"> 1704</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstskynoshadowtexture</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>;</div>
<div class="line"><span class="lineno"> 1705</span>    }</div>
<div class="line"><span class="lineno"> 1706</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>;</div>
<div class="line"><span class="lineno"> 1707</span> </div>
<div class="line"><span class="lineno"> 1708</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> = (<a class="code hl_struct" href="structtexture__t.html">texture_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtexture__t.html">texture_t</a>));</div>
<div class="line"><span class="lineno"> 1709</span> </div>
<div class="line"><span class="lineno"> 1710</span>    <span class="comment">// we&#39;ll be writing to these in parallel for sky textures</span></div>
<div class="line"><span class="lineno"> 1711</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentskynoshadowtexture</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstskynoshadowtexture</a>;</div>
<div class="line"><span class="lineno"> 1712</span> </div>
<div class="line"><span class="lineno"> 1713</span>    <span class="comment">// fill out all slots with notexture</span></div>
<div class="line"><span class="lineno"> 1714</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinframemissing</a> = <a class="code hl_function" href="gl__rmain_8c.html#ab71c98f74d459505c37064d162f76e46">R_SkinFrame_LoadMissing</a>();</div>
<div class="line"><span class="lineno"> 1715</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>++)</div>
<div class="line"><span class="lineno"> 1716</span>    {</div>
<div class="line"><span class="lineno"> 1717</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;NO TEXTURE FOUND&quot;</span>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name));</div>
<div class="line"><span class="lineno"> 1718</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;width = 16;</div>
<div class="line"><span class="lineno"> 1719</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;height = 16;</div>
<div class="line"><span class="lineno"> 1720</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basealpha = 1.0f;</div>
<div class="line"><span class="lineno"> 1721</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;shaderpasses[0] = <a class="code hl_function" href="model__shared_8c.html#a3aeb019546a6a3c64accee040d01f336">Mod_CreateShaderPass</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinframemissing</a>);</div>
<div class="line"><span class="lineno"> 1722</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinframemissing</a>;</div>
<div class="line"><span class="lineno"> 1723</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentskinframe = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">skinframemissing</a>;</div>
<div class="line"><span class="lineno"> 1724</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags = <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a>;</div>
<div class="line"><span class="lineno"> 1725</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> - 1)</div>
<div class="line"><span class="lineno"> 1726</span>        {</div>
<div class="line"><span class="lineno"> 1727</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#afb908223468b412ea7499816ae9abcba">MATERIALFLAG_WATERSCROLL</a> | <a class="code hl_define" href="model__brush_8h.html#aef1a20e40e63bc392741591cc2b03b38">MATERIALFLAG_LIGHTBOTHSIDES</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 1728</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a>;</div>
<div class="line"><span class="lineno"> 1729</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;surfaceflags = <a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 1730</span>        }</div>
<div class="line"><span class="lineno"> 1731</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1732</span>        {</div>
<div class="line"><span class="lineno"> 1733</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a>;</div>
<div class="line"><span class="lineno"> 1734</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;surfaceflags = <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 1735</span>        }</div>
<div class="line"><span class="lineno"> 1736</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentframe = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>;</div>
<div class="line"><span class="lineno"> 1737</span> </div>
<div class="line"><span class="lineno"> 1738</span>        <span class="comment">// clear water settings</span></div>
<div class="line"><span class="lineno"> 1739</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;reflectmin = 0;</div>
<div class="line"><span class="lineno"> 1740</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;reflectmax = 1;</div>
<div class="line"><span class="lineno"> 1741</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;refractive_index = <a class="code hl_variable" href="model__brush_8c.html#afd3d52aa21b8bb25950df31b101c10b4">mod_q3shader_default_refractive_index</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><span class="lineno"> 1742</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;refractfactor = 1;</div>
<div class="line"><span class="lineno"> 1743</span>        <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;refractcolor4f, 1, 1, 1, 1);</div>
<div class="line"><span class="lineno"> 1744</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;reflectfactor = 1;</div>
<div class="line"><span class="lineno"> 1745</span>        <a class="code hl_define" href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;reflectcolor4f, 1, 1, 1, 1);</div>
<div class="line"><span class="lineno"> 1746</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;r_water_wateralpha = 1;</div>
<div class="line"><span class="lineno"> 1747</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;offsetmapping = <a class="code hl_enumvalue" href="r__qshader_8h.html#a905d789c405c635371eae15d1b6ad8dca117ca548e7750c4ed09cad4ba3f68eca">OFFSETMAPPING_DEFAULT</a>;</div>
<div class="line"><span class="lineno"> 1748</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;offsetscale = 1;</div>
<div class="line"><span class="lineno"> 1749</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;offsetbias = 0;</div>
<div class="line"><span class="lineno"> 1750</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;specularscalemod = 1;</div>
<div class="line"><span class="lineno"> 1751</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;specularpowermod = 1;</div>
<div class="line"><span class="lineno"> 1752</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;transparentsort = <a class="code hl_enumvalue" href="r__qshader_8h.html#a72d5e32663fb1b0c369079ca0be01f37a2a635f265dd33d939e6dcd1482147080">TRANSPARENTSORT_DISTANCE</a>;</div>
<div class="line"><span class="lineno"> 1753</span>        <span class="comment">// WHEN ADDING DEFAULTS HERE, REMEMBER TO PUT DEFAULTS IN ALL LOADERS</span></div>
<div class="line"><span class="lineno"> 1754</span>        <span class="comment">// JUST GREP FOR &quot;specularscalemod = 1&quot;.</span></div>
<div class="line"><span class="lineno"> 1755</span>    }</div>
<div class="line"><span class="lineno"> 1756</span> </div>
<div class="line"><span class="lineno"> 1757</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize)</div>
<div class="line"><span class="lineno"> 1758</span>    {</div>
<div class="line"><span class="lineno"> 1759</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s: no miptex lump to load textures from\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 1760</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1761</span>    }</div>
<div class="line"><span class="lineno"> 1762</span> </div>
<div class="line"><span class="lineno"> 1763</span>    s = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>;</div>
<div class="line"><span class="lineno"> 1764</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncasecmp</a>(s, <span class="stringliteral">&quot;maps/&quot;</span>, 5))</div>
<div class="line"><span class="lineno"> 1765</span>        s += 5;</div>
<div class="line"><span class="lineno"> 1766</span>    <a class="code hl_function" href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a>(s, mapname, <span class="keyword">sizeof</span>(mapname));</div>
<div class="line"><span class="lineno"> 1767</span> </div>
<div class="line"><span class="lineno"> 1768</span>    <span class="comment">// LadyHavoc: mostly rewritten map texture loader</span></div>
<div class="line"><span class="lineno"> 1769</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummiptex</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1770</span>    {</div>
<div class="line"><span class="lineno"> 1771</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 1772</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#abb7917fc21445a7234319982fa84ba1c">r_nosurftextures</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1773</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1774</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a> == -1)</div>
<div class="line"><span class="lineno"> 1775</span>        {</div>
<div class="line"><span class="lineno"> 1776</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;%s: miptex #%i missing\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 1777</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1778</span>        }</div>
<div class="line"><span class="lineno"> 1779</span> </div>
<div class="line"><span class="lineno"> 1780</span>        <a class="code hl_function" href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">doffset</a>);</div>
<div class="line"><span class="lineno"> 1781</span> </div>
<div class="line"><span class="lineno"> 1782</span>        <span class="comment">// copy name, but only up to 16 characters</span></div>
<div class="line"><span class="lineno"> 1783</span>        <span class="comment">// (the output buffer can hold more than this, but the input buffer is</span></div>
<div class="line"><span class="lineno"> 1784</span>        <span class="comment">//  only 16)</span></div>
<div class="line"><span class="lineno"> 1785</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 16;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1786</span>            <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>);</div>
<div class="line"><span class="lineno"> 1787</span>        <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = 0;</div>
<div class="line"><span class="lineno"> 1788</span>        <span class="comment">// pretty up the buffer (replacing any trailing garbage with 0)</span></div>
<div class="line"><span class="lineno"> 1789</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 16;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1790</span>            <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = 0;</div>
<div class="line"><span class="lineno"> 1791</span> </div>
<div class="line"><span class="lineno"> 1792</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[0])</div>
<div class="line"><span class="lineno"> 1793</span>        {</div>
<div class="line"><span class="lineno"> 1794</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="stringliteral">&quot;unnamed%i&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 1795</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;%s: warning: renaming unnamed texture to %s\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno"> 1796</span>        }</div>
<div class="line"><span class="lineno"> 1797</span> </div>
<div class="line"><span class="lineno"> 1798</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtwidth</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>);</div>
<div class="line"><span class="lineno"> 1799</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtheight</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>);</div>
<div class="line"><span class="lineno"> 1800</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtdata</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1801</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>);</div>
<div class="line"><span class="lineno"> 1802</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>)</div>
<div class="line"><span class="lineno"> 1803</span>        {</div>
<div class="line"><span class="lineno"> 1804</span>            <span class="comment">// texture included</span></div>
<div class="line"><span class="lineno"> 1805</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j &lt; 40 || j + mtwidth * mtheight &gt;</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>.cursize)</div>
<div class="line"><span class="lineno"> 1806</span>            {</div>
<div class="line"><span class="lineno"> 1807</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s: Texture \&quot;%s\&quot; is corrupt or incomplete\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno"> 1808</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1809</span>            }</div>
<div class="line"><span class="lineno"> 1810</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtdata</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>.data + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 1811</span>        }</div>
<div class="line"><span class="lineno"> 1812</span> </div>
<div class="line"><span class="lineno"> 1813</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtwidth</a> &amp; 15) || (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtheight</a> &amp; 15))</div>
<div class="line"><span class="lineno"> 1814</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;%s: warning: texture \&quot;%s\&quot; is not 16 aligned\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><span class="lineno"> 1815</span> </div>
<div class="line"><span class="lineno"> 1816</span>        <span class="comment">// LadyHavoc: force all names to lowercase</span></div>
<div class="line"><span class="lineno"> 1817</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1818</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &lt;= <span class="charliteral">&#39;Z&#39;</span>)</div>
<div class="line"><span class="lineno"> 1819</span>                <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] += <span class="charliteral">&#39;a&#39;</span> - <span class="charliteral">&#39;A&#39;</span>;</div>
<div class="line"><span class="lineno"> 1820</span> </div>
<div class="line"><span class="lineno"> 1821</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1822</span>        <span class="comment">// try to load shader or external textures, but first we have to backup the texture_t because shader loading overwrites it even if it fails</span></div>
<div class="line"><span class="lineno"> 1823</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backuptex</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 1824</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[0] &amp;&amp; <span class="comment">/* HACK */</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="stringliteral">&quot;sky&quot;</span>, 3) <span class="comment">/* END HACK */</span> &amp;&amp; (<a class="code hl_function" href="model__shared_8c.html#a1694c78ec74a4c2a96c00ea69cf44ef7">Mod_LoadTextureFromQ3Shader</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s/%s&quot;</span>, mapname, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a> | <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a>) ||</div>
<div class="line"><span class="lineno"> 1825</span>                        <a class="code hl_function" href="model__shared_8c.html#a1694c78ec74a4c2a96c00ea69cf44ef7">Mod_LoadTextureFromQ3Shader</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s&quot;</span>   , <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a> | <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a>)))</div>
<div class="line"><span class="lineno"> 1826</span>        {</div>
<div class="line"><span class="lineno"> 1827</span>            <span class="comment">// set the width/height fields which are used for parsing texcoords in this bsp format</span></div>
<div class="line"><span class="lineno"> 1828</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;<a class="code hl_variable" href="structtexture__t.html#ac20ede2abaf4a6224df80b23d1eb10e5">width</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtwidth</a>;</div>
<div class="line"><span class="lineno"> 1829</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;height = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtheight</a>;</div>
<div class="line"><span class="lineno"> 1830</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1831</span>        }</div>
<div class="line"><span class="lineno"> 1832</span>        <span class="comment">// no luck with loading shaders or external textures - restore the in-progress texture loading</span></div>
<div class="line"><span class="lineno"> 1833</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backuptex</a>;</div>
<div class="line"><span class="lineno"> 1834</span> </div>
<div class="line"><span class="lineno"> 1835</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name));</div>
<div class="line"><span class="lineno"> 1836</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;width = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtwidth</a>;</div>
<div class="line"><span class="lineno"> 1837</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;height = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtheight</a>;</div>
<div class="line"><span class="lineno"> 1838</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basealpha = 1.0f;</div>
<div class="line"><span class="lineno"> 1839</span> </div>
<div class="line"><span class="lineno"> 1840</span>        <span class="comment">// start out with no animation</span></div>
<div class="line"><span class="lineno"> 1841</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentframe = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>;</div>
<div class="line"><span class="lineno"> 1842</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentskinframe = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0] : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1843</span> </div>
<div class="line"><span class="lineno"> 1844</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name[0] == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><span class="lineno"> 1845</span>        {</div>
<div class="line"><span class="lineno"> 1846</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;*lava&quot;</span>, 5))</div>
<div class="line"><span class="lineno"> 1847</span>            {</div>
<div class="line"><span class="lineno"> 1848</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_variable" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a>;</div>
<div class="line"><span class="lineno"> 1849</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;surfaceflags = <a class="code hl_variable" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 1850</span>            }</div>
<div class="line"><span class="lineno"> 1851</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;*slime&quot;</span>, 6))</div>
<div class="line"><span class="lineno"> 1852</span>            {</div>
<div class="line"><span class="lineno"> 1853</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_variable" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a>;</div>
<div class="line"><span class="lineno"> 1854</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;surfaceflags = <a class="code hl_variable" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 1855</span>            }</div>
<div class="line"><span class="lineno"> 1856</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1857</span>            {</div>
<div class="line"><span class="lineno"> 1858</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a>;</div>
<div class="line"><span class="lineno"> 1859</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;surfaceflags = <a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 1860</span>            }</div>
<div class="line"><span class="lineno"> 1861</span>        }</div>
<div class="line"><span class="lineno"> 1862</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;sky&quot;</span>, 3))</div>
<div class="line"><span class="lineno"> 1863</span>        {</div>
<div class="line"><span class="lineno"> 1864</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_variable" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a>;</div>
<div class="line"><span class="lineno"> 1865</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;surfaceflags = <a class="code hl_variable" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 1866</span>            <span class="comment">// for the surface traceline we need to hit this surface as a solid...</span></div>
<div class="line"><span class="lineno"> 1867</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents |= <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>;</div>
<div class="line"><span class="lineno"> 1868</span>        }</div>
<div class="line"><span class="lineno"> 1869</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1870</span>        {</div>
<div class="line"><span class="lineno"> 1871</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>.<a class="code hl_variable" href="structtexture__t.html#ac847398cbbad1420593be45b690ddb1a">supercontents</a>;</div>
<div class="line"><span class="lineno"> 1872</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;surfaceflags = <a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>.<a class="code hl_variable" href="structtexture__t.html#af9ed6cc4f0f978c2cec936d9c8f6ea00">surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 1873</span>        }</div>
<div class="line"><span class="lineno"> 1874</span> </div>
<div class="line"><span class="lineno"> 1875</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 1876</span>        {</div>
<div class="line"><span class="lineno"> 1877</span>            <a class="code hl_struct" href="structskinframe__t.html">skinframe_t</a> *skinframe = <a class="code hl_function" href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3">GAME_TENEBRAE</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name : <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;textures/%s/%s&quot;</span>, mapname, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a> | <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>);</div>
<div class="line"><span class="lineno"> 1878</span>            <span class="keywordflow">if</span> ((!skinframe &amp;&amp;</div>
<div class="line"><span class="lineno"> 1879</span>                !(skinframe = <a class="code hl_function" href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3">GAME_TENEBRAE</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name : <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;textures/%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a> | <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>)))</div>
<div class="line"><span class="lineno"> 1880</span>                <span class="comment">// HACK: It loads custom skybox textures as a wall if loaded as a skinframe.</span></div>
<div class="line"><span class="lineno"> 1881</span>                || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="stringliteral">&quot;sky&quot;</span>, 3))</div>
<div class="line"><span class="lineno"> 1882</span>            {</div>
<div class="line"><span class="lineno"> 1883</span>                <span class="comment">// did not find external texture via shader loading, load it from the bsp or wad3</span></div>
<div class="line"><span class="lineno"> 1884</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a>)</div>
<div class="line"><span class="lineno"> 1885</span>                {</div>
<div class="line"><span class="lineno"> 1886</span>                    <span class="comment">// internal texture overrides wad</span></div>
<div class="line"><span class="lineno"> 1887</span>                    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a>, * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">freepixels</a>;</div>
<div class="line"><span class="lineno"> 1888</span>                    <a class="code hl_variable" href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">freepixels</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1889</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtdata</a>)</div>
<div class="line"><span class="lineno"> 1890</span>                        <a class="code hl_variable" href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a> = <a class="code hl_function" href="wad_8c.html#aacfa16ea693c2d6a4fcbaedd7992408c">W_ConvertWAD3TextureBGRA</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptexsb</a>);</div>
<div class="line"><span class="lineno"> 1891</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1892</span>                        <a class="code hl_variable" href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">freepixels</a> = <a class="code hl_function" href="wad_8c.html#a9f8eb850811add6ad868aba81fac99c0">W_GetTextureBGRA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 1893</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1894</span>                    {</div>
<div class="line"><span class="lineno"> 1895</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;width = <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a>;</div>
<div class="line"><span class="lineno"> 1896</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;height = <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a>;</div>
<div class="line"><span class="lineno"> 1897</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0] = <a class="code hl_function" href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a>, <a class="code hl_variable" href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a>, <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a>, <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a>, <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a>, <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a>, <a class="code hl_function" href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a>(<a class="code hl_variable" href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a>, <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a> * <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a> * 4), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1898</span>                    }</div>
<div class="line"><span class="lineno"> 1899</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">freepixels</a>)</div>
<div class="line"><span class="lineno"> 1900</span>                        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">freepixels</a>);</div>
<div class="line"><span class="lineno"> 1901</span>                }</div>
<div class="line"><span class="lineno"> 1902</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;sky&quot;</span>, 3) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtwidth</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtheight</a> * 2)</div>
<div class="line"><span class="lineno"> 1903</span>                {</div>
<div class="line"><span class="lineno"> 1904</span>                    <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_function" href="image_8c.html#ab57af3ee2ad65f0fd5bd6caae299c657">loadimagepixelsbgra</a>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3">GAME_TENEBRAE</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name : <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;textures/%s/%s&quot;</span>, mapname, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 1905</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><span class="lineno"> 1906</span>                        <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_function" href="image_8c.html#ab57af3ee2ad65f0fd5bd6caae299c657">loadimagepixelsbgra</a>(<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3">GAME_TENEBRAE</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name : <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;textures/%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">false</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 1907</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> &amp;&amp; <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a> == <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a> * 2)</div>
<div class="line"><span class="lineno"> 1908</span>                    {</div>
<div class="line"><span class="lineno"> 1909</span>                        <a class="code hl_function" href="model__brush_8c.html#ada50575dcd3de0510160aa0c099c1151">Mod_Q1BSP_LoadSplitSky</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a>, <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a>, 4);</div>
<div class="line"><span class="lineno"> 1910</span>                        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>);</div>
<div class="line"><span class="lineno"> 1911</span>                    }</div>
<div class="line"><span class="lineno"> 1912</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtdata</a> != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 1913</span>                        <a class="code hl_function" href="model__brush_8c.html#ada50575dcd3de0510160aa0c099c1151">Mod_Q1BSP_LoadSplitSky</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtdata</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtheight</a>, 1);</div>
<div class="line"><span class="lineno"> 1914</span>                }</div>
<div class="line"><span class="lineno"> 1915</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtdata</a>) <span class="comment">// texture included</span></div>
<div class="line"><span class="lineno"> 1916</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0] = <a class="code hl_function" href="gl__rmain_8c.html#a0c95caa9dac22c71ed412705f036ba38">R_SkinFrame_LoadInternalQuake</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="gl__rmain_8c.html#a2900c6f4be4fcd7cd8dbcd7b4e3c3c15">r_fullbrights</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mtdata</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;width, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;height);</div>
<div class="line"><span class="lineno"> 1917</span>                <span class="comment">// if mtdata is NULL, the &quot;missing&quot; texture has already been assigned to this</span></div>
<div class="line"><span class="lineno"> 1918</span>                <span class="comment">// LadyHavoc: some Tenebrae textures get replaced by black</span></div>
<div class="line"><span class="lineno"> 1919</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;*glassmirror&quot;</span>, 12)) <span class="comment">// Tenebrae</span></div>
<div class="line"><span class="lineno"> 1920</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0] = <a class="code hl_function" href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">zerotrans</a>, 1, 1, 0, 0, 0, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1921</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;mirror&quot;</span>, 6)) <span class="comment">// Tenebrae</span></div>
<div class="line"><span class="lineno"> 1922</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0] = <a class="code hl_function" href="gl__rmain_8c.html#a6254a8f908da05ab79804175be40aec9">R_SkinFrame_LoadInternalBGRA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">zeroopaque</a>, 1, 1, 0, 0, 0, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1923</span>            }</div>
<div class="line"><span class="lineno"> 1924</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1925</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0] = skinframe;</div>
<div class="line"><span class="lineno"> 1926</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentskinframe = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0];</div>
<div class="line"><span class="lineno"> 1927</span>        }</div>
<div class="line"><span class="lineno"> 1928</span> </div>
<div class="line"><span class="lineno"> 1929</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags = <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a>;</div>
<div class="line"><span class="lineno"> 1930</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name[0] == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><span class="lineno"> 1931</span>        {</div>
<div class="line"><span class="lineno"> 1932</span>            <span class="comment">// LadyHavoc: some turbulent textures should not be affected by wateralpha</span></div>
<div class="line"><span class="lineno"> 1933</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;*glassmirror&quot;</span>, 12)) <span class="comment">// Tenebrae</span></div>
<div class="line"><span class="lineno"> 1934</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a> | <a class="code hl_define" href="model__brush_8h.html#a01917ff9223bf5f764ea1c9150d8b72d">MATERIALFLAG_ADD</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#aa7c4cb26c138264bb415dddb89455595">MATERIALFLAG_REFLECTION</a>;</div>
<div class="line"><span class="lineno"> 1935</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name,<span class="stringliteral">&quot;*lava&quot;</span>,5)</div>
<div class="line"><span class="lineno"> 1936</span>             || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name,<span class="stringliteral">&quot;*teleport&quot;</span>,9)</div>
<div class="line"><span class="lineno"> 1937</span>             || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name,<span class="stringliteral">&quot;*rift&quot;</span>,5)) <span class="comment">// Scourge of Armagon texture</span></div>
<div class="line"><span class="lineno"> 1938</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#afb908223468b412ea7499816ae9abcba">MATERIALFLAG_WATERSCROLL</a> | <a class="code hl_define" href="model__brush_8h.html#aef1a20e40e63bc392741591cc2b03b38">MATERIALFLAG_LIGHTBOTHSIDES</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 1939</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1940</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#afb908223468b412ea7499816ae9abcba">MATERIALFLAG_WATERSCROLL</a> | <a class="code hl_define" href="model__brush_8h.html#aef1a20e40e63bc392741591cc2b03b38">MATERIALFLAG_LIGHTBOTHSIDES</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a> | <a class="code hl_define" href="model__brush_8h.html#a5c1d0617ba29e72352f8324a2ad4e9bf">MATERIALFLAG_WATERALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a7055dcfb7e841b4f8df429bc32e9212f">MATERIALFLAG_WATERSHADER</a>;</div>
<div class="line"><span class="lineno"> 1941</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentskinframe != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentskinframe-&gt;hasalpha)</div>
<div class="line"><span class="lineno"> 1942</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 1943</span>        }</div>
<div class="line"><span class="lineno"> 1944</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name[0] == <span class="charliteral">&#39;{&#39;</span>) <span class="comment">// fence textures</span></div>
<div class="line"><span class="lineno"> 1945</span>        {</div>
<div class="line"><span class="lineno"> 1946</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a37fea1966eaa92d59dfa7f277d4a82a5">MATERIALFLAG_ALPHATEST</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 1947</span>        }</div>
<div class="line"><span class="lineno"> 1948</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;mirror&quot;</span>, 6)) <span class="comment">// Tenebrae</span></div>
<div class="line"><span class="lineno"> 1949</span>        {</div>
<div class="line"><span class="lineno"> 1950</span>            <span class="comment">// replace the texture with black</span></div>
<div class="line"><span class="lineno"> 1951</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#aa7c4cb26c138264bb415dddb89455595">MATERIALFLAG_REFLECTION</a>;</div>
<div class="line"><span class="lineno"> 1952</span>        }</div>
<div class="line"><span class="lineno"> 1953</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;sky&quot;</span>, 3))</div>
<div class="line"><span class="lineno"> 1954</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags = <a class="code hl_define" href="model__brush_8h.html#a088347aa145a9d1bae60024278840b34">MATERIALFLAG_SKY</a>;</div>
<div class="line"><span class="lineno"> 1955</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name, <span class="stringliteral">&quot;caulk&quot;</span>))</div>
<div class="line"><span class="lineno"> 1956</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags = <a class="code hl_define" href="model__brush_8h.html#a2e9becc912ba5cde5aee7f7db908e965">MATERIALFLAG_NODRAW</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 1957</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentskinframe != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentskinframe-&gt;hasalpha)</div>
<div class="line"><span class="lineno"> 1958</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 1959</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentmaterialflags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags;</div>
<div class="line"><span class="lineno"> 1960</span> </div>
<div class="line"><span class="lineno"> 1961</span>        <span class="comment">// duplicate of sky with NOSHADOW</span></div>
<div class="line"><span class="lineno"> 1962</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags &amp; <a class="code hl_define" href="model__brush_8h.html#a088347aa145a9d1bae60024278840b34">MATERIALFLAG_SKY</a>)</div>
<div class="line"><span class="lineno"> 1963</span>        {</div>
<div class="line"><span class="lineno"> 1964</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentskynoshadowtexture</a> = *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>;</div>
<div class="line"><span class="lineno"> 1965</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentskynoshadowtexture</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 1966</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;skynoshadowtexture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentskynoshadowtexture</a>;</div>
<div class="line"><span class="lineno"> 1967</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">currentskynoshadowtexture</a>++;</div>
<div class="line"><span class="lineno"> 1968</span>        }</div>
<div class="line"><span class="lineno"> 1969</span>    }</div>
<div class="line"><span class="lineno"> 1970</span> </div>
<div class="line"><span class="lineno"> 1971</span>    <span class="comment">// sequence the animations</span></div>
<div class="line"><span class="lineno"> 1972</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummiptex</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1973</span>    {</div>
<div class="line"><span class="lineno"> 1974</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1975</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name[0] != <span class="charliteral">&#39;+&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name[1] == 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name[2] == 0)</div>
<div class="line"><span class="lineno"> 1976</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1977</span>        num = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>[1];</div>
<div class="line"><span class="lineno"> 1978</span>        <span class="keywordflow">if</span> ((num &lt; <span class="charliteral">&#39;0&#39;</span> || num &gt; <span class="charliteral">&#39;9&#39;</span>) &amp;&amp; (num &lt; <span class="charliteral">&#39;a&#39;</span> || num &gt; <span class="charliteral">&#39;j&#39;</span>))</div>
<div class="line"><span class="lineno"> 1979</span>        {</div>
<div class="line"><span class="lineno"> 1980</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Bad animating texture %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 1981</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1982</span>        }</div>
<div class="line"><span class="lineno"> 1983</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;anim_total[0] || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;anim_total[1])</div>
<div class="line"><span class="lineno"> 1984</span>            <span class="keywordflow">continue</span>;   <span class="comment">// already sequenced</span></div>
<div class="line"><span class="lineno"> 1985</span> </div>
<div class="line"><span class="lineno"> 1986</span>        <span class="comment">// find the number of frames in the animation</span></div>
<div class="line"><span class="lineno"> 1987</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>));</div>
<div class="line"><span class="lineno"> 1988</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>));</div>
<div class="line"><span class="lineno"> 1989</span> </div>
<div class="line"><span class="lineno"> 1990</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummiptex</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1991</span>        {</div>
<div class="line"><span class="lineno"> 1992</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 1993</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;name[0] != <span class="charliteral">&#39;+&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;name+2, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name+2))</div>
<div class="line"><span class="lineno"> 1994</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1995</span> </div>
<div class="line"><span class="lineno"> 1996</span>            num = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>[1];</div>
<div class="line"><span class="lineno"> 1997</span>            <span class="keywordflow">if</span> (num &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; num &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><span class="lineno"> 1998</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[num - <span class="charliteral">&#39;0&#39;</span>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>;</div>
<div class="line"><span class="lineno"> 1999</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (num &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; num &lt;= <span class="charliteral">&#39;j&#39;</span>)</div>
<div class="line"><span class="lineno"> 2000</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[num - <span class="charliteral">&#39;a&#39;</span>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>;</div>
<div class="line"><span class="lineno"> 2001</span>            <span class="comment">// No need to warn otherwise - we already did above.</span></div>
<div class="line"><span class="lineno"> 2002</span>        }</div>
<div class="line"><span class="lineno"> 2003</span> </div>
<div class="line"><span class="lineno"> 2004</span>        <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a> = 0;</div>
<div class="line"><span class="lineno"> 2005</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 10;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2006</span>        {</div>
<div class="line"><span class="lineno"> 2007</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>])</div>
<div class="line"><span class="lineno"> 2008</span>                <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> + 1;</div>
<div class="line"><span class="lineno"> 2009</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>])</div>
<div class="line"><span class="lineno"> 2010</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> + 1;</div>
<div class="line"><span class="lineno"> 2011</span>        }</div>
<div class="line"><span class="lineno"> 2012</span>        <span class="comment">//Con_Printf(&quot;linking animation %s (%i:%i frames)\n\n&quot;, tx-&gt;name, max, altmax);</span></div>
<div class="line"><span class="lineno"> 2013</span> </div>
<div class="line"><span class="lineno"> 2014</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incomplete</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2015</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2016</span>        {</div>
<div class="line"><span class="lineno"> 2017</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>])</div>
<div class="line"><span class="lineno"> 2018</span>            {</div>
<div class="line"><span class="lineno"> 2019</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Missing frame %i of %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 2020</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incomplete</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2021</span>            }</div>
<div class="line"><span class="lineno"> 2022</span>        }</div>
<div class="line"><span class="lineno"> 2023</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2024</span>        {</div>
<div class="line"><span class="lineno"> 2025</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>])</div>
<div class="line"><span class="lineno"> 2026</span>            {</div>
<div class="line"><span class="lineno"> 2027</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Missing altframe %i of %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 2028</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incomplete</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2029</span>            }</div>
<div class="line"><span class="lineno"> 2030</span>        }</div>
<div class="line"><span class="lineno"> 2031</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">incomplete</a>)</div>
<div class="line"><span class="lineno"> 2032</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2033</span> </div>
<div class="line"><span class="lineno"> 2034</span>        <span class="comment">// If we have exactly one frame, something&#39;s wrong.</span></div>
<div class="line"><span class="lineno"> 2035</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a> &lt;= 1)</div>
<div class="line"><span class="lineno"> 2036</span>        {</div>
<div class="line"><span class="lineno"> 2037</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Texture %s is animated (leading +) but has only one frame\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 2038</span>        }</div>
<div class="line"><span class="lineno"> 2039</span> </div>
<div class="line"><span class="lineno"> 2040</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a> &lt; 1)</div>
<div class="line"><span class="lineno"> 2041</span>        {</div>
<div class="line"><span class="lineno"> 2042</span>            <span class="comment">// if there is no alternate animation, duplicate the primary</span></div>
<div class="line"><span class="lineno"> 2043</span>            <span class="comment">// animation into the alternate</span></div>
<div class="line"><span class="lineno"> 2044</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>;</div>
<div class="line"><span class="lineno"> 2045</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 10;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 2046</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 2047</span>        }</div>
<div class="line"><span class="lineno"> 2048</span> </div>
<div class="line"><span class="lineno"> 2049</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> &lt; 1)</div>
<div class="line"><span class="lineno"> 2050</span>        {</div>
<div class="line"><span class="lineno"> 2051</span>            <span class="comment">// Warn.</span></div>
<div class="line"><span class="lineno"> 2052</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Missing frame 0 of %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 2053</span> </div>
<div class="line"><span class="lineno"> 2054</span>            <span class="comment">// however, we can handle this by duplicating the alternate animation into the primary</span></div>
<div class="line"><span class="lineno"> 2055</span>            <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a>;</div>
<div class="line"><span class="lineno"> 2056</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 10;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 2057</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 2058</span>        }</div>
<div class="line"><span class="lineno"> 2059</span> </div>
<div class="line"><span class="lineno"> 2060</span> </div>
<div class="line"><span class="lineno"> 2061</span>        <span class="comment">// link together the primary animation</span></div>
<div class="line"><span class="lineno"> 2062</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2063</span>        {</div>
<div class="line"><span class="lineno"> 2064</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];</div>
<div class="line"><span class="lineno"> 2065</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;animated = 1; <span class="comment">// q1bsp</span></div>
<div class="line"><span class="lineno"> 2066</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;anim_total[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>;</div>
<div class="line"><span class="lineno"> 2067</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;anim_total[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a>;</div>
<div class="line"><span class="lineno"> 2068</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 10;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 2069</span>            {</div>
<div class="line"><span class="lineno"> 2070</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;anim_frames[0][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 2071</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;anim_frames[1][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 2072</span>            }</div>
<div class="line"><span class="lineno"> 2073</span>        }</div>
<div class="line"><span class="lineno"> 2074</span> </div>
<div class="line"><span class="lineno"> 2075</span>        <span class="comment">// if there really is an alternate anim...</span></div>
<div class="line"><span class="lineno"> 2076</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[0] != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[0])</div>
<div class="line"><span class="lineno"> 2077</span>        {</div>
<div class="line"><span class="lineno"> 2078</span>            <span class="comment">// link together the alternate animation</span></div>
<div class="line"><span class="lineno"> 2079</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 2080</span>            {</div>
<div class="line"><span class="lineno"> 2081</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];</div>
<div class="line"><span class="lineno"> 2082</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;animated = 1; <span class="comment">// q1bsp</span></div>
<div class="line"><span class="lineno"> 2083</span>                <span class="comment">// the primary/alternate are reversed here</span></div>
<div class="line"><span class="lineno"> 2084</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;anim_total[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altmax</a>;</div>
<div class="line"><span class="lineno"> 2085</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;anim_total[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>;</div>
<div class="line"><span class="lineno"> 2086</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 10;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 2087</span>                {</div>
<div class="line"><span class="lineno"> 2088</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;anim_frames[0][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">altanims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 2089</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx2</a>-&gt;anim_frames[1][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">anims</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 2090</span>                }</div>
<div class="line"><span class="lineno"> 2091</span>            }</div>
<div class="line"><span class="lineno"> 2092</span>        }</div>
<div class="line"><span class="lineno"> 2093</span>    }</div>
<div class="line"><span class="lineno"> 2094</span>}</div>
<div class="ttc" id="acom__crc16_8c_html_aa9ba811c20537ebd01898928be2de439"><div class="ttname"><a href="com__crc16_8c.html#aa9ba811c20537ebd01898928be2de439">CRC_Block</a></div><div class="ttdeci">unsigned short CRC_Block(const unsigned char *data, size_t size)</div><div class="ttdef"><b>Definition</b> <a href="com__crc16_8c_source.html#l00075">com_crc16.c:75</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3">GAME_TENEBRAE</a></div><div class="ttdeci">@ GAME_TENEBRAE</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00041">com_game.h:41</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a0c95caa9dac22c71ed412705f036ba38"><div class="ttname"><a href="gl__rmain_8c.html#a0c95caa9dac22c71ed412705f036ba38">R_SkinFrame_LoadInternalQuake</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadInternalQuake(const char *name, int textureflags, int loadpantsandshirt, int loadglowtexture, const unsigned char *skindata, int width, int height)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02615">gl_rmain.c:2615</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a2900c6f4be4fcd7cd8dbcd7b4e3c3c15"><div class="ttname"><a href="gl__rmain_8c.html#a2900c6f4be4fcd7cd8dbcd7b4e3c3c15">r_fullbrights</a></div><div class="ttdeci">cvar_t r_fullbrights</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l00122">gl_rmain.c:122</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_a5960c03dbcd8d4f38b765ca7260aa838"><div class="ttname"><a href="gl__rmain_8c.html#a5960c03dbcd8d4f38b765ca7260aa838">R_SkinFrame_LoadExternal</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadExternal(const char *name, int textureflags, qbool complain, qbool fallbacknotexture)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02313">gl_rmain.c:2313</a></div></div>
<div class="ttc" id="agl__rmain_8c_html_ab71c98f74d459505c37064d162f76e46"><div class="ttname"><a href="gl__rmain_8c.html#ab71c98f74d459505c37064d162f76e46">R_SkinFrame_LoadMissing</a></div><div class="ttdeci">skinframe_t * R_SkinFrame_LoadMissing(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__rmain_8c_source.html#l02803">gl_rmain.c:2803</a></div></div>
<div class="ttc" id="aglquake_8h_html_aaa55a0b4cbd9f55bae7800161588d229"><div class="ttname"><a href="glquake_8h.html#aaa55a0b4cbd9f55bae7800161588d229">pixels</a></div><div class="ttdeci">GLint GLenum GLenum GLvoid * pixels</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00705">glquake.h:705</a></div></div>
<div class="ttc" id="aimage_8c_html_a1e0e6a62a1d85a2fdf500d466ea7a33f"><div class="ttname"><a href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a></div><div class="ttdeci">int image_height</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00010">image.c:10</a></div></div>
<div class="ttc" id="aimage_8c_html_ab57af3ee2ad65f0fd5bd6caae299c657"><div class="ttname"><a href="image_8c.html#ab57af3ee2ad65f0fd5bd6caae299c657">loadimagepixelsbgra</a></div><div class="ttdeci">unsigned char * loadimagepixelsbgra(const char *filename, qbool complain, qbool allowFixtrans, qbool convertsRGB, int *miplevel)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l01043">image.c:1043</a></div></div>
<div class="ttc" id="aimage_8c_html_adcdf062bf62cd36e741bd190386f5fdb"><div class="ttname"><a href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a></div><div class="ttdeci">int image_width</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00009">image.c:9</a></div></div>
<div class="ttc" id="amathlib_8h_html_a14557f9ae9e8f7db1736479bc3eccc4b"><div class="ttname"><a href="mathlib_8h.html#a14557f9ae9e8f7db1736479bc3eccc4b">Vector4Set</a></div><div class="ttdeci">#define Vector4Set(a, b, c, d, e)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00085">mathlib.h:85</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ada50575dcd3de0510160aa0c099c1151"><div class="ttname"><a href="model__brush_8c.html#ada50575dcd3de0510160aa0c099c1151">Mod_Q1BSP_LoadSplitSky</a></div><div class="ttdeci">static void Mod_Q1BSP_LoadSplitSky(unsigned char *src, int width, int height, int bytesperpixel)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01568">model_brush.c:1568</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a01917ff9223bf5f764ea1c9150d8b72d"><div class="ttname"><a href="model__brush_8h.html#a01917ff9223bf5f764ea1c9150d8b72d">MATERIALFLAG_ADD</a></div><div class="ttdeci">#define MATERIALFLAG_ADD</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00081">model_brush.h:81</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a226c2113f3731bc223694bd3e391504a"><div class="ttname"><a href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a></div><div class="ttdeci">#define MATERIALFLAG_ALPHA</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00079">model_brush.h:79</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a2e9becc912ba5cde5aee7f7db908e965"><div class="ttname"><a href="model__brush_8h.html#a2e9becc912ba5cde5aee7f7db908e965">MATERIALFLAG_NODRAW</a></div><div class="ttdeci">#define MATERIALFLAG_NODRAW</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00096">model_brush.h:96</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a37fea1966eaa92d59dfa7f277d4a82a5"><div class="ttname"><a href="model__brush_8h.html#a37fea1966eaa92d59dfa7f277d4a82a5">MATERIALFLAG_ALPHATEST</a></div><div class="ttdeci">#define MATERIALFLAG_ALPHATEST</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00100">model_brush.h:100</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a42368df686065f708f6eed1c1fa8e1cc"><div class="ttname"><a href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a></div><div class="ttdeci">#define MATERIALFLAG_BLENDED</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00103">model_brush.h:103</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a5c1d0617ba29e72352f8324a2ad4e9bf"><div class="ttname"><a href="model__brush_8h.html#a5c1d0617ba29e72352f8324a2ad4e9bf">MATERIALFLAG_WATERALPHA</a></div><div class="ttdeci">#define MATERIALFLAG_WATERALPHA</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00085">model_brush.h:85</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a7055dcfb7e841b4f8df429bc32e9212f"><div class="ttname"><a href="model__brush_8h.html#a7055dcfb7e841b4f8df429bc32e9212f">MATERIALFLAG_WATERSHADER</a></div><div class="ttdeci">#define MATERIALFLAG_WATERSHADER</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00115">model_brush.h:115</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a9d19d304b198ae8d36c3f5fd31c64473"><div class="ttname"><a href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a></div><div class="ttdeci">#define MATERIALFLAG_NOSHADOW</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00107">model_brush.h:107</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_aa7c4cb26c138264bb415dddb89455595"><div class="ttname"><a href="model__brush_8h.html#aa7c4cb26c138264bb415dddb89455595">MATERIALFLAG_REFLECTION</a></div><div class="ttdeci">#define MATERIALFLAG_REFLECTION</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00119">model_brush.h:119</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_aef1a20e40e63bc392741591cc2b03b38"><div class="ttname"><a href="model__brush_8h.html#aef1a20e40e63bc392741591cc2b03b38">MATERIALFLAG_LIGHTBOTHSIDES</a></div><div class="ttdeci">#define MATERIALFLAG_LIGHTBOTHSIDES</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00098">model_brush.h:98</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_afb908223468b412ea7499816ae9abcba"><div class="ttname"><a href="model__brush_8h.html#afb908223468b412ea7499816ae9abcba">MATERIALFLAG_WATERSCROLL</a></div><div class="ttdeci">#define MATERIALFLAG_WATERSCROLL</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00094">model_brush.h:94</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a1694c78ec74a4c2a96c00ea69cf44ef7"><div class="ttname"><a href="model__shared_8c.html#a1694c78ec74a4c2a96c00ea69cf44ef7">Mod_LoadTextureFromQ3Shader</a></div><div class="ttdeci">qbool Mod_LoadTextureFromQ3Shader(mempool_t *mempool, const char *modelname, texture_t *texture, const char *name, qbool warnmissing, qbool fallback, int defaulttexflags, int defaultmaterialflags)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02270">model_shared.c:2270</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a3aeb019546a6a3c64accee040d01f336"><div class="ttname"><a href="model__shared_8c.html#a3aeb019546a6a3c64accee040d01f336">Mod_CreateShaderPass</a></div><div class="ttdeci">texture_shaderpass_t * Mod_CreateShaderPass(mempool_t *mempool, skinframe_t *skinframe)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02236">model_shared.c:2236</a></div></div>
<div class="ttc" id="ar__qshader_8h_html_a72d5e32663fb1b0c369079ca0be01f37a2a635f265dd33d939e6dcd1482147080"><div class="ttname"><a href="r__qshader_8h.html#a72d5e32663fb1b0c369079ca0be01f37a2a635f265dd33d939e6dcd1482147080">TRANSPARENTSORT_DISTANCE</a></div><div class="ttdeci">@ TRANSPARENTSORT_DISTANCE</div><div class="ttdef"><b>Definition</b> <a href="r__qshader_8h_source.html#l00194">r_qshader.h:194</a></div></div>
<div class="ttc" id="ar__qshader_8h_html_a905d789c405c635371eae15d1b6ad8dca117ca548e7750c4ed09cad4ba3f68eca"><div class="ttname"><a href="r__qshader_8h.html#a905d789c405c635371eae15d1b6ad8dca117ca548e7750c4ed09cad4ba3f68eca">OFFSETMAPPING_DEFAULT</a></div><div class="ttdeci">@ OFFSETMAPPING_DEFAULT</div><div class="ttdef"><b>Definition</b> <a href="r__qshader_8h_source.html#l00186">r_qshader.h:186</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a1e458ef28d5c5978bc1315f4a5b54aef"><div class="ttname"><a href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a></div><div class="ttdeci">#define TEXF_PICMIP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00021">r_textures.h:21</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a7ed15e202aa5ce1ef37ef412348a6468"><div class="ttname"><a href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a></div><div class="ttdeci">#define TEXF_MIPMAP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00011">r_textures.h:11</a></div></div>
<div class="ttc" id="ar__textures_8h_html_a8367a0dbf5389896f956ab599fc394d8"><div class="ttname"><a href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a></div><div class="ttdeci">#define TEXF_ISWORLD</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00033">r_textures.h:33</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab19c18de47f490e8f226052c34b577b8"><div class="ttname"><a href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a></div><div class="ttdeci">#define TEXF_COMPRESS</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00023">r_textures.h:23</a></div></div>
<div class="ttc" id="astructcvar__t_html_a305faa0167494135297f1b8e6216d469"><div class="ttname"><a href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">cvar_t::value</a></div><div class="ttdeci">float value</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00074">cvar.h:74</a></div></div>
<div class="ttc" id="astructskinframe__t_html"><div class="ttname"><a href="structskinframe__t.html">skinframe_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00125">r_textures.h:126</a></div></div>
<div class="ttc" id="astructtexture__t_html_ac20ede2abaf4a6224df80b23d1eb10e5"><div class="ttname"><a href="structtexture__t.html#ac20ede2abaf4a6224df80b23d1eb10e5">texture_t::width</a></div><div class="ttdeci">unsigned int width</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00194">model_shared.h:194</a></div></div>
<div class="ttc" id="awad_8c_html_a9f8eb850811add6ad868aba81fac99c0"><div class="ttname"><a href="wad_8c.html#a9f8eb850811add6ad868aba81fac99c0">W_GetTextureBGRA</a></div><div class="ttdeci">unsigned char * W_GetTextureBGRA(char *name)</div><div class="ttdef"><b>Definition</b> <a href="wad_8c_source.html#l00277">wad.c:277</a></div></div>
<div class="ttc" id="awad_8c_html_aacfa16ea693c2d6a4fcbaedd7992408c"><div class="ttname"><a href="wad_8c.html#aacfa16ea693c2d6a4fcbaedd7992408c">W_ConvertWAD3TextureBGRA</a></div><div class="ttdeci">unsigned char * W_ConvertWAD3TextureBGRA(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="wad_8c_source.html#l00226">wad.c:226</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a0765492c0b40a0b68d17b590383e921b" name="a0765492c0b40a0b68d17b590383e921b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0765492c0b40a0b68d17b590383e921b">&#9670;&#160;</a></span>Mod_Q1BSP_LoadVertexes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadVertexes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02261">2261</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2262</span>{</div>
<div class="line"><span class="lineno"> 2263</span>    <a class="code hl_struct" href="structmvertex__t.html">mvertex_t</a>   *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2264</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2265</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 12;</div>
<div class="line"><span class="lineno"> 2266</span> </div>
<div class="line"><span class="lineno"> 2267</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 2268</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadVertexes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 2269</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 2270</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmvertex__t.html">mvertex_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 2271</span> </div>
<div class="line"><span class="lineno"> 2272</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a0f37e90f1862c9db1de9293604fcbf64">vertexes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 2273</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 2274</span> </div>
<div class="line"><span class="lineno"> 2275</span>    <span class="keywordflow">for</span> ( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 2276</span>    {</div>
<div class="line"><span class="lineno"> 2277</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;position[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2278</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;position[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2279</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;position[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 2280</span>    }</div>
<div class="line"><span class="lineno"> 2281</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="ad3d233e4eedfdbda3d42b73d1b7309f4" name="ad3d233e4eedfdbda3d42b73d1b7309f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d233e4eedfdbda3d42b73d1b7309f4">&#9670;&#160;</a></span>Mod_Q1BSP_LoadVisibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_LoadVisibility </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02180">2180</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2181</span>{</div>
<div class="line"><span class="lineno"> 2182</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a663ce8105fb244c9ec16617834f95160">num_compressedpvs</a> = 0;</div>
<div class="line"><span class="lineno"> 2183</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2184</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize)</div>
<div class="line"><span class="lineno"> 2185</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2186</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a663ce8105fb244c9ec16617834f95160">num_compressedpvs</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize;</div>
<div class="line"><span class="lineno"> 2187</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize);</div>
<div class="line"><span class="lineno"> 2188</span>    <a class="code hl_function" href="com__msg_8c.html#a4dad1f08fe43f599ea024f527edac678">MSG_ReadBytes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a>);</div>
<div class="line"><span class="lineno"> 2189</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="ad32d2fdfda3d46539089b009decb174a" name="ad32d2fdfda3d46539089b009decb174a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad32d2fdfda3d46539089b009decb174a">&#9670;&#160;</a></span>Mod_Q1BSP_MakeHull0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_MakeHull0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03154">3154</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3155</span>{</div>
<div class="line"><span class="lineno"> 3156</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a>     *in;</div>
<div class="line"><span class="lineno"> 3157</span>    <a class="code hl_struct" href="structmclipnode__t.html">mclipnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 3158</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3159</span>    <a class="code hl_struct" href="structhull__t.html">hull_t</a>      *hull;</div>
<div class="line"><span class="lineno"> 3160</span> </div>
<div class="line"><span class="lineno"> 3161</span>    hull = &amp;<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0];</div>
<div class="line"><span class="lineno"> 3162</span> </div>
<div class="line"><span class="lineno"> 3163</span>    in = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a>;</div>
<div class="line"><span class="lineno"> 3164</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmclipnode__t.html">mclipnode_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 3165</span> </div>
<div class="line"><span class="lineno"> 3166</span>    hull-&gt;<a class="code hl_variable" href="structhull__t.html#a4fa5d9ae1fcb1cba1ed6aa6c633b931f">clipnodes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 3167</span>    hull-&gt;<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a> = 0;</div>
<div class="line"><span class="lineno"> 3168</span>    hull-&gt;<a class="code hl_variable" href="structhull__t.html#a6d125fbfe4610653f319d2f1ff5b8957">lastclipnode</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a> - 1;</div>
<div class="line"><span class="lineno"> 3169</span>    hull-&gt;<a class="code hl_variable" href="structhull__t.html#aaf09b1a8f8a1e520c029e09615817249">planes</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a>;</div>
<div class="line"><span class="lineno"> 3170</span> </div>
<div class="line"><span class="lineno"> 3171</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++, in++)</div>
<div class="line"><span class="lineno"> 3172</span>    {</div>
<div class="line"><span class="lineno"> 3173</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;planenum = in-&gt;<a class="code hl_variable" href="structmnode__t.html#ae63a6ed5d9c4af5cc20f96cf9207334d">plane</a> - <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a>;</div>
<div class="line"><span class="lineno"> 3174</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[0] = in-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[0]-&gt;plane ? in-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[0] - <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> : ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)in-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[0])-&gt;contents;</div>
<div class="line"><span class="lineno"> 3175</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[1] = in-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[1]-&gt;plane ? in-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[1] - <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> : ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)in-&gt;<a class="code hl_variable" href="structmnode__t.html#ab9a05590c2a224ea60fbbcbf50eaf52a">children</a>[1])-&gt;contents;</div>
<div class="line"><span class="lineno"> 3176</span>    }</div>
<div class="line"><span class="lineno"> 3177</span>}</div>
<div class="ttc" id="astructmnode__t_html_ae63a6ed5d9c4af5cc20f96cf9207334d"><div class="ttname"><a href="structmnode__t.html#ae63a6ed5d9c4af5cc20f96cf9207334d">mnode_t::plane</a></div><div class="ttdeci">mplane_t * plane</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00156">model_brush.h:156</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a5a5b192b1222eacd1e23dfdeab66ab62" name="a5a5b192b1222eacd1e23dfdeab66ab62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5b192b1222eacd1e23dfdeab66ab62">&#9670;&#160;</a></span>Mod_Q1BSP_NativeContentsFromSuperContents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q1BSP_NativeContentsFromSuperContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>supercontents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00648">648</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  649</span>{</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">if</span> (supercontents &amp; (<a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>))</div>
<div class="line"><span class="lineno">  651</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a9b61ab90973e8137f342425ab3191cbe">CONTENTS_SOLID</a>;</div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a0a2fa78587a49f238efd2b5067e66361">SUPERCONTENTS_SKY</a>)</div>
<div class="line"><span class="lineno">  653</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#ab90a98ae6a9633ded37969568c748dd6">CONTENTS_SKY</a>;</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a>)</div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a4822e1693851ba9c47eabd1aea1ffbdd">CONTENTS_LAVA</a>;</div>
<div class="line"><span class="lineno">  656</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>)</div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#ac74aa6092339c35717e12dc058040a01">CONTENTS_SLIME</a>;</div>
<div class="line"><span class="lineno">  658</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a>)</div>
<div class="line"><span class="lineno">  659</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#ade922e5f0b8f2b02147858c2b6d579cc">CONTENTS_WATER</a>;</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#af408f18a1c9fcfe68dc88036d6186522">CONTENTS_EMPTY</a>;</div>
<div class="line"><span class="lineno">  661</span>}</div>
<div class="ttc" id="abspfile_8h_html_a141cf05726f903843bc66d2365f56bd2"><div class="ttname"><a href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a></div><div class="ttdeci">#define SUPERCONTENTS_BODY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00201">bspfile.h:201</a></div></div>
<div class="ttc" id="abspfile_8h_html_a4822e1693851ba9c47eabd1aea1ffbdd"><div class="ttname"><a href="bspfile_8h.html#a4822e1693851ba9c47eabd1aea1ffbdd">CONTENTS_LAVA</a></div><div class="ttdeci">#define CONTENTS_LAVA</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00137">bspfile.h:137</a></div></div>
<div class="ttc" id="abspfile_8h_html_ab90a98ae6a9633ded37969568c748dd6"><div class="ttname"><a href="bspfile_8h.html#ab90a98ae6a9633ded37969568c748dd6">CONTENTS_SKY</a></div><div class="ttdeci">#define CONTENTS_SKY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00138">bspfile.h:138</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="sv__phys_8c_source.html#l02152">SV_CheckWater()</a>, <a class="el" href="sv__phys_8c_source.html#l02553">SV_CheckWaterTransition()</a>, <a class="el" href="clvm__cmds_8c_source.html#l00698">VM_CL_pointcontents()</a>, and <a class="el" href="svvm__cmds_8c_source.html#l01336">VM_SV_pointcontents()</a>.</p>

</div>
</div>
<a id="ab04ada66289fec52a498d6320993e4fb" name="ab04ada66289fec52a498d6320993e4fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04ada66289fec52a498d6320993e4fb">&#9670;&#160;</a></span>Mod_Q1BSP_ParseWadsFromEntityLump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_ParseWadsFromEntityLump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l02192">2192</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2193</span>{</div>
<div class="line"><span class="lineno"> 2194</span>    <span class="keywordtype">char</span> key[128], <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[4096];</div>
<div class="line"><span class="lineno"> 2195</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 2196</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><span class="lineno"> 2197</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2198</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 2199</span>        <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 2200</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] != <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><span class="lineno"> 2201</span>        <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 2202</span>    <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno"> 2203</span>    {</div>
<div class="line"><span class="lineno"> 2204</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 2205</span>            <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 2206</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;}&#39;</span>)</div>
<div class="line"><span class="lineno"> 2207</span>            <span class="keywordflow">break</span>; <span class="comment">// end of worldspawn</span></div>
<div class="line"><span class="lineno"> 2208</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;_&#39;</span>)</div>
<div class="line"><span class="lineno"> 2209</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(key, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a> + 1, <span class="keyword">sizeof</span>(key));</div>
<div class="line"><span class="lineno"> 2210</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2211</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(key, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(key));</div>
<div class="line"><span class="lineno"> 2212</span>        <span class="keywordflow">while</span> (key[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(key)-1] == <span class="charliteral">&#39; &#39;</span>) <span class="comment">// remove trailing spaces</span></div>
<div class="line"><span class="lineno"> 2213</span>            key[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(key)-1] = 0;</div>
<div class="line"><span class="lineno"> 2214</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 2215</span>            <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 2216</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>), <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>);</div>
<div class="line"><span class="lineno"> 2217</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<span class="stringliteral">&quot;wad&quot;</span>, key)) <span class="comment">// for HalfLife maps</span></div>
<div class="line"><span class="lineno"> 2218</span>        {</div>
<div class="line"><span class="lineno"> 2219</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a>)</div>
<div class="line"><span class="lineno"> 2220</span>            {</div>
<div class="line"><span class="lineno"> 2221</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;</div>
<div class="line"><span class="lineno"> 2222</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>);<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2223</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39;;&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno"> 2224</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2225</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><span class="lineno"> 2226</span>                {</div>
<div class="line"><span class="lineno"> 2227</span>                    <span class="keywordflow">for</span> (;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>);<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 2228</span>                    {</div>
<div class="line"><span class="lineno"> 2229</span>                        <span class="comment">// ignore path - the \\ check is for HalfLife... stupid windoze &#39;programmers&#39;...</span></div>
<div class="line"><span class="lineno"> 2230</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;\\&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;/&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno"> 2231</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1;</div>
<div class="line"><span class="lineno"> 2232</span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;;&#39;</span> || <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == 0)</div>
<div class="line"><span class="lineno"> 2233</span>                        {</div>
<div class="line"><span class="lineno"> 2234</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 2235</span>                            <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><span class="lineno"> 2236</span>                            <a class="code hl_function" href="wad_8c.html#a8f032cc4e1b0648f7e1b7e62473e7c17">W_LoadTextureWadFile</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>], <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2237</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1;</div>
<div class="line"><span class="lineno"> 2238</span>                            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)</div>
<div class="line"><span class="lineno"> 2239</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2240</span>                        }</div>
<div class="line"><span class="lineno"> 2241</span>                    }</div>
<div class="line"><span class="lineno"> 2242</span>                }</div>
<div class="line"><span class="lineno"> 2243</span>            }</div>
<div class="line"><span class="lineno"> 2244</span>        }</div>
<div class="line"><span class="lineno"> 2245</span>    }</div>
<div class="line"><span class="lineno"> 2246</span>}</div>
<div class="ttc" id="aglquake_8h_html_a303f3de7a8816217b5a6987c647164b1"><div class="ttname"><a href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a></div><div class="ttdeci">GLsizei const GLfloat * value</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00739">glquake.h:739</a></div></div>
<div class="ttc" id="awad_8c_html_a8f032cc4e1b0648f7e1b7e62473e7c17"><div class="ttname"><a href="wad_8c.html#a8f032cc4e1b0648f7e1b7e62473e7c17">W_LoadTextureWadFile</a></div><div class="ttdeci">void W_LoadTextureWadFile(char *filename, int complain)</div><div class="ttdef"><b>Definition</b> <a href="wad_8c_source.html#l00165">wad.c:165</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l02248">Mod_Q1BSP_LoadEntities()</a>.</p>

</div>
</div>
<a id="a0197d508be472fdae0a917309e5ca4b2" name="a0197d508be472fdae0a917309e5ca4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0197d508be472fdae0a917309e5ca4b2">&#9670;&#160;</a></span>Mod_Q1BSP_PointSuperContents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q1BSP_PointSuperContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01037">1037</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1038</span>{</div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordtype">int</span> num = model-&gt;brushq1.hulls[0].firstclipnode;</div>
<div class="line"><span class="lineno"> 1040</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *plane;</div>
<div class="line"><span class="lineno"> 1041</span>    <a class="code hl_struct" href="structmclipnode__t.html">mclipnode_t</a> *nodes = model-&gt;brushq1.hulls[0].clipnodes;</div>
<div class="line"><span class="lineno"> 1042</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *planes = model-&gt;brushq1.hulls[0].planes;</div>
<div class="line"><span class="lineno"> 1043</span>    <span class="keywordflow">while</span> (num &gt;= 0)</div>
<div class="line"><span class="lineno"> 1044</span>    {</div>
<div class="line"><span class="lineno"> 1045</span>        plane = planes + nodes[num].<a class="code hl_variable" href="structmclipnode__t.html#a0a1508a21828fb7b4570884252445e97">planenum</a>;</div>
<div class="line"><span class="lineno"> 1046</span>        num = nodes[num].<a class="code hl_variable" href="structmclipnode__t.html#a3387c66d0a8e6283e86cbc79efbead65">children</a>[(plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a> &lt; 3 ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] : <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>)) &lt; plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>];</div>
<div class="line"><span class="lineno"> 1047</span>    }</div>
<div class="line"><span class="lineno"> 1048</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="model__brush_8c.html#a235b8af89a030c6fb731267b0ef36e8e">Mod_Q1BSP_SuperContentsFromNativeContents</a>(num);</div>
<div class="line"><span class="lineno"> 1049</span>}</div>
<div class="ttc" id="astructmclipnode__t_html_a0a1508a21828fb7b4570884252445e97"><div class="ttname"><a href="structmclipnode__t.html#a0a1508a21828fb7b4570884252445e97">mclipnode_t::planenum</a></div><div class="ttdeci">int planenum</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00203">model_brush.h:203</a></div></div>
<div class="ttc" id="astructmclipnode__t_html_a3387c66d0a8e6283e86cbc79efbead65"><div class="ttname"><a href="structmclipnode__t.html#a3387c66d0a8e6283e86cbc79efbead65">mclipnode_t::children</a></div><div class="ttdeci">int children[2]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00204">model_brush.h:204</a></div></div>
<div class="ttc" id="astructmplane__t_html_a66d198fd45a721f70f8efa8fd6e7598e"><div class="ttname"><a href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">mplane_t::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00065">model_brush.h:65</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03249">Mod_Q1BSP_AssignNoShadowSkySurfaces()</a>, and <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a8d43db3c6411b8f6185db74c7466b15a" name="a8d43db3c6411b8f6185db74c7466b15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d43db3c6411b8f6185db74c7466b15a">&#9670;&#160;</a></span>Mod_Q1BSP_RecursiveHullCheck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q1BSP_RecursiveHullCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>p1f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>p2f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>p1</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>p2</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00685">685</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  686</span>{</div>
<div class="line"><span class="lineno">  687</span>    <span class="comment">// status variables, these don&#39;t need to be saved on the stack when</span></div>
<div class="line"><span class="lineno">  688</span>    <span class="comment">// recursing...  but are because this should be thread-safe</span></div>
<div class="line"><span class="lineno">  689</span>    <span class="comment">// (note: tracing against a bbox is not thread-safe, yet)</span></div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno">  691</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *plane;</div>
<div class="line"><span class="lineno">  692</span>    <span class="keywordtype">double</span> t1, t2;</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>    <span class="comment">// variables that need to be stored on the stack when recursing</span></div>
<div class="line"><span class="lineno">  695</span>    <a class="code hl_struct" href="structmclipnode__t.html">mclipnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno">  696</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1side</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2side</a>;</div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>[3];</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>    <span class="comment">// keep looping until we hit a leaf</span></div>
<div class="line"><span class="lineno">  700</span>    <span class="keywordflow">while</span> (num &gt;= 0)</div>
<div class="line"><span class="lineno">  701</span>    {</div>
<div class="line"><span class="lineno">  702</span>        <span class="comment">// find the point distances</span></div>
<div class="line"><span class="lineno">  703</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad81d80ece646462831fd6d22fdef3eaa">hull</a>-&gt;<a class="code hl_variable" href="structhull__t.html#a4fa5d9ae1fcb1cba1ed6aa6c633b931f">clipnodes</a> + num;</div>
<div class="line"><span class="lineno">  704</span>        plane = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad81d80ece646462831fd6d22fdef3eaa">hull</a>-&gt;<a class="code hl_variable" href="structhull__t.html#aaf09b1a8f8a1e520c029e09615817249">planes</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;planenum;</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>        <span class="comment">// axial planes can be calculated more quickly without the DotProduct</span></div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a> &lt; 3)</div>
<div class="line"><span class="lineno">  708</span>        {</div>
<div class="line"><span class="lineno">  709</span>            t1 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  710</span>            t2 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  711</span>        }</div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  713</span>        {</div>
<div class="line"><span class="lineno">  714</span>            t1 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  715</span>            t2 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  716</span>        }</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>        <span class="comment">// negative plane distances indicate children[1] (behind plane)</span></div>
<div class="line"><span class="lineno">  719</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1side</a> = t1 &lt; 0;</div>
<div class="line"><span class="lineno">  720</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2side</a> = t2 &lt; 0;</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>        <span class="comment">// if the line starts and ends on the same side of the plane, recurse</span></div>
<div class="line"><span class="lineno">  723</span>        <span class="comment">// into that child instantly</span></div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1side</a> == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2side</a>)</div>
<div class="line"><span class="lineno">  725</span>        {</div>
<div class="line"><span class="lineno">  726</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno">  727</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1side</a>)</div>
<div class="line"><span class="lineno">  728</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;&lt;&quot;</span>);</div>
<div class="line"><span class="lineno">  729</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  730</span>                <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;&gt;&quot;</span>);</div>
<div class="line"><span class="lineno">  731</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  732</span>            <span class="comment">// loop back and process the start child</span></div>
<div class="line"><span class="lineno">  733</span>            num = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1side</a>];</div>
<div class="line"><span class="lineno">  734</span>        }</div>
<div class="line"><span class="lineno">  735</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  736</span>        {</div>
<div class="line"><span class="lineno">  737</span>            <span class="comment">// find the midpoint where the line crosses the plane, use the</span></div>
<div class="line"><span class="lineno">  738</span>            <span class="comment">// original line for best accuracy</span></div>
<div class="line"><span class="lineno">  739</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno">  740</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;M&quot;</span>);</div>
<div class="line"><span class="lineno">  741</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  742</span>            <span class="keywordflow">if</span> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a> &lt; 3)</div>
<div class="line"><span class="lineno">  743</span>            {</div>
<div class="line"><span class="lineno">  744</span>                t1 = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  745</span>                t2 = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a393b34163f927af6f5127c03a0f92e97">end</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  746</span>            }</div>
<div class="line"><span class="lineno">  747</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  748</span>            {</div>
<div class="line"><span class="lineno">  749</span>                t1 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  750</span>                t2 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a393b34163f927af6f5127c03a0f92e97">end</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  751</span>            }</div>
<div class="line"><span class="lineno">  752</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a> = t1 / (t1 - t2);</div>
<div class="line"><span class="lineno">  753</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2f</a>);</div>
<div class="line"><span class="lineno">  754</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ae7e0d11ff5ef5776042aeda17a8b16f8">dist</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>);</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>            <span class="comment">// we now have a mid point, essentially splitting the line into</span></div>
<div class="line"><span class="lineno">  757</span>            <span class="comment">// the segments in the near child and the far child, we can now</span></div>
<div class="line"><span class="lineno">  758</span>            <span class="comment">// recurse those in order and get their results</span></div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>            <span class="comment">// recurse both sides, front side first</span></div>
<div class="line"><span class="lineno">  761</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a>(t, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1side</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>);</div>
<div class="line"><span class="lineno">  762</span>            <span class="comment">// if this side is not empty, return what it is (solid or done)</span></div>
<div class="line"><span class="lineno">  763</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code hl_define" href="model__brush_8c.html#a0679d21941f0570a34bfadfbece40db4">HULLCHECKSTATE_EMPTY</a> &amp;&amp; !t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a>)</div>
<div class="line"><span class="lineno">  764</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>            <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a>(t, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2side</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2f</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>);</div>
<div class="line"><span class="lineno">  767</span>            <span class="comment">// if other side is not solid, return what it is (empty or done)</span></div>
<div class="line"><span class="lineno">  768</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code hl_define" href="model__brush_8c.html#a01835d2d4551ed76732905359bf9f3d4">HULLCHECKSTATE_SOLID</a>)</div>
<div class="line"><span class="lineno">  769</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>            <span class="comment">// front is air and back is solid, this is the impact point...</span></div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>            <span class="comment">// copy the plane information, flipping it if needed</span></div>
<div class="line"><span class="lineno">  774</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1side</a>)</div>
<div class="line"><span class="lineno">  775</span>            {</div>
<div class="line"><span class="lineno">  776</span>                t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">dist</a> = -plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  777</span>                <a class="code hl_define" href="mathlib_8h.html#a28f9f1fe5f50e359e016f7e4e04f8cf1">VectorNegate</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>);</div>
<div class="line"><span class="lineno">  778</span>            }</div>
<div class="line"><span class="lineno">  779</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  780</span>            {</div>
<div class="line"><span class="lineno">  781</span>                t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">dist</a> = plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno">  782</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>);</div>
<div class="line"><span class="lineno">  783</span>            }</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>            <span class="comment">// calculate the return fraction which is nudged off the surface a bit</span></div>
<div class="line"><span class="lineno">  786</span>            t1 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>) - t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">dist</a>;</div>
<div class="line"><span class="lineno">  787</span>            t2 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a393b34163f927af6f5127c03a0f92e97">end</a>) - t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">dist</a>;</div>
<div class="line"><span class="lineno">  788</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a> = (t1 - <a class="code hl_variable" href="collision_8c.html#aec0f7986306da189e9dd173cc8ce43b1">collision_impactnudge</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>) / (t1 - t2);</div>
<div class="line"><span class="lineno">  789</span>            t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, 1);</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno">  792</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;D&quot;</span>);</div>
<div class="line"><span class="lineno">  793</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  794</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a0e2621494b75fbf3497a15da4a362aaa">HULLCHECKSTATE_DONE</a>;</div>
<div class="line"><span class="lineno">  795</span>        }</div>
<div class="line"><span class="lineno">  796</span>    }</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>    <span class="comment">// we reached a leaf contents</span></div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    <span class="comment">// check for empty</span></div>
<div class="line"><span class="lineno">  801</span>    num = <a class="code hl_function" href="model__brush_8c.html#a235b8af89a030c6fb731267b0ef36e8e">Mod_Q1BSP_SuperContentsFromNativeContents</a>(num);</div>
<div class="line"><span class="lineno">  802</span>    <span class="keywordflow">if</span> (!t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#af11a60c0596e5abbb0b59a6ceeab0646">startfound</a>)</div>
<div class="line"><span class="lineno">  803</span>    {</div>
<div class="line"><span class="lineno">  804</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#af11a60c0596e5abbb0b59a6ceeab0646">startfound</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  805</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a> |= num;</div>
<div class="line"><span class="lineno">  806</span>    }</div>
<div class="line"><span class="lineno">  807</span>    <span class="keywordflow">if</span> (num &amp; <a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>)</div>
<div class="line"><span class="lineno">  808</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#adfb96f4d6ee51738becb85ec8aa033d4">inwater</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">if</span> (num == 0)</div>
<div class="line"><span class="lineno">  810</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a66088fbc5113fad91ab7f2f196b2f827">inopen</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordflow">if</span> (num &amp; <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>)</div>
<div class="line"><span class="lineno">  812</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a> = &amp;<a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>;</div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (num &amp; <a class="code hl_define" href="bspfile_8h.html#a0a2fa78587a49f238efd2b5067e66361">SUPERCONTENTS_SKY</a>)</div>
<div class="line"><span class="lineno">  814</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a> = &amp;<a class="code hl_variable" href="model__brush_8c.html#a13dbd03d7dc32c52f9ed6828b46632db">mod_q1bsp_texture_sky</a>;</div>
<div class="line"><span class="lineno">  815</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (num &amp; <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a>)</div>
<div class="line"><span class="lineno">  816</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a> = &amp;<a class="code hl_variable" href="model__brush_8c.html#a798b11b47ef2a1aa05deacd3f1180422">mod_q1bsp_texture_lava</a>;</div>
<div class="line"><span class="lineno">  817</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (num &amp; <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>)</div>
<div class="line"><span class="lineno">  818</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a> = &amp;<a class="code hl_variable" href="model__brush_8c.html#a9bbf3b106367456b4a17e45a6d43bca5">mod_q1bsp_texture_slime</a>;</div>
<div class="line"><span class="lineno">  819</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  820</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a> = &amp;<a class="code hl_variable" href="model__brush_8c.html#ae2087fc3011df59ce59055fbc965bae3">mod_q1bsp_texture_water</a>;</div>
<div class="line"><span class="lineno">  821</span>    t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a3de5026fb5e0e13c11701ab40ad0db13">hitq3surfaceflags</a> = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a>-&gt;surfaceflags;</div>
<div class="line"><span class="lineno">  822</span>    t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#ad9e1724e1bd447e3ab1ea29db3e73e46">hitsupercontents</a> = num;</div>
<div class="line"><span class="lineno">  823</span>    <span class="keywordflow">if</span> (num &amp; t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a>)</div>
<div class="line"><span class="lineno">  824</span>    {</div>
<div class="line"><span class="lineno">  825</span>        <span class="comment">// if the first leaf is solid, set startsolid</span></div>
<div class="line"><span class="lineno">  826</span>        <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a>)</div>
<div class="line"><span class="lineno">  827</span>            t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  828</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno">  829</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;S&quot;</span>);</div>
<div class="line"><span class="lineno">  830</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  831</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a01835d2d4551ed76732905359bf9f3d4">HULLCHECKSTATE_SOLID</a>;</div>
<div class="line"><span class="lineno">  832</span>    }</div>
<div class="line"><span class="lineno">  833</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  834</span>    {</div>
<div class="line"><span class="lineno">  835</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  836</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno">  837</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;E&quot;</span>);</div>
<div class="line"><span class="lineno">  838</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  839</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a0679d21941f0570a34bfadfbece40db4">HULLCHECKSTATE_EMPTY</a>;</div>
<div class="line"><span class="lineno">  840</span>    }</div>
<div class="line"><span class="lineno">  841</span>}</div>
<div class="ttc" id="abspfile_8h_html_a86cebf49778299337e696bf0abc2d046"><div class="ttname"><a href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a></div><div class="ttdeci">#define SUPERCONTENTS_LIQUIDSMASK</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00218">bspfile.h:218</a></div></div>
<div class="ttc" id="acollision_8c_html_aec0f7986306da189e9dd173cc8ce43b1"><div class="ttname"><a href="collision_8c.html#aec0f7986306da189e9dd173cc8ce43b1">collision_impactnudge</a></div><div class="ttdeci">cvar_t collision_impactnudge</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l00013">collision.c:13</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a01835d2d4551ed76732905359bf9f3d4"><div class="ttname"><a href="model__brush_8c.html#a01835d2d4551ed76732905359bf9f3d4">HULLCHECKSTATE_SOLID</a></div><div class="ttdeci">#define HULLCHECKSTATE_SOLID</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00682">model_brush.c:682</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a0679d21941f0570a34bfadfbece40db4"><div class="ttname"><a href="model__brush_8c.html#a0679d21941f0570a34bfadfbece40db4">HULLCHECKSTATE_EMPTY</a></div><div class="ttdeci">#define HULLCHECKSTATE_EMPTY</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00681">model_brush.c:681</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a0e2621494b75fbf3497a15da4a362aaa"><div class="ttname"><a href="model__brush_8c.html#a0e2621494b75fbf3497a15da4a362aaa">HULLCHECKSTATE_DONE</a></div><div class="ttdeci">#define HULLCHECKSTATE_DONE</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00683">model_brush.c:683</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a339672ff94e6199019102f50d317c3d7"><div class="ttname"><a href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a></div><div class="ttdeci">return ret</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00297">shader_glsl.h:297</a></div></div>
<div class="ttc" id="astructRecursiveHullCheckTraceInfo__t_html_a087ec3283efc05e692f9a3bce7810410"><div class="ttname"><a href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">RecursiveHullCheckTraceInfo_t::trace</a></div><div class="ttdeci">trace_t * trace</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00669">model_brush.c:669</a></div></div>
<div class="ttc" id="astructRecursiveHullCheckTraceInfo__t_html_a393b34163f927af6f5127c03a0f92e97"><div class="ttname"><a href="structRecursiveHullCheckTraceInfo__t.html#a393b34163f927af6f5127c03a0f92e97">RecursiveHullCheckTraceInfo_t::end</a></div><div class="ttdeci">double end[3]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00673">model_brush.c:673</a></div></div>
<div class="ttc" id="astructRecursiveHullCheckTraceInfo__t_html_ad1fabd00fb4501bbb358c2cbdc9a8267"><div class="ttname"><a href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">RecursiveHullCheckTraceInfo_t::start</a></div><div class="ttdeci">double start[3]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00672">model_brush.c:672</a></div></div>
<div class="ttc" id="astructRecursiveHullCheckTraceInfo__t_html_ad81d80ece646462831fd6d22fdef3eaa"><div class="ttname"><a href="structRecursiveHullCheckTraceInfo__t.html#ad81d80ece646462831fd6d22fdef3eaa">RecursiveHullCheckTraceInfo_t::hull</a></div><div class="ttdeci">const hull_t * hull</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00666">model_brush.c:666</a></div></div>
<div class="ttc" id="astructRecursiveHullCheckTraceInfo__t_html_ae7e0d11ff5ef5776042aeda17a8b16f8"><div class="ttname"><a href="structRecursiveHullCheckTraceInfo__t.html#ae7e0d11ff5ef5776042aeda17a8b16f8">RecursiveHullCheckTraceInfo_t::dist</a></div><div class="ttdeci">double dist[3]</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00674">model_brush.c:674</a></div></div>
<div class="ttc" id="astructtrace__t_html_a09b505eecd4419848e02d146a000ed20"><div class="ttname"><a href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">trace_t::hittexture</a></div><div class="ttdeci">const struct texture_s * hittexture</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00062">collision.h:62</a></div></div>
<div class="ttc" id="astructtrace__t_html_a3de5026fb5e0e13c11701ab40ad0db13"><div class="ttname"><a href="structtrace__t.html#a3de5026fb5e0e13c11701ab40ad0db13">trace_t::hitq3surfaceflags</a></div><div class="ttdeci">int hitq3surfaceflags</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00060">collision.h:60</a></div></div>
<div class="ttc" id="astructtrace__t_html_a66088fbc5113fad91ab7f2f196b2f827"><div class="ttname"><a href="structtrace__t.html#a66088fbc5113fad91ab7f2f196b2f827">trace_t::inopen</a></div><div class="ttdeci">qbool inopen</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00033">collision.h:33</a></div></div>
<div class="ttc" id="astructtrace__t_html_a9a6651d4c1d97c4e6959a696184b25cd"><div class="ttname"><a href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">trace_t::plane</a></div><div class="ttdeci">plane_t plane</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00044">collision.h:44</a></div></div>
<div class="ttc" id="astructtrace__t_html_adfb96f4d6ee51738becb85ec8aa033d4"><div class="ttname"><a href="structtrace__t.html#adfb96f4d6ee51738becb85ec8aa033d4">trace_t::inwater</a></div><div class="ttdeci">qbool inwater</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00036">collision.h:36</a></div></div>
<div class="ttc" id="astructtrace__t_html_af11a60c0596e5abbb0b59a6ceeab0646"><div class="ttname"><a href="structtrace__t.html#af11a60c0596e5abbb0b59a6ceeab0646">trace_t::startfound</a></div><div class="ttdeci">qbool startfound</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00065">collision.h:65</a></div></div>
<div class="ttc" id="aunionplane__t_html_ad97670ad8b2b94c33ebf49052efd05f0"><div class="ttname"><a href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">plane_t::dist</a></div><div class="ttdeci">vec_t dist</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00014">collision.h:14</a></div></div>
<div class="ttc" id="aunionplane__t_html_ade810b5e8f7db899dee445447a58edeb"><div class="ttname"><a href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">plane_t::normal</a></div><div class="ttdeci">vec3_t normal</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00013">collision.h:13</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l01051">Collision_ClipTrace_Box()</a>, <a class="el" href="model__brush_8c_source.html#l00685">Mod_Q1BSP_RecursiveHullCheck()</a>, <a class="el" href="model__brush_8c_source.html#l00953">Mod_Q1BSP_TraceBox()</a>, and <a class="el" href="model__brush_8c_source.html#l00892">Mod_Q1BSP_TraceLine()</a>.</p>

</div>
</div>
<a id="a0d0babe67178c859f93808219fb64ef7" name="a0d0babe67178c859f93808219fb64ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d0babe67178c859f93808219fb64ef7">&#9670;&#160;</a></span>Mod_Q1BSP_RecursiveHullCheckPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q1BSP_RecursiveHullCheckPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00844">844</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  845</span>{</div>
<div class="line"><span class="lineno">  846</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *plane;</div>
<div class="line"><span class="lineno">  847</span>    <a class="code hl_struct" href="structmclipnode__t.html">mclipnode_t</a> *nodes = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad81d80ece646462831fd6d22fdef3eaa">hull</a>-&gt;<a class="code hl_variable" href="structhull__t.html#a4fa5d9ae1fcb1cba1ed6aa6c633b931f">clipnodes</a>;</div>
<div class="line"><span class="lineno">  848</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *planes = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad81d80ece646462831fd6d22fdef3eaa">hull</a>-&gt;<a class="code hl_variable" href="structhull__t.html#aaf09b1a8f8a1e520c029e09615817249">planes</a>;</div>
<div class="line"><span class="lineno">  849</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>;</div>
<div class="line"><span class="lineno">  850</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>);</div>
<div class="line"><span class="lineno">  851</span>    <span class="keywordflow">while</span> (num &gt;= 0)</div>
<div class="line"><span class="lineno">  852</span>    {</div>
<div class="line"><span class="lineno">  853</span>        plane = planes + nodes[num].<a class="code hl_variable" href="structmclipnode__t.html#a0a1508a21828fb7b4570884252445e97">planenum</a>;</div>
<div class="line"><span class="lineno">  854</span>        num = nodes[num].<a class="code hl_variable" href="structmclipnode__t.html#a3387c66d0a8e6283e86cbc79efbead65">children</a>[(plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a> &lt; 3 ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] : <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>)) &lt; plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>];</div>
<div class="line"><span class="lineno">  855</span>    }</div>
<div class="line"><span class="lineno">  856</span>    num = <a class="code hl_function" href="model__brush_8c.html#a235b8af89a030c6fb731267b0ef36e8e">Mod_Q1BSP_SuperContentsFromNativeContents</a>(num);</div>
<div class="line"><span class="lineno">  857</span>    t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a> |= num;</div>
<div class="line"><span class="lineno">  858</span>    <span class="keywordflow">if</span> (num &amp; <a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>)</div>
<div class="line"><span class="lineno">  859</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#adfb96f4d6ee51738becb85ec8aa033d4">inwater</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordflow">if</span> (num == 0)</div>
<div class="line"><span class="lineno">  861</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a66088fbc5113fad91ab7f2f196b2f827">inopen</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  862</span>    <span class="keywordflow">if</span> (num &amp; t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a>)</div>
<div class="line"><span class="lineno">  863</span>    {</div>
<div class="line"><span class="lineno">  864</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a> = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  865</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a01835d2d4551ed76732905359bf9f3d4">HULLCHECKSTATE_SOLID</a>;</div>
<div class="line"><span class="lineno">  866</span>    }</div>
<div class="line"><span class="lineno">  867</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  868</span>    {</div>
<div class="line"><span class="lineno">  869</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a> = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  870</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a0679d21941f0570a34bfadfbece40db4">HULLCHECKSTATE_EMPTY</a>;</div>
<div class="line"><span class="lineno">  871</span>    }</div>
<div class="line"><span class="lineno">  872</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00953">Mod_Q1BSP_TraceBox()</a>, <a class="el" href="model__brush_8c_source.html#l00892">Mod_Q1BSP_TraceLine()</a>, and <a class="el" href="model__brush_8c_source.html#l00875">Mod_Q1BSP_TracePoint()</a>.</p>

</div>
</div>
<a id="a819c6ddb997db6d6a89f43ff180c698e" name="a819c6ddb997db6d6a89f43ff180c698e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a819c6ddb997db6d6a89f43ff180c698e">&#9670;&#160;</a></span>Mod_Q1BSP_RoundUpToHullSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_RoundUpToHullSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>cmodel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>inmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>inmaxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>outmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>outmaxs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03825">3825</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3826</span>{</div>
<div class="line"><span class="lineno"> 3827</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 3828</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structhull__t.html">hull_t</a> *hull;</div>
<div class="line"><span class="lineno"> 3829</span> </div>
<div class="line"><span class="lineno"> 3830</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inmins</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><span class="lineno"> 3831</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>[0] &lt; <a class="code hl_variable" href="model__brush_8c.html#ac91b1224b81a803f43adf67155fe0bbb">mod_q1bsp_zero_hullsize_cutoff</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><span class="lineno"> 3832</span>        hull = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmodel</a>-&gt;brushq1.hulls[0]; <span class="comment">// 0x0x0</span></div>
<div class="line"><span class="lineno"> 3833</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmodel</a>-&gt;brush.ishlbsp)</div>
<div class="line"><span class="lineno"> 3834</span>    {</div>
<div class="line"><span class="lineno"> 3835</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>[0] &lt;= 32)</div>
<div class="line"><span class="lineno"> 3836</span>        {</div>
<div class="line"><span class="lineno"> 3837</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>[2] &lt; 54) <span class="comment">// pick the nearest of 36 or 72</span></div>
<div class="line"><span class="lineno"> 3838</span>                hull = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmodel</a>-&gt;brushq1.hulls[3]; <span class="comment">// 32x32x36</span></div>
<div class="line"><span class="lineno"> 3839</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3840</span>                hull = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmodel</a>-&gt;brushq1.hulls[1]; <span class="comment">// 32x32x72</span></div>
<div class="line"><span class="lineno"> 3841</span>        }</div>
<div class="line"><span class="lineno"> 3842</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3843</span>            hull = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmodel</a>-&gt;brushq1.hulls[2]; <span class="comment">// 64x64x64</span></div>
<div class="line"><span class="lineno"> 3844</span>    }</div>
<div class="line"><span class="lineno"> 3845</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3846</span>    {</div>
<div class="line"><span class="lineno"> 3847</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>[0] &lt;= 32)</div>
<div class="line"><span class="lineno"> 3848</span>            hull = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmodel</a>-&gt;brushq1.hulls[1]; <span class="comment">// 32x32x56</span></div>
<div class="line"><span class="lineno"> 3849</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3850</span>            hull = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cmodel</a>-&gt;brushq1.hulls[2]; <span class="comment">// 64x64x88</span></div>
<div class="line"><span class="lineno"> 3851</span>    }</div>
<div class="line"><span class="lineno"> 3852</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inmins</a>, outmins);</div>
<div class="line"><span class="lineno"> 3853</span>    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inmins</a>, hull-&gt;<a class="code hl_variable" href="structhull__t.html#a250b24db35da48a4a5ee3b4c61de7313">clip_size</a>, outmaxs);</div>
<div class="line"><span class="lineno"> 3854</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a235b8af89a030c6fb731267b0ef36e8e" name="a235b8af89a030c6fb731267b0ef36e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235b8af89a030c6fb731267b0ef36e8e">&#9670;&#160;</a></span>Mod_Q1BSP_SuperContentsFromNativeContents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q1BSP_SuperContentsFromNativeContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>nativecontents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00628">628</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  629</span>{</div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a>)</div>
<div class="line"><span class="lineno">  631</span>    {</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#af408f18a1c9fcfe68dc88036d6186522">CONTENTS_EMPTY</a>:</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  634</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#a9b61ab90973e8137f342425ab3191cbe">CONTENTS_SOLID</a>:</div>
<div class="line"><span class="lineno">  635</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a1743eb1a01a4bc94f435951089dadbd7">SUPERCONTENTS_OPAQUE</a>;</div>
<div class="line"><span class="lineno">  636</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#ade922e5f0b8f2b02147858c2b6d579cc">CONTENTS_WATER</a>:</div>
<div class="line"><span class="lineno">  637</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a>;</div>
<div class="line"><span class="lineno">  638</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#ac74aa6092339c35717e12dc058040a01">CONTENTS_SLIME</a>:</div>
<div class="line"><span class="lineno">  639</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>;</div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#a4822e1693851ba9c47eabd1aea1ffbdd">CONTENTS_LAVA</a>:</div>
<div class="line"><span class="lineno">  641</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a> | <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a>;</div>
<div class="line"><span class="lineno">  642</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="bspfile_8h.html#ab90a98ae6a9633ded37969568c748dd6">CONTENTS_SKY</a>:</div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a0a2fa78587a49f238efd2b5067e66361">SUPERCONTENTS_SKY</a> | <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a> | <a class="code hl_define" href="bspfile_8h.html#a1743eb1a01a4bc94f435951089dadbd7">SUPERCONTENTS_OPAQUE</a>; <span class="comment">// to match behaviour of Q3 maps, let sky count as opaque</span></div>
<div class="line"><span class="lineno">  644</span>    }</div>
<div class="line"><span class="lineno">  645</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  646</span>}</div>
<div class="ttc" id="abspfile_8h_html_a1743eb1a01a4bc94f435951089dadbd7"><div class="ttname"><a href="bspfile_8h.html#a1743eb1a01a4bc94f435951089dadbd7">SUPERCONTENTS_OPAQUE</a></div><div class="ttdeci">#define SUPERCONTENTS_OPAQUE</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00208">bspfile.h:208</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l01037">Mod_Q1BSP_PointSuperContents()</a>, <a class="el" href="model__brush_8c_source.html#l00685">Mod_Q1BSP_RecursiveHullCheck()</a>, <a class="el" href="model__brush_8c_source.html#l00844">Mod_Q1BSP_RecursiveHullCheckPoint()</a>, and <a class="el" href="model__brush_8c_source.html#l01414">Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode()</a>.</p>

</div>
</div>
<a id="affde24be777755bcdcf524f0f4598e6d" name="affde24be777755bcdcf524f0f4598e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affde24be777755bcdcf524f0f4598e6d">&#9670;&#160;</a></span>Mod_Q1BSP_TraceBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_TraceBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>boxmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>boxmaxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00953">953</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  954</span>{</div>
<div class="line"><span class="lineno">  955</span>    <span class="comment">// this function currently only supports same size start and end</span></div>
<div class="line"><span class="lineno">  956</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsize</a>[3];</div>
<div class="line"><span class="lineno">  957</span>    <a class="code hl_struct" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>;</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(boxmins, boxmaxs))</div>
<div class="line"><span class="lineno">  960</span>    {</div>
<div class="line"><span class="lineno">  961</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(start, end))</div>
<div class="line"><span class="lineno">  962</span>            <a class="code hl_function" href="model__brush_8c.html#a944c6e714408a389b574c6051f38c274">Mod_Q1BSP_TracePoint</a>(model, frameblend, skeleton, trace, start, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno">  963</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  964</span>            <a class="code hl_function" href="model__brush_8c.html#a92b73adc673d226987602c4e7e4a78f2">Mod_Q1BSP_TraceLine</a>(model, frameblend, skeleton, trace, start, end, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno">  965</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  966</span>    }</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>));</div>
<div class="line"><span class="lineno">  969</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno">  970</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace = trace;</div>
<div class="line"><span class="lineno">  971</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno">  972</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipsupercontentsmask = skipsupercontentsmask;</div>
<div class="line"><span class="lineno">  973</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipmaterialflagsmask = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno">  974</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction = 1;</div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;allsolid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  976</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(boxmaxs, boxmins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsize</a>);</div>
<div class="line"><span class="lineno">  977</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsize</a>[0] &lt; <a class="code hl_variable" href="model__brush_8c.html#ac91b1224b81a803f43adf67155fe0bbb">mod_q1bsp_zero_hullsize_cutoff</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><span class="lineno">  978</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[0]; <span class="comment">// 0x0x0</span></div>
<div class="line"><span class="lineno">  979</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (model-&gt;brush.ishlbsp)</div>
<div class="line"><span class="lineno">  980</span>    {</div>
<div class="line"><span class="lineno">  981</span>        <span class="comment">// LadyHavoc: this has to have a minor tolerance (the .1) because of</span></div>
<div class="line"><span class="lineno">  982</span>        <span class="comment">// minor float precision errors from the box being transformed around</span></div>
<div class="line"><span class="lineno">  983</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsize</a>[0] &lt; 32.1)</div>
<div class="line"><span class="lineno">  984</span>        {</div>
<div class="line"><span class="lineno">  985</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsize</a>[2] &lt; 54) <span class="comment">// pick the nearest of 36 or 72</span></div>
<div class="line"><span class="lineno">  986</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[3]; <span class="comment">// 32x32x36</span></div>
<div class="line"><span class="lineno">  987</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  988</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[1]; <span class="comment">// 32x32x72</span></div>
<div class="line"><span class="lineno">  989</span>        }</div>
<div class="line"><span class="lineno">  990</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  991</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[2]; <span class="comment">// 64x64x64</span></div>
<div class="line"><span class="lineno">  992</span>    }</div>
<div class="line"><span class="lineno">  993</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  994</span>    {</div>
<div class="line"><span class="lineno">  995</span>        <span class="comment">// LadyHavoc: this has to have a minor tolerance (the .1) because of</span></div>
<div class="line"><span class="lineno">  996</span>        <span class="comment">// minor float precision errors from the box being transformed around</span></div>
<div class="line"><span class="lineno">  997</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxsize</a>[0] &lt; 32.1)</div>
<div class="line"><span class="lineno">  998</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[1]; <span class="comment">// 32x32x56</span></div>
<div class="line"><span class="lineno">  999</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1000</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[2]; <span class="comment">// 64x64x88</span></div>
<div class="line"><span class="lineno"> 1001</span>    }</div>
<div class="line"><span class="lineno"> 1002</span>    <a class="code hl_define" href="mathlib_8h.html#ae1750e92bc66a810d950430fc42d925b">VectorMAMAM</a>(1, start, 1, boxmins, -1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;clip_mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start);</div>
<div class="line"><span class="lineno"> 1003</span>    <a class="code hl_define" href="mathlib_8h.html#ae1750e92bc66a810d950430fc42d925b">VectorMAMAM</a>(1, end, 1, boxmins, -1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;clip_mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno"> 1004</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist);</div>
<div class="line"><span class="lineno"> 1005</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 2</span></div>
<div class="line"><span class="lineno"> 1006</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;t(%f %f %f,%f %f %f,%li %f %f %f)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull - model-&gt;brushq1.hulls, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;clip_mins[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;clip_mins[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;clip_mins[2]);</div>
<div class="line"><span class="lineno"> 1007</span>    <a class="code hl_function" href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode, 0, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno"> 1008</span>    {</div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span>        <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">test</a>[3];</div>
<div class="line"><span class="lineno"> 1011</span>        <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testtrace</a>;</div>
<div class="line"><span class="lineno"> 1012</span>        <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">test</a>);</div>
<div class="line"><span class="lineno"> 1013</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testtrace</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno"> 1014</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testtrace</a>;</div>
<div class="line"><span class="lineno"> 1015</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;hitsupercontentsmask = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1016</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipsupercontentsmask = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1017</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipmaterialflagsmask = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 1018</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction = 1;</div>
<div class="line"><span class="lineno"> 1019</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;allsolid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1020</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">test</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start);</div>
<div class="line"><span class="lineno"> 1021</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">test</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno"> 1022</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist);</div>
<div class="line"><span class="lineno"> 1023</span>        <a class="code hl_function" href="model__brush_8c.html#a0d0babe67178c859f93808219fb64ef7">Mod_Q1BSP_RecursiveHullCheckPoint</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode);</div>
<div class="line"><span class="lineno"> 1024</span>        <span class="comment">//Mod_Q1BSP_RecursiveHullCheck(&amp;rhc, rhc.hull-&gt;firstclipnode, 0, 1, test, test);</span></div>
<div class="line"><span class="lineno"> 1025</span>        <span class="keywordflow">if</span> (!trace-&gt;<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testtrace</a>.startsolid)</div>
<div class="line"><span class="lineno"> 1026</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot; - ended in solid!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1027</span>    }</div>
<div class="line"><span class="lineno"> 1028</span>    <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1029</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1030</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist))</div>
<div class="line"><span class="lineno"> 1031</span>        <a class="code hl_function" href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode, 0, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno"> 1032</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1033</span>        <a class="code hl_function" href="model__brush_8c.html#a0d0babe67178c859f93808219fb64ef7">Mod_Q1BSP_RecursiveHullCheckPoint</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode);</div>
<div class="line"><span class="lineno"> 1034</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1035</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a0d0babe67178c859f93808219fb64ef7"><div class="ttname"><a href="model__brush_8c.html#a0d0babe67178c859f93808219fb64ef7">Mod_Q1BSP_RecursiveHullCheckPoint</a></div><div class="ttdeci">static int Mod_Q1BSP_RecursiveHullCheckPoint(RecursiveHullCheckTraceInfo_t *t, int num)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00844">model_brush.c:844</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a92b73adc673d226987602c4e7e4a78f2" name="a92b73adc673d226987602c4e7e4a78f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92b73adc673d226987602c4e7e4a78f2">&#9670;&#160;</a></span>Mod_Q1BSP_TraceLine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_TraceLine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00892">892</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  893</span>{</div>
<div class="line"><span class="lineno">  894</span>    <a class="code hl_struct" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>;</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(start, end))</div>
<div class="line"><span class="lineno">  897</span>    {</div>
<div class="line"><span class="lineno">  898</span>        <a class="code hl_function" href="model__brush_8c.html#a944c6e714408a389b574c6051f38c274">Mod_Q1BSP_TracePoint</a>(model, frameblend, skeleton, trace, start, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno">  899</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  900</span>    }</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>    <span class="comment">// sometimes we want to traceline against polygons so we can report the texture that was hit rather than merely a contents, but using this method breaks one of negke&#39;s maps so it must be a cvar check...</span></div>
<div class="line"><span class="lineno">  903</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ad9d7d426df38f87b27155a0169c14a5d">sv_gameplayfix_q1bsptracelinereportstexture</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  904</span>    {</div>
<div class="line"><span class="lineno">  905</span>        <a class="code hl_function" href="model__brush_8c.html#a75693e4e70b5a19e3682f309ef9249e1">Mod_Q1BSP_TraceLineAgainstSurfaces</a>(model, frameblend, skeleton, trace, start, end, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno">  906</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  907</span>    }</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>));</div>
<div class="line"><span class="lineno">  910</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno">  911</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace = trace;</div>
<div class="line"><span class="lineno">  912</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno">  913</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipsupercontentsmask = skipsupercontentsmask;</div>
<div class="line"><span class="lineno">  914</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipmaterialflagsmask = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno">  915</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction = 1;</div>
<div class="line"><span class="lineno">  916</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;allsolid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  917</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[0]; <span class="comment">// 0x0x0</span></div>
<div class="line"><span class="lineno">  918</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start);</div>
<div class="line"><span class="lineno">  919</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno">  920</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist);</div>
<div class="line"><span class="lineno">  921</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 2</span></div>
<div class="line"><span class="lineno">  922</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;t(%f %f %f,%f %f %f)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end[2]);</div>
<div class="line"><span class="lineno">  923</span>    <a class="code hl_function" href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode, 0, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno">  924</span>    {</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>        <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">test</a>[3];</div>
<div class="line"><span class="lineno">  927</span>        <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testtrace</a>;</div>
<div class="line"><span class="lineno">  928</span>        <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">test</a>);</div>
<div class="line"><span class="lineno">  929</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testtrace</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno">  930</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace = &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testtrace</a>;</div>
<div class="line"><span class="lineno">  931</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;hitsupercontentsmask = hitsupercontentsmask;</div>
<div class="line"><span class="lineno">  932</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipsupercontentsmask = skipsupercontentsmask;</div>
<div class="line"><span class="lineno">  933</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipmaterialflagsmask = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno">  934</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction = 1;</div>
<div class="line"><span class="lineno">  935</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;allsolid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  936</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">test</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start);</div>
<div class="line"><span class="lineno">  937</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">test</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno">  938</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist);</div>
<div class="line"><span class="lineno">  939</span>        <a class="code hl_function" href="model__brush_8c.html#a0d0babe67178c859f93808219fb64ef7">Mod_Q1BSP_RecursiveHullCheckPoint</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode);</div>
<div class="line"><span class="lineno">  940</span>        <span class="comment">//Mod_Q1BSP_RecursiveHullCheck(&amp;rhc, rhc.hull-&gt;firstclipnode, 0, 1, test, test);</span></div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordflow">if</span> (!trace-&gt;<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testtrace</a>.startsolid)</div>
<div class="line"><span class="lineno">  942</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot; - ended in solid!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  943</span>    }</div>
<div class="line"><span class="lineno">  944</span>    <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  945</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  946</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist))</div>
<div class="line"><span class="lineno">  947</span>        <a class="code hl_function" href="model__brush_8c.html#a8d43db3c6411b8f6185db74c7466b15a">Mod_Q1BSP_RecursiveHullCheck</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode, 0, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno">  948</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  949</span>        <a class="code hl_function" href="model__brush_8c.html#a0d0babe67178c859f93808219fb64ef7">Mod_Q1BSP_RecursiveHullCheckPoint</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode);</div>
<div class="line"><span class="lineno">  950</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  951</span>}</div>
<div class="ttc" id="aserver_8h_html_ad9d7d426df38f87b27155a0169c14a5d"><div class="ttname"><a href="server_8h.html#ad9d7d426df38f87b27155a0169c14a5d">sv_gameplayfix_q1bsptracelinereportstexture</a></div><div class="ttdeci">cvar_t sv_gameplayfix_q1bsptracelinereportstexture</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00128">sv_main.c:128</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l00953">Mod_Q1BSP_TraceBox()</a>, and <a class="el" href="model__brush_8c_source.html#l01177">Mod_Q1BSP_TraceLineOfSight()</a>.</p>

</div>
</div>
<a id="a75693e4e70b5a19e3682f309ef9249e1" name="a75693e4e70b5a19e3682f309ef9249e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75693e4e70b5a19e3682f309ef9249e1">&#9670;&#160;</a></span>Mod_Q1BSP_TraceLineAgainstSurfaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_TraceLineAgainstSurfaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01507">1507</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1508</span>{</div>
<div class="line"><span class="lineno"> 1509</span>    <a class="code hl_struct" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>;</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>));</div>
<div class="line"><span class="lineno"> 1512</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno"> 1513</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace = trace;</div>
<div class="line"><span class="lineno"> 1514</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> = hitsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1515</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipsupercontentsmask = skipsupercontentsmask;</div>
<div class="line"><span class="lineno"> 1516</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;skipmaterialflagsmask = skipmaterialflagsmask;</div>
<div class="line"><span class="lineno"> 1517</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction = 1;</div>
<div class="line"><span class="lineno"> 1518</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;allsolid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1519</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[0]; <span class="comment">// 0x0x0</span></div>
<div class="line"><span class="lineno"> 1520</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start);</div>
<div class="line"><span class="lineno"> 1521</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno"> 1522</span>    <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist);</div>
<div class="line"><span class="lineno"> 1523</span>    <a class="code hl_function" href="model__brush_8c.html#adb5d8b2014b1fc5f8be6fd40158c921d">Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, model, model-&gt;brush.data_nodes + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno"> 1524</span>    <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;fraction, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;endpos);</div>
<div class="line"><span class="lineno"> 1525</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_adb5d8b2014b1fc5f8be6fd40158c921d"><div class="ttname"><a href="model__brush_8c.html#adb5d8b2014b1fc5f8be6fd40158c921d">Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode</a></div><div class="ttdeci">static int Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode(RecursiveHullCheckTraceInfo_t *t, const model_t *model, const mnode_t *node, const double p1[3], const double p2[3])</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01414">model_brush.c:1414</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l00892">Mod_Q1BSP_TraceLine()</a>.</p>

</div>
</div>
<a id="a3e8cc588bf9b25ca12a411d4e714a828" name="a3e8cc588bf9b25ca12a411d4e714a828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8cc588bf9b25ca12a411d4e714a828">&#9670;&#160;</a></span>Mod_Q1BSP_TraceLineAgainstSurfacesFindTextureOnNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structtexture__t.html">texture_t</a> * Mod_Q1BSP_TraceLineAgainstSurfacesFindTextureOnNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>mid</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01343">1343</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1344</span>{</div>
<div class="line"><span class="lineno"> 1345</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1346</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 1347</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 1348</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno"> 1349</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>[3];</div>
<div class="line"><span class="lineno"> 1350</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a85ad3a4f9c2050e5572d2853a1699272">v0</a>[3];</div>
<div class="line"><span class="lineno"> 1351</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a8daddd28bc83f22748eefee4995d7553">v1</a>[3];</div>
<div class="line"><span class="lineno"> 1352</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgedir</a>[3];</div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>[3];</div>
<div class="line"><span class="lineno"> 1354</span>    <span class="keywordtype">float</span> p[4];</div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>;</div>
<div class="line"><span class="lineno"> 1356</span>    <span class="keywordtype">float</span> t1;</div>
<div class="line"><span class="lineno"> 1357</span>    <span class="keywordtype">float</span> t2;</div>
<div class="line"><span class="lineno"> 1358</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>, p);</div>
<div class="line"><span class="lineno"> 1359</span>    p[3] = 1;</div>
<div class="line"><span class="lineno"> 1360</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = model-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;firstsurface;</div>
<div class="line"><span class="lineno"> 1361</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;numsurfaces;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>++)</div>
<div class="line"><span class="lineno"> 1362</span>    {</div>
<div class="line"><span class="lineno"> 1363</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture)</div>
<div class="line"><span class="lineno"> 1364</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1365</span>        <span class="comment">// skip surfaces whose bounding box does not include the point</span></div>
<div class="line"><span class="lineno"> 1366</span><span class="comment">//      if (!BoxesOverlap(mid, mid, surface-&gt;mins, surface-&gt;maxs))</span></div>
<div class="line"><span class="lineno"> 1367</span><span class="comment">//          continue;</span></div>
<div class="line"><span class="lineno"> 1368</span>        <span class="comment">// skip faces with contents we don&#39;t care about</span></div>
<div class="line"><span class="lineno"> 1369</span>        <span class="keywordflow">if</span> (!(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a> &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;supercontents))</div>
<div class="line"><span class="lineno"> 1370</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1371</span>        <span class="comment">// ignore surfaces matching the skipsupercontentsmask (this is rare)</span></div>
<div class="line"><span class="lineno"> 1372</span>        <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a8d3acccf1bba2c2d7efb06e7c9de55a0">skipsupercontentsmask</a> &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;supercontents)</div>
<div class="line"><span class="lineno"> 1373</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1374</span>        <span class="comment">// skip surfaces matching the skipmaterialflagsmask (e.g. MATERIALFLAG_NOSHADOW)</span></div>
<div class="line"><span class="lineno"> 1375</span>        <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#addd03354b36d3a4b9c1d0f1e3533e228">skipmaterialflagsmask</a> &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;currentmaterialflags)</div>
<div class="line"><span class="lineno"> 1376</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1377</span>        <span class="comment">// get the surface normal - since it is flat we know any vertex normal will suffice</span></div>
<div class="line"><span class="lineno"> 1378</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex, <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>);</div>
<div class="line"><span class="lineno"> 1379</span>        <span class="comment">// skip backfaces</span></div>
<div class="line"><span class="lineno"> 1380</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ae7e0d11ff5ef5776042aeda17a8b16f8">dist</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>) &gt; 0)</div>
<div class="line"><span class="lineno"> 1381</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1382</span>        <span class="comment">// iterate edges and see if the point is outside one of them</span></div>
<div class="line"><span class="lineno"> 1383</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices - 1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1384</span>        {</div>
<div class="line"><span class="lineno"> 1385</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>), <a class="code hl_variable" href="glquake_8h.html#a85ad3a4f9c2050e5572d2853a1699272">v0</a>);</div>
<div class="line"><span class="lineno"> 1386</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(model-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>), <a class="code hl_variable" href="glquake_8h.html#a8daddd28bc83f22748eefee4995d7553">v1</a>);</div>
<div class="line"><span class="lineno"> 1387</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#a85ad3a4f9c2050e5572d2853a1699272">v0</a>, <a class="code hl_variable" href="glquake_8h.html#a8daddd28bc83f22748eefee4995d7553">v1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgedir</a>);</div>
<div class="line"><span class="lineno"> 1388</span>            <a class="code hl_define" href="mathlib_8h.html#aa3c5114e57f89ea32ef8f41e00631e44">CrossProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgedir</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>);</div>
<div class="line"><span class="lineno"> 1389</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>, p) &gt; <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edgenormal</a>, <a class="code hl_variable" href="glquake_8h.html#a85ad3a4f9c2050e5572d2853a1699272">v0</a>))</div>
<div class="line"><span class="lineno"> 1390</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1391</span>        }</div>
<div class="line"><span class="lineno"> 1392</span>        <span class="comment">// if the point is outside one of the edges, it is not within the surface</span></div>
<div class="line"><span class="lineno"> 1393</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j &lt; surface-&gt;</a>num_vertices)</div>
<div class="line"><span class="lineno"> 1394</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>        <span class="comment">// we hit a surface, this is the impact point...</span></div>
<div class="line"><span class="lineno"> 1397</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>);</div>
<div class="line"><span class="lineno"> 1398</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">dist</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, p);</div>
<div class="line"><span class="lineno"> 1399</span> </div>
<div class="line"><span class="lineno"> 1400</span>        <span class="comment">// calculate the return fraction which is nudged off the surface a bit</span></div>
<div class="line"><span class="lineno"> 1401</span>        t1 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>) - t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">dist</a>;</div>
<div class="line"><span class="lineno"> 1402</span>        t2 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a393b34163f927af6f5127c03a0f92e97">end</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>) - t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">dist</a>;</div>
<div class="line"><span class="lineno"> 1403</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a> = (t1 - <a class="code hl_variable" href="collision_8c.html#aec0f7986306da189e9dd173cc8ce43b1">collision_impactnudge</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>) / (t1 - t2);</div>
<div class="line"><span class="lineno"> 1404</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, 1);</div>
<div class="line"><span class="lineno"> 1405</span> </div>
<div class="line"><span class="lineno"> 1406</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;currentframe;</div>
<div class="line"><span class="lineno"> 1407</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a3de5026fb5e0e13c11701ab40ad0db13">hitq3surfaceflags</a> = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a>-&gt;surfaceflags;</div>
<div class="line"><span class="lineno"> 1408</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#ad9e1724e1bd447e3ab1ea29db3e73e46">hitsupercontents</a> = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a>-&gt;supercontents;</div>
<div class="line"><span class="lineno"> 1409</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;currentframe;</div>
<div class="line"><span class="lineno"> 1410</span>    }</div>
<div class="line"><span class="lineno"> 1411</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1412</span>}</div>
<div class="ttc" id="aglquake_8h_html_a85ad3a4f9c2050e5572d2853a1699272"><div class="ttname"><a href="glquake_8h.html#a85ad3a4f9c2050e5572d2853a1699272">v0</a></div><div class="ttdeci">GLfloat v0</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00738">glquake.h:738</a></div></div>
<div class="ttc" id="aglquake_8h_html_a8daddd28bc83f22748eefee4995d7553"><div class="ttname"><a href="glquake_8h.html#a8daddd28bc83f22748eefee4995d7553">v1</a></div><div class="ttdeci">GLfloat GLfloat v1</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00742">glquake.h:742</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a7f9900a7305f0a389e52eb9aef7b1f13"><div class="ttname"><a href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a></div><div class="ttdeci">vec3 normal</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00575">shader_glsl.h:575</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l01414">Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode()</a>.</p>

</div>
</div>
<a id="adb5d8b2014b1fc5f8be6fd40158c921d" name="adb5d8b2014b1fc5f8be6fd40158c921d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5d8b2014b1fc5f8be6fd40158c921d">&#9670;&#160;</a></span>Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>p1</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>p2</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01414">1414</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1415</span>{</div>
<div class="line"><span class="lineno"> 1416</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *plane;</div>
<div class="line"><span class="lineno"> 1417</span>    <span class="keywordtype">double</span> t1, t2;</div>
<div class="line"><span class="lineno"> 1418</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>;</div>
<div class="line"><span class="lineno"> 1419</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>[3];</div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>;</div>
<div class="line"><span class="lineno"> 1421</span> </div>
<div class="line"><span class="lineno"> 1422</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 1423</span>    {</div>
<div class="line"><span class="lineno"> 1424</span>        plane = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane;</div>
<div class="line"><span class="lineno"> 1425</span>        <span class="keywordflow">if</span> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a> &lt; 3)</div>
<div class="line"><span class="lineno"> 1426</span>        {</div>
<div class="line"><span class="lineno"> 1427</span>            t1 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 1428</span>            t2 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 1429</span>        }</div>
<div class="line"><span class="lineno"> 1430</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1431</span>        {</div>
<div class="line"><span class="lineno"> 1432</span>            t1 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 1433</span>            t2 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 1434</span>        }</div>
<div class="line"><span class="lineno"> 1435</span>        <span class="keywordflow">if</span> (t1 &lt; 0)</div>
<div class="line"><span class="lineno"> 1436</span>        {</div>
<div class="line"><span class="lineno"> 1437</span>            <span class="keywordflow">if</span> (t2 &lt; 0)</div>
<div class="line"><span class="lineno"> 1438</span>            {</div>
<div class="line"><span class="lineno"> 1439</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno"> 1440</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1441</span>            }</div>
<div class="line"><span class="lineno"> 1442</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 1;</div>
<div class="line"><span class="lineno"> 1443</span>        }</div>
<div class="line"><span class="lineno"> 1444</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1445</span>        {</div>
<div class="line"><span class="lineno"> 1446</span>            <span class="keywordflow">if</span> (t2 &gt;= 0)</div>
<div class="line"><span class="lineno"> 1447</span>            {</div>
<div class="line"><span class="lineno"> 1448</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno"> 1449</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1450</span>            }</div>
<div class="line"><span class="lineno"> 1451</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 0;</div>
<div class="line"><span class="lineno"> 1452</span>        }</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>        <span class="comment">// the line intersects, find intersection point</span></div>
<div class="line"><span class="lineno"> 1455</span>        <span class="comment">// LadyHavoc: this uses the original trace for maximum accuracy</span></div>
<div class="line"><span class="lineno"> 1456</span>        <span class="keywordflow">if</span> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a> &lt; 3)</div>
<div class="line"><span class="lineno"> 1457</span>        {</div>
<div class="line"><span class="lineno"> 1458</span>            t1 = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 1459</span>            t2 = t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a393b34163f927af6f5127c03a0f92e97">end</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 1460</span>        }</div>
<div class="line"><span class="lineno"> 1461</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1462</span>        {</div>
<div class="line"><span class="lineno"> 1463</span>            t1 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 1464</span>            t2 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a393b34163f927af6f5127c03a0f92e97">end</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 1465</span>        }</div>
<div class="line"><span class="lineno"> 1466</span>    </div>
<div class="line"><span class="lineno"> 1467</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a> = t1 / (t1 - t2);</div>
<div class="line"><span class="lineno"> 1468</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ad1fabd00fb4501bbb358c2cbdc9a8267">start</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#ae7e0d11ff5ef5776042aeda17a8b16f8">dist</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>);</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>        <span class="comment">// recurse both sides, front side first, return if we hit a surface</span></div>
<div class="line"><span class="lineno"> 1471</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="model__brush_8c.html#adb5d8b2014b1fc5f8be6fd40158c921d">Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode</a>(t, model, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>) == <a class="code hl_define" href="model__brush_8c.html#a0e2621494b75fbf3497a15da4a362aaa">HULLCHECKSTATE_DONE</a>)</div>
<div class="line"><span class="lineno"> 1472</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a0e2621494b75fbf3497a15da4a362aaa">HULLCHECKSTATE_DONE</a>;</div>
<div class="line"><span class="lineno"> 1473</span> </div>
<div class="line"><span class="lineno"> 1474</span>        <span class="comment">// test each surface on the node</span></div>
<div class="line"><span class="lineno"> 1475</span>        <a class="code hl_function" href="model__brush_8c.html#a3e8cc588bf9b25ca12a411d4e714a828">Mod_Q1BSP_TraceLineAgainstSurfacesFindTextureOnNode</a>(t, model, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>);</div>
<div class="line"><span class="lineno"> 1476</span>        <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a09b505eecd4419848e02d146a000ed20">hittexture</a>)</div>
<div class="line"><span class="lineno"> 1477</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a0e2621494b75fbf3497a15da4a362aaa">HULLCHECKSTATE_DONE</a>;</div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>        <span class="comment">// recurse back side</span></div>
<div class="line"><span class="lineno"> 1480</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="model__brush_8c.html#adb5d8b2014b1fc5f8be6fd40158c921d">Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode</a>(t, model, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> ^ 1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>);</div>
<div class="line"><span class="lineno"> 1481</span>    }</div>
<div class="line"><span class="lineno"> 1482</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = (<span class="keyword">const</span> <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno"> 1483</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = <a class="code hl_function" href="model__brush_8c.html#a235b8af89a030c6fb731267b0ef36e8e">Mod_Q1BSP_SuperContentsFromNativeContents</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;contents);</div>
<div class="line"><span class="lineno"> 1484</span>    <span class="keywordflow">if</span> (!t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#af11a60c0596e5abbb0b59a6ceeab0646">startfound</a>)</div>
<div class="line"><span class="lineno"> 1485</span>    {</div>
<div class="line"><span class="lineno"> 1486</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#af11a60c0596e5abbb0b59a6ceeab0646">startfound</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1487</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a> |= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>;</div>
<div class="line"><span class="lineno"> 1488</span>    }</div>
<div class="line"><span class="lineno"> 1489</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>)</div>
<div class="line"><span class="lineno"> 1490</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#adfb96f4d6ee51738becb85ec8aa033d4">inwater</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1491</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> == 0)</div>
<div class="line"><span class="lineno"> 1492</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a66088fbc5113fad91ab7f2f196b2f827">inopen</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1493</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> &amp; t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a2a9d8f24791ef9411bc4b6ecc508c03d">hitsupercontentsmask</a>)</div>
<div class="line"><span class="lineno"> 1494</span>    {</div>
<div class="line"><span class="lineno"> 1495</span>        <span class="comment">// if the first leaf is solid, set startsolid</span></div>
<div class="line"><span class="lineno"> 1496</span>        <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a>)</div>
<div class="line"><span class="lineno"> 1497</span>            t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1498</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a01835d2d4551ed76732905359bf9f3d4">HULLCHECKSTATE_SOLID</a>;</div>
<div class="line"><span class="lineno"> 1499</span>    }</div>
<div class="line"><span class="lineno"> 1500</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1501</span>    {</div>
<div class="line"><span class="lineno"> 1502</span>        t-&gt;<a class="code hl_variable" href="structRecursiveHullCheckTraceInfo__t.html#a087ec3283efc05e692f9a3bce7810410">trace</a>-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1503</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="model__brush_8c.html#a0679d21941f0570a34bfadfbece40db4">HULLCHECKSTATE_EMPTY</a>;</div>
<div class="line"><span class="lineno"> 1504</span>    }</div>
<div class="line"><span class="lineno"> 1505</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a3e8cc588bf9b25ca12a411d4e714a828"><div class="ttname"><a href="model__brush_8c.html#a3e8cc588bf9b25ca12a411d4e714a828">Mod_Q1BSP_TraceLineAgainstSurfacesFindTextureOnNode</a></div><div class="ttdeci">static const texture_t * Mod_Q1BSP_TraceLineAgainstSurfacesFindTextureOnNode(RecursiveHullCheckTraceInfo_t *t, const model_t *model, const mnode_t *node, double mid[3])</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l01343">model_brush.c:1343</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l01507">Mod_Q1BSP_TraceLineAgainstSurfaces()</a>, and <a class="el" href="model__brush_8c_source.html#l01414">Mod_Q1BSP_TraceLineAgainstSurfacesRecursiveBSPNode()</a>.</p>

</div>
</div>
<a id="ad77e25ecefd355d59ad4519fd3b2d2a4" name="ad77e25ecefd355d59ad4519fd3b2d2a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad77e25ecefd355d59ad4519fd3b2d2a4">&#9670;&#160;</a></span>Mod_Q1BSP_TraceLineOfSight()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> Mod_Q1BSP_TraceLineOfSight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>acceptmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>acceptmaxs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l01177">1177</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1178</span>{</div>
<div class="line"><span class="lineno"> 1179</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno"> 1180</span>    <a class="code hl_function" href="model__brush_8c.html#a92b73adc673d226987602c4e7e4a78f2">Mod_Q1BSP_TraceLine</a>(model, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;trace, start, end, <a class="code hl_define" href="bspfile_8h.html#a8d4b4ba414479ebe0293b200f882c444">SUPERCONTENTS_VISBLOCKERMASK</a>, 0, <a class="code hl_define" href="model__brush_8h.html#a92eb2c00b3276aef285cf43b305a43da">MATERIALFLAGMASK_TRANSLUCENT</a>);</div>
<div class="line"><span class="lineno"> 1181</span>    <span class="keywordflow">return</span> trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> == 1 || <a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmaxs</a>);</div>
<div class="line"><span class="lineno"> 1182</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a944c6e714408a389b574c6051f38c274" name="a944c6e714408a389b574c6051f38c274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a944c6e714408a389b574c6051f38c274">&#9670;&#160;</a></span>Mod_Q1BSP_TracePoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q1BSP_TracePoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structframeblend__t.html">frameblend_t</a> *&#160;</td>
          <td class="paramname"><em>frameblend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structskeleton__t.html">skeleton_t</a> *&#160;</td>
          <td class="paramname"><em>skeleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00875">875</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  876</span>{</div>
<div class="line"><span class="lineno">  877</span>    <a class="code hl_struct" href="structRecursiveHullCheckTraceInfo__t.html">RecursiveHullCheckTraceInfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>;</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>));</div>
<div class="line"><span class="lineno">  880</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(trace, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtrace__t.html">trace_t</a>));</div>
<div class="line"><span class="lineno">  881</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace = trace;</div>
<div class="line"><span class="lineno">  882</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> = 1;</div>
<div class="line"><span class="lineno">  883</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.trace-&gt;allsolid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  884</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull = &amp;model-&gt;brushq1.hulls[0]; <span class="comment">// 0x0x0</span></div>
<div class="line"><span class="lineno">  885</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.start);</div>
<div class="line"><span class="lineno">  886</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.end);</div>
<div class="line"><span class="lineno">  887</span>    <a class="code hl_function" href="model__brush_8c.html#a0d0babe67178c859f93808219fb64ef7">Mod_Q1BSP_RecursiveHullCheckPoint</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rhc</a>.hull-&gt;firstclipnode);</div>
<div class="line"><span class="lineno">  888</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l00953">Mod_Q1BSP_TraceBox()</a>, and <a class="el" href="model__brush_8c_source.html#l00892">Mod_Q1BSP_TraceLine()</a>.</p>

</div>
</div>
<a id="a7d5db750c15d25e553a16bf6b5caf013" name="a7d5db750c15d25e553a16bf6b5caf013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5db750c15d25e553a16bf6b5caf013">&#9670;&#160;</a></span>Mod_Q2BSP_FindSubmodelBrushRange_r()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_FindSubmodelBrushRange_r </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> *&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04802">4802</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4803</span>{</div>
<div class="line"><span class="lineno"> 4804</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 4805</span>    <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>;</div>
<div class="line"><span class="lineno"> 4806</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 4807</span>    {</div>
<div class="line"><span class="lineno"> 4808</span>        <a class="code hl_function" href="model__brush_8c.html#a7d5db750c15d25e553a16bf6b5caf013">Mod_Q2BSP_FindSubmodelBrushRange_r</a>(mod, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0], <a class="code hl_variable" href="glquake_8h.html#a95ba046d2132a6a50925791e8b9708a5">first</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a>);</div>
<div class="line"><span class="lineno"> 4809</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno"> 4810</span>    }</div>
<div class="line"><span class="lineno"> 4811</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a> = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a>*)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno"> 4812</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;numleafbrushes;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4813</span>    {</div>
<div class="line"><span class="lineno"> 4814</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushnum</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">leaf</a>-&gt;firstleafbrush[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 4815</span>        <span class="keywordflow">if</span> (*<a class="code hl_variable" href="glquake_8h.html#a95ba046d2132a6a50925791e8b9708a5">first</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushnum</a>)</div>
<div class="line"><span class="lineno"> 4816</span>            *<a class="code hl_variable" href="glquake_8h.html#a95ba046d2132a6a50925791e8b9708a5">first</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushnum</a>;</div>
<div class="line"><span class="lineno"> 4817</span>        <span class="keywordflow">if</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushnum</a>)</div>
<div class="line"><span class="lineno"> 4818</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">last</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushnum</a>;</div>
<div class="line"><span class="lineno"> 4819</span>    }</div>
<div class="line"><span class="lineno"> 4820</span>}</div>
<div class="ttc" id="aglquake_8h_html_a95ba046d2132a6a50925791e8b9708a5"><div class="ttname"><a href="glquake_8h.html#a95ba046d2132a6a50925791e8b9708a5">first</a></div><div class="ttdeci">GLint first</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00670">glquake.h:670</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a7d5db750c15d25e553a16bf6b5caf013"><div class="ttname"><a href="model__brush_8c.html#a7d5db750c15d25e553a16bf6b5caf013">Mod_Q2BSP_FindSubmodelBrushRange_r</a></div><div class="ttdeci">static void Mod_Q2BSP_FindSubmodelBrushRange_r(model_t *mod, mnode_t *node, int *first, int *last)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04802">model_brush.c:4802</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04802">Mod_Q2BSP_FindSubmodelBrushRange_r()</a>, and <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a33816c2d77e3df5a205ea09433b577f1" name="a33816c2d77e3df5a205ea09433b577f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33816c2d77e3df5a205ea09433b577f1">&#9670;&#160;</a></span>Mod_Q2BSP_Load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04822">4822</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4823</span>{</div>
<div class="line"><span class="lineno"> 4824</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 4825</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#abb2a3a6be731264d0e03d5c7eb2e1d0e">Q2HEADER_LUMPS</a>];</div>
<div class="line"><span class="lineno"> 4826</span>    <a class="code hl_struct" href="structmmodel__t.html">mmodel_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>;</div>
<div class="line"><span class="lineno"> 4827</span>    <span class="keywordtype">float</span> dist, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 4828</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno"> 4829</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstylesurfaces</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstyles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[256], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remapstyles</a>[256];</div>
<div class="line"><span class="lineno"> 4830</span>    <a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[256];</div>
<div class="line"><span class="lineno"> 4831</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a>;</div>
<div class="line"><span class="lineno"> 4832</span>    <a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lsidatapointer</a>;</div>
<div class="line"><span class="lineno"> 4833</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>;</div>
<div class="line"><span class="lineno"> 4834</span> </div>
<div class="line"><span class="lineno"> 4835</span>    <a class="code hl_function" href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno"> 4836</span> </div>
<div class="line"><span class="lineno"> 4837</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0fb268c443d4c9dd629e3af746878fec">type</a> = <a class="code hl_enumvalue" href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4a819911297e4e6fc0009903eafd491bfa">mod_brushq2</a>;</div>
<div class="line"><span class="lineno"> 4838</span> </div>
<div class="line"><span class="lineno"> 4839</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4840</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa01eebc58454df076313c2e68b9a7d30">isbsp2rmqe</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4841</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4842</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab7aebfce8659a90f3060c820ccc7c3c8">isq2bsp</a> = <span class="keyword">true</span>; <span class="comment">// q1bsp loaders mostly work but we need a few tweaks</span></div>
<div class="line"><span class="lineno"> 4843</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a788b2b5a3b9f56c3983a4c441cdec74d">isq3bsp</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4844</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a561bd00bcb29326c59d33a5ab01299ba">skymasking</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4845</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a> = <span class="stringliteral">&quot;Q2BSP&quot;</span>;</div>
<div class="line"><span class="lineno"> 4846</span> </div>
<div class="line"><span class="lineno"> 4847</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4848</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code hl_define" href="model__q2bsp_8h.html#a918a6c68127b8ff3a66eadba088b7c15">Q2BSPMAGIC</a>)</div>
<div class="line"><span class="lineno"> 4849</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_Load: %s has wrong version number (%i, should be %i)&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="model__q2bsp_8h.html#ad263d0ae9d22f8f811b8ce50ff906fee">Q2BSPVERSION</a>);</div>
<div class="line"><span class="lineno"> 4850</span> </div>
<div class="line"><span class="lineno"> 4851</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4852</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code hl_define" href="model__q2bsp_8h.html#ad263d0ae9d22f8f811b8ce50ff906fee">Q2BSPVERSION</a>)</div>
<div class="line"><span class="lineno"> 4853</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_Load: %s has wrong version number (%i, should be %i)&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="model__q2bsp_8h.html#ad263d0ae9d22f8f811b8ce50ff906fee">Q2BSPVERSION</a>);</div>
<div class="line"><span class="lineno"> 4854</span> </div>
<div class="line"><span class="lineno"> 4855</span><span class="comment">// read lumps</span></div>
<div class="line"><span class="lineno"> 4856</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="model__q2bsp_8h.html#abb2a3a6be731264d0e03d5c7eb2e1d0e">Q2HEADER_LUMPS</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4857</span>    {</div>
<div class="line"><span class="lineno"> 4858</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4859</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4860</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt; 0 || offset + size &gt;</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.cursize)</div>
<div class="line"><span class="lineno"> 4861</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_Load: %s has invalid lump %i (offset %i, size %i, file size %i)\n&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.cursize);</div>
<div class="line"><span class="lineno"> 4862</span>        <a class="code hl_function" href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.data + <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><span class="lineno"> 4863</span>    }</div>
<div class="line"><span class="lineno"> 4864</span> </div>
<div class="line"><span class="lineno"> 4865</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1fcab5fc67dd83b66311618cf8e152d">soundfromcenter</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4866</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a72c9953cbe38085b8545258bfd28792c">TracePoint</a> = <a class="code hl_function" href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a>;</div>
<div class="line"><span class="lineno"> 4867</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af986fe2f082429a18c3d36f957649e10">TraceLine</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 4868</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">TraceBox</a> = <a class="code hl_function" href="model__brush_8c.html#a29fecb522c6d449fb01d01f2b070e4d1">Mod_CollisionBIH_TraceBox</a>;</div>
<div class="line"><span class="lineno"> 4869</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a88de93ec53d5028ad75df7a08eb5005a">TraceBrush</a> = <a class="code hl_function" href="model__brush_8c.html#affbc4942202066560126b850810d2662">Mod_CollisionBIH_TraceBrush</a>;</div>
<div class="line"><span class="lineno"> 4870</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">PointSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#ababe610321bcf4487f3e28ac11b0ca1c">Mod_CollisionBIH_PointSuperContents</a>;</div>
<div class="line"><span class="lineno"> 4871</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab12042d3586a8c32c85b226baf81d982">TraceLineAgainstSurfaces</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 4872</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a32ee664ad4c03f4ea8c698b48bb443fe">TraceLineOfSight</a> = <a class="code hl_function" href="model__brush_8c.html#a1f6f8c9469d2d4238d77ced1637226a8">Mod_Q3BSP_TraceLineOfSight</a>;</div>
<div class="line"><span class="lineno"> 4873</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a42a513aa3f096a77e3f52db25aff4a12">SuperContentsFromNativeContents</a> = <a class="code hl_function" href="model__brush_8c.html#a71ea8486028744092c5d72eaa2dcb15f">Mod_Q2BSP_SuperContentsFromNativeContents</a>;</div>
<div class="line"><span class="lineno"> 4874</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12902c97697b0ccf6f66b5cc1a6e6cbf">NativeContentsFromSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#ac07554f74269005419bc0a10b5f4d8da">Mod_Q2BSP_NativeContentsFromSuperContents</a>;</div>
<div class="line"><span class="lineno"> 4875</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a410424a81c26ecc81451c5da4a7c50f5">Mod_BSP_GetPVS</a>;</div>
<div class="line"><span class="lineno"> 4876</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a72ec2cd29705ec14f030bd49ba9697a2">Mod_BSP_FatPVS</a>;</div>
<div class="line"><span class="lineno"> 4877</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_function" href="model__brush_8c.html#aa0a4fa58c97cfce8966a22c7fcec4285">Mod_BSP_BoxTouchingPVS</a>;</div>
<div class="line"><span class="lineno"> 4878</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a6a74f1d6ae2f7904e073ae012c2a4b10">Mod_BSP_BoxTouchingLeafPVS</a>;</div>
<div class="line"><span class="lineno"> 4879</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_function" href="model__brush_8c.html#ac5ff29218d7cd338d8aeee45fd9d1f3c">Mod_BSP_BoxTouchingVisibleLeafs</a>;</div>
<div class="line"><span class="lineno"> 4880</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_function" href="model__brush_8c.html#a8de8e2031a8fb80452d8a3b9fedc159c">Mod_BSP_FindBoxClusters</a>;</div>
<div class="line"><span class="lineno"> 4881</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_function" href="model__brush_8c.html#a077fb94ca69306dbb3dabbd3708619f2">Mod_BSP_LightPoint</a>;</div>
<div class="line"><span class="lineno"> 4882</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8d0042214ff0c446bc69f675e65aadb2">FindNonSolidLocation</a> = <a class="code hl_function" href="model__brush_8c.html#a996f873f75319d130c4c2f689629affd">Mod_BSP_FindNonSolidLocation</a>;</div>
<div class="line"><span class="lineno"> 4883</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4884</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a35481106e3500413e8a0304780449719">RoundUpToHullSize</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4885</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">PointInLeaf</a> = <a class="code hl_function" href="model__brush_8c.html#abb086140977095e71ec940fd8f3fc943">Mod_BSP_PointInLeaf</a>;</div>
<div class="line"><span class="lineno"> 4886</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ad54aab83aca1c9ec564054f4019609">Draw</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a904d7d0ff6adf58e411c3ffb80ca27c4">R_Mod_Draw</a>;</div>
<div class="line"><span class="lineno"> 4887</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0c0d94b3f0503536ab0e6c0056d97df2">DrawDepth</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aae83c1e7beee72d6cbfc03a0f0bd11bf">R_Mod_DrawDepth</a>;</div>
<div class="line"><span class="lineno"> 4888</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a7b670a69b5082781733cc0b9ebdc307a">DrawDebug</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a6e528b203b784986a5b5bbf82ac387ff">R_Mod_DrawDebug</a>;</div>
<div class="line"><span class="lineno"> 4889</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5a5b038598ccef5f670521d169edb025">DrawPrepass</a> = <a class="code hl_function" href="gl__rsurf_8c.html#ad8145eb3a0203496ea94da9834e098f0">R_Mod_DrawPrepass</a>;</div>
<div class="line"><span class="lineno"> 4890</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a7a0081b6e77854bd75ae206afba89148">GetLightInfo</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a60a24c695566f11f38f592dc83d76869">R_Mod_GetLightInfo</a>;</div>
<div class="line"><span class="lineno"> 4891</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aaba719ee8f91d844c266a62e4661aad9">CompileShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a2c9f5aad0d1f1cbd7abefaf946c38fc7">R_Mod_CompileShadowMap</a>;</div>
<div class="line"><span class="lineno"> 4892</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a71121e7ef28a949af258f4611ce21e9c">DrawShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aa4222887ff91555860ca9ab52531861c">R_Mod_DrawShadowMap</a>;</div>
<div class="line"><span class="lineno"> 4893</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af206eaa0040c5a5e297fa1c0191b22dd">DrawLight</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a89a46aef51c1b493184fcc71ee028236">R_Mod_DrawLight</a>;</div>
<div class="line"><span class="lineno"> 4894</span> </div>
<div class="line"><span class="lineno"> 4895</span><span class="comment">// load into heap</span></div>
<div class="line"><span class="lineno"> 4896</span> </div>
<div class="line"><span class="lineno"> 4897</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#acd2c4e7f74ff36091f55d3ae17e267ff">qw_md4sum</a> = 0;</div>
<div class="line"><span class="lineno"> 4898</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a662be3860db75e6940ad5fb54a5c0b53">qw_md4sum2</a> = 0;</div>
<div class="line"><span class="lineno"> 4899</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="model__q2bsp_8h.html#abb2a3a6be731264d0e03d5c7eb2e1d0e">Q2HEADER_LUMPS</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4900</span>    {</div>
<div class="line"><span class="lineno"> 4901</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>;</div>
<div class="line"><span class="lineno"> 4902</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q2bsp_8h.html#aab35c56c2580d29ecaed8ec5e0b25179">Q2LUMP_ENTITIES</a>)</div>
<div class="line"><span class="lineno"> 4903</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4904</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a> = <a class="code hl_function" href="common_8h.html#a33218a7cf8dede33924c935a08801b6a">Com_BlockChecksum</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].cursize);</div>
<div class="line"><span class="lineno"> 4905</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#acd2c4e7f74ff36091f55d3ae17e267ff">qw_md4sum</a> ^= <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><span class="lineno"> 4906</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q2bsp_8h.html#a57d5ce105a4ea81bc7fe53bfd2e33b92">Q2LUMP_VISIBILITY</a> || <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q2bsp_8h.html#a5219c410f10f865c9dcae17c4d2cb33e">Q2LUMP_LEAFS</a> || <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q2bsp_8h.html#af6e2b51c1307a6b4c2de29e2e9cac659">Q2LUMP_NODES</a>)</div>
<div class="line"><span class="lineno"> 4907</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4908</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a662be3860db75e6940ad5fb54a5c0b53">qw_md4sum2</a> ^= <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">temp</a>);</div>
<div class="line"><span class="lineno"> 4909</span>    }</div>
<div class="line"><span class="lineno"> 4910</span> </div>
<div class="line"><span class="lineno"> 4911</span>    <span class="comment">// many of these functions are identical to Q1 loaders, so we use those where possible</span></div>
<div class="line"><span class="lineno"> 4912</span>    <a class="code hl_function" href="model__brush_8c.html#a795ac415341adbbe4b7011e3bbcf0361">Mod_Q1BSP_LoadEntities</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#aab35c56c2580d29ecaed8ec5e0b25179">Q2LUMP_ENTITIES</a>]);</div>
<div class="line"><span class="lineno"> 4913</span>    <a class="code hl_function" href="model__brush_8c.html#a0765492c0b40a0b68d17b590383e921b">Mod_Q1BSP_LoadVertexes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a5616623b2ebbabcdcbb2fd140d6477d5">Q2LUMP_VERTEXES</a>]);</div>
<div class="line"><span class="lineno"> 4914</span>    <a class="code hl_function" href="model__brush_8c.html#abdd48be44ee0cc68591e09d7c5193072">Mod_Q1BSP_LoadEdges</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a1547aea239a40d08a19d7f0cec0e0261">Q2LUMP_EDGES</a>]);</div>
<div class="line"><span class="lineno"> 4915</span>    <a class="code hl_function" href="model__brush_8c.html#aaa49f1f172b5050db2d36f5b23fd18fe">Mod_Q1BSP_LoadSurfedges</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a9cec45d96f29e15697eaa6864ad2d482">Q2LUMP_SURFEDGES</a>]);</div>
<div class="line"><span class="lineno"> 4916</span>    <a class="code hl_function" href="model__brush_8c.html#a4c785b9b5bcd5ebfd70b00b4d95669fb">Mod_Q2BSP_LoadLighting</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#aa4fb82baae527b64a674dc03f511dfef">Q2LUMP_LIGHTING</a>]);</div>
<div class="line"><span class="lineno"> 4917</span>    <a class="code hl_function" href="model__brush_8c.html#a4db47416ee4f951b1fa8fc15a15edba8">Mod_Q1BSP_LoadPlanes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a3587a576d62db6c0d8d408daf6b62ae5">Q2LUMP_PLANES</a>]);</div>
<div class="line"><span class="lineno"> 4918</span>    <a class="code hl_function" href="model__brush_8c.html#a241ecfdf3fd5fa62cc3d4c79c8953c1f">Mod_Q2BSP_LoadTexinfo</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a24c5d7cf11490bf3489755298fa51cae">Q2LUMP_TEXINFO</a>]);</div>
<div class="line"><span class="lineno"> 4919</span>    <a class="code hl_function" href="model__brush_8c.html#a954dfc9fbad2b96942a874269b4862d3">Mod_Q2BSP_LoadBrushSides</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a2f8d83834322ceedb2ce022a00db0d26">Q2LUMP_BRUSHSIDES</a>]);</div>
<div class="line"><span class="lineno"> 4920</span>    <a class="code hl_function" href="model__brush_8c.html#ad7eb0cedd461b8dd88a7861f918deaec">Mod_Q2BSP_LoadBrushes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a8e49ea34264d1bffbf486275158ec2bc">Q2LUMP_BRUSHES</a>]);</div>
<div class="line"><span class="lineno"> 4921</span>    <a class="code hl_function" href="model__brush_8c.html#a933e860910bead34039564417f55ff8c">Mod_Q1BSP_LoadFaces</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a60313475be659005d5d130abfa378938">Q2LUMP_FACES</a>]);</div>
<div class="line"><span class="lineno"> 4922</span>    <a class="code hl_function" href="model__brush_8c.html#ab849011d1339ec57f744b5b3c32b544d">Mod_Q1BSP_LoadLeaffaces</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a70795d8eeb205b2907b02b237752d971">Q2LUMP_LEAFFACES</a>]);</div>
<div class="line"><span class="lineno"> 4923</span>    <a class="code hl_function" href="model__brush_8c.html#a411013bcc03d7cbda40c2f8d751a0b5e">Mod_Q2BSP_LoadLeafBrushes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a2bc7c6610fa92dff6a7b1cf1d369fadd">Q2LUMP_LEAFBRUSHES</a>]);</div>
<div class="line"><span class="lineno"> 4924</span>    <a class="code hl_function" href="model__brush_8c.html#a63dff671fba6b778830fb6c886635f03">Mod_Q2BSP_LoadVisibility</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a57d5ce105a4ea81bc7fe53bfd2e33b92">Q2LUMP_VISIBILITY</a>]);</div>
<div class="line"><span class="lineno"> 4925</span>    <a class="code hl_function" href="model__brush_8c.html#a59e185c08c82e9eeee676bcb680485e0">Mod_Q2BSP_LoadPOP</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#af6aaa9d18754fa84e2296b272360fff7">Q2LUMP_POP</a>]);</div>
<div class="line"><span class="lineno"> 4926</span>    <a class="code hl_function" href="model__brush_8c.html#a26803232c5106998eb909e781cdedf6f">Mod_Q2BSP_LoadAreas</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#aee79fbe0e0432c953b97de969d061812">Q2LUMP_AREAS</a>]);</div>
<div class="line"><span class="lineno"> 4927</span>    <a class="code hl_function" href="model__brush_8c.html#ae5c71bf839cf54d5735e0472e603cf07">Mod_Q2BSP_LoadAreaPortals</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#aa22a89f080573a96bfca37ea82f506f0">Q2LUMP_AREAPORTALS</a>]);</div>
<div class="line"><span class="lineno"> 4928</span>    <a class="code hl_function" href="model__brush_8c.html#a54c880cf6a849b370bdf392ad16706f0">Mod_Q2BSP_LoadLeafs</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a5219c410f10f865c9dcae17c4d2cb33e">Q2LUMP_LEAFS</a>]);</div>
<div class="line"><span class="lineno"> 4929</span>    <a class="code hl_function" href="model__brush_8c.html#aa00c11dd31d84a18fd00c62494cea3f8">Mod_Q2BSP_LoadNodes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#af6e2b51c1307a6b4c2de29e2e9cac659">Q2LUMP_NODES</a>]);</div>
<div class="line"><span class="lineno"> 4930</span>    <a class="code hl_function" href="model__brush_8c.html#afb6036155682498abfc0c21a60887cbe">Mod_BSP_LoadSubmodels</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__q2bsp_8h.html#a3206b93c3645fb61d476776372ce6492">Q2LUMP_MODELS</a>], <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 4931</span> </div>
<div class="line"><span class="lineno"> 4932</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="model__q2bsp_8h.html#abb2a3a6be731264d0e03d5c7eb2e1d0e">Q2HEADER_LUMPS</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4933</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].readcount != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].cursize)</div>
<div class="line"><span class="lineno"> 4934</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Lump %i incorrectly loaded (readcount %i, size %i)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].readcount, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].cursize);</div>
<div class="line"><span class="lineno"> 4935</span> </div>
<div class="line"><span class="lineno"> 4936</span>    <span class="comment">// we don&#39;t actually set MATERIALFLAG_WATERALPHA on anything, so this</span></div>
<div class="line"><span class="lineno"> 4937</span>    <span class="comment">// doesn&#39;t enable the cvar, just indicates that transparent water is OK</span></div>
<div class="line"><span class="lineno"> 4938</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a345af4033a9c6f8123afaa8b632e1a54">supportwateralpha</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4939</span> </div>
<div class="line"><span class="lineno"> 4940</span>    <span class="comment">// we don&#39;t need the compressed pvs data anymore</span></div>
<div class="line"><span class="lineno"> 4941</span>    <span class="keywordflow">if</span> (mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a>)</div>
<div class="line"><span class="lineno"> 4942</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a>);</div>
<div class="line"><span class="lineno"> 4943</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4944</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a663ce8105fb244c9ec16617834f95160">num_compressedpvs</a> = 0;</div>
<div class="line"><span class="lineno"> 4945</span> </div>
<div class="line"><span class="lineno"> 4946</span>    <span class="comment">// the MakePortals code works fine on the q2bsp data as well</span></div>
<div class="line"><span class="lineno"> 4947</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a391c56aad79c870bd52702ab037bf5f3">mod_bsp_portalize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 4948</span>        <a class="code hl_function" href="model__brush_8c.html#af063f8a4f957bf32a9c35ded26d58726">Mod_BSP_MakePortals</a>();</div>
<div class="line"><span class="lineno"> 4949</span> </div>
<div class="line"><span class="lineno"> 4950</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a9c3577006a252ce407c3b204a05be9e4">numframes</a> = 0;     <span class="comment">// q2bsp animations are kind of special, frame is unbounded...</span></div>
<div class="line"><span class="lineno"> 4951</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a> = 1;</div>
<div class="line"><span class="lineno"> 4952</span> </div>
<div class="line"><span class="lineno"> 4953</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>)</div>
<div class="line"><span class="lineno"> 4954</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a> = (<a class="code hl_struct" href="structmodel__t.html">model_t</a> **)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__t.html">model_t</a> *));</div>
<div class="line"><span class="lineno"> 4955</span> </div>
<div class="line"><span class="lineno"> 4956</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstylesurfaces</a> = 0;</div>
<div class="line"><span class="lineno"> 4957</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstyles</a> = 0;</div>
<div class="line"><span class="lineno"> 4958</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4959</span>    {</div>
<div class="line"><span class="lineno"> 4960</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>));</div>
<div class="line"><span class="lineno"> 4961</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structmmodel__t.html#a4ef63cba10fc9bd47507d01580f3cac4">numfaces</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4962</span>        {</div>
<div class="line"><span class="lineno"> 4963</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structmmodel__t.html#a4e94a3c952b8f030b8ea3a640f8765f4">firstface</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 4964</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4965</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]]++;</div>
<div class="line"><span class="lineno"> 4966</span>        }</div>
<div class="line"><span class="lineno"> 4967</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 255;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4968</span>        {</div>
<div class="line"><span class="lineno"> 4969</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstyles</a>++;</div>
<div class="line"><span class="lineno"> 4970</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>])</div>
<div class="line"><span class="lineno"> 4971</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstylesurfaces</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 4972</span>        }</div>
<div class="line"><span class="lineno"> 4973</span>    }</div>
<div class="line"><span class="lineno"> 4974</span>    <span class="comment">// bones_was_here: using a separate allocation for model_brush_lightstyleinfo_t</span></div>
<div class="line"><span class="lineno"> 4975</span>    <span class="comment">// because on a 64-bit machine it no longer has the same alignment requirement as int.</span></div>
<div class="line"><span class="lineno"> 4976</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lsidatapointer</a> = <a class="code hl_define" href="zone_8h.html#addac2538e0cb7480500ef5876dba5ec3">Mem_AllocType</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstyles</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a>));</div>
<div class="line"><span class="lineno"> 4977</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a> = <a class="code hl_define" href="zone_8h.html#addac2538e0cb7480500ef5876dba5ec3">Mem_AllocType</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keywordtype">int</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalstylesurfaces</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><span class="lineno"> 4978</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a37ed77c0d67434b15280684a8ba42814">modelsurfaces_sorted</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a>; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a> += mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>;</div>
<div class="line"><span class="lineno"> 4979</span>    <span class="comment">// set up the world model, then on each submodel copy from the world model</span></div>
<div class="line"><span class="lineno"> 4980</span>    <span class="comment">// and set up the submodel with the respective model info.</span></div>
<div class="line"><span class="lineno"> 4981</span>    mod = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 4982</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4983</span>    {</div>
<div class="line"><span class="lineno"> 4984</span>        <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *rootnode = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4985</span>        <span class="keywordtype">int</span> firstbrush = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastbrush</a> = 0;</div>
<div class="line"><span class="lineno"> 4986</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 4987</span>        {</div>
<div class="line"><span class="lineno"> 4988</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[10];</div>
<div class="line"><span class="lineno"> 4989</span>            <span class="comment">// duplicate the basic information</span></div>
<div class="line"><span class="lineno"> 4990</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="stringliteral">&quot;*%i&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 4991</span>            mod = <a class="code hl_function" href="model__shared_8c.html#a9b0e709a676fe0bd42548fcf0a45042e">Mod_FindName</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4992</span>            <span class="comment">// copy the base model to this one</span></div>
<div class="line"><span class="lineno"> 4993</span>            *mod = *<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 4994</span>            <span class="comment">// rename the clone back to its proper name</span></div>
<div class="line"><span class="lineno"> 4995</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>));</div>
<div class="line"><span class="lineno"> 4996</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac4d9fbdd0eee8dd6822be206eb245cc3">parentmodel</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 4997</span>            <span class="comment">// textures and memory belong to the main model</span></div>
<div class="line"><span class="lineno"> 4998</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4999</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5000</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5001</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5002</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5003</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5004</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5005</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5006</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5007</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5008</span>        }</div>
<div class="line"><span class="lineno"> 5009</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a1bb35c00721be56c390df0b877791cac">submodel</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 5010</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>)</div>
<div class="line"><span class="lineno"> 5011</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = mod;</div>
<div class="line"><span class="lineno"> 5012</span> </div>
<div class="line"><span class="lineno"> 5013</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a> = &amp;mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#af1ce33b3b1317f6aa699841281ff993f">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 5014</span> </div>
<div class="line"><span class="lineno"> 5015</span>        <span class="comment">// we store the headnode (there&#39;s only one in Q2BSP) as if it were the first hull</span></div>
<div class="line"><span class="lineno"> 5016</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a36ff0b8c967bdf1041ed71979b0306df">hulls</a>[0].<a class="code hl_variable" href="structhull__t.html#a5a8f9152ca1f6f5ce05e4f4ea8b40ae0">firstclipnode</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;headnode[0];</div>
<div class="line"><span class="lineno"> 5017</span> </div>
<div class="line"><span class="lineno"> 5018</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;firstface;</div>
<div class="line"><span class="lineno"> 5019</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;firstface + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;numfaces;</div>
<div class="line"><span class="lineno"> 5020</span> </div>
<div class="line"><span class="lineno"> 5021</span>        <span class="comment">// set node/leaf parents for this submodel</span></div>
<div class="line"><span class="lineno"> 5022</span>        <span class="comment">// note: if the root of this submodel is a leaf (headnode[0] &lt; 0) then there is nothing to do...</span></div>
<div class="line"><span class="lineno"> 5023</span>        <span class="comment">// (this happens in base3.bsp)</span></div>
<div class="line"><span class="lineno"> 5024</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;headnode[0] &gt;= 0)</div>
<div class="line"><span class="lineno"> 5025</span>            rootnode = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;headnode[0];</div>
<div class="line"><span class="lineno"> 5026</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5027</span>            rootnode = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a>*)(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a> + -1 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;headnode[0]);</div>
<div class="line"><span class="lineno"> 5028</span>        <a class="code hl_function" href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a>(rootnode, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 5029</span> </div>
<div class="line"><span class="lineno"> 5030</span>        <span class="comment">// make the model surface list (used by shadowing/lighting)</span></div>
<div class="line"><span class="lineno"> 5031</span>        <a class="code hl_function" href="model__brush_8c.html#a7d5db750c15d25e553a16bf6b5caf013">Mod_Q2BSP_FindSubmodelBrushRange_r</a>(mod, rootnode, &amp;firstbrush, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastbrush</a>);</div>
<div class="line"><span class="lineno"> 5032</span>        <span class="keywordflow">if</span> (firstbrush &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastbrush</a>)</div>
<div class="line"><span class="lineno"> 5033</span>        {</div>
<div class="line"><span class="lineno"> 5034</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2472c8c7fada35ea614e42dba474ae52">firstmodelbrush</a> = firstbrush;</div>
<div class="line"><span class="lineno"> 5035</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a93410bd37b5bf2b8c370201850806078">nummodelbrushes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lastbrush</a> + 1 - firstbrush;</div>
<div class="line"><span class="lineno"> 5036</span>        }</div>
<div class="line"><span class="lineno"> 5037</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5038</span>        {</div>
<div class="line"><span class="lineno"> 5039</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2472c8c7fada35ea614e42dba474ae52">firstmodelbrush</a> = 0;</div>
<div class="line"><span class="lineno"> 5040</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a93410bd37b5bf2b8c370201850806078">nummodelbrushes</a> = 0;</div>
<div class="line"><span class="lineno"> 5041</span>        }</div>
<div class="line"><span class="lineno"> 5042</span> </div>
<div class="line"><span class="lineno"> 5043</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;mins, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>);</div>
<div class="line"><span class="lineno"> 5044</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bm</a>-&gt;maxs, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>);</div>
<div class="line"><span class="lineno"> 5045</span>        dist = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0]));</div>
<div class="line"><span class="lineno"> 5046</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1]));</div>
<div class="line"><span class="lineno"> 5047</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = dist*dist+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 5048</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2]));</div>
<div class="line"><span class="lineno"> 5049</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 5050</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>);</div>
<div class="line"><span class="lineno"> 5051</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>);</div>
<div class="line"><span class="lineno"> 5052</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[1] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 5053</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[2] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2];</div>
<div class="line"><span class="lineno"> 5054</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[1] =  <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelyawradius</a>;</div>
<div class="line"><span class="lineno"> 5055</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[2] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2];</div>
<div class="line"><span class="lineno"> 5056</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[1] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[2] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 5057</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[1] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[2] =  <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 5058</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4bf40349d814f181d66602ed812c7903">radius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 5059</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0629c0fdc502c92975be054a2b6dd9e6">radius2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 5060</span> </div>
<div class="line"><span class="lineno"> 5061</span>        <a class="code hl_function" href="model__shared_8c.html#af5bb8e6dccd0096a95cca1db54d8cdc7">Mod_SetDrawSkyAndWater</a>(mod);</div>
<div class="line"><span class="lineno"> 5062</span> </div>
<div class="line"><span class="lineno"> 5063</span>        <span class="comment">// build lightstyle lists for quick marking of dirty lightmaps when lightstyles flicker</span></div>
<div class="line"><span class="lineno"> 5064</span>        <span class="keywordflow">if</span> (mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>)</div>
<div class="line"><span class="lineno"> 5065</span>        {</div>
<div class="line"><span class="lineno"> 5066</span>            <span class="comment">// build lightstyle update chains</span></div>
<div class="line"><span class="lineno"> 5067</span>            <span class="comment">// (used to rapidly mark lightmapupdateflags on many surfaces</span></div>
<div class="line"><span class="lineno"> 5068</span>            <span class="comment">// when d_lightstylevalue changes)</span></div>
<div class="line"><span class="lineno"> 5069</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>));</div>
<div class="line"><span class="lineno"> 5070</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 5071</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 5072</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>].<a class="code hl_variable" href="structmsurface__t.html#a3bcf5ab2775977746b2df6f5cdb74ef4">lightmapinfo</a>-&gt;<a class="code hl_variable" href="structmsurface__lightmapinfo__t.html#a1f27f7caebce48e4e6ef514cc7a011cb">styles</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]]++;</div>
<div class="line"><span class="lineno"> 5073</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a> = 0;</div>
<div class="line"><span class="lineno"> 5074</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 255;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 5075</span>            {</div>
<div class="line"><span class="lineno"> 5076</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>])</div>
<div class="line"><span class="lineno"> 5077</span>                {</div>
<div class="line"><span class="lineno"> 5078</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>].style = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 5079</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>].value = 0;</div>
<div class="line"><span class="lineno"> 5080</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>].numsurfaces = 0;</div>
<div class="line"><span class="lineno"> 5081</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>].surfacelist = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">datapointer</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylecounts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 5082</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remapstyles</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>;</div>
<div class="line"><span class="lineno"> 5083</span>                    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>++;</div>
<div class="line"><span class="lineno"> 5084</span>                }</div>
<div class="line"><span class="lineno"> 5085</span>            }</div>
<div class="line"><span class="lineno"> 5086</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 5087</span>            {</div>
<div class="line"><span class="lineno"> 5088</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 5089</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 5090</span>                {</div>
<div class="line"><span class="lineno"> 5091</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] != 255)</div>
<div class="line"><span class="lineno"> 5092</span>                    {</div>
<div class="line"><span class="lineno"> 5093</span>                        <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">remapstyles</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]];</div>
<div class="line"><span class="lineno"> 5094</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>].surfacelist[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>[<a class="code hl_variable" href="shader__glsl_8h.html#a008e65201d4481545ed89903a22f667a">r</a>].numsurfaces++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 5095</span>                    }</div>
<div class="line"><span class="lineno"> 5096</span>                }</div>
<div class="line"><span class="lineno"> 5097</span>            }</div>
<div class="line"><span class="lineno"> 5098</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a514cf493a6e744f8717a00df794d84e0">data_lightstyleinfo</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lsidatapointer</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lsidatapointer</a> += mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a>;</div>
<div class="line"><span class="lineno"> 5099</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a514cf493a6e744f8717a00df794d84e0">data_lightstyleinfo</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">styleinfo</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a48618a707013d0f863f42940df3a8df7">num_lightstyles</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__brush__lightstyleinfo__t.html">model_brush_lightstyleinfo_t</a>));</div>
<div class="line"><span class="lineno"> 5100</span>        }</div>
<div class="line"><span class="lineno"> 5101</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5102</span>        {</div>
<div class="line"><span class="lineno"> 5103</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;warning: empty submodel *%i in %s\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5104</span>        }</div>
<div class="line"><span class="lineno"> 5105</span>        <span class="comment">//mod-&gt;brushq1.num_visleafs = bm-&gt;visleafs;</span></div>
<div class="line"><span class="lineno"> 5106</span> </div>
<div class="line"><span class="lineno"> 5107</span>        <span class="comment">// build a Bounding Interval Hierarchy for culling triangles in light rendering</span></div>
<div class="line"><span class="lineno"> 5108</span>        <a class="code hl_function" href="model__brush_8c.html#ac294c2bc06a02f8114eed73c8f71795f">Mod_MakeCollisionBIH</a>(mod, <span class="keyword">false</span>, &amp;mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">collision_bih</a>);</div>
<div class="line"><span class="lineno"> 5109</span> </div>
<div class="line"><span class="lineno"> 5110</span>        <span class="comment">// build a Bounding Interval Hierarchy for culling brushes in collision detection</span></div>
<div class="line"><span class="lineno"> 5111</span>        <a class="code hl_function" href="model__brush_8c.html#ac294c2bc06a02f8114eed73c8f71795f">Mod_MakeCollisionBIH</a>(mod, <span class="keyword">true</span>, &amp;mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a9682062b0e84b91a8768dde10c4ee688">render_bih</a>);</div>
<div class="line"><span class="lineno"> 5112</span> </div>
<div class="line"><span class="lineno"> 5113</span>        <span class="comment">// generate VBOs and other shared data before cloning submodels</span></div>
<div class="line"><span class="lineno"> 5114</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0)</div>
<div class="line"><span class="lineno"> 5115</span>            <a class="code hl_function" href="model__shared_8c.html#a7c7a5f1ce32faf220d25380eb24bd1ad">Mod_BuildVBOs</a>();</div>
<div class="line"><span class="lineno"> 5116</span>    }</div>
<div class="line"><span class="lineno"> 5117</span>    mod = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 5118</span> </div>
<div class="line"><span class="lineno"> 5119</span>    <span class="comment">// make the model surface list (used by shadowing/lighting)</span></div>
<div class="line"><span class="lineno"> 5120</span>    <a class="code hl_function" href="model__shared_8c.html#aa8c710db4d67bb0e0759c01235c827e7">Mod_MakeSortedSurfaces</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>);</div>
<div class="line"><span class="lineno"> 5121</span> </div>
<div class="line"><span class="lineno"> 5122</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Stats for q2bsp model \&quot;%s\&quot;: %i faces, %i nodes, %i leafs, %i clusters, %i clusterportals, mesh: %i vertices, %i triangles, %i surfaces\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a80d9915c394c4ff052e777804cc6da63">num_portals</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>);</div>
<div class="line"><span class="lineno"> 5123</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a1f6f8c9469d2d4238d77ced1637226a8"><div class="ttname"><a href="model__brush_8c.html#a1f6f8c9469d2d4238d77ced1637226a8">Mod_Q3BSP_TraceLineOfSight</a></div><div class="ttdeci">static qbool Mod_Q3BSP_TraceLineOfSight(struct model_s *model, const vec3_t start, const vec3_t end, const vec3_t acceptmins, const vec3_t acceptmaxs)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06748">model_brush.c:6748</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a241ecfdf3fd5fa62cc3d4c79c8953c1f"><div class="ttname"><a href="model__brush_8c.html#a241ecfdf3fd5fa62cc3d4c79c8953c1f">Mod_Q2BSP_LoadTexinfo</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadTexinfo(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04350">model_brush.c:4350</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a26803232c5106998eb909e781cdedf6f"><div class="ttname"><a href="model__brush_8c.html#a26803232c5106998eb909e781cdedf6f">Mod_Q2BSP_LoadAreas</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadAreas(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04790">model_brush.c:4790</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a411013bcc03d7cbda40c2f8d751a0b5e"><div class="ttname"><a href="model__brush_8c.html#a411013bcc03d7cbda40c2f8d751a0b5e">Mod_Q2BSP_LoadLeafBrushes</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadLeafBrushes(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04629">model_brush.c:4629</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a4c785b9b5bcd5ebfd70b00b4d95669fb"><div class="ttname"><a href="model__brush_8c.html#a4c785b9b5bcd5ebfd70b00b4d95669fb">Mod_Q2BSP_LoadLighting</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadLighting(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04555">model_brush.c:4555</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a54c880cf6a849b370bdf392ad16706f0"><div class="ttname"><a href="model__brush_8c.html#a54c880cf6a849b370bdf392ad16706f0">Mod_Q2BSP_LoadLeafs</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadLeafs(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04562">model_brush.c:4562</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a59e185c08c82e9eeee676bcb680485e0"><div class="ttname"><a href="model__brush_8c.html#a59e185c08c82e9eeee676bcb680485e0">Mod_Q2BSP_LoadPOP</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadPOP(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04784">model_brush.c:4784</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a63dff671fba6b778830fb6c886635f03"><div class="ttname"><a href="model__brush_8c.html#a63dff671fba6b778830fb6c886635f03">Mod_Q2BSP_LoadVisibility</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadVisibility(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04253">model_brush.c:4253</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a71ea8486028744092c5d72eaa2dcb15f"><div class="ttname"><a href="model__brush_8c.html#a71ea8486028744092c5d72eaa2dcb15f">Mod_Q2BSP_SuperContentsFromNativeContents</a></div><div class="ttdeci">int Mod_Q2BSP_SuperContentsFromNativeContents(int nativecontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04205">model_brush.c:4205</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a954dfc9fbad2b96942a874269b4862d3"><div class="ttname"><a href="model__brush_8c.html#a954dfc9fbad2b96942a874269b4862d3">Mod_Q2BSP_LoadBrushSides</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadBrushSides(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04648">model_brush.c:4648</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aa00c11dd31d84a18fd00c62494cea3f8"><div class="ttname"><a href="model__brush_8c.html#aa00c11dd31d84a18fd00c62494cea3f8">Mod_Q2BSP_LoadNodes</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadNodes(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04281">model_brush.c:4281</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ababe610321bcf4487f3e28ac11b0ca1c"><div class="ttname"><a href="model__brush_8c.html#ababe610321bcf4487f3e28ac11b0ca1c">Mod_CollisionBIH_PointSuperContents</a></div><div class="ttdeci">int Mod_CollisionBIH_PointSuperContents(struct model_s *model, int frame, const vec3_t point)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07132">model_brush.c:7132</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ac07554f74269005419bc0a10b5f4d8da"><div class="ttname"><a href="model__brush_8c.html#ac07554f74269005419bc0a10b5f4d8da">Mod_Q2BSP_NativeContentsFromSuperContents</a></div><div class="ttdeci">int Mod_Q2BSP_NativeContentsFromSuperContents(int supercontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04229">model_brush.c:4229</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ad7eb0cedd461b8dd88a7861f918deaec"><div class="ttname"><a href="model__brush_8c.html#ad7eb0cedd461b8dd88a7861f918deaec">Mod_Q2BSP_LoadBrushes</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadBrushes(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04683">model_brush.c:4683</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ae5c71bf839cf54d5735e0472e603cf07"><div class="ttname"><a href="model__brush_8c.html#ae5c71bf839cf54d5735e0472e603cf07">Mod_Q2BSP_LoadAreaPortals</a></div><div class="ttdeci">static void Mod_Q2BSP_LoadAreaPortals(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l04796">model_brush.c:4796</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a1547aea239a40d08a19d7f0cec0e0261"><div class="ttname"><a href="model__q2bsp_8h.html#a1547aea239a40d08a19d7f0cec0e0261">Q2LUMP_EDGES</a></div><div class="ttdeci">#define Q2LUMP_EDGES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00025">model_q2bsp.h:25</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a24c5d7cf11490bf3489755298fa51cae"><div class="ttname"><a href="model__q2bsp_8h.html#a24c5d7cf11490bf3489755298fa51cae">Q2LUMP_TEXINFO</a></div><div class="ttdeci">#define Q2LUMP_TEXINFO</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00019">model_q2bsp.h:19</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a2bc7c6610fa92dff6a7b1cf1d369fadd"><div class="ttname"><a href="model__q2bsp_8h.html#a2bc7c6610fa92dff6a7b1cf1d369fadd">Q2LUMP_LEAFBRUSHES</a></div><div class="ttdeci">#define Q2LUMP_LEAFBRUSHES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00024">model_q2bsp.h:24</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a2f8d83834322ceedb2ce022a00db0d26"><div class="ttname"><a href="model__q2bsp_8h.html#a2f8d83834322ceedb2ce022a00db0d26">Q2LUMP_BRUSHSIDES</a></div><div class="ttdeci">#define Q2LUMP_BRUSHSIDES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00029">model_q2bsp.h:29</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a3206b93c3645fb61d476776372ce6492"><div class="ttname"><a href="model__q2bsp_8h.html#a3206b93c3645fb61d476776372ce6492">Q2LUMP_MODELS</a></div><div class="ttdeci">#define Q2LUMP_MODELS</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00027">model_q2bsp.h:27</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a3587a576d62db6c0d8d408daf6b62ae5"><div class="ttname"><a href="model__q2bsp_8h.html#a3587a576d62db6c0d8d408daf6b62ae5">Q2LUMP_PLANES</a></div><div class="ttdeci">#define Q2LUMP_PLANES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00015">model_q2bsp.h:15</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a5219c410f10f865c9dcae17c4d2cb33e"><div class="ttname"><a href="model__q2bsp_8h.html#a5219c410f10f865c9dcae17c4d2cb33e">Q2LUMP_LEAFS</a></div><div class="ttdeci">#define Q2LUMP_LEAFS</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00022">model_q2bsp.h:22</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a5616623b2ebbabcdcbb2fd140d6477d5"><div class="ttname"><a href="model__q2bsp_8h.html#a5616623b2ebbabcdcbb2fd140d6477d5">Q2LUMP_VERTEXES</a></div><div class="ttdeci">#define Q2LUMP_VERTEXES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00016">model_q2bsp.h:16</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a57d5ce105a4ea81bc7fe53bfd2e33b92"><div class="ttname"><a href="model__q2bsp_8h.html#a57d5ce105a4ea81bc7fe53bfd2e33b92">Q2LUMP_VISIBILITY</a></div><div class="ttdeci">#define Q2LUMP_VISIBILITY</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00017">model_q2bsp.h:17</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a60313475be659005d5d130abfa378938"><div class="ttname"><a href="model__q2bsp_8h.html#a60313475be659005d5d130abfa378938">Q2LUMP_FACES</a></div><div class="ttdeci">#define Q2LUMP_FACES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00020">model_q2bsp.h:20</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a70795d8eeb205b2907b02b237752d971"><div class="ttname"><a href="model__q2bsp_8h.html#a70795d8eeb205b2907b02b237752d971">Q2LUMP_LEAFFACES</a></div><div class="ttdeci">#define Q2LUMP_LEAFFACES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00023">model_q2bsp.h:23</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a8e49ea34264d1bffbf486275158ec2bc"><div class="ttname"><a href="model__q2bsp_8h.html#a8e49ea34264d1bffbf486275158ec2bc">Q2LUMP_BRUSHES</a></div><div class="ttdeci">#define Q2LUMP_BRUSHES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00028">model_q2bsp.h:28</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a918a6c68127b8ff3a66eadba088b7c15"><div class="ttname"><a href="model__q2bsp_8h.html#a918a6c68127b8ff3a66eadba088b7c15">Q2BSPMAGIC</a></div><div class="ttdeci">#define Q2BSPMAGIC</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00006">model_q2bsp.h:6</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a9cec45d96f29e15697eaa6864ad2d482"><div class="ttname"><a href="model__q2bsp_8h.html#a9cec45d96f29e15697eaa6864ad2d482">Q2LUMP_SURFEDGES</a></div><div class="ttdeci">#define Q2LUMP_SURFEDGES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00026">model_q2bsp.h:26</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_aa22a89f080573a96bfca37ea82f506f0"><div class="ttname"><a href="model__q2bsp_8h.html#aa22a89f080573a96bfca37ea82f506f0">Q2LUMP_AREAPORTALS</a></div><div class="ttdeci">#define Q2LUMP_AREAPORTALS</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00032">model_q2bsp.h:32</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_aa4fb82baae527b64a674dc03f511dfef"><div class="ttname"><a href="model__q2bsp_8h.html#aa4fb82baae527b64a674dc03f511dfef">Q2LUMP_LIGHTING</a></div><div class="ttdeci">#define Q2LUMP_LIGHTING</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00021">model_q2bsp.h:21</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_aab35c56c2580d29ecaed8ec5e0b25179"><div class="ttname"><a href="model__q2bsp_8h.html#aab35c56c2580d29ecaed8ec5e0b25179">Q2LUMP_ENTITIES</a></div><div class="ttdeci">#define Q2LUMP_ENTITIES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00014">model_q2bsp.h:14</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_abb2a3a6be731264d0e03d5c7eb2e1d0e"><div class="ttname"><a href="model__q2bsp_8h.html#abb2a3a6be731264d0e03d5c7eb2e1d0e">Q2HEADER_LUMPS</a></div><div class="ttdeci">#define Q2HEADER_LUMPS</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00033">model_q2bsp.h:33</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_aee79fbe0e0432c953b97de969d061812"><div class="ttname"><a href="model__q2bsp_8h.html#aee79fbe0e0432c953b97de969d061812">Q2LUMP_AREAS</a></div><div class="ttdeci">#define Q2LUMP_AREAS</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00031">model_q2bsp.h:31</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_af6aaa9d18754fa84e2296b272360fff7"><div class="ttname"><a href="model__q2bsp_8h.html#af6aaa9d18754fa84e2296b272360fff7">Q2LUMP_POP</a></div><div class="ttdeci">#define Q2LUMP_POP</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00030">model_q2bsp.h:30</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_af6e2b51c1307a6b4c2de29e2e9cac659"><div class="ttname"><a href="model__q2bsp_8h.html#af6e2b51c1307a6b4c2de29e2e9cac659">Q2LUMP_NODES</a></div><div class="ttdeci">#define Q2LUMP_NODES</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00018">model_q2bsp.h:18</a></div></div>
<div class="ttc" id="amodel__shared_8h_html_ae8881adaf7dff7ff012ef751075434f4a819911297e4e6fc0009903eafd491bfa"><div class="ttname"><a href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4a819911297e4e6fc0009903eafd491bfa">mod_brushq2</a></div><div class="ttdeci">@ mod_brushq2</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00043">model_shared.h:43</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a788b2b5a3b9f56c3983a4c441cdec74d"><div class="ttname"><a href="structmodel__brush__t.html#a788b2b5a3b9f56c3983a4c441cdec74d">model_brush_t::isq3bsp</a></div><div class="ttdeci">qbool isq3bsp</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00262">model_brush.h:262</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_aefa6af6fb03a37c0e90b150bb3eaa676"><div class="ttname"><a href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">model_brush_t::num_brushes</a></div><div class="ttdeci">int num_brushes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00303">model_brush.h:303</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07660">Mod_IBSP_Load()</a>.</p>

</div>
</div>
<a id="ae5c71bf839cf54d5735e0472e603cf07" name="ae5c71bf839cf54d5735e0472e603cf07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5c71bf839cf54d5735e0472e603cf07">&#9670;&#160;</a></span>Mod_Q2BSP_LoadAreaPortals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadAreaPortals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04796">4796</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4797</span>{</div>
<div class="line"><span class="lineno"> 4798</span>    <span class="comment">// we currently don&#39;t use areas, they represent closable doors as vis blockers</span></div>
<div class="line"><span class="lineno"> 4799</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;readcount = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize;</div>
<div class="line"><span class="lineno"> 4800</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a26803232c5106998eb909e781cdedf6f" name="a26803232c5106998eb909e781cdedf6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26803232c5106998eb909e781cdedf6f">&#9670;&#160;</a></span>Mod_Q2BSP_LoadAreas()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadAreas </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04790">4790</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4791</span>{</div>
<div class="line"><span class="lineno"> 4792</span>    <span class="comment">// we currently don&#39;t use areas, they represent closable doors as vis blockers</span></div>
<div class="line"><span class="lineno"> 4793</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;readcount = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize;</div>
<div class="line"><span class="lineno"> 4794</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="ad7eb0cedd461b8dd88a7861f918deaec" name="ad7eb0cedd461b8dd88a7861f918deaec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7eb0cedd461b8dd88a7861f918deaec">&#9670;&#160;</a></span>Mod_Q2BSP_LoadBrushes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadBrushes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04683">4683</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4684</span>{</div>
<div class="line"><span class="lineno"> 4685</span>    <a class="code hl_struct" href="structq3mbrush__t.html">q3mbrush_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4686</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstside</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsides</a>, contents, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes</a>, q3surfaceflags, supercontents;</div>
<div class="line"><span class="lineno"> 4687</span>    <a class="code hl_struct" href="structcolplanef__t.html">colplanef_t</a> *planes;</div>
<div class="line"><span class="lineno"> 4688</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 12;</div>
<div class="line"><span class="lineno"> 4689</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushmissingtextures</a>;</div>
<div class="line"><span class="lineno"> 4690</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numbrushesmissingtextures</a> = 0;</div>
<div class="line"><span class="lineno"> 4691</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcreatedtextures</a> = 0;</div>
<div class="line"><span class="lineno"> 4692</span> </div>
<div class="line"><span class="lineno"> 4693</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 4694</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadBrushes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4695</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 4696</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structq3mbrush__t.html">q3mbrush_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 4697</span> </div>
<div class="line"><span class="lineno"> 4698</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">data_brushes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4699</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4700</span> </div>
<div class="line"><span class="lineno"> 4701</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes</a> = 0;</div>
<div class="line"><span class="lineno"> 4702</span>    planes = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4703</span> </div>
<div class="line"><span class="lineno"> 4704</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 4705</span>    {</div>
<div class="line"><span class="lineno"> 4706</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstside</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4707</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsides</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4708</span>        contents = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4709</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstside &lt; 0 || firstside + numsides &gt;</a> <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab29cfe2ac74f2d8c40a1cb72f3c56ba9">num_brushsides</a>)</div>
<div class="line"><span class="lineno"> 4710</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushes: invalid brushside range %i : %i (%i brushsides)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstside</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstside</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsides</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab29cfe2ac74f2d8c40a1cb72f3c56ba9">num_brushsides</a>);</div>
<div class="line"><span class="lineno"> 4711</span> </div>
<div class="line"><span class="lineno"> 4712</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af817e5a31fcbe80377a32aff7cc1d877">data_brushsides</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstside</a>;</div>
<div class="line"><span class="lineno"> 4713</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsides</a>;</div>
<div class="line"><span class="lineno"> 4714</span>        <span class="comment">// convert the contents to our values</span></div>
<div class="line"><span class="lineno"> 4715</span>        supercontents = <a class="code hl_function" href="model__brush_8c.html#a71ea8486028744092c5d72eaa2dcb15f">Mod_Q2BSP_SuperContentsFromNativeContents</a>(contents);</div>
<div class="line"><span class="lineno"> 4716</span> </div>
<div class="line"><span class="lineno"> 4717</span>        <span class="comment">// problem: q2bsp brushes have contents but not a texture</span></div>
<div class="line"><span class="lineno"> 4718</span>        <span class="comment">// problem: q2bsp brushsides *may* have a texture or may not</span></div>
<div class="line"><span class="lineno"> 4719</span>        <span class="comment">// problem: all brushsides and brushes must have a texture for trace_hittexture functionality to work, and the collision code is engineered around this assumption</span></div>
<div class="line"><span class="lineno"> 4720</span>        <span class="comment">// solution: nasty hacks</span></div>
<div class="line"><span class="lineno"> 4721</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushmissingtextures</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4722</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4723</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4724</span>        {</div>
<div class="line"><span class="lineno"> 4725</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture == &amp;<a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>)</div>
<div class="line"><span class="lineno"> 4726</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushmissingtextures</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4727</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4728</span>            {</div>
<div class="line"><span class="lineno"> 4729</span>                <span class="comment">// if we can find a matching texture on a brush side we can use it instead of creating one</span></div>
<div class="line"><span class="lineno"> 4730</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture-&gt;supercontents == supercontents)</div>
<div class="line"><span class="lineno"> 4731</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture;</div>
<div class="line"><span class="lineno"> 4732</span>            }</div>
<div class="line"><span class="lineno"> 4733</span>        }</div>
<div class="line"><span class="lineno"> 4734</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushmissingtextures</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 4735</span>        {</div>
<div class="line"><span class="lineno"> 4736</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numbrushesmissingtextures</a>++;</div>
<div class="line"><span class="lineno"> 4737</span>            <span class="comment">// if we didn&#39;t find any appropriate texture (matching contents), we&#39;ll have to create one</span></div>
<div class="line"><span class="lineno"> 4738</span>            <span class="comment">// we could search earlier ones for a matching one but that can be slow</span></div>
<div class="line"><span class="lineno"> 4739</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 4740</span>            {</div>
<div class="line"><span class="lineno"> 4741</span>                <a class="code hl_struct" href="structtexture__t.html">texture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">validtexture</a>;</div>
<div class="line"><span class="lineno"> 4742</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">validtexture</a> = (<a class="code hl_struct" href="structtexture__t.html">texture_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtexture__t.html">texture_t</a>));</div>
<div class="line"><span class="lineno"> 4743</span>                <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">validtexture</a>-&gt;name, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">validtexture</a>-&gt;name), <span class="stringliteral">&quot;brushcollision%i&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcreatedtextures</a>);</div>
<div class="line"><span class="lineno"> 4744</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">validtexture</a>-&gt;surfaceflags = 0;</div>
<div class="line"><span class="lineno"> 4745</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">validtexture</a>-&gt;supercontents = supercontents;</div>
<div class="line"><span class="lineno"> 4746</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcreatedtextures</a>++;</div>
<div class="line"><span class="lineno"> 4747</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">validtexture</a>;</div>
<div class="line"><span class="lineno"> 4748</span>            }</div>
<div class="line"><span class="lineno"> 4749</span>            <span class="comment">// out-&gt;texture now contains a texture with appropriate contents, copy onto any missing sides</span></div>
<div class="line"><span class="lineno"> 4750</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4751</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture == &amp;<a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>)</div>
<div class="line"><span class="lineno"> 4752</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture;</div>
<div class="line"><span class="lineno"> 4753</span>        }</div>
<div class="line"><span class="lineno"> 4754</span> </div>
<div class="line"><span class="lineno"> 4755</span>        <span class="comment">// make a colbrush from the brush</span></div>
<div class="line"><span class="lineno"> 4756</span>        q3surfaceflags = 0;</div>
<div class="line"><span class="lineno"> 4757</span>        <span class="comment">// make a list of mplane_t structs to construct a colbrush from</span></div>
<div class="line"><span class="lineno"> 4758</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes &lt; out-&gt;</a>numbrushsides)</div>
<div class="line"><span class="lineno"> 4759</span>        {</div>
<div class="line"><span class="lineno"> 4760</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides;</div>
<div class="line"><span class="lineno"> 4761</span>            <span class="keywordflow">if</span> (planes)</div>
<div class="line"><span class="lineno"> 4762</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(planes);</div>
<div class="line"><span class="lineno"> 4763</span>            planes = (<a class="code hl_struct" href="structcolplanef__t.html">colplanef_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structcolplanef__t.html">colplanef_t</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes</a>);</div>
<div class="line"><span class="lineno"> 4764</span>        }</div>
<div class="line"><span class="lineno"> 4765</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4766</span>        {</div>
<div class="line"><span class="lineno"> 4767</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].plane-&gt;normal, planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].normal);</div>
<div class="line"><span class="lineno"> 4768</span>            planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structcolplanef__t.html#ab3c9c8a927c2c2e01f25b83c9a9ffb58">dist</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].plane-&gt;dist;</div>
<div class="line"><span class="lineno"> 4769</span>            planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structcolplanef__t.html#a7e012fdd68fa3fbc496ef7c48013405f">q3surfaceflags</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture-&gt;surfaceflags;</div>
<div class="line"><span class="lineno"> 4770</span>            planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structcolplanef__t.html#ad90241e877afb05407266a86c5f7bb77">texture</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture;</div>
<div class="line"><span class="lineno"> 4771</span>            q3surfaceflags |= planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structcolplanef__t.html#a7e012fdd68fa3fbc496ef7c48013405f">q3surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 4772</span>        }</div>
<div class="line"><span class="lineno"> 4773</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;colbrushf = <a class="code hl_function" href="collision_8c.html#a5ffdbe6eb7622f8627737e7dfb820466">Collision_NewBrushFromPlanes</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides, planes, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;supercontents, q3surfaceflags, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 4774</span> </div>
<div class="line"><span class="lineno"> 4775</span>        <span class="comment">// this whole loop can take a while (e.g. on redstarrepublic4)</span></div>
<div class="line"><span class="lineno"> 4776</span>        <a class="code hl_function" href="cl__parse_8c.html#ac6ab3e260289abd4d92f1e4974190626">CL_KeepaliveMessage</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4777</span>    }</div>
<div class="line"><span class="lineno"> 4778</span>    <span class="keywordflow">if</span> (planes)</div>
<div class="line"><span class="lineno"> 4779</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(planes);</div>
<div class="line"><span class="lineno"> 4780</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcreatedtextures</a>)</div>
<div class="line"><span class="lineno"> 4781</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadBrushes: %i brushes own sides that lack textures or have differing contents from the brush, %i textures have been created to describe these contents.\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numbrushesmissingtextures</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcreatedtextures</a>);</div>
<div class="line"><span class="lineno"> 4782</span>}</div>
<div class="ttc" id="acl__parse_8c_html_ac6ab3e260289abd4d92f1e4974190626"><div class="ttname"><a href="cl__parse_8c.html#ac6ab3e260289abd4d92f1e4974190626">CL_KeepaliveMessage</a></div><div class="ttdeci">void CL_KeepaliveMessage(qbool readmessages)</div><div class="ttdef"><b>Definition</b> <a href="cl__parse_8c_source.html#l00314">cl_parse.c:314</a></div></div>
<div class="ttc" id="acollision_8c_html_a5ffdbe6eb7622f8627737e7dfb820466"><div class="ttname"><a href="collision_8c.html#a5ffdbe6eb7622f8627737e7dfb820466">Collision_NewBrushFromPlanes</a></div><div class="ttdeci">colbrushf_t * Collision_NewBrushFromPlanes(mempool_t *mempool, int numoriginalplanes, const colplanef_t *originalplanes, int supercontents, int q3surfaceflags, const texture_t *texture, int hasaabbplanes)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l00163">collision.c:163</a></div></div>
<div class="ttc" id="astructcolplanef__t_html_a7e012fdd68fa3fbc496ef7c48013405f"><div class="ttname"><a href="structcolplanef__t.html#a7e012fdd68fa3fbc496ef7c48013405f">colplanef_t::q3surfaceflags</a></div><div class="ttdeci">int q3surfaceflags</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00091">collision.h:91</a></div></div>
<div class="ttc" id="astructcolplanef__t_html_ab3c9c8a927c2c2e01f25b83c9a9ffb58"><div class="ttname"><a href="structcolplanef__t.html#ab3c9c8a927c2c2e01f25b83c9a9ffb58">colplanef_t::dist</a></div><div class="ttdeci">vec_t dist</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00097">collision.h:97</a></div></div>
<div class="ttc" id="astructcolplanef__t_html_ad90241e877afb05407266a86c5f7bb77"><div class="ttname"><a href="structcolplanef__t.html#ad90241e877afb05407266a86c5f7bb77">colplanef_t::texture</a></div><div class="ttdeci">const struct texture_s * texture</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00090">collision.h:90</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_ab29cfe2ac74f2d8c40a1cb72f3c56ba9"><div class="ttname"><a href="structmodel__brush__t.html#ab29cfe2ac74f2d8c40a1cb72f3c56ba9">model_brush_t::num_brushsides</a></div><div class="ttdeci">int num_brushsides</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00306">model_brush.h:306</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_af817e5a31fcbe80377a32aff7cc1d877"><div class="ttname"><a href="structmodel__brush__t.html#af817e5a31fcbe80377a32aff7cc1d877">model_brush_t::data_brushsides</a></div><div class="ttdeci">struct q3mbrushside_s * data_brushsides</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00307">model_brush.h:307</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a954dfc9fbad2b96942a874269b4862d3" name="a954dfc9fbad2b96942a874269b4862d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a954dfc9fbad2b96942a874269b4862d3">&#9670;&#160;</a></span>Mod_Q2BSP_LoadBrushSides()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadBrushSides </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04648">4648</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4649</span>{</div>
<div class="line"><span class="lineno"> 4650</span>    <a class="code hl_struct" href="structq3mbrushside__t.html">q3mbrushside_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4651</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4652</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 4;</div>
<div class="line"><span class="lineno"> 4653</span> </div>
<div class="line"><span class="lineno"> 4654</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 4655</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadBrushSides: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4656</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 4657</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structq3mbrushside__t.html">q3mbrushside_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 4658</span> </div>
<div class="line"><span class="lineno"> 4659</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af817e5a31fcbe80377a32aff7cc1d877">data_brushsides</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4660</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab29cfe2ac74f2d8c40a1cb72f3c56ba9">num_brushsides</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4661</span> </div>
<div class="line"><span class="lineno"> 4662</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 4663</span>    {</div>
<div class="line"><span class="lineno"> 4664</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4665</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>)</div>
<div class="line"><span class="lineno"> 4666</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadBrushSides: invalid planeindex %i (%i planes)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>);</div>
<div class="line"><span class="lineno"> 4667</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;plane = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 4668</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4669</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 4670</span>        {</div>
<div class="line"><span class="lineno"> 4671</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a>)</div>
<div class="line"><span class="lineno"> 4672</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadBrushSides: invalid texinfo index %i (%i texinfos)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a>);</div>
<div class="line"><span class="lineno"> 4673</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a>[<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>].textureindex;</div>
<div class="line"><span class="lineno"> 4674</span>        }</div>
<div class="line"><span class="lineno"> 4675</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4676</span>        {</div>
<div class="line"><span class="lineno"> 4677</span>            <span class="comment">//Con_Printf(&quot;Mod_Q2BSP_LoadBrushSides: brushside %i has texinfo index %i &lt; 0, changing to generic texture!\n&quot;, i, n);</span></div>
<div class="line"><span class="lineno"> 4678</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = &amp;<a class="code hl_variable" href="model__brush_8c.html#a40de04e418ff6bc94e72b734af93f959">mod_q1bsp_texture_solid</a>;</div>
<div class="line"><span class="lineno"> 4679</span>        }</div>
<div class="line"><span class="lineno"> 4680</span>    }</div>
<div class="line"><span class="lineno"> 4681</span>}</div>
<div class="ttc" id="afractalnoise_8c_html_a86fdeed0593c5e3b95d1f2447350ca96"><div class="ttname"><a href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a></div><div class="ttdeci">#define n(x, y)</div></div>
<div class="ttc" id="astructq3mbrushside__t_html"><div class="ttname"><a href="structq3mbrushside__t.html">q3mbrushside_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00305">model_q3bsp.h:306</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a411013bcc03d7cbda40c2f8d751a0b5e" name="a411013bcc03d7cbda40c2f8d751a0b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411013bcc03d7cbda40c2f8d751a0b5e">&#9670;&#160;</a></span>Mod_Q2BSP_LoadLeafBrushes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadLeafBrushes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04629">4629</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4630</span>{</div>
<div class="line"><span class="lineno"> 4631</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 4632</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 2;</div>
<div class="line"><span class="lineno"> 4633</span> </div>
<div class="line"><span class="lineno"> 4634</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 4635</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadLeafBrushes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4636</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7188283a3da6cf3bc1a51fb2253d97a0">num_leafbrushes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 4637</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8ece276d867ed661b326568f5df6a864">data_leafbrushes</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7188283a3da6cf3bc1a51fb2253d97a0">num_leafbrushes</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><span class="lineno"> 4638</span> </div>
<div class="line"><span class="lineno"> 4639</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7188283a3da6cf3bc1a51fb2253d97a0">num_leafbrushes</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4640</span>    {</div>
<div class="line"><span class="lineno"> 4641</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>) <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4642</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a>)</div>
<div class="line"><span class="lineno"> 4643</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q1BSP_LoadLeafBrushes: bad brush number&quot;</span>);</div>
<div class="line"><span class="lineno"> 4644</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8ece276d867ed661b326568f5df6a864">data_leafbrushes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 4645</span>    }</div>
<div class="line"><span class="lineno"> 4646</span>}</div>
<div class="ttc" id="astructmodel__brush__t_html_a7188283a3da6cf3bc1a51fb2253d97a0"><div class="ttname"><a href="structmodel__brush__t.html#a7188283a3da6cf3bc1a51fb2253d97a0">model_brush_t::num_leafbrushes</a></div><div class="ttdeci">int num_leafbrushes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00291">model_brush.h:291</a></div></div>
<div class="ttc" id="astructmodel__brush__t_html_a8ece276d867ed661b326568f5df6a864"><div class="ttname"><a href="structmodel__brush__t.html#a8ece276d867ed661b326568f5df6a864">model_brush_t::data_leafbrushes</a></div><div class="ttdeci">int * data_leafbrushes</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00292">model_brush.h:292</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a54c880cf6a849b370bdf392ad16706f0" name="a54c880cf6a849b370bdf392ad16706f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c880cf6a849b370bdf392ad16706f0">&#9670;&#160;</a></span>Mod_Q2BSP_LoadLeafs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadLeafs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04562">4562</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4563</span>{</div>
<div class="line"><span class="lineno"> 4564</span>    <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4565</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarkbrush</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarkbrushes</a>;</div>
<div class="line"><span class="lineno"> 4566</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 28;</div>
<div class="line"><span class="lineno"> 4567</span> </div>
<div class="line"><span class="lineno"> 4568</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 4569</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadLeafs: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4570</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 4571</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 4572</span> </div>
<div class="line"><span class="lineno"> 4573</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4574</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4575</span> </div>
<div class="line"><span class="lineno"> 4576</span>    <span class="comment">// FIXME: this function could really benefit from some error checking</span></div>
<div class="line"><span class="lineno"> 4577</span>    <span class="keywordflow">for</span> ( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 4578</span>    {</div>
<div class="line"><span class="lineno"> 4579</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;contents = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4580</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4581</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;areaindex = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4582</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4583</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4584</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4585</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4586</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4587</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4588</span>    </div>
<div class="line"><span class="lineno"> 4589</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4590</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a>  = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4591</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarkbrush</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4592</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarkbrushes</a>  = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4593</span> </div>
<div class="line"><span class="lineno"> 4594</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 4;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4595</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;ambient_sound_level[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = 0;</div>
<div class="line"><span class="lineno"> 4596</span> </div>
<div class="line"><span class="lineno"> 4597</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>)</div>
<div class="line"><span class="lineno"> 4598</span>        {</div>
<div class="line"><span class="lineno"> 4599</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadLeafs: invalid clusterindex\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 4600</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex = -1;</div>
<div class="line"><span class="lineno"> 4601</span>        }</div>
<div class="line"><span class="lineno"> 4602</span> </div>
<div class="line"><span class="lineno"> 4603</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces &lt;= loadmodel-&gt;</a>brush.num_leafsurfaces)</div>
<div class="line"><span class="lineno"> 4604</span>        {</div>
<div class="line"><span class="lineno"> 4605</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstleafsurface = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a>;</div>
<div class="line"><span class="lineno"> 4606</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numleafsurfaces = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a>;</div>
<div class="line"><span class="lineno"> 4607</span>        }</div>
<div class="line"><span class="lineno"> 4608</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4609</span>        {</div>
<div class="line"><span class="lineno"> 4610</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadLeafs: invalid leafsurface range %i:%i outside range %i:%i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarksurface</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarksurfaces</a>, 0, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a>);</div>
<div class="line"><span class="lineno"> 4611</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstleafsurface = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4612</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numleafsurfaces = 0;</div>
<div class="line"><span class="lineno"> 4613</span>        }</div>
<div class="line"><span class="lineno"> 4614</span> </div>
<div class="line"><span class="lineno"> 4615</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarkbrush</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarkbrush</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarkbrushes &lt;= loadmodel-&gt;</a>brush.num_leafbrushes)</div>
<div class="line"><span class="lineno"> 4616</span>        {</div>
<div class="line"><span class="lineno"> 4617</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstleafbrush = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8ece276d867ed661b326568f5df6a864">data_leafbrushes</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarkbrush</a>;</div>
<div class="line"><span class="lineno"> 4618</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numleafbrushes = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarkbrushes</a>;</div>
<div class="line"><span class="lineno"> 4619</span>        }</div>
<div class="line"><span class="lineno"> 4620</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4621</span>        {</div>
<div class="line"><span class="lineno"> 4622</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadLeafs: invalid leafbrush range %i:%i outside range %i:%i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarkbrush</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstmarkbrush</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nummarkbrushes</a>, 0, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7188283a3da6cf3bc1a51fb2253d97a0">num_leafbrushes</a>);</div>
<div class="line"><span class="lineno"> 4623</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstleafbrush = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4624</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numleafbrushes = 0;</div>
<div class="line"><span class="lineno"> 4625</span>        }</div>
<div class="line"><span class="lineno"> 4626</span>    }</div>
<div class="line"><span class="lineno"> 4627</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a4c785b9b5bcd5ebfd70b00b4d95669fb" name="a4c785b9b5bcd5ebfd70b00b4d95669fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c785b9b5bcd5ebfd70b00b4d95669fb">&#9670;&#160;</a></span>Mod_Q2BSP_LoadLighting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadLighting </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04555">4555</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4556</span>{</div>
<div class="line"><span class="lineno"> 4557</span>    <span class="comment">// LadyHavoc: this fits exactly the same format that we use in .lit files</span></div>
<div class="line"><span class="lineno"> 4558</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize);</div>
<div class="line"><span class="lineno"> 4559</span>    <a class="code hl_function" href="com__msg_8c.html#a4dad1f08fe43f599ea024f527edac678">MSG_ReadBytes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a>);</div>
<div class="line"><span class="lineno"> 4560</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="aa00c11dd31d84a18fd00c62494cea3f8" name="aa00c11dd31d84a18fd00c62494cea3f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa00c11dd31d84a18fd00c62494cea3f8">&#9670;&#160;</a></span>Mod_Q2BSP_LoadNodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadNodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04281">4281</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4282</span>{</div>
<div class="line"><span class="lineno"> 4283</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, p, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[2];</div>
<div class="line"><span class="lineno"> 4284</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a>     *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4285</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 28;</div>
<div class="line"><span class="lineno"> 4286</span> </div>
<div class="line"><span class="lineno"> 4287</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 4288</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadNodes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4289</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 4290</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> == 0)</div>
<div class="line"><span class="lineno"> 4291</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadNodes: missing BSP tree in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4292</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 4293</span> </div>
<div class="line"><span class="lineno"> 4294</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4295</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4296</span> </div>
<div class="line"><span class="lineno"> 4297</span>    <span class="keywordflow">for</span> ( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 4298</span>    {</div>
<div class="line"><span class="lineno"> 4299</span>        p = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4300</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;plane = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> + p;</div>
<div class="line"><span class="lineno"> 4301</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[0] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4302</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[1] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4303</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4304</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4305</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4306</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4307</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4308</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4309</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstsurface = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4310</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numsurfaces = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4311</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstsurface + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numsurfaces &gt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>)</div>
<div class="line"><span class="lineno"> 4312</span>        {</div>
<div class="line"><span class="lineno"> 4313</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadNodes: invalid surface index range %i+%i (file has only %i surfaces)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstsurface, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numsurfaces, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>);</div>
<div class="line"><span class="lineno"> 4314</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstsurface = 0;</div>
<div class="line"><span class="lineno"> 4315</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numsurfaces = 0;</div>
<div class="line"><span class="lineno"> 4316</span>        }</div>
<div class="line"><span class="lineno"> 4317</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>=0 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>&lt;2 ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4318</span>        {</div>
<div class="line"><span class="lineno"> 4319</span>            p = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">child</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>];</div>
<div class="line"><span class="lineno"> 4320</span>            <span class="keywordflow">if</span> (p &gt;= 0)</div>
<div class="line"><span class="lineno"> 4321</span>            {</div>
<div class="line"><span class="lineno"> 4322</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p &lt; loadmodel-&gt;</a>brush.num_nodes)</div>
<div class="line"><span class="lineno"> 4323</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + p;</div>
<div class="line"><span class="lineno"> 4324</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4325</span>                {</div>
<div class="line"><span class="lineno"> 4326</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadNodes: invalid node index %i (file has only %i nodes)\n&quot;</span>, p, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>);</div>
<div class="line"><span class="lineno"> 4327</span>                    <span class="comment">// map it to the solid leaf</span></div>
<div class="line"><span class="lineno"> 4328</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;</div>
<div class="line"><span class="lineno"> 4329</span>                }</div>
<div class="line"><span class="lineno"> 4330</span>            }</div>
<div class="line"><span class="lineno"> 4331</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4332</span>            {</div>
<div class="line"><span class="lineno"> 4333</span>                <span class="comment">// get leaf index as a positive value starting at 0 (-1 becomes 0, -2 becomes 1, etc)</span></div>
<div class="line"><span class="lineno"> 4334</span>                p = -(p+1);</div>
<div class="line"><span class="lineno"> 4335</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p &lt; loadmodel-&gt;</a>brush.num_leafs)</div>
<div class="line"><span class="lineno"> 4336</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a> + p);</div>
<div class="line"><span class="lineno"> 4337</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4338</span>                {</div>
<div class="line"><span class="lineno"> 4339</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadNodes: invalid leaf index %i (file has only %i leafs)\n&quot;</span>, p, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>);</div>
<div class="line"><span class="lineno"> 4340</span>                    <span class="comment">// map it to the solid leaf</span></div>
<div class="line"><span class="lineno"> 4341</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>;</div>
<div class="line"><span class="lineno"> 4342</span>                }</div>
<div class="line"><span class="lineno"> 4343</span>            }</div>
<div class="line"><span class="lineno"> 4344</span>        }</div>
<div class="line"><span class="lineno"> 4345</span>    }</div>
<div class="line"><span class="lineno"> 4346</span> </div>
<div class="line"><span class="lineno"> 4347</span>    <a class="code hl_function" href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);    <span class="comment">// sets nodes and leafs</span></div>
<div class="line"><span class="lineno"> 4348</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a59e185c08c82e9eeee676bcb680485e0" name="a59e185c08c82e9eeee676bcb680485e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59e185c08c82e9eeee676bcb680485e0">&#9670;&#160;</a></span>Mod_Q2BSP_LoadPOP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadPOP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04784">4784</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4785</span>{</div>
<div class="line"><span class="lineno"> 4786</span>    <span class="comment">// this is probably a &quot;proof of purchase&quot; lump of some sort, it seems to be 0 size in most bsp files (but not q2dm1.bsp for instance)</span></div>
<div class="line"><span class="lineno"> 4787</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;readcount = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize;</div>
<div class="line"><span class="lineno"> 4788</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a241ecfdf3fd5fa62cc3d4c79c8953c1f" name="a241ecfdf3fd5fa62cc3d4c79c8953c1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a241ecfdf3fd5fa62cc3d4c79c8953c1f">&#9670;&#160;</a></span>Mod_Q2BSP_LoadTexinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadTexinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04350">4350</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4351</span>{</div>
<div class="line"><span class="lineno"> 4352</span>    <a class="code hl_struct" href="structmtexinfo__t.html">mtexinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4353</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4354</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 76;</div>
<div class="line"><span class="lineno"> 4355</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> = 1024; <span class="comment">// hardcoded limit of quake2 engine, so we may as well use it as an upper bound</span></div>
<div class="line"><span class="lineno"> 4356</span>    <span class="keywordtype">char</span> filename[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 4357</span> </div>
<div class="line"><span class="lineno"> 4358</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 4359</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadTexinfo: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 4360</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 4361</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmtexinfo__t.html">mtexinfo_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 4362</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 4363</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4364</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a> = 0;</div>
<div class="line"><span class="lineno"> 4365</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> = (<a class="code hl_struct" href="structtexture__t.html">texture_t</a>*)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtexture__t.html">texture_t</a>));</div>
<div class="line"><span class="lineno"> 4366</span> </div>
<div class="line"><span class="lineno"> 4367</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 4368</span>    {</div>
<div class="line"><span class="lineno"> 4369</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 4370</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4371</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 4;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4372</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;vecs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4373</span> </div>
<div class="line"><span class="lineno"> 4374</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;<a class="code hl_variable" href="structtexture__t.html#ad99306b46d684b97cd4db0f04cd193fb">q2flags</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4375</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2value = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4376</span>        <a class="code hl_function" href="com__msg_8c.html#a4dad1f08fe43f599ea024f527edac678">MSG_ReadBytes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, 32, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2texture);</div>
<div class="line"><span class="lineno"> 4377</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2texture[31] = 0; <span class="comment">// make absolutely sure it is terminated</span></div>
<div class="line"><span class="lineno"> 4378</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2nexttexinfo = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4379</span> </div>
<div class="line"><span class="lineno"> 4380</span>        <span class="comment">// find an existing match for the texture if possible</span></div>
<div class="line"><span class="lineno"> 4381</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(filename, <span class="keyword">sizeof</span>(filename), <span class="stringliteral">&quot;textures/%s.wal&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2texture);</div>
<div class="line"><span class="lineno"> 4382</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 4383</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(filename, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structtexture__t.html#ab58f580cd561f4e52a20e92098a06e2f">name</a>)</div>
<div class="line"><span class="lineno"> 4384</span>             &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2flags == <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structtexture__t.html#ad99306b46d684b97cd4db0f04cd193fb">q2flags</a></div>
<div class="line"><span class="lineno"> 4385</span>             &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2value == <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structtexture__t.html#ac453e824629ac3946f38a302f56b4b0d">q2value</a>)</div>
<div class="line"><span class="lineno"> 4386</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4387</span>        <span class="comment">// if we don&#39;t find the texture, store the new texture</span></div>
<div class="line"><span class="lineno"> 4388</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> == <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a>)</div>
<div class="line"><span class="lineno"> 4389</span>        {</div>
<div class="line"><span class="lineno"> 4390</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a>)</div>
<div class="line"><span class="lineno"> 4391</span>            {</div>
<div class="line"><span class="lineno"> 4392</span>                <a class="code hl_struct" href="structtexture__t.html">texture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 4393</span>                <span class="keywordtype">int</span> q2flags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;<a class="code hl_variable" href="structtexture__t.html#ad99306b46d684b97cd4db0f04cd193fb">q2flags</a>;</div>
<div class="line"><span class="lineno"> 4394</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walfile</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4395</span>                <a class="code hl_typedef" href="fs_8h.html#a5bcbce6d6c29888adf596671d6acd44b">fs_offset_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walfilesize</a> = 0;</div>
<div class="line"><span class="lineno"> 4396</span>                <a class="code hl_function" href="model__shared_8c.html#a1694c78ec74a4c2a96c00ea69cf44ef7">Mod_LoadTextureFromQ3Shader</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>, filename, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> | <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a> | <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a>);</div>
<div class="line"><span class="lineno"> 4397</span>                <span class="comment">// now read the .wal file to get metadata (even if a .tga was overriding it, we still need the wal data)</span></div>
<div class="line"><span class="lineno"> 4398</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walfile</a> = <a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(filename, <a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">true</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walfilesize</a>);</div>
<div class="line"><span class="lineno"> 4399</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walfile</a>)</div>
<div class="line"><span class="lineno"> 4400</span>                {</div>
<div class="line"><span class="lineno"> 4401</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, h;</div>
<div class="line"><span class="lineno"> 4402</span>                    <a class="code hl_function" href="image_8c.html#a1d6ca077c014facf893817bb526ba91b">LoadWAL_GetMetadata</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walfile</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walfilesize</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, &amp;h, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 4403</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;width = <a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>;</div>
<div class="line"><span class="lineno"> 4404</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;height = h;</div>
<div class="line"><span class="lineno"> 4405</span>                    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">walfile</a>);</div>
<div class="line"><span class="lineno"> 4406</span>                }</div>
<div class="line"><span class="lineno"> 4407</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4408</span>                {</div>
<div class="line"><span class="lineno"> 4409</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;width = 16;</div>
<div class="line"><span class="lineno"> 4410</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;height = 16;</div>
<div class="line"><span class="lineno"> 4411</span>                }</div>
<div class="line"><span class="lineno"> 4412</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2flags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2flags;</div>
<div class="line"><span class="lineno"> 4413</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2value = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2value;</div>
<div class="line"><span class="lineno"> 4414</span>                <span class="comment">// also modify the texture to have the correct contents and such based on flags</span></div>
<div class="line"><span class="lineno"> 4415</span>                <span class="comment">// note that we create multiple texture_t structures if q2flags differs</span></div>
<div class="line"><span class="lineno"> 4416</span>                <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a750e71ed2ae2e791850354c33b458a22">Q2SURF_LIGHT</a>)</div>
<div class="line"><span class="lineno"> 4417</span>                {</div>
<div class="line"><span class="lineno"> 4418</span>                    <span class="comment">// doesn&#39;t mean anything to us</span></div>
<div class="line"><span class="lineno"> 4419</span>                }</div>
<div class="line"><span class="lineno"> 4420</span>                <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#af5c0d30d6103c0b2911ddc8b67029036">Q2SURF_SLICK</a>)</div>
<div class="line"><span class="lineno"> 4421</span>                {</div>
<div class="line"><span class="lineno"> 4422</span>                    <span class="comment">// would be nice to support...</span></div>
<div class="line"><span class="lineno"> 4423</span>                }</div>
<div class="line"><span class="lineno"> 4424</span>                <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#aa2b469e83a492c9244dd29df1148a0fb">Q2SURF_SKY</a>)</div>
<div class="line"><span class="lineno"> 4425</span>                {</div>
<div class="line"><span class="lineno"> 4426</span>                    <span class="comment">// sky is a rather specific thing</span></div>
<div class="line"><span class="lineno"> 4427</span>                    q2flags &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~Q2SURF_NODRAW</a>; <span class="comment">// quake2 had a slightly different meaning than we have in mind here...</span></div>
<div class="line"><span class="lineno"> 4428</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags = <a class="code hl_define" href="model__brush_8h.html#a088347aa145a9d1bae60024278840b34">MATERIALFLAG_SKY</a>;</div>
<div class="line"><span class="lineno"> 4429</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_define" href="bspfile_8h.html#a0a2fa78587a49f238efd2b5067e66361">SUPERCONTENTS_SKY</a> | <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a> | <a class="code hl_define" href="bspfile_8h.html#a1743eb1a01a4bc94f435951089dadbd7">SUPERCONTENTS_OPAQUE</a>;</div>
<div class="line"><span class="lineno"> 4430</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;surfaceflags = <a class="code hl_define" href="model__q3bsp_8h.html#a3419225ac529b57d5f8fdfd0842c6451">Q3SURFACEFLAG_SKY</a> | <a class="code hl_define" href="model__q3bsp_8h.html#a7fb78b54cea0523f324ac2070a59420b">Q3SURFACEFLAG_NOIMPACT</a> | <a class="code hl_define" href="model__q3bsp_8h.html#a4ed15d45309b14e9e9d4718657329275">Q3SURFACEFLAG_NOMARKS</a> | <a class="code hl_define" href="model__q3bsp_8h.html#af04b6ae65ee17b83bae885bc113830c8">Q3SURFACEFLAG_NODLIGHT</a> | <a class="code hl_define" href="model__q3bsp_8h.html#a8a38a860b9780c723336b0dd1e1c24b9">Q3SURFACEFLAG_NOLIGHTMAP</a>;</div>
<div class="line"><span class="lineno"> 4431</span>                }</div>
<div class="line"><span class="lineno"> 4432</span>                <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a8dcd5446e450bcc2e45b2f90b0b085c9">Q2SURF_WARP</a>)</div>
<div class="line"><span class="lineno"> 4433</span>                {</div>
<div class="line"><span class="lineno"> 4434</span>                    <span class="comment">// we use a scroll instead of a warp</span></div>
<div class="line"><span class="lineno"> 4435</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#afb908223468b412ea7499816ae9abcba">MATERIALFLAG_WATERSCROLL</a> | <a class="code hl_define" href="model__brush_8h.html#a15a12ade8170812bc1a3b5455f26e114">MATERIALFLAG_FULLBRIGHT</a>;</div>
<div class="line"><span class="lineno"> 4436</span>                    <span class="comment">// if it&#39;s also transparent, we can enable the WATERSHADER</span></div>
<div class="line"><span class="lineno"> 4437</span>                    <span class="comment">// but we do not set the WATERALPHA flag because we don&#39;t</span></div>
<div class="line"><span class="lineno"> 4438</span>                    <span class="comment">// want to honor r_wateralpha in q2bsp</span></div>
<div class="line"><span class="lineno"> 4439</span>                    <span class="comment">// (it would go against the artistic intent)</span></div>
<div class="line"><span class="lineno"> 4440</span>                    <span class="keywordflow">if</span> (q2flags &amp; (<a class="code hl_define" href="model__q2bsp_8h.html#a36b8b2d31598332d38bf03b49e8f3973">Q2SURF_TRANS33</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a5adc7946d9fab1a54677f641a137a3b9">Q2SURF_TRANS66</a>))</div>
<div class="line"><span class="lineno"> 4441</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a7055dcfb7e841b4f8df429bc32e9212f">MATERIALFLAG_WATERSHADER</a>;</div>
<div class="line"><span class="lineno"> 4442</span>                }</div>
<div class="line"><span class="lineno"> 4443</span>                <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a36b8b2d31598332d38bf03b49e8f3973">Q2SURF_TRANS33</a>)</div>
<div class="line"><span class="lineno"> 4444</span>                {</div>
<div class="line"><span class="lineno"> 4445</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a>;</div>
<div class="line"><span class="lineno"> 4446</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basealpha = 1.0f / 3.0f;</div>
<div class="line"><span class="lineno"> 4447</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~SUPERCONTENTS_OPAQUE</a>;</div>
<div class="line"><span class="lineno"> 4448</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a7175fe7d96002a05c2f233c7678419a6">Q2CONTENTS_SOLID</a>)</div>
<div class="line"><span class="lineno"> 4449</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~Q2CONTENTS_SOLID</a>) | <a class="code hl_define" href="model__q2bsp_8h.html#ae569ef71a731efa8953d3565e62281fa">Q2CONTENTS_WINDOW</a>;</div>
<div class="line"><span class="lineno"> 4450</span>                }</div>
<div class="line"><span class="lineno"> 4451</span>                <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a5adc7946d9fab1a54677f641a137a3b9">Q2SURF_TRANS66</a>)</div>
<div class="line"><span class="lineno"> 4452</span>                {</div>
<div class="line"><span class="lineno"> 4453</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a226c2113f3731bc223694bd3e391504a">MATERIALFLAG_ALPHA</a> | <a class="code hl_define" href="model__brush_8h.html#a42368df686065f708f6eed1c1fa8e1cc">MATERIALFLAG_BLENDED</a>;</div>
<div class="line"><span class="lineno"> 4454</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basealpha = 2.0f / 3.0f;</div>
<div class="line"><span class="lineno"> 4455</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~SUPERCONTENTS_OPAQUE</a>;</div>
<div class="line"><span class="lineno"> 4456</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a7175fe7d96002a05c2f233c7678419a6">Q2CONTENTS_SOLID</a>)</div>
<div class="line"><span class="lineno"> 4457</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~Q2CONTENTS_SOLID</a>) | <a class="code hl_define" href="model__q2bsp_8h.html#ae569ef71a731efa8953d3565e62281fa">Q2CONTENTS_WINDOW</a>;</div>
<div class="line"><span class="lineno"> 4458</span>                }</div>
<div class="line"><span class="lineno"> 4459</span>                <span class="keywordflow">if</span> ((q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a415804bf5d65bab954a435d02c1e793c">Q2SURF_FLOWING</a>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 4460</span>                {</div>
<div class="line"><span class="lineno"> 4461</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;tcmods[0].tcmod = <a class="code hl_enumvalue" href="r__qshader_8h.html#a828dead9d209fc488f013da46f1f5ea4abda63ee69b542e0a5a392d56f0118dcd">Q3TCMOD_SCROLL</a>;</div>
<div class="line"><span class="lineno"> 4462</span>                    <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a8dcd5446e450bcc2e45b2f90b0b085c9">Q2SURF_WARP</a>)</div>
<div class="line"><span class="lineno"> 4463</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;tcmods[0].parms[0] = -0.5f;</div>
<div class="line"><span class="lineno"> 4464</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4465</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;tcmods[0].parms[0] = -1.6f;</div>
<div class="line"><span class="lineno"> 4466</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;tcmods[0].parms[1] = 0.0f;</div>
<div class="line"><span class="lineno"> 4467</span>                }</div>
<div class="line"><span class="lineno"> 4468</span>                <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a8f4176151146162865c1ea488b4eea35">Q2SURF_ALPHATEST</a>)</div>
<div class="line"><span class="lineno"> 4469</span>                {</div>
<div class="line"><span class="lineno"> 4470</span>                    <span class="comment">// KMQUAKE2 and other modded engines added this flag for lit alpha tested surfaces</span></div>
<div class="line"><span class="lineno"> 4471</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a37fea1966eaa92d59dfa7f277d4a82a5">MATERIALFLAG_ALPHATEST</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 4472</span>                }</div>
<div class="line"><span class="lineno"> 4473</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q2flags &amp; (<a class="code hl_define" href="model__q2bsp_8h.html#a36b8b2d31598332d38bf03b49e8f3973">Q2SURF_TRANS33</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a5adc7946d9fab1a54677f641a137a3b9">Q2SURF_TRANS66</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a8dcd5446e450bcc2e45b2f90b0b085c9">Q2SURF_WARP</a>))</div>
<div class="line"><span class="lineno"> 4474</span>                {</div>
<div class="line"><span class="lineno"> 4475</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__brush_8c.html#a4be417cadbf6c9b911c7db3e34a56c91">mod_q2bsp_littransparentsurfaces</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 4476</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags |= <a class="code hl_define" href="model__brush_8h.html#a15a12ade8170812bc1a3b5455f26e114">MATERIALFLAG_FULLBRIGHT</a>;</div>
<div class="line"><span class="lineno"> 4477</span>                }</div>
<div class="line"><span class="lineno"> 4478</span>                <span class="keywordflow">if</span> (q2flags &amp; <a class="code hl_define" href="model__q2bsp_8h.html#a55878234ba30295ef11eac33db482f30">Q2SURF_NODRAW</a>)</div>
<div class="line"><span class="lineno"> 4479</span>                {</div>
<div class="line"><span class="lineno"> 4480</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags = <a class="code hl_define" href="model__brush_8h.html#a2e9becc912ba5cde5aee7f7db908e965">MATERIALFLAG_NODRAW</a> | <a class="code hl_define" href="model__brush_8h.html#a9d19d304b198ae8d36c3f5fd31c64473">MATERIALFLAG_NOSHADOW</a>;</div>
<div class="line"><span class="lineno"> 4481</span>                }</div>
<div class="line"><span class="lineno"> 4482</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents &amp; (<a class="code hl_define" href="model__q2bsp_8h.html#a58792eeb000504f884bdc5463c0a96b9">Q2CONTENTS_TRANSLUCENT</a> | <a class="code hl_define" href="model__q2bsp_8h.html#aaec46765f875f4a1b15164a824851660">Q2CONTENTS_MONSTERCLIP</a> | <a class="code hl_define" href="model__q2bsp_8h.html#afc4f3784f060c7d16e3b1ae2fed8c83b">Q2CONTENTS_PLAYERCLIP</a>))</div>
<div class="line"><span class="lineno"> 4483</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents |= <a class="code hl_define" href="model__q2bsp_8h.html#a99f94d7108aa8fbd6cd51242b7bb6d5e">Q2CONTENTS_DETAIL</a>;</div>
<div class="line"><span class="lineno"> 4484</span>                <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents &amp; (<a class="code hl_define" href="model__q2bsp_8h.html#a7175fe7d96002a05c2f233c7678419a6">Q2CONTENTS_SOLID</a> | <a class="code hl_define" href="model__q2bsp_8h.html#ae569ef71a731efa8953d3565e62281fa">Q2CONTENTS_WINDOW</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a663da2c210bb28eea605537e6512aad8">Q2CONTENTS_AUX</a> | <a class="code hl_define" href="model__q2bsp_8h.html#ad8d29b3f0f23e172f98465ae4cc4ca39">Q2CONTENTS_LAVA</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a5b9730067b5fdd3c8de2b7e609412543">Q2CONTENTS_SLIME</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a26fa48aa88231ae0ced7086240993c9f">Q2CONTENTS_WATER</a> | <a class="code hl_define" href="model__q2bsp_8h.html#acad7fe00e57b26d27279e4d59331a810">Q2CONTENTS_MIST</a> | <a class="code hl_define" href="model__q2bsp_8h.html#afc4f3784f060c7d16e3b1ae2fed8c83b">Q2CONTENTS_PLAYERCLIP</a> | <a class="code hl_define" href="model__q2bsp_8h.html#aaec46765f875f4a1b15164a824851660">Q2CONTENTS_MONSTERCLIP</a> | <a class="code hl_define" href="model__q2bsp_8h.html#acad7fe00e57b26d27279e4d59331a810">Q2CONTENTS_MIST</a>)))</div>
<div class="line"><span class="lineno"> 4485</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents |= <a class="code hl_define" href="model__q2bsp_8h.html#a7175fe7d96002a05c2f233c7678419a6">Q2CONTENTS_SOLID</a>;</div>
<div class="line"><span class="lineno"> 4486</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2flags &amp; (<a class="code hl_define" href="model__q2bsp_8h.html#a0114c7b7f3dde1011ec095fcebc74bd2">Q2SURF_HINT</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a748ce91037a37831fdf122b6851ab831">Q2SURF_SKIP</a>))</div>
<div class="line"><span class="lineno"> 4487</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents = 0;</div>
<div class="line"><span class="lineno"> 4488</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;supercontents = <a class="code hl_function" href="model__brush_8c.html#a71ea8486028744092c5d72eaa2dcb15f">Mod_Q2BSP_SuperContentsFromNativeContents</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;q2contents);</div>
<div class="line"><span class="lineno"> 4489</span>                <span class="comment">// set the current values to the base values</span></div>
<div class="line"><span class="lineno"> 4490</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentframe = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>;</div>
<div class="line"><span class="lineno"> 4491</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentskinframe = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;materialshaderpass-&gt;skinframes[0] : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4492</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;currentmaterialflags = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tx</a>-&gt;basematerialflags;</div>
<div class="line"><span class="lineno"> 4493</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a>++;</div>
<div class="line"><span class="lineno"> 4494</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a>;</div>
<div class="line"><span class="lineno"> 4495</span>            }</div>
<div class="line"><span class="lineno"> 4496</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4497</span>            {</div>
<div class="line"><span class="lineno"> 4498</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q2BSP_LoadTexinfo: max textures reached (%i)\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxtextures</a>);</div>
<div class="line"><span class="lineno"> 4499</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <span class="comment">// use first texture and give up</span></div>
<div class="line"><span class="lineno"> 4500</span>            }</div>
<div class="line"><span class="lineno"> 4501</span>        }</div>
<div class="line"><span class="lineno"> 4502</span>        <span class="comment">// store the index we found for this texture</span></div>
<div class="line"><span class="lineno"> 4503</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 4504</span>    }</div>
<div class="line"><span class="lineno"> 4505</span> </div>
<div class="line"><span class="lineno"> 4506</span>    <span class="comment">// realloc the textures array now that we know how many we actually need</span></div>
<div class="line"><span class="lineno"> 4507</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> = (<a class="code hl_struct" href="structtexture__t.html">texture_t</a>*)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtexture__t.html">texture_t</a>));</div>
<div class="line"><span class="lineno"> 4508</span> </div>
<div class="line"><span class="lineno"> 4509</span>    <span class="comment">// now assemble the texture chains</span></div>
<div class="line"><span class="lineno"> 4510</span>    <span class="comment">// if we encounter the textures out of order, the later ones won&#39;t mark the earlier ones in a sequence, so the earlier </span></div>
<div class="line"><span class="lineno"> 4511</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 4512</span>    {</div>
<div class="line"><span class="lineno"> 4513</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 4514</span>        <a class="code hl_struct" href="structtexture__t.html">texture_t</a> *t = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex;</div>
<div class="line"><span class="lineno"> 4515</span>        t-&gt;<a class="code hl_variable" href="structtexture__t.html#a822c05e1f5eb59bfbfa17e8e649f4797">currentframe</a> = t; <span class="comment">// fix the reallocated pointer</span></div>
<div class="line"><span class="lineno"> 4516</span> </div>
<div class="line"><span class="lineno"> 4517</span>        <span class="comment">// if this is not animated, skip it</span></div>
<div class="line"><span class="lineno"> 4518</span>        <span class="comment">// if this is already processed, skip it (part of an existing sequence)</span></div>
<div class="line"><span class="lineno"> 4519</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q2nexttexinfo == 0 || t-&gt;<a class="code hl_variable" href="structtexture__t.html#abbd48926683c0af0b653c52e6d02b60f">animated</a>)</div>
<div class="line"><span class="lineno"> 4520</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4521</span> </div>
<div class="line"><span class="lineno"> 4522</span>        <span class="comment">// store the array of frames to use</span></div>
<div class="line"><span class="lineno"> 4523</span>        t-&gt;<a class="code hl_variable" href="structtexture__t.html#abbd48926683c0af0b653c52e6d02b60f">animated</a> = 2; <span class="comment">// q2bsp animation</span></div>
<div class="line"><span class="lineno"> 4524</span>        t-&gt;<a class="code hl_variable" href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">anim_total</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 4525</span>        t-&gt;<a class="code hl_variable" href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">anim_total</a>[1] = 0;</div>
<div class="line"><span class="lineno"> 4526</span>        <span class="comment">// gather up to 10 frames (we don&#39;t support more)</span></div>
<div class="line"><span class="lineno"> 4527</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &gt;= 0 &amp;&amp; t-&gt;<a class="code hl_variable" href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">anim_total</a>[0] &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<span class="keyword">sizeof</span>(t-&gt;<a class="code hl_variable" href="structtexture__t.html#afe25a72d187b253596fe2ed9783b5e94">anim_frames</a>[0])/<span class="keyword">sizeof</span>(t-&gt;<a class="code hl_variable" href="structtexture__t.html#afe25a72d187b253596fe2ed9783b5e94">anim_frames</a>[0][0]));<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].q2nexttexinfo)</div>
<div class="line"><span class="lineno"> 4528</span>        {</div>
<div class="line"><span class="lineno"> 4529</span>            <span class="comment">// detect looping and stop there</span></div>
<div class="line"><span class="lineno"> 4530</span>            <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">anim_total</a>[0] &amp;&amp; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].textureindex == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex)</div>
<div class="line"><span class="lineno"> 4531</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4532</span>            t-&gt;<a class="code hl_variable" href="structtexture__t.html#afe25a72d187b253596fe2ed9783b5e94">anim_frames</a>[0][t-&gt;<a class="code hl_variable" href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">anim_total</a>[0]++] = &amp;<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>[<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].textureindex];</div>
<div class="line"><span class="lineno"> 4533</span>        }</div>
<div class="line"><span class="lineno"> 4534</span>        <span class="comment">// we could look for the +a sequence here if this is the +0 sequence,</span></div>
<div class="line"><span class="lineno"> 4535</span>        <span class="comment">// but it seems that quake2 did not implement that (even though the</span></div>
<div class="line"><span class="lineno"> 4536</span>        <span class="comment">// files exist in the baseq2 content)</span></div>
<div class="line"><span class="lineno"> 4537</span> </div>
<div class="line"><span class="lineno"> 4538</span>        <span class="comment">// write the frame sequence to all the textures involved (just like</span></div>
<div class="line"><span class="lineno"> 4539</span>        <span class="comment">// in the q1bsp loader)</span></div>
<div class="line"><span class="lineno"> 4540</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 4541</span>        <span class="comment">// note that this can overwrite the rest of the sequence - so if the</span></div>
<div class="line"><span class="lineno"> 4542</span>        <span class="comment">// start of a sequence is found later than the other parts of the</span></div>
<div class="line"><span class="lineno"> 4543</span>        <span class="comment">// sequence, it will go back and rewrite them correctly.</span></div>
<div class="line"><span class="lineno"> 4544</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; t-&gt;<a class="code hl_variable" href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">anim_total</a>[0];<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 4545</span>        {</div>
<div class="line"><span class="lineno"> 4546</span>            <a class="code hl_struct" href="structtexture__t.html">texture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txk</a> = t-&gt;<a class="code hl_variable" href="structtexture__t.html#afe25a72d187b253596fe2ed9783b5e94">anim_frames</a>[0][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>];</div>
<div class="line"><span class="lineno"> 4547</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txk</a>-&gt;animated = t-&gt;<a class="code hl_variable" href="structtexture__t.html#abbd48926683c0af0b653c52e6d02b60f">animated</a>;</div>
<div class="line"><span class="lineno"> 4548</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txk</a>-&gt;anim_total[0] = t-&gt;<a class="code hl_variable" href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">anim_total</a>[0];</div>
<div class="line"><span class="lineno"> 4549</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a> &lt; t-&gt;<a class="code hl_variable" href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">anim_total</a>[0];<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>++)</div>
<div class="line"><span class="lineno"> 4550</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">txk</a>-&gt;anim_frames[0][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>] = t-&gt;<a class="code hl_variable" href="structtexture__t.html#afe25a72d187b253596fe2ed9783b5e94">anim_frames</a>[0][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>];</div>
<div class="line"><span class="lineno"> 4551</span>        }</div>
<div class="line"><span class="lineno"> 4552</span>    }</div>
<div class="line"><span class="lineno"> 4553</span>}</div>
<div class="ttc" id="aimage_8c_html_a1d6ca077c014facf893817bb526ba91b"><div class="ttname"><a href="image_8c.html#a1d6ca077c014facf893817bb526ba91b">LoadWAL_GetMetadata</a></div><div class="ttdeci">qbool LoadWAL_GetMetadata(const unsigned char *f, int filesize, int *retwidth, int *retheight, int *retflags, int *retvalue, int *retcontents, char *retanimname32c)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00800">image.c:800</a></div></div>
<div class="ttc" id="amodel__brush_8h_html_a15a12ade8170812bc1a3b5455f26e114"><div class="ttname"><a href="model__brush_8h.html#a15a12ade8170812bc1a3b5455f26e114">MATERIALFLAG_FULLBRIGHT</a></div><div class="ttdeci">#define MATERIALFLAG_FULLBRIGHT</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8h_source.html#l00087">model_brush.h:87</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a0114c7b7f3dde1011ec095fcebc74bd2"><div class="ttname"><a href="model__q2bsp_8h.html#a0114c7b7f3dde1011ec095fcebc74bd2">Q2SURF_HINT</a></div><div class="ttdeci">#define Q2SURF_HINT</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00105">model_q2bsp.h:105</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a26fa48aa88231ae0ced7086240993c9f"><div class="ttname"><a href="model__q2bsp_8h.html#a26fa48aa88231ae0ced7086240993c9f">Q2CONTENTS_WATER</a></div><div class="ttdeci">#define Q2CONTENTS_WATER</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00065">model_q2bsp.h:65</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a36b8b2d31598332d38bf03b49e8f3973"><div class="ttname"><a href="model__q2bsp_8h.html#a36b8b2d31598332d38bf03b49e8f3973">Q2SURF_TRANS33</a></div><div class="ttdeci">#define Q2SURF_TRANS33</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00100">model_q2bsp.h:100</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a415804bf5d65bab954a435d02c1e793c"><div class="ttname"><a href="model__q2bsp_8h.html#a415804bf5d65bab954a435d02c1e793c">Q2SURF_FLOWING</a></div><div class="ttdeci">#define Q2SURF_FLOWING</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00102">model_q2bsp.h:102</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a55878234ba30295ef11eac33db482f30"><div class="ttname"><a href="model__q2bsp_8h.html#a55878234ba30295ef11eac33db482f30">Q2SURF_NODRAW</a></div><div class="ttdeci">#define Q2SURF_NODRAW</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00103">model_q2bsp.h:103</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a58792eeb000504f884bdc5463c0a96b9"><div class="ttname"><a href="model__q2bsp_8h.html#a58792eeb000504f884bdc5463c0a96b9">Q2CONTENTS_TRANSLUCENT</a></div><div class="ttdeci">#define Q2CONTENTS_TRANSLUCENT</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00089">model_q2bsp.h:89</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a5adc7946d9fab1a54677f641a137a3b9"><div class="ttname"><a href="model__q2bsp_8h.html#a5adc7946d9fab1a54677f641a137a3b9">Q2SURF_TRANS66</a></div><div class="ttdeci">#define Q2SURF_TRANS66</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00101">model_q2bsp.h:101</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a5b9730067b5fdd3c8de2b7e609412543"><div class="ttname"><a href="model__q2bsp_8h.html#a5b9730067b5fdd3c8de2b7e609412543">Q2CONTENTS_SLIME</a></div><div class="ttdeci">#define Q2CONTENTS_SLIME</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00064">model_q2bsp.h:64</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a663da2c210bb28eea605537e6512aad8"><div class="ttname"><a href="model__q2bsp_8h.html#a663da2c210bb28eea605537e6512aad8">Q2CONTENTS_AUX</a></div><div class="ttdeci">#define Q2CONTENTS_AUX</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00062">model_q2bsp.h:62</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a7175fe7d96002a05c2f233c7678419a6"><div class="ttname"><a href="model__q2bsp_8h.html#a7175fe7d96002a05c2f233c7678419a6">Q2CONTENTS_SOLID</a></div><div class="ttdeci">#define Q2CONTENTS_SOLID</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00060">model_q2bsp.h:60</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a748ce91037a37831fdf122b6851ab831"><div class="ttname"><a href="model__q2bsp_8h.html#a748ce91037a37831fdf122b6851ab831">Q2SURF_SKIP</a></div><div class="ttdeci">#define Q2SURF_SKIP</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00106">model_q2bsp.h:106</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a750e71ed2ae2e791850354c33b458a22"><div class="ttname"><a href="model__q2bsp_8h.html#a750e71ed2ae2e791850354c33b458a22">Q2SURF_LIGHT</a></div><div class="ttdeci">#define Q2SURF_LIGHT</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00094">model_q2bsp.h:94</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a8f4176151146162865c1ea488b4eea35"><div class="ttname"><a href="model__q2bsp_8h.html#a8f4176151146162865c1ea488b4eea35">Q2SURF_ALPHATEST</a></div><div class="ttdeci">#define Q2SURF_ALPHATEST</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00108">model_q2bsp.h:108</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_a99f94d7108aa8fbd6cd51242b7bb6d5e"><div class="ttname"><a href="model__q2bsp_8h.html#a99f94d7108aa8fbd6cd51242b7bb6d5e">Q2CONTENTS_DETAIL</a></div><div class="ttdeci">#define Q2CONTENTS_DETAIL</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00088">model_q2bsp.h:88</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_aaec46765f875f4a1b15164a824851660"><div class="ttname"><a href="model__q2bsp_8h.html#aaec46765f875f4a1b15164a824851660">Q2CONTENTS_MONSTERCLIP</a></div><div class="ttdeci">#define Q2CONTENTS_MONSTERCLIP</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00074">model_q2bsp.h:74</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_acad7fe00e57b26d27279e4d59331a810"><div class="ttname"><a href="model__q2bsp_8h.html#acad7fe00e57b26d27279e4d59331a810">Q2CONTENTS_MIST</a></div><div class="ttdeci">#define Q2CONTENTS_MIST</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00066">model_q2bsp.h:66</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_ad8d29b3f0f23e172f98465ae4cc4ca39"><div class="ttname"><a href="model__q2bsp_8h.html#ad8d29b3f0f23e172f98465ae4cc4ca39">Q2CONTENTS_LAVA</a></div><div class="ttdeci">#define Q2CONTENTS_LAVA</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00063">model_q2bsp.h:63</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_ae569ef71a731efa8953d3565e62281fa"><div class="ttname"><a href="model__q2bsp_8h.html#ae569ef71a731efa8953d3565e62281fa">Q2CONTENTS_WINDOW</a></div><div class="ttdeci">#define Q2CONTENTS_WINDOW</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00061">model_q2bsp.h:61</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_af5c0d30d6103c0b2911ddc8b67029036"><div class="ttname"><a href="model__q2bsp_8h.html#af5c0d30d6103c0b2911ddc8b67029036">Q2SURF_SLICK</a></div><div class="ttdeci">#define Q2SURF_SLICK</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00096">model_q2bsp.h:96</a></div></div>
<div class="ttc" id="amodel__q2bsp_8h_html_afc4f3784f060c7d16e3b1ae2fed8c83b"><div class="ttname"><a href="model__q2bsp_8h.html#afc4f3784f060c7d16e3b1ae2fed8c83b">Q2CONTENTS_PLAYERCLIP</a></div><div class="ttdeci">#define Q2CONTENTS_PLAYERCLIP</div><div class="ttdef"><b>Definition</b> <a href="model__q2bsp_8h_source.html#l00073">model_q2bsp.h:73</a></div></div>
<div class="ttc" id="ar__qshader_8h_html_a828dead9d209fc488f013da46f1f5ea4abda63ee69b542e0a5a392d56f0118dcd"><div class="ttname"><a href="r__qshader_8h.html#a828dead9d209fc488f013da46f1f5ea4abda63ee69b542e0a5a392d56f0118dcd">Q3TCMOD_SCROLL</a></div><div class="ttdeci">@ Q3TCMOD_SCROLL</div><div class="ttdef"><b>Definition</b> <a href="r__qshader_8h_source.html#l00115">r_qshader.h:115</a></div></div>
<div class="ttc" id="astructtexture__t_html_a3505956806e86f3c32396cda9ebec493"><div class="ttname"><a href="structtexture__t.html#a3505956806e86f3c32396cda9ebec493">texture_t::anim_total</a></div><div class="ttdeci">int anim_total[2]</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00216">model_shared.h:216</a></div></div>
<div class="ttc" id="astructtexture__t_html_a822c05e1f5eb59bfbfa17e8e649f4797"><div class="ttname"><a href="structtexture__t.html#a822c05e1f5eb59bfbfa17e8e649f4797">texture_t::currentframe</a></div><div class="ttdeci">struct texture_s * currentframe</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00236">model_shared.h:236</a></div></div>
<div class="ttc" id="astructtexture__t_html_abbd48926683c0af0b653c52e6d02b60f"><div class="ttname"><a href="structtexture__t.html#abbd48926683c0af0b653c52e6d02b60f">texture_t::animated</a></div><div class="ttdeci">int animated</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00222">model_shared.h:222</a></div></div>
<div class="ttc" id="astructtexture__t_html_ac453e824629ac3946f38a302f56b4b0d"><div class="ttname"><a href="structtexture__t.html#ac453e824629ac3946f38a302f56b4b0d">texture_t::q2value</a></div><div class="ttdeci">int q2value</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00301">model_shared.h:301</a></div></div>
<div class="ttc" id="astructtexture__t_html_ad99306b46d684b97cd4db0f04cd193fb"><div class="ttname"><a href="structtexture__t.html#ad99306b46d684b97cd4db0f04cd193fb">texture_t::q2flags</a></div><div class="ttdeci">int q2flags</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00300">model_shared.h:300</a></div></div>
<div class="ttc" id="astructtexture__t_html_afe25a72d187b253596fe2ed9783b5e94"><div class="ttname"><a href="structtexture__t.html#afe25a72d187b253596fe2ed9783b5e94">texture_t::anim_frames</a></div><div class="ttdeci">struct texture_s * anim_frames[2][10]</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00219">model_shared.h:219</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a63dff671fba6b778830fb6c886635f03" name="a63dff671fba6b778830fb6c886635f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63dff671fba6b778830fb6c886635f03">&#9670;&#160;</a></span>Mod_Q2BSP_LoadVisibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q2BSP_LoadVisibility </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04253">4253</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4254</span>{</div>
<div class="line"><span class="lineno"> 4255</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4256</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a663ce8105fb244c9ec16617834f95160">num_compressedpvs</a> = 0;</div>
<div class="line"><span class="lineno"> 4257</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a1d833782cb0c0fd8cf934c8d1682c37f">data_compressedpvs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4258</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> = 0;</div>
<div class="line"><span class="lineno"> 4259</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> = 0;</div>
<div class="line"><span class="lineno"> 4260</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 4261</span> </div>
<div class="line"><span class="lineno"> 4262</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize)</div>
<div class="line"><span class="lineno"> 4263</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4264</span> </div>
<div class="line"><span class="lineno"> 4265</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4266</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 4267</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> = (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>+7)&gt;&gt;3;</div>
<div class="line"><span class="lineno"> 4268</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>);</div>
<div class="line"><span class="lineno"> 4269</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 4270</span>    {</div>
<div class="line"><span class="lineno"> 4271</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsofs</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4272</span>        <span class="comment">/*int phsofs = */</span><a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 4273</span>        <span class="comment">// decompress the vis data for this cluster</span></div>
<div class="line"><span class="lineno"> 4274</span>        <span class="comment">// (note this accesses the underlying data store of sb, which is kind of evil)</span></div>
<div class="line"><span class="lineno"> 4275</span>        <a class="code hl_function" href="model__brush_8c.html#a2dd554f148b59d0128e9eb593aefb3b3">Mod_BSP_DecompressVis</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pvsofs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> + (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1) * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>);</div>
<div class="line"><span class="lineno"> 4276</span>    }</div>
<div class="line"><span class="lineno"> 4277</span>    <span class="comment">// hush the loading error check later - we had to do random access on this lump, so we didn&#39;t read to the end</span></div>
<div class="line"><span class="lineno"> 4278</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;readcount = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize;</div>
<div class="line"><span class="lineno"> 4279</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="ac07554f74269005419bc0a10b5f4d8da" name="ac07554f74269005419bc0a10b5f4d8da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07554f74269005419bc0a10b5f4d8da">&#9670;&#160;</a></span>Mod_Q2BSP_NativeContentsFromSuperContents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q2BSP_NativeContentsFromSuperContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>supercontents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04229">4229</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4230</span>{</div>
<div class="line"><span class="lineno"> 4231</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> = 0;</div>
<div class="line"><span class="lineno"> 4232</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>)</div>
<div class="line"><span class="lineno"> 4233</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#ada9ca16dce27320132cdd11186e763e5">CONTENTSQ2_SOLID</a>;</div>
<div class="line"><span class="lineno"> 4234</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a>)</div>
<div class="line"><span class="lineno"> 4235</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a84491051c34f92dc147ec2c158ebe0d8">CONTENTSQ2_WATER</a>;</div>
<div class="line"><span class="lineno"> 4236</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>)</div>
<div class="line"><span class="lineno"> 4237</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#ae8d2bb31591fb21f92fb4aee2a28ea9d">CONTENTSQ2_SLIME</a>;</div>
<div class="line"><span class="lineno"> 4238</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a>)</div>
<div class="line"><span class="lineno"> 4239</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a25916837c9f52dd3f22c8e1567195975">CONTENTSQ2_LAVA</a>;</div>
<div class="line"><span class="lineno"> 4240</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>)</div>
<div class="line"><span class="lineno"> 4241</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a5b2fe8d3770a519fb8041f7c7bcbf1a5">CONTENTSQ2_MONSTER</a>;</div>
<div class="line"><span class="lineno"> 4242</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a>)</div>
<div class="line"><span class="lineno"> 4243</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a42711fc8ae2ee87d4f206311cfdb149a">CONTENTSQ2_DEADMONSTER</a>;</div>
<div class="line"><span class="lineno"> 4244</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#aa8b1bcaea9c05c6c9846ef619aa0327d">SUPERCONTENTS_PLAYERCLIP</a>)</div>
<div class="line"><span class="lineno"> 4245</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#aa7f05f1cd970849e671fee175ac5a33f">CONTENTSQ2_PLAYERCLIP</a>;</div>
<div class="line"><span class="lineno"> 4246</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a35afee7d75ef29a444b98e351a8d3045">SUPERCONTENTS_MONSTERCLIP</a>)</div>
<div class="line"><span class="lineno"> 4247</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a0139a7ca0cc6c1d3628916fdc092dffb">CONTENTSQ2_MONSTERCLIP</a>;</div>
<div class="line"><span class="lineno"> 4248</span>    <span class="keywordflow">if</span> (!(supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a1743eb1a01a4bc94f435951089dadbd7">SUPERCONTENTS_OPAQUE</a>))</div>
<div class="line"><span class="lineno"> 4249</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a755796cca7cdfc3e4a5a8df1208ba3c9">CONTENTSQ2_TRANSLUCENT</a>;</div>
<div class="line"><span class="lineno"> 4250</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a>;</div>
<div class="line"><span class="lineno"> 4251</span>}</div>
<div class="ttc" id="abspfile_8h_html_a0139a7ca0cc6c1d3628916fdc092dffb"><div class="ttname"><a href="bspfile_8h.html#a0139a7ca0cc6c1d3628916fdc092dffb">CONTENTSQ2_MONSTERCLIP</a></div><div class="ttdeci">#define CONTENTSQ2_MONSTERCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00159">bspfile.h:159</a></div></div>
<div class="ttc" id="abspfile_8h_html_a25916837c9f52dd3f22c8e1567195975"><div class="ttname"><a href="bspfile_8h.html#a25916837c9f52dd3f22c8e1567195975">CONTENTSQ2_LAVA</a></div><div class="ttdeci">#define CONTENTSQ2_LAVA</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00153">bspfile.h:153</a></div></div>
<div class="ttc" id="abspfile_8h_html_a35afee7d75ef29a444b98e351a8d3045"><div class="ttname"><a href="bspfile_8h.html#a35afee7d75ef29a444b98e351a8d3045">SUPERCONTENTS_MONSTERCLIP</a></div><div class="ttdeci">#define SUPERCONTENTS_MONSTERCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00205">bspfile.h:205</a></div></div>
<div class="ttc" id="abspfile_8h_html_a42711fc8ae2ee87d4f206311cfdb149a"><div class="ttname"><a href="bspfile_8h.html#a42711fc8ae2ee87d4f206311cfdb149a">CONTENTSQ2_DEADMONSTER</a></div><div class="ttdeci">#define CONTENTSQ2_DEADMONSTER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00168">bspfile.h:168</a></div></div>
<div class="ttc" id="abspfile_8h_html_a5b2fe8d3770a519fb8041f7c7bcbf1a5"><div class="ttname"><a href="bspfile_8h.html#a5b2fe8d3770a519fb8041f7c7bcbf1a5">CONTENTSQ2_MONSTER</a></div><div class="ttdeci">#define CONTENTSQ2_MONSTER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00167">bspfile.h:167</a></div></div>
<div class="ttc" id="abspfile_8h_html_a755796cca7cdfc3e4a5a8df1208ba3c9"><div class="ttname"><a href="bspfile_8h.html#a755796cca7cdfc3e4a5a8df1208ba3c9">CONTENTSQ2_TRANSLUCENT</a></div><div class="ttdeci">#define CONTENTSQ2_TRANSLUCENT</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00170">bspfile.h:170</a></div></div>
<div class="ttc" id="abspfile_8h_html_a84491051c34f92dc147ec2c158ebe0d8"><div class="ttname"><a href="bspfile_8h.html#a84491051c34f92dc147ec2c158ebe0d8">CONTENTSQ2_WATER</a></div><div class="ttdeci">#define CONTENTSQ2_WATER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00155">bspfile.h:155</a></div></div>
<div class="ttc" id="abspfile_8h_html_a9a9a2ffbe6e30c02f503e020d2ba1c6c"><div class="ttname"><a href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a></div><div class="ttdeci">#define SUPERCONTENTS_CORPSE</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00202">bspfile.h:202</a></div></div>
<div class="ttc" id="abspfile_8h_html_aa7f05f1cd970849e671fee175ac5a33f"><div class="ttname"><a href="bspfile_8h.html#aa7f05f1cd970849e671fee175ac5a33f">CONTENTSQ2_PLAYERCLIP</a></div><div class="ttdeci">#define CONTENTSQ2_PLAYERCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00158">bspfile.h:158</a></div></div>
<div class="ttc" id="abspfile_8h_html_aa8b1bcaea9c05c6c9846ef619aa0327d"><div class="ttname"><a href="bspfile_8h.html#aa8b1bcaea9c05c6c9846ef619aa0327d">SUPERCONTENTS_PLAYERCLIP</a></div><div class="ttdeci">#define SUPERCONTENTS_PLAYERCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00204">bspfile.h:204</a></div></div>
<div class="ttc" id="abspfile_8h_html_ada9ca16dce27320132cdd11186e763e5"><div class="ttname"><a href="bspfile_8h.html#ada9ca16dce27320132cdd11186e763e5">CONTENTSQ2_SOLID</a></div><div class="ttdeci">#define CONTENTSQ2_SOLID</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00150">bspfile.h:150</a></div></div>
<div class="ttc" id="abspfile_8h_html_ae8d2bb31591fb21f92fb4aee2a28ea9d"><div class="ttname"><a href="bspfile_8h.html#ae8d2bb31591fb21f92fb4aee2a28ea9d">CONTENTSQ2_SLIME</a></div><div class="ttdeci">#define CONTENTSQ2_SLIME</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00154">bspfile.h:154</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>.</p>

</div>
</div>
<a id="a71ea8486028744092c5d72eaa2dcb15f" name="a71ea8486028744092c5d72eaa2dcb15f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71ea8486028744092c5d72eaa2dcb15f">&#9670;&#160;</a></span>Mod_Q2BSP_SuperContentsFromNativeContents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q2BSP_SuperContentsFromNativeContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>nativecontents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l04205">4205</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4206</span>{</div>
<div class="line"><span class="lineno"> 4207</span>    <span class="keywordtype">int</span> supercontents = 0;</div>
<div class="line"><span class="lineno"> 4208</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#ada9ca16dce27320132cdd11186e763e5">CONTENTSQ2_SOLID</a>)</div>
<div class="line"><span class="lineno"> 4209</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>;</div>
<div class="line"><span class="lineno"> 4210</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a84491051c34f92dc147ec2c158ebe0d8">CONTENTSQ2_WATER</a>)</div>
<div class="line"><span class="lineno"> 4211</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a>;</div>
<div class="line"><span class="lineno"> 4212</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#ae8d2bb31591fb21f92fb4aee2a28ea9d">CONTENTSQ2_SLIME</a>)</div>
<div class="line"><span class="lineno"> 4213</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>;</div>
<div class="line"><span class="lineno"> 4214</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a25916837c9f52dd3f22c8e1567195975">CONTENTSQ2_LAVA</a>)</div>
<div class="line"><span class="lineno"> 4215</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a>;</div>
<div class="line"><span class="lineno"> 4216</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a5b2fe8d3770a519fb8041f7c7bcbf1a5">CONTENTSQ2_MONSTER</a>)</div>
<div class="line"><span class="lineno"> 4217</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>;</div>
<div class="line"><span class="lineno"> 4218</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a42711fc8ae2ee87d4f206311cfdb149a">CONTENTSQ2_DEADMONSTER</a>)</div>
<div class="line"><span class="lineno"> 4219</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a>;</div>
<div class="line"><span class="lineno"> 4220</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#aa7f05f1cd970849e671fee175ac5a33f">CONTENTSQ2_PLAYERCLIP</a>)</div>
<div class="line"><span class="lineno"> 4221</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#aa8b1bcaea9c05c6c9846ef619aa0327d">SUPERCONTENTS_PLAYERCLIP</a>;</div>
<div class="line"><span class="lineno"> 4222</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a0139a7ca0cc6c1d3628916fdc092dffb">CONTENTSQ2_MONSTERCLIP</a>)</div>
<div class="line"><span class="lineno"> 4223</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a35afee7d75ef29a444b98e351a8d3045">SUPERCONTENTS_MONSTERCLIP</a>;</div>
<div class="line"><span class="lineno"> 4224</span>    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a755796cca7cdfc3e4a5a8df1208ba3c9">CONTENTSQ2_TRANSLUCENT</a>))</div>
<div class="line"><span class="lineno"> 4225</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a1743eb1a01a4bc94f435951089dadbd7">SUPERCONTENTS_OPAQUE</a>;</div>
<div class="line"><span class="lineno"> 4226</span>    <span class="keywordflow">return</span> supercontents;</div>
<div class="line"><span class="lineno"> 4227</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__shared_8c_source.html#l02270">Mod_LoadTextureFromQ3Shader()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04683">Mod_Q2BSP_LoadBrushes()</a>, and <a class="el" href="model__brush_8c_source.html#l04350">Mod_Q2BSP_LoadTexinfo()</a>.</p>

</div>
</div>
<a id="ab712c9abe50433fe90a45ad8df6f8378" name="ab712c9abe50433fe90a45ad8df6f8378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab712c9abe50433fe90a45ad8df6f8378">&#9670;&#160;</a></span>Mod_Q3BSP_LightPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LightPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>ambientcolor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>diffusecolor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>diffusenormal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06619">6619</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6620</span>{</div>
<div class="line"><span class="lineno"> 6621</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[3];</div>
<div class="line"><span class="lineno"> 6622</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blend1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blend2</a>, blend, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylescale</a> = 1;</div>
<div class="line"><span class="lineno"> 6623</span>    <a class="code hl_struct" href="structq3dlightgrid__t.html">q3dlightgrid_t</a> *<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, *s;</div>
<div class="line"><span class="lineno"> 6624</span> </div>
<div class="line"><span class="lineno"> 6625</span>    <span class="comment">// scale lighting by lightstyle[0] so that darkmode in dpmod works properly</span></div>
<div class="line"><span class="lineno"> 6626</span>    <span class="comment">// LadyHavoc: FIXME: is this true?</span></div>
<div class="line"><span class="lineno"> 6627</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylescale</a> = 1; <span class="comment">// added while render</span></div>
<div class="line"><span class="lineno"> 6628</span>    <span class="comment">//stylescale = r_refdef.scene.rtlightstylevalue[0];</span></div>
<div class="line"><span class="lineno"> 6629</span> </div>
<div class="line"><span class="lineno"> 6630</span>    <span class="keywordflow">if</span> (!model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a0f3ce0bffd6351c944089bf50a5d7af6">num_lightgrid</a>)</div>
<div class="line"><span class="lineno"> 6631</span>    {</div>
<div class="line"><span class="lineno"> 6632</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylescale</a>;</div>
<div class="line"><span class="lineno"> 6633</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylescale</a>;</div>
<div class="line"><span class="lineno"> 6634</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylescale</a>;</div>
<div class="line"><span class="lineno"> 6635</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 6636</span>    }</div>
<div class="line"><span class="lineno"> 6637</span> </div>
<div class="line"><span class="lineno"> 6638</span>    <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a26260d975cad6e39e499e62faa8f20f9">num_lightgrid_indexfromworld</a>, p, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>);</div>
<div class="line"><span class="lineno"> 6639</span>    <span class="comment">//Matrix4x4_Print(&amp;model-&gt;brushq3.num_lightgrid_indexfromworld);</span></div>
<div class="line"><span class="lineno"> 6640</span>    <span class="comment">//Con_Printf(&quot;%f %f %f transformed %f %f %f clamped &quot;, p[0], p[1], p[2], transformed[0], transformed[1], transformed[2]);</span></div>
<div class="line"><span class="lineno"> 6641</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[0], model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] - 1);</div>
<div class="line"><span class="lineno"> 6642</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[1], model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] - 1);</div>
<div class="line"><span class="lineno"> 6643</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[2], model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2] - 1);</div>
<div class="line"><span class="lineno"> 6644</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[0] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[0]);</div>
<div class="line"><span class="lineno"> 6645</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[1] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[1]);</div>
<div class="line"><span class="lineno"> 6646</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[2] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[2]);</div>
<div class="line"><span class="lineno"> 6647</span>    <span class="comment">//Con_Printf(&quot;%f %f %f index %i %i %i:\n&quot;, transformed[0], transformed[1], transformed[2], index[0], index[1], index[2]);</span></div>
<div class="line"><span class="lineno"> 6648</span> </div>
<div class="line"><span class="lineno"> 6649</span>    <span class="comment">// now lerp the values</span></div>
<div class="line"><span class="lineno"> 6650</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>);</div>
<div class="line"><span class="lineno"> 6651</span>    <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = &amp;model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9f2310c4c2818e19e7a5a90b2c156377">data_lightgrid</a>[(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[2] * model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[1]) * model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[0]];</div>
<div class="line"><span class="lineno"> 6652</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 6653</span>    {</div>
<div class="line"><span class="lineno"> 6654</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blend1</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> ? (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[2] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[2]) : (1 - (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[2] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[2])));</div>
<div class="line"><span class="lineno"> 6655</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blend1</a> &lt; 0.001f || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[2] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &gt;= model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2])</div>
<div class="line"><span class="lineno"> 6656</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6657</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6658</span>        {</div>
<div class="line"><span class="lineno"> 6659</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blend2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blend1</a> * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> ? (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[1] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[1]) : (1 - (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[1] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[1])));</div>
<div class="line"><span class="lineno"> 6660</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blend2</a> &lt; 0.001f || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &gt;= model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1])</div>
<div class="line"><span class="lineno"> 6661</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6662</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 6663</span>            {</div>
<div class="line"><span class="lineno"> 6664</span>                blend = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">blend2</a> * (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ? (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[0] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[0]) : (1 - (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>[0] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[0]))) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stylescale</a>;</div>
<div class="line"><span class="lineno"> 6665</span>                <span class="keywordflow">if</span> (blend &lt; 0.001f || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>[0] + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0])</div>
<div class="line"><span class="lineno"> 6666</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6667</span>                s = <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> * model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * model-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 6668</span>                <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>, blend * (1.0f / 128.0f), s-&gt;<a class="code hl_variable" href="structq3dlightgrid__t.html#a58fadbbd27f024d91b69702129e7b1f4">ambientrgb</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ambientcolor</a>);</div>
<div class="line"><span class="lineno"> 6669</span>                <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusecolor</a>, blend * (1.0f / 128.0f), s-&gt;<a class="code hl_variable" href="structq3dlightgrid__t.html#a36a7451fbeb15e7cda3e44669abd6543">diffusergb</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusecolor</a>);</div>
<div class="line"><span class="lineno"> 6670</span>                <span class="comment">// this uses the mod_md3_sin table because the values are</span></div>
<div class="line"><span class="lineno"> 6671</span>                <span class="comment">// already in the 0-255 range, the 64+ bias fetches a cosine</span></div>
<div class="line"><span class="lineno"> 6672</span>                <span class="comment">// instead of a sine value</span></div>
<div class="line"><span class="lineno"> 6673</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>[0] += blend * (<a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[64 + s-&gt;<a class="code hl_variable" href="structq3dlightgrid__t.html#a5e757a63a2bd94ec41a0e520c5927b0b">diffuseyaw</a>] * <a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[s-&gt;<a class="code hl_variable" href="structq3dlightgrid__t.html#aff385a772466d212a0953ce6f794f9c3">diffusepitch</a>]);</div>
<div class="line"><span class="lineno"> 6674</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>[1] += blend * (<a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[     s-&gt;<a class="code hl_variable" href="structq3dlightgrid__t.html#a5e757a63a2bd94ec41a0e520c5927b0b">diffuseyaw</a>] * <a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[s-&gt;<a class="code hl_variable" href="structq3dlightgrid__t.html#aff385a772466d212a0953ce6f794f9c3">diffusepitch</a>]);</div>
<div class="line"><span class="lineno"> 6675</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>[2] += blend * (<a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[64 + s-&gt;<a class="code hl_variable" href="structq3dlightgrid__t.html#aff385a772466d212a0953ce6f794f9c3">diffusepitch</a>]);</div>
<div class="line"><span class="lineno"> 6676</span>                <span class="comment">//Con_Printf(&quot;blend %f: ambient %i %i %i, diffuse %i %i %i, diffusepitch %i diffuseyaw %i (%f %f, normal %f %f %f)\n&quot;, blend, s-&gt;ambientrgb[0], s-&gt;ambientrgb[1], s-&gt;ambientrgb[2], s-&gt;diffusergb[0], s-&gt;diffusergb[1], s-&gt;diffusergb[2], s-&gt;diffusepitch, s-&gt;diffuseyaw, pitch, yaw, (cos(yaw) * cospitch), (sin(yaw) * cospitch), (-sin(pitch)));</span></div>
<div class="line"><span class="lineno"> 6677</span>            }</div>
<div class="line"><span class="lineno"> 6678</span>        }</div>
<div class="line"><span class="lineno"> 6679</span>    }</div>
<div class="line"><span class="lineno"> 6680</span> </div>
<div class="line"><span class="lineno"> 6681</span>    <span class="comment">// normalize the light direction before turning</span></div>
<div class="line"><span class="lineno"> 6682</span>    <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diffusenormal</a>);</div>
<div class="line"><span class="lineno"> 6683</span>    <span class="comment">//Con_Printf(&quot;result: ambient %f %f %f diffuse %f %f %f diffusenormal %f %f %f\n&quot;, ambientcolor[0], ambientcolor[1], ambientcolor[2], diffusecolor[0], diffusecolor[1], diffusecolor[2], diffusenormal[0], diffusenormal[1], diffusenormal[2]);</span></div>
<div class="line"><span class="lineno"> 6684</span>}</div>
<div class="ttc" id="amatrixlib_8c_html_a2c67a69e5ad398eda2624c8507e8b5fa"><div class="ttname"><a href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a></div><div class="ttdeci">void Matrix4x4_Transform(const matrix4x4_t *in, const float v[3], float out[3])</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l01657">matrixlib.c:1657</a></div></div>
<div class="ttc" id="amodel__alias_8c_html_ac77182e37c4aeb96def3e48890d7ecb7"><div class="ttname"><a href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a></div><div class="ttdeci">float mod_md3_sin[320]</div><div class="ttdef"><b>Definition</b> <a href="model__alias_8c_source.html#l00042">model_alias.c:42</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a0f3ce0bffd6351c944089bf50a5d7af6"><div class="ttname"><a href="structmodel__brushq3__t.html#a0f3ce0bffd6351c944089bf50a5d7af6">model_brushq3_t::num_lightgrid</a></div><div class="ttdeci">int num_lightgrid</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00343">model_q3bsp.h:343</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a26260d975cad6e39e499e62faa8f20f9"><div class="ttname"><a href="structmodel__brushq3__t.html#a26260d975cad6e39e499e62faa8f20f9">model_brushq3_t::num_lightgrid_indexfromworld</a></div><div class="ttdeci">matrix4x4_t num_lightgrid_indexfromworld</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00354">model_q3bsp.h:354</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a9f2310c4c2818e19e7a5a90b2c156377"><div class="ttname"><a href="structmodel__brushq3__t.html#a9f2310c4c2818e19e7a5a90b2c156377">model_brushq3_t::data_lightgrid</a></div><div class="ttdeci">q3dlightgrid_t * data_lightgrid</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00344">model_q3bsp.h:344</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_ab92fc06352b01074d0781ad6dfedb2df"><div class="ttname"><a href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">model_brushq3_t::num_lightgrid_isize</a></div><div class="ttdeci">int num_lightgrid_isize[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00352">model_q3bsp.h:352</a></div></div>
<div class="ttc" id="astructq3dlightgrid__t_html"><div class="ttname"><a href="structq3dlightgrid__t.html">q3dlightgrid_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00222">model_q3bsp.h:223</a></div></div>
<div class="ttc" id="astructq3dlightgrid__t_html_a36a7451fbeb15e7cda3e44669abd6543"><div class="ttname"><a href="structq3dlightgrid__t.html#a36a7451fbeb15e7cda3e44669abd6543">q3dlightgrid_t::diffusergb</a></div><div class="ttdeci">unsigned char diffusergb[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00225">model_q3bsp.h:225</a></div></div>
<div class="ttc" id="astructq3dlightgrid__t_html_a58fadbbd27f024d91b69702129e7b1f4"><div class="ttname"><a href="structq3dlightgrid__t.html#a58fadbbd27f024d91b69702129e7b1f4">q3dlightgrid_t::ambientrgb</a></div><div class="ttdeci">unsigned char ambientrgb[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00224">model_q3bsp.h:224</a></div></div>
<div class="ttc" id="astructq3dlightgrid__t_html_a5e757a63a2bd94ec41a0e520c5927b0b"><div class="ttname"><a href="structq3dlightgrid__t.html#a5e757a63a2bd94ec41a0e520c5927b0b">q3dlightgrid_t::diffuseyaw</a></div><div class="ttdeci">unsigned char diffuseyaw</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00227">model_q3bsp.h:227</a></div></div>
<div class="ttc" id="astructq3dlightgrid__t_html_aff385a772466d212a0953ce6f794f9c3"><div class="ttname"><a href="structq3dlightgrid__t.html#aff385a772466d212a0953ce6f794f9c3">q3dlightgrid_t::diffusepitch</a></div><div class="ttdeci">unsigned char diffusepitch</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00226">model_q3bsp.h:226</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a9b1fec782cf8320cc2e14aecd944f6fc" name="a9b1fec782cf8320cc2e14aecd944f6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1fec782cf8320cc2e14aecd944f6fc">&#9670;&#160;</a></span>Mod_Q3BSP_Load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07405">7405</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7406</span>{</div>
<div class="line"><span class="lineno"> 7407</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, lumps;</div>
<div class="line"><span class="lineno"> 7408</span>    <a class="code hl_struct" href="structq3dheader__t.html">q3dheader_t</a> *header;</div>
<div class="line"><span class="lineno"> 7409</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[3], yawradius, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 7410</span> </div>
<div class="line"><span class="lineno"> 7411</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a> = <span class="stringliteral">&quot;Q3BSP&quot;</span>;</div>
<div class="line"><span class="lineno"> 7412</span> </div>
<div class="line"><span class="lineno"> 7413</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0fb268c443d4c9dd629e3af746878fec">type</a> = <a class="code hl_enumvalue" href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4a58b2db2924e69f9aa69dcb90446199e8">mod_brushq3</a>;</div>
<div class="line"><span class="lineno"> 7414</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3a79c69ef5f7da657874473403237f50">ishlbsp</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 7415</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa01eebc58454df076313c2e68b9a7d30">isbsp2rmqe</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 7416</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#affea1879c06e97c155a1bc436caa54dc">isbsp2</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 7417</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab7aebfce8659a90f3060c820ccc7c3c8">isq2bsp</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 7418</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a788b2b5a3b9f56c3983a4c441cdec74d">isq3bsp</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7419</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a561bd00bcb29326c59d33a5ab01299ba">skymasking</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7420</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a9c3577006a252ce407c3b204a05be9e4">numframes</a> = 2; <span class="comment">// although alternate textures are not supported it is annoying to complain about no such frame 1</span></div>
<div class="line"><span class="lineno"> 7421</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a092a26ea0346fc90b6bc82a33289ed82">numskins</a> = 1;</div>
<div class="line"><span class="lineno"> 7422</span> </div>
<div class="line"><span class="lineno"> 7423</span>    header = (<a class="code hl_struct" href="structq3dheader__t.html">q3dheader_t</a> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>;</div>
<div class="line"><span class="lineno"> 7424</span>    <span class="keywordflow">if</span>((<span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a> &lt; (<span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a> + <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structq3dheader__t.html">q3dheader_t</a>))</div>
<div class="line"><span class="lineno"> 7425</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_Load: %s is smaller than its header&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7426</span> </div>
<div class="line"><span class="lineno"> 7427</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#ac85c96ae7a0e87a9546852029c6e61fc">version</a>);</div>
<div class="line"><span class="lineno"> 7428</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code hl_define" href="model__q3bsp_8h.html#afa2ad4ff1291015382d9b4bc76493bbf">Q3BSPVERSION</a> &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code hl_define" href="model__q3bsp_8h.html#a60f1802e42cb9ab26b7d528c9eb667bc">Q3BSPVERSION_IG</a> &amp;&amp; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code hl_define" href="model__q3bsp_8h.html#a87d5d3f72d94456869a6babe9ddd8f6e">Q3BSPVERSION_LIVE</a>)</div>
<div class="line"><span class="lineno"> 7429</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_Load: %s has wrong version number (%i, should be %i)&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="model__q3bsp_8h.html#afa2ad4ff1291015382d9b4bc76493bbf">Q3BSPVERSION</a>);</div>
<div class="line"><span class="lineno"> 7430</span> </div>
<div class="line"><span class="lineno"> 7431</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1fcab5fc67dd83b66311618cf8e152d">soundfromcenter</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7432</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">TraceBox</a> = <a class="code hl_function" href="model__brush_8c.html#a29fecb522c6d449fb01d01f2b070e4d1">Mod_CollisionBIH_TraceBox</a>;</div>
<div class="line"><span class="lineno"> 7433</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a88de93ec53d5028ad75df7a08eb5005a">TraceBrush</a> = <a class="code hl_function" href="model__brush_8c.html#affbc4942202066560126b850810d2662">Mod_CollisionBIH_TraceBrush</a>;</div>
<div class="line"><span class="lineno"> 7434</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af986fe2f082429a18c3d36f957649e10">TraceLine</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 7435</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a72c9953cbe38085b8545258bfd28792c">TracePoint</a> = <a class="code hl_function" href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a>;</div>
<div class="line"><span class="lineno"> 7436</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">PointSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#ababe610321bcf4487f3e28ac11b0ca1c">Mod_CollisionBIH_PointSuperContents</a>;</div>
<div class="line"><span class="lineno"> 7437</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab12042d3586a8c32c85b226baf81d982">TraceLineAgainstSurfaces</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 7438</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a32ee664ad4c03f4ea8c698b48bb443fe">TraceLineOfSight</a> = <a class="code hl_function" href="model__brush_8c.html#a1f6f8c9469d2d4238d77ced1637226a8">Mod_Q3BSP_TraceLineOfSight</a>;</div>
<div class="line"><span class="lineno"> 7439</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a42a513aa3f096a77e3f52db25aff4a12">SuperContentsFromNativeContents</a> = <a class="code hl_function" href="model__brush_8c.html#a17954d2d48cfe089ee439ae63d8609c8">Mod_Q3BSP_SuperContentsFromNativeContents</a>;</div>
<div class="line"><span class="lineno"> 7440</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12902c97697b0ccf6f66b5cc1a6e6cbf">NativeContentsFromSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#a5a62b395e385b7ce9d0b6ff6e9a58a53">Mod_Q3BSP_NativeContentsFromSuperContents</a>;</div>
<div class="line"><span class="lineno"> 7441</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a410424a81c26ecc81451c5da4a7c50f5">Mod_BSP_GetPVS</a>;</div>
<div class="line"><span class="lineno"> 7442</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a72ec2cd29705ec14f030bd49ba9697a2">Mod_BSP_FatPVS</a>;</div>
<div class="line"><span class="lineno"> 7443</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_function" href="model__brush_8c.html#aa0a4fa58c97cfce8966a22c7fcec4285">Mod_BSP_BoxTouchingPVS</a>;</div>
<div class="line"><span class="lineno"> 7444</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a6a74f1d6ae2f7904e073ae012c2a4b10">Mod_BSP_BoxTouchingLeafPVS</a>;</div>
<div class="line"><span class="lineno"> 7445</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_function" href="model__brush_8c.html#ac5ff29218d7cd338d8aeee45fd9d1f3c">Mod_BSP_BoxTouchingVisibleLeafs</a>;</div>
<div class="line"><span class="lineno"> 7446</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_function" href="model__brush_8c.html#a8de8e2031a8fb80452d8a3b9fedc159c">Mod_BSP_FindBoxClusters</a>;</div>
<div class="line"><span class="lineno"> 7447</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_function" href="model__brush_8c.html#ab712c9abe50433fe90a45ad8df6f8378">Mod_Q3BSP_LightPoint</a>;</div>
<div class="line"><span class="lineno"> 7448</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8d0042214ff0c446bc69f675e65aadb2">FindNonSolidLocation</a> = <a class="code hl_function" href="model__brush_8c.html#a996f873f75319d130c4c2f689629affd">Mod_BSP_FindNonSolidLocation</a>;</div>
<div class="line"><span class="lineno"> 7449</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7450</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a35481106e3500413e8a0304780449719">RoundUpToHullSize</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7451</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">PointInLeaf</a> = <a class="code hl_function" href="model__brush_8c.html#abb086140977095e71ec940fd8f3fc943">Mod_BSP_PointInLeaf</a>;</div>
<div class="line"><span class="lineno"> 7452</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ad54aab83aca1c9ec564054f4019609">Draw</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a904d7d0ff6adf58e411c3ffb80ca27c4">R_Mod_Draw</a>;</div>
<div class="line"><span class="lineno"> 7453</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0c0d94b3f0503536ab0e6c0056d97df2">DrawDepth</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aae83c1e7beee72d6cbfc03a0f0bd11bf">R_Mod_DrawDepth</a>;</div>
<div class="line"><span class="lineno"> 7454</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a7b670a69b5082781733cc0b9ebdc307a">DrawDebug</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a6e528b203b784986a5b5bbf82ac387ff">R_Mod_DrawDebug</a>;</div>
<div class="line"><span class="lineno"> 7455</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5a5b038598ccef5f670521d169edb025">DrawPrepass</a> = <a class="code hl_function" href="gl__rsurf_8c.html#ad8145eb3a0203496ea94da9834e098f0">R_Mod_DrawPrepass</a>;</div>
<div class="line"><span class="lineno"> 7456</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a7a0081b6e77854bd75ae206afba89148">GetLightInfo</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a60a24c695566f11f38f592dc83d76869">R_Mod_GetLightInfo</a>;</div>
<div class="line"><span class="lineno"> 7457</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aaba719ee8f91d844c266a62e4661aad9">CompileShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a2c9f5aad0d1f1cbd7abefaf946c38fc7">R_Mod_CompileShadowMap</a>;</div>
<div class="line"><span class="lineno"> 7458</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a71121e7ef28a949af258f4611ce21e9c">DrawShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aa4222887ff91555860ca9ab52531861c">R_Mod_DrawShadowMap</a>;</div>
<div class="line"><span class="lineno"> 7459</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af206eaa0040c5a5e297fa1c0191b22dd">DrawLight</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a89a46aef51c1b493184fcc71ee028236">R_Mod_DrawLight</a>;</div>
<div class="line"><span class="lineno"> 7460</span> </div>
<div class="line"><span class="lineno"> 7461</span>    <a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)header;</div>
<div class="line"><span class="lineno"> 7462</span> </div>
<div class="line"><span class="lineno"> 7463</span>    <span class="comment">// swap all the lumps</span></div>
<div class="line"><span class="lineno"> 7464</span>    header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#a84048da0849db6f2bf12e418155b4f6f">ident</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#a84048da0849db6f2bf12e418155b4f6f">ident</a>);</div>
<div class="line"><span class="lineno"> 7465</span>    header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#ac85c96ae7a0e87a9546852029c6e61fc">version</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#ac85c96ae7a0e87a9546852029c6e61fc">version</a>);</div>
<div class="line"><span class="lineno"> 7466</span>    lumps = (header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#ac85c96ae7a0e87a9546852029c6e61fc">version</a> == <a class="code hl_define" href="model__q3bsp_8h.html#a87d5d3f72d94456869a6babe9ddd8f6e">Q3BSPVERSION_LIVE</a>) ? <a class="code hl_define" href="model__q3bsp_8h.html#a5794b466b36d5c0779d5a0d032a5bb2b">Q3HEADER_LUMPS_LIVE</a> : <a class="code hl_define" href="model__q3bsp_8h.html#affb09fc4a4e8d15345e07ba283f638fc">Q3HEADER_LUMPS</a>;</div>
<div class="line"><span class="lineno"> 7467</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; lumps;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7468</span>    {</div>
<div class="line"><span class="lineno"> 7469</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = (header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structlump__t.html#a8507a3815e7f17c0a4c6caac5f5655ac">fileofs</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structlump__t.html#a8507a3815e7f17c0a4c6caac5f5655ac">fileofs</a>));</div>
<div class="line"><span class="lineno"> 7470</span>        <span class="keywordflow">if</span>((<span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a> &lt; (<span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>)</div>
<div class="line"><span class="lineno"> 7471</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_Load: %s has a lump that starts outside the file!&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7472</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> += (header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structlump__t.html#aa8725ca1f4de1d11f2b1a95d4610d4a6">filelen</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structlump__t.html#aa8725ca1f4de1d11f2b1a95d4610d4a6">filelen</a>));</div>
<div class="line"><span class="lineno"> 7473</span>        <span class="keywordflow">if</span>((<span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a> &lt; (<span class="keywordtype">char</span> *) <a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>)</div>
<div class="line"><span class="lineno"> 7474</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_Load: %s has a lump that ends outside the file!&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7475</span>    }</div>
<div class="line"><span class="lineno"> 7476</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 7477</span><span class="comment">     * NO, do NOT clear them!</span></div>
<div class="line"><span class="lineno"> 7478</span><span class="comment">     * they contain actual data referenced by other stuff.</span></div>
<div class="line"><span class="lineno"> 7479</span><span class="comment">     * Instead, before using the advertisements lump, check header-&gt;versio</span></div>
<div class="line"><span class="lineno"> 7480</span><span class="comment">     * again!</span></div>
<div class="line"><span class="lineno"> 7481</span><span class="comment">     * Sorry, but otherwise it breaks memory of the first lump.</span></div>
<div class="line"><span class="lineno"> 7482</span><span class="comment">    for (i = lumps;i &lt; Q3HEADER_LUMPS_MAX;i++)</span></div>
<div class="line"><span class="lineno"> 7483</span><span class="comment">    {</span></div>
<div class="line"><span class="lineno"> 7484</span><span class="comment">        header-&gt;lumps[i].fileofs = 0;</span></div>
<div class="line"><span class="lineno"> 7485</span><span class="comment">        header-&gt;lumps[i].filelen = 0;</span></div>
<div class="line"><span class="lineno"> 7486</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno"> 7487</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 7488</span> </div>
<div class="line"><span class="lineno"> 7489</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#acd2c4e7f74ff36091f55d3ae17e267ff">qw_md4sum</a> = 0;</div>
<div class="line"><span class="lineno"> 7490</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a662be3860db75e6940ad5fb54a5c0b53">qw_md4sum2</a> = 0;</div>
<div class="line"><span class="lineno"> 7491</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; lumps;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7492</span>    {</div>
<div class="line"><span class="lineno"> 7493</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q3bsp_8h.html#a9b5ad0acdbf58d3e7ca623aec169769e">Q3LUMP_ENTITIES</a>)</div>
<div class="line"><span class="lineno"> 7494</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 7495</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#acd2c4e7f74ff36091f55d3ae17e267ff">qw_md4sum</a> ^= <a class="code hl_function" href="common_8h.html#a33218a7cf8dede33924c935a08801b6a">Com_BlockChecksum</a>(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structlump__t.html#a8507a3815e7f17c0a4c6caac5f5655ac">fileofs</a>, header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structlump__t.html#aa8725ca1f4de1d11f2b1a95d4610d4a6">filelen</a>);</div>
<div class="line"><span class="lineno"> 7496</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q3bsp_8h.html#a77177079e3e747281f6b994a4aa8dc45">Q3LUMP_PVS</a> || <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q3bsp_8h.html#ac4a81f8f96a63da2dea0ea781dc31866">Q3LUMP_LEAFS</a> || <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_define" href="model__q3bsp_8h.html#a7b13cab13f9226b90db17942f8d9cee4">Q3LUMP_NODES</a>)</div>
<div class="line"><span class="lineno"> 7497</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 7498</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a662be3860db75e6940ad5fb54a5c0b53">qw_md4sum2</a> ^= <a class="code hl_function" href="common_8h.html#a33218a7cf8dede33924c935a08801b6a">Com_BlockChecksum</a>(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structlump__t.html#a8507a3815e7f17c0a4c6caac5f5655ac">fileofs</a>, header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structlump__t.html#aa8725ca1f4de1d11f2b1a95d4610d4a6">filelen</a>);</div>
<div class="line"><span class="lineno"> 7499</span> </div>
<div class="line"><span class="lineno"> 7500</span>        <span class="comment">// all this checksumming can take a while, so let&#39;s send keepalives here too</span></div>
<div class="line"><span class="lineno"> 7501</span>        <a class="code hl_function" href="cl__parse_8c.html#ac6ab3e260289abd4d92f1e4974190626">CL_KeepaliveMessage</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 7502</span>    }</div>
<div class="line"><span class="lineno"> 7503</span> </div>
<div class="line"><span class="lineno"> 7504</span>    <span class="comment">// allocate a texture pool if we need it</span></div>
<div class="line"><span class="lineno"> 7505</span>    <span class="keywordflow">if</span> (mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 7506</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>();</div>
<div class="line"><span class="lineno"> 7507</span> </div>
<div class="line"><span class="lineno"> 7508</span>    <a class="code hl_function" href="model__brush_8c.html#a2af27ca8c226222ee31da0410907caa7">Mod_Q3BSP_LoadEntities</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a9b5ad0acdbf58d3e7ca623aec169769e">Q3LUMP_ENTITIES</a>]);</div>
<div class="line"><span class="lineno"> 7509</span>    <a class="code hl_function" href="model__brush_8c.html#a18603beffef17454bcd1d25afa9057a5">Mod_Q3BSP_LoadTextures</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a34228f91f6e270f03d72c75847e07338">Q3LUMP_TEXTURES</a>]);</div>
<div class="line"><span class="lineno"> 7510</span>    <a class="code hl_function" href="model__brush_8c.html#a0896333bcf421f8beda0f4dba6ddcf33">Mod_Q3BSP_LoadPlanes</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a4d632cde7ce85d6bd073cf6a22346ec2">Q3LUMP_PLANES</a>]);</div>
<div class="line"><span class="lineno"> 7511</span>    <span class="keywordflow">if</span> (header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#ac85c96ae7a0e87a9546852029c6e61fc">version</a> == <a class="code hl_define" href="model__q3bsp_8h.html#a60f1802e42cb9ab26b7d528c9eb667bc">Q3BSPVERSION_IG</a>)</div>
<div class="line"><span class="lineno"> 7512</span>        <a class="code hl_function" href="model__brush_8c.html#a4af62a531504aa0d87b57359cd3dad0a">Mod_Q3BSP_LoadBrushSides_IG</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a1605b931b0ac32c8a22413808b43b70d">Q3LUMP_BRUSHSIDES</a>]);</div>
<div class="line"><span class="lineno"> 7513</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 7514</span>        <a class="code hl_function" href="model__brush_8c.html#a61a6b290f6c9a1c09c2b773e86d16c9d">Mod_Q3BSP_LoadBrushSides</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a1605b931b0ac32c8a22413808b43b70d">Q3LUMP_BRUSHSIDES</a>]);</div>
<div class="line"><span class="lineno"> 7515</span>    <a class="code hl_function" href="model__brush_8c.html#a3b4d1c7621fc3f1e86cca7b233609f6e">Mod_Q3BSP_LoadBrushes</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#abdda82f74cba0552b9afedb3548aa92b">Q3LUMP_BRUSHES</a>]);</div>
<div class="line"><span class="lineno"> 7516</span>    <a class="code hl_function" href="model__brush_8c.html#a618b3bd072fda7c5ba426244087fc1cd">Mod_Q3BSP_LoadEffects</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#ae57f7a6d8d45bfe1614e24e5e3da7f52">Q3LUMP_EFFECTS</a>]);</div>
<div class="line"><span class="lineno"> 7517</span>    <a class="code hl_function" href="model__brush_8c.html#a73a642a69f83b2e8360c8bdff7f61d0d">Mod_Q3BSP_LoadVertices</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#abc2fc4db6e3b7838058e4ddd4696b29a">Q3LUMP_VERTICES</a>]);</div>
<div class="line"><span class="lineno"> 7518</span>    <a class="code hl_function" href="model__brush_8c.html#a4c44e0776441d9a2d32d555dfc4b50f2">Mod_Q3BSP_LoadTriangles</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a56c8ce7704fd39aba174a81e78f6a6bb">Q3LUMP_TRIANGLES</a>]);</div>
<div class="line"><span class="lineno"> 7519</span>    <a class="code hl_function" href="model__brush_8c.html#a0f37d4bfb6cdb3a1754fe5022b052340">Mod_Q3BSP_LoadLightmaps</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#ad75c69a51f5154568ce36a370d6ac251">Q3LUMP_LIGHTMAPS</a>], &amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a844c6493244d0e78f8ed402fbeedead2">Q3LUMP_FACES</a>]);</div>
<div class="line"><span class="lineno"> 7520</span>    <a class="code hl_function" href="model__brush_8c.html#a8bcf787502d5ce8422a4f3e0a2c95408">Mod_Q3BSP_LoadFaces</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a844c6493244d0e78f8ed402fbeedead2">Q3LUMP_FACES</a>]);</div>
<div class="line"><span class="lineno"> 7521</span>    <a class="code hl_function" href="model__brush_8c.html#a3b7563b8c8bbb797b3e940ce1c99029f">Mod_Q3BSP_LoadModels</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a613376620554417cb5287b905aac0baf">Q3LUMP_MODELS</a>]);</div>
<div class="line"><span class="lineno"> 7522</span>    <a class="code hl_function" href="model__brush_8c.html#a2fb01dcaa64bc83236d3957e540204d8">Mod_Q3BSP_LoadLeafBrushes</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#af98f6fbdef39376c8a1dbad01a8a1a11">Q3LUMP_LEAFBRUSHES</a>]);</div>
<div class="line"><span class="lineno"> 7523</span>    <a class="code hl_function" href="model__brush_8c.html#a86378a86e0fe2abe704908fb0e747d38">Mod_Q3BSP_LoadLeafFaces</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a7f9419213070d3e61ddbaf832246d2cf">Q3LUMP_LEAFFACES</a>]);</div>
<div class="line"><span class="lineno"> 7524</span>    <a class="code hl_function" href="model__brush_8c.html#a055eb658f7b1d845eecf32da9b6afbe8">Mod_Q3BSP_LoadLeafs</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#ac4a81f8f96a63da2dea0ea781dc31866">Q3LUMP_LEAFS</a>]);</div>
<div class="line"><span class="lineno"> 7525</span>    <a class="code hl_function" href="model__brush_8c.html#a8d33ad8fd12cd363c72eca18b1fe46d3">Mod_Q3BSP_LoadNodes</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a7b13cab13f9226b90db17942f8d9cee4">Q3LUMP_NODES</a>]);</div>
<div class="line"><span class="lineno"> 7526</span>    <a class="code hl_function" href="model__brush_8c.html#a0b721835adc7530b2cc96fa3f6256136">Mod_Q3BSP_LoadLightGrid</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a40dd75a3cc6ae476e39015efea2a3594">Q3LUMP_LIGHTGRID</a>]);</div>
<div class="line"><span class="lineno"> 7527</span>    <a class="code hl_function" href="model__brush_8c.html#aa4875cd66fbd80df1e9ced96292cc24a">Mod_Q3BSP_LoadPVS</a>(&amp;header-&gt;<a class="code hl_variable" href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">lumps</a>[<a class="code hl_define" href="model__q3bsp_8h.html#a77177079e3e747281f6b994a4aa8dc45">Q3LUMP_PVS</a>]);</div>
<div class="line"><span class="lineno"> 7528</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#acb069486ffcfd3586af8f9cd16678c13">num_models</a>;</div>
<div class="line"><span class="lineno"> 7529</span> </div>
<div class="line"><span class="lineno"> 7530</span>    <span class="comment">// the MakePortals code works fine on the q3bsp data as well</span></div>
<div class="line"><span class="lineno"> 7531</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a391c56aad79c870bd52702ab037bf5f3">mod_bsp_portalize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 7532</span>        <a class="code hl_function" href="model__brush_8c.html#af063f8a4f957bf32a9c35ded26d58726">Mod_BSP_MakePortals</a>();</div>
<div class="line"><span class="lineno"> 7533</span> </div>
<div class="line"><span class="lineno"> 7534</span>    <span class="comment">// FIXME: shader alpha should replace r_wateralpha support in q3bsp</span></div>
<div class="line"><span class="lineno"> 7535</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a345af4033a9c6f8123afaa8b632e1a54">supportwateralpha</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7536</span> </div>
<div class="line"><span class="lineno"> 7537</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a> = 0;</div>
<div class="line"><span class="lineno"> 7538</span>    <a class="code hl_function" href="model__brush_8c.html#a08a93417d64a0a1bb347ec8c213552e3">Mod_Q3BSP_RecursiveFindNumLeafs</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a>);</div>
<div class="line"><span class="lineno"> 7539</span> </div>
<div class="line"><span class="lineno"> 7540</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>)</div>
<div class="line"><span class="lineno"> 7541</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a> = (<a class="code hl_struct" href="structmodel__t.html">model_t</a> **)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmodel__t.html">model_t</a> *));</div>
<div class="line"><span class="lineno"> 7542</span> </div>
<div class="line"><span class="lineno"> 7543</span>    mod = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 7544</span>    mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a37ed77c0d67434b15280684a8ba42814">modelsurfaces_sorted</a> = (<span class="keywordtype">int</span>*)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> * <span class="keyword">sizeof</span>(*mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a37ed77c0d67434b15280684a8ba42814">modelsurfaces_sorted</a>));</div>
<div class="line"><span class="lineno"> 7545</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12ae1e03d70e00f9b3ba4a11a2314e2e">numsubmodels</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7546</span>    {</div>
<div class="line"><span class="lineno"> 7547</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 7548</span>        {</div>
<div class="line"><span class="lineno"> 7549</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[10];</div>
<div class="line"><span class="lineno"> 7550</span>            <span class="comment">// duplicate the basic information</span></div>
<div class="line"><span class="lineno"> 7551</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="stringliteral">&quot;*%i&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 7552</span>            mod = <a class="code hl_function" href="model__shared_8c.html#a9b0e709a676fe0bd42548fcf0a45042e">Mod_FindName</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7553</span>            <span class="comment">// copy the base model to this one</span></div>
<div class="line"><span class="lineno"> 7554</span>            *mod = *<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 7555</span>            <span class="comment">// rename the clone back to its proper name</span></div>
<div class="line"><span class="lineno"> 7556</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>));</div>
<div class="line"><span class="lineno"> 7557</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac4d9fbdd0eee8dd6822be206eb245cc3">parentmodel</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 7558</span>            <span class="comment">// textures and memory belong to the main model</span></div>
<div class="line"><span class="lineno"> 7559</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7560</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7561</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7562</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7563</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7564</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7565</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7566</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7567</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7568</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7569</span>        }</div>
<div class="line"><span class="lineno"> 7570</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a1bb35c00721be56c390df0b877791cac">submodel</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 7571</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>)</div>
<div class="line"><span class="lineno"> 7572</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a462aadc65aeffe8d8e64208e0d841f39">submodels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = mod;</div>
<div class="line"><span class="lineno"> 7573</span> </div>
<div class="line"><span class="lineno"> 7574</span>        <span class="comment">// make the model surface list (used by shadowing/lighting)</span></div>
<div class="line"><span class="lineno"> 7575</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structq3dmodel__t.html#a68779245339b80a8a433e9ea48d46969">firstface</a>;</div>
<div class="line"><span class="lineno"> 7576</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structq3dmodel__t.html#a68779245339b80a8a433e9ea48d46969">firstface</a> + mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structq3dmodel__t.html#a9bf1ef95bcc16839004bada1f48872d0">numfaces</a>;</div>
<div class="line"><span class="lineno"> 7577</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2472c8c7fada35ea614e42dba474ae52">firstmodelbrush</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structq3dmodel__t.html#ae3cb2a1042bfa1d2cf576272db9177e1">firstbrush</a>;</div>
<div class="line"><span class="lineno"> 7578</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a93410bd37b5bf2b8c370201850806078">nummodelbrushes</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structq3dmodel__t.html#a93f11b2b7b2563eb5632ba53a9b6ec1c">numbrushes</a>;</div>
<div class="line"><span class="lineno"> 7579</span> </div>
<div class="line"><span class="lineno"> 7580</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structq3dmodel__t.html#ab33dace6aad87c18d8f4a56a4a4e23af">mins</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>);</div>
<div class="line"><span class="lineno"> 7581</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structq3dmodel__t.html#a7113e911350ccf843c8bac8e5c90b2c1">maxs</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>);</div>
<div class="line"><span class="lineno"> 7582</span>        <span class="comment">// enlarge the bounding box to enclose all geometry of this model,</span></div>
<div class="line"><span class="lineno"> 7583</span>        <span class="comment">// because q3map2 sometimes lies (mostly to affect the lightgrid),</span></div>
<div class="line"><span class="lineno"> 7584</span>        <span class="comment">// which can in turn mess up the farclip (as well as culling when</span></div>
<div class="line"><span class="lineno"> 7585</span>        <span class="comment">// outside the level - an unimportant concern)</span></div>
<div class="line"><span class="lineno"> 7586</span> </div>
<div class="line"><span class="lineno"> 7587</span>        <span class="comment">//printf(&quot;Editing model %d... BEFORE re-bounding: %f %f %f - %f %f %f\n&quot;, i, mod-&gt;normalmins[0], mod-&gt;normalmins[1], mod-&gt;normalmins[2], mod-&gt;normalmaxs[0], mod-&gt;normalmaxs[1], mod-&gt;normalmaxs[2]);</span></div>
<div class="line"><span class="lineno"> 7588</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4f2bc211fd845ff46f40e2a8c098b7ad">submodelsurfaces_start</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3cf3f78e305583268585ef7bde7aaa16">submodelsurfaces_end</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 7589</span>        {</div>
<div class="line"><span class="lineno"> 7590</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 7591</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 7592</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 7593</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices)</div>
<div class="line"><span class="lineno"> 7594</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 7595</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> += 3)</div>
<div class="line"><span class="lineno"> 7596</span>            {</div>
<div class="line"><span class="lineno"> 7597</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0]);</div>
<div class="line"><span class="lineno"> 7598</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1]);</div>
<div class="line"><span class="lineno"> 7599</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2]);</div>
<div class="line"><span class="lineno"> 7600</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0]);</div>
<div class="line"><span class="lineno"> 7601</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1]);</div>
<div class="line"><span class="lineno"> 7602</span>                mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2]);</div>
<div class="line"><span class="lineno"> 7603</span>            }</div>
<div class="line"><span class="lineno"> 7604</span>        }</div>
<div class="line"><span class="lineno"> 7605</span>        <span class="comment">//printf(&quot;Editing model %d... AFTER re-bounding: %f %f %f - %f %f %f\n&quot;, i, mod-&gt;normalmins[0], mod-&gt;normalmins[1], mod-&gt;normalmins[2], mod-&gt;normalmaxs[0], mod-&gt;normalmaxs[1], mod-&gt;normalmaxs[2]);</span></div>
<div class="line"><span class="lineno"> 7606</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[0]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[0]));</div>
<div class="line"><span class="lineno"> 7607</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[1]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[1]));</div>
<div class="line"><span class="lineno"> 7608</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2]));</div>
<div class="line"><span class="lineno"> 7609</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0]+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1]+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[2]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[2]);</div>
<div class="line"><span class="lineno"> 7610</span>        yawradius = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[0]+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1]*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">corner</a>[1]);</div>
<div class="line"><span class="lineno"> 7611</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[1] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>[2] = -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 7612</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[1] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 7613</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[1] = yawradius;</div>
<div class="line"><span class="lineno"> 7614</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[0] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[1] = -yawradius;</div>
<div class="line"><span class="lineno"> 7615</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>[2] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>[2];</div>
<div class="line"><span class="lineno"> 7616</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>[2] = mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>[2];</div>
<div class="line"><span class="lineno"> 7617</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4bf40349d814f181d66602ed812c7903">radius</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 7618</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0629c0fdc502c92975be054a2b6dd9e6">radius2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelradius</a>;</div>
<div class="line"><span class="lineno"> 7619</span> </div>
<div class="line"><span class="lineno"> 7620</span>        <a class="code hl_function" href="model__shared_8c.html#af5bb8e6dccd0096a95cca1db54d8cdc7">Mod_SetDrawSkyAndWater</a>(mod);</div>
<div class="line"><span class="lineno"> 7621</span>        <a class="code hl_function" href="model__brush_8c.html#ac294c2bc06a02f8114eed73c8f71795f">Mod_MakeCollisionBIH</a>(mod, <span class="keyword">false</span>, &amp;mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a39276ac5ef4841c0e5af485ec14e017c">collision_bih</a>);</div>
<div class="line"><span class="lineno"> 7622</span>        <a class="code hl_function" href="model__brush_8c.html#ac294c2bc06a02f8114eed73c8f71795f">Mod_MakeCollisionBIH</a>(mod, <span class="keyword">true</span>, &amp;mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a9682062b0e84b91a8768dde10c4ee688">render_bih</a>);</div>
<div class="line"><span class="lineno"> 7623</span> </div>
<div class="line"><span class="lineno"> 7624</span>        <span class="comment">// generate VBOs and other shared data before cloning submodels</span></div>
<div class="line"><span class="lineno"> 7625</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 0)</div>
<div class="line"><span class="lineno"> 7626</span>            <a class="code hl_function" href="model__shared_8c.html#a7c7a5f1ce32faf220d25380eb24bd1ad">Mod_BuildVBOs</a>();</div>
<div class="line"><span class="lineno"> 7627</span>    }</div>
<div class="line"><span class="lineno"> 7628</span>    mod = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>;</div>
<div class="line"><span class="lineno"> 7629</span> </div>
<div class="line"><span class="lineno"> 7630</span>    <span class="comment">// make the model surface list (used by shadowing/lighting)</span></div>
<div class="line"><span class="lineno"> 7631</span>    <a class="code hl_function" href="model__shared_8c.html#aa8c710db4d67bb0e0759c01235c827e7">Mod_MakeSortedSurfaces</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>);</div>
<div class="line"><span class="lineno"> 7632</span> </div>
<div class="line"><span class="lineno"> 7633</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a9260109f82a8e564ade6ada3c0488831">mod_q3bsp_sRGBlightmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 7634</span>    {</div>
<div class="line"><span class="lineno"> 7635</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="vid_8h.html#a05b59de47bf13f839c78d891723d31ba">vid_sRGB_fallback</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><span class="lineno"> 7636</span>        {</div>
<div class="line"><span class="lineno"> 7637</span>            <span class="comment">// actually we do in sRGB fallback with sRGB lightmaps: Image_sRGBFloatFromLinear_Lightmap(Image_LinearFloatFromsRGBFloat(x))</span></div>
<div class="line"><span class="lineno"> 7638</span>            <span class="comment">// neutral point is at Image_sRGBFloatFromLinearFloat(0.5)</span></div>
<div class="line"><span class="lineno"> 7639</span>            <span class="comment">// so we need to map Image_sRGBFloatFromLinearFloat(0.5) to 0.5</span></div>
<div class="line"><span class="lineno"> 7640</span>            <span class="comment">// factor is 0.5 / Image_sRGBFloatFromLinearFloat(0.5)</span></div>
<div class="line"><span class="lineno"> 7641</span>            <span class="comment">//loadmodel-&gt;lightmapscale *= 0.679942f; // fixes neutral level</span></div>
<div class="line"><span class="lineno"> 7642</span>        }</div>
<div class="line"><span class="lineno"> 7643</span>        <span class="keywordflow">else</span> <span class="comment">// if this is NOT set, regular rendering looks right by this requirement anyway</span></div>
<div class="line"><span class="lineno"> 7644</span>        {</div>
<div class="line"><span class="lineno"> 7645</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 7646</span><span class="comment">            // we want color 1 to do the same as without sRGB</span></div>
<div class="line"><span class="lineno"> 7647</span><span class="comment">            // so, we want to map 1 to Image_LinearFloatFromsRGBFloat(2) instead of to 2</span></div>
<div class="line"><span class="lineno"> 7648</span><span class="comment">            loadmodel-&gt;lightmapscale *= 2.476923f; // fixes max level</span></div>
<div class="line"><span class="lineno"> 7649</span><span class="comment">            */</span></div>
<div class="line"><span class="lineno"> 7650</span> </div>
<div class="line"><span class="lineno"> 7651</span>            <span class="comment">// neutral level 0.5 gets uploaded as sRGB and becomes Image_LinearFloatFromsRGBFloat(0.5)</span></div>
<div class="line"><span class="lineno"> 7652</span>            <span class="comment">// we need to undo that</span></div>
<div class="line"><span class="lineno"> 7653</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a77a8ed6f65207e003b1675a05b1bfc5e">lightmapscale</a> *= 2.336f; <span class="comment">// fixes neutral level</span></div>
<div class="line"><span class="lineno"> 7654</span>        }</div>
<div class="line"><span class="lineno"> 7655</span>    }</div>
<div class="line"><span class="lineno"> 7656</span> </div>
<div class="line"><span class="lineno"> 7657</span>    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Stats for q3bsp model \&quot;%s\&quot;: %i faces, %i nodes, %i leafs, %i clusters, %i clusterportals, mesh: %i vertices, %i triangles, %i surfaces\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a80d9915c394c4ff052e777804cc6da63">num_portals</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>);</div>
<div class="line"><span class="lineno"> 7658</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_a055eb658f7b1d845eecf32da9b6afbe8"><div class="ttname"><a href="model__brush_8c.html#a055eb658f7b1d845eecf32da9b6afbe8">Mod_Q3BSP_LoadLeafs</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadLeafs(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06324">model_brush.c:6324</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a0896333bcf421f8beda0f4dba6ddcf33"><div class="ttname"><a href="model__brush_8c.html#a0896333bcf421f8beda0f4dba6ddcf33">Mod_Q3BSP_LoadPlanes</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadPlanes(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05222">model_brush.c:5222</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a08a93417d64a0a1bb347ec8c213552e3"><div class="ttname"><a href="model__brush_8c.html#a08a93417d64a0a1bb347ec8c213552e3">Mod_Q3BSP_RecursiveFindNumLeafs</a></div><div class="ttdeci">static void Mod_Q3BSP_RecursiveFindNumLeafs(mnode_t *node)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07392">model_brush.c:7392</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a0b721835adc7530b2cc96fa3f6256136"><div class="ttname"><a href="model__brush_8c.html#a0b721835adc7530b2cc96fa3f6256136">Mod_Q3BSP_LoadLightGrid</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadLightGrid(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06419">model_brush.c:6419</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a0f37d4bfb6cdb3a1754fe5022b052340"><div class="ttname"><a href="model__brush_8c.html#a0f37d4bfb6cdb3a1754fe5022b052340">Mod_Q3BSP_LoadLightmaps</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadLightmaps(lump_t *l, lump_t *faceslump)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05493">model_brush.c:5493</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a17954d2d48cfe089ee439ae63d8609c8"><div class="ttname"><a href="model__brush_8c.html#a17954d2d48cfe089ee439ae63d8609c8">Mod_Q3BSP_SuperContentsFromNativeContents</a></div><div class="ttdeci">static int Mod_Q3BSP_SuperContentsFromNativeContents(int nativecontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07332">model_brush.c:7332</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a18603beffef17454bcd1d25afa9057a5"><div class="ttname"><a href="model__brush_8c.html#a18603beffef17454bcd1d25afa9057a5">Mod_Q3BSP_LoadTextures</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadTextures(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05195">model_brush.c:5195</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a2af27ca8c226222ee31da0410907caa7"><div class="ttname"><a href="model__brush_8c.html#a2af27ca8c226222ee31da0410907caa7">Mod_Q3BSP_LoadEntities</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadEntities(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05128">model_brush.c:5128</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a2fb01dcaa64bc83236d3957e540204d8"><div class="ttname"><a href="model__brush_8c.html#a2fb01dcaa64bc83236d3957e540204d8">Mod_Q3BSP_LoadLeafBrushes</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadLeafBrushes(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06276">model_brush.c:6276</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a3b4d1c7621fc3f1e86cca7b233609f6e"><div class="ttname"><a href="model__brush_8c.html#a3b4d1c7621fc3f1e86cca7b233609f6e">Mod_Q3BSP_LoadBrushes</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadBrushes(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05303">model_brush.c:5303</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a3b7563b8c8bbb797b3e940ce1c99029f"><div class="ttname"><a href="model__brush_8c.html#a3b7563b8c8bbb797b3e940ce1c99029f">Mod_Q3BSP_LoadModels</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadModels(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06239">model_brush.c:6239</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a4af62a531504aa0d87b57359cd3dad0a"><div class="ttname"><a href="model__brush_8c.html#a4af62a531504aa0d87b57359cd3dad0a">Mod_Q3BSP_LoadBrushSides_IG</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadBrushSides_IG(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05275">model_brush.c:5275</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a4c44e0776441d9a2d32d555dfc4b50f2"><div class="ttname"><a href="model__brush_8c.html#a4c44e0776441d9a2d32d555dfc4b50f2">Mod_Q3BSP_LoadTriangles</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadTriangles(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05459">model_brush.c:5459</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a5a62b395e385b7ce9d0b6ff6e9a58a53"><div class="ttname"><a href="model__brush_8c.html#a5a62b395e385b7ce9d0b6ff6e9a58a53">Mod_Q3BSP_NativeContentsFromSuperContents</a></div><div class="ttdeci">static int Mod_Q3BSP_NativeContentsFromSuperContents(int supercontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07362">model_brush.c:7362</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a618b3bd072fda7c5ba426244087fc1cd"><div class="ttname"><a href="model__brush_8c.html#a618b3bd072fda7c5ba426244087fc1cd">Mod_Q3BSP_LoadEffects</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadEffects(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05362">model_brush.c:5362</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a61a6b290f6c9a1c09c2b773e86d16c9d"><div class="ttname"><a href="model__brush_8c.html#a61a6b290f6c9a1c09c2b773e86d16c9d">Mod_Q3BSP_LoadBrushSides</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadBrushSides(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05247">model_brush.c:5247</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a73a642a69f83b2e8360c8bdff7f61d0d"><div class="ttname"><a href="model__brush_8c.html#a73a642a69f83b2e8360c8bdff7f61d0d">Mod_Q3BSP_LoadVertices</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadVertices(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05391">model_brush.c:5391</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a86378a86e0fe2abe704908fb0e747d38"><div class="ttname"><a href="model__brush_8c.html#a86378a86e0fe2abe704908fb0e747d38">Mod_Q3BSP_LoadLeafFaces</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadLeafFaces(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06300">model_brush.c:6300</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a8bcf787502d5ce8422a4f3e0a2c95408"><div class="ttname"><a href="model__brush_8c.html#a8bcf787502d5ce8422a4f3e0a2c95408">Mod_Q3BSP_LoadFaces</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadFaces(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05783">model_brush.c:5783</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a8d33ad8fd12cd363c72eca18b1fe46d3"><div class="ttname"><a href="model__brush_8c.html#a8d33ad8fd12cd363c72eca18b1fe46d3">Mod_Q3BSP_LoadNodes</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadNodes(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06366">model_brush.c:6366</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aa4875cd66fbd80df1e9ced96292cc24a"><div class="ttname"><a href="model__brush_8c.html#aa4875cd66fbd80df1e9ced96292cc24a">Mod_Q3BSP_LoadPVS</a></div><div class="ttdeci">static void Mod_Q3BSP_LoadPVS(lump_t *l)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06581">model_brush.c:6581</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_ab712c9abe50433fe90a45ad8df6f8378"><div class="ttname"><a href="model__brush_8c.html#ab712c9abe50433fe90a45ad8df6f8378">Mod_Q3BSP_LightPoint</a></div><div class="ttdeci">static void Mod_Q3BSP_LightPoint(model_t *model, const vec3_t p, vec3_t ambientcolor, vec3_t diffusecolor, vec3_t diffusenormal)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06619">model_brush.c:6619</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a1605b931b0ac32c8a22413808b43b70d"><div class="ttname"><a href="model__q3bsp_8h.html#a1605b931b0ac32c8a22413808b43b70d">Q3LUMP_BRUSHSIDES</a></div><div class="ttdeci">#define Q3LUMP_BRUSHSIDES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00024">model_q3bsp.h:24</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a34228f91f6e270f03d72c75847e07338"><div class="ttname"><a href="model__q3bsp_8h.html#a34228f91f6e270f03d72c75847e07338">Q3LUMP_TEXTURES</a></div><div class="ttdeci">#define Q3LUMP_TEXTURES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00016">model_q3bsp.h:16</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a40dd75a3cc6ae476e39015efea2a3594"><div class="ttname"><a href="model__q3bsp_8h.html#a40dd75a3cc6ae476e39015efea2a3594">Q3LUMP_LIGHTGRID</a></div><div class="ttdeci">#define Q3LUMP_LIGHTGRID</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00030">model_q3bsp.h:30</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a4d632cde7ce85d6bd073cf6a22346ec2"><div class="ttname"><a href="model__q3bsp_8h.html#a4d632cde7ce85d6bd073cf6a22346ec2">Q3LUMP_PLANES</a></div><div class="ttdeci">#define Q3LUMP_PLANES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00017">model_q3bsp.h:17</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a56c8ce7704fd39aba174a81e78f6a6bb"><div class="ttname"><a href="model__q3bsp_8h.html#a56c8ce7704fd39aba174a81e78f6a6bb">Q3LUMP_TRIANGLES</a></div><div class="ttdeci">#define Q3LUMP_TRIANGLES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00026">model_q3bsp.h:26</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a5794b466b36d5c0779d5a0d032a5bb2b"><div class="ttname"><a href="model__q3bsp_8h.html#a5794b466b36d5c0779d5a0d032a5bb2b">Q3HEADER_LUMPS_LIVE</a></div><div class="ttdeci">#define Q3HEADER_LUMPS_LIVE</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00034">model_q3bsp.h:34</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a613376620554417cb5287b905aac0baf"><div class="ttname"><a href="model__q3bsp_8h.html#a613376620554417cb5287b905aac0baf">Q3LUMP_MODELS</a></div><div class="ttdeci">#define Q3LUMP_MODELS</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00022">model_q3bsp.h:22</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a77177079e3e747281f6b994a4aa8dc45"><div class="ttname"><a href="model__q3bsp_8h.html#a77177079e3e747281f6b994a4aa8dc45">Q3LUMP_PVS</a></div><div class="ttdeci">#define Q3LUMP_PVS</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00031">model_q3bsp.h:31</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a7b13cab13f9226b90db17942f8d9cee4"><div class="ttname"><a href="model__q3bsp_8h.html#a7b13cab13f9226b90db17942f8d9cee4">Q3LUMP_NODES</a></div><div class="ttdeci">#define Q3LUMP_NODES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00018">model_q3bsp.h:18</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a7f9419213070d3e61ddbaf832246d2cf"><div class="ttname"><a href="model__q3bsp_8h.html#a7f9419213070d3e61ddbaf832246d2cf">Q3LUMP_LEAFFACES</a></div><div class="ttdeci">#define Q3LUMP_LEAFFACES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00020">model_q3bsp.h:20</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a844c6493244d0e78f8ed402fbeedead2"><div class="ttname"><a href="model__q3bsp_8h.html#a844c6493244d0e78f8ed402fbeedead2">Q3LUMP_FACES</a></div><div class="ttdeci">#define Q3LUMP_FACES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00028">model_q3bsp.h:28</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a9b5ad0acdbf58d3e7ca623aec169769e"><div class="ttname"><a href="model__q3bsp_8h.html#a9b5ad0acdbf58d3e7ca623aec169769e">Q3LUMP_ENTITIES</a></div><div class="ttdeci">#define Q3LUMP_ENTITIES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00015">model_q3bsp.h:15</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_abc2fc4db6e3b7838058e4ddd4696b29a"><div class="ttname"><a href="model__q3bsp_8h.html#abc2fc4db6e3b7838058e4ddd4696b29a">Q3LUMP_VERTICES</a></div><div class="ttdeci">#define Q3LUMP_VERTICES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00025">model_q3bsp.h:25</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_abdda82f74cba0552b9afedb3548aa92b"><div class="ttname"><a href="model__q3bsp_8h.html#abdda82f74cba0552b9afedb3548aa92b">Q3LUMP_BRUSHES</a></div><div class="ttdeci">#define Q3LUMP_BRUSHES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00023">model_q3bsp.h:23</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_ac4a81f8f96a63da2dea0ea781dc31866"><div class="ttname"><a href="model__q3bsp_8h.html#ac4a81f8f96a63da2dea0ea781dc31866">Q3LUMP_LEAFS</a></div><div class="ttdeci">#define Q3LUMP_LEAFS</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00019">model_q3bsp.h:19</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_ad75c69a51f5154568ce36a370d6ac251"><div class="ttname"><a href="model__q3bsp_8h.html#ad75c69a51f5154568ce36a370d6ac251">Q3LUMP_LIGHTMAPS</a></div><div class="ttdeci">#define Q3LUMP_LIGHTMAPS</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00029">model_q3bsp.h:29</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_ae57f7a6d8d45bfe1614e24e5e3da7f52"><div class="ttname"><a href="model__q3bsp_8h.html#ae57f7a6d8d45bfe1614e24e5e3da7f52">Q3LUMP_EFFECTS</a></div><div class="ttdeci">#define Q3LUMP_EFFECTS</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00027">model_q3bsp.h:27</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_af98f6fbdef39376c8a1dbad01a8a1a11"><div class="ttname"><a href="model__q3bsp_8h.html#af98f6fbdef39376c8a1dbad01a8a1a11">Q3LUMP_LEAFBRUSHES</a></div><div class="ttdeci">#define Q3LUMP_LEAFBRUSHES</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00021">model_q3bsp.h:21</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_affb09fc4a4e8d15345e07ba283f638fc"><div class="ttname"><a href="model__q3bsp_8h.html#affb09fc4a4e8d15345e07ba283f638fc">Q3HEADER_LUMPS</a></div><div class="ttdeci">#define Q3HEADER_LUMPS</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00032">model_q3bsp.h:32</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_aa377d967d6424fe03ae7be9ce043d965"><div class="ttname"><a href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a></div><div class="ttdeci">unsigned char * mod_base</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l00682">model_shared.c:682</a></div></div>
<div class="ttc" id="amodel__shared_8h_html_ae8881adaf7dff7ff012ef751075434f4a58b2db2924e69f9aa69dcb90446199e8"><div class="ttname"><a href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4a58b2db2924e69f9aa69dcb90446199e8">mod_brushq3</a></div><div class="ttdeci">@ mod_brushq3</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00043">model_shared.h:43</a></div></div>
<div class="ttc" id="astructlump__t_html_a8507a3815e7f17c0a4c6caac5f5655ac"><div class="ttname"><a href="structlump__t.html#a8507a3815e7f17c0a4c6caac5f5655ac">lump_t::fileofs</a></div><div class="ttdeci">int fileofs</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00036">bspfile.h:36</a></div></div>
<div class="ttc" id="astructlump__t_html_aa8725ca1f4de1d11f2b1a95d4610d4a6"><div class="ttname"><a href="structlump__t.html#aa8725ca1f4de1d11f2b1a95d4610d4a6">lump_t::filelen</a></div><div class="ttdeci">int filelen</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00036">bspfile.h:36</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a3aa22e2d8331689fcf8632ed38140dac"><div class="ttname"><a href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">model_brushq3_t::data_models</a></div><div class="ttdeci">q3dmodel_t * data_models</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00315">model_q3bsp.h:315</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_acb069486ffcfd3586af8f9cd16678c13"><div class="ttname"><a href="structmodel__brushq3__t.html#acb069486ffcfd3586af8f9cd16678c13">model_brushq3_t::num_models</a></div><div class="ttdeci">int num_models</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00314">model_q3bsp.h:314</a></div></div>
<div class="ttc" id="astructmodel__t_html_a77a8ed6f65207e003b1675a05b1bfc5e"><div class="ttname"><a href="structmodel__t.html#a77a8ed6f65207e003b1675a05b1bfc5e">model_t::lightmapscale</a></div><div class="ttdeci">float lightmapscale</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00549">model_shared.h:549</a></div></div>
<div class="ttc" id="astructq3dheader__t_html"><div class="ttname"><a href="structq3dheader__t.html">q3dheader_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00037">model_q3bsp.h:38</a></div></div>
<div class="ttc" id="astructq3dheader__t_html_a84048da0849db6f2bf12e418155b4f6f"><div class="ttname"><a href="structq3dheader__t.html#a84048da0849db6f2bf12e418155b4f6f">q3dheader_t::ident</a></div><div class="ttdeci">int ident</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00039">model_q3bsp.h:39</a></div></div>
<div class="ttc" id="astructq3dheader__t_html_ac85c96ae7a0e87a9546852029c6e61fc"><div class="ttname"><a href="structq3dheader__t.html#ac85c96ae7a0e87a9546852029c6e61fc">q3dheader_t::version</a></div><div class="ttdeci">int version</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00040">model_q3bsp.h:40</a></div></div>
<div class="ttc" id="astructq3dheader__t_html_af9725b971f4429c93fd021162200df0e"><div class="ttname"><a href="structq3dheader__t.html#af9725b971f4429c93fd021162200df0e">q3dheader_t::lumps</a></div><div class="ttdeci">lump_t lumps[Q3HEADER_LUMPS_MAX]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00041">model_q3bsp.h:41</a></div></div>
<div class="ttc" id="astructq3dmodel__t_html_a68779245339b80a8a433e9ea48d46969"><div class="ttname"><a href="structq3dmodel__t.html#a68779245339b80a8a433e9ea48d46969">q3dmodel_t::firstface</a></div><div class="ttdeci">int firstface</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00086">model_q3bsp.h:86</a></div></div>
<div class="ttc" id="astructq3dmodel__t_html_a7113e911350ccf843c8bac8e5c90b2c1"><div class="ttname"><a href="structq3dmodel__t.html#a7113e911350ccf843c8bac8e5c90b2c1">q3dmodel_t::maxs</a></div><div class="ttdeci">float maxs[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00085">model_q3bsp.h:85</a></div></div>
<div class="ttc" id="astructq3dmodel__t_html_a93f11b2b7b2563eb5632ba53a9b6ec1c"><div class="ttname"><a href="structq3dmodel__t.html#a93f11b2b7b2563eb5632ba53a9b6ec1c">q3dmodel_t::numbrushes</a></div><div class="ttdeci">int numbrushes</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00089">model_q3bsp.h:89</a></div></div>
<div class="ttc" id="astructq3dmodel__t_html_a9bf1ef95bcc16839004bada1f48872d0"><div class="ttname"><a href="structq3dmodel__t.html#a9bf1ef95bcc16839004bada1f48872d0">q3dmodel_t::numfaces</a></div><div class="ttdeci">int numfaces</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00087">model_q3bsp.h:87</a></div></div>
<div class="ttc" id="astructq3dmodel__t_html_ab33dace6aad87c18d8f4a56a4a4e23af"><div class="ttname"><a href="structq3dmodel__t.html#ab33dace6aad87c18d8f4a56a4a4e23af">q3dmodel_t::mins</a></div><div class="ttdeci">float mins[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00084">model_q3bsp.h:84</a></div></div>
<div class="ttc" id="astructq3dmodel__t_html_ae3cb2a1042bfa1d2cf576272db9177e1"><div class="ttname"><a href="structq3dmodel__t.html#ae3cb2a1042bfa1d2cf576272db9177e1">q3dmodel_t::firstbrush</a></div><div class="ttdeci">int firstbrush</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00088">model_q3bsp.h:88</a></div></div>
<div class="ttc" id="avid_8h_html_a05b59de47bf13f839c78d891723d31ba"><div class="ttname"><a href="vid_8h.html#a05b59de47bf13f839c78d891723d31ba">vid_sRGB_fallback</a></div><div class="ttdeci">cvar_t vid_sRGB_fallback</div><div class="ttdef"><b>Definition</b> <a href="vid__shared_8c_source.html#l00159">vid_shared.c:159</a></div></div>
<div class="ttc" id="avid_8h_html_a8ab304e584e1c03541779460325d0529"><div class="ttname"><a href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a></div><div class="ttdeci">cvar_t vid_sRGB</div><div class="ttdef"><b>Definition</b> <a href="vid__shared_8c_source.html#l00158">vid_shared.c:158</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07660">Mod_IBSP_Load()</a>.</p>

</div>
</div>
<a id="a3b4d1c7621fc3f1e86cca7b233609f6e" name="a3b4d1c7621fc3f1e86cca7b233609f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b4d1c7621fc3f1e86cca7b233609f6e">&#9670;&#160;</a></span>Mod_Q3BSP_LoadBrushes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadBrushes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05303">5303</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5304</span>{</div>
<div class="line"><span class="lineno"> 5305</span>    <a class="code hl_struct" href="structq3dbrush__t.html">q3dbrush_t</a> *in;</div>
<div class="line"><span class="lineno"> 5306</span>    <a class="code hl_struct" href="structq3mbrush__t.html">q3mbrush_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5307</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, c, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes</a>, q3surfaceflags;</div>
<div class="line"><span class="lineno"> 5308</span>    <a class="code hl_struct" href="structcolplanef__t.html">colplanef_t</a> *planes;</div>
<div class="line"><span class="lineno"> 5309</span> </div>
<div class="line"><span class="lineno"> 5310</span>    in = (<a class="code hl_struct" href="structq3dbrush__t.html">q3dbrush_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5311</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 5312</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5313</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5314</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structq3mbrush__t.html">q3mbrush_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 5315</span> </div>
<div class="line"><span class="lineno"> 5316</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a14a4120302a415dd00a36380fa256546">data_brushes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5317</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5318</span> </div>
<div class="line"><span class="lineno"> 5319</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes</a> = 0;</div>
<div class="line"><span class="lineno"> 5320</span>    planes = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5321</span> </div>
<div class="line"><span class="lineno"> 5322</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 5323</span>    {</div>
<div class="line"><span class="lineno"> 5324</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstbrushside);</div>
<div class="line"><span class="lineno"> 5325</span>        c = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numbrushsides);</div>
<div class="line"><span class="lineno"> 5326</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n + c &gt;</a> <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab29cfe2ac74f2d8c40a1cb72f3c56ba9">num_brushsides</a>)</div>
<div class="line"><span class="lineno"> 5327</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushes: invalid brushside range %i : %i (%i brushsides)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> + c, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab29cfe2ac74f2d8c40a1cb72f3c56ba9">num_brushsides</a>);</div>
<div class="line"><span class="lineno"> 5328</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af817e5a31fcbe80377a32aff7cc1d877">data_brushsides</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5329</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides = c;</div>
<div class="line"><span class="lineno"> 5330</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;textureindex);</div>
<div class="line"><span class="lineno"> 5331</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>)</div>
<div class="line"><span class="lineno"> 5332</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushes: invalid textureindex %i (%i textures)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>);</div>
<div class="line"><span class="lineno"> 5333</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5334</span> </div>
<div class="line"><span class="lineno"> 5335</span>        <span class="comment">// make a list of mplane_t structs to construct a colbrush from</span></div>
<div class="line"><span class="lineno"> 5336</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes &lt; out-&gt;</a>numbrushsides)</div>
<div class="line"><span class="lineno"> 5337</span>        {</div>
<div class="line"><span class="lineno"> 5338</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides;</div>
<div class="line"><span class="lineno"> 5339</span>            <span class="keywordflow">if</span> (planes)</div>
<div class="line"><span class="lineno"> 5340</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(planes);</div>
<div class="line"><span class="lineno"> 5341</span>            planes = (<a class="code hl_struct" href="structcolplanef__t.html">colplanef_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structcolplanef__t.html">colplanef_t</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxplanes</a>);</div>
<div class="line"><span class="lineno"> 5342</span>        }</div>
<div class="line"><span class="lineno"> 5343</span>        q3surfaceflags = 0;</div>
<div class="line"><span class="lineno"> 5344</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 5345</span>        {</div>
<div class="line"><span class="lineno"> 5346</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].plane-&gt;normal, planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].normal);</div>
<div class="line"><span class="lineno"> 5347</span>            planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structcolplanef__t.html#ab3c9c8a927c2c2e01f25b83c9a9ffb58">dist</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].plane-&gt;dist;</div>
<div class="line"><span class="lineno"> 5348</span>            planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structcolplanef__t.html#a7e012fdd68fa3fbc496ef7c48013405f">q3surfaceflags</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture-&gt;surfaceflags;</div>
<div class="line"><span class="lineno"> 5349</span>            planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structcolplanef__t.html#ad90241e877afb05407266a86c5f7bb77">texture</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrushside[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].texture;</div>
<div class="line"><span class="lineno"> 5350</span>            q3surfaceflags |= planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].<a class="code hl_variable" href="structcolplanef__t.html#a7e012fdd68fa3fbc496ef7c48013405f">q3surfaceflags</a>;</div>
<div class="line"><span class="lineno"> 5351</span>        }</div>
<div class="line"><span class="lineno"> 5352</span>        <span class="comment">// make the colbrush from the planes</span></div>
<div class="line"><span class="lineno"> 5353</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;colbrushf = <a class="code hl_function" href="collision_8c.html#a5ffdbe6eb7622f8627737e7dfb820466">Collision_NewBrushFromPlanes</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushsides, planes, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;supercontents, q3surfaceflags, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 5354</span> </div>
<div class="line"><span class="lineno"> 5355</span>        <span class="comment">// this whole loop can take a while (e.g. on redstarrepublic4)</span></div>
<div class="line"><span class="lineno"> 5356</span>        <a class="code hl_function" href="cl__parse_8c.html#ac6ab3e260289abd4d92f1e4974190626">CL_KeepaliveMessage</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 5357</span>    }</div>
<div class="line"><span class="lineno"> 5358</span>    <span class="keywordflow">if</span> (planes)</div>
<div class="line"><span class="lineno"> 5359</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(planes);</div>
<div class="line"><span class="lineno"> 5360</span>}</div>
<div class="ttc" id="astructq3dbrush__t_html"><div class="ttname"><a href="structq3dbrush__t.html">q3dbrush_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00093">model_q3bsp.h:94</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a61a6b290f6c9a1c09c2b773e86d16c9d" name="a61a6b290f6c9a1c09c2b773e86d16c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a6b290f6c9a1c09c2b773e86d16c9d">&#9670;&#160;</a></span>Mod_Q3BSP_LoadBrushSides()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadBrushSides </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05247">5247</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5248</span>{</div>
<div class="line"><span class="lineno"> 5249</span>    <a class="code hl_struct" href="structq3dbrushside__t.html">q3dbrushside_t</a> *in;</div>
<div class="line"><span class="lineno"> 5250</span>    <a class="code hl_struct" href="structq3mbrushside__t.html">q3mbrushside_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5251</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5252</span> </div>
<div class="line"><span class="lineno"> 5253</span>    in = (<a class="code hl_struct" href="structq3dbrushside__t.html">q3dbrushside_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5254</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 5255</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushSides: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5256</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5257</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structq3mbrushside__t.html">q3mbrushside_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 5258</span> </div>
<div class="line"><span class="lineno"> 5259</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af817e5a31fcbe80377a32aff7cc1d877">data_brushsides</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5260</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab29cfe2ac74f2d8c40a1cb72f3c56ba9">num_brushsides</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5261</span> </div>
<div class="line"><span class="lineno"> 5262</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 5263</span>    {</div>
<div class="line"><span class="lineno"> 5264</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;planeindex);</div>
<div class="line"><span class="lineno"> 5265</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>)</div>
<div class="line"><span class="lineno"> 5266</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushSides: invalid planeindex %i (%i planes)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>);</div>
<div class="line"><span class="lineno"> 5267</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;plane = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5268</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;textureindex);</div>
<div class="line"><span class="lineno"> 5269</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>)</div>
<div class="line"><span class="lineno"> 5270</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushSides: invalid textureindex %i (%i textures)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>);</div>
<div class="line"><span class="lineno"> 5271</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5272</span>    }</div>
<div class="line"><span class="lineno"> 5273</span>}</div>
<div class="ttc" id="astructq3dbrushside__t_html"><div class="ttname"><a href="structq3dbrushside__t.html">q3dbrushside_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00101">model_q3bsp.h:102</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a4af62a531504aa0d87b57359cd3dad0a" name="a4af62a531504aa0d87b57359cd3dad0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af62a531504aa0d87b57359cd3dad0a">&#9670;&#160;</a></span>Mod_Q3BSP_LoadBrushSides_IG()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadBrushSides_IG </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05275">5275</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5276</span>{</div>
<div class="line"><span class="lineno"> 5277</span>    <a class="code hl_struct" href="structq3dbrushside__ig__t.html">q3dbrushside_ig_t</a> *in;</div>
<div class="line"><span class="lineno"> 5278</span>    <a class="code hl_struct" href="structq3mbrushside__t.html">q3mbrushside_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5279</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5280</span> </div>
<div class="line"><span class="lineno"> 5281</span>    in = (<a class="code hl_struct" href="structq3dbrushside__ig__t.html">q3dbrushside_ig_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5282</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 5283</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushSides: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5284</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5285</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structq3mbrushside__t.html">q3mbrushside_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 5286</span> </div>
<div class="line"><span class="lineno"> 5287</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af817e5a31fcbe80377a32aff7cc1d877">data_brushsides</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5288</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab29cfe2ac74f2d8c40a1cb72f3c56ba9">num_brushsides</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5289</span> </div>
<div class="line"><span class="lineno"> 5290</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 5291</span>    {</div>
<div class="line"><span class="lineno"> 5292</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;planeindex);</div>
<div class="line"><span class="lineno"> 5293</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>)</div>
<div class="line"><span class="lineno"> 5294</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushSides: invalid planeindex %i (%i planes)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>);</div>
<div class="line"><span class="lineno"> 5295</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;plane = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5296</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;textureindex);</div>
<div class="line"><span class="lineno"> 5297</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>)</div>
<div class="line"><span class="lineno"> 5298</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadBrushSides: invalid textureindex %i (%i textures)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>);</div>
<div class="line"><span class="lineno"> 5299</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5300</span>    }</div>
<div class="line"><span class="lineno"> 5301</span>}</div>
<div class="ttc" id="astructq3dbrushside__ig__t_html"><div class="ttname"><a href="structq3dbrushside__ig__t.html">q3dbrushside_ig_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00108">model_q3bsp.h:109</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a618b3bd072fda7c5ba426244087fc1cd" name="a618b3bd072fda7c5ba426244087fc1cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a618b3bd072fda7c5ba426244087fc1cd">&#9670;&#160;</a></span>Mod_Q3BSP_LoadEffects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadEffects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05362">5362</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5363</span>{</div>
<div class="line"><span class="lineno"> 5364</span>    <a class="code hl_struct" href="structq3deffect__t.html">q3deffect_t</a> *in;</div>
<div class="line"><span class="lineno"> 5365</span>    <a class="code hl_struct" href="structq3deffect__t.html">q3deffect_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5366</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5367</span> </div>
<div class="line"><span class="lineno"> 5368</span>    in = (<a class="code hl_struct" href="structq3deffect__t.html">q3deffect_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5369</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 5370</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadEffects: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5371</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5372</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structq3deffect__t.html">q3deffect_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 5373</span> </div>
<div class="line"><span class="lineno"> 5374</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7086c58dd4e1ba0e463dcf3ae15fa5a5">data_effects</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5375</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5fe1e0f30a881ca7bc717750570d3ee4">num_effects</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5376</span> </div>
<div class="line"><span class="lineno"> 5377</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 5378</span>    {</div>
<div class="line"><span class="lineno"> 5379</span>        <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;shadername, in-&gt;shadername, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sizeof</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;shadername));</div>
<div class="line"><span class="lineno"> 5380</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;brushindex);</div>
<div class="line"><span class="lineno"> 5381</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a>)</div>
<div class="line"><span class="lineno"> 5382</span>        {</div>
<div class="line"><span class="lineno"> 5383</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadEffects: invalid brushindex %i (%i brushes), setting to -1\n&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a>);</div>
<div class="line"><span class="lineno"> 5384</span>            <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = -1;</div>
<div class="line"><span class="lineno"> 5385</span>        }</div>
<div class="line"><span class="lineno"> 5386</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;brushindex = <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5387</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;unknown = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;unknown);</div>
<div class="line"><span class="lineno"> 5388</span>    }</div>
<div class="line"><span class="lineno"> 5389</span>}</div>
<div class="ttc" id="astructmodel__brushq3__t_html_a5fe1e0f30a881ca7bc717750570d3ee4"><div class="ttname"><a href="structmodel__brushq3__t.html#a5fe1e0f30a881ca7bc717750570d3ee4">model_brushq3_t::num_effects</a></div><div class="ttdeci">int num_effects</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00329">model_q3bsp.h:329</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a7086c58dd4e1ba0e463dcf3ae15fa5a5"><div class="ttname"><a href="structmodel__brushq3__t.html#a7086c58dd4e1ba0e463dcf3ae15fa5a5">model_brushq3_t::data_effects</a></div><div class="ttdeci">q3deffect_t * data_effects</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00330">model_q3bsp.h:330</a></div></div>
<div class="ttc" id="astructq3deffect__t_html"><div class="ttname"><a href="structq3deffect__t.html">q3deffect_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00132">model_q3bsp.h:133</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a2af27ca8c226222ee31da0410907caa7" name="a2af27ca8c226222ee31da0410907caa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af27ca8c226222ee31da0410907caa7">&#9670;&#160;</a></span>Mod_Q3BSP_LoadEntities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadEntities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05128">5128</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5129</span>{</div>
<div class="line"><span class="lineno"> 5130</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><span class="lineno"> 5131</span>    <span class="keywordtype">char</span> key[128], <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>[<a class="code hl_define" href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a>];</div>
<div class="line"><span class="lineno"> 5132</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[3];</div>
<div class="line"><span class="lineno"> 5133</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[0] = 64;</div>
<div class="line"><span class="lineno"> 5134</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[1] = 64;</div>
<div class="line"><span class="lineno"> 5135</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[2] = 128;</div>
<div class="line"><span class="lineno"> 5136</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen)</div>
<div class="line"><span class="lineno"> 5137</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 5138</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen + 1);</div>
<div class="line"><span class="lineno"> 5139</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a>, <a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen);</div>
<div class="line"><span class="lineno"> 5140</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen] = 0;</div>
<div class="line"><span class="lineno"> 5141</span>    <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a>;</div>
<div class="line"><span class="lineno"> 5142</span>    <span class="comment">// some Q3 maps override the lightgrid_cellsize with a worldspawn key</span></div>
<div class="line"><span class="lineno"> 5143</span>    <span class="comment">// VorteX: q3map2 FS-R generates tangentspace deluxemaps for q3bsp and sets &#39;deluxeMaps&#39; key</span></div>
<div class="line"><span class="lineno"> 5144</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5145</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> &amp;&amp; <a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>) &amp;&amp; <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><span class="lineno"> 5146</span>    {</div>
<div class="line"><span class="lineno"> 5147</span>        <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno"> 5148</span>        {</div>
<div class="line"><span class="lineno"> 5149</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 5150</span>                <span class="keywordflow">break</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 5151</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;}&#39;</span>)</div>
<div class="line"><span class="lineno"> 5152</span>                <span class="keywordflow">break</span>; <span class="comment">// end of worldspawn</span></div>
<div class="line"><span class="lineno"> 5153</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0] == <span class="charliteral">&#39;_&#39;</span>)</div>
<div class="line"><span class="lineno"> 5154</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(key, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a> + 1, <span class="keyword">sizeof</span>(key));</div>
<div class="line"><span class="lineno"> 5155</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5156</span>                <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(key, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(key));</div>
<div class="line"><span class="lineno"> 5157</span>            <span class="keywordflow">while</span> (key[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(key)-1] == <span class="charliteral">&#39; &#39;</span>) <span class="comment">// remove trailing spaces</span></div>
<div class="line"><span class="lineno"> 5158</span>                key[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(key)-1] = 0;</div>
<div class="line"><span class="lineno"> 5159</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#acc99aea15e3d929ef5cfac822ee7040d">COM_ParseToken_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 5160</span>                <span class="keywordflow">break</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 5161</span>            <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>, <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>));</div>
<div class="line"><span class="lineno"> 5162</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcasecmp</a>(<span class="stringliteral">&quot;gridsize&quot;</span>, key)) <span class="comment">// this one is case insensitive to 100% match q3map2</span></div>
<div class="line"><span class="lineno"> 5163</span>            {</div>
<div class="line"><span class="lineno"> 5164</span><span class="preprocessor">#if _MSC_VER &gt;= 1400</span></div>
<div class="line"><span class="lineno"> 5165</span><span class="preprocessor">#define sscanf sscanf_s</span></div>
<div class="line"><span class="lineno"> 5166</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 5167</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 5168</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sscanf</a>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>, <span class="stringliteral">&quot;%f %f %f&quot;</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0], &amp;<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1], &amp;<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2]) == 3 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] != 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] != 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] != 0)</div>
<div class="line"><span class="lineno"> 5169</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>);</div>
<div class="line"><span class="lineno"> 5170</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 5171</span>                <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, 64, 64, 128);</div>
<div class="line"><span class="lineno"> 5172</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sscanf</a>(<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>, <span class="stringliteral">&quot;%f %f %f&quot;</span>, &amp;<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0], &amp;<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1], &amp;<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2]) != 3)</div>
<div class="line"><span class="lineno"> 5173</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadEntities: funny gridsize \&quot;%s\&quot; in %s, interpreting as \&quot;%f %f %f\&quot; to match q3map2&#39;s parsing\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2]);</div>
<div class="line"><span class="lineno"> 5174</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] != 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] != 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] != 0)</div>
<div class="line"><span class="lineno"> 5175</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>);</div>
<div class="line"><span class="lineno"> 5176</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 5177</span>            }</div>
<div class="line"><span class="lineno"> 5178</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<span class="stringliteral">&quot;deluxeMaps&quot;</span>, key))</div>
<div class="line"><span class="lineno"> 5179</span>            {</div>
<div class="line"><span class="lineno"> 5180</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;1&quot;</span>))</div>
<div class="line"><span class="lineno"> 5181</span>                {</div>
<div class="line"><span class="lineno"> 5182</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5183</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab45856a2ba7c570b8500aae6dcf6a491">deluxemapping_modelspace</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5184</span>                }</div>
<div class="line"><span class="lineno"> 5185</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <span class="stringliteral">&quot;2&quot;</span>))</div>
<div class="line"><span class="lineno"> 5186</span>                {</div>
<div class="line"><span class="lineno"> 5187</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5188</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab45856a2ba7c570b8500aae6dcf6a491">deluxemapping_modelspace</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5189</span>                }</div>
<div class="line"><span class="lineno"> 5190</span>            }</div>
<div class="line"><span class="lineno"> 5191</span>        }</div>
<div class="line"><span class="lineno"> 5192</span>    }</div>
<div class="line"><span class="lineno"> 5193</span>}</div>
<div class="ttc" id="aqdefs_8h_html_a119f8457078d7390fb45ea0838adb806"><div class="ttname"><a href="qdefs_8h.html#a119f8457078d7390fb45ea0838adb806">MAX_INPUTLINE</a></div><div class="ttdeci">#define MAX_INPUTLINE</div><div class="ttdoc">maximum size of console commandline, QuakeC strings, and many other text processing buffers</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00094">qdefs.h:94</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a5a05c09d0e16f30cc381559e0441932a"><div class="ttname"><a href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">model_brushq3_t::num_lightgrid_cellsize</a></div><div class="ttdeci">float num_lightgrid_cellsize[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00346">model_q3bsp.h:346</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a8bcf787502d5ce8422a4f3e0a2c95408" name="a8bcf787502d5ce8422a4f3e0a2c95408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bcf787502d5ce8422a4f3e0a2c95408">&#9670;&#160;</a></span>Mod_Q3BSP_LoadFaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadFaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05783">5783</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5784</span>{</div>
<div class="line"><span class="lineno"> 5785</span>    <a class="code hl_struct" href="structq3dface__t.html">q3dface_t</a> *in, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldin</a>;</div>
<div class="line"><span class="lineno"> 5786</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>;</div>
<div class="line"><span class="lineno"> 5787</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldi</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">invalidelements</a>, patchsize[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a>, xtess, ytess, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalvertices</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finaltriangles</a>, firstvertex, firstelement, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldnumtriangles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldnumtriangles2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshtriangles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertices</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a>, numvertices, numtriangles, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a>;</div>
<div class="line"><span class="lineno"> 5788</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcbase</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcscale</a>[2];</div>
<div class="line"><span class="lineno"> 5789</span>    <span class="comment">//int *originalelement3i;</span></div>
<div class="line"><span class="lineno"> 5790</span>    <span class="keywordtype">float</span> *originalvertex3f;</div>
<div class="line"><span class="lineno"> 5791</span>    <span class="comment">//float *originalsvector3f;</span></div>
<div class="line"><span class="lineno"> 5792</span>    <span class="comment">//float *originaltvector3f;</span></div>
<div class="line"><span class="lineno"> 5793</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalnormal3f</a>;</div>
<div class="line"><span class="lineno"> 5794</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalcolor4f</a>;</div>
<div class="line"><span class="lineno"> 5795</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originaltexcoordtexture2f</a>;</div>
<div class="line"><span class="lineno"> 5796</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originaltexcoordlightmap2f</a>;</div>
<div class="line"><span class="lineno"> 5797</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionvertex3f</a>;</div>
<div class="line"><span class="lineno"> 5798</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionelement3i</a>;</div>
<div class="line"><span class="lineno"> 5799</span>    <span class="keywordtype">float</span> *<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><span class="lineno"> 5800</span>    <a class="code hl_struct" href="structpatchtess__t.html">patchtess_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5801</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a> = 0;</div>
<div class="line"><span class="lineno"> 5802</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">again</a>;</div>
<div class="line"><span class="lineno"> 5803</span> </div>
<div class="line"><span class="lineno"> 5804</span>    in = (<a class="code hl_struct" href="structq3dface__t.html">q3dface_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5805</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 5806</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5807</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5808</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 5809</span> </div>
<div class="line"><span class="lineno"> 5810</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5811</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5812</span> </div>
<div class="line"><span class="lineno"> 5813</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 5814</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a> = (<a class="code hl_struct" href="structpatchtess__t.html">patchtess_t</a>*) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>));</div>
<div class="line"><span class="lineno"> 5815</span> </div>
<div class="line"><span class="lineno"> 5816</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><span class="lineno"> 5817</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldi</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 5818</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldin</a> = in;</div>
<div class="line"><span class="lineno"> 5819</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5820</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a> = 0;</div>
<div class="line"><span class="lineno"> 5821</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshtriangles</a> = 0;</div>
<div class="line"><span class="lineno"> 5822</span>    <span class="keywordflow">for</span> (;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 5823</span>    {</div>
<div class="line"><span class="lineno"> 5824</span>        <span class="comment">// check face type first</span></div>
<div class="line"><span class="lineno"> 5825</span>        <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;type);</div>
<div class="line"><span class="lineno"> 5826</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> != <a class="code hl_define" href="model__q3bsp_8h.html#a3d661e63746fd23c636785cd5e6cd8f0">Q3FACETYPE_FLAT</a></div>
<div class="line"><span class="lineno"> 5827</span>         &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> != <a class="code hl_define" href="model__q3bsp_8h.html#afb168d23e9c3e5676ef817a3b3bf2d19">Q3FACETYPE_PATCH</a></div>
<div class="line"><span class="lineno"> 5828</span>         &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> != <a class="code hl_define" href="model__q3bsp_8h.html#a9cc6f7e32ad6c95ab910f37264a0e4e1">Q3FACETYPE_MESH</a></div>
<div class="line"><span class="lineno"> 5829</span>         &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> != <a class="code hl_define" href="model__q3bsp_8h.html#aa464016e0c3c90d5db562bfb560851da">Q3FACETYPE_FLARE</a>)</div>
<div class="line"><span class="lineno"> 5830</span>        {</div>
<div class="line"><span class="lineno"> 5831</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i: unknown face type %i\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>);</div>
<div class="line"><span class="lineno"> 5832</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5833</span>        }</div>
<div class="line"><span class="lineno"> 5834</span> </div>
<div class="line"><span class="lineno"> 5835</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;textureindex);</div>
<div class="line"><span class="lineno"> 5836</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>)</div>
<div class="line"><span class="lineno"> 5837</span>        {</div>
<div class="line"><span class="lineno"> 5838</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i: invalid textureindex %i (%i textures)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>);</div>
<div class="line"><span class="lineno"> 5839</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5840</span>        }</div>
<div class="line"><span class="lineno"> 5841</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5842</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;effectindex);</div>
<div class="line"><span class="lineno"> 5843</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; -1 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5fe1e0f30a881ca7bc717750570d3ee4">num_effects</a>)</div>
<div class="line"><span class="lineno"> 5844</span>        {</div>
<div class="line"><span class="lineno"> 5845</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 5846</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i (texture \&quot;%s\&quot;): invalid effectindex %i (%i effects)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5fe1e0f30a881ca7bc717750570d3ee4">num_effects</a>);</div>
<div class="line"><span class="lineno"> 5847</span>            <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = -1;</div>
<div class="line"><span class="lineno"> 5848</span>        }</div>
<div class="line"><span class="lineno"> 5849</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> == -1)</div>
<div class="line"><span class="lineno"> 5850</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;effect = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5851</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5852</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;effect = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7086c58dd4e1ba0e463dcf3ae15fa5a5">data_effects</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 5853</span> </div>
<div class="line"><span class="lineno"> 5854</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 5855</span>        {</div>
<div class="line"><span class="lineno"> 5856</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;lightmaptexture = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5857</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;deluxemaptexture = <a class="code hl_variable" href="gl__rmain_8c.html#a86492b7e60c357ab15bbc786c1015024">r_texture_blanknormalmap</a>;</div>
<div class="line"><span class="lineno"> 5858</span>            <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;lightmapindex);</div>
<div class="line"><span class="lineno"> 5859</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 5860</span>                <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = -1;</div>
<div class="line"><span class="lineno"> 5861</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#add5c6a55ee87fabce49902bcf95ecc3d">num_originallightmaps</a>)</div>
<div class="line"><span class="lineno"> 5862</span>            {</div>
<div class="line"><span class="lineno"> 5863</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#add5c6a55ee87fabce49902bcf95ecc3d">num_originallightmaps</a> != 0)</div>
<div class="line"><span class="lineno"> 5864</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i (texture \&quot;%s\&quot;): invalid lightmapindex %i (%i lightmaps)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#add5c6a55ee87fabce49902bcf95ecc3d">num_originallightmaps</a>);</div>
<div class="line"><span class="lineno"> 5865</span>                <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = -1;</div>
<div class="line"><span class="lineno"> 5866</span>            }</div>
<div class="line"><span class="lineno"> 5867</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5868</span>            {</div>
<div class="line"><span class="lineno"> 5869</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;lightmaptexture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a>[<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;&gt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#adb7af97dfec6a2d73fe38563f67a5f66">num_lightmapmergedwidthheightdeluxepower</a>];</div>
<div class="line"><span class="lineno"> 5870</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a>)</div>
<div class="line"><span class="lineno"> 5871</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;deluxemaptexture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a>[<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;&gt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#adb7af97dfec6a2d73fe38563f67a5f66">num_lightmapmergedwidthheightdeluxepower</a>];</div>
<div class="line"><span class="lineno"> 5872</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a2fd867d2779bb6e6b6f7348fc47c5948">lit</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5873</span>            }</div>
<div class="line"><span class="lineno"> 5874</span>        }</div>
<div class="line"><span class="lineno"> 5875</span> </div>
<div class="line"><span class="lineno"> 5876</span>        firstvertex = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstvertex);</div>
<div class="line"><span class="lineno"> 5877</span>        numvertices = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numvertices);</div>
<div class="line"><span class="lineno"> 5878</span>        firstelement = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstelement);</div>
<div class="line"><span class="lineno"> 5879</span>        numtriangles = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numelements) / 3;</div>
<div class="line"><span class="lineno"> 5880</span>        <span class="keywordflow">if</span> (numtriangles * 3 != <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numelements))</div>
<div class="line"><span class="lineno"> 5881</span>        {</div>
<div class="line"><span class="lineno"> 5882</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i (texture \&quot;%s\&quot;): numelements %i is not a multiple of 3\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name, <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numelements));</div>
<div class="line"><span class="lineno"> 5883</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5884</span>        }</div>
<div class="line"><span class="lineno"> 5885</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstvertex &lt; 0 || firstvertex + numvertices &gt;</a> <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ac7a5765168191fd28f4307979dc1c735">num_vertices</a>)</div>
<div class="line"><span class="lineno"> 5886</span>        {</div>
<div class="line"><span class="lineno"> 5887</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i (texture \&quot;%s\&quot;): invalid vertex range %i : %i (%i vertices)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name, firstvertex, firstvertex + numvertices, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ac7a5765168191fd28f4307979dc1c735">num_vertices</a>);</div>
<div class="line"><span class="lineno"> 5888</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5889</span>        }</div>
<div class="line"><span class="lineno"> 5890</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstelement &lt; 0 || firstelement + numtriangles * 3 &gt;</a> <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a34f9043d0206d00e40e2e2ab139abcb2">num_triangles</a> * 3)</div>
<div class="line"><span class="lineno"> 5891</span>        {</div>
<div class="line"><span class="lineno"> 5892</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i (texture \&quot;%s\&quot;): invalid element range %i : %i (%i elements)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name, firstelement, firstelement + numtriangles * 3, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a34f9043d0206d00e40e2e2ab139abcb2">num_triangles</a> * 3);</div>
<div class="line"><span class="lineno"> 5893</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5894</span>        }</div>
<div class="line"><span class="lineno"> 5895</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>)</div>
<div class="line"><span class="lineno"> 5896</span>        {</div>
<div class="line"><span class="lineno"> 5897</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="model__q3bsp_8h.html#a3d661e63746fd23c636785cd5e6cd8f0">Q3FACETYPE_FLAT</a>:</div>
<div class="line"><span class="lineno"> 5898</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="model__q3bsp_8h.html#a9cc6f7e32ad6c95ab910f37264a0e4e1">Q3FACETYPE_MESH</a>:</div>
<div class="line"><span class="lineno"> 5899</span>            <span class="comment">// no processing necessary</span></div>
<div class="line"><span class="lineno"> 5900</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5901</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="model__q3bsp_8h.html#afb168d23e9c3e5676ef817a3b3bf2d19">Q3FACETYPE_PATCH</a>:</div>
<div class="line"><span class="lineno"> 5902</span>            patchsize[0] = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;specific.patch.patchsize[0]);</div>
<div class="line"><span class="lineno"> 5903</span>            patchsize[1] = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;specific.patch.patchsize[1]);</div>
<div class="line"><span class="lineno"> 5904</span>            <span class="keywordflow">if</span> (numvertices != (patchsize[0] * patchsize[1]) || patchsize[0] &lt; 3 || patchsize[1] &lt; 3 || !(patchsize[0] &amp; 1) || !(patchsize[1] &amp; 1) || patchsize[0] * patchsize[1] &gt;= (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a> ? <a class="code hl_variable" href="model__brush_8c.html#a1d9e359efa27457637ff9add808b971c">mod_q3bsp_curves_subdivisions_maxvertices</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> : <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="model__brush_8c.html#aed121aa80abb387aa4a9c7b177d9a307">r_subdivisions_maxvertices</a>.integer, <a class="code hl_variable" href="model__brush_8c.html#a1d9e359efa27457637ff9add808b971c">mod_q3bsp_curves_subdivisions_maxvertices</a>.integer)))</div>
<div class="line"><span class="lineno"> 5905</span>            {</div>
<div class="line"><span class="lineno"> 5906</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i (texture \&quot;%s\&quot;): invalid patchsize %ix%i\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name, patchsize[0], patchsize[1]);</div>
<div class="line"><span class="lineno"> 5907</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5908</span>            }</div>
<div class="line"><span class="lineno"> 5909</span>            originalvertex3f = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a> + firstvertex * 3;</div>
<div class="line"><span class="lineno"> 5910</span> </div>
<div class="line"><span class="lineno"> 5911</span>            <span class="comment">// convert patch to Q3FACETYPE_MESH</span></div>
<div class="line"><span class="lineno"> 5912</span>            xtess = <a class="code hl_function" href="curves_8c.html#af368e478cb2c9c156bc5cec217e6b2fc">Q3PatchTesselationOnX</a>(patchsize[0], patchsize[1], 3, originalvertex3f, <a class="code hl_variable" href="model__brush_8c.html#ae3cbbf35c2258fb3bd1607d0171bb148">r_subdivisions_tolerance</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 5913</span>            ytess = <a class="code hl_function" href="curves_8c.html#ab559344c1cab52962fc94644a748f700">Q3PatchTesselationOnY</a>(patchsize[0], patchsize[1], 3, originalvertex3f, <a class="code hl_variable" href="model__brush_8c.html#ae3cbbf35c2258fb3bd1607d0171bb148">r_subdivisions_tolerance</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 5914</span>            <span class="comment">// bound to user settings</span></div>
<div class="line"><span class="lineno"> 5915</span>            xtess = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="model__brush_8c.html#adf320b246049b55161c9a6a223af426e">r_subdivisions_mintess</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, xtess, <a class="code hl_variable" href="model__brush_8c.html#af6e5a6066a70a42b432f9f35deebf073">r_subdivisions_maxtess</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><span class="lineno"> 5916</span>            ytess = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="model__brush_8c.html#adf320b246049b55161c9a6a223af426e">r_subdivisions_mintess</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, ytess, <a class="code hl_variable" href="model__brush_8c.html#af6e5a6066a70a42b432f9f35deebf073">r_subdivisions_maxtess</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><span class="lineno"> 5917</span>            <span class="comment">// bound to sanity settings</span></div>
<div class="line"><span class="lineno"> 5918</span>            xtess = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, xtess, 1024);</div>
<div class="line"><span class="lineno"> 5919</span>            ytess = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, ytess, 1024);</div>
<div class="line"><span class="lineno"> 5920</span> </div>
<div class="line"><span class="lineno"> 5921</span>            <span class="comment">// lower quality collision patches! Same procedure as before, but different cvars</span></div>
<div class="line"><span class="lineno"> 5922</span>            <span class="comment">// convert patch to Q3FACETYPE_MESH</span></div>
<div class="line"><span class="lineno"> 5923</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a> = <a class="code hl_function" href="curves_8c.html#af368e478cb2c9c156bc5cec217e6b2fc">Q3PatchTesselationOnX</a>(patchsize[0], patchsize[1], 3, originalvertex3f, <a class="code hl_variable" href="model__brush_8c.html#a7ed843bf3dc52e2c5c803ac13eb27d02">mod_q3bsp_curves_subdivisions_tolerance</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 5924</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a> = <a class="code hl_function" href="curves_8c.html#ab559344c1cab52962fc94644a748f700">Q3PatchTesselationOnY</a>(patchsize[0], patchsize[1], 3, originalvertex3f, <a class="code hl_variable" href="model__brush_8c.html#a7ed843bf3dc52e2c5c803ac13eb27d02">mod_q3bsp_curves_subdivisions_tolerance</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 5925</span>            <span class="comment">// bound to user settings</span></div>
<div class="line"><span class="lineno"> 5926</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="model__brush_8c.html#a722fa06637534ed172979d9efdc1edfa">mod_q3bsp_curves_subdivisions_mintess</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a>, <a class="code hl_variable" href="model__brush_8c.html#a12f451c875a0fff37acefa16c02a8675">mod_q3bsp_curves_subdivisions_maxtess</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><span class="lineno"> 5927</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="model__brush_8c.html#a722fa06637534ed172979d9efdc1edfa">mod_q3bsp_curves_subdivisions_mintess</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a>, <a class="code hl_variable" href="model__brush_8c.html#a12f451c875a0fff37acefa16c02a8675">mod_q3bsp_curves_subdivisions_maxtess</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><span class="lineno"> 5928</span>            <span class="comment">// bound to sanity settings</span></div>
<div class="line"><span class="lineno"> 5929</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a>, 1024);</div>
<div class="line"><span class="lineno"> 5930</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a>, 1024);</div>
<div class="line"><span class="lineno"> 5931</span> </div>
<div class="line"><span class="lineno"> 5932</span>            <span class="comment">// store it for the LOD grouping step</span></div>
<div class="line"><span class="lineno"> 5933</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].info.xsize = patchsize[0];</div>
<div class="line"><span class="lineno"> 5934</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].info.ysize = patchsize[1];</div>
<div class="line"><span class="lineno"> 5935</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a18948a15e2a5b3a5e015ee5664b946b3">PATCH_LOD_VISUAL</a>].xtess = xtess;</div>
<div class="line"><span class="lineno"> 5936</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a18948a15e2a5b3a5e015ee5664b946b3">PATCH_LOD_VISUAL</a>].ytess = ytess;</div>
<div class="line"><span class="lineno"> 5937</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a8ca1327b7c51498d1b1eeb3551846dc5">PATCH_LOD_COLLISION</a>].xtess = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a>;</div>
<div class="line"><span class="lineno"> 5938</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a8ca1327b7c51498d1b1eeb3551846dc5">PATCH_LOD_COLLISION</a>].ytess = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a>;</div>
<div class="line"><span class="lineno"> 5939</span>    </div>
<div class="line"><span class="lineno"> 5940</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].surface_id = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 5941</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].lodgroup[0] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;specific.patch.mins[0]);</div>
<div class="line"><span class="lineno"> 5942</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].lodgroup[1] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;specific.patch.mins[1]);</div>
<div class="line"><span class="lineno"> 5943</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].lodgroup[2] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;specific.patch.mins[2]);</div>
<div class="line"><span class="lineno"> 5944</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].lodgroup[3] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;specific.patch.maxs[0]);</div>
<div class="line"><span class="lineno"> 5945</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].lodgroup[4] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;specific.patch.maxs[1]);</div>
<div class="line"><span class="lineno"> 5946</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].lodgroup[5] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;specific.patch.maxs[2]);</div>
<div class="line"><span class="lineno"> 5947</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>].originalvertex3f = originalvertex3f;</div>
<div class="line"><span class="lineno"> 5948</span>            ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>;</div>
<div class="line"><span class="lineno"> 5949</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5950</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="model__q3bsp_8h.html#aa464016e0c3c90d5db562bfb560851da">Q3FACETYPE_FLARE</a>:</div>
<div class="line"><span class="lineno"> 5951</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 5952</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: face #%i (texture \&quot;%s\&quot;): Q3FACETYPE_FLARE not supported (yet)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name);</div>
<div class="line"><span class="lineno"> 5953</span>            <span class="comment">// don&#39;t render it</span></div>
<div class="line"><span class="lineno"> 5954</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5955</span>        }</div>
<div class="line"><span class="lineno"> 5956</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices = numvertices;</div>
<div class="line"><span class="lineno"> 5957</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles = numtriangles;</div>
<div class="line"><span class="lineno"> 5958</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices;</div>
<div class="line"><span class="lineno"> 5959</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshtriangles</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles;</div>
<div class="line"><span class="lineno"> 5960</span>    }</div>
<div class="line"><span class="lineno"> 5961</span> </div>
<div class="line"><span class="lineno"> 5962</span>    <span class="comment">// Fix patches tesselations so that they make no seams</span></div>
<div class="line"><span class="lineno"> 5963</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 5964</span>    {</div>
<div class="line"><span class="lineno"> 5965</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">again</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5966</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 5967</span>        {</div>
<div class="line"><span class="lineno"> 5968</span>            <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>+1; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>)</div>
<div class="line"><span class="lineno"> 5969</span>            {</div>
<div class="line"><span class="lineno"> 5970</span>                <span class="keywordflow">if</span> (!<a class="code hl_define" href="model__brush_8c.html#adf2c201d8369a5dc59ee7df4938f533e">PATCHTESS_SAME_LODGROUP</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]))</div>
<div class="line"><span class="lineno"> 5971</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5972</span> </div>
<div class="line"><span class="lineno"> 5973</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="curves_8c.html#ae629e285bac5601fb9d8b5341b504481">Q3PatchAdjustTesselation</a>(3, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].originalvertex3f, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].info, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].originalvertex3f) )</div>
<div class="line"><span class="lineno"> 5974</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">again</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5975</span>            }</div>
<div class="line"><span class="lineno"> 5976</span>        }</div>
<div class="line"><span class="lineno"> 5977</span>    }</div>
<div class="line"><span class="lineno"> 5978</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">again</a>);</div>
<div class="line"><span class="lineno"> 5979</span> </div>
<div class="line"><span class="lineno"> 5980</span>    <span class="comment">// Calculate resulting number of triangles</span></div>
<div class="line"><span class="lineno"> 5981</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertices</a> = 0;</div>
<div class="line"><span class="lineno"> 5982</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a> = 0;</div>
<div class="line"><span class="lineno"> 5983</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 5984</span>    {</div>
<div class="line"><span class="lineno"> 5985</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> = <a class="code hl_function" href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info.xsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a18948a15e2a5b3a5e015ee5664b946b3">PATCH_LOD_VISUAL</a>].xtess);</div>
<div class="line"><span class="lineno"> 5986</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a> = <a class="code hl_function" href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info.ysize,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a18948a15e2a5b3a5e015ee5664b946b3">PATCH_LOD_VISUAL</a>].ytess);</div>
<div class="line"><span class="lineno"> 5987</span>        numvertices = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a>;</div>
<div class="line"><span class="lineno"> 5988</span>        numtriangles = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> - 1) * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a> - 1) * 2;</div>
<div class="line"><span class="lineno"> 5989</span> </div>
<div class="line"><span class="lineno"> 5990</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surface_id].num_vertices = numvertices;</div>
<div class="line"><span class="lineno"> 5991</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surface_id].num_triangles = numtriangles;</div>
<div class="line"><span class="lineno"> 5992</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surface_id].num_vertices;</div>
<div class="line"><span class="lineno"> 5993</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshtriangles</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surface_id].num_triangles;</div>
<div class="line"><span class="lineno"> 5994</span> </div>
<div class="line"><span class="lineno"> 5995</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> = <a class="code hl_function" href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info.xsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a8ca1327b7c51498d1b1eeb3551846dc5">PATCH_LOD_COLLISION</a>].xtess);</div>
<div class="line"><span class="lineno"> 5996</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a> = <a class="code hl_function" href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info.ysize,<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a8ca1327b7c51498d1b1eeb3551846dc5">PATCH_LOD_COLLISION</a>].ytess);</div>
<div class="line"><span class="lineno"> 5997</span>        numvertices = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a>;</div>
<div class="line"><span class="lineno"> 5998</span>        numtriangles = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> - 1) * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a> - 1) * 2;</div>
<div class="line"><span class="lineno"> 5999</span> </div>
<div class="line"><span class="lineno"> 6000</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surface_id].num_collisionvertices = numvertices;</div>
<div class="line"><span class="lineno"> 6001</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surface_id].num_collisiontriangles = numtriangles;</div>
<div class="line"><span class="lineno"> 6002</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertices</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surface_id].num_collisionvertices;</div>
<div class="line"><span class="lineno"> 6003</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surface_id].num_collisiontriangles;</div>
<div class="line"><span class="lineno"> 6004</span>    }</div>
<div class="line"><span class="lineno"> 6005</span> </div>
<div class="line"><span class="lineno"> 6006</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldi</a>;</div>
<div class="line"><span class="lineno"> 6007</span>    in = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldin</a>;</div>
<div class="line"><span class="lineno"> 6008</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>;</div>
<div class="line"><span class="lineno"> 6009</span>    <a class="code hl_function" href="model__shared_8c.html#a455c3cfb0b7e57f8e4dbe4ee0e8fd37e">Mod_AllocSurfMesh</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshtriangles</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 6010</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a>)</div>
<div class="line"><span class="lineno"> 6011</span>    {</div>
<div class="line"><span class="lineno"> 6012</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a> = (<span class="keywordtype">float</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertices</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]));</div>
<div class="line"><span class="lineno"> 6013</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a755d162f456a2a35c5eb8cfeb031f681">data_collisionelement3i</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>[3]));</div>
<div class="line"><span class="lineno"> 6014</span>    }</div>
<div class="line"><span class="lineno"> 6015</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a> = 0;</div>
<div class="line"><span class="lineno"> 6016</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshtriangles</a> = 0;</div>
<div class="line"><span class="lineno"> 6017</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertices</a> = 0;</div>
<div class="line"><span class="lineno"> 6018</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a> = 0;</div>
<div class="line"><span class="lineno"> 6019</span>    <span class="keywordflow">for</span> (;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices &lt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 6020</span>    {</div>
<div class="line"><span class="lineno"> 6021</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices &lt; 3 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles &lt; 1)</div>
<div class="line"><span class="lineno"> 6022</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6023</span> </div>
<div class="line"><span class="lineno"> 6024</span>        <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;type);</div>
<div class="line"><span class="lineno"> 6025</span>        firstvertex = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstvertex);</div>
<div class="line"><span class="lineno"> 6026</span>        firstelement = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstelement);</div>
<div class="line"><span class="lineno"> 6027</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a>;</div>
<div class="line"><span class="lineno"> 6028</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshtriangles</a>;</div>
<div class="line"><span class="lineno"> 6029</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstcollisiontriangle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a>;</div>
<div class="line"><span class="lineno"> 6030</span>        <span class="keywordflow">switch</span>(<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>)</div>
<div class="line"><span class="lineno"> 6031</span>        {</div>
<div class="line"><span class="lineno"> 6032</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="model__q3bsp_8h.html#a3d661e63746fd23c636785cd5e6cd8f0">Q3FACETYPE_FLAT</a>:</div>
<div class="line"><span class="lineno"> 6033</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="model__q3bsp_8h.html#a9cc6f7e32ad6c95ab910f37264a0e4e1">Q3FACETYPE_MESH</a>:</div>
<div class="line"><span class="lineno"> 6034</span>            <span class="comment">// no processing necessary, except for lightmap merging</span></div>
<div class="line"><span class="lineno"> 6035</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6036</span>            {</div>
<div class="line"><span class="lineno"> 6037</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 3 + 0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 3 + 0];</div>
<div class="line"><span class="lineno"> 6038</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 3 + 1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 3 + 1];</div>
<div class="line"><span class="lineno"> 6039</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 3 + 2] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 3 + 2];</div>
<div class="line"><span class="lineno"> 6040</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 3 + 0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 3 + 0];</div>
<div class="line"><span class="lineno"> 6041</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 3 + 1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 3 + 1];</div>
<div class="line"><span class="lineno"> 6042</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 3 + 2] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 3 + 2];</div>
<div class="line"><span class="lineno"> 6043</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 2 + 0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">data_texcoordtexture2f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 2 + 0];</div>
<div class="line"><span class="lineno"> 6044</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 2 + 1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">data_texcoordtexture2f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 2 + 1];</div>
<div class="line"><span class="lineno"> 6045</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 2 + 0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">data_texcoordlightmap2f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 2 + 0];</div>
<div class="line"><span class="lineno"> 6046</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 2 + 1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">data_texcoordlightmap2f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 2 + 1];</div>
<div class="line"><span class="lineno"> 6047</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a43cdbcdab2d03322d1008bf50de6f353">data_lightmapcolor4f</a> + 4 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 4 + 0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 4 + 0];</div>
<div class="line"><span class="lineno"> 6048</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a43cdbcdab2d03322d1008bf50de6f353">data_lightmapcolor4f</a> + 4 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 4 + 1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 4 + 1];</div>
<div class="line"><span class="lineno"> 6049</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a43cdbcdab2d03322d1008bf50de6f353">data_lightmapcolor4f</a> + 4 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 4 + 2] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 4 + 2];</div>
<div class="line"><span class="lineno"> 6050</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a43cdbcdab2d03322d1008bf50de6f353">data_lightmapcolor4f</a> + 4 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> * 4 + 3] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[(firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>) * 4 + 3];</div>
<div class="line"><span class="lineno"> 6051</span>            }</div>
<div class="line"><span class="lineno"> 6052</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles*3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6053</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a884b231b8c9bd667d1d4e7e0113a91ee">data_element3i</a>[firstelement + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 6054</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6055</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="model__q3bsp_8h.html#afb168d23e9c3e5676ef817a3b3bf2d19">Q3FACETYPE_PATCH</a>:</div>
<div class="line"><span class="lineno"> 6056</span>            patchsize[0] = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;specific.patch.patchsize[0]);</div>
<div class="line"><span class="lineno"> 6057</span>            patchsize[1] = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;specific.patch.patchsize[1]);</div>
<div class="line"><span class="lineno"> 6058</span>            originalvertex3f = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a> + firstvertex * 3;</div>
<div class="line"><span class="lineno"> 6059</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalnormal3f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a> + firstvertex * 3;</div>
<div class="line"><span class="lineno"> 6060</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originaltexcoordtexture2f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">data_texcoordtexture2f</a> + firstvertex * 2;</div>
<div class="line"><span class="lineno"> 6061</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originaltexcoordlightmap2f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">data_texcoordlightmap2f</a> + firstvertex * 2;</div>
<div class="line"><span class="lineno"> 6062</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalcolor4f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a> + firstvertex * 4;</div>
<div class="line"><span class="lineno"> 6063</span> </div>
<div class="line"><span class="lineno"> 6064</span>            xtess = ytess = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a> = -1;</div>
<div class="line"><span class="lineno"> 6065</span>            <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtesscount</a>; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>)</div>
<div class="line"><span class="lineno"> 6066</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].surface_id == <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 6067</span>                {</div>
<div class="line"><span class="lineno"> 6068</span>                    xtess = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a18948a15e2a5b3a5e015ee5664b946b3">PATCH_LOD_VISUAL</a>].xtess;</div>
<div class="line"><span class="lineno"> 6069</span>                    ytess = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a18948a15e2a5b3a5e015ee5664b946b3">PATCH_LOD_VISUAL</a>].ytess;</div>
<div class="line"><span class="lineno"> 6070</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a8ca1327b7c51498d1b1eeb3551846dc5">PATCH_LOD_COLLISION</a>].xtess;</div>
<div class="line"><span class="lineno"> 6071</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>].info.lods[<a class="code hl_define" href="curves_8h.html#a8ca1327b7c51498d1b1eeb3551846dc5">PATCH_LOD_COLLISION</a>].ytess;</div>
<div class="line"><span class="lineno"> 6072</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6073</span>                }</div>
<div class="line"><span class="lineno"> 6074</span>            <span class="keywordflow">if</span>(xtess == -1)</div>
<div class="line"><span class="lineno"> 6075</span>            {</div>
<div class="line"><span class="lineno"> 6076</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;ERROR: patch %d isn&#39;t preprocessed?!?\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><span class="lineno"> 6077</span>                xtess = ytess = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a> = 0;</div>
<div class="line"><span class="lineno"> 6078</span>            }</div>
<div class="line"><span class="lineno"> 6079</span> </div>
<div class="line"><span class="lineno"> 6080</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> = <a class="code hl_function" href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a>(patchsize[0],xtess); <span class="comment">//((patchsize[0] - 1) * xtess) + 1;</span></div>
<div class="line"><span class="lineno"> 6081</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a> = <a class="code hl_function" href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a>(patchsize[1],ytess); <span class="comment">//((patchsize[1] - 1) * ytess) + 1;</span></div>
<div class="line"><span class="lineno"> 6082</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalvertices</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a>;</div>
<div class="line"><span class="lineno"> 6083</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldnumtriangles</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finaltriangles</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> - 1) * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a> - 1) * 2;</div>
<div class="line"><span class="lineno"> 6084</span>            <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="model__q3bsp_8h.html#a9cc6f7e32ad6c95ab910f37264a0e4e1">Q3FACETYPE_MESH</a>;</div>
<div class="line"><span class="lineno"> 6085</span>            <span class="comment">// generate geometry</span></div>
<div class="line"><span class="lineno"> 6086</span>            <span class="comment">// (note: normals are skipped because they get recalculated)</span></div>
<div class="line"><span class="lineno"> 6087</span>            <a class="code hl_function" href="curves_8c.html#a7f18c98dafc819ccc2b08706be80d0a0">Q3PatchTesselateFloat</a>(3, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]), (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex), patchsize[0], patchsize[1], <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]), originalvertex3f, xtess, ytess);</div>
<div class="line"><span class="lineno"> 6088</span>            <a class="code hl_function" href="curves_8c.html#a7f18c98dafc819ccc2b08706be80d0a0">Q3PatchTesselateFloat</a>(3, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]), (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex), patchsize[0], patchsize[1], <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalnormal3f</a>, xtess, ytess);</div>
<div class="line"><span class="lineno"> 6089</span>            <a class="code hl_function" href="curves_8c.html#a7f18c98dafc819ccc2b08706be80d0a0">Q3PatchTesselateFloat</a>(2, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[2]), (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex), patchsize[0], patchsize[1], <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[2]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originaltexcoordtexture2f</a>, xtess, ytess);</div>
<div class="line"><span class="lineno"> 6090</span>            <a class="code hl_function" href="curves_8c.html#a7f18c98dafc819ccc2b08706be80d0a0">Q3PatchTesselateFloat</a>(2, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[2]), (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex), patchsize[0], patchsize[1], <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[2]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originaltexcoordlightmap2f</a>, xtess, ytess);</div>
<div class="line"><span class="lineno"> 6091</span>            <a class="code hl_function" href="curves_8c.html#a7f18c98dafc819ccc2b08706be80d0a0">Q3PatchTesselateFloat</a>(4, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[4]), (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a43cdbcdab2d03322d1008bf50de6f353">data_lightmapcolor4f</a> + 4 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex), patchsize[0], patchsize[1], <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[4]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalcolor4f</a>, xtess, ytess);</div>
<div class="line"><span class="lineno"> 6092</span>            <a class="code hl_function" href="curves_8c.html#a492cf6226b151e813c6d39795fb89d54">Q3PatchTriangleElements</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex);</div>
<div class="line"><span class="lineno"> 6093</span> </div>
<div class="line"><span class="lineno"> 6094</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles = <a class="code hl_function" href="model__shared_8c.html#a9afca5eb89c94aade4ee83c5ffbf8066">Mod_RemoveDegenerateTriangles</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle), (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle), <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>);</div>
<div class="line"><span class="lineno"> 6095</span> </div>
<div class="line"><span class="lineno"> 6096</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 6097</span>            {</div>
<div class="line"><span class="lineno"> 6098</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finaltriangles</a>)</div>
<div class="line"><span class="lineno"> 6099</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: %ix%i curve subdivided to %i vertices / %i triangles, %i degenerate triangles removed (leaving %i)\n&quot;</span>, patchsize[0], patchsize[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finaltriangles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finaltriangles</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles);</div>
<div class="line"><span class="lineno"> 6100</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6101</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: %ix%i curve subdivided to %i vertices / %i triangles\n&quot;</span>, patchsize[0], patchsize[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles);</div>
<div class="line"><span class="lineno"> 6102</span>            }</div>
<div class="line"><span class="lineno"> 6103</span>            <span class="comment">// q3map does not put in collision brushes for curves... ugh</span></div>
<div class="line"><span class="lineno"> 6104</span>            <span class="comment">// build the lower quality collision geometry</span></div>
<div class="line"><span class="lineno"> 6105</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> = <a class="code hl_function" href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a>(patchsize[0],<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a>); <span class="comment">//((patchsize[0] - 1) * cxtess) + 1;</span></div>
<div class="line"><span class="lineno"> 6106</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a> = <a class="code hl_function" href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a>(patchsize[1],<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a>); <span class="comment">//((patchsize[1] - 1) * cytess) + 1;</span></div>
<div class="line"><span class="lineno"> 6107</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalvertices</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a>;</div>
<div class="line"><span class="lineno"> 6108</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldnumtriangles2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finaltriangles</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a> - 1) * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a> - 1) * 2;</div>
<div class="line"><span class="lineno"> 6109</span> </div>
<div class="line"><span class="lineno"> 6110</span>            <span class="comment">// store collision geometry for BIH collision tree</span></div>
<div class="line"><span class="lineno"> 6111</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_collisionvertices = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalvertices</a>;</div>
<div class="line"><span class="lineno"> 6112</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_collisiontriangles = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finaltriangles</a>;</div>
<div class="line"><span class="lineno"> 6113</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionvertex3f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertices</a> * 3;</div>
<div class="line"><span class="lineno"> 6114</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionelement3i</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a755d162f456a2a35c5eb8cfeb031f681">data_collisionelement3i</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a> * 3;</div>
<div class="line"><span class="lineno"> 6115</span>            <a class="code hl_function" href="curves_8c.html#a7f18c98dafc819ccc2b08706be80d0a0">Q3PatchTesselateFloat</a>(3, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionvertex3f</a>, patchsize[0], patchsize[1], <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>[3]), originalvertex3f, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cxtess</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cytess</a>);</div>
<div class="line"><span class="lineno"> 6116</span>            <a class="code hl_function" href="curves_8c.html#a492cf6226b151e813c6d39795fb89d54">Q3PatchTriangleElements</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionelement3i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalheight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertices</a>);</div>
<div class="line"><span class="lineno"> 6117</span>            <a class="code hl_function" href="model__shared_8c.html#a99847fc089cdd271d3f4998c2c60e719">Mod_SnapVertices</a>(3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalvertices</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionvertex3f</a>, 1);</div>
<div class="line"><span class="lineno"> 6118</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_collisiontriangles = <a class="code hl_function" href="model__shared_8c.html#a9afca5eb89c94aade4ee83c5ffbf8066">Mod_RemoveDegenerateTriangles</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finaltriangles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionelement3i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacecollisionelement3i</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7c197f06fe5642140d8251b47e821e76">data_collisionvertex3f</a>);</div>
<div class="line"><span class="lineno"> 6119</span> </div>
<div class="line"><span class="lineno"> 6120</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 6121</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: %ix%i curve became %i:%i vertices / %i:%i triangles (%i:%i degenerate)\n&quot;</span>, patchsize[0], patchsize[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_collisionvertices, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldnumtriangles</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldnumtriangles2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldnumtriangles</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldnumtriangles2</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_collisiontriangles);</div>
<div class="line"><span class="lineno"> 6122</span> </div>
<div class="line"><span class="lineno"> 6123</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisionvertices</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finalvertices</a>;</div>
<div class="line"><span class="lineno"> 6124</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisiontriangles</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_collisiontriangles;</div>
<div class="line"><span class="lineno"> 6125</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6126</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 6127</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 6128</span>        }</div>
<div class="line"><span class="lineno"> 6129</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshvertices</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices;</div>
<div class="line"><span class="lineno"> 6130</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">meshtriangles</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles;</div>
<div class="line"><span class="lineno"> 6131</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">invalidelements</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles * 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6132</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex || (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices)</div>
<div class="line"><span class="lineno"> 6133</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">invalidelements</a>++;</div>
<div class="line"><span class="lineno"> 6134</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">invalidelements</a>)</div>
<div class="line"><span class="lineno"> 6135</span>        {</div>
<div class="line"><span class="lineno"> 6136</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: Warning: face #%i has %i invalid elements, type = %i, texture-&gt;name = \&quot;%s\&quot;, texture-&gt;surfaceflags = %i, firstvertex = %i, numvertices = %i, firstelement = %i, numelements = %i, elements list:\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">invalidelements</a>, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;surfaceflags, firstvertex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices, firstelement, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles * 3);</div>
<div class="line"><span class="lineno"> 6137</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles * 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6138</span>            {</div>
<div class="line"><span class="lineno"> 6139</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot; %i&quot;</span>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex);</div>
<div class="line"><span class="lineno"> 6140</span>                <span class="keywordflow">if</span> ((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex || (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices)</div>
<div class="line"><span class="lineno"> 6141</span>                    (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 6142</span>            }</div>
<div class="line"><span class="lineno"> 6143</span>            <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 6144</span>        }</div>
<div class="line"><span class="lineno"> 6145</span>        <span class="comment">// calculate a bounding box</span></div>
<div class="line"><span class="lineno"> 6146</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins);</div>
<div class="line"><span class="lineno"> 6147</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs);</div>
<div class="line"><span class="lineno"> 6148</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices)</div>
<div class="line"><span class="lineno"> 6149</span>        {</div>
<div class="line"><span class="lineno"> 6150</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;lightmaptexture)</div>
<div class="line"><span class="lineno"> 6151</span>            {</div>
<div class="line"><span class="lineno"> 6152</span>                <span class="comment">// figure out which part of the merged lightmap this fits into</span></div>
<div class="line"><span class="lineno"> 6153</span>                <span class="keywordtype">int</span> lightmapindex = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;lightmapindex) &gt;&gt; (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> ? 1 : 0);</div>
<div class="line"><span class="lineno"> 6154</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergewidth</a> = <a class="code hl_function" href="gl__textures_8c.html#a738ec012beff0c3bc4bfb9b023130534">R_TextureWidth</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;lightmaptexture) / <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a82432f8cd90860635d33c455b24a4dda">lightmapsize</a>;</div>
<div class="line"><span class="lineno"> 6155</span>                <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeheight</a> = <a class="code hl_function" href="gl__textures_8c.html#a4bc984e9e2d032d8cd37aaa4fef168bd">R_TextureHeight</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;lightmaptexture) / <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a82432f8cd90860635d33c455b24a4dda">lightmapsize</a>;</div>
<div class="line"><span class="lineno"> 6156</span>                lightmapindex &amp;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergewidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeheight</a> - 1;</div>
<div class="line"><span class="lineno"> 6157</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcscale</a>[0] = 1.0f / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergewidth</a>;</div>
<div class="line"><span class="lineno"> 6158</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcscale</a>[1] = 1.0f / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeheight</a>;</div>
<div class="line"><span class="lineno"> 6159</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcbase</a>[0] = (lightmapindex % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergewidth</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcscale</a>[0];</div>
<div class="line"><span class="lineno"> 6160</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcbase</a>[1] = (lightmapindex / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergewidth</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcscale</a>[1];</div>
<div class="line"><span class="lineno"> 6161</span>                <span class="comment">// modify the lightmap texcoords to match this region of the merged lightmap</span></div>
<div class="line"><span class="lineno"> 6162</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> += 2)</div>
<div class="line"><span class="lineno"> 6163</span>                {</div>
<div class="line"><span class="lineno"> 6164</span>                    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcscale</a>[0] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcbase</a>[0];</div>
<div class="line"><span class="lineno"> 6165</span>                    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcscale</a>[1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaptcbase</a>[1];</div>
<div class="line"><span class="lineno"> 6166</span>                }</div>
<div class="line"><span class="lineno"> 6167</span>            }</div>
<div class="line"><span class="lineno"> 6168</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins);</div>
<div class="line"><span class="lineno"> 6169</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs);</div>
<div class="line"><span class="lineno"> 6170</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 1, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex) + 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> += 3)</div>
<div class="line"><span class="lineno"> 6171</span>            {</div>
<div class="line"><span class="lineno"> 6172</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0]);</div>
<div class="line"><span class="lineno"> 6173</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0]);</div>
<div class="line"><span class="lineno"> 6174</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1]);</div>
<div class="line"><span class="lineno"> 6175</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1]);</div>
<div class="line"><span class="lineno"> 6176</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2]);</div>
<div class="line"><span class="lineno"> 6177</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2], <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2]);</div>
<div class="line"><span class="lineno"> 6178</span>            }</div>
<div class="line"><span class="lineno"> 6179</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[0] -= 1.0f;</div>
<div class="line"><span class="lineno"> 6180</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[1] -= 1.0f;</div>
<div class="line"><span class="lineno"> 6181</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[2] -= 1.0f;</div>
<div class="line"><span class="lineno"> 6182</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[0] += 1.0f;</div>
<div class="line"><span class="lineno"> 6183</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[1] += 1.0f;</div>
<div class="line"><span class="lineno"> 6184</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[2] += 1.0f;</div>
<div class="line"><span class="lineno"> 6185</span>        }</div>
<div class="line"><span class="lineno"> 6186</span>        <span class="comment">// set lightmap styles for consistency with q1bsp</span></div>
<div class="line"><span class="lineno"> 6187</span>        <span class="comment">//out-&gt;lightmapinfo-&gt;styles[0] = 0;</span></div>
<div class="line"><span class="lineno"> 6188</span>        <span class="comment">//out-&gt;lightmapinfo-&gt;styles[1] = 255;</span></div>
<div class="line"><span class="lineno"> 6189</span>        <span class="comment">//out-&gt;lightmapinfo-&gt;styles[2] = 255;</span></div>
<div class="line"><span class="lineno"> 6190</span>        <span class="comment">//out-&gt;lightmapinfo-&gt;styles[3] = 255;</span></div>
<div class="line"><span class="lineno"> 6191</span>    }</div>
<div class="line"><span class="lineno"> 6192</span> </div>
<div class="line"><span class="lineno"> 6193</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldi</a>;</div>
<div class="line"><span class="lineno"> 6194</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldout</a>;</div>
<div class="line"><span class="lineno"> 6195</span>    <span class="keywordflow">for</span> (;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 6196</span>    {</div>
<div class="line"><span class="lineno"> 6197</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles)</div>
<div class="line"><span class="lineno"> 6198</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6199</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_vertices == 0)</div>
<div class="line"><span class="lineno"> 6200</span>        {</div>
<div class="line"><span class="lineno"> 6201</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: surface %d (texture %s) has no vertices, ignoring\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name : <span class="stringliteral">&quot;(none)&quot;</span>);</div>
<div class="line"><span class="lineno"> 6202</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles == 0)</div>
<div class="line"><span class="lineno"> 6203</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: surface %d (texture %s) has no triangles, ignoring\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name : <span class="stringliteral">&quot;(none)&quot;</span>);</div>
<div class="line"><span class="lineno"> 6204</span>        }</div>
<div class="line"><span class="lineno"> 6205</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_triangles == 0)</div>
<div class="line"><span class="lineno"> 6206</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadFaces: surface %d (texture %s, near %f %f %f) has no triangles, ignoring\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;texture-&gt;name : <span class="stringliteral">&quot;(none)&quot;</span>,</div>
<div class="line"><span class="lineno"> 6207</span>                    (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;surfmesh.data_vertex3f + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[0 * 3 + 0],</div>
<div class="line"><span class="lineno"> 6208</span>                    (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;surfmesh.data_vertex3f + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[1 * 3 + 0],</div>
<div class="line"><span class="lineno"> 6209</span>                    (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;surfmesh.data_vertex3f + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;num_firstvertex)[2 * 3 + 0]);</div>
<div class="line"><span class="lineno"> 6210</span>    }</div>
<div class="line"><span class="lineno"> 6211</span> </div>
<div class="line"><span class="lineno"> 6212</span>    <span class="comment">// for per pixel lighting</span></div>
<div class="line"><span class="lineno"> 6213</span>    <a class="code hl_function" href="model__shared_8c.html#aa4c8e5f23a372b474dbf2344bd1af35d">Mod_BuildTextureVectorsFromNormals</a>(0, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a454d82b1d9cdb4d96ece8b89c4ecbc7e">num_vertices</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a5955263e1adbb8dedcfedf7caba77971">data_svector3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a8e5cfd0075e30165db1a60a468201937">data_tvector3f</a>, <a class="code hl_variable" href="gl__rmain_8c.html#a37faadec2e376d05a51a598c303faee8">r_smoothnormals_areaweighting</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != 0);</div>
<div class="line"><span class="lineno"> 6214</span> </div>
<div class="line"><span class="lineno"> 6215</span>    <span class="comment">// generate ushort elements array if possible</span></div>
<div class="line"><span class="lineno"> 6216</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>)</div>
<div class="line"><span class="lineno"> 6217</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>*3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 6218</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 6219</span> </div>
<div class="line"><span class="lineno"> 6220</span>    <span class="comment">// free the no longer needed vertex data</span></div>
<div class="line"><span class="lineno"> 6221</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ac7a5765168191fd28f4307979dc1c735">num_vertices</a> = 0;</div>
<div class="line"><span class="lineno"> 6222</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a>)</div>
<div class="line"><span class="lineno"> 6223</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a>);</div>
<div class="line"><span class="lineno"> 6224</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6225</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6226</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">data_texcoordtexture2f</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6227</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">data_texcoordlightmap2f</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6228</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6229</span>    <span class="comment">// free the no longer needed triangle data</span></div>
<div class="line"><span class="lineno"> 6230</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a34f9043d0206d00e40e2e2ab139abcb2">num_triangles</a> = 0;</div>
<div class="line"><span class="lineno"> 6231</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a884b231b8c9bd667d1d4e7e0113a91ee">data_element3i</a>)</div>
<div class="line"><span class="lineno"> 6232</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a884b231b8c9bd667d1d4e7e0113a91ee">data_element3i</a>);</div>
<div class="line"><span class="lineno"> 6233</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a884b231b8c9bd667d1d4e7e0113a91ee">data_element3i</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6234</span> </div>
<div class="line"><span class="lineno"> 6235</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>)</div>
<div class="line"><span class="lineno"> 6236</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">patchtess</a>);</div>
<div class="line"><span class="lineno"> 6237</span>}</div>
<div class="ttc" id="acommon_8h_html_ad274f6f5f861d42dc9cb893322c84e1a"><div class="ttname"><a href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a></div><div class="ttdeci">#define LittleFloat(l)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="aconsole_8h_html_ae151ed35a905aff75d5f5dc32cd965bb"><div class="ttname"><a href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a></div><div class="ttdeci">#define CON_ERROR</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00097">console.h:97</a></div></div>
<div class="ttc" id="acurves_8c_html_a492cf6226b151e813c6d39795fb89d54"><div class="ttname"><a href="curves_8c.html#a492cf6226b151e813c6d39795fb89d54">Q3PatchTriangleElements</a></div><div class="ttdeci">void Q3PatchTriangleElements(int *elements, int width, int height, int firstvertex)</div><div class="ttdef"><b>Definition</b> <a href="curves_8c_source.html#l00399">curves.c:399</a></div></div>
<div class="ttc" id="acurves_8c_html_a7f18c98dafc819ccc2b08706be80d0a0"><div class="ttname"><a href="curves_8c.html#a7f18c98dafc819ccc2b08706be80d0a0">Q3PatchTesselateFloat</a></div><div class="ttdeci">void Q3PatchTesselateFloat(int numcomponents, int outputstride, float *outputvertices, int patchwidth, int patchheight, int inputstride, float *patchvertices, int tesselationwidth, int tesselationheight)</div><div class="ttdef"><b>Definition</b> <a href="curves_8c_source.html#l00064">curves.c:64</a></div></div>
<div class="ttc" id="acurves_8c_html_ab559344c1cab52962fc94644a748f700"><div class="ttname"><a href="curves_8c.html#ab559344c1cab52962fc94644a748f700">Q3PatchTesselationOnY</a></div><div class="ttdeci">int Q3PatchTesselationOnY(int patchwidth, int patchheight, int components, const float *in, float tolerance)</div><div class="ttdef"><b>Definition</b> <a href="curves_8c_source.html#l00252">curves.c:252</a></div></div>
<div class="ttc" id="acurves_8c_html_ae629e285bac5601fb9d8b5341b504481"><div class="ttname"><a href="curves_8c.html#ae629e285bac5601fb9d8b5341b504481">Q3PatchAdjustTesselation</a></div><div class="ttdeci">int Q3PatchAdjustTesselation(int numcomponents, patchinfo_t *patch1, float *patchvertices1, patchinfo_t *patch2, float *patchvertices2)</div><div class="ttdef"><b>Definition</b> <a href="curves_8c_source.html#l00329">curves.c:329</a></div></div>
<div class="ttc" id="acurves_8c_html_af368e478cb2c9c156bc5cec217e6b2fc"><div class="ttname"><a href="curves_8c.html#af368e478cb2c9c156bc5cec217e6b2fc">Q3PatchTesselationOnX</a></div><div class="ttdeci">int Q3PatchTesselationOnX(int patchwidth, int patchheight, int components, const float *in, float tolerance)</div><div class="ttdef"><b>Definition</b> <a href="curves_8c_source.html#l00232">curves.c:232</a></div></div>
<div class="ttc" id="acurves_8c_html_af84435fc475b460b9c7e989728f7b656"><div class="ttname"><a href="curves_8c.html#af84435fc475b460b9c7e989728f7b656">Q3PatchDimForTess</a></div><div class="ttdeci">int Q3PatchDimForTess(int size, int tess)</div><div class="ttdef"><b>Definition</b> <a href="curves_8c_source.html#l00051">curves.c:51</a></div></div>
<div class="ttc" id="acurves_8h_html_a18948a15e2a5b3a5e015ee5664b946b3"><div class="ttname"><a href="curves_8h.html#a18948a15e2a5b3a5e015ee5664b946b3">PATCH_LOD_VISUAL</a></div><div class="ttdeci">#define PATCH_LOD_VISUAL</div><div class="ttdef"><b>Definition</b> <a href="curves_8h_source.html#l00006">curves.h:6</a></div></div>
<div class="ttc" id="acurves_8h_html_a8ca1327b7c51498d1b1eeb3551846dc5"><div class="ttname"><a href="curves_8h.html#a8ca1327b7c51498d1b1eeb3551846dc5">PATCH_LOD_COLLISION</a></div><div class="ttdeci">#define PATCH_LOD_COLLISION</div><div class="ttdef"><b>Definition</b> <a href="curves_8h_source.html#l00005">curves.h:5</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a4bc984e9e2d032d8cd37aaa4fef168bd"><div class="ttname"><a href="gl__textures_8c.html#a4bc984e9e2d032d8cd37aaa4fef168bd">R_TextureHeight</a></div><div class="ttdeci">int R_TextureHeight(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02275">gl_textures.c:2275</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a738ec012beff0c3bc4bfb9b023130534"><div class="ttname"><a href="gl__textures_8c.html#a738ec012beff0c3bc4bfb9b023130534">R_TextureWidth</a></div><div class="ttdeci">int R_TextureWidth(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l02270">gl_textures.c:2270</a></div></div>
<div class="ttc" id="aglquake_8h_html_affda859b376cb8300c60fa496eb99df0"><div class="ttname"><a href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a></div><div class="ttdeci">GLenum type</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="ahost_8c_html_a2d29d0100dc86ae96b813350bb2b6c32"><div class="ttname"><a href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a></div><div class="ttdeci">cvar_t developer_extra</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00050">host.c:50</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_adf2c201d8369a5dc59ee7df4938f533e"><div class="ttname"><a href="model__brush_8c.html#adf2c201d8369a5dc59ee7df4938f533e">PATCHTESS_SAME_LODGROUP</a></div><div class="ttdeci">#define PATCHTESS_SAME_LODGROUP(a, b)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05773">model_brush.c:5773</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a3d661e63746fd23c636785cd5e6cd8f0"><div class="ttname"><a href="model__q3bsp_8h.html#a3d661e63746fd23c636785cd5e6cd8f0">Q3FACETYPE_FLAT</a></div><div class="ttdeci">#define Q3FACETYPE_FLAT</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00140">model_q3bsp.h:140</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_a9cc6f7e32ad6c95ab910f37264a0e4e1"><div class="ttname"><a href="model__q3bsp_8h.html#a9cc6f7e32ad6c95ab910f37264a0e4e1">Q3FACETYPE_MESH</a></div><div class="ttdeci">#define Q3FACETYPE_MESH</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00142">model_q3bsp.h:142</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_aa464016e0c3c90d5db562bfb560851da"><div class="ttname"><a href="model__q3bsp_8h.html#aa464016e0c3c90d5db562bfb560851da">Q3FACETYPE_FLARE</a></div><div class="ttdeci">#define Q3FACETYPE_FLARE</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00143">model_q3bsp.h:143</a></div></div>
<div class="ttc" id="amodel__q3bsp_8h_html_afb168d23e9c3e5676ef817a3b3bf2d19"><div class="ttname"><a href="model__q3bsp_8h.html#afb168d23e9c3e5676ef817a3b3bf2d19">Q3FACETYPE_PATCH</a></div><div class="ttdeci">#define Q3FACETYPE_PATCH</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00141">model_q3bsp.h:141</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a99847fc089cdd271d3f4998c2c60e719"><div class="ttname"><a href="model__shared_8c.html#a99847fc089cdd271d3f4998c2c60e719">Mod_SnapVertices</a></div><div class="ttdeci">void Mod_SnapVertices(int numcomponents, int numvertices, float *vertices, float snap)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02833">model_shared.c:2833</a></div></div>
<div class="ttc" id="amodel__shared_8c_html_a9afca5eb89c94aade4ee83c5ffbf8066"><div class="ttname"><a href="model__shared_8c.html#a9afca5eb89c94aade4ee83c5ffbf8066">Mod_RemoveDegenerateTriangles</a></div><div class="ttdeci">int Mod_RemoveDegenerateTriangles(int numtriangles, const int *inelement3i, int *outelement3i, const float *vertex3f)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8c_source.html#l02841">model_shared.c:2841</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a1303798b4598f11cf2f7ad53c9bba8e8"><div class="ttname"><a href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">model_brushq3_t::data_texcoordtexture2f</a></div><div class="ttdeci">float * data_texcoordtexture2f</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00321">model_q3bsp.h:321</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a2d300d29cbaf22aa44b84bb754950840"><div class="ttname"><a href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">model_brushq3_t::data_normal3f</a></div><div class="ttdeci">float * data_normal3f</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00320">model_q3bsp.h:320</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a2f6f66b7d81c2bd20a8033b89a6fa3bc"><div class="ttname"><a href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">model_brushq3_t::data_texcoordlightmap2f</a></div><div class="ttdeci">float * data_texcoordlightmap2f</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00322">model_q3bsp.h:322</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a34f9043d0206d00e40e2e2ab139abcb2"><div class="ttname"><a href="structmodel__brushq3__t.html#a34f9043d0206d00e40e2e2ab139abcb2">model_brushq3_t::num_triangles</a></div><div class="ttdeci">int num_triangles</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00326">model_q3bsp.h:326</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a7caa84e95aa61d4e3bc15c499792722e"><div class="ttname"><a href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">model_brushq3_t::data_vertex3f</a></div><div class="ttdeci">float * data_vertex3f</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00319">model_q3bsp.h:319</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a82432f8cd90860635d33c455b24a4dda"><div class="ttname"><a href="structmodel__brushq3__t.html#a82432f8cd90860635d33c455b24a4dda">model_brushq3_t::lightmapsize</a></div><div class="ttdeci">int lightmapsize</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00369">model_q3bsp.h:369</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a884b231b8c9bd667d1d4e7e0113a91ee"><div class="ttname"><a href="structmodel__brushq3__t.html#a884b231b8c9bd667d1d4e7e0113a91ee">model_brushq3_t::data_element3i</a></div><div class="ttdeci">int * data_element3i</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00327">model_q3bsp.h:327</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_aaa8774093de92cdbd8a75774b47acf06"><div class="ttname"><a href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">model_brushq3_t::data_color4f</a></div><div class="ttdeci">float * data_color4f</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00323">model_q3bsp.h:323</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_ac7a5765168191fd28f4307979dc1c735"><div class="ttname"><a href="structmodel__brushq3__t.html#ac7a5765168191fd28f4307979dc1c735">model_brushq3_t::num_vertices</a></div><div class="ttdeci">int num_vertices</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00318">model_q3bsp.h:318</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_adb7af97dfec6a2d73fe38563f67a5f66"><div class="ttname"><a href="structmodel__brushq3__t.html#adb7af97dfec6a2d73fe38563f67a5f66">model_brushq3_t::num_lightmapmergedwidthheightdeluxepower</a></div><div class="ttdeci">int num_lightmapmergedwidthheightdeluxepower</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00337">model_q3bsp.h:337</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_add5c6a55ee87fabce49902bcf95ecc3d"><div class="ttname"><a href="structmodel__brushq3__t.html#add5c6a55ee87fabce49902bcf95ecc3d">model_brushq3_t::num_originallightmaps</a></div><div class="ttdeci">int num_originallightmaps</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00333">model_q3bsp.h:333</a></div></div>
<div class="ttc" id="astructpatchtess__t_html"><div class="ttname"><a href="structpatchtess__t.html">patchtess_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l05763">model_brush.c:5764</a></div></div>
<div class="ttc" id="astructq3dface__t_html"><div class="ttname"><a href="structq3dface__t.html">q3dface_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00145">model_q3bsp.h:146</a></div></div>
<div class="ttc" id="astructsurfmesh__t_html_a43cdbcdab2d03322d1008bf50de6f353"><div class="ttname"><a href="structsurfmesh__t.html#a43cdbcdab2d03322d1008bf50de6f353">surfmesh_t::data_lightmapcolor4f</a></div><div class="ttdeci">float * data_lightmapcolor4f</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00100">model_shared.h:100</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a2fb01dcaa64bc83236d3957e540204d8" name="a2fb01dcaa64bc83236d3957e540204d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb01dcaa64bc83236d3957e540204d8">&#9670;&#160;</a></span>Mod_Q3BSP_LoadLeafBrushes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadLeafBrushes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06276">6276</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6277</span>{</div>
<div class="line"><span class="lineno"> 6278</span>    <span class="keywordtype">int</span> *in;</div>
<div class="line"><span class="lineno"> 6279</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6280</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6281</span> </div>
<div class="line"><span class="lineno"> 6282</span>    in = (<span class="keywordtype">int</span> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 6283</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6284</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLeafBrushes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 6285</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 6286</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 6287</span> </div>
<div class="line"><span class="lineno"> 6288</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8ece276d867ed661b326568f5df6a864">data_leafbrushes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6289</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7188283a3da6cf3bc1a51fb2253d97a0">num_leafbrushes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6290</span> </div>
<div class="line"><span class="lineno"> 6291</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 6292</span>    {</div>
<div class="line"><span class="lineno"> 6293</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(*in);</div>
<div class="line"><span class="lineno"> 6294</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a>)</div>
<div class="line"><span class="lineno"> 6295</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLeafBrushes: invalid brush index %i (%i brushes)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a>);</div>
<div class="line"><span class="lineno"> 6296</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6297</span>    }</div>
<div class="line"><span class="lineno"> 6298</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a86378a86e0fe2abe704908fb0e747d38" name="a86378a86e0fe2abe704908fb0e747d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86378a86e0fe2abe704908fb0e747d38">&#9670;&#160;</a></span>Mod_Q3BSP_LoadLeafFaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadLeafFaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06300">6300</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6301</span>{</div>
<div class="line"><span class="lineno"> 6302</span>    <span class="keywordtype">int</span> *in;</div>
<div class="line"><span class="lineno"> 6303</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6304</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6305</span> </div>
<div class="line"><span class="lineno"> 6306</span>    in = (<span class="keywordtype">int</span> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 6307</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6308</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLeafFaces: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 6309</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 6310</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 6311</span> </div>
<div class="line"><span class="lineno"> 6312</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6313</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6314</span> </div>
<div class="line"><span class="lineno"> 6315</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 6316</span>    {</div>
<div class="line"><span class="lineno"> 6317</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(*in);</div>
<div class="line"><span class="lineno"> 6318</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>)</div>
<div class="line"><span class="lineno"> 6319</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLeafFaces: invalid face index %i (%i faces)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>);</div>
<div class="line"><span class="lineno"> 6320</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6321</span>    }</div>
<div class="line"><span class="lineno"> 6322</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a055eb658f7b1d845eecf32da9b6afbe8" name="a055eb658f7b1d845eecf32da9b6afbe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055eb658f7b1d845eecf32da9b6afbe8">&#9670;&#160;</a></span>Mod_Q3BSP_LoadLeafs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadLeafs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06324">6324</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6325</span>{</div>
<div class="line"><span class="lineno"> 6326</span>    <a class="code hl_struct" href="structq3dleaf__t.html">q3dleaf_t</a> *in;</div>
<div class="line"><span class="lineno"> 6327</span>    <a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6328</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, c, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6329</span> </div>
<div class="line"><span class="lineno"> 6330</span>    in = (<a class="code hl_struct" href="structq3dleaf__t.html">q3dleaf_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 6331</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6332</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLeafs: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 6333</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 6334</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 6335</span> </div>
<div class="line"><span class="lineno"> 6336</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6337</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6338</span> </div>
<div class="line"><span class="lineno"> 6339</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 6340</span>    {</div>
<div class="line"><span class="lineno"> 6341</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;parent = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6342</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;plane = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6343</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;clusterindex = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;clusterindex);</div>
<div class="line"><span class="lineno"> 6344</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;areaindex = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;areaindex);</div>
<div class="line"><span class="lineno"> 6345</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6346</span>        {</div>
<div class="line"><span class="lineno"> 6347</span>            <span class="comment">// yes the mins/maxs are ints</span></div>
<div class="line"><span class="lineno"> 6348</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;mins[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]) - 1;</div>
<div class="line"><span class="lineno"> 6349</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;maxs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]) + 1;</div>
<div class="line"><span class="lineno"> 6350</span>        }</div>
<div class="line"><span class="lineno"> 6351</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstleafface);</div>
<div class="line"><span class="lineno"> 6352</span>        c = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numleaffaces);</div>
<div class="line"><span class="lineno"> 6353</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n + c &gt;</a> <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a>)</div>
<div class="line"><span class="lineno"> 6354</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLeafs: invalid leafsurface range %i : %i (%i leafsurfaces)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> + c, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a3468fe43e799903ed940e7046fa02638">num_leafsurfaces</a>);</div>
<div class="line"><span class="lineno"> 6355</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstleafsurface = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#abeb097eebe8c0153e0aef2e8018418d2">data_leafsurfaces</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6356</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numleafsurfaces = c;</div>
<div class="line"><span class="lineno"> 6357</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstleafbrush);</div>
<div class="line"><span class="lineno"> 6358</span>        c = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numleafbrushes);</div>
<div class="line"><span class="lineno"> 6359</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n + c &gt;</a> <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7188283a3da6cf3bc1a51fb2253d97a0">num_leafbrushes</a>)</div>
<div class="line"><span class="lineno"> 6360</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLeafs: invalid leafbrush range %i : %i (%i leafbrushes)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> + c, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7188283a3da6cf3bc1a51fb2253d97a0">num_leafbrushes</a>);</div>
<div class="line"><span class="lineno"> 6361</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstleafbrush = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8ece276d867ed661b326568f5df6a864">data_leafbrushes</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6362</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numleafbrushes = c;</div>
<div class="line"><span class="lineno"> 6363</span>    }</div>
<div class="line"><span class="lineno"> 6364</span>}</div>
<div class="ttc" id="astructq3dleaf__t_html"><div class="ttname"><a href="structq3dleaf__t.html">q3dleaf_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00069">model_q3bsp.h:70</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a0b721835adc7530b2cc96fa3f6256136" name="a0b721835adc7530b2cc96fa3f6256136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b721835adc7530b2cc96fa3f6256136">&#9670;&#160;</a></span>Mod_Q3BSP_LoadLightGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadLightGrid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06419">6419</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6420</span>{</div>
<div class="line"><span class="lineno"> 6421</span>    <a class="code hl_struct" href="structq3dlightgrid__t.html">q3dlightgrid_t</a> *in;</div>
<div class="line"><span class="lineno"> 6422</span>    <a class="code hl_struct" href="structq3dlightgrid__t.html">q3dlightgrid_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6423</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6424</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 6425</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[3];</div>
<div class="line"><span class="lineno"> 6426</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturergba</a>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[3], *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[2];</div>
<div class="line"><span class="lineno"> 6427</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[4][4];</div>
<div class="line"><span class="lineno"> 6428</span> </div>
<div class="line"><span class="lineno"> 6429</span>    in = (<a class="code hl_struct" href="structq3dlightgrid__t.html">q3dlightgrid_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 6430</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6431</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLightGrid: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 6432</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[0] = 1.0f / <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[0];</div>
<div class="line"><span class="lineno"> 6433</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[1] = 1.0f / <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[1];</div>
<div class="line"><span class="lineno"> 6434</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[2] = 1.0f / <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[2];</div>
<div class="line"><span class="lineno"> 6435</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[0] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ceil</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>-&gt;<a class="code hl_variable" href="structq3dmodel__t.html#ab33dace6aad87c18d8f4a56a4a4e23af">mins</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[0]);</div>
<div class="line"><span class="lineno"> 6436</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[1] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ceil</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>-&gt;<a class="code hl_variable" href="structq3dmodel__t.html#ab33dace6aad87c18d8f4a56a4a4e23af">mins</a>[1] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[1]);</div>
<div class="line"><span class="lineno"> 6437</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[2] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ceil</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>-&gt;<a class="code hl_variable" href="structq3dmodel__t.html#ab33dace6aad87c18d8f4a56a4a4e23af">mins</a>[2] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[2]);</div>
<div class="line"><span class="lineno"> 6438</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1cb512d3ff8428d5f27ce447d94b04b1">num_lightgrid_imaxs</a>[0] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>-&gt;<a class="code hl_variable" href="structq3dmodel__t.html#a7113e911350ccf843c8bac8e5c90b2c1">maxs</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[0]);</div>
<div class="line"><span class="lineno"> 6439</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1cb512d3ff8428d5f27ce447d94b04b1">num_lightgrid_imaxs</a>[1] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>-&gt;<a class="code hl_variable" href="structq3dmodel__t.html#a7113e911350ccf843c8bac8e5c90b2c1">maxs</a>[1] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[1]);</div>
<div class="line"><span class="lineno"> 6440</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1cb512d3ff8428d5f27ce447d94b04b1">num_lightgrid_imaxs</a>[2] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a>-&gt;<a class="code hl_variable" href="structq3dmodel__t.html#a7113e911350ccf843c8bac8e5c90b2c1">maxs</a>[2] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[2]);</div>
<div class="line"><span class="lineno"> 6441</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1cb512d3ff8428d5f27ce447d94b04b1">num_lightgrid_imaxs</a>[0] - <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[0] + 1;</div>
<div class="line"><span class="lineno"> 6442</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1cb512d3ff8428d5f27ce447d94b04b1">num_lightgrid_imaxs</a>[1] - <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[1] + 1;</div>
<div class="line"><span class="lineno"> 6443</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1cb512d3ff8428d5f27ce447d94b04b1">num_lightgrid_imaxs</a>[2] - <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[2] + 1;</div>
<div class="line"><span class="lineno"> 6444</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2];</div>
<div class="line"><span class="lineno"> 6445</span>    <a class="code hl_function" href="matrixlib_8c.html#a822f29c5872a6c4908bfea0a2cb481d2">Matrix4x4_CreateScale3</a>(&amp;<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a26260d975cad6e39e499e62faa8f20f9">num_lightgrid_indexfromworld</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[0], <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[1], <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[2]);</div>
<div class="line"><span class="lineno"> 6446</span>    <a class="code hl_function" href="matrixlib_8c.html#ab5fffaa6081ee9fbf609ed00b53518fc">Matrix4x4_ConcatTranslate</a>(&amp;<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a26260d975cad6e39e499e62faa8f20f9">num_lightgrid_indexfromworld</a>, -<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[0], -<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[1] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[1], -<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[2] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a5a05c09d0e16f30cc381559e0441932a">num_lightgrid_cellsize</a>[2]);</div>
<div class="line"><span class="lineno"> 6447</span> </div>
<div class="line"><span class="lineno"> 6448</span>    <span class="comment">// if lump is empty there is nothing to load, we can deal with that in the LightPoint code</span></div>
<div class="line"><span class="lineno"> 6449</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen)</div>
<div class="line"><span class="lineno"> 6450</span>    {</div>
<div class="line"><span class="lineno"> 6451</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6452</span>        {</div>
<div class="line"><span class="lineno"> 6453</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;Mod_Q3BSP_LoadLightGrid: invalid lightgrid lump size %i bytes, should be %i bytes (%ix%ix%i)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*in)), <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0], <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1], <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2]);</div>
<div class="line"><span class="lineno"> 6454</span>            <span class="keywordflow">return</span>; <span class="comment">// ignore the grid if we cannot understand it</span></div>
<div class="line"><span class="lineno"> 6455</span>        }</div>
<div class="line"><span class="lineno"> 6456</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen != <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6457</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Mod_Q3BSP_LoadLightGrid: Warning: calculated lightgrid size %i bytes does not match lump size %i\n&quot;</span>, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*in)), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen);</div>
<div class="line"><span class="lineno"> 6458</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structq3dlightgrid__t.html">q3dlightgrid_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 6459</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9f2310c4c2818e19e7a5a90b2c156377">data_lightgrid</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6460</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a0f3ce0bffd6351c944089bf50a5d7af6">num_lightgrid</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6461</span>        <span class="comment">// no swapping or validation necessary</span></div>
<div class="line"><span class="lineno"> 6462</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, in, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 6463</span> </div>
<div class="line"><span class="lineno"> 6464</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="model__brush_8c.html#a9260109f82a8e564ade6ada3c0488831">mod_q3bsp_sRGBlightmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 6465</span>        {</div>
<div class="line"><span class="lineno"> 6466</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="vid_8h.html#a05b59de47bf13f839c78d891723d31ba">vid_sRGB_fallback</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><span class="lineno"> 6467</span>            {</div>
<div class="line"><span class="lineno"> 6468</span>                <span class="comment">// we fix the brightness consistently via lightmapscale</span></div>
<div class="line"><span class="lineno"> 6469</span>            }</div>
<div class="line"><span class="lineno"> 6470</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6471</span>            {</div>
<div class="line"><span class="lineno"> 6472</span>                <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 6473</span>                {</div>
<div class="line"><span class="lineno"> 6474</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[0]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6475</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[1]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6476</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[2]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6477</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[0]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6478</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[1]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6479</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[2]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6480</span>                }</div>
<div class="line"><span class="lineno"> 6481</span>            }</div>
<div class="line"><span class="lineno"> 6482</span>        }</div>
<div class="line"><span class="lineno"> 6483</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6484</span>        {</div>
<div class="line"><span class="lineno"> 6485</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="vid_8h.html#a05b59de47bf13f839c78d891723d31ba">vid_sRGB_fallback</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><span class="lineno"> 6486</span>            {</div>
<div class="line"><span class="lineno"> 6487</span>                <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 6488</span>                {</div>
<div class="line"><span class="lineno"> 6489</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[0]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6490</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[1]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6491</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[2]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6492</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[0]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6493</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[1]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6494</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[2]) * 255.0f + 0.5f);</div>
<div class="line"><span class="lineno"> 6495</span>                }</div>
<div class="line"><span class="lineno"> 6496</span>            }</div>
<div class="line"><span class="lineno"> 6497</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6498</span>            {</div>
<div class="line"><span class="lineno"> 6499</span>                <span class="comment">// all is good</span></div>
<div class="line"><span class="lineno"> 6500</span>            }</div>
<div class="line"><span class="lineno"> 6501</span>        }</div>
<div class="line"><span class="lineno"> 6502</span> </div>
<div class="line"><span class="lineno"> 6503</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__brush_8c.html#a7be57207f43c552586a464adfa683162">mod_q3bsp_lightgrid_texture</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 6504</span>        {</div>
<div class="line"><span class="lineno"> 6505</span>            <span class="comment">// build a texture to hold the data for per-pixel sampling</span></div>
<div class="line"><span class="lineno"> 6506</span>            <span class="comment">// this has 3 different kinds of data stacked in it:</span></div>
<div class="line"><span class="lineno"> 6507</span>            <span class="comment">// ambient color</span></div>
<div class="line"><span class="lineno"> 6508</span>            <span class="comment">// bent-normal light color</span></div>
<div class="line"><span class="lineno"> 6509</span>            <span class="comment">// bent-normal light dir</span></div>
<div class="line"><span class="lineno"> 6510</span> </div>
<div class="line"><span class="lineno"> 6511</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0];</div>
<div class="line"><span class="lineno"> 6512</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1];</div>
<div class="line"><span class="lineno"> 6513</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[2] = (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2] + 2) * 3;</div>
<div class="line"><span class="lineno"> 6514</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturergba</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[2] * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>[4]));</div>
<div class="line"><span class="lineno"> 6515</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturergba</a> + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] * 4;</div>
<div class="line"><span class="lineno"> 6516</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0] + (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] * (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2] + 2)) * 4;</div>
<div class="line"><span class="lineno"> 6517</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[1] + (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] * (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2] + 2)) * 4;</div>
<div class="line"><span class="lineno"> 6518</span>            <span class="comment">// the light dir layer needs padding above/below it that is a neutral unsigned normal (127,127,127,255)</span></div>
<div class="line"><span class="lineno"> 6519</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[2] - <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] * 4;</div>
<div class="line"><span class="lineno"> 6520</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[2] + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1] * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2] * 4;</div>
<div class="line"><span class="lineno"> 6521</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[1]; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 6522</span>            {</div>
<div class="line"><span class="lineno"> 6523</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[1][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4] = 127;</div>
<div class="line"><span class="lineno"> 6524</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[1][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = 127;</div>
<div class="line"><span class="lineno"> 6525</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[1][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = 127;</div>
<div class="line"><span class="lineno"> 6526</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 3] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturepadding</a>[1][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 3] = 255;</div>
<div class="line"><span class="lineno"> 6527</span>            }</div>
<div class="line"><span class="lineno"> 6528</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 6529</span>            {</div>
<div class="line"><span class="lineno"> 6530</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[0];</div>
<div class="line"><span class="lineno"> 6531</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[1];</div>
<div class="line"><span class="lineno"> 6532</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ambientrgb[2];</div>
<div class="line"><span class="lineno"> 6533</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 3] = 255;</div>
<div class="line"><span class="lineno"> 6534</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[1][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[0];</div>
<div class="line"><span class="lineno"> 6535</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[1][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[1];</div>
<div class="line"><span class="lineno"> 6536</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[1][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusergb[2];</div>
<div class="line"><span class="lineno"> 6537</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[1][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 3] = 255;</div>
<div class="line"><span class="lineno"> 6538</span>                <span class="comment">// this uses the mod_md3_sin table because the values are</span></div>
<div class="line"><span class="lineno"> 6539</span>                <span class="comment">// already in the 0-255 range, the 64+ bias fetches a cosine</span></div>
<div class="line"><span class="lineno"> 6540</span>                <span class="comment">// instead of a sine value</span></div>
<div class="line"><span class="lineno"> 6541</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[2][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 0] = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>)((<a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[64 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffuseyaw] * <a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusepitch]) * 127 + 127);</div>
<div class="line"><span class="lineno"> 6542</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[2][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>)((<a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffuseyaw] * <a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusepitch]) * 127 + 127);</div>
<div class="line"><span class="lineno"> 6543</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[2][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>)((<a class="code hl_variable" href="model__alias_8c.html#ac77182e37c4aeb96def3e48890d7ecb7">mod_md3_sin</a>[64 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].diffusepitch]) * 127 + 127);</div>
<div class="line"><span class="lineno"> 6544</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[2][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 3] = 255;</div>
<div class="line"><span class="lineno"> 6545</span>            }</div>
<div class="line"><span class="lineno"> 6546</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 6547</span>            <span class="comment">// debugging hack</span></div>
<div class="line"><span class="lineno"> 6548</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>, <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>;</div>
<div class="line"><span class="lineno"> 6549</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a> = 0; <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2]; <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>++)</div>
<div class="line"><span class="lineno"> 6550</span>            {</div>
<div class="line"><span class="lineno"> 6551</span>                <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> = 0; <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1]; <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>++)</div>
<div class="line"><span class="lineno"> 6552</span>                {</div>
<div class="line"><span class="lineno"> 6553</span>                    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = 0; <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0]; <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>++)</div>
<div class="line"><span class="lineno"> 6554</span>                    {</div>
<div class="line"><span class="lineno"> 6555</span>                        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = (<a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[1] + <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[0] + <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>;</div>
<div class="line"><span class="lineno"> 6556</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 0] = <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> * 256 / <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[0];</div>
<div class="line"><span class="lineno"> 6557</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = <a class="code hl_variable" href="glquake_8h.html#a563ae63395ca802a7c65b4f461fbf0d4">y</a> * 256 / <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[1];</div>
<div class="line"><span class="lineno"> 6558</span>                        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturelayer</a>[0][<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = <a class="code hl_variable" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a> * 256 / <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab92fc06352b01074d0781ad6dfedb2df">num_lightgrid_isize</a>[2];</div>
<div class="line"><span class="lineno"> 6559</span>                    }</div>
<div class="line"><span class="lineno"> 6560</span>                }</div>
<div class="line"><span class="lineno"> 6561</span>            }</div>
<div class="line"><span class="lineno"> 6562</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 6563</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aec4242529c259ddeb6166596c8ea10d6">lightgridtexturesize</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[0];</div>
<div class="line"><span class="lineno"> 6564</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aec4242529c259ddeb6166596c8ea10d6">lightgridtexturesize</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[1];</div>
<div class="line"><span class="lineno"> 6565</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aec4242529c259ddeb6166596c8ea10d6">lightgridtexturesize</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[2];</div>
<div class="line"><span class="lineno"> 6566</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[0], 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>));</div>
<div class="line"><span class="lineno"> 6567</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[0][0] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[0] / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[0];</div>
<div class="line"><span class="lineno"> 6568</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[1][1] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[1] / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[1];</div>
<div class="line"><span class="lineno"> 6569</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[2][2] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">num_lightgrid_scale</a>[2] / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[2];</div>
<div class="line"><span class="lineno"> 6570</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[0][3] = -(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[0] - 0.5f) / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[0];</div>
<div class="line"><span class="lineno"> 6571</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[1][3] = -(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[1] - 0.5f) / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[1];</div>
<div class="line"><span class="lineno"> 6572</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[2][3] = -(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">num_lightgrid_imins</a>[2] - 1.5f) / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[2];</div>
<div class="line"><span class="lineno"> 6573</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>[3][3] = 1;</div>
<div class="line"><span class="lineno"> 6574</span>            <a class="code hl_function" href="matrixlib_8c.html#ad119affc4de88925e19c5746f2614360">Matrix4x4_FromArrayDoubleD3D</a>(&amp;<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a8105f99f8d3de16af764352ce4c52f6d">lightgridworldtotexturematrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgridmatrix</a>);</div>
<div class="line"><span class="lineno"> 6575</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ad643355b195f4fb9bb06709ebf7737f0">lightgridtexture</a> = <a class="code hl_function" href="gl__textures_8c.html#ad4df59df0b150a5f85d36b5f3f8be05d">R_LoadTexture3D</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a>, <span class="stringliteral">&quot;lightgrid&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturesize</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturergba</a>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a>, <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 6576</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texturergba</a>);</div>
<div class="line"><span class="lineno"> 6577</span>        }</div>
<div class="line"><span class="lineno"> 6578</span>    }</div>
<div class="line"><span class="lineno"> 6579</span>}</div>
<div class="ttc" id="agl__textures_8c_html_ad4df59df0b150a5f85d36b5f3f8be05d"><div class="ttname"><a href="gl__textures_8c.html#ad4df59df0b150a5f85d36b5f3f8be05d">R_LoadTexture3D</a></div><div class="ttdeci">rtexture_t * R_LoadTexture3D(rtexturepool_t *rtexturepool, const char *identifier, int width, int height, int depth, const unsigned char *data, textype_t textype, int flags, int miplevel, const unsigned int *palette)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l01357">gl_textures.c:1357</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0462a1894bf0c9123d1e81d1234b62fc"><div class="ttname"><a href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a></div><div class="ttdeci">GLubyte GLubyte GLubyte z</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00781">glquake.h:781</a></div></div>
<div class="ttc" id="aimage_8h_html_a2316f13de51459537db621e950f812e2"><div class="ttname"><a href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a></div><div class="ttdeci">#define Image_LinearFloatFromsRGB(c)</div><div class="ttdef"><b>Definition</b> <a href="image_8h_source.html#l00069">image.h:69</a></div></div>
<div class="ttc" id="aimage_8h_html_afd8185c8996f20ed444dde8ffb7d9ae8"><div class="ttname"><a href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a></div><div class="ttdeci">#define Image_sRGBFloatFromLinear_Lightmap(c)</div><div class="ttdef"><b>Definition</b> <a href="image_8h_source.html#l00071">image.h:71</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_a822f29c5872a6c4908bfea0a2cb481d2"><div class="ttname"><a href="matrixlib_8c.html#a822f29c5872a6c4908bfea0a2cb481d2">Matrix4x4_CreateScale3</a></div><div class="ttdeci">void Matrix4x4_CreateScale3(matrix4x4_t *out, double x, double y, double z)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l00695">matrixlib.c:695</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_ab5fffaa6081ee9fbf609ed00b53518fc"><div class="ttname"><a href="matrixlib_8c.html#ab5fffaa6081ee9fbf609ed00b53518fc">Matrix4x4_ConcatTranslate</a></div><div class="ttdeci">void Matrix4x4_ConcatTranslate(matrix4x4_t *out, double x, double y, double z)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l01757">matrixlib.c:1757</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_ad119affc4de88925e19c5746f2614360"><div class="ttname"><a href="matrixlib_8c.html#ad119affc4de88925e19c5746f2614360">Matrix4x4_FromArrayDoubleD3D</a></div><div class="ttdeci">void Matrix4x4_FromArrayDoubleD3D(matrix4x4_t *out, const double in[4][4])</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l01126">matrixlib.c:1126</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49adbde783f57a05c835bacd7edfcde1536">TEXTYPE_RGBA</a></div><div class="ttdeci">@ TEXTYPE_RGBA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00051">r_textures.h:51</a></div></div>
<div class="ttc" id="ar__textures_8h_html_abe4e0ad1d375c912287a2f199bf6352a"><div class="ttname"><a href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a></div><div class="ttdeci">#define TEXF_CLAMP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00015">r_textures.h:15</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a1cb512d3ff8428d5f27ce447d94b04b1"><div class="ttname"><a href="structmodel__brushq3__t.html#a1cb512d3ff8428d5f27ce447d94b04b1">model_brushq3_t::num_lightgrid_imaxs</a></div><div class="ttdeci">int num_lightgrid_imaxs[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00351">model_q3bsp.h:351</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a24396ad6b89a03b5784bc1e6b61f20f0"><div class="ttname"><a href="structmodel__brushq3__t.html#a24396ad6b89a03b5784bc1e6b61f20f0">model_brushq3_t::num_lightgrid_scale</a></div><div class="ttdeci">float num_lightgrid_scale[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00348">model_q3bsp.h:348</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a786fc3c07a9cd75a2edc25dae55608db"><div class="ttname"><a href="structmodel__brushq3__t.html#a786fc3c07a9cd75a2edc25dae55608db">model_brushq3_t::num_lightgrid_imins</a></div><div class="ttdeci">int num_lightgrid_imins[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00350">model_q3bsp.h:350</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a8105f99f8d3de16af764352ce4c52f6d"><div class="ttname"><a href="structmodel__brushq3__t.html#a8105f99f8d3de16af764352ce4c52f6d">model_brushq3_t::lightgridworldtotexturematrix</a></div><div class="ttdeci">matrix4x4_t lightgridworldtotexturematrix</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00357">model_q3bsp.h:357</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_ad643355b195f4fb9bb06709ebf7737f0"><div class="ttname"><a href="structmodel__brushq3__t.html#ad643355b195f4fb9bb06709ebf7737f0">model_brushq3_t::lightgridtexture</a></div><div class="ttdeci">rtexture_t * lightgridtexture</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00358">model_q3bsp.h:358</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_aec4242529c259ddeb6166596c8ea10d6"><div class="ttname"><a href="structmodel__brushq3__t.html#aec4242529c259ddeb6166596c8ea10d6">model_brushq3_t::lightgridtexturesize</a></div><div class="ttdeci">int lightgridtexturesize[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00356">model_q3bsp.h:356</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a0f37d4bfb6cdb3a1754fe5022b052340" name="a0f37d4bfb6cdb3a1754fe5022b052340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f37d4bfb6cdb3a1754fe5022b052340">&#9670;&#160;</a></span>Mod_Q3BSP_LoadLightmaps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadLightmaps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>faceslump</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05493">5493</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5494</span>{</div>
<div class="line"><span class="lineno"> 5495</span>    <a class="code hl_struct" href="structq3dlightmap__t.html">q3dlightmap_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">input_pointer</a>;</div>
<div class="line"><span class="lineno"> 5496</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 5497</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>;</div>
<div class="line"><span class="lineno"> 5498</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>;</div>
<div class="line"><span class="lineno"> 5499</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5500</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerx</a>;</div>
<div class="line"><span class="lineno"> 5501</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powery</a>;</div>
<div class="line"><span class="lineno"> 5502</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerxy</a>;</div>
<div class="line"><span class="lineno"> 5503</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerdxy</a>;</div>
<div class="line"><span class="lineno"> 5504</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endlightmap</a>;</div>
<div class="line"><span class="lineno"> 5505</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a>;</div>
<div class="line"><span class="lineno"> 5506</span>    <span class="keywordtype">int</span> lightmapindex;</div>
<div class="line"><span class="lineno"> 5507</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realcount</a>;</div>
<div class="line"><span class="lineno"> 5508</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realindex</a>;</div>
<div class="line"><span class="lineno"> 5509</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>;</div>
<div class="line"><span class="lineno"> 5510</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a>;</div>
<div class="line"><span class="lineno"> 5511</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedcolumns</a>;</div>
<div class="line"><span class="lineno"> 5512</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedrows</a>;</div>
<div class="line"><span class="lineno"> 5513</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedrowsxcolumns</a>;</div>
<div class="line"><span class="lineno"> 5514</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 5515</span>    <span class="keywordtype">int</span> bytesperpixel;</div>
<div class="line"><span class="lineno"> 5516</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[3];</div>
<div class="line"><span class="lineno"> 5517</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *c;</div>
<div class="line"><span class="lineno"> 5518</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedpixels</a>;</div>
<div class="line"><span class="lineno"> 5519</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeddeluxepixels</a>;</div>
<div class="line"><span class="lineno"> 5520</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergebuf</a>;</div>
<div class="line"><span class="lineno"> 5521</span>    <span class="keywordtype">char</span> mapname[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><span class="lineno"> 5522</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">external</a>;</div>
<div class="line"><span class="lineno"> 5523</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[10000]; <span class="comment">// max count q3map2 can output (it uses 4 digits)</span></div>
<div class="line"><span class="lineno"> 5524</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 5525</span> </div>
<div class="line"><span class="lineno"> 5526</span>    <span class="comment">// defaults for q3bsp</span></div>
<div class="line"><span class="lineno"> 5527</span>    <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = 128;</div>
<div class="line"><span class="lineno"> 5528</span>    bytesperpixel = 3;</div>
<div class="line"><span class="lineno"> 5529</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[0] = 2;</div>
<div class="line"><span class="lineno"> 5530</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[1] = 1;</div>
<div class="line"><span class="lineno"> 5531</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[2] = 0;</div>
<div class="line"><span class="lineno"> 5532</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">external</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5533</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a82432f8cd90860635d33c455b24a4dda">lightmapsize</a> = 128;</div>
<div class="line"><span class="lineno"> 5534</span> </div>
<div class="line"><span class="lineno"> 5535</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> == <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 5536</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 5537</span> </div>
<div class="line"><span class="lineno"> 5538</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="model__brush_8c.html#a78fb22b957e64a3049781239ee353d70">mod_q3bsp_nolightmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 5539</span>    {</div>
<div class="line"><span class="lineno"> 5540</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 5541</span>    }</div>
<div class="line"><span class="lineno"> 5542</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen)</div>
<div class="line"><span class="lineno"> 5543</span>    {</div>
<div class="line"><span class="lineno"> 5544</span>        <span class="comment">// prefer internal LMs for compatibility (a BSP contains no info on whether external LMs exist)</span></div>
<div class="line"><span class="lineno"> 5545</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a67a57130da6bf0ad0eb133c0b8bc7642">developer_loading</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 5546</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Using internal lightmaps\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 5547</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">input_pointer</a> = (<a class="code hl_struct" href="structq3dlightmap__t.html">q3dlightmap_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5548</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">input_pointer</a>))</div>
<div class="line"><span class="lineno"> 5549</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLightmaps: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5550</span>        <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*input_pointer);</div>
<div class="line"><span class="lineno"> 5551</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 5552</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">input_pointer</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="shader__glsl_8h.html#ad4306b98d0c422f3649106cef07f7619">rgb</a>;</div>
<div class="line"><span class="lineno"> 5553</span>    }</div>
<div class="line"><span class="lineno"> 5554</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5555</span>    {</div>
<div class="line"><span class="lineno"> 5556</span>        <span class="comment">// no internal lightmaps</span></div>
<div class="line"><span class="lineno"> 5557</span>        <span class="comment">// try external lightmaps</span></div>
<div class="line"><span class="lineno"> 5558</span>        <a class="code hl_function" href="fs_8c.html#a9fd7ebcbb75f140d76ab37664280555f">FS_StripExtension</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, mapname, <span class="keyword">sizeof</span>(mapname));</div>
<div class="line"><span class="lineno"> 5559</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[0] = <a class="code hl_function" href="image_8c.html#ab57af3ee2ad65f0fd5bd6caae299c657">loadimagepixelsbgra</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s/lm_%04d&quot;</span>, mapname, 0), <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 5560</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[0])</div>
<div class="line"><span class="lineno"> 5561</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 5562</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5563</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Using external lightmaps\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 5564</span> </div>
<div class="line"><span class="lineno"> 5565</span>        <span class="comment">// using EXTERNAL lightmaps instead</span></div>
<div class="line"><span class="lineno"> 5566</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a> != (<span class="keywordtype">int</span>) <a class="code hl_function" href="mathlib_8c.html#a8f525b87151d499911bb9d8d4a6f0b8d">CeilPowerOf2</a>(<a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a>) || <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a> != <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a>)</div>
<div class="line"><span class="lineno"> 5567</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLightmaps: irregularly sized external lightmap in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5568</span> </div>
<div class="line"><span class="lineno"> 5569</span>        <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a>;</div>
<div class="line"><span class="lineno"> 5570</span>        bytesperpixel = 4;</div>
<div class="line"><span class="lineno"> 5571</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 5572</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[1] = 1;</div>
<div class="line"><span class="lineno"> 5573</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[2] = 2;</div>
<div class="line"><span class="lineno"> 5574</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">external</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5575</span> </div>
<div class="line"><span class="lineno"> 5576</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = 1; ; ++<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 5577</span>        {</div>
<div class="line"><span class="lineno"> 5578</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>] = <a class="code hl_function" href="image_8c.html#ab57af3ee2ad65f0fd5bd6caae299c657">loadimagepixelsbgra</a>(<a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;%s/lm_%04d&quot;</span>, mapname, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>), <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 5579</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>])</div>
<div class="line"><span class="lineno"> 5580</span>                <span class="keywordflow">break</span>; <span class="comment">// we got all of them</span></div>
<div class="line"><span class="lineno"> 5581</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="image_8c.html#adcdf062bf62cd36e741bd190386f5fdb">image_width</a> != <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> || <a class="code hl_variable" href="image_8c.html#a1e0e6a62a1d85a2fdf500d466ea7a33f">image_height</a> != <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>)</div>
<div class="line"><span class="lineno"> 5582</span>            {</div>
<div class="line"><span class="lineno"> 5583</span>                <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>]);</div>
<div class="line"><span class="lineno"> 5584</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>] = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5585</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadLightmaps: mismatched lightmap size in %s - external lightmap %s/lm_%04d does not match earlier ones\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, mapname, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>);</div>
<div class="line"><span class="lineno"> 5586</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5587</span>            }</div>
<div class="line"><span class="lineno"> 5588</span>        }</div>
<div class="line"><span class="lineno"> 5589</span>    }</div>
<div class="line"><span class="lineno"> 5590</span> </div>
<div class="line"><span class="lineno"> 5591</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a82432f8cd90860635d33c455b24a4dda">lightmapsize</a> = <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 5592</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#add5c6a55ee87fabce49902bcf95ecc3d">num_originallightmaps</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5593</span> </div>
<div class="line"><span class="lineno"> 5594</span>    <span class="comment">// now check the surfaces to see if any of them index an odd numbered</span></div>
<div class="line"><span class="lineno"> 5595</span>    <span class="comment">// lightmap, if so this is not a deluxemapped bsp file</span></div>
<div class="line"><span class="lineno"> 5596</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 5597</span>    <span class="comment">// also check what lightmaps are actually used, because q3map2 sometimes</span></div>
<div class="line"><span class="lineno"> 5598</span>    <span class="comment">// (always?) makes an unused one at the end, which</span></div>
<div class="line"><span class="lineno"> 5599</span>    <span class="comment">// q3map2 sometimes (or always?) makes a second blank lightmap for no</span></div>
<div class="line"><span class="lineno"> 5600</span>    <span class="comment">// reason when only one lightmap is used, which can throw off the</span></div>
<div class="line"><span class="lineno"> 5601</span>    <span class="comment">// deluxemapping detection method, so check 2-lightmap bsp&#39;s specifically</span></div>
<div class="line"><span class="lineno"> 5602</span>    <span class="comment">// to see if the second lightmap is blank, if so it is not deluxemapped.</span></div>
<div class="line"><span class="lineno"> 5603</span>    <span class="comment">// VorteX: autodetect only if previous attempt to find &quot;deluxeMaps&quot; key</span></div>
<div class="line"><span class="lineno"> 5604</span>    <span class="comment">// in Mod_Q3BSP_LoadEntities was failed</span></div>
<div class="line"><span class="lineno"> 5605</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a>)</div>
<div class="line"><span class="lineno"> 5606</span>    {</div>
<div class="line"><span class="lineno"> 5607</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> = !(<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &amp; 1);</div>
<div class="line"><span class="lineno"> 5608</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ab45856a2ba7c570b8500aae6dcf6a491">deluxemapping_modelspace</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5609</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endlightmap</a> = 0;</div>
<div class="line"><span class="lineno"> 5610</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a>)</div>
<div class="line"><span class="lineno"> 5611</span>        {</div>
<div class="line"><span class="lineno"> 5612</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facecount</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">faceslump</a>-&gt;filelen / <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structq3dface__t.html">q3dface_t</a>);</div>
<div class="line"><span class="lineno"> 5613</span>            <a class="code hl_struct" href="structq3dface__t.html">q3dface_t</a> *faces = (<a class="code hl_struct" href="structq3dface__t.html">q3dface_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">faceslump</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5614</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">facecount</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 5615</span>            {</div>
<div class="line"><span class="lineno"> 5616</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(faces[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].lightmapindex);</div>
<div class="line"><span class="lineno"> 5617</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 5618</span>                {</div>
<div class="line"><span class="lineno"> 5619</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endlightmap</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endlightmap</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> + 1);</div>
<div class="line"><span class="lineno"> 5620</span>                    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &amp; 1) || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> + 1 &gt;= <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 5621</span>                    {</div>
<div class="line"><span class="lineno"> 5622</span>                        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5623</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5624</span>                    }</div>
<div class="line"><span class="lineno"> 5625</span>                }</div>
<div class="line"><span class="lineno"> 5626</span>            }</div>
<div class="line"><span class="lineno"> 5627</span>        }</div>
<div class="line"><span class="lineno"> 5628</span> </div>
<div class="line"><span class="lineno"> 5629</span>        <span class="comment">// q3map2 sometimes (or always?) makes a second blank lightmap for no</span></div>
<div class="line"><span class="lineno"> 5630</span>        <span class="comment">// reason when only one lightmap is used, which can throw off the</span></div>
<div class="line"><span class="lineno"> 5631</span>        <span class="comment">// deluxemapping detection method, so check 2-lightmap bsp&#39;s specifically</span></div>
<div class="line"><span class="lineno"> 5632</span>        <span class="comment">// to see if the second lightmap is blank, if so it is not deluxemapped.</span></div>
<div class="line"><span class="lineno"> 5633</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 5634</span>        <span class="comment">// further research has shown q3map2 sometimes creates a deluxemap and two</span></div>
<div class="line"><span class="lineno"> 5635</span>        <span class="comment">// blank lightmaps, which must be handled properly as well</span></div>
<div class="line"><span class="lineno"> 5636</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">endlightmap</a> == 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt; 1)</div>
<div class="line"><span class="lineno"> 5637</span>        {</div>
<div class="line"><span class="lineno"> 5638</span>            c = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[1];</div>
<div class="line"><span class="lineno"> 5639</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 5640</span>            {</div>
<div class="line"><span class="lineno"> 5641</span>                <span class="keywordflow">if</span> (c[bytesperpixel*<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[0]])</div>
<div class="line"><span class="lineno"> 5642</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5643</span>                <span class="keywordflow">if</span> (c[bytesperpixel*<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[1]])</div>
<div class="line"><span class="lineno"> 5644</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5645</span>                <span class="keywordflow">if</span> (c[bytesperpixel*<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[2]])</div>
<div class="line"><span class="lineno"> 5646</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5647</span>            }</div>
<div class="line"><span class="lineno"> 5648</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>)</div>
<div class="line"><span class="lineno"> 5649</span>            {</div>
<div class="line"><span class="lineno"> 5650</span>                <span class="comment">// all pixels in the unused lightmap were black...</span></div>
<div class="line"><span class="lineno"> 5651</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5652</span>            }</div>
<div class="line"><span class="lineno"> 5653</span>        }</div>
<div class="line"><span class="lineno"> 5654</span>    }</div>
<div class="line"><span class="lineno"> 5655</span> </div>
<div class="line"><span class="lineno"> 5656</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;%s is %sdeluxemapped\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;not &quot;</span>);</div>
<div class="line"><span class="lineno"> 5657</span> </div>
<div class="line"><span class="lineno"> 5658</span>    <span class="comment">// figure out what the most reasonable merge power is within limits</span></div>
<div class="line"><span class="lineno"> 5659</span> </div>
<div class="line"><span class="lineno"> 5660</span>    <span class="comment">// find the appropriate NxN dimensions to merge to, to avoid wasted space</span></div>
<div class="line"><span class="lineno"> 5661</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realcount</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> &gt;&gt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a>;</div>
<div class="line"><span class="lineno"> 5662</span> </div>
<div class="line"><span class="lineno"> 5663</span>    <span class="comment">// figure out how big the merged texture has to be</span></div>
<div class="line"><span class="lineno"> 5664</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a> = 128&lt;&lt;<a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="model__brush_8c.html#a6528b0a888ca229c2a6efab1a9c613e8">mod_q3bsp_lightmapmergepower</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, 6);</div>
<div class="line"><span class="lineno"> 5665</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a> = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a06a669057f01a0d02c34aa0ebc781a54">maxtexturesize_2d</a>);</div>
<div class="line"><span class="lineno"> 5666</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a> &gt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a> / 4 &gt;= <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> * <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realcount</a>)</div>
<div class="line"><span class="lineno"> 5667</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a> /= 2;</div>
<div class="line"><span class="lineno"> 5668</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a>;</div>
<div class="line"><span class="lineno"> 5669</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergegoal</a>;</div>
<div class="line"><span class="lineno"> 5670</span>    <span class="comment">// choose non-square size (2x1 aspect) if only half the space is used;</span></div>
<div class="line"><span class="lineno"> 5671</span>    <span class="comment">// this really only happens when the entire set fits in one texture, if</span></div>
<div class="line"><span class="lineno"> 5672</span>    <span class="comment">// there are multiple textures, we don&#39;t worry about shrinking the last</span></div>
<div class="line"><span class="lineno"> 5673</span>    <span class="comment">// one to fit, because the driver prefers the same texture size on</span></div>
<div class="line"><span class="lineno"> 5674</span>    <span class="comment">// consecutive draw calls...</span></div>
<div class="line"><span class="lineno"> 5675</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a> / 2 &gt;= <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realcount</a>)</div>
<div class="line"><span class="lineno"> 5676</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a> /= 2;</div>
<div class="line"><span class="lineno"> 5677</span> </div>
<div class="line"><span class="lineno"> 5678</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a30b5f0782b3744a899f54883743c915a">num_lightmapmergedwidthpower</a> = 0;</div>
<div class="line"><span class="lineno"> 5679</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#abd4302e988775df9b6c187681c5a9869">num_lightmapmergedheightpower</a> = 0;</div>
<div class="line"><span class="lineno"> 5680</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a> &gt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>&lt;&lt;<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a30b5f0782b3744a899f54883743c915a">num_lightmapmergedwidthpower</a>)</div>
<div class="line"><span class="lineno"> 5681</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a30b5f0782b3744a899f54883743c915a">num_lightmapmergedwidthpower</a>++;</div>
<div class="line"><span class="lineno"> 5682</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a> &gt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>&lt;&lt;<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#abd4302e988775df9b6c187681c5a9869">num_lightmapmergedheightpower</a>)</div>
<div class="line"><span class="lineno"> 5683</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#abd4302e988775df9b6c187681c5a9869">num_lightmapmergedheightpower</a>++;</div>
<div class="line"><span class="lineno"> 5684</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#adb7af97dfec6a2d73fe38563f67a5f66">num_lightmapmergedwidthheightdeluxepower</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a30b5f0782b3744a899f54883743c915a">num_lightmapmergedwidthpower</a> + <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#abd4302e988775df9b6c187681c5a9869">num_lightmapmergedheightpower</a> + (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> ? 1 : 0);</div>
<div class="line"><span class="lineno"> 5685</span> </div>
<div class="line"><span class="lineno"> 5686</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerx</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a30b5f0782b3744a899f54883743c915a">num_lightmapmergedwidthpower</a>;</div>
<div class="line"><span class="lineno"> 5687</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powery</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#abd4302e988775df9b6c187681c5a9869">num_lightmapmergedheightpower</a>;</div>
<div class="line"><span class="lineno"> 5688</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerxy</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerx</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powery</a>;</div>
<div class="line"><span class="lineno"> 5689</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerdxy</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerxy</a>;</div>
<div class="line"><span class="lineno"> 5690</span> </div>
<div class="line"><span class="lineno"> 5691</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedcolumns</a> = 1 &lt;&lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerx</a>;</div>
<div class="line"><span class="lineno"> 5692</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedrows</a> = 1 &lt;&lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powery</a>;</div>
<div class="line"><span class="lineno"> 5693</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedrowsxcolumns</a> = 1 &lt;&lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerxy</a>;</div>
<div class="line"><span class="lineno"> 5694</span> </div>
<div class="line"><span class="lineno"> 5695</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realcount</a> + (1 &lt;&lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerxy</a>) - 1) &gt;&gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerxy</a>;</div>
<div class="line"><span class="lineno"> 5696</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a> = (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> **)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *));</div>
<div class="line"><span class="lineno"> 5697</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a>)</div>
<div class="line"><span class="lineno"> 5698</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a> = (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> **)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *));</div>
<div class="line"><span class="lineno"> 5699</span> </div>
<div class="line"><span class="lineno"> 5700</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedpixels</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a> * 4);</div>
<div class="line"><span class="lineno"> 5701</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeddeluxepixels</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> ? (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="zone_8c.html#ac742acee1395c22ccf6d2370d465f844">tempmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a> * 4) : <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 5702</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 5703</span>    {</div>
<div class="line"><span class="lineno"> 5704</span>        <span class="comment">// figure out which merged lightmap texture this fits into</span></div>
<div class="line"><span class="lineno"> 5705</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realindex</a> = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;&gt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a>;</div>
<div class="line"><span class="lineno"> 5706</span>        lightmapindex = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;&gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerdxy</a>;</div>
<div class="line"><span class="lineno"> 5707</span> </div>
<div class="line"><span class="lineno"> 5708</span>        <span class="comment">// choose the destination address</span></div>
<div class="line"><span class="lineno"> 5709</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergebuf</a> = (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> &amp;&amp; (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 1)) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeddeluxepixels</a> : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedpixels</a>;</div>
<div class="line"><span class="lineno"> 5710</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergebuf</a> += 4 * (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realindex</a> &amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedcolumns</a>-1))*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> + 4 * ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realindex</a> &gt;&gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerx</a>) &amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedrows</a>-1))*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;</div>
<div class="line"><span class="lineno"> 5711</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 1) == 0 || !<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a>)</div>
<div class="line"><span class="lineno"> 5712</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;copying original lightmap %i (%ix%i) to %i (at %i,%i)\n&quot;</span>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, lightmapindex, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realindex</a> &amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedcolumns</a>-1))*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realindex</a> &gt;&gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">powerx</a>) &amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedrows</a>-1))*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><span class="lineno"> 5713</span> </div>
<div class="line"><span class="lineno"> 5714</span>        <span class="comment">// convert pixels from RGB or BGRA while copying them into the destination rectangle</span></div>
<div class="line"><span class="lineno"> 5715</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 5716</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 5717</span>        {</div>
<div class="line"><span class="lineno"> 5718</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergebuf</a>[(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)*4+0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)*bytesperpixel+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[0]];</div>
<div class="line"><span class="lineno"> 5719</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergebuf</a>[(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)*4+1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)*bytesperpixel+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[1]];</div>
<div class="line"><span class="lineno"> 5720</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergebuf</a>[(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)*4+2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*<a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)*bytesperpixel+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rgbmap</a>[2]];</div>
<div class="line"><span class="lineno"> 5721</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergebuf</a>[(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>+<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>)*4+3] = 255;</div>
<div class="line"><span class="lineno"> 5722</span>        }</div>
<div class="line"><span class="lineno"> 5723</span> </div>
<div class="line"><span class="lineno"> 5724</span>        <span class="comment">// upload texture if this was the last tile being written to the texture</span></div>
<div class="line"><span class="lineno"> 5725</span>        <span class="keywordflow">if</span> (((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realindex</a> + 1) &amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedrowsxcolumns</a> - 1)) == 0 || (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realindex</a> + 1) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">realcount</a>)</div>
<div class="line"><span class="lineno"> 5726</span>        {</div>
<div class="line"><span class="lineno"> 5727</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#afcbfa68b6aa2c4f09247a466bbec320e">deluxemapping</a> &amp;&amp; (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 1))</div>
<div class="line"><span class="lineno"> 5728</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a>[lightmapindex] = <a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;deluxemap%04i&quot;</span>, lightmapindex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeddeluxepixels</a>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | (<a class="code hl_variable" href="gl__textures_8c.html#ad983d911021d66737868a5a177cf7943">gl_texturecompression_q3bspdeluxemaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a> : 0), -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 5729</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5730</span>            {</div>
<div class="line"><span class="lineno"> 5731</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="model__brush_8c.html#a9260109f82a8e564ade6ada3c0488831">mod_q3bsp_sRGBlightmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 5732</span>                {</div>
<div class="line"><span class="lineno"> 5733</span>                    <a class="code hl_enumeration" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a> t;</div>
<div class="line"><span class="lineno"> 5734</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="vid_8h.html#a05b59de47bf13f839c78d891723d31ba">vid_sRGB_fallback</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><span class="lineno"> 5735</span>                    {</div>
<div class="line"><span class="lineno"> 5736</span>                        t = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>; <span class="comment">// in stupid fallback mode, we upload lightmaps in sRGB form and just fix their brightness</span></div>
<div class="line"><span class="lineno"> 5737</span>                        <span class="comment">// we fix the brightness consistently via lightmapscale</span></div>
<div class="line"><span class="lineno"> 5738</span>                    }</div>
<div class="line"><span class="lineno"> 5739</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5740</span>                        t = <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20">TEXTYPE_SRGB_BGRA</a>; <span class="comment">// normally, we upload lightmaps in sRGB form (possibly downconverted to linear)</span></div>
<div class="line"><span class="lineno"> 5741</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a> [lightmapindex] = <a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;lightmap%04i&quot;</span>, lightmapindex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedpixels</a>, t, <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | (<a class="code hl_variable" href="gl__textures_8c.html#a117555a3ab42975f16c7396c743bd2e9">gl_texturecompression_q3bsplightmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a> : 0), -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 5742</span>                }</div>
<div class="line"><span class="lineno"> 5743</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5744</span>                {</div>
<div class="line"><span class="lineno"> 5745</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="vid_8h.html#a05b59de47bf13f839c78d891723d31ba">vid_sRGB_fallback</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><span class="lineno"> 5746</span>                        <a class="code hl_function" href="image_8c.html#aa169ed901b58e5c497199cd0987a9f98">Image_MakesRGBColorsFromLinear_Lightmap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedpixels</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedpixels</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a>);</div>
<div class="line"><span class="lineno"> 5747</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a> [lightmapindex] = <a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;lightmap%04i&quot;</span>, lightmapindex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedwidth</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedheight</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedpixels</a>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | (<a class="code hl_variable" href="gl__textures_8c.html#a117555a3ab42975f16c7396c743bd2e9">gl_texturecompression_q3bsplightmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a> : 0), -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 5748</span>                }</div>
<div class="line"><span class="lineno"> 5749</span>            }</div>
<div class="line"><span class="lineno"> 5750</span>        }</div>
<div class="line"><span class="lineno"> 5751</span>    }</div>
<div class="line"><span class="lineno"> 5752</span> </div>
<div class="line"><span class="lineno"> 5753</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeddeluxepixels</a>)</div>
<div class="line"><span class="lineno"> 5754</span>        <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergeddeluxepixels</a>);</div>
<div class="line"><span class="lineno"> 5755</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mergedpixels</a>);</div>
<div class="line"><span class="lineno"> 5756</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">external</a>)</div>
<div class="line"><span class="lineno"> 5757</span>    {</div>
<div class="line"><span class="lineno"> 5758</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 5759</span>            <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">inpixels</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 5760</span>    }</div>
<div class="line"><span class="lineno"> 5761</span>}</div>
<div class="ttc" id="agl__textures_8c_html_a117555a3ab42975f16c7396c743bd2e9"><div class="ttname"><a href="gl__textures_8c.html#a117555a3ab42975f16c7396c743bd2e9">gl_texturecompression_q3bsplightmaps</a></div><div class="ttdeci">cvar_t gl_texturecompression_q3bsplightmaps</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00043">gl_textures.c:43</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ad983d911021d66737868a5a177cf7943"><div class="ttname"><a href="gl__textures_8c.html#ad983d911021d66737868a5a177cf7943">gl_texturecompression_q3bspdeluxemaps</a></div><div class="ttdeci">cvar_t gl_texturecompression_q3bspdeluxemaps</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00044">gl_textures.c:44</a></div></div>
<div class="ttc" id="aimage_8c_html_aa169ed901b58e5c497199cd0987a9f98"><div class="ttname"><a href="image_8c.html#aa169ed901b58e5c497199cd0987a9f98">Image_MakesRGBColorsFromLinear_Lightmap</a></div><div class="ttdeci">void Image_MakesRGBColorsFromLinear_Lightmap(unsigned char *pout, const unsigned char *pin, int numpixels)</div><div class="ttdef"><b>Definition</b> <a href="image_8c_source.html#l00946">image.c:946</a></div></div>
<div class="ttc" id="amathlib_8c_html_a8f525b87151d499911bb9d8d4a6f0b8d"><div class="ttname"><a href="mathlib_8c.html#a8f525b87151d499911bb9d8d4a6f0b8d">CeilPowerOf2</a></div><div class="ttdeci">unsigned int CeilPowerOf2(unsigned int value)</div><div class="ttdoc">returns the smallest integer greater than or equal to &quot;value&quot;, or 0 if &quot;value&quot; is too big</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00292">mathlib.c:292</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49">textype_t</a></div><div class="ttdeci">textype_t</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00043">r_textures.h:44</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49a4e64f96f0e0e5c636b89eafa24f0cd20">TEXTYPE_SRGB_BGRA</a></div><div class="ttdeci">@ TEXTYPE_SRGB_BGRA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00073">r_textures.h:73</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ad4306b98d0c422f3649106cef07f7619"><div class="ttname"><a href="shader__glsl_8h.html#ad4306b98d0c422f3649106cef07f7619">rgb</a></div><div class="ttdeci">dp_FragColor rgb</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00356">shader_glsl.h:356</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_a30b5f0782b3744a899f54883743c915a"><div class="ttname"><a href="structmodel__brushq3__t.html#a30b5f0782b3744a899f54883743c915a">model_brushq3_t::num_lightmapmergedwidthpower</a></div><div class="ttdeci">int num_lightmapmergedwidthpower</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00335">model_q3bsp.h:335</a></div></div>
<div class="ttc" id="astructmodel__brushq3__t_html_abd4302e988775df9b6c187681c5a9869"><div class="ttname"><a href="structmodel__brushq3__t.html#abd4302e988775df9b6c187681c5a9869">model_brushq3_t::num_lightmapmergedheightpower</a></div><div class="ttdeci">int num_lightmapmergedheightpower</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00336">model_q3bsp.h:336</a></div></div>
<div class="ttc" id="astructq3dlightmap__t_html"><div class="ttname"><a href="structq3dlightmap__t.html">q3dlightmap_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00216">model_q3bsp.h:217</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a3b7563b8c8bbb797b3e940ce1c99029f" name="a3b7563b8c8bbb797b3e940ce1c99029f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b7563b8c8bbb797b3e940ce1c99029f">&#9670;&#160;</a></span>Mod_Q3BSP_LoadModels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadModels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06239">6239</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6240</span>{</div>
<div class="line"><span class="lineno"> 6241</span>    <a class="code hl_struct" href="structq3dmodel__t.html">q3dmodel_t</a> *in;</div>
<div class="line"><span class="lineno"> 6242</span>    <a class="code hl_struct" href="structq3dmodel__t.html">q3dmodel_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6243</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, c, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6244</span> </div>
<div class="line"><span class="lineno"> 6245</span>    in = (<a class="code hl_struct" href="structq3dmodel__t.html">q3dmodel_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 6246</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6247</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadModels: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 6248</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 6249</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structq3dmodel__t.html">q3dmodel_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 6250</span> </div>
<div class="line"><span class="lineno"> 6251</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a3aa22e2d8331689fcf8632ed38140dac">data_models</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6252</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#acb069486ffcfd3586af8f9cd16678c13">num_models</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6253</span> </div>
<div class="line"><span class="lineno"> 6254</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 6255</span>    {</div>
<div class="line"><span class="lineno"> 6256</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6257</span>        {</div>
<div class="line"><span class="lineno"> 6258</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;mins[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]);</div>
<div class="line"><span class="lineno"> 6259</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;maxs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]);</div>
<div class="line"><span class="lineno"> 6260</span>        }</div>
<div class="line"><span class="lineno"> 6261</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstface);</div>
<div class="line"><span class="lineno"> 6262</span>        c = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numfaces);</div>
<div class="line"><span class="lineno"> 6263</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n + c &gt;</a> <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>)</div>
<div class="line"><span class="lineno"> 6264</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadModels: invalid face range %i : %i (%i faces)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> + c, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a>);</div>
<div class="line"><span class="lineno"> 6265</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstface = <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6266</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numfaces = c;</div>
<div class="line"><span class="lineno"> 6267</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;firstbrush);</div>
<div class="line"><span class="lineno"> 6268</span>        c = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;numbrushes);</div>
<div class="line"><span class="lineno"> 6269</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n + c &gt;</a> <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a>)</div>
<div class="line"><span class="lineno"> 6270</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadModels: invalid brush range %i : %i (%i brushes)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> + c, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aefa6af6fb03a37c0e90b150bb3eaa676">num_brushes</a>);</div>
<div class="line"><span class="lineno"> 6271</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;firstbrush = <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6272</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;numbrushes = c;</div>
<div class="line"><span class="lineno"> 6273</span>    }</div>
<div class="line"><span class="lineno"> 6274</span>}</div>
<div class="ttc" id="astructq3dmodel__t_html"><div class="ttname"><a href="structq3dmodel__t.html">q3dmodel_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00082">model_q3bsp.h:83</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a8d33ad8fd12cd363c72eca18b1fe46d3" name="a8d33ad8fd12cd363c72eca18b1fe46d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d33ad8fd12cd363c72eca18b1fe46d3">&#9670;&#160;</a></span>Mod_Q3BSP_LoadNodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadNodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06366">6366</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6367</span>{</div>
<div class="line"><span class="lineno"> 6368</span>    <a class="code hl_struct" href="structq3dnode__t.html">q3dnode_t</a> *in;</div>
<div class="line"><span class="lineno"> 6369</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6370</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6371</span> </div>
<div class="line"><span class="lineno"> 6372</span>    in = (<a class="code hl_struct" href="structq3dnode__t.html">q3dnode_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 6373</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6374</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadNodes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 6375</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 6376</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> == 0)</div>
<div class="line"><span class="lineno"> 6377</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadNodes: missing BSP tree in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 6378</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 6379</span> </div>
<div class="line"><span class="lineno"> 6380</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 6381</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 6382</span> </div>
<div class="line"><span class="lineno"> 6383</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 6384</span>    {</div>
<div class="line"><span class="lineno"> 6385</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;parent = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 6386</span>        <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;planeindex);</div>
<div class="line"><span class="lineno"> 6387</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">n &lt; 0 || n &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>)</div>
<div class="line"><span class="lineno"> 6388</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadNodes: invalid planeindex %i (%i planes)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>);</div>
<div class="line"><span class="lineno"> 6389</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;plane = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6390</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6391</span>        {</div>
<div class="line"><span class="lineno"> 6392</span>            <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;childrenindex[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]);</div>
<div class="line"><span class="lineno"> 6393</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 6394</span>            {</div>
<div class="line"><span class="lineno"> 6395</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>)</div>
<div class="line"><span class="lineno"> 6396</span>                    <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadNodes: invalid child node index %i (%i nodes)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a4a227cb1af9a836027557b80a777887a">num_nodes</a>);</div>
<div class="line"><span class="lineno"> 6397</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6398</span>            }</div>
<div class="line"><span class="lineno"> 6399</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6400</span>            {</div>
<div class="line"><span class="lineno"> 6401</span>                <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> = -1 - <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>;</div>
<div class="line"><span class="lineno"> 6402</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>)</div>
<div class="line"><span class="lineno"> 6403</span>                    <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadNodes: invalid child leaf index %i (%i leafs)&quot;</span>, <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>);</div>
<div class="line"><span class="lineno"> 6404</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = (<a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a> + <a class="code hl_define" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a>);</div>
<div class="line"><span class="lineno"> 6405</span>            }</div>
<div class="line"><span class="lineno"> 6406</span>        }</div>
<div class="line"><span class="lineno"> 6407</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 3;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 6408</span>        {</div>
<div class="line"><span class="lineno"> 6409</span>            <span class="comment">// yes the mins/maxs are ints</span></div>
<div class="line"><span class="lineno"> 6410</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;mins[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;mins[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]) - 1;</div>
<div class="line"><span class="lineno"> 6411</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;maxs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;maxs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]) + 1;</div>
<div class="line"><span class="lineno"> 6412</span>        }</div>
<div class="line"><span class="lineno"> 6413</span>    }</div>
<div class="line"><span class="lineno"> 6414</span> </div>
<div class="line"><span class="lineno"> 6415</span>    <span class="comment">// set the parent pointers</span></div>
<div class="line"><span class="lineno"> 6416</span>    <a class="code hl_function" href="model__brush_8c.html#a7ea57bec92a96313861949acfbf0fceb">Mod_BSP_LoadNodes_RecursiveSetParent</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af5b74eca50e34d2da3db9acb7e154dd2">data_nodes</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 6417</span>}</div>
<div class="ttc" id="astructq3dnode__t_html"><div class="ttname"><a href="structq3dnode__t.html">q3dnode_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00060">model_q3bsp.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a0896333bcf421f8beda0f4dba6ddcf33" name="a0896333bcf421f8beda0f4dba6ddcf33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0896333bcf421f8beda0f4dba6ddcf33">&#9670;&#160;</a></span>Mod_Q3BSP_LoadPlanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadPlanes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05222">5222</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5223</span>{</div>
<div class="line"><span class="lineno"> 5224</span>    <a class="code hl_struct" href="structq3dplane__t.html">q3dplane_t</a> *in;</div>
<div class="line"><span class="lineno"> 5225</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5226</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5227</span> </div>
<div class="line"><span class="lineno"> 5228</span>    in = (<a class="code hl_struct" href="structq3dplane__t.html">q3dplane_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5229</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 5230</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadPlanes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5231</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5232</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 5233</span> </div>
<div class="line"><span class="lineno"> 5234</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5235</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5236</span> </div>
<div class="line"><span class="lineno"> 5237</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 5238</span>    {</div>
<div class="line"><span class="lineno"> 5239</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;normal[0] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;normal[0]);</div>
<div class="line"><span class="lineno"> 5240</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;normal[1] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;normal[1]);</div>
<div class="line"><span class="lineno"> 5241</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;normal[2] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;normal[2]);</div>
<div class="line"><span class="lineno"> 5242</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;dist = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;dist);</div>
<div class="line"><span class="lineno"> 5243</span>        <a class="code hl_function" href="mathlib_8c.html#ac6346bdac2617a1fce578c20b3520a79">PlaneClassify</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>);</div>
<div class="line"><span class="lineno"> 5244</span>    }</div>
<div class="line"><span class="lineno"> 5245</span>}</div>
<div class="ttc" id="astructq3dplane__t_html"><div class="ttname"><a href="structq3dplane__t.html">q3dplane_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00053">model_q3bsp.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="aa4875cd66fbd80df1e9ced96292cc24a" name="aa4875cd66fbd80df1e9ced96292cc24a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4875cd66fbd80df1e9ced96292cc24a">&#9670;&#160;</a></span>Mod_Q3BSP_LoadPVS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadPVS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06581">6581</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6582</span>{</div>
<div class="line"><span class="lineno"> 6583</span>    <a class="code hl_struct" href="structq3dpvs__t.html">q3dpvs_t</a> *in;</div>
<div class="line"><span class="lineno"> 6584</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a>;</div>
<div class="line"><span class="lineno"> 6585</span> </div>
<div class="line"><span class="lineno"> 6586</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen == 0)</div>
<div class="line"><span class="lineno"> 6587</span>    {</div>
<div class="line"><span class="lineno"> 6588</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 6589</span>        <span class="comment">// unvised maps often have cluster indices even without pvs, so check</span></div>
<div class="line"><span class="lineno"> 6590</span>        <span class="comment">// leafs to find real number of clusters</span></div>
<div class="line"><span class="lineno"> 6591</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> = 1;</div>
<div class="line"><span class="lineno"> 6592</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 6593</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code hl_variable" href="structmleaf__t.html#a9d1022c1675475848807b5eeabf1ecfa">clusterindex</a> + 1);</div>
<div class="line"><span class="lineno"> 6594</span> </div>
<div class="line"><span class="lineno"> 6595</span>        <span class="comment">// create clusters</span></div>
<div class="line"><span class="lineno"> 6596</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> = (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> + 7) / 8;</div>
<div class="line"><span class="lineno"> 6597</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>;</div>
<div class="line"><span class="lineno"> 6598</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a>);</div>
<div class="line"><span class="lineno"> 6599</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a>, 0xFF, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a>);</div>
<div class="line"><span class="lineno"> 6600</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 6601</span>    }</div>
<div class="line"><span class="lineno"> 6602</span> </div>
<div class="line"><span class="lineno"> 6603</span>    in = (<a class="code hl_struct" href="structq3dpvs__t.html">q3dpvs_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 6604</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen &lt; 9)</div>
<div class="line"><span class="lineno"> 6605</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadPVS: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 6606</span> </div>
<div class="line"><span class="lineno"> 6607</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;<a class="code hl_variable" href="structq3dpvs__t.html#a3c7003f287d9cb14fd69ed74271ad3bd">numclusters</a>);</div>
<div class="line"><span class="lineno"> 6608</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in-&gt;<a class="code hl_variable" href="structq3dpvs__t.html#a0bf114c8d6f175053ea10f50dee4ff01">chainlength</a>);</div>
<div class="line"><span class="lineno"> 6609</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> &lt; ((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a> + 7) / 8))</div>
<div class="line"><span class="lineno"> 6610</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadPVS: (chainlength = %i) &lt; ((numclusters = %i) + 7) / 8&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>);</div>
<div class="line"><span class="lineno"> 6611</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a> * <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>;</div>
<div class="line"><span class="lineno"> 6612</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a> + (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 6613</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadPVS: lump too small ((numclusters = %i) * (chainlength = %i) + sizeof(q3dpvs_t) == %i bytes, lump is %i bytes)&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#af9eac95ab2a23efbd282eab5d5137697">num_pvsclusters</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7772759d63f78def3dce47d689dd28b0">num_pvsclusterbytes</a>, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a> + <span class="keyword">sizeof</span>(*in)), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen);</div>
<div class="line"><span class="lineno"> 6614</span> </div>
<div class="line"><span class="lineno"> 6615</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a>);</div>
<div class="line"><span class="lineno"> 6616</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a11db9074e004ceac57a0b79b27a8845a">data_pvsclusters</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)(in + 1), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalchains</a>);</div>
<div class="line"><span class="lineno"> 6617</span>}</div>
<div class="ttc" id="astructq3dpvs__t_html"><div class="ttname"><a href="structq3dpvs__t.html">q3dpvs_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00231">model_q3bsp.h:232</a></div></div>
<div class="ttc" id="astructq3dpvs__t_html_a0bf114c8d6f175053ea10f50dee4ff01"><div class="ttname"><a href="structq3dpvs__t.html#a0bf114c8d6f175053ea10f50dee4ff01">q3dpvs_t::chainlength</a></div><div class="ttdeci">int chainlength</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00234">model_q3bsp.h:234</a></div></div>
<div class="ttc" id="astructq3dpvs__t_html_a3c7003f287d9cb14fd69ed74271ad3bd"><div class="ttname"><a href="structq3dpvs__t.html#a3c7003f287d9cb14fd69ed74271ad3bd">q3dpvs_t::numclusters</a></div><div class="ttdeci">int numclusters</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00233">model_q3bsp.h:233</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a18603beffef17454bcd1d25afa9057a5" name="a18603beffef17454bcd1d25afa9057a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18603beffef17454bcd1d25afa9057a5">&#9670;&#160;</a></span>Mod_Q3BSP_LoadTextures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadTextures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05195">5195</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5196</span>{</div>
<div class="line"><span class="lineno"> 5197</span>    <a class="code hl_struct" href="structq3dtexture__t.html">q3dtexture_t</a> *in;</div>
<div class="line"><span class="lineno"> 5198</span>    <a class="code hl_struct" href="structtexture__t.html">texture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5199</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5200</span> </div>
<div class="line"><span class="lineno"> 5201</span>    in = (<a class="code hl_struct" href="structq3dtexture__t.html">q3dtexture_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5202</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 5203</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadTextures: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5204</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5205</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structtexture__t.html">texture_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 5206</span> </div>
<div class="line"><span class="lineno"> 5207</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5208</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5209</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#af87a229d1035751d795492d962f980f4">num_texturesperskin</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>;</div>
<div class="line"><span class="lineno"> 5210</span> </div>
<div class="line"><span class="lineno"> 5211</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 5212</span>    {</div>
<div class="line"><span class="lineno"> 5213</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surfaceflags = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surfaceflags);</div>
<div class="line"><span class="lineno"> 5214</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].supercontents = <a class="code hl_function" href="model__brush_8c.html#a17954d2d48cfe089ee439ae63d8609c8">Mod_Q3BSP_SuperContentsFromNativeContents</a>(<a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].contents));</div>
<div class="line"><span class="lineno"> 5215</span>        <a class="code hl_function" href="model__shared_8c.html#a1694c78ec74a4c2a96c00ea69cf44ef7">Mod_LoadTextureFromQ3Shader</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, in[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].name, <span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="r__textures_8h.html#a7ed15e202aa5ce1ef37ef412348a6468">TEXF_MIPMAP</a> | <a class="code hl_define" href="r__textures_8h.html#a8367a0dbf5389896f956ab599fc394d8">TEXF_ISWORLD</a> | <a class="code hl_define" href="r__textures_8h.html#a1e458ef28d5c5978bc1315f4a5b54aef">TEXF_PICMIP</a> | <a class="code hl_define" href="r__textures_8h.html#ab19c18de47f490e8f226052c34b577b8">TEXF_COMPRESS</a>, <a class="code hl_define" href="model__brush_8h.html#a92fe9590f9e3810dbd4abad9431cc63a">MATERIALFLAG_WALL</a>);</div>
<div class="line"><span class="lineno"> 5216</span>        <span class="comment">// restore the surfaceflags and supercontents</span></div>
<div class="line"><span class="lineno"> 5217</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surfaceflags = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].surfaceflags);</div>
<div class="line"><span class="lineno"> 5218</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].supercontents = <a class="code hl_function" href="model__brush_8c.html#a17954d2d48cfe089ee439ae63d8609c8">Mod_Q3BSP_SuperContentsFromNativeContents</a>(<a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(in[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].contents));</div>
<div class="line"><span class="lineno"> 5219</span>    }</div>
<div class="line"><span class="lineno"> 5220</span>}</div>
<div class="ttc" id="astructq3dtexture__t_html"><div class="ttname"><a href="structq3dtexture__t.html">q3dtexture_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00044">model_q3bsp.h:45</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a4c44e0776441d9a2d32d555dfc4b50f2" name="a4c44e0776441d9a2d32d555dfc4b50f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c44e0776441d9a2d32d555dfc4b50f2">&#9670;&#160;</a></span>Mod_Q3BSP_LoadTriangles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadTriangles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05459">5459</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5460</span>{</div>
<div class="line"><span class="lineno"> 5461</span>    <span class="keywordtype">int</span> *in;</div>
<div class="line"><span class="lineno"> 5462</span>    <span class="keywordtype">int</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5463</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5464</span> </div>
<div class="line"><span class="lineno"> 5465</span>    in = (<span class="keywordtype">int</span> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5466</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>[3]))</div>
<div class="line"><span class="lineno"> 5467</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadTriangles: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5468</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5469</span> </div>
<div class="line"><span class="lineno"> 5470</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ac7a5765168191fd28f4307979dc1c735">num_vertices</a>)</div>
<div class="line"><span class="lineno"> 5471</span>    {</div>
<div class="line"><span class="lineno"> 5472</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>)</div>
<div class="line"><span class="lineno"> 5473</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadTriangles: %s has triangles but no vertexes, broken compiler, ignoring problem\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5474</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a34f9043d0206d00e40e2e2ab139abcb2">num_triangles</a> = 0;</div>
<div class="line"><span class="lineno"> 5475</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 5476</span>    }</div>
<div class="line"><span class="lineno"> 5477</span> </div>
<div class="line"><span class="lineno"> 5478</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 5479</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a34f9043d0206d00e40e2e2ab139abcb2">num_triangles</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> / 3;</div>
<div class="line"><span class="lineno"> 5480</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a884b231b8c9bd667d1d4e7e0113a91ee">data_element3i</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 5481</span> </div>
<div class="line"><span class="lineno"> 5482</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 5483</span>    {</div>
<div class="line"><span class="lineno"> 5484</span>        *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = <a class="code hl_define" href="common_8h.html#a847f080c3427d188d2a5ecd2935a2d93">LittleLong</a>(*in);</div>
<div class="line"><span class="lineno"> 5485</span>        <span class="keywordflow">if</span> (*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out &lt; 0 || *out &gt;</a>= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ac7a5765168191fd28f4307979dc1c735">num_vertices</a>)</div>
<div class="line"><span class="lineno"> 5486</span>        {</div>
<div class="line"><span class="lineno"> 5487</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadTriangles: invalid vertexindex %i (%i vertices), setting to 0\n&quot;</span>, *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ac7a5765168191fd28f4307979dc1c735">num_vertices</a>);</div>
<div class="line"><span class="lineno"> 5488</span>            *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = 0;</div>
<div class="line"><span class="lineno"> 5489</span>        }</div>
<div class="line"><span class="lineno"> 5490</span>    }</div>
<div class="line"><span class="lineno"> 5491</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a73a642a69f83b2e8360c8bdff7f61d0d" name="a73a642a69f83b2e8360c8bdff7f61d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73a642a69f83b2e8360c8bdff7f61d0d">&#9670;&#160;</a></span>Mod_Q3BSP_LoadVertices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_LoadVertices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlump__t.html">lump_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l05391">5391</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5392</span>{</div>
<div class="line"><span class="lineno"> 5393</span>    <a class="code hl_struct" href="structq3dvertex__t.html">q3dvertex_t</a> *in;</div>
<div class="line"><span class="lineno"> 5394</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 5395</span> </div>
<div class="line"><span class="lineno"> 5396</span>    in = (<a class="code hl_struct" href="structq3dvertex__t.html">q3dvertex_t</a> *)(<a class="code hl_variable" href="model__shared_8c.html#aa377d967d6424fe03ae7be9ce043d965">mod_base</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;fileofs);</div>
<div class="line"><span class="lineno"> 5397</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen % <span class="keyword">sizeof</span>(*in))</div>
<div class="line"><span class="lineno"> 5398</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_Q3BSP_LoadVertices: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 5399</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#ac7a5765168191fd28f4307979dc1c735">num_vertices</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">l</a>-&gt;filelen / <span class="keyword">sizeof</span>(*in);</div>
<div class="line"><span class="lineno"> 5400</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a> = (<span class="keywordtype">float</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * (<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * (3 + 3 + 2 + 2 + 4)));</div>
<div class="line"><span class="lineno"> 5401</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a> + <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * 3;</div>
<div class="line"><span class="lineno"> 5402</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">data_texcoordtexture2f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a> + <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * 3;</div>
<div class="line"><span class="lineno"> 5403</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">data_texcoordlightmap2f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">data_texcoordtexture2f</a> + <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * 2;</div>
<div class="line"><span class="lineno"> 5404</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">data_texcoordlightmap2f</a> + <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * 2;</div>
<div class="line"><span class="lineno"> 5405</span> </div>
<div class="line"><span class="lineno"> 5406</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, in++)</div>
<div class="line"><span class="lineno"> 5407</span>    {</div>
<div class="line"><span class="lineno"> 5408</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 0] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#a1697ed93c8ea5aa1f941d0a3e0596dc2">origin3f</a>[0]);</div>
<div class="line"><span class="lineno"> 5409</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 1] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#a1697ed93c8ea5aa1f941d0a3e0596dc2">origin3f</a>[1]);</div>
<div class="line"><span class="lineno"> 5410</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a7caa84e95aa61d4e3bc15c499792722e">data_vertex3f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 2] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#a1697ed93c8ea5aa1f941d0a3e0596dc2">origin3f</a>[2]);</div>
<div class="line"><span class="lineno"> 5411</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 0] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#a58c5f496663f04f744ea5c857661a96a">normal3f</a>[0]);</div>
<div class="line"><span class="lineno"> 5412</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 1] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#a58c5f496663f04f744ea5c857661a96a">normal3f</a>[1]);</div>
<div class="line"><span class="lineno"> 5413</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2d300d29cbaf22aa44b84bb754950840">data_normal3f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 2] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#a58c5f496663f04f744ea5c857661a96a">normal3f</a>[2]);</div>
<div class="line"><span class="lineno"> 5414</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">data_texcoordtexture2f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 0] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#afe18f9eefa210e0deed13572e5d3ac0e">texcoord2f</a>[0]);</div>
<div class="line"><span class="lineno"> 5415</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a1303798b4598f11cf2f7ad53c9bba8e8">data_texcoordtexture2f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#afe18f9eefa210e0deed13572e5d3ac0e">texcoord2f</a>[1]);</div>
<div class="line"><span class="lineno"> 5416</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">data_texcoordlightmap2f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 0] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#ab052668acf2def4e28791d5a7f3ebde3">lightmap2f</a>[0]);</div>
<div class="line"><span class="lineno"> 5417</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a2f6f66b7d81c2bd20a8033b89a6fa3bc">data_texcoordlightmap2f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = <a class="code hl_define" href="common_8h.html#ad274f6f5f861d42dc9cb893322c84e1a">LittleFloat</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#ab052668acf2def4e28791d5a7f3ebde3">lightmap2f</a>[1]);</div>
<div class="line"><span class="lineno"> 5418</span>        <span class="comment">// svector/tvector are calculated later in face loading</span></div>
<div class="line"><span class="lineno"> 5419</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="model__brush_8c.html#a9260109f82a8e564ade6ada3c0488831">mod_q3bsp_sRGBlightmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 5420</span>        {</div>
<div class="line"><span class="lineno"> 5421</span>            <span class="comment">// if lightmaps are sRGB, vertex colors are sRGB too, so we need to linearize them</span></div>
<div class="line"><span class="lineno"> 5422</span>            <span class="comment">// note: when this is in use, lightmap color 128 is no longer neutral, but &quot;sRGB half power&quot; is</span></div>
<div class="line"><span class="lineno"> 5423</span>            <span class="comment">// working like this may be odd, but matches q3map2 -gamma 2.2</span></div>
<div class="line"><span class="lineno"> 5424</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="vid_8h.html#a05b59de47bf13f839c78d891723d31ba">vid_sRGB_fallback</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><span class="lineno"> 5425</span>            {</div>
<div class="line"><span class="lineno"> 5426</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 0] = in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[0] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno"> 5427</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[1] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno"> 5428</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[2] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno"> 5429</span>                <span class="comment">// we fix the brightness consistently via lightmapscale</span></div>
<div class="line"><span class="lineno"> 5430</span>            }</div>
<div class="line"><span class="lineno"> 5431</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5432</span>            {</div>
<div class="line"><span class="lineno"> 5433</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 0] = <a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[0]);</div>
<div class="line"><span class="lineno"> 5434</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = <a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[1]);</div>
<div class="line"><span class="lineno"> 5435</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = <a class="code hl_define" href="image_8h.html#a2316f13de51459537db621e950f812e2">Image_LinearFloatFromsRGB</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[2]);</div>
<div class="line"><span class="lineno"> 5436</span>            }</div>
<div class="line"><span class="lineno"> 5437</span>        }</div>
<div class="line"><span class="lineno"> 5438</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5439</span>        {</div>
<div class="line"><span class="lineno"> 5440</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="vid_8h.html#a05b59de47bf13f839c78d891723d31ba">vid_sRGB_fallback</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; !<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a137554a0c7fc06cfbe4bec3902260ab4">sRGB3D</a>)</div>
<div class="line"><span class="lineno"> 5441</span>            {</div>
<div class="line"><span class="lineno"> 5442</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 0] = <a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[0]);</div>
<div class="line"><span class="lineno"> 5443</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = <a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[1]);</div>
<div class="line"><span class="lineno"> 5444</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = <a class="code hl_define" href="image_8h.html#afd8185c8996f20ed444dde8ffb7d9ae8">Image_sRGBFloatFromLinear_Lightmap</a>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[2]);</div>
<div class="line"><span class="lineno"> 5445</span>            }</div>
<div class="line"><span class="lineno"> 5446</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5447</span>            {</div>
<div class="line"><span class="lineno"> 5448</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 0] = in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[0] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno"> 5449</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 1] = in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[1] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno"> 5450</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 2] = in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[2] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno"> 5451</span>            }</div>
<div class="line"><span class="lineno"> 5452</span>        }</div>
<div class="line"><span class="lineno"> 5453</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aaa8774093de92cdbd8a75774b47acf06">data_color4f</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4 + 3] = in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[3] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno"> 5454</span>        <span class="keywordflow">if</span>(in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[0] != 255 || in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[1] != 255 || in-&gt;<a class="code hl_variable" href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">color4ub</a>[2] != 255)</div>
<div class="line"><span class="lineno"> 5455</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a2fd867d2779bb6e6b6f7348fc47c5948">lit</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5456</span>    }</div>
<div class="line"><span class="lineno"> 5457</span>}</div>
<div class="ttc" id="astructq3dvertex__t_html"><div class="ttname"><a href="structq3dvertex__t.html">q3dvertex_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00116">model_q3bsp.h:117</a></div></div>
<div class="ttc" id="astructq3dvertex__t_html_a1697ed93c8ea5aa1f941d0a3e0596dc2"><div class="ttname"><a href="structq3dvertex__t.html#a1697ed93c8ea5aa1f941d0a3e0596dc2">q3dvertex_t::origin3f</a></div><div class="ttdeci">float origin3f[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00118">model_q3bsp.h:118</a></div></div>
<div class="ttc" id="astructq3dvertex__t_html_a58c5f496663f04f744ea5c857661a96a"><div class="ttname"><a href="structq3dvertex__t.html#a58c5f496663f04f744ea5c857661a96a">q3dvertex_t::normal3f</a></div><div class="ttdeci">float normal3f[3]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00121">model_q3bsp.h:121</a></div></div>
<div class="ttc" id="astructq3dvertex__t_html_ab052668acf2def4e28791d5a7f3ebde3"><div class="ttname"><a href="structq3dvertex__t.html#ab052668acf2def4e28791d5a7f3ebde3">q3dvertex_t::lightmap2f</a></div><div class="ttdeci">float lightmap2f[2]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00120">model_q3bsp.h:120</a></div></div>
<div class="ttc" id="astructq3dvertex__t_html_adfcd2c4931b113450a68491a838009dc"><div class="ttname"><a href="structq3dvertex__t.html#adfcd2c4931b113450a68491a838009dc">q3dvertex_t::color4ub</a></div><div class="ttdeci">unsigned char color4ub[4]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00122">model_q3bsp.h:122</a></div></div>
<div class="ttc" id="astructq3dvertex__t_html_afe18f9eefa210e0deed13572e5d3ac0e"><div class="ttname"><a href="structq3dvertex__t.html#afe18f9eefa210e0deed13572e5d3ac0e">q3dvertex_t::texcoord2f</a></div><div class="ttdeci">float texcoord2f[2]</div><div class="ttdef"><b>Definition</b> <a href="model__q3bsp_8h_source.html#l00119">model_q3bsp.h:119</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a5a62b395e385b7ce9d0b6ff6e9a58a53" name="a5a62b395e385b7ce9d0b6ff6e9a58a53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a62b395e385b7ce9d0b6ff6e9a58a53">&#9670;&#160;</a></span>Mod_Q3BSP_NativeContentsFromSuperContents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q3BSP_NativeContentsFromSuperContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>supercontents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07362">7362</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7363</span>{</div>
<div class="line"><span class="lineno"> 7364</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> = 0;</div>
<div class="line"><span class="lineno"> 7365</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>)</div>
<div class="line"><span class="lineno"> 7366</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a6d31a4d21b183c69c4b12eca7e74cd09">CONTENTSQ3_SOLID</a>;</div>
<div class="line"><span class="lineno"> 7367</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a>)</div>
<div class="line"><span class="lineno"> 7368</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#ac3d2d2180db39ea68f47ad3745531996">CONTENTSQ3_WATER</a>;</div>
<div class="line"><span class="lineno"> 7369</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>)</div>
<div class="line"><span class="lineno"> 7370</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#ab5b9ab5fef056bb5500863719556acbf">CONTENTSQ3_SLIME</a>;</div>
<div class="line"><span class="lineno"> 7371</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a>)</div>
<div class="line"><span class="lineno"> 7372</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a46977a4047f3d3bbbfd1baa38dc8c5ec">CONTENTSQ3_LAVA</a>;</div>
<div class="line"><span class="lineno"> 7373</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>)</div>
<div class="line"><span class="lineno"> 7374</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a9e4a465dc19689d2d3278efc480fff26">CONTENTSQ3_BODY</a>;</div>
<div class="line"><span class="lineno"> 7375</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a>)</div>
<div class="line"><span class="lineno"> 7376</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#ae2b4642f32237b76eba0116cff33269f">CONTENTSQ3_CORPSE</a>;</div>
<div class="line"><span class="lineno"> 7377</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a>)</div>
<div class="line"><span class="lineno"> 7378</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#aa38511808a3f57739fe4af92d9218c44">CONTENTSQ3_NODROP</a>;</div>
<div class="line"><span class="lineno"> 7379</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#aa8b1bcaea9c05c6c9846ef619aa0327d">SUPERCONTENTS_PLAYERCLIP</a>)</div>
<div class="line"><span class="lineno"> 7380</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#ac4cd8fb465f4f0c5768d046b665ccece">CONTENTSQ3_PLAYERCLIP</a>;</div>
<div class="line"><span class="lineno"> 7381</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a35afee7d75ef29a444b98e351a8d3045">SUPERCONTENTS_MONSTERCLIP</a>)</div>
<div class="line"><span class="lineno"> 7382</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a0b8f127711b77e1680e55fbeedf7ed9e">CONTENTSQ3_MONSTERCLIP</a>;</div>
<div class="line"><span class="lineno"> 7383</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a271467c975ece9809a85f0f7a37d17af">SUPERCONTENTS_DONOTENTER</a>)</div>
<div class="line"><span class="lineno"> 7384</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a9d894825b6f04853544967dfff42c597">CONTENTSQ3_DONOTENTER</a>;</div>
<div class="line"><span class="lineno"> 7385</span>    <span class="keywordflow">if</span> (supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a47d0da2237e9a4dc9e2a6f732a4d7165">SUPERCONTENTS_BOTCLIP</a>)</div>
<div class="line"><span class="lineno"> 7386</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a3a074a32b3137941302d92cc637f7c34">CONTENTSQ3_BOTCLIP</a>;</div>
<div class="line"><span class="lineno"> 7387</span>    <span class="keywordflow">if</span> (!(supercontents &amp; <a class="code hl_define" href="bspfile_8h.html#a1743eb1a01a4bc94f435951089dadbd7">SUPERCONTENTS_OPAQUE</a>))</div>
<div class="line"><span class="lineno"> 7388</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> |= <a class="code hl_define" href="bspfile_8h.html#a4ab240757ad92a6f160b6f0da3a28728">CONTENTSQ3_TRANSLUCENT</a>;</div>
<div class="line"><span class="lineno"> 7389</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a>;</div>
<div class="line"><span class="lineno"> 7390</span>}</div>
<div class="ttc" id="abspfile_8h_html_a0b8f127711b77e1680e55fbeedf7ed9e"><div class="ttname"><a href="bspfile_8h.html#a0b8f127711b77e1680e55fbeedf7ed9e">CONTENTSQ3_MONSTERCLIP</a></div><div class="ttdeci">#define CONTENTSQ3_MONSTERCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00181">bspfile.h:181</a></div></div>
<div class="ttc" id="abspfile_8h_html_a271467c975ece9809a85f0f7a37d17af"><div class="ttname"><a href="bspfile_8h.html#a271467c975ece9809a85f0f7a37d17af">SUPERCONTENTS_DONOTENTER</a></div><div class="ttdeci">#define SUPERCONTENTS_DONOTENTER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00206">bspfile.h:206</a></div></div>
<div class="ttc" id="abspfile_8h_html_a3a074a32b3137941302d92cc637f7c34"><div class="ttname"><a href="bspfile_8h.html#a3a074a32b3137941302d92cc637f7c34">CONTENTSQ3_BOTCLIP</a></div><div class="ttdeci">#define CONTENTSQ3_BOTCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00186">bspfile.h:186</a></div></div>
<div class="ttc" id="abspfile_8h_html_a46977a4047f3d3bbbfd1baa38dc8c5ec"><div class="ttname"><a href="bspfile_8h.html#a46977a4047f3d3bbbfd1baa38dc8c5ec">CONTENTSQ3_LAVA</a></div><div class="ttdeci">#define CONTENTSQ3_LAVA</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00175">bspfile.h:175</a></div></div>
<div class="ttc" id="abspfile_8h_html_a47d0da2237e9a4dc9e2a6f732a4d7165"><div class="ttname"><a href="bspfile_8h.html#a47d0da2237e9a4dc9e2a6f732a4d7165">SUPERCONTENTS_BOTCLIP</a></div><div class="ttdeci">#define SUPERCONTENTS_BOTCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00207">bspfile.h:207</a></div></div>
<div class="ttc" id="abspfile_8h_html_a4ab240757ad92a6f160b6f0da3a28728"><div class="ttname"><a href="bspfile_8h.html#a4ab240757ad92a6f160b6f0da3a28728">CONTENTSQ3_TRANSLUCENT</a></div><div class="ttdeci">#define CONTENTSQ3_TRANSLUCENT</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00192">bspfile.h:192</a></div></div>
<div class="ttc" id="abspfile_8h_html_a6d31a4d21b183c69c4b12eca7e74cd09"><div class="ttname"><a href="bspfile_8h.html#a6d31a4d21b183c69c4b12eca7e74cd09">CONTENTSQ3_SOLID</a></div><div class="ttdeci">#define CONTENTSQ3_SOLID</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00174">bspfile.h:174</a></div></div>
<div class="ttc" id="abspfile_8h_html_a9d894825b6f04853544967dfff42c597"><div class="ttname"><a href="bspfile_8h.html#a9d894825b6f04853544967dfff42c597">CONTENTSQ3_DONOTENTER</a></div><div class="ttdeci">#define CONTENTSQ3_DONOTENTER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00185">bspfile.h:185</a></div></div>
<div class="ttc" id="abspfile_8h_html_a9e4a465dc19689d2d3278efc480fff26"><div class="ttname"><a href="bspfile_8h.html#a9e4a465dc19689d2d3278efc480fff26">CONTENTSQ3_BODY</a></div><div class="ttdeci">#define CONTENTSQ3_BODY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00188">bspfile.h:188</a></div></div>
<div class="ttc" id="abspfile_8h_html_aa38511808a3f57739fe4af92d9218c44"><div class="ttname"><a href="bspfile_8h.html#aa38511808a3f57739fe4af92d9218c44">CONTENTSQ3_NODROP</a></div><div class="ttdeci">#define CONTENTSQ3_NODROP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00194">bspfile.h:194</a></div></div>
<div class="ttc" id="abspfile_8h_html_ab5b9ab5fef056bb5500863719556acbf"><div class="ttname"><a href="bspfile_8h.html#ab5b9ab5fef056bb5500863719556acbf">CONTENTSQ3_SLIME</a></div><div class="ttdeci">#define CONTENTSQ3_SLIME</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00176">bspfile.h:176</a></div></div>
<div class="ttc" id="abspfile_8h_html_ac3d2d2180db39ea68f47ad3745531996"><div class="ttname"><a href="bspfile_8h.html#ac3d2d2180db39ea68f47ad3745531996">CONTENTSQ3_WATER</a></div><div class="ttdeci">#define CONTENTSQ3_WATER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00177">bspfile.h:177</a></div></div>
<div class="ttc" id="abspfile_8h_html_ac4cd8fb465f4f0c5768d046b665ccece"><div class="ttname"><a href="bspfile_8h.html#ac4cd8fb465f4f0c5768d046b665ccece">CONTENTSQ3_PLAYERCLIP</a></div><div class="ttdeci">#define CONTENTSQ3_PLAYERCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00180">bspfile.h:180</a></div></div>
<div class="ttc" id="abspfile_8h_html_ae2b4642f32237b76eba0116cff33269f"><div class="ttname"><a href="bspfile_8h.html#ae2b4642f32237b76eba0116cff33269f">CONTENTSQ3_CORPSE</a></div><div class="ttdeci">#define CONTENTSQ3_CORPSE</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00189">bspfile.h:189</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a08a93417d64a0a1bb347ec8c213552e3" name="a08a93417d64a0a1bb347ec8c213552e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08a93417d64a0a1bb347ec8c213552e3">&#9670;&#160;</a></span>Mod_Q3BSP_RecursiveFindNumLeafs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_Q3BSP_RecursiveFindNumLeafs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07392">7392</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7393</span>{</div>
<div class="line"><span class="lineno"> 7394</span>    <span class="keywordtype">int</span> numleafs;</div>
<div class="line"><span class="lineno"> 7395</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 7396</span>    {</div>
<div class="line"><span class="lineno"> 7397</span>        <a class="code hl_function" href="model__brush_8c.html#a08a93417d64a0a1bb347ec8c213552e3">Mod_Q3BSP_RecursiveFindNumLeafs</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0]);</div>
<div class="line"><span class="lineno"> 7398</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno"> 7399</span>    }</div>
<div class="line"><span class="lineno"> 7400</span>    numleafs = ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> - <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ae2d3fa0402a5847fc8fd21a5ad907c87">data_leafs</a>) + 1;</div>
<div class="line"><span class="lineno"> 7401</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a> &lt; numleafs)</div>
<div class="line"><span class="lineno"> 7402</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad2ccc84f01460e7bde735898ed077860">num_leafs</a> = numleafs;</div>
<div class="line"><span class="lineno"> 7403</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l07392">Mod_Q3BSP_RecursiveFindNumLeafs()</a>.</p>

</div>
</div>
<a id="a17954d2d48cfe089ee439ae63d8609c8" name="a17954d2d48cfe089ee439ae63d8609c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17954d2d48cfe089ee439ae63d8609c8">&#9670;&#160;</a></span>Mod_Q3BSP_SuperContentsFromNativeContents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q3BSP_SuperContentsFromNativeContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>nativecontents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07332">7332</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7333</span>{</div>
<div class="line"><span class="lineno"> 7334</span>    <span class="keywordtype">int</span> supercontents = 0;</div>
<div class="line"><span class="lineno"> 7335</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a6d31a4d21b183c69c4b12eca7e74cd09">CONTENTSQ3_SOLID</a>)</div>
<div class="line"><span class="lineno"> 7336</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a>;</div>
<div class="line"><span class="lineno"> 7337</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#ac3d2d2180db39ea68f47ad3745531996">CONTENTSQ3_WATER</a>)</div>
<div class="line"><span class="lineno"> 7338</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#af59d298899c2ac56a21f94c327776551">SUPERCONTENTS_WATER</a>;</div>
<div class="line"><span class="lineno"> 7339</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#ab5b9ab5fef056bb5500863719556acbf">CONTENTSQ3_SLIME</a>)</div>
<div class="line"><span class="lineno"> 7340</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a7528d0e1edabc785475a08a7890597ea">SUPERCONTENTS_SLIME</a>;</div>
<div class="line"><span class="lineno"> 7341</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a46977a4047f3d3bbbfd1baa38dc8c5ec">CONTENTSQ3_LAVA</a>)</div>
<div class="line"><span class="lineno"> 7342</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a1c8c25328105edb0ce33da011b939a27">SUPERCONTENTS_LAVA</a>;</div>
<div class="line"><span class="lineno"> 7343</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a9e4a465dc19689d2d3278efc480fff26">CONTENTSQ3_BODY</a>)</div>
<div class="line"><span class="lineno"> 7344</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>;</div>
<div class="line"><span class="lineno"> 7345</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#ae2b4642f32237b76eba0116cff33269f">CONTENTSQ3_CORPSE</a>)</div>
<div class="line"><span class="lineno"> 7346</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a>;</div>
<div class="line"><span class="lineno"> 7347</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#aa38511808a3f57739fe4af92d9218c44">CONTENTSQ3_NODROP</a>)</div>
<div class="line"><span class="lineno"> 7348</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#aeae4f676c7d0c05384e4608a2d4d3153">SUPERCONTENTS_NODROP</a>;</div>
<div class="line"><span class="lineno"> 7349</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#ac4cd8fb465f4f0c5768d046b665ccece">CONTENTSQ3_PLAYERCLIP</a>)</div>
<div class="line"><span class="lineno"> 7350</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#aa8b1bcaea9c05c6c9846ef619aa0327d">SUPERCONTENTS_PLAYERCLIP</a>;</div>
<div class="line"><span class="lineno"> 7351</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a0b8f127711b77e1680e55fbeedf7ed9e">CONTENTSQ3_MONSTERCLIP</a>)</div>
<div class="line"><span class="lineno"> 7352</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a35afee7d75ef29a444b98e351a8d3045">SUPERCONTENTS_MONSTERCLIP</a>;</div>
<div class="line"><span class="lineno"> 7353</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a9d894825b6f04853544967dfff42c597">CONTENTSQ3_DONOTENTER</a>)</div>
<div class="line"><span class="lineno"> 7354</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a271467c975ece9809a85f0f7a37d17af">SUPERCONTENTS_DONOTENTER</a>;</div>
<div class="line"><span class="lineno"> 7355</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a3a074a32b3137941302d92cc637f7c34">CONTENTSQ3_BOTCLIP</a>)</div>
<div class="line"><span class="lineno"> 7356</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a47d0da2237e9a4dc9e2a6f732a4d7165">SUPERCONTENTS_BOTCLIP</a>;</div>
<div class="line"><span class="lineno"> 7357</span>    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nativecontents</a> &amp; <a class="code hl_define" href="bspfile_8h.html#a4ab240757ad92a6f160b6f0da3a28728">CONTENTSQ3_TRANSLUCENT</a>))</div>
<div class="line"><span class="lineno"> 7358</span>        supercontents |= <a class="code hl_define" href="bspfile_8h.html#a1743eb1a01a4bc94f435951089dadbd7">SUPERCONTENTS_OPAQUE</a>;</div>
<div class="line"><span class="lineno"> 7359</span>    <span class="keywordflow">return</span> supercontents;</div>
<div class="line"><span class="lineno"> 7360</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l05195">Mod_Q3BSP_LoadTextures()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a1f6f8c9469d2d4238d77ced1637226a8" name="a1f6f8c9469d2d4238d77ced1637226a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6f8c9469d2d4238d77ced1637226a8">&#9670;&#160;</a></span>Mod_Q3BSP_TraceLineOfSight()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> Mod_Q3BSP_TraceLineOfSight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">struct</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">model_s</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>acceptmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>acceptmaxs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06748">6748</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6749</span>{</div>
<div class="line"><span class="lineno"> 6750</span>    <span class="keywordflow">if</span> (model-&gt;brush.submodel || <a class="code hl_variable" href="model__brush_8c.html#a977afe81d17987198f3300477166cb0b">mod_q3bsp_tracelineofsight_brushes</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 6751</span>    {</div>
<div class="line"><span class="lineno"> 6752</span>        <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno"> 6753</span>        model-&gt;TraceLine(model, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;trace, start, end, <a class="code hl_define" href="bspfile_8h.html#a8d4b4ba414479ebe0293b200f882c444">SUPERCONTENTS_VISBLOCKERMASK</a>, 0, <a class="code hl_define" href="model__brush_8h.html#a92eb2c00b3276aef285cf43b305a43da">MATERIALFLAGMASK_TRANSLUCENT</a>);</div>
<div class="line"><span class="lineno"> 6754</span>        <span class="keywordflow">return</span> trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> == 1 || <a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmaxs</a>);</div>
<div class="line"><span class="lineno"> 6755</span>    }</div>
<div class="line"><span class="lineno"> 6756</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6757</span>    {</div>
<div class="line"><span class="lineno"> 6758</span>        <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tracestart</a>[3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceend</a>[3], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceendpos</a>[3];</div>
<div class="line"><span class="lineno"> 6759</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tracestart</a>);</div>
<div class="line"><span class="lineno"> 6760</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceend</a>);</div>
<div class="line"><span class="lineno"> 6761</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceendpos</a>);</div>
<div class="line"><span class="lineno"> 6762</span>        <a class="code hl_function" href="model__brush_8c.html#abb22ce01c142e371da242d81d09933fa">Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck</a>(model-&gt;brush.data_nodes, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tracestart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceend</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceendpos</a>);</div>
<div class="line"><span class="lineno"> 6763</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceendpos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceendpos</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">acceptmaxs</a>);</div>
<div class="line"><span class="lineno"> 6764</span>    }</div>
<div class="line"><span class="lineno"> 6765</span>}</div>
<div class="ttc" id="amodel__brush_8c_html_abb22ce01c142e371da242d81d09933fa"><div class="ttname"><a href="model__brush_8c.html#abb22ce01c142e371da242d81d09933fa">Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck</a></div><div class="ttdeci">static int Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck(mnode_t *node, double p1[3], double p2[3], double endpos[3])</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l06686">model_brush.c:6686</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="abb22ce01c142e371da242d81d09933fa" name="abb22ce01c142e371da242d81d09933fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb22ce01c142e371da242d81d09933fa">&#9670;&#160;</a></span>Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmnode__t.html">mnode_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>p1</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>p2</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>&#160;</td>
          <td class="paramname"><em>endpos</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l06686">6686</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6687</span>{</div>
<div class="line"><span class="lineno"> 6688</span>    <span class="keywordtype">double</span> t1, t2;</div>
<div class="line"><span class="lineno"> 6689</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>[3];</div>
<div class="line"><span class="lineno"> 6690</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>;</div>
<div class="line"><span class="lineno"> 6691</span> </div>
<div class="line"><span class="lineno"> 6692</span>    <span class="comment">// check for empty</span></div>
<div class="line"><span class="lineno"> 6693</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane)</div>
<div class="line"><span class="lineno"> 6694</span>    {</div>
<div class="line"><span class="lineno"> 6695</span>        <span class="comment">// find the point distances</span></div>
<div class="line"><span class="lineno"> 6696</span>        <a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *plane = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;plane;</div>
<div class="line"><span class="lineno"> 6697</span>        <span class="keywordflow">if</span> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a> &lt; 3)</div>
<div class="line"><span class="lineno"> 6698</span>        {</div>
<div class="line"><span class="lineno"> 6699</span>            t1 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 6700</span>            t2 = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>[plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a66d198fd45a721f70f8efa8fd6e7598e">type</a>] - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 6701</span>        }</div>
<div class="line"><span class="lineno"> 6702</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6703</span>        {</div>
<div class="line"><span class="lineno"> 6704</span>            t1 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 6705</span>            t2 = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>) - plane-&gt;<a class="code hl_variable" href="structmplane__t.html#a72369d2eb517748a74711956e158ea91">dist</a>;</div>
<div class="line"><span class="lineno"> 6706</span>        }</div>
<div class="line"><span class="lineno"> 6707</span> </div>
<div class="line"><span class="lineno"> 6708</span>        <span class="keywordflow">if</span> (t1 &lt; 0)</div>
<div class="line"><span class="lineno"> 6709</span>        {</div>
<div class="line"><span class="lineno"> 6710</span>            <span class="keywordflow">if</span> (t2 &lt; 0)</div>
<div class="line"><span class="lineno"> 6711</span>            {</div>
<div class="line"><span class="lineno"> 6712</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[1];</div>
<div class="line"><span class="lineno"> 6713</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6714</span>            }</div>
<div class="line"><span class="lineno"> 6715</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 1;</div>
<div class="line"><span class="lineno"> 6716</span>        }</div>
<div class="line"><span class="lineno"> 6717</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6718</span>        {</div>
<div class="line"><span class="lineno"> 6719</span>            <span class="keywordflow">if</span> (t2 &gt;= 0)</div>
<div class="line"><span class="lineno"> 6720</span>            {</div>
<div class="line"><span class="lineno"> 6721</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[0];</div>
<div class="line"><span class="lineno"> 6722</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 6723</span>            }</div>
<div class="line"><span class="lineno"> 6724</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> = 0;</div>
<div class="line"><span class="lineno"> 6725</span>        }</div>
<div class="line"><span class="lineno"> 6726</span> </div>
<div class="line"><span class="lineno"> 6727</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a> = t1 / (t1 - t2);</div>
<div class="line"><span class="lineno"> 6728</span>        <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">midf</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>);</div>
<div class="line"><span class="lineno"> 6729</span> </div>
<div class="line"><span class="lineno"> 6730</span>        <span class="comment">// recurse both sides, front side first</span></div>
<div class="line"><span class="lineno"> 6731</span>        <span class="comment">// return 2 if empty is followed by solid (hit something)</span></div>
<div class="line"><span class="lineno"> 6732</span>        <span class="comment">// do not return 2 if both are solid or both empty,</span></div>
<div class="line"><span class="lineno"> 6733</span>        <span class="comment">// or if start is solid and end is empty</span></div>
<div class="line"><span class="lineno"> 6734</span>        <span class="comment">// as these degenerate cases usually indicate the eye is in solid and</span></div>
<div class="line"><span class="lineno"> 6735</span>        <span class="comment">// should see the target point anyway</span></div>
<div class="line"><span class="lineno"> 6736</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="model__brush_8c.html#abb22ce01c142e371da242d81d09933fa">Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>    ], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>, endpos);</div>
<div class="line"><span class="lineno"> 6737</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != 0)</div>
<div class="line"><span class="lineno"> 6738</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 6739</span>        <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code hl_function" href="model__brush_8c.html#abb22ce01c142e371da242d81d09933fa">Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;children[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a> ^ 1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">p2</a>, endpos);</div>
<div class="line"><span class="lineno"> 6740</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a> != 1)</div>
<div class="line"><span class="lineno"> 6741</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="shader__glsl_8h.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><span class="lineno"> 6742</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">mid</a>, endpos);</div>
<div class="line"><span class="lineno"> 6743</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno"> 6744</span>    }</div>
<div class="line"><span class="lineno"> 6745</span>    <span class="keywordflow">return</span> ((<a class="code hl_struct" href="structmleaf__t.html">mleaf_t</a> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)-&gt;clusterindex &lt; 0;</div>
<div class="line"><span class="lineno"> 6746</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l06748">Mod_Q3BSP_TraceLineOfSight()</a>, and <a class="el" href="model__brush_8c_source.html#l06686">Mod_Q3BSP_TraceLineOfSight_RecursiveNodeCheck()</a>.</p>

</div>
</div>
<a id="abdc9a01bfdaf7e92e836ddbf7b75fe4e" name="abdc9a01bfdaf7e92e836ddbf7b75fe4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc9a01bfdaf7e92e836ddbf7b75fe4e">&#9670;&#160;</a></span>Mod_VBSP_Load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_Load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmodel__t.html">model_t</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> *&#160;</td>
          <td class="paramname"><em>bufferend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l08096">8096</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8097</span>{</div>
<div class="line"><span class="lineno"> 8098</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">// TEMPORARY</span></div>
<div class="line"><span class="lineno"> 8099</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 8100</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>;</div>
<div class="line"><span class="lineno"> 8101</span>    <a class="code hl_struct" href="structsizebuf__t.html">sizebuf_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#a27d22b7e96299401e655f98dca559522">HL2HEADER_LUMPS</a>];</div>
<div class="line"><span class="lineno"> 8102</span> </div>
<div class="line"><span class="lineno"> 8103</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a> || !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a>-&gt;integer)</div>
<div class="line"><span class="lineno"> 8104</span>    {</div>
<div class="line"><span class="lineno"> 8105</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a>)</div>
<div class="line"><span class="lineno"> 8106</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testing</a> = <a class="code hl_function" href="cvar_8c.html#aa70cf293c9806dedb2f3b8427a5df03d">Cvar_Get</a>(&amp;<a class="code hl_variable" href="cvar_8c.html#a71b1f2a204cebd68e6bc4790b9ac4258">cvars_all</a>, <span class="stringliteral">&quot;mod_bsp_vbsptest&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;uhhh&quot;</span>);</div>
<div class="line"><span class="lineno"> 8107</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_Load: not yet fully implemented. Change the now-generated \&quot;mod_bsp_vbsptest\&quot; to 1 if you wish to test this&quot;</span>);</div>
<div class="line"><span class="lineno"> 8108</span>    }</div>
<div class="line"><span class="lineno"> 8109</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 8110</span>    {</div>
<div class="line"><span class="lineno"> 8111</span> </div>
<div class="line"><span class="lineno"> 8112</span>        <a class="code hl_function" href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bufferend</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#a39774db434725e51f4ad4c04150ed6a1">buffer</a>);</div>
<div class="line"><span class="lineno"> 8113</span> </div>
<div class="line"><span class="lineno"> 8114</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0fb268c443d4c9dd629e3af746878fec">type</a> = <a class="code hl_enumvalue" href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4aec6b85862dd42731cd7ef986a3da9c66">mod_brushhl2</a>;</div>
<div class="line"><span class="lineno"> 8115</span> </div>
<div class="line"><span class="lineno"> 8116</span>        <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 8117</span>        <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// TODO version check</span></div>
<div class="line"><span class="lineno"> 8118</span> </div>
<div class="line"><span class="lineno"> 8119</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf92c31375e570dba8224c43a8a5617">modeldatatypestring</a> = <span class="stringliteral">&quot;VBSP&quot;</span>;</div>
<div class="line"><span class="lineno"> 8120</span> </div>
<div class="line"><span class="lineno"> 8121</span>        <span class="comment">// read lumps</span></div>
<div class="line"><span class="lineno"> 8122</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="model__vbsp_8h.html#a27d22b7e96299401e655f98dca559522">HL2HEADER_LUMPS</a>; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 8123</span>        {</div>
<div class="line"><span class="lineno"> 8124</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 8125</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 8126</span>            <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// TODO support version</span></div>
<div class="line"><span class="lineno"> 8127</span>            <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// TODO support ident</span></div>
<div class="line"><span class="lineno"> 8128</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offset &lt; 0 || offset + size &gt;</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.cursize)</div>
<div class="line"><span class="lineno"> 8129</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_Load: %s has invalid lump %i (offset %i, size %i, file size %i)\n&quot;</span>, mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.cursize);</div>
<div class="line"><span class="lineno"> 8130</span>            <a class="code hl_function" href="com__msg_8c.html#a629e75251957727378bcfbf706793904">MSG_InitReadBuffer</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>.data + <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, <a class="code hl_variable" href="glquake_8h.html#a0208b298f4c65e680a58434efb699fe8">size</a>);</div>
<div class="line"><span class="lineno"> 8131</span>        }</div>
<div class="line"><span class="lineno"> 8132</span> </div>
<div class="line"><span class="lineno"> 8133</span>        <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// TODO support revision field</span></div>
<div class="line"><span class="lineno"> 8134</span> </div>
<div class="line"><span class="lineno"> 8135</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1fcab5fc67dd83b66311618cf8e152d">soundfromcenter</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 8136</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">TraceBox</a> = <a class="code hl_function" href="model__brush_8c.html#a29fecb522c6d449fb01d01f2b070e4d1">Mod_CollisionBIH_TraceBox</a>;</div>
<div class="line"><span class="lineno"> 8137</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a88de93ec53d5028ad75df7a08eb5005a">TraceBrush</a> = <a class="code hl_function" href="model__brush_8c.html#affbc4942202066560126b850810d2662">Mod_CollisionBIH_TraceBrush</a>;</div>
<div class="line"><span class="lineno"> 8138</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af986fe2f082429a18c3d36f957649e10">TraceLine</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 8139</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a72c9953cbe38085b8545258bfd28792c">TracePoint</a> = <a class="code hl_function" href="model__brush_8c.html#a968a9377d97910cf10c5186b392543da">Mod_CollisionBIH_TracePoint</a>;</div>
<div class="line"><span class="lineno"> 8140</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">PointSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#ababe610321bcf4487f3e28ac11b0ca1c">Mod_CollisionBIH_PointSuperContents</a>;</div>
<div class="line"><span class="lineno"> 8141</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#ab12042d3586a8c32c85b226baf81d982">TraceLineAgainstSurfaces</a> = <a class="code hl_function" href="model__brush_8c.html#ab816e4b98970a692de3b0ba2faa0ee13">Mod_CollisionBIH_TraceLine</a>;</div>
<div class="line"><span class="lineno"> 8142</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a32ee664ad4c03f4ea8c698b48bb443fe">TraceLineOfSight</a> = <a class="code hl_function" href="model__brush_8c.html#a1f6f8c9469d2d4238d77ced1637226a8">Mod_Q3BSP_TraceLineOfSight</a>; <span class="comment">// probably not correct</span></div>
<div class="line"><span class="lineno"> 8143</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a42a513aa3f096a77e3f52db25aff4a12">SuperContentsFromNativeContents</a> = <a class="code hl_function" href="model__brush_8c.html#a17954d2d48cfe089ee439ae63d8609c8">Mod_Q3BSP_SuperContentsFromNativeContents</a>; <span class="comment">// probably not correct</span></div>
<div class="line"><span class="lineno"> 8144</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a12902c97697b0ccf6f66b5cc1a6e6cbf">NativeContentsFromSuperContents</a> = <a class="code hl_function" href="model__brush_8c.html#a5a62b395e385b7ce9d0b6ff6e9a58a53">Mod_Q3BSP_NativeContentsFromSuperContents</a>; <span class="comment">// probably not correct</span></div>
<div class="line"><span class="lineno"> 8145</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a465f9f70ab597ec72c701c20e28bf8d1">GetPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a410424a81c26ecc81451c5da4a7c50f5">Mod_BSP_GetPVS</a>;</div>
<div class="line"><span class="lineno"> 8146</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a477929f3e6f9e3b51141ff41bdd4d514">FatPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a72ec2cd29705ec14f030bd49ba9697a2">Mod_BSP_FatPVS</a>;</div>
<div class="line"><span class="lineno"> 8147</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ac03016a9bf9a1de98f1a0a08f8f6f4db">BoxTouchingPVS</a> = <a class="code hl_function" href="model__brush_8c.html#aa0a4fa58c97cfce8966a22c7fcec4285">Mod_BSP_BoxTouchingPVS</a>;</div>
<div class="line"><span class="lineno"> 8148</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ad61f56d9901c3877d3cc297d41f6118b">BoxTouchingLeafPVS</a> = <a class="code hl_function" href="model__brush_8c.html#a6a74f1d6ae2f7904e073ae012c2a4b10">Mod_BSP_BoxTouchingLeafPVS</a>;</div>
<div class="line"><span class="lineno"> 8149</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a03c8c1a0218fe2b32ea5d039ad0e1932">BoxTouchingVisibleLeafs</a> = <a class="code hl_function" href="model__brush_8c.html#ac5ff29218d7cd338d8aeee45fd9d1f3c">Mod_BSP_BoxTouchingVisibleLeafs</a>;</div>
<div class="line"><span class="lineno"> 8150</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a5050ba4f944c09d84c3ab53ccd7d6cf8">FindBoxClusters</a> = <a class="code hl_function" href="model__brush_8c.html#a8de8e2031a8fb80452d8a3b9fedc159c">Mod_BSP_FindBoxClusters</a>;</div>
<div class="line"><span class="lineno"> 8151</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a7dcb6ad152fbb5148b1830e79839b197">LightPoint</a> = <a class="code hl_function" href="model__brush_8c.html#ab712c9abe50433fe90a45ad8df6f8378">Mod_Q3BSP_LightPoint</a>; <span class="comment">// probably not correct</span></div>
<div class="line"><span class="lineno"> 8152</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a8d0042214ff0c446bc69f675e65aadb2">FindNonSolidLocation</a> = <a class="code hl_function" href="model__brush_8c.html#a996f873f75319d130c4c2f689629affd">Mod_BSP_FindNonSolidLocation</a>;</div>
<div class="line"><span class="lineno"> 8153</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#aa96eeca1206185432e14e9d770d2d505">AmbientSoundLevelsForPoint</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8154</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a35481106e3500413e8a0304780449719">RoundUpToHullSize</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8155</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a653826cb8e0d7f13d61e3ee419c10616">PointInLeaf</a> = <a class="code hl_function" href="model__brush_8c.html#abb086140977095e71ec940fd8f3fc943">Mod_BSP_PointInLeaf</a>;</div>
<div class="line"><span class="lineno"> 8156</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ad54aab83aca1c9ec564054f4019609">Draw</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a904d7d0ff6adf58e411c3ffb80ca27c4">R_Mod_Draw</a>;</div>
<div class="line"><span class="lineno"> 8157</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a0c0d94b3f0503536ab0e6c0056d97df2">DrawDepth</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aae83c1e7beee72d6cbfc03a0f0bd11bf">R_Mod_DrawDepth</a>;</div>
<div class="line"><span class="lineno"> 8158</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a7b670a69b5082781733cc0b9ebdc307a">DrawDebug</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a6e528b203b784986a5b5bbf82ac387ff">R_Mod_DrawDebug</a>;</div>
<div class="line"><span class="lineno"> 8159</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a5a5b038598ccef5f670521d169edb025">DrawPrepass</a> = <a class="code hl_function" href="gl__rsurf_8c.html#ad8145eb3a0203496ea94da9834e098f0">R_Mod_DrawPrepass</a>;</div>
<div class="line"><span class="lineno"> 8160</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a7a0081b6e77854bd75ae206afba89148">GetLightInfo</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a60a24c695566f11f38f592dc83d76869">R_Mod_GetLightInfo</a>;</div>
<div class="line"><span class="lineno"> 8161</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#aaba719ee8f91d844c266a62e4661aad9">CompileShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a2c9f5aad0d1f1cbd7abefaf946c38fc7">R_Mod_CompileShadowMap</a>;</div>
<div class="line"><span class="lineno"> 8162</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a71121e7ef28a949af258f4611ce21e9c">DrawShadowMap</a> = <a class="code hl_function" href="gl__rsurf_8c.html#aa4222887ff91555860ca9ab52531861c">R_Mod_DrawShadowMap</a>;</div>
<div class="line"><span class="lineno"> 8163</span>        mod-&gt;<a class="code hl_variable" href="structmodel__t.html#af206eaa0040c5a5e297fa1c0191b22dd">DrawLight</a> = <a class="code hl_function" href="gl__rsurf_8c.html#a89a46aef51c1b493184fcc71ee028236">R_Mod_DrawLight</a>;</div>
<div class="line"><span class="lineno"> 8164</span> </div>
<div class="line"><span class="lineno"> 8165</span>        <span class="comment">// allocate a texture pool if we need it</span></div>
<div class="line"><span class="lineno"> 8166</span>        <span class="keywordflow">if</span> (mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 8167</span>            mod-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>();</div>
<div class="line"><span class="lineno"> 8168</span> </div>
<div class="line"><span class="lineno"> 8169</span>        <a class="code hl_function" href="model__brush_8c.html#a8de7844ffbb030ffb94c5103baca7f57">Mod_VBSP_LoadEntities</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#ad2b6dc61860c0ab82a7d99ee1135279f">HL2LUMP_ENTITIES</a>]);</div>
<div class="line"><span class="lineno"> 8170</span>        <a class="code hl_function" href="model__brush_8c.html#a932482614d5e59190631e65477a3e1a4">Mod_VBSP_LoadVertexes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#a5b2f3e06be0104032a307685034d3e67">HL2LUMP_VERTEXES</a>]);</div>
<div class="line"><span class="lineno"> 8171</span>        <a class="code hl_function" href="model__brush_8c.html#a13fa646b18d96e7043086bbba2806a9d">Mod_VBSP_LoadEdges</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#a4342a8fe9e27a5b5fe36ac0462799b69">HL2LUMP_EDGES</a>]);</div>
<div class="line"><span class="lineno"> 8172</span>        <a class="code hl_function" href="model__brush_8c.html#a9d3b4a7611ca2fcc5bb9d771f89287af">Mod_VBSP_LoadSurfedges</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#addd13a76173fbf532dab92964a72cf31">HL2LUMP_SURFEDGES</a>]);</div>
<div class="line"><span class="lineno"> 8173</span>        <a class="code hl_function" href="model__brush_8c.html#aff391bd0f21f8aa2c6fd84a44f4060a1">Mod_VBSP_LoadTextures</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#aa003797cc7d3be9cf1f0dd51705f533b">HL2LUMP_TEXDATA</a><span class="comment">/*?*/</span>]);</div>
<div class="line"><span class="lineno"> 8174</span>        <span class="comment">//Mod_VBSP_LoadLighting(&amp;lumpsb[HL2LUMP_LIGHTING]);</span></div>
<div class="line"><span class="lineno"> 8175</span>        <a class="code hl_function" href="model__brush_8c.html#a781a6da18215af3a214f9577d6fc5af2">Mod_VBSP_LoadPlanes</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#a742ed2321f95f2fdeb2df1156f6d111f">HL2LUMP_PLANES</a>]);</div>
<div class="line"><span class="lineno"> 8176</span>        <a class="code hl_function" href="model__brush_8c.html#adbce3848e4cbaea8abb4cb2aeb04be6f">Mod_VBSP_LoadTexinfo</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#a4c01e286b71b70d1b5b3322618b909a1">HL2LUMP_TEXINFO</a>]);</div>
<div class="line"><span class="lineno"> 8177</span> </div>
<div class="line"><span class="lineno"> 8178</span>        <span class="comment">// AHHHHHHH</span></div>
<div class="line"><span class="lineno"> 8179</span>        <a class="code hl_function" href="model__brush_8c.html#af4d41136a49f35ecaed1275dbffebaac">Mod_VBSP_LoadFaces</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lumpsb</a>[<a class="code hl_define" href="model__vbsp_8h.html#a69d6a5b66b9e5173e83c0a16ed0b5256">HL2LUMP_FACES</a>]);</div>
<div class="line"><span class="lineno"> 8180</span>    }</div>
<div class="line"><span class="lineno"> 8181</span>}</div>
<div class="ttc" id="acmd_8h_html_aadf0879ce7511e76eeea9da766b31c6b"><div class="ttname"><a href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a></div><div class="ttdeci">#define CF_SERVER</div><div class="ttdoc">cvar/command that only the server can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00049">cmd.h:49</a></div></div>
<div class="ttc" id="acmd_8h_html_abba64dce6a45541317c5508aa83436e5"><div class="ttname"><a href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a></div><div class="ttdeci">#define CF_CLIENT</div><div class="ttdoc">cvar/command that only the client can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00048">cmd.h:48</a></div></div>
<div class="ttc" id="acvar_8c_html_a71b1f2a204cebd68e6bc4790b9ac4258"><div class="ttname"><a href="cvar_8c.html#a71b1f2a204cebd68e6bc4790b9ac4258">cvars_all</a></div><div class="ttdeci">cvar_state_t cvars_all</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00028">cvar.c:28</a></div></div>
<div class="ttc" id="acvar_8c_html_aa70cf293c9806dedb2f3b8427a5df03d"><div class="ttname"><a href="cvar_8c.html#aa70cf293c9806dedb2f3b8427a5df03d">Cvar_Get</a></div><div class="ttdeci">cvar_t * Cvar_Get(cvar_state_t *cvars, const char *name, const char *value, unsigned flags, const char *newdescription)</div><div class="ttdoc">allocates a cvar by name and returns its address, or merely sets its value if it already exists.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00695">cvar.c:695</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a13fa646b18d96e7043086bbba2806a9d"><div class="ttname"><a href="model__brush_8c.html#a13fa646b18d96e7043086bbba2806a9d">Mod_VBSP_LoadEdges</a></div><div class="ttdeci">static void Mod_VBSP_LoadEdges(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07703">model_brush.c:7703</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a781a6da18215af3a214f9577d6fc5af2"><div class="ttname"><a href="model__brush_8c.html#a781a6da18215af3a214f9577d6fc5af2">Mod_VBSP_LoadPlanes</a></div><div class="ttdeci">static void Mod_VBSP_LoadPlanes(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07753">model_brush.c:7753</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a8de7844ffbb030ffb94c5103baca7f57"><div class="ttname"><a href="model__brush_8c.html#a8de7844ffbb030ffb94c5103baca7f57">Mod_VBSP_LoadEntities</a></div><div class="ttdeci">static void Mod_VBSP_LoadEntities(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07671">model_brush.c:7671</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a932482614d5e59190631e65477a3e1a4"><div class="ttname"><a href="model__brush_8c.html#a932482614d5e59190631e65477a3e1a4">Mod_VBSP_LoadVertexes</a></div><div class="ttdeci">static void Mod_VBSP_LoadVertexes(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07681">model_brush.c:7681</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a9d3b4a7611ca2fcc5bb9d771f89287af"><div class="ttname"><a href="model__brush_8c.html#a9d3b4a7611ca2fcc5bb9d771f89287af">Mod_VBSP_LoadSurfedges</a></div><div class="ttdeci">static void Mod_VBSP_LoadSurfedges(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07734">model_brush.c:7734</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_adbce3848e4cbaea8abb4cb2aeb04be6f"><div class="ttname"><a href="model__brush_8c.html#adbce3848e4cbaea8abb4cb2aeb04be6f">Mod_VBSP_LoadTexinfo</a></div><div class="ttdeci">static void Mod_VBSP_LoadTexinfo(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07775">model_brush.c:7775</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_af4d41136a49f35ecaed1275dbffebaac"><div class="ttname"><a href="model__brush_8c.html#af4d41136a49f35ecaed1275dbffebaac">Mod_VBSP_LoadFaces</a></div><div class="ttdeci">static void Mod_VBSP_LoadFaces(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07824">model_brush.c:7824</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_aff391bd0f21f8aa2c6fd84a44f4060a1"><div class="ttname"><a href="model__brush_8c.html#aff391bd0f21f8aa2c6fd84a44f4060a1">Mod_VBSP_LoadTextures</a></div><div class="ttdeci">static void Mod_VBSP_LoadTextures(sizebuf_t *sb)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l07748">model_brush.c:7748</a></div></div>
<div class="ttc" id="amodel__shared_8h_html_ae8881adaf7dff7ff012ef751075434f4aec6b85862dd42731cd7ef986a3da9c66"><div class="ttname"><a href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4aec6b85862dd42731cd7ef986a3da9c66">mod_brushhl2</a></div><div class="ttdeci">@ mod_brushhl2</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00043">model_shared.h:43</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_a27d22b7e96299401e655f98dca559522"><div class="ttname"><a href="model__vbsp_8h.html#a27d22b7e96299401e655f98dca559522">HL2HEADER_LUMPS</a></div><div class="ttdeci">#define HL2HEADER_LUMPS</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00072">model_vbsp.h:72</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_a4342a8fe9e27a5b5fe36ac0462799b69"><div class="ttname"><a href="model__vbsp_8h.html#a4342a8fe9e27a5b5fe36ac0462799b69">HL2LUMP_EDGES</a></div><div class="ttdeci">#define HL2LUMP_EDGES</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00086">model_vbsp.h:86</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_a4c01e286b71b70d1b5b3322618b909a1"><div class="ttname"><a href="model__vbsp_8h.html#a4c01e286b71b70d1b5b3322618b909a1">HL2LUMP_TEXINFO</a></div><div class="ttdeci">#define HL2LUMP_TEXINFO</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00080">model_vbsp.h:80</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_a5b2f3e06be0104032a307685034d3e67"><div class="ttname"><a href="model__vbsp_8h.html#a5b2f3e06be0104032a307685034d3e67">HL2LUMP_VERTEXES</a></div><div class="ttdeci">#define HL2LUMP_VERTEXES</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00077">model_vbsp.h:77</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_a69d6a5b66b9e5173e83c0a16ed0b5256"><div class="ttname"><a href="model__vbsp_8h.html#a69d6a5b66b9e5173e83c0a16ed0b5256">HL2LUMP_FACES</a></div><div class="ttdeci">#define HL2LUMP_FACES</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00081">model_vbsp.h:81</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_a742ed2321f95f2fdeb2df1156f6d111f"><div class="ttname"><a href="model__vbsp_8h.html#a742ed2321f95f2fdeb2df1156f6d111f">HL2LUMP_PLANES</a></div><div class="ttdeci">#define HL2LUMP_PLANES</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00075">model_vbsp.h:75</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_aa003797cc7d3be9cf1f0dd51705f533b"><div class="ttname"><a href="model__vbsp_8h.html#aa003797cc7d3be9cf1f0dd51705f533b">HL2LUMP_TEXDATA</a></div><div class="ttdeci">#define HL2LUMP_TEXDATA</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00076">model_vbsp.h:76</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_ad2b6dc61860c0ab82a7d99ee1135279f"><div class="ttname"><a href="model__vbsp_8h.html#ad2b6dc61860c0ab82a7d99ee1135279f">HL2LUMP_ENTITIES</a></div><div class="ttdeci">#define HL2LUMP_ENTITIES</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00074">model_vbsp.h:74</a></div></div>
<div class="ttc" id="amodel__vbsp_8h_html_addd13a76173fbf532dab92964a72cf31"><div class="ttname"><a href="model__vbsp_8h.html#addd13a76173fbf532dab92964a72cf31">HL2LUMP_SURFEDGES</a></div><div class="ttdeci">#define HL2LUMP_SURFEDGES</div><div class="ttdef"><b>Definition</b> <a href="model__vbsp_8h_source.html#l00087">model_vbsp.h:87</a></div></div>
<div class="ttc" id="astructcvar__t_html"><div class="ttname"><a href="structcvar__t.html">cvar_t</a></div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00065">cvar.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a13fa646b18d96e7043086bbba2806a9d" name="a13fa646b18d96e7043086bbba2806a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13fa646b18d96e7043086bbba2806a9d">&#9670;&#160;</a></span>Mod_VBSP_LoadEdges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_LoadEdges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07703">7703</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7704</span>{</div>
<div class="line"><span class="lineno"> 7705</span>    <a class="code hl_struct" href="structmedge__t.html">medge_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 7706</span>    <span class="keywordtype">int</span>     <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 7707</span>    <span class="keywordtype">int</span>     <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 4;</div>
<div class="line"><span class="lineno"> 7708</span> </div>
<div class="line"><span class="lineno"> 7709</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 7710</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadEdges: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7711</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 7712</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmedge__t.html">medge_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 7713</span> </div>
<div class="line"><span class="lineno"> 7714</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#ae388b30d9e7e28adb638d3c2339f66e0">edges</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 7715</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a521e8a63f407cffdc0373095d284b845">numedges</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 7716</span> </div>
<div class="line"><span class="lineno"> 7717</span>    <span class="keywordflow">for</span> ( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 7718</span>    {</div>
<div class="line"><span class="lineno"> 7719</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7720</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1] = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7721</span>        </div>
<div class="line"><span class="lineno"> 7722</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0] &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a> || (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1] &gt;= <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a>)</div>
<div class="line"><span class="lineno"> 7723</span>        {</div>
<div class="line"><span class="lineno"> 7724</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadEdges: %s has invalid vertex indices in edge %i (vertices %i %i &gt;= numvertices %i)\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1], <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a>);</div>
<div class="line"><span class="lineno"> 7725</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a>)</div>
<div class="line"><span class="lineno"> 7726</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadEdges: %s has edges but no vertexes, cannot fix\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7727</span>                </div>
<div class="line"><span class="lineno"> 7728</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[0] = 0;</div>
<div class="line"><span class="lineno"> 7729</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;v[1] = 0;</div>
<div class="line"><span class="lineno"> 7730</span>        }</div>
<div class="line"><span class="lineno"> 7731</span>    }</div>
<div class="line"><span class="lineno"> 7732</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a8de7844ffbb030ffb94c5103baca7f57" name="a8de7844ffbb030ffb94c5103baca7f57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de7844ffbb030ffb94c5103baca7f57">&#9670;&#160;</a></span>Mod_VBSP_LoadEntities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_LoadEntities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07671">7671</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7672</span>{</div>
<div class="line"><span class="lineno"> 7673</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7674</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize)</div>
<div class="line"><span class="lineno"> 7675</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 7676</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a> = (<span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize + 1);</div>
<div class="line"><span class="lineno"> 7677</span>    <a class="code hl_function" href="com__msg_8c.html#a4dad1f08fe43f599ea024f527edac678">MSG_ReadBytes</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a>);</div>
<div class="line"><span class="lineno"> 7678</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#a962a79e3c0eaf5b85f182d9b3fa93688">entities</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize] = 0;</div>
<div class="line"><span class="lineno"> 7679</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="af4d41136a49f35ecaed1275dbffebaac" name="af4d41136a49f35ecaed1275dbffebaac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d41136a49f35ecaed1275dbffebaac">&#9670;&#160;</a></span>Mod_VBSP_LoadFaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_LoadFaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07824">7824</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7825</span>{</div>
<div class="line"><span class="lineno"> 7826</span>    <a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>;</div>
<div class="line"><span class="lineno"> 7827</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>, planenum, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smax</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmax</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a>, numedges, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>, lightmapsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallightmapsamples</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a>;</div>
<div class="line"><span class="lineno"> 7828</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">val</a>;</div>
<div class="line"><span class="lineno"> 7829</span>    <a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *lightmaptexture, *deluxemaptexture;</div>
<div class="line"><span class="lineno"> 7830</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>[1024];</div>
<div class="line"><span class="lineno"> 7831</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> =  56;</div>
<div class="line"><span class="lineno"> 7832</span> </div>
<div class="line"><span class="lineno"> 7833</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 7834</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadFaces: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7835</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 7836</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a> = (<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmsurface__t.html">msurface_t</a>));</div>
<div class="line"><span class="lineno"> 7837</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ec5ea2163e9a5b2528edd4d3c0fd9c1">data_surfaces_lightmapinfo</a> = (<a class="code hl_struct" href="structmsurface__lightmapinfo__t.html">msurface_lightmapinfo_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structmsurface__lightmapinfo__t.html">msurface_lightmapinfo_t</a>));</div>
<div class="line"><span class="lineno"> 7838</span> </div>
<div class="line"><span class="lineno"> 7839</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ab77f5d2c5064c2e726a590bcdc440ccf">num_surfaces</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 7840</span> </div>
<div class="line"><span class="lineno"> 7841</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aca69bc0d1a00ed0f6ab32f3e73bd424b">firstrender</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7842</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">lightmapupdateflags</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>));</div>
<div class="line"><span class="lineno"> 7843</span> </div>
<div class="line"><span class="lineno"> 7844</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a> = 0;</div>
<div class="line"><span class="lineno"> 7845</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a> = 0;</div>
<div class="line"><span class="lineno"> 7846</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++)</div>
<div class="line"><span class="lineno"> 7847</span>    {</div>
<div class="line"><span class="lineno"> 7848</span>        numedges = <a class="code hl_function" href="com__msg_8c.html#a562c9519cec6edc084492ba2bf856063">BuffLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;data + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> + 8);</div>
<div class="line"><span class="lineno"> 7849</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a> += numedges;</div>
<div class="line"><span class="lineno"> 7850</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a> += numedges - 2;</div>
<div class="line"><span class="lineno"> 7851</span>    }</div>
<div class="line"><span class="lineno"> 7852</span> </div>
<div class="line"><span class="lineno"> 7853</span>    <a class="code hl_function" href="model__shared_8c.html#a455c3cfb0b7e57f8e4dbe4ee0e8fd37e">Mod_AllocSurfMesh</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 7854</span> </div>
<div class="line"><span class="lineno"> 7855</span>    lightmaptexture = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7856</span>    deluxemaptexture = <a class="code hl_variable" href="gl__rmain_8c.html#a86492b7e60c357ab15bbc786c1015024">r_texture_blanknormalmap</a>;</div>
<div class="line"><span class="lineno"> 7857</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a> = 0;</div>
<div class="line"><span class="lineno"> 7858</span>    lightmapsize = <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(256, <a class="code hl_variable" href="model__brush_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a06a669057f01a0d02c34aa0ebc781a54">maxtexturesize_2d</a>);</div>
<div class="line"><span class="lineno"> 7859</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallightmapsamples</a> = 0;</div>
<div class="line"><span class="lineno"> 7860</span> </div>
<div class="line"><span class="lineno"> 7861</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a> = 0;</div>
<div class="line"><span class="lineno"> 7862</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a> = 0;</div>
<div class="line"><span class="lineno"> 7863</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>++)</div>
<div class="line"><span class="lineno"> 7864</span>    {</div>
<div class="line"><span class="lineno"> 7865</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a4ec5ea2163e9a5b2528edd4d3c0fd9c1">data_surfaces_lightmapinfo</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>;</div>
<div class="line"><span class="lineno"> 7866</span>        planenum = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7867</span>        <span class="comment">/*side = */</span><a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// TODO support onNode?</span></div>
<div class="line"><span class="lineno"> 7868</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7869</span>        numedges = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7870</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a> = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">short</a>)<a class="code hl_function" href="com__msg_8c.html#aa7a9ec4cc694b7bb97ff7d87cd772ffb">MSG_ReadLittleShort</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7871</span>        <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// skipping over dispinfo and surfaceFogVolumeID, both short</span></div>
<div class="line"><span class="lineno"> 7872</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="bspfile_8h.html#a282586e61f7c28cd14c0fe13636aff4f">MAXLIGHTMAPS</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7873</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="common_8h.html#ae4d87498f0f9c299877ed57d9c47aede">MSG_ReadByte</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7874</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7875</span> </div>
<div class="line"><span class="lineno"> 7876</span>        <span class="comment">// FIXME: validate edges, texinfo, etc?</span></div>
<div class="line"><span class="lineno"> 7877</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a> &gt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a> || (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) numedges &gt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a> || (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a> + (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) numedges &gt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a>)</div>
<div class="line"><span class="lineno"> 7878</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadFaces: invalid edge range (firstedge %i, numedges %i, model edges %i)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a>, numedges, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a>);</div>
<div class="line"><span class="lineno"> 7879</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a> &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a>)</div>
<div class="line"><span class="lineno"> 7880</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadFaces: invalid texinfo index %i(model has %i texinfos)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a>);</div>
<div class="line"><span class="lineno"> 7881</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) planenum &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>)</div>
<div class="line"><span class="lineno"> 7882</span>            <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadFaces: invalid plane index %i (model has %i planes)&quot;</span>, planenum, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>);</div>
<div class="line"><span class="lineno"> 7883</span> </div>
<div class="line"><span class="lineno"> 7884</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texinfoindex</a>;</div>
<div class="line"><span class="lineno"> 7885</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;textureindex;</div>
<div class="line"><span class="lineno"> 7886</span> </div>
<div class="line"><span class="lineno"> 7887</span>        <span class="comment">// Q2BSP doesn&#39;t use lightmaps on sky or warped surfaces (water), but still has a lightofs of 0</span></div>
<div class="line"><span class="lineno"> 7888</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> == 0 &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;q2flags &amp; (<a class="code hl_define" href="model__q2bsp_8h.html#aa2b469e83a492c9244dd29df1148a0fb">Q2SURF_SKY</a> | <a class="code hl_define" href="model__q2bsp_8h.html#a8dcd5446e450bcc2e45b2f90b0b085c9">Q2SURF_WARP</a>)))</div>
<div class="line"><span class="lineno"> 7889</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> = -1;</div>
<div class="line"><span class="lineno"> 7890</span> </div>
<div class="line"><span class="lineno"> 7891</span>        <span class="comment">//surface-&gt;flags = surface-&gt;texture-&gt;flags;</span></div>
<div class="line"><span class="lineno"> 7892</span>        <span class="comment">//if (LittleShort(in-&gt;side))</span></div>
<div class="line"><span class="lineno"> 7893</span>        <span class="comment">//  surface-&gt;flags |= SURF_PLANEBACK;</span></div>
<div class="line"><span class="lineno"> 7894</span>        <span class="comment">//surface-&gt;plane = loadmodel-&gt;brush.data_planes + planenum;</span></div>
<div class="line"><span class="lineno"> 7895</span> </div>
<div class="line"><span class="lineno"> 7896</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a>;</div>
<div class="line"><span class="lineno"> 7897</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices = numedges;</div>
<div class="line"><span class="lineno"> 7898</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a>;</div>
<div class="line"><span class="lineno"> 7899</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles = numedges - 2;</div>
<div class="line"><span class="lineno"> 7900</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totalverts</a> += numedges;</div>
<div class="line"><span class="lineno"> 7901</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totaltris</a> += numedges - 2;</div>
<div class="line"><span class="lineno"> 7902</span> </div>
<div class="line"><span class="lineno"> 7903</span>        <span class="comment">// convert edges back to a normal polygon</span></div>
<div class="line"><span class="lineno"> 7904</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7905</span>        {</div>
<div class="line"><span class="lineno"> 7906</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lindex</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aeac46ea79001b7f0f00a45b53985d688">surfedges</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">firstedge</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 7907</span>            <span class="keywordtype">float</span> s, t;</div>
<div class="line"><span class="lineno"> 7908</span>            <span class="comment">// note: the q1bsp format does not allow a 0 surfedge (it would have no negative counterpart)</span></div>
<div class="line"><span class="lineno"> 7909</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lindex</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 7910</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a0f37e90f1862c9db1de9293604fcbf64">vertexes</a>[<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#ae388b30d9e7e28adb638d3c2339f66e0">edges</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lindex</a>].<a class="code hl_variable" href="structmedge__t.html#a8aaba45c4b322d6308f95dda7b78c288">v</a>[0]].<a class="code hl_variable" href="structmvertex__t.html#adc6a2391b1f975b9c814f8899e94a7f0">position</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3);</div>
<div class="line"><span class="lineno"> 7911</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 7912</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a0f37e90f1862c9db1de9293604fcbf64">vertexes</a>[<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#ae388b30d9e7e28adb638d3c2339f66e0">edges</a>[-<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lindex</a>].<a class="code hl_variable" href="structmedge__t.html#a8aaba45c4b322d6308f95dda7b78c288">v</a>[1]].<a class="code hl_variable" href="structmvertex__t.html#adc6a2391b1f975b9c814f8899e94a7f0">position</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3);</div>
<div class="line"><span class="lineno"> 7913</span>            s = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][3];</div>
<div class="line"><span class="lineno"> 7914</span>            t = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][3];</div>
<div class="line"><span class="lineno"> 7915</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 0] = s / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;width;</div>
<div class="line"><span class="lineno"> 7916</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = t / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;height;</div>
<div class="line"><span class="lineno"> 7917</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 0] = 0;</div>
<div class="line"><span class="lineno"> 7918</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = 0;</div>
<div class="line"><span class="lineno"> 7919</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aa554d38b12c33f5c8903d189d5872496">data_lightmapoffsets</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><span class="lineno"> 7920</span>        }</div>
<div class="line"><span class="lineno"> 7921</span> </div>
<div class="line"><span class="lineno"> 7922</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7923</span>        {</div>
<div class="line"><span class="lineno"> 7924</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 0] = 0 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 7925</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 1] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 7926</span>            (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3 + 2] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex;</div>
<div class="line"><span class="lineno"> 7927</span>        }</div>
<div class="line"><span class="lineno"> 7928</span> </div>
<div class="line"><span class="lineno"> 7929</span>        <span class="comment">// compile additional data about the surface geometry</span></div>
<div class="line"><span class="lineno"> 7930</span>        <a class="code hl_function" href="model__shared_8c.html#a37407d4a42c1e522117279e58e7f25db">Mod_BuildNormals</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle), <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a>, <a class="code hl_variable" href="gl__rmain_8c.html#a37faadec2e376d05a51a598c303faee8">r_smoothnormals_areaweighting</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != 0);</div>
<div class="line"><span class="lineno"> 7931</span>        <a class="code hl_function" href="model__shared_8c.html#aa4c8e5f23a372b474dbf2344bd1af35d">Mod_BuildTextureVectorsFromNormals</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_triangles, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aee9ff7e902169022620a5cdf6f7ce992">data_texcoordtexture2f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af7ab21ac40dc848a7238340260e106f4">data_normal3f</a>, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firsttriangle), <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a5955263e1adbb8dedcfedf7caba77971">data_svector3f</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a8e5cfd0075e30165db1a60a468201937">data_tvector3f</a>, <a class="code hl_variable" href="gl__rmain_8c.html#a37faadec2e376d05a51a598c303faee8">r_smoothnormals_areaweighting</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> != 0);</div>
<div class="line"><span class="lineno"> 7932</span>        <a class="code hl_function" href="mathlib_8c.html#a55d3557bbf3992473d57a8f16ac0ae6e">BoxFromPoints</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices, (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex));</div>
<div class="line"><span class="lineno"> 7933</span> </div>
<div class="line"><span class="lineno"> 7934</span>        <span class="comment">// generate surface extents information</span></div>
<div class="line"><span class="lineno"> 7935</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[0] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][3];</div>
<div class="line"><span class="lineno"> 7936</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[1] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][3];</div>
<div class="line"><span class="lineno"> 7937</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7938</span>        {</div>
<div class="line"><span class="lineno"> 7939</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 7940</span>            {</div>
<div class="line"><span class="lineno"> 7941</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">val</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>][3];</div>
<div class="line"><span class="lineno"> 7942</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">val</a>);</div>
<div class="line"><span class="lineno"> 7943</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">val</a>);</div>
<div class="line"><span class="lineno"> 7944</span>            }</div>
<div class="line"><span class="lineno"> 7945</span>        }</div>
<div class="line"><span class="lineno"> 7946</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7947</span>        {</div>
<div class="line"><span class="lineno"> 7948</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmins</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] / 16.0) * 16;</div>
<div class="line"><span class="lineno"> 7949</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ceil</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">texmaxs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] / 16.0) * 16 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 7950</span>        }</div>
<div class="line"><span class="lineno"> 7951</span> </div>
<div class="line"><span class="lineno"> 7952</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 7953</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 7954</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 7955</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 7956</span> </div>
<div class="line"><span class="lineno"> 7957</span>        <span class="comment">// lighting info</span></div>
<div class="line"><span class="lineno"> 7958</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmaptexture = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7959</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;deluxemaptexture = <a class="code hl_variable" href="gl__rmain_8c.html#a86492b7e60c357ab15bbc786c1015024">r_texture_blanknormalmap</a>;</div>
<div class="line"><span class="lineno"> 7960</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a> == -1)</div>
<div class="line"><span class="lineno"> 7961</span>        {</div>
<div class="line"><span class="lineno"> 7962</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 7963</span><span class="preprocessor">#if 1</span></div>
<div class="line"><span class="lineno"> 7964</span>            <span class="comment">// give non-lightmapped water a 1x white lightmap</span></div>
<div class="line"><span class="lineno"> 7965</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ab7aebfce8659a90f3060c820ccc7c3c8">isq2bsp</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;texture-&gt;name[0] == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;q1flags &amp; <a class="code hl_define" href="bspfile_8h.html#a1f19afba837340ece1548dee6c80cebf">TEX_SPECIAL</a>) &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> &lt;= 256 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> &lt;= 256)</div>
<div class="line"><span class="lineno"> 7966</span>            {</div>
<div class="line"><span class="lineno"> 7967</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> * 3);</div>
<div class="line"><span class="lineno"> 7968</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;styles[0] = 0;</div>
<div class="line"><span class="lineno"> 7969</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples, 128, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> * 3);</div>
<div class="line"><span class="lineno"> 7970</span>            }</div>
<div class="line"><span class="lineno"> 7971</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 7972</span>        }</div>
<div class="line"><span class="lineno"> 7973</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 7974</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a70a1574bac96e9b59acb8dad94c6c28c">lightdata</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapoffset</a>;</div>
<div class="line"><span class="lineno"> 7975</span> </div>
<div class="line"><span class="lineno"> 7976</span>        <span class="comment">// check if we should apply a lightmap to this</span></div>
<div class="line"><span class="lineno"> 7977</span>        <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;q1flags &amp; <a class="code hl_define" href="bspfile_8h.html#a1f19afba837340ece1548dee6c80cebf">TEX_SPECIAL</a>) || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;samples)</div>
<div class="line"><span class="lineno"> 7978</span>        {</div>
<div class="line"><span class="lineno"> 7979</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> &gt; 256 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> &gt; 256)</div>
<div class="line"><span class="lineno"> 7980</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Bad surface extents&quot;</span>);</div>
<div class="line"><span class="lineno"> 7981</span> </div>
<div class="line"><span class="lineno"> 7982</span>            <span class="keywordflow">if</span> (lightmapsize &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>)</div>
<div class="line"><span class="lineno"> 7983</span>                lightmapsize = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>;</div>
<div class="line"><span class="lineno"> 7984</span>            <span class="keywordflow">if</span> (lightmapsize &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>)</div>
<div class="line"><span class="lineno"> 7985</span>                lightmapsize = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>;</div>
<div class="line"><span class="lineno"> 7986</span> </div>
<div class="line"><span class="lineno"> 7987</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallightmapsamples</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>;</div>
<div class="line"><span class="lineno"> 7988</span> </div>
<div class="line"><span class="lineno"> 7989</span>            <span class="comment">// force lightmap upload on first time seeing the surface</span></div>
<div class="line"><span class="lineno"> 7990</span>            <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 7991</span>            <span class="comment">// additionally this is used by the later code to see if a</span></div>
<div class="line"><span class="lineno"> 7992</span>            <span class="comment">// lightmap is needed on this surface (rather than duplicating the</span></div>
<div class="line"><span class="lineno"> 7993</span>            <span class="comment">// logic above)</span></div>
<div class="line"><span class="lineno"> 7994</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">lightmapupdateflags</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7995</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a2fd867d2779bb6e6b6f7348fc47c5948">lit</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 7996</span>        }</div>
<div class="line"><span class="lineno"> 7997</span>    }</div>
<div class="line"><span class="lineno"> 7998</span> </div>
<div class="line"><span class="lineno"> 7999</span>    <span class="comment">// small maps (such as ammo boxes especially) don&#39;t need big lightmap</span></div>
<div class="line"><span class="lineno"> 8000</span>    <span class="comment">// textures, so this code tries to guess a good size based on</span></div>
<div class="line"><span class="lineno"> 8001</span>    <span class="comment">// totallightmapsamples (size of the lightmaps lump basically), as well as</span></div>
<div class="line"><span class="lineno"> 8002</span>    <span class="comment">// trying to max out the size if there is a lot of lightmap data to store</span></div>
<div class="line"><span class="lineno"> 8003</span>    <span class="comment">// additionally, never choose a lightmapsize that is smaller than the</span></div>
<div class="line"><span class="lineno"> 8004</span>    <span class="comment">// largest surface encountered (as it would fail)</span></div>
<div class="line"><span class="lineno"> 8005</span>    <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = lightmapsize;</div>
<div class="line"><span class="lineno"> 8006</span>    <span class="keywordflow">for</span> (lightmapsize = 64; (lightmapsize &lt; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp; (lightmapsize &lt; <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(128, <a class="code hl_variable" href="model__brush_8c.html#ada114ab9ac14d4164089d1652a502f2c">gl_max_lightmapsize</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, (<span class="keywordtype">int</span>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#a06a669057f01a0d02c34aa0ebc781a54">maxtexturesize_2d</a>)) &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">totallightmapsamples</a> &gt; lightmapsize*lightmapsize); lightmapsize*=2)</div>
<div class="line"><span class="lineno"> 8007</span>        ;</div>
<div class="line"><span class="lineno"> 8008</span> </div>
<div class="line"><span class="lineno"> 8009</span>    <span class="comment">// now that we&#39;ve decided the lightmap texture size, we can do the rest</span></div>
<div class="line"><span class="lineno"> 8010</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a6722e47d64e69141af5cdf392fcf95eb">state</a> != <a class="code hl_enumvalue" href="client_8h.html#a5bba17cd89b07573a996f6d37d31cefea7375457f0c8a5f43091d1cb777aaf659">ca_dedicated</a>)</div>
<div class="line"><span class="lineno"> 8011</span>    {</div>
<div class="line"><span class="lineno"> 8012</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stainmapsize</a> = 0;</div>
<div class="line"><span class="lineno"> 8013</span>        <a class="code hl_struct" href="structmod__alloclightmap__state__t.html">mod_alloclightmap_state_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>;</div>
<div class="line"><span class="lineno"> 8014</span> </div>
<div class="line"><span class="lineno"> 8015</span>        <a class="code hl_function" href="model__shared_8c.html#a27be267e2cf2666a18e976df520e625b">Mod_AllocLightmap_Init</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, lightmapsize, lightmapsize);</div>
<div class="line"><span class="lineno"> 8016</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>++)</div>
<div class="line"><span class="lineno"> 8017</span>        {</div>
<div class="line"><span class="lineno"> 8018</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iu</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iv</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a> = 0;</div>
<div class="line"><span class="lineno"> 8019</span>            <span class="keywordtype">float</span> u, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ubase</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vbase</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uscale</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vscale</a>;</div>
<div class="line"><span class="lineno"> 8020</span> </div>
<div class="line"><span class="lineno"> 8021</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">lightmapupdateflags</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>])</div>
<div class="line"><span class="lineno"> 8022</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8023</span> </div>
<div class="line"><span class="lineno"> 8024</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 8025</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmax</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 8026</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 8027</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 8028</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stainmapsize</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> * 3;</div>
<div class="line"><span class="lineno"> 8029</span> </div>
<div class="line"><span class="lineno"> 8030</span>            <span class="keywordflow">if</span> (!lightmaptexture || !<a class="code hl_function" href="model__shared_8c.html#a835cf8e835979953163e64c7eea95186">Mod_AllocLightmap_Block</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a>))</div>
<div class="line"><span class="lineno"> 8031</span>            {</div>
<div class="line"><span class="lineno"> 8032</span>                <span class="comment">// allocate a texture pool if we need it</span></div>
<div class="line"><span class="lineno"> 8033</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno"> 8034</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a> = <a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>();</div>
<div class="line"><span class="lineno"> 8035</span>                <span class="comment">// could not find room, make a new lightmap</span></div>
<div class="line"><span class="lineno"> 8036</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a> + 1;</div>
<div class="line"><span class="lineno"> 8037</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a> = (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> **)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> * <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a>[0]));</div>
<div class="line"><span class="lineno"> 8038</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a> = (<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> **)<a class="code hl_define" href="zone_8h.html#aa613261ffbc429e7212d3e9e42de9644">Mem_Realloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a9a6c3e1fc72135d6dc9581c9bd7f1f88">num_mergedlightmaps</a> * <span class="keyword">sizeof</span>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a>[0]));</div>
<div class="line"><span class="lineno"> 8039</span>                <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#a4c41214172127c935805b23659258e9f">data_lightmaps</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>] = lightmaptexture = <a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;lightmap%i&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>), lightmapsize, lightmapsize, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a621c5bf8f9aad67354954c08a2603e05">TEXF_ALLOWUPDATES</a>, -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 8040</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a6eb8619cf07b367ebdda88224ca1ab78">nmaplightdata</a>)</div>
<div class="line"><span class="lineno"> 8041</span>                    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a5301cd5482c8a21efabe003b490fe1b7">brushq3</a>.<a class="code hl_variable" href="structmodel__brushq3__t.html#aab1b30ab9ae770bf3d403eae5ce0aa01">data_deluxemaps</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>] = deluxemaptexture = <a class="code hl_function" href="gl__textures_8c.html#afe6f33ec05da1bce9cd3a847610e7384">R_LoadTexture2D</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a6d207a080d8ca69eecb6ca4ceb4cd98b">texturepool</a>, <a class="code hl_function" href="common_8c.html#a4a8220fa88226bf9cf39b12a051a20d7">va</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vabuf</a>), <span class="stringliteral">&quot;deluxemap%i&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>), lightmapsize, lightmapsize, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#a7ebf18782aefc1f1ff9fc5cb169e2dbb">TEXF_FORCELINEAR</a> | <a class="code hl_define" href="r__textures_8h.html#a621c5bf8f9aad67354954c08a2603e05">TEXF_ALLOWUPDATES</a>, -1, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 8042</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapnumber</a>++;</div>
<div class="line"><span class="lineno"> 8043</span>                <a class="code hl_function" href="model__shared_8c.html#a1e063ce17b7be8462ffafa0f8f8ff8b1">Mod_AllocLightmap_Reset</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>);</div>
<div class="line"><span class="lineno"> 8044</span>                <a class="code hl_function" href="model__shared_8c.html#a835cf8e835979953163e64c7eea95186">Mod_AllocLightmap_Block</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allocState</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a>);</div>
<div class="line"><span class="lineno"> 8045</span>            }</div>
<div class="line"><span class="lineno"> 8046</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmaptexture = lightmaptexture;</div>
<div class="line"><span class="lineno"> 8047</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;deluxemaptexture = deluxemaptexture;</div>
<div class="line"><span class="lineno"> 8048</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;lightmaporigin[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a>;</div>
<div class="line"><span class="lineno"> 8049</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;lightmaporigin[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a>;</div>
<div class="line"><span class="lineno"> 8050</span> </div>
<div class="line"><span class="lineno"> 8051</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uscale</a> = 1.0f / (<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)lightmapsize;</div>
<div class="line"><span class="lineno"> 8052</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vscale</a> = 1.0f / (<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)lightmapsize;</div>
<div class="line"><span class="lineno"> 8053</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ubase</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapx</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uscale</a>;</div>
<div class="line"><span class="lineno"> 8054</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vbase</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmapy</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vscale</a>;</div>
<div class="line"><span class="lineno"> 8055</span> </div>
<div class="line"><span class="lineno"> 8056</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_vertices;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 8057</span>            {</div>
<div class="line"><span class="lineno"> 8058</span>                u = ((<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[0][3]) + 8 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[0]) * (1.0 / 16.0);</div>
<div class="line"><span class="lineno"> 8059</span>                <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> = ((<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(((<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a7e8415435609398f52b4aff9f553ae20">data_vertex3f</a> + 3 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex) + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 3), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texinfo-&gt;vecs[1][3]) + 8 - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;texturemins[1]) * (1.0 / 16.0);</div>
<div class="line"><span class="lineno"> 8060</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 0] = u * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uscale</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ubase</a>;</div>
<div class="line"><span class="lineno"> 8061</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#af8f455c3a1913bb8ba78da107dd8c7d8">data_texcoordlightmap2f</a> + 2 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vscale</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vbase</a>;</div>
<div class="line"><span class="lineno"> 8062</span>                <span class="comment">// LadyHavoc: calc lightmap data offset for vertex lighting to use</span></div>
<div class="line"><span class="lineno"> 8063</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iu</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) u;</div>
<div class="line"><span class="lineno"> 8064</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iv</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><span class="lineno"> 8065</span>                (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#aa554d38b12c33f5c8903d189d5872496">data_lightmapoffsets</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;num_firstvertex)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iv</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tmax</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> + <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iu</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smax</a>)) * 3;</div>
<div class="line"><span class="lineno"> 8066</span>            }</div>
<div class="line"><span class="lineno"> 8067</span>        }</div>
<div class="line"><span class="lineno"> 8068</span> </div>
<div class="line"><span class="lineno"> 8069</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__main_8c.html#a8cb002aca17ed260e455a09b30057617">cl_stainmaps</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 8070</span>        {</div>
<div class="line"><span class="lineno"> 8071</span>            <span class="comment">// allocate stainmaps for permanent marks on walls and clear white</span></div>
<div class="line"><span class="lineno"> 8072</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *stainsamples = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 8073</span>            stainsamples = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stainmapsize</a>);</div>
<div class="line"><span class="lineno"> 8074</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(stainsamples, 255, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stainmapsize</a>);</div>
<div class="line"><span class="lineno"> 8075</span>            <span class="comment">// assign pointers</span></div>
<div class="line"><span class="lineno"> 8076</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> = 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a> = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a438c22283046e832aba6c3a7b1a92feb">data_surfaces</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>++)</div>
<div class="line"><span class="lineno"> 8077</span>            {</div>
<div class="line"><span class="lineno"> 8078</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a66c2d707bc47f544a31c80fa74ea8516">lightmapupdateflags</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfacenum</a>])</div>
<div class="line"><span class="lineno"> 8079</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 8080</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[0] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 8081</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;extents[1] &gt;&gt; 4) + 1;</div>
<div class="line"><span class="lineno"> 8082</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surface</a>-&gt;lightmapinfo-&gt;stainsamples = stainsamples;</div>
<div class="line"><span class="lineno"> 8083</span>                stainsamples += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ssize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tsize</a> * 3;</div>
<div class="line"><span class="lineno"> 8084</span>            }</div>
<div class="line"><span class="lineno"> 8085</span>        }</div>
<div class="line"><span class="lineno"> 8086</span>    }</div>
<div class="line"><span class="lineno"> 8087</span> </div>
<div class="line"><span class="lineno"> 8088</span>    <span class="comment">// generate ushort elements array if possible</span></div>
<div class="line"><span class="lineno"> 8089</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>)</div>
<div class="line"><span class="lineno"> 8090</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#ab1541bccdbf92ee0c4310417ddec6af1">num_triangles</a>*3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 8091</span>            <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6ea70bbf33859b9ab111c9b875b34c1a">data_element3s</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a1c55fbbffd372358dd464cbdad16db70">surfmesh</a>.<a class="code hl_variable" href="structsurfmesh__t.html#a6c79b7bfa30a7309fcfe31093edcfe06">data_element3i</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 8092</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a781a6da18215af3a214f9577d6fc5af2" name="a781a6da18215af3a214f9577d6fc5af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a781a6da18215af3a214f9577d6fc5af2">&#9670;&#160;</a></span>Mod_VBSP_LoadPlanes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_LoadPlanes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07753">7753</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7754</span>{</div>
<div class="line"><span class="lineno"> 7755</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 7756</span>    <a class="code hl_struct" href="structmplane__t.html">mplane_t</a>    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 7757</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 20;</div>
<div class="line"><span class="lineno"> 7758</span> </div>
<div class="line"><span class="lineno"> 7759</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 7760</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadPlanes: funny lump size in %s&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7761</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 7762</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#adad6fe5c0779834f84c6ede152eb3d78">data_planes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmplane__t.html">mplane_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 7763</span> </div>
<div class="line"><span class="lineno"> 7764</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a04530a5055aa78902f674f53fa284a37">brush</a>.<a class="code hl_variable" href="structmodel__brush__t.html#ade5b712668448cb03160ca4072cdab54">num_planes</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 7765</span>    {</div>
<div class="line"><span class="lineno"> 7766</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;<a class="code hl_variable" href="structmplane__t.html#a3f00ad54cea46a900371a541456b210e">normal</a>[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7767</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;normal[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7768</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;normal[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7769</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;dist = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7770</span>        <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// type is not used, we use PlaneClassify</span></div>
<div class="line"><span class="lineno"> 7771</span>        <a class="code hl_function" href="mathlib_8c.html#ac6346bdac2617a1fce578c20b3520a79">PlaneClassify</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>);</div>
<div class="line"><span class="lineno"> 7772</span>    }</div>
<div class="line"><span class="lineno"> 7773</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a9d3b4a7611ca2fcc5bb9d771f89287af" name="a9d3b4a7611ca2fcc5bb9d771f89287af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3b4a7611ca2fcc5bb9d771f89287af">&#9670;&#160;</a></span>Mod_VBSP_LoadSurfedges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_LoadSurfedges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07734">7734</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7735</span>{</div>
<div class="line"><span class="lineno"> 7736</span>    <span class="keywordtype">int</span>     <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 7737</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 4;</div>
<div class="line"><span class="lineno"> 7738</span> </div>
<div class="line"><span class="lineno"> 7739</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 7740</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadSurfedges: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7741</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 7742</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aeac46ea79001b7f0f00a45b53985d688">surfedges</a> = (<span class="keywordtype">int</span> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><span class="lineno"> 7743</span> </div>
<div class="line"><span class="lineno"> 7744</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a7dc0d9a8f5a3ecd19284c6d9f900b2cc">numsurfedges</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 7745</span>        <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aeac46ea79001b7f0f00a45b53985d688">surfedges</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7746</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="adbce3848e4cbaea8abb4cb2aeb04be6f" name="adbce3848e4cbaea8abb4cb2aeb04be6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbce3848e4cbaea8abb4cb2aeb04be6f">&#9670;&#160;</a></span>Mod_VBSP_LoadTexinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_LoadTexinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07775">7775</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7776</span>{</div>
<div class="line"><span class="lineno"> 7777</span>    <a class="code hl_struct" href="structmtexinfo__t.html">mtexinfo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 7778</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a>;</div>
<div class="line"><span class="lineno"> 7779</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 72;</div>
<div class="line"><span class="lineno"> 7780</span> </div>
<div class="line"><span class="lineno"> 7781</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 7782</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadTexinfo: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7783</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 7784</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmtexinfo__t.html">mtexinfo_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> * <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 7785</span> </div>
<div class="line"><span class="lineno"> 7786</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#adc62b470ffd61285037e59be30276fb1">texinfo</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 7787</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#aff0576ea4099788abf85b48997a7dc0c">numtexinfo</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 7788</span> </div>
<div class="line"><span class="lineno"> 7789</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 7790</span>    {</div>
<div class="line"><span class="lineno"> 7791</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 7792</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 4;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 7793</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;vecs[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>][<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7794</span> </div>
<div class="line"><span class="lineno"> 7795</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a> &lt; 2;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">k</a>++)</div>
<div class="line"><span class="lineno"> 7796</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; 4;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 7797</span>                <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>); <span class="comment">// TODO lightmapVecs</span></div>
<div class="line"><span class="lineno"> 7798</span> </div>
<div class="line"><span class="lineno"> 7799</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q1flags = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7800</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a> = <a class="code hl_function" href="com__msg_8c.html#a9bfb753f583f2009b3ca2e91a127a847">MSG_ReadLittleLong</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7801</span> </div>
<div class="line"><span class="lineno"> 7802</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;q1flags &amp; <a class="code hl_define" href="bspfile_8h.html#a1f19afba837340ece1548dee6c80cebf">TEX_SPECIAL</a>)</div>
<div class="line"><span class="lineno"> 7803</span>        {</div>
<div class="line"><span class="lineno"> 7804</span>            <span class="comment">// if texture chosen is NULL or the shader needs a lightmap,</span></div>
<div class="line"><span class="lineno"> 7805</span>            <span class="comment">// force to notexture water shader</span></div>
<div class="line"><span class="lineno"> 7806</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> - 1;</div>
<div class="line"><span class="lineno"> 7807</span>        }</div>
<div class="line"><span class="lineno"> 7808</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 7809</span>        {</div>
<div class="line"><span class="lineno"> 7810</span>            <span class="comment">// if texture chosen is NULL, force to notexture</span></div>
<div class="line"><span class="lineno"> 7811</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex = <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a> - 2;</div>
<div class="line"><span class="lineno"> 7812</span>        }</div>
<div class="line"><span class="lineno"> 7813</span>        <span class="comment">// see if the specified miptex is valid and try to use it instead</span></div>
<div class="line"><span class="lineno"> 7814</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#ac30e13239504da645c5e835eef8f559e">data_textures</a>)</div>
<div class="line"><span class="lineno"> 7815</span>        {</div>
<div class="line"><span class="lineno"> 7816</span>            <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a> &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>)</div>
<div class="line"><span class="lineno"> 7817</span>                <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;error in model \&quot;%s\&quot;: invalid miptex index %i(of %i)\n&quot;</span>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a>, <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#abbf1bba30697f7bf6cfb28c79adfefe6">num_textures</a>);</div>
<div class="line"><span class="lineno"> 7818</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 7819</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;textureindex = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">miptex</a>;</div>
<div class="line"><span class="lineno"> 7820</span>        }</div>
<div class="line"><span class="lineno"> 7821</span>    }</div>
<div class="line"><span class="lineno"> 7822</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="aff391bd0f21f8aa2c6fd84a44f4060a1" name="aff391bd0f21f8aa2c6fd84a44f4060a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff391bd0f21f8aa2c6fd84a44f4060a1">&#9670;&#160;</a></span>Mod_VBSP_LoadTextures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_LoadTextures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07748">7748</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7749</span>{</div>
<div class="line"><span class="lineno"> 7750</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;Mod_VBSP_LoadTextures: Don&#39;t know how to do this yet\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 7751</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="a932482614d5e59190631e65477a3e1a4" name="a932482614d5e59190631e65477a3e1a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a932482614d5e59190631e65477a3e1a4">&#9670;&#160;</a></span>Mod_VBSP_LoadVertexes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> Mod_VBSP_LoadVertexes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsizebuf__t.html">sizebuf_t</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l07681">7681</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7682</span>{</div>
<div class="line"><span class="lineno"> 7683</span>    <a class="code hl_struct" href="structmvertex__t.html">mvertex_t</a>   *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 7684</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 7685</span>    <span class="keywordtype">int</span>         <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a> = 12;</div>
<div class="line"><span class="lineno"> 7686</span> </div>
<div class="line"><span class="lineno"> 7687</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize % <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>)</div>
<div class="line"><span class="lineno"> 7688</span>        <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;Mod_VBSP_LoadVertexes: funny lump size in %s&quot;</span>,<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#aad0f2d9471f7d761be5fe5d23d9bbd20">name</a>);</div>
<div class="line"><span class="lineno"> 7689</span>    <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>-&gt;cursize / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">structsize</a>;</div>
<div class="line"><span class="lineno"> 7690</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a> = (<a class="code hl_struct" href="structmvertex__t.html">mvertex_t</a> *)<a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a89acb0870888d15e8a405ba84bd6e611">mempool</a>, <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>*<span class="keyword">sizeof</span>(*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>));</div>
<div class="line"><span class="lineno"> 7691</span> </div>
<div class="line"><span class="lineno"> 7692</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a0f37e90f1862c9db1de9293604fcbf64">vertexes</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>;</div>
<div class="line"><span class="lineno"> 7693</span>    <a class="code hl_variable" href="model__shared_8c.html#a3a2900957b32c3fef225d35df5f3c727">loadmodel</a>-&gt;<a class="code hl_variable" href="structmodel__t.html#a53c32e4598e37e8256175c6112425af1">brushq1</a>.<a class="code hl_variable" href="structmodel__brushq1__t.html#a676d83f3f4bdedf774fd8b2d52f34946">numvertexes</a> = <a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a>;</div>
<div class="line"><span class="lineno"> 7694</span> </div>
<div class="line"><span class="lineno"> 7695</span>    <span class="keywordflow">for</span> ( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code hl_variable" href="glquake_8h.html#a51af0e2e7aa22f9dc0c188ee8baa7a11">count</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>++)</div>
<div class="line"><span class="lineno"> 7696</span>    {</div>
<div class="line"><span class="lineno"> 7697</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;position[0] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7698</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;position[1] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7699</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>-&gt;position[2] = <a class="code hl_function" href="com__msg_8c.html#a4a078e2e4eeda5096afb0d257d23912d">MSG_ReadLittleFloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sb</a>);</div>
<div class="line"><span class="lineno"> 7700</span>    }</div>
<div class="line"><span class="lineno"> 7701</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08096">Mod_VBSP_Load()</a>.</p>

</div>
</div>
<a id="ac1dea715ec143b1c7bb9232d12a2514b" name="ac1dea715ec143b1c7bb9232d12a2514b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1dea715ec143b1c7bb9232d12a2514b">&#9670;&#160;</a></span>RemovePortalFromNodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> RemovePortalFromNodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structportal__t.html">portal_t</a> *&#160;</td>
          <td class="paramname"><em>portal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03554">3554</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3555</span>{</div>
<div class="line"><span class="lineno"> 3556</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3557</span>    <a class="code hl_struct" href="structmnode__t.html">mnode_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>;</div>
<div class="line"><span class="lineno"> 3558</span>    <span class="keywordtype">void</span> **<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalpointer</a>;</div>
<div class="line"><span class="lineno"> 3559</span>    <a class="code hl_struct" href="structportal__t.html">portal_t</a> *t;</div>
<div class="line"><span class="lineno"> 3560</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 3561</span>    {</div>
<div class="line"><span class="lineno"> 3562</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno"> 3563</span> </div>
<div class="line"><span class="lineno"> 3564</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalpointer</a> = (<span class="keywordtype">void</span> **) &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>-&gt;<a class="code hl_variable" href="structmnode__t.html#a6800a221c2bbbe96d5babad757a1178b">portals</a>;</div>
<div class="line"><span class="lineno"> 3565</span>        <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno"> 3566</span>        {</div>
<div class="line"><span class="lineno"> 3567</span>            t = (<a class="code hl_struct" href="structportal__t.html">portal_t</a> *)*<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalpointer</a>;</div>
<div class="line"><span class="lineno"> 3568</span>            <span class="keywordflow">if</span> (!t)</div>
<div class="line"><span class="lineno"> 3569</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;RemovePortalFromNodes: portal not in leaf&quot;</span>);</div>
<div class="line"><span class="lineno"> 3570</span> </div>
<div class="line"><span class="lineno"> 3571</span>            <span class="keywordflow">if</span> (t == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>)</div>
<div class="line"><span class="lineno"> 3572</span>            {</div>
<div class="line"><span class="lineno"> 3573</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[0] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</div>
<div class="line"><span class="lineno"> 3574</span>                {</div>
<div class="line"><span class="lineno"> 3575</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalpointer</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;next[0];</div>
<div class="line"><span class="lineno"> 3576</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[0] = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3577</span>                }</div>
<div class="line"><span class="lineno"> 3578</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[1] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</div>
<div class="line"><span class="lineno"> 3579</span>                {</div>
<div class="line"><span class="lineno"> 3580</span>                    *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalpointer</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;next[1];</div>
<div class="line"><span class="lineno"> 3581</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a>-&gt;nodes[1] = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 3582</span>                }</div>
<div class="line"><span class="lineno"> 3583</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3584</span>                    <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;RemovePortalFromNodes: portal not bounding leaf&quot;</span>);</div>
<div class="line"><span class="lineno"> 3585</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3586</span>            }</div>
<div class="line"><span class="lineno"> 3587</span> </div>
<div class="line"><span class="lineno"> 3588</span>            <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[0] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</div>
<div class="line"><span class="lineno"> 3589</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalpointer</a> = (<span class="keywordtype">void</span> **) &amp;t-&gt;<a class="code hl_variable" href="structportal__t.html#ad939f81b378c80bbfd869cc6860c892b">next</a>[0];</div>
<div class="line"><span class="lineno"> 3590</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;<a class="code hl_variable" href="structportal__t.html#a69101c9864756778f5157f7d81d92c37">nodes</a>[1] == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a>)</div>
<div class="line"><span class="lineno"> 3591</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portalpointer</a> = (<span class="keywordtype">void</span> **) &amp;t-&gt;<a class="code hl_variable" href="structportal__t.html#ad939f81b378c80bbfd869cc6860c892b">next</a>[1];</div>
<div class="line"><span class="lineno"> 3592</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3593</span>                <a class="code hl_function" href="host_8c.html#a6207a721d43b13be42aa21a2bb4d3350">Host_Error</a>(<span class="stringliteral">&quot;RemovePortalFromNodes: portal not bounding leaf&quot;</span>);</div>
<div class="line"><span class="lineno"> 3594</span>        }</div>
<div class="line"><span class="lineno"> 3595</span>    }</div>
<div class="line"><span class="lineno"> 3596</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03602">Mod_BSP_RecursiveNodePortals()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ada114ab9ac14d4164089d1652a502f2c" name="ada114ab9ac14d4164089d1652a502f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada114ab9ac14d4164089d1652a502f2c">&#9670;&#160;</a></span>gl_max_lightmapsize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> gl_max_lightmapsize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gl__textures_8c_source.html#l00028">28</a> of file <a class="el" href="gl__textures_8c_source.html">gl_textures.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;gl_max_lightmapsize&quot;</span>, <span class="stringliteral">&quot;512&quot;</span>, <span class="stringliteral">&quot;maximum allowed texture size for lightmap textures, use larger values to improve rendering speed, as long as there is enough video memory available (setting it too high for the hardware will cause very bad performance)&quot;</span>};</div>
<div class="ttc" id="acmd_8h_html_aeeecb68995736ab90434173e64fd14e5"><div class="ttname"><a href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a></div><div class="ttdeci">#define CF_ARCHIVE</div><div class="ttdoc">cvar should have its set value saved to config.cfg and persist across sessions</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00053">cmd.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l02560">Mod_Q1BSP_LoadFaces()</a>, <a class="el" href="model__brush_8c_source.html#l07824">Mod_VBSP_LoadFaces()</a>, and <a class="el" href="gl__textures_8c_source.html#l00720">R_Textures_Init()</a>.</p>

</div>
</div>
<a id="a391c56aad79c870bd52702ab037bf5f3" name="a391c56aad79c870bd52702ab037bf5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391c56aad79c870bd52702ab037bf5f3">&#9670;&#160;</a></span>mod_bsp_portalize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_bsp_portalize = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_bsp_portalize&quot;, &quot;1&quot;, &quot;enables <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">generation</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">BSP</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tree</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">may</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">take</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">several</a> <a class="el" href="crypto-keygen-standalone_8c.html#a80e55751b5189962ec3ce0f0a764772b">seconds</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> map), used <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="gl__rmain_8c.html#a70983447125bcf394ff82180020aa42b">r_drawportals</a>, <a class="el" href="gl__rsurf_8c.html#a66aa746acaa20ce0ce82b02779e39238">r_useportalculling</a>, <a class="el" href="r__shadow_8c.html#ac41307501be00f584997e2b3d255c5d4">r_shadow_realtime_dlight_portalculling</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">r_shadow_realtime_world_compileportalculling&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00066">66</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_bsp_portalize&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables portal generation from BSP tree (may take several seconds per map), used by r_drawportals, r_useportalculling, r_shadow_realtime_dlight_portalculling, r_shadow_realtime_world_compileportalculling&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l04822">Mod_Q2BSP_Load()</a>, and <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>.</p>

</div>
</div>
<a id="a6a90d29a2909b3cbae37702ff37a32cf" name="a6a90d29a2909b3cbae37702ff37a32cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a90d29a2909b3cbae37702ff37a32cf">&#9670;&#160;</a></span>mod_noshader_default_offsetmapping</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_noshader_default_offsetmapping = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_noshader_default_offsetmapping&quot;, &quot;1&quot;, &quot;use offsetmapping <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">default</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">are</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q3</a> shader <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">files&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00051">51</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;mod_noshader_default_offsetmapping&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;use offsetmapping by default on all surfaces that are not using q3 shader files&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__shared_8c_source.html#l02653">Mod_LoadCustomMaterial()</a>, and <a class="el" href="model__shared_8c_source.html#l02270">Mod_LoadTextureFromQ3Shader()</a>.</p>

</div>
</div>
<a id="afb66a8936f34a990e2385c092115ef3c" name="afb66a8936f34a990e2385c092115ef3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb66a8936f34a990e2385c092115ef3c">&#9670;&#160;</a></span>mod_obj_orientation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_obj_orientation = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_obj_orientation&quot;, &quot;1&quot;, &quot;fix orientation <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">OBJ</a> <a class="el" href="model__shared_8c.html#a7ff8405e122ded38c33c66249c7a4b04">models</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">usual</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">conventions</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">if</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">zero</a>, use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coordinates</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00069">69</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_obj_orientation&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;fix orientation of OBJ models to the usual conventions (if zero, use coordinates as is)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__shared_8c_source.html#l03033">Mod_Decompile_OBJ()</a>, and <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>.</p>

</div>
</div>
<a id="ae0b65a206ef2c1bbdebf041ce37adfad" name="ae0b65a206ef2c1bbdebf041ce37adfad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b65a206ef2c1bbdebf041ce37adfad">&#9670;&#160;</a></span>mod_q1bsp_polygoncollisions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q1bsp_polygoncollisions = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q1bsp_polygoncollisions&quot;, &quot;0&quot;, &quot;disables use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">precomputed</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliphulls</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">instead</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collides</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">polygons</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">uses</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Bounding</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Interval</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Hierarchy</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">optimizations</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00063">63</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q1bsp_polygoncollisions&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;disables use of precomputed cliphulls and instead collides with polygons (uses Bounding Interval Hierarchy optimizations)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l03880">Mod_Q1BSP_Load()</a>.</p>

</div>
</div>
<a id="a798b11b47ef2a1aa05deacd3f1180422" name="a798b11b47ef2a1aa05deacd3f1180422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798b11b47ef2a1aa05deacd3f1180422">&#9670;&#160;</a></span>mod_q1bsp_texture_lava</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtexture__t.html">texture_t</a> mod_q1bsp_texture_lava</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00073">73</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>, and <a class="el" href="model__brush_8c_source.html#l00685">Mod_Q1BSP_RecursiveHullCheck()</a>.</p>

</div>
</div>
<a id="a13dbd03d7dc32c52f9ed6828b46632db" name="a13dbd03d7dc32c52f9ed6828b46632db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13dbd03d7dc32c52f9ed6828b46632db">&#9670;&#160;</a></span>mod_q1bsp_texture_sky</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtexture__t.html">texture_t</a> mod_q1bsp_texture_sky</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00072">72</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>, and <a class="el" href="model__brush_8c_source.html#l00685">Mod_Q1BSP_RecursiveHullCheck()</a>.</p>

</div>
</div>
<a id="a9bbf3b106367456b4a17e45a6d43bca5" name="a9bbf3b106367456b4a17e45a6d43bca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bbf3b106367456b4a17e45a6d43bca5">&#9670;&#160;</a></span>mod_q1bsp_texture_slime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtexture__t.html">texture_t</a> mod_q1bsp_texture_slime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00074">74</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>, and <a class="el" href="model__brush_8c_source.html#l00685">Mod_Q1BSP_RecursiveHullCheck()</a>.</p>

</div>
</div>
<a id="a40de04e418ff6bc94e72b734af93f959" name="a40de04e418ff6bc94e72b734af93f959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40de04e418ff6bc94e72b734af93f959">&#9670;&#160;</a></span>mod_q1bsp_texture_solid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtexture__t.html">texture_t</a> mod_q1bsp_texture_solid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00071">71</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>, <a class="el" href="model__brush_8c_source.html#l00685">Mod_Q1BSP_RecursiveHullCheck()</a>, <a class="el" href="model__brush_8c_source.html#l04683">Mod_Q2BSP_LoadBrushes()</a>, and <a class="el" href="model__brush_8c_source.html#l04648">Mod_Q2BSP_LoadBrushSides()</a>.</p>

</div>
</div>
<a id="ae2087fc3011df59ce59055fbc965bae3" name="ae2087fc3011df59ce59055fbc965bae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2087fc3011df59ce59055fbc965bae3">&#9670;&#160;</a></span>mod_q1bsp_texture_water</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtexture__t.html">texture_t</a> mod_q1bsp_texture_water</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00075">75</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>, and <a class="el" href="model__brush_8c_source.html#l00685">Mod_Q1BSP_RecursiveHullCheck()</a>.</p>

</div>
</div>
<a id="ac91b1224b81a803f43adf67155fe0bbb" name="ac91b1224b81a803f43adf67155fe0bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91b1224b81a803f43adf67155fe0bbb">&#9670;&#160;</a></span>mod_q1bsp_zero_hullsize_cutoff</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q1bsp_zero_hullsize_cutoff = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q1bsp_zero_hullsize_cutoff&quot;, &quot;3&quot;, &quot;bboxes <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">an</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">X</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dimension</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smaller</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smallest</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliphull</a> (0x0x0) <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">instead</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">being</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rounded</a> <a class="el" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">player</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliphull</a> (32<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x32x56</a>) in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Q1BSP</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">or</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crouching</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">player</a> (32<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x32x36</a>) in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">HLBSP&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00064">64</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q1bsp_zero_hullsize_cutoff&quot;</span>, <span class="stringliteral">&quot;3&quot;</span>, <span class="stringliteral">&quot;bboxes with an X dimension smaller than this will use the smallest cliphull (0x0x0) instead of being rounded up to the player cliphull (32x32x56) in Q1BSP, or crouching player (32x32x36) in HLBSP&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l03825">Mod_Q1BSP_RoundUpToHullSize()</a>, and <a class="el" href="model__brush_8c_source.html#l00953">Mod_Q1BSP_TraceBox()</a>.</p>

</div>
</div>
<a id="a4be417cadbf6c9b911c7db3e34a56c91" name="a4be417cadbf6c9b911c7db3e34a56c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be417cadbf6c9b911c7db3e34a56c91">&#9670;&#160;</a></span>mod_q2bsp_littransparentsurfaces</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q2bsp_littransparentsurfaces = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q2bsp_littransparentsurfaces&quot;, &quot;0&quot;, &quot;allows lighting <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rain</a> in 3<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">v3gloom3</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">and</a> other <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cases</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transparent</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">have</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">were</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ignored</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quake2&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00061">61</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q2bsp_littransparentsurfaces&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;allows lighting on rain in 3v3gloom3 and other cases of transparent surfaces that have lightmaps that were ignored by quake2&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l04350">Mod_Q2BSP_LoadTexinfo()</a>.</p>

</div>
</div>
<a id="abe9f2e61643f66842fb9bcaee9bbad03" name="abe9f2e61643f66842fb9bcaee9bbad03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe9f2e61643f66842fb9bcaee9bbad03">&#9670;&#160;</a></span>mod_q3bsp_curves_collisions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_curves_collisions = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_collisions&quot;, &quot;1&quot;, &quot;enables <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collisions</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">SLOW</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00042">42</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q3bsp_curves_collisions&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables collisions with curves (SLOW)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l06971">Mod_CollisionBIH_TraceBrush()</a>, and <a class="el" href="model__brush_8c_source.html#l06833">Mod_CollisionBIH_TraceLineShared()</a>.</p>

</div>
</div>
<a id="a12f451c875a0fff37acefa16c02a8675" name="a12f451c875a0fff37acefa16c02a8675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12f451c875a0fff37acefa16c02a8675">&#9670;&#160;</a></span>mod_q3bsp_curves_subdivisions_maxtess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_curves_subdivisions_maxtess = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_subdivisions_maxtess&quot;, &quot;1024&quot;, &quot;maximum number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivisions</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collision</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevents</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">beyond</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">certain</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">detail</a> <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limits</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smoothing</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00040">40</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q3bsp_curves_subdivisions_maxtess&quot;</span>, <span class="stringliteral">&quot;1024&quot;</span>, <span class="stringliteral">&quot;maximum number of subdivisions for collision purposes (prevents curves beyond a certain detail level, limits smoothing)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05783">Mod_Q3BSP_LoadFaces()</a>.</p>

</div>
</div>
<a id="a1d9e359efa27457637ff9add808b971c" name="a1d9e359efa27457637ff9add808b971c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d9e359efa27457637ff9add808b971c">&#9670;&#160;</a></span>mod_q3bsp_curves_subdivisions_maxvertices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_curves_subdivisions_maxvertices = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_subdivisions_maxvertices&quot;, &quot;4225&quot;, &quot;maximum <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allowed</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivided</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curve</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collision</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00041">41</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q3bsp_curves_subdivisions_maxvertices&quot;</span>, <span class="stringliteral">&quot;4225&quot;</span>, <span class="stringliteral">&quot;maximum vertices allowed per subdivided curve for collision purposes&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05783">Mod_Q3BSP_LoadFaces()</a>.</p>

</div>
</div>
<a id="a722fa06637534ed172979d9efdc1edfa" name="a722fa06637534ed172979d9efdc1edfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722fa06637534ed172979d9efdc1edfa">&#9670;&#160;</a></span>mod_q3bsp_curves_subdivisions_mintess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_curves_subdivisions_mintess = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_subdivisions_mintess&quot;, &quot;0&quot;, &quot;minimum number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivisions</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collision</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">above</a> 0 <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smooth</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">don</a>'t <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">need</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00039">39</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q3bsp_curves_subdivisions_mintess&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;minimum number of subdivisions for collision purposes (values above 0 will smooth curves that don&#39;t need it)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05783">Mod_Q3BSP_LoadFaces()</a>.</p>

</div>
</div>
<a id="a7ed843bf3dc52e2c5c803ac13eb27d02" name="a7ed843bf3dc52e2c5c803ac13eb27d02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed843bf3dc52e2c5c803ac13eb27d02">&#9670;&#160;</a></span>mod_q3bsp_curves_subdivisions_tolerance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_curves_subdivisions_tolerance = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_curves_subdivisions_tolerance&quot;, &quot;15&quot;, &quot;maximum error <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolerance</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curve</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivision</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">collision</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">usually</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">larger</a> error <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolerance</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendering</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00038">38</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q3bsp_curves_subdivisions_tolerance&quot;</span>, <span class="stringliteral">&quot;15&quot;</span>, <span class="stringliteral">&quot;maximum error tolerance on curve subdivision for collision purposes (usually a larger error tolerance than for rendering)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05783">Mod_Q3BSP_LoadFaces()</a>.</p>

</div>
</div>
<a id="ab60dd7086b57b436ec3f6b38b85053dd" name="ab60dd7086b57b436ec3f6b38b85053dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab60dd7086b57b436ec3f6b38b85053dd">&#9670;&#160;</a></span>mod_q3bsp_lightgrid_bsp_surfaces</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_lightgrid_bsp_surfaces = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3bsp_lightgrid_bsp_surfaces&quot;, &quot;0&quot;, &quot;apply <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgrid</a> lighting to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bsp</a> <a class="el" href="model__shared_8c.html#a7ff8405e122ded38c33c66249c7a4b04">models</a> other <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> world <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rather</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">their</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">experimental</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">debug</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tool</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00050">50</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   50</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3bsp_lightgrid_bsp_surfaces&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;apply lightgrid lighting to bsp models other than the world rather than using their lightmaps (experimental/debug tool)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l02644">CL_UpdateEntityShading_Entity()</a>, and <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>.</p>

</div>
</div>
<a id="a7be57207f43c552586a464adfa683162" name="a7be57207f43c552586a464adfa683162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7be57207f43c552586a464adfa683162">&#9670;&#160;</a></span>mod_q3bsp_lightgrid_texture</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_lightgrid_texture = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3bsp_lightgrid_texture&quot;, &quot;1&quot;, &quot;directly <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">apply</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgrid</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">global</a> <a class="el" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rather</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">only</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reading</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">at</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> entity <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">origin&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00048">48</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3bsp_lightgrid_texture&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;directly apply the lightgrid as a global texture rather than only reading it at the entity origin&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l02644">CL_UpdateEntityShading_Entity()</a>, <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l06419">Mod_Q3BSP_LoadLightGrid()</a>.</p>

</div>
</div>
<a id="a4c46bdcefa7955db6648bdee421f7a1c" name="a4c46bdcefa7955db6648bdee421f7a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c46bdcefa7955db6648bdee421f7a1c">&#9670;&#160;</a></span>mod_q3bsp_lightgrid_world_surfaces</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_lightgrid_world_surfaces = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3bsp_lightgrid_world_surfaces&quot;, &quot;0&quot;, &quot;apply <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightgrid</a> lighting to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> world <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bsp</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">geometry</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rather</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">experimental</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">debug</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tool</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00049">49</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   49</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3bsp_lightgrid_world_surfaces&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;apply lightgrid lighting to the world bsp geometry rather than using lightmaps (experimental/debug tool)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cl__main_8c_source.html#l02644">CL_UpdateEntityShading_Entity()</a>, and <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>.</p>

</div>
</div>
<a id="a6528b0a888ca229c2a6efab1a9c613e8" name="a6528b0a888ca229c2a6efab1a9c613e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6528b0a888ca229c2a6efab1a9c613e8">&#9670;&#160;</a></span>mod_q3bsp_lightmapmergepower</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_lightmapmergepower = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3bsp_lightmapmergepower&quot;, &quot;4&quot;, &quot;merges <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">quake3</a> 128<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x128</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> <a class="el" href="glquake_8h.html#afe64ba8692ed29b0538cc05eadf3b9bb">textures</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">into</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">larger</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmap</a> group <a class="el" href="glquake_8h.html#afe64ba8692ed29b0538cc05eadf3b9bb">textures</a> to speed <a class="el" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendering</a>, 1 = 256<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x256</a>, 2 = 512<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x512</a>, 3 = 1024<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x1024</a>, 4 = 2048<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x2048</a>, 5 = 4096<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">x4096</a>, ...&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00044">44</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;mod_q3bsp_lightmapmergepower&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;merges the quake3 128x128 lightmap textures into larger lightmap group textures to speed up rendering, 1 = 256x256, 2 = 512x512, 3 = 1024x1024, 4 = 2048x2048, 5 = 4096x4096, ...&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05493">Mod_Q3BSP_LoadLightmaps()</a>.</p>

</div>
</div>
<a id="a78fb22b957e64a3049781239ee353d70" name="a78fb22b957e64a3049781239ee353d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78fb22b957e64a3049781239ee353d70">&#9670;&#160;</a></span>mod_q3bsp_nolightmaps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_nolightmaps = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3bsp_nolightmaps&quot;, &quot;0&quot;, &quot;do <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">not</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">load</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Q3BSP</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a> (to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">save</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">RAM</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">but</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">warned:</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">looks</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ugly</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00045">45</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;mod_q3bsp_nolightmaps&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;do not load lightmaps in Q3BSP maps (to save video RAM, but be warned: it looks ugly)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__shared_8c_source.html#l04407">Mod_GenerateLightmaps()</a>, and <a class="el" href="model__brush_8c_source.html#l05493">Mod_Q3BSP_LoadLightmaps()</a>.</p>

</div>
</div>
<a id="acba7bb4a4ae9aea271029413e66152b8" name="acba7bb4a4ae9aea271029413e66152b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba7bb4a4ae9aea271029413e66152b8">&#9670;&#160;</a></span>mod_q3bsp_optimizedtraceline</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_optimizedtraceline = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_optimizedtraceline&quot;, &quot;1&quot;, &quot;whether to use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">optimized</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceline</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">code</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traces</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">opposed</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tracebox</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">code</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00043">43</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q3bsp_optimizedtraceline&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;whether to use optimized traceline code for line traces (as opposed to tracebox code)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l06971">Mod_CollisionBIH_TraceBrush()</a>.</p>

</div>
</div>
<a id="a9260109f82a8e564ade6ada3c0488831" name="a9260109f82a8e564ade6ada3c0488831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9260109f82a8e564ade6ada3c0488831">&#9670;&#160;</a></span>mod_q3bsp_sRGBlightmaps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_sRGBlightmaps = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3bsp_sRGBlightmaps&quot;, &quot;0&quot;, &quot;treat <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lightmaps</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">from</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">Q3</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maps</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sRGB</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="vid_8h.html#a8ab304e584e1c03541779460325d0529">vid_sRGB</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">active&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00047">47</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3bsp_sRGBlightmaps&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;treat lightmaps from Q3 maps as sRGB when vid_sRGB is active&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l07405">Mod_Q3BSP_Load()</a>, <a class="el" href="model__brush_8c_source.html#l06419">Mod_Q3BSP_LoadLightGrid()</a>, <a class="el" href="model__brush_8c_source.html#l05493">Mod_Q3BSP_LoadLightmaps()</a>, and <a class="el" href="model__brush_8c_source.html#l05391">Mod_Q3BSP_LoadVertices()</a>.</p>

</div>
</div>
<a id="a977afe81d17987198f3300477166cb0b" name="a977afe81d17987198f3300477166cb0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a977afe81d17987198f3300477166cb0b">&#9670;&#160;</a></span>mod_q3bsp_tracelineofsight_brushes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3bsp_tracelineofsight_brushes = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_q3bsp_tracelineofsight_brushes&quot;, &quot;0&quot;, &quot;enables <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">culling</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> entities <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">behind</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">detail</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">brushes</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">etc&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00046">46</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_q3bsp_tracelineofsight_brushes&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;enables culling of entities behind detail brushes, curves, etc&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l06748">Mod_Q3BSP_TraceLineOfSight()</a>.</p>

</div>
</div>
<a id="ab6d45f381afbd7c8c9959eac47a44cc6" name="ab6d45f381afbd7c8c9959eac47a44cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6d45f381afbd7c8c9959eac47a44cc6">&#9670;&#160;</a></span>mod_q3shader_default_offsetmapping</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3shader_default_offsetmapping = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3shader_default_offsetmapping&quot;, &quot;1&quot;, &quot;use offsetmapping <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">default</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">all</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">surfaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">are</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">using</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q3</a> shader <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">files&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00052">52</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   52</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;mod_q3shader_default_offsetmapping&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;use offsetmapping by default on all surfaces that are using q3 shader files&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>.</p>

</div>
</div>
<a id="a9eb6a9818cb417d26aa0ad5fb8f8317a" name="a9eb6a9818cb417d26aa0ad5fb8f8317a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb6a9818cb417d26aa0ad5fb8f8317a">&#9670;&#160;</a></span>mod_q3shader_default_offsetmapping_bias</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3shader_default_offsetmapping_bias = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3shader_default_offsetmapping_bias&quot;, &quot;0&quot;, &quot;default <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bias</a> used <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetmapping&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00054">54</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;mod_q3shader_default_offsetmapping_bias&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;default bias used for offsetmapping&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>.</p>

</div>
</div>
<a id="a7f00470ea93c0f84375f173474a7eecd" name="a7f00470ea93c0f84375f173474a7eecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f00470ea93c0f84375f173474a7eecd">&#9670;&#160;</a></span>mod_q3shader_default_offsetmapping_scale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3shader_default_offsetmapping_scale = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, &quot;mod_q3shader_default_offsetmapping_scale&quot;, &quot;1&quot;, &quot;default scale used <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">offsetmapping&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00053">53</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;mod_q3shader_default_offsetmapping_scale&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;default scale used for offsetmapping&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>.</p>

</div>
</div>
<a id="a5c53c9f45678f786c4d69e9de5a9f867" name="a5c53c9f45678f786c4d69e9de5a9f867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c53c9f45678f786c4d69e9de5a9f867">&#9670;&#160;</a></span>mod_q3shader_default_polygonfactor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3shader_default_polygonfactor = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_default_polygonfactor&quot;, &quot;0&quot;, &quot;biases <a class="el" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> 'polygonoffset' <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shaders</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevent</a> <a class="el" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>-<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fighting</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">artifacts&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00055">55</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3shader_default_polygonfactor&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;biases depth values of &#39;polygonoffset&#39; shaders to prevent z-fighting artifacts&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>.</p>

</div>
</div>
<a id="a9bec9df854f7b675fcc53c8107d07fb1" name="a9bec9df854f7b675fcc53c8107d07fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bec9df854f7b675fcc53c8107d07fb1">&#9670;&#160;</a></span>mod_q3shader_default_polygonoffset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3shader_default_polygonoffset = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_default_polygonoffset&quot;, &quot;-2&quot;, &quot;biases <a class="el" href="glquake_8h.html#a648a40c6e970071a8c8cadcc0f798ba4">depth</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> 'polygonoffset' <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shaders</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevent</a> <a class="el" href="glquake_8h.html#a0462a1894bf0c9123d1e81d1234b62fc">z</a>-<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fighting</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">artifacts&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00056">56</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3shader_default_polygonoffset&quot;</span>, <span class="stringliteral">&quot;-2&quot;</span>, <span class="stringliteral">&quot;biases depth values of &#39;polygonoffset&#39; shaders to prevent z-fighting artifacts&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>.</p>

</div>
</div>
<a id="afd3d52aa21b8bb25950df31b101c10b4" name="afd3d52aa21b8bb25950df31b101c10b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd3d52aa21b8bb25950df31b101c10b4">&#9670;&#160;</a></span>mod_q3shader_default_refractive_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3shader_default_refractive_index = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_default_refractive_index&quot;, &quot;1.33&quot;, &quot;angle <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">refraction</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">specified</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="fractalnoise_8c.html#a86fdeed0593c5e3b95d1f2447350ca96">n</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">apply</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">when</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">photon</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">is</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">refracted</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">example</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">are:</a> 1.0003 = <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">air</a>, water = 1.333, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">crown</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glass</a> = 1.517, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">flint</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">glass</a> = 1.655, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">diamond</a> = 2.417&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00057">57</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3shader_default_refractive_index&quot;</span>, <span class="stringliteral">&quot;1.33&quot;</span>, <span class="stringliteral">&quot;angle of refraction specified as n to apply when a photon is refracted, example values are: 1.0003 = air, water = 1.333, crown glass = 1.517, flint glass = 1.655, diamond = 2.417&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__shared_8c_source.html#l02270">Mod_LoadTextureFromQ3Shader()</a>, and <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>.</p>

</div>
</div>
<a id="a225a2689c7f8a4f64afd0f7f82ac8c6e" name="a225a2689c7f8a4f64afd0f7f82ac8c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a225a2689c7f8a4f64afd0f7f82ac8c6e">&#9670;&#160;</a></span>mod_q3shader_force_addalpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3shader_force_addalpha = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_force_addalpha&quot;, &quot;0&quot;, &quot;treat <a class="el" href="glquake_8h.html#aa92fae02a274fe856dad3362144f84dd">GL_ONE</a> <a class="el" href="glquake_8h.html#aa92fae02a274fe856dad3362144f84dd">GL_ONE</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">or</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">add</a>) blendfunc <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#a51e6c75d54b3a9fb93fbc880463c212c">GL_SRC_ALPHA</a> <a class="el" href="glquake_8h.html#aa92fae02a274fe856dad3362144f84dd">GL_ONE</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">compatibility</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">with</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">older</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">DarkPlaces</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">releases&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00058">58</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3shader_force_addalpha&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;treat GL_ONE GL_ONE (or add) blendfunc as GL_SRC_ALPHA GL_ONE for compatibility with older DarkPlaces releases&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>.</p>

</div>
</div>
<a id="aea0489ce67107ae72e326ae291e54551" name="aea0489ce67107ae72e326ae291e54551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea0489ce67107ae72e326ae291e54551">&#9670;&#160;</a></span>mod_q3shader_force_terrain_alphaflag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_q3shader_force_terrain_alphaflag = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;mod_q3shader_force_terrain_alphaflag&quot;, &quot;0&quot;, &quot;for <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">multilayered</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">terrain</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shaders</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">force</a> <a class="el" href="r__textures_8h.html#a7e88b1d25d2969b53f6e967801f991ca">TEXF_ALPHA</a> flag <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">both</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">layers&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00059">59</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;mod_q3shader_force_terrain_alphaflag&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;for multilayered terrain shaders force TEXF_ALPHA flag on both layers&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__shared_8c_source.html#l01466">Mod_LoadQ3Shaders()</a>.</p>

</div>
</div>
<a id="a8c88eeacff4de9e240deddb1f24e5b05" name="a8c88eeacff4de9e240deddb1f24e5b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c88eeacff4de9e240deddb1f24e5b05">&#9670;&#160;</a></span>mod_recalculatenodeboxes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> mod_recalculatenodeboxes = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="el" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, &quot;mod_recalculatenodeboxes&quot;, &quot;1&quot;, &quot;enables use <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="crypto-keygen-standalone_8c.html#a9bdb9c0d13ae4ae40a0de32f15bc1792">generated</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bounding</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxes</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">based</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">BSP</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tree</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">portal</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">reconstruction</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rather</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">than</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">node</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">boxes</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">supplied</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">by</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> map <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">compiler&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00067">67</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   67</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>, <span class="stringliteral">&quot;mod_recalculatenodeboxes&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;enables use of generated node bounding boxes based on BSP tree portal reconstruction, rather than the node boxes supplied by the map compiler&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l03399">Mod_BSP_FinalizePortals()</a>.</p>

</div>
</div>
<a id="abbda5b0afd9f83ba77a16e6536a3b0a9" name="abbda5b0afd9f83ba77a16e6536a3b0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbda5b0afd9f83ba77a16e6536a3b0a9">&#9670;&#160;</a></span>nobsp_pvs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a> nobsp_pvs[1] = {1}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l08199">8199</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8199</span>{1};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l08201">Mod_OBJ_Load()</a>.</p>

</div>
</div>
<a id="a0f5aebb75e69af216675eee8e12e3410" name="a0f5aebb75e69af216675eee8e12e3410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5aebb75e69af216675eee8e12e3410">&#9670;&#160;</a></span>portalarray</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmemexpandablearray__t.html">memexpandablearray_t</a> portalarray</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03378">3378</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03399">Mod_BSP_FinalizePortals()</a>, <a class="el" href="model__brush_8c_source.html#l03753">Mod_BSP_MakePortals()</a>, and <a class="el" href="model__brush_8c_source.html#l03602">Mod_BSP_RecursiveNodePortals()</a>.</p>

</div>
</div>
<a id="aa5a93035ac6c7c31cd9edc1881918f1b" name="aa5a93035ac6c7c31cd9edc1881918f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5a93035ac6c7c31cd9edc1881918f1b">&#9670;&#160;</a></span>portalpointsbuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">double</a>* portalpointsbuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03599">3599</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03753">Mod_BSP_MakePortals()</a>, and <a class="el" href="model__brush_8c_source.html#l03602">Mod_BSP_RecursiveNodePortals()</a>.</p>

</div>
</div>
<a id="a566ab79365a9f4094e230dcbbbba40f8" name="a566ab79365a9f4094e230dcbbbba40f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566ab79365a9f4094e230dcbbbba40f8">&#9670;&#160;</a></span>portalpointsbufferoffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> portalpointsbufferoffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03600">3600</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03753">Mod_BSP_MakePortals()</a>, and <a class="el" href="model__brush_8c_source.html#l03602">Mod_BSP_RecursiveNodePortals()</a>.</p>

</div>
</div>
<a id="a9e288b83e89d9aa4108c9825712fdc4f" name="a9e288b83e89d9aa4108c9825712fdc4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e288b83e89d9aa4108c9825712fdc4f">&#9670;&#160;</a></span>portalpointsbuffersize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> portalpointsbuffersize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l03601">3601</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l03753">Mod_BSP_MakePortals()</a>, and <a class="el" href="model__brush_8c_source.html#l03602">Mod_BSP_RecursiveNodePortals()</a>.</p>

</div>
</div>
<a id="abb7917fc21445a7234319982fa84ba1c" name="abb7917fc21445a7234319982fa84ba1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb7917fc21445a7234319982fa84ba1c">&#9670;&#160;</a></span>r_nosurftextures</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> r_nosurftextures = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_nosurftextures&quot;, &quot;0&quot;, &quot;pretends <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">there</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">was</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">no</a> <a class="el" href="glquake_8h.html#a0704dfe56dec926cb35f7bdc0834ecd0">texture</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">lump</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">found</a> in <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">q1bsp</a>/<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hlbsp</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">loading</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">useful</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">debugging</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rare</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">case</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00032">32</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   32</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_nosurftextures&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;pretends there was no texture lump found in the q1bsp/hlbsp loading (useful for debugging this rare case)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l01634">Mod_Q1BSP_LoadTextures()</a>.</p>

</div>
</div>
<a id="ac2f5bcbdde0eeff0af04664542f0ef9b" name="ac2f5bcbdde0eeff0af04664542f0ef9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f5bcbdde0eeff0af04664542f0ef9b">&#9670;&#160;</a></span>r_novis</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> r_novis = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_novis&quot;, &quot;0&quot;, &quot;draws <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">whole</a> <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">see</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">also</a> <a class="el" href="server_8h.html#a4c3b7f9930e167151186ff65e582bd57">sv_cullentities_pvs</a> 0&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00031">31</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_novis&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;draws whole level, see also sv_cullentities_pvs 0&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l03810">Mod_BSP_FatPVS()</a>, <a class="el" href="gl__rmain_8c_source.html#l06585">R_GetCurrentTexture()</a>, <a class="el" href="gl__rsurf_8c_source.html#l00436">R_View_WorldVisibility()</a>, and <a class="el" href="sv__send_8c_source.html#l00863">SV_MarkWriteEntityStateToClient()</a>.</p>

</div>
</div>
<a id="af6e5a6066a70a42b432f9f35deebf073" name="af6e5a6066a70a42b432f9f35deebf073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6e5a6066a70a42b432f9f35deebf073">&#9670;&#160;</a></span>r_subdivisions_maxtess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> r_subdivisions_maxtess = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_subdivisions_maxtess&quot;, &quot;1024&quot;, &quot;maximum number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivisions</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">prevents</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">beyond</a> <a class="el" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">certain</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">detail</a> <a class="el" href="fs_8c.html#aac6e8d3b3465804e2be1198b2a2a3143">level</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">limits</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smoothing</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00036">36</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_subdivisions_maxtess&quot;</span>, <span class="stringliteral">&quot;1024&quot;</span>, <span class="stringliteral">&quot;maximum number of subdivisions (prevents curves beyond a certain detail level, limits smoothing)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05783">Mod_Q3BSP_LoadFaces()</a>.</p>

</div>
</div>
<a id="aed121aa80abb387aa4a9c7b177d9a307" name="aed121aa80abb387aa4a9c7b177d9a307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed121aa80abb387aa4a9c7b177d9a307">&#9670;&#160;</a></span>r_subdivisions_maxvertices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> r_subdivisions_maxvertices = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_subdivisions_maxvertices&quot;, &quot;65536&quot;, &quot;maximum <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vertices</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">allowed</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">per</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivided</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curve&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00037">37</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_subdivisions_maxvertices&quot;</span>, <span class="stringliteral">&quot;65536&quot;</span>, <span class="stringliteral">&quot;maximum vertices allowed per subdivided curve&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05783">Mod_Q3BSP_LoadFaces()</a>.</p>

</div>
</div>
<a id="adf320b246049b55161c9a6a223af426e" name="adf320b246049b55161c9a6a223af426e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf320b246049b55161c9a6a223af426e">&#9670;&#160;</a></span>r_subdivisions_mintess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> r_subdivisions_mintess = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_subdivisions_mintess&quot;, &quot;0&quot;, &quot;minimum number <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">of</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivisions</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">values</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">above</a> 0 <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">smooth</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">that</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">don</a>'t <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">need</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">it</a>)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00035">35</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_subdivisions_mintess&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;minimum number of subdivisions (values above 0 will smooth curves that don&#39;t need it)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05783">Mod_Q3BSP_LoadFaces()</a>.</p>

</div>
</div>
<a id="ae3cbbf35c2258fb3bd1607d0171bb148" name="ae3cbbf35c2258fb3bd1607d0171bb148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cbbf35c2258fb3bd1607d0171bb148">&#9670;&#160;</a></span>r_subdivisions_tolerance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> r_subdivisions_tolerance = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_subdivisions_tolerance&quot;, &quot;4&quot;, &quot;maximum error <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">tolerance</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">on</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curve</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subdivision</a> <a class="el" href="shader__glsl_8h.html#a5b8048416847492c5588fff7fada734d">for</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rendering</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">purposes</a> (in other <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">words</a>, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">the</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">will</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">be</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">given</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">many</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">polygons</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">as</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">necessary</a> to <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">represent</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">curves</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">at</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">this</a> quality)&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00034">34</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   34</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_subdivisions_tolerance&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;maximum error tolerance on curve subdivision for rendering purposes (in other words, the curves will be given as many polygons as necessary to represent curves at this quality)&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, and <a class="el" href="model__brush_8c_source.html#l05783">Mod_Q3BSP_LoadFaces()</a>.</p>

</div>
</div>
<a id="ad36726f56533f8ed61f03c9bf2faa194" name="ad36726f56533f8ed61f03c9bf2faa194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36726f56533f8ed61f03c9bf2faa194">&#9670;&#160;</a></span>r_trippy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcvar__t.html">cvar_t</a> r_trippy = {<a class="el" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, &quot;r_trippy&quot;, &quot;0&quot;, &quot;easter <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">egg&quot;</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="model__brush_8c_source.html#l00029">29</a> of file <a class="el" href="model__brush_8c_source.html">model_brush.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span>{<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;r_trippy&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;easter egg&quot;</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="gl__rmain_8c_source.html#l03453">_R_CullBox()</a>, <a class="el" href="model__brush_8c_source.html#l00079">Mod_BrushInit()</a>, <a class="el" href="model__brush_8c_source.html#l03810">Mod_BSP_FatPVS()</a>, <a class="el" href="gl__rmain_8c_source.html#l08623">R_DrawTextureSurfaceList_Sky()</a>, <a class="el" href="gl__rmain_8c_source.html#l06585">R_GetCurrentTexture()</a>, <a class="el" href="gl__rmain_8c_source.html#l05645">R_RenderView()</a>, <a class="el" href="gl__rmain_8c_source.html#l01492">R_SetupShader_DepthOrShadow()</a>, <a class="el" href="gl__rmain_8c_source.html#l01460">R_SetupShader_Generic()</a>, <a class="el" href="gl__rmain_8c_source.html#l01562">R_SetupShader_Surface()</a>, <a class="el" href="r__shadow_8c_source.html#l03147">R_Shadow_ComputeShadowCasterCullingPlanes()</a>, <a class="el" href="r__shadow_8c_source.html#l02900">R_Shadow_ScissorForBBox()</a>, <a class="el" href="gl__rsurf_8c_source.html#l00411">R_View_WorldVisibility_CullSurfaces()</a>, <a class="el" href="sv__send_8c_source.html#l00863">SV_MarkWriteEntityStateToClient()</a>, and <a class="el" href="view_8c_source.html#l00968">V_MakeViewIsometric()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="model__brush_8c.html">model_brush.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
